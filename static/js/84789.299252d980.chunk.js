!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="3b145c19-7903-4e58-b9c9-10ed31b8d1a1",e._sentryDebugIdIdentifier="sentry-dbid-3b145c19-7903-4e58-b9c9-10ed31b8d1a1")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"5.5.0 (2024121652)"},(self.webpackChunkweb=self.webpackChunkweb||[]).push([[84789],{484789:(e,t,n)=>{n.r(t),n.d(t,{default:()=>m});var a=n(503668),s=n.n(a),o=n(586330),l=n(514041),r=n(908867),i=n(490343),u=n(318822),p=n(334439),c=(n(663522),n(643087)),d=n(791088),f=n(911998),g=n(831085);function EmptyGuide(){return(0,g.jsx)(i.Stack,{w:"100%",px:22,py:"$2.5",alignItems:"center",justifyContent:"center","data-sentry-element":"Stack","data-sentry-component":"EmptyGuide","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/DAppConnection/pages/DefaultWalletSettingsModal.tsx",children:(0,g.jsx)(i.Image,{w:"$80",h:341,source:n(111340),"data-sentry-element":"Image","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/DAppConnection/pages/DefaultWalletSettingsModal.tsx"})})}const m=function DefaultWalletSettingsModal(){var e,t=(0,r.A)(),{result:n,run:a}=(0,f.yk)((0,o.A)((function*(){return c.A.serviceContextMenu.getDefaultWalletSettingsWithIcon()})),[]),m=(0,l.useRef)(null);(0,l.useEffect)((function(){n&&(m.current=n)}),[n]),(0,l.useEffect)((function(){return u.iL.addListener(u.Tu.ExtensionContextMenuUpdate,a),function(){u.iL.removeListener(u.Tu.ExtensionContextMenuUpdate,a)}}),[a]);var x,y,w,k=(0,l.useCallback)((x=(0,o.A)((function*(e){yield c.A.serviceContextMenu.setIsDefaultWallet(e)})),function(e){return x.apply(this,arguments)}),[]),_=(0,l.useCallback)((function(){return new Promise((function(e,t){var n;chrome.tabs.query({active:!0,currentWindow:!0},(n=(0,o.A)((function*(n){if(n[0])try{var a,s=new URL(null!=(a=n[0]?.url)?a:"").origin;e(s)}catch(e){t(e)}})),function(e){return n.apply(this,arguments)}))}))}),[]),h=(0,l.useCallback)((y=(0,o.A)((function*(e){})),function(e){return y.apply(this,arguments)}),[_]),D=(0,l.useCallback)((0,o.A)((function*(){var e=!n?.isDefaultWallet;yield k(e),i.Toast.success({title:e?t.formatMessage({id:p.ETranslations.explore_default_wallet_set}):t.formatMessage({id:p.ETranslations.explore_default_wallet_canceled}),message:e?t.formatMessage({id:p.ETranslations.explore_set_default_wallet_description}):t.formatMessage({id:p.ETranslations.explore_default_wallet_canceled_desc})}),yield h(),setTimeout((function(){a()}),200)})),[t,h,n?.isDefaultWallet,a,k]),b=(0,l.useCallback)((w=(0,o.A)((function*(e){yield c.A.serviceContextMenu.removeExcludedDApp(e),n?.isDefaultWallet&&i.Toast.success({title:t.formatMessage({id:p.ETranslations.explore_default_wallet_set}),message:t.formatMessage({id:p.ETranslations.explore_set_default_wallet_description})}),yield h(e),a()})),function(e){return w.apply(this,arguments)}),[t,a,n?.isDefaultWallet,h]),E=(0,l.useMemo)((function(){return!("boolean"==typeof n?.isDefaultWallet&&!n.isDefaultWallet)}),[n?.isDefaultWallet]),M=(0,l.useCallback)((function({item:e}){return(0,g.jsx)(d.c,{title:new URL(e.origin).hostname,titleProps:{style:{wordBreak:"break-all"}},avatarProps:{src:e.logo,fallbackProps:{children:(0,g.jsx)(i.Skeleton,{w:"$10",h:"$10"})}},onPress:function(){return b(e.origin)},children:(0,g.jsx)(d.c.IconButton,{icon:"DeleteOutline",iconProps:{color:"$iconSubdued"}})},e.origin)}),[b]),W=(0,l.useCallback)((function(){return s()(n?.excludedDappListWithLogo)?null:0===n.excludedDappListWithLogo.length?(0,g.jsx)(EmptyGuide,{}):(0,g.jsx)(i.ListView,{keyExtractor:function(e){return e.origin},data:n.excludedDappListWithLogo,estimatedItemSize:"$10",renderItem:M})}),[n?.excludedDappListWithLogo,M]);return(0,g.jsxs)(i.Page,{"data-sentry-element":"Page","data-sentry-component":"DefaultWalletSettingsModal","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/DAppConnection/pages/DefaultWalletSettingsModal.tsx",children:[(0,g.jsx)(i.Page.Header,{title:t.formatMessage({id:p.ETranslations.settings_default_wallet_settings}),"data-sentry-element":"unknown","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/DAppConnection/pages/DefaultWalletSettingsModal.tsx"}),(0,g.jsxs)(i.Page.Body,{"data-sentry-element":"unknown","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/DAppConnection/pages/DefaultWalletSettingsModal.tsx",children:[(0,g.jsx)(d.c,{title:t.formatMessage({id:p.ETranslations.explore_set_default}),subtitle:t.formatMessage({id:p.ETranslations.explore_set_default_wallet_description}),"data-sentry-element":"ListItem","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/DAppConnection/pages/DefaultWalletSettingsModal.tsx",children:(0,g.jsx)(i.Switch,{size:i.ESwitchSize.small,value:null==(e=n?.isDefaultWallet)||e,onChange:D,"data-sentry-element":"Switch","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/DAppConnection/pages/DefaultWalletSettingsModal.tsx"})}),E?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(i.Divider,{my:"$2.5"}),(0,g.jsx)(d.c,{title:t.formatMessage({id:p.ETranslations.explore_excluded_dapps}),subtitle:t.formatMessage({id:p.ETranslations.explore_excluded_dapps_description})}),W()]}):null]})]})}},111340:(e,t,n)=>{e.exports=n.p+"static/media/extension_menu.580af8018f976a70553a.png"}}]);
//# sourceMappingURL=84789.299252d980.chunk.js.map