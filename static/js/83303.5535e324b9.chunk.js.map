{"version":3,"file":"static/js/83303.5535e324b9.chunk.js","mappings":"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","sources":["webpack://web/../../packages/core/src/chains/evm/sdkEvm/index.ts","webpack://web/../../packages/core/src/utils/index.ts","webpack://web/../../packages/kit-bg/src/vaults/base/KeyringBase.ts","webpack://web/../../packages/kit-bg/src/vaults/base/KeyringExternalBase.ts","webpack://web/../../packages/kit-bg/src/vaults/base/KeyringHardwareBase.ts","webpack://web/../../packages/kit-bg/src/vaults/base/KeyringHdBase.ts","webpack://web/../../packages/kit-bg/src/vaults/base/KeyringImportedBase.ts","webpack://web/../../packages/kit-bg/src/vaults/base/KeyringQrBase.ts","webpack://web/../../packages/kit-bg/src/vaults/base/KeyringSoftwareBase.ts","webpack://web/../../packages/kit-bg/src/vaults/base/KeyringWatchingBase.ts","webpack://web/../../packages/kit-bg/src/vaults/base/VaultBase.ts","webpack://web/../../packages/kit-bg/src/vaults/base/VaultContext.ts","webpack://web/../../packages/kit-bg/src/vaults/impls/evm/decoder/index.ts","webpack://web/../../packages/kit-bg/src/vaults/impls/evm/KeyringExternal.ts","webpack://web/../../packages/kit-bg/src/vaults/impls/evm/KeyringHardware.ts","webpack://web/../../packages/kit-bg/src/vaults/impls/evm/KeyringHd.ts","webpack://web/../../packages/kit-bg/src/vaults/impls/evm/KeyringImported.ts","webpack://web/../../packages/core/src/chains/evm/sdkEvm/verify.ts","webpack://web/../../packages/kit-bg/src/vaults/impls/evm/KeyringQr.ts","webpack://web/../../packages/kit-bg/src/vaults/impls/evm/KeyringWatching.ts","webpack://web/../../packages/kit-bg/src/vaults/impls/evm/sdkEvm/ClientEvm.ts","webpack://web/../../packages/kit-bg/src/vaults/impls/evm/sdkEvm/utils.ts","webpack://web/../../packages/kit-bg/src/vaults/impls/evm/sdkEvm/BaseApiProvider.ts","webpack://web/../../packages/kit-bg/src/vaults/impls/evm/sdkEvm/EvmApiProvider.ts","webpack://web/../../packages/kit-bg/src/vaults/impls/evm/Vault.ts","webpack://web/../../packages/kit-bg/src/vaults/impls/evm/decoder/abi.ts","webpack://web/../../packages/kit-bg/src/vaults/types.ts","webpack://web/../../packages/shared/src/request/JsonRPCRequest.ts"],"sourcesContent":["import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import{getAddress}from'@ethersproject/address';import{splitSignature}from'@ethersproject/bytes';import{keccak256}from'@ethersproject/keccak256';import{TransactionTypes,serialize}from'@ethersproject/transactions';import BigNumber from'bignumber.js';import{secp256k1}from'@onekeyhq/core/src/secret';import{OneKeyInternalError}from'@onekeyhq/shared/src/errors';import{checkIsDefined}from'@onekeyhq/shared/src/utils/assertUtils';import bufferUtils from'@onekeyhq/shared/src/utils/bufferUtils';import hexUtils from'@onekeyhq/shared/src/utils/hexUtils';import{toBigIntHex}from'@onekeyhq/shared/src/utils/numberUtils';export function getPublicKeyFromPrivateKey(_x){return _getPublicKeyFromPrivateKey.apply(this,arguments);}function _getPublicKeyFromPrivateKey(){_getPublicKeyFromPrivateKey=_asyncToGenerator(function*({privateKeyRaw}){if(!hexUtils.isHexString(privateKeyRaw)){throw new OneKeyInternalError('Invalid private key.');}var privateKey=bufferUtils.toBuffer(privateKeyRaw);if(privateKey.length!==32){throw new OneKeyInternalError('Invalid private key.');}var publicKey=secp256k1.publicFromPrivate(privateKey).toString('hex');return Promise.resolve({publicKey});});return _getPublicKeyFromPrivateKey.apply(this,arguments);}export function packTransaction(encodedTx){var _encodedTx$gasLimit;var baseTx={to:encodedTx.to||undefined,nonce:toBigIntHex(new BigNumber(checkIsDefined(encodedTx.nonce))),gasLimit:toBigIntHex(new BigNumber(checkIsDefined((_encodedTx$gasLimit=encodedTx.gasLimit)!=null?_encodedTx$gasLimit:encodedTx.gas))),data:encodedTx?.data||'0x',value:encodedTx?.value||'0x0',chainId:new BigNumber(checkIsDefined(encodedTx.chainId)).toNumber()};if(!baseTx.to){baseTx.value='0x0';}var isEIP1559=encodedTx?.maxFeePerGas||encodedTx?.maxPriorityFeePerGas;if(isEIP1559){Object.assign(baseTx,{type:TransactionTypes.eip1559,maxFeePerGas:toBigIntHex(new BigNumber(checkIsDefined(encodedTx?.maxFeePerGas))),maxPriorityFeePerGas:toBigIntHex(new BigNumber(checkIsDefined(encodedTx?.maxPriorityFeePerGas)))});}else{Object.assign(baseTx,{gasPrice:toBigIntHex(new BigNumber(checkIsDefined(encodedTx.gasPrice)))});}return baseTx;}export function packUnsignedTxForSignEvm(unsignedTx){var tx=packTransaction(unsignedTx.encodedTx);var serializedTx=serialize(tx);var digest=keccak256(serializedTx);return{digest,tx,serializedTx,serializedTxWithout0x:hexUtils.stripHexPrefix(serializedTx)};}export function validateEvmAddress(address){var isValid=false;var checksumAddress='';try{checksumAddress=getAddress(address);isValid=checksumAddress.length===42;}catch{return Promise.resolve({isValid:false,normalizedAddress:'',displayAddress:''});}return Promise.resolve({normalizedAddress:checksumAddress.toLowerCase()||'',displayAddress:checksumAddress||'',isValid});}export function buildSignedTxFromSignatureEvm({tx,signature}){var{r,s,v}=signature;var sig=splitSignature({v:Number(v),r,s});var rawTx=serialize(tx,sig);var txid=keccak256(rawTx);return{rawTx,txid};}","import coinselectUtils from'@onekeyfe/coinselect/utils';import accountUtils from'@onekeyhq/shared/src/utils/accountUtils';export function slicePathTemplate(template){return accountUtils.slicePathTemplate(template);}export function getUtxoAccountPrefixPath({fullPath}){var pathComponent=fullPath.split('/');pathComponent.pop();pathComponent.pop();var prefixPath=pathComponent.join('/');return prefixPath;}export function getBIP44Path(account,address){var realPath='';for(var[key,value]of Object.entries(account.addresses)){if(value===address){realPath=key;break;}}return`${account.path}/${realPath}`;}export function estimateTxSize(inputsForCoinSelect,outputsForCoinSelect){return coinselectUtils.transactionBytes(inputsForCoinSelect,outputsForCoinSelect);}","import _isNil from\"lodash/isNil\";import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import{NotImplemented}from'@onekeyhq/shared/src/errors';import{defaultLogger}from'@onekeyhq/shared/src/logger/logger';import accountUtils from'@onekeyhq/shared/src/utils/accountUtils';import timerUtils from'@onekeyhq/shared/src/utils/timerUtils';import{EDBAccountType}from\"../../dbs/local/consts\";import{EVaultKeyringTypes}from\"../types\";import{VaultContext}from\"./VaultContext\";export var KeyringBase=function(_VaultContext){_inherits(KeyringBase,_VaultContext);var _super=_createSuper(KeyringBase);function KeyringBase(vault){var _this;_this=_super.call(this,vault.options);_this.vault=vault;if(_this.vault.networkId!==vault.options.networkId){throw new Error('KeyringBase ERROR: networkId not match1');}if(_this.networkId!==vault.options.networkId){throw new Error('KeyringBase ERROR: networkId not match2');}return _this;}var _proto=KeyringBase.prototype;_proto.isKeyringImported=function isKeyringImported(){return this.keyringType===EVaultKeyringTypes.imported;};_proto.isKeyringHd=function isKeyringHd(){return this.keyringType===EVaultKeyringTypes.hd;};_proto.isKeyringHardware=function isKeyringHardware(){return this.keyringType===EVaultKeyringTypes.hardware;};_proto.isKeyringWatching=function isKeyringWatching(){return this.keyringType===EVaultKeyringTypes.watching;};_proto.basePrepareHdNormalAccounts=function(){var _basePrepareHdNormalAccounts=_asyncToGenerator(function*(params,options){var{walletId}=this;if(!walletId){throw new Error('walletId is not defined');}var{names,deriveInfo,indexes}=params;var{coinType,template,namePrefix,idSuffix}=deriveInfo;if(!coinType){throw new Error('coinType is not defined');}var settings=yield this.getVaultSettings();var{accountType}=settings;var{buildAddressesInfo}=options;var usedIndexes=indexes;var addressInfos=yield buildAddressesInfo({usedIndexes});var ret=[];for(var idx=0;idx<addressInfos.length;idx+=1){var{path,publicKey,address,addresses,relPath}=addressInfos[idx];if(!path){throw new Error('KeyringHD prepareAccounts ERROR: path not found');}if(accountType===EDBAccountType.VARIANT&&!addresses){throw new Error('addresses is required for variant account');}if(accountType===EDBAccountType.VARIANT&&address){throw new Error('address should not set for variant account');}var pathIndex=usedIndexes[idx];var name=names?.[idx]||accountUtils.buildHDAccountName({pathIndex,namePrefix});var id=accountUtils.buildHDAccountId({walletId,path,idSuffix});var indexedAccountId=accountUtils.buildIndexedAccountId({walletId,index:pathIndex});ret.push({id,name,type:accountType,path,pathIndex,relPath,indexedAccountId,coinType,impl:settings.impl,pub:publicKey,address,addresses,template});}return ret;});function basePrepareHdNormalAccounts(_x,_x2){return _basePrepareHdNormalAccounts.apply(this,arguments);}return basePrepareHdNormalAccounts;}();_proto.basePrepareHdUtxoAccounts=function(){var _basePrepareHdUtxoAccounts=_asyncToGenerator(function*(params,options){var{walletId}=this;if(!walletId){throw new Error('walletId is undefined');}var{indexes,deriveInfo,names,skipCheckAccountExist=true}=params;var{coinType,template,namePrefix}=deriveInfo;if(!coinType){throw new Error('coinType is not defined');}var settings=yield this.getVaultSettings();var{accountType}=settings;if(accountType!==EDBAccountType.UTXO){throw new Error('accountType is not utxo');}var{checkIsAccountUsed,buildAddressesInfo}=options;var ignoreFirst=false;var usedIndexes=[...(ignoreFirst?[indexes[0]-1]:[]),...indexes];defaultLogger.account.accountCreatePerf.utxoBuildAddressesInfo();var addressesInfo=yield buildAddressesInfo({usedIndexes});defaultLogger.account.accountCreatePerf.utxoBuildAddressesInfoDone();defaultLogger.account.accountCreatePerf.buildDBUtxoAccounts();var ret=[];var idx=0;for(var{path,relPath,publicKey,xpub,xpubSegwit,address,addresses}of addressesInfo){if(!path||_isNil(xpub)||!addresses){throw new Error('basePrepareHdUtxoAccounts ERROR: path or xpub or addresses is undefined');}if(!relPath){throw new Error('basePrepareHdUtxoAccounts ERROR: relPath is undefined');}var prefix=namePrefix;var pathIndex=usedIndexes[idx];var name=names?.[idx]||`${prefix} #${pathIndex+1}`;var id=`${this.walletId}--${path}`;if(!ignoreFirst||idx>0){var indexedAccountId=accountUtils.buildIndexedAccountId({walletId:this.walletId,index:pathIndex});ret.push({id,name,type:accountType,path,pathIndex,indexedAccountId,relPath,coinType,impl:settings.impl,pub:publicKey,xpub,xpubSegwit,address,addresses,template});}var isLast=idx===addressesInfo.length-1;if(!skipCheckAccountExist&&!isLast&&checkIsAccountUsed){var{isUsed}=yield checkIsAccountUsed({xpub,xpubSegwit,address});if(!isUsed){break;}yield timerUtils.wait(200);}idx+=1;}defaultLogger.account.accountCreatePerf.buildDBUtxoAccountsDone();return ret;});function basePrepareHdUtxoAccounts(_x3,_x4){return _basePrepareHdUtxoAccounts.apply(this,arguments);}return basePrepareHdUtxoAccounts;}();_proto.batchGetAddresses=function(){var _batchGetAddresses=_asyncToGenerator(function*(params){return[];});function batchGetAddresses(_x5){return _batchGetAddresses.apply(this,arguments);}return batchGetAddresses;}();_proto.exportAccountSecretKeys=function(){var _exportAccountSecretKeys=_asyncToGenerator(function*(params){throw new NotImplemented();});function exportAccountSecretKeys(_x6){return _exportAccountSecretKeys.apply(this,arguments);}return exportAccountSecretKeys;}();_proto.buildHwAllNetworkPrepareAccountsParams=function(){var _buildHwAllNetworkPrepareAccountsParams=_asyncToGenerator(function*(params){return undefined;});function buildHwAllNetworkPrepareAccountsParams(_x7){return _buildHwAllNetworkPrepareAccountsParams.apply(this,arguments);}return buildHwAllNetworkPrepareAccountsParams;}();_proto.buildPrepareAccountsPrefixedPath=function buildPrepareAccountsPrefixedPath(params){throw new NotImplemented();};return _createClass(KeyringBase);}(VaultContext);export var KeyringBaseMock=function(_KeyringBase){_inherits(KeyringBaseMock,_KeyringBase);var _super2=_createSuper(KeyringBaseMock);function KeyringBaseMock(){return _super2.apply(this,arguments);}return _createClass(KeyringBaseMock);}(KeyringBase);","import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import{OneKeyInternalError}from'@onekeyhq/shared/src/errors';import{EVaultKeyringTypes}from\"../types\";import{KeyringBase}from\"./KeyringBase\";export var KeyringExternalBase=function(_KeyringBase){_inherits(KeyringExternalBase,_KeyringBase);var _super=_createSuper(KeyringExternalBase);function KeyringExternalBase(...args){var _this;_this=_super.call(this,...args);_this.keyringType=EVaultKeyringTypes.external;return _this;}var _proto=KeyringExternalBase.prototype;_proto.baseSignMessageByExternalWallet=function(){var _baseSignMessageByExternalWallet=_asyncToGenerator(function*(params){return this.backgroundApi.serviceDappSide.signMessage({account:yield this.vault.getAccount(),networkId:this.networkId,params});});function baseSignMessageByExternalWallet(_x){return _baseSignMessageByExternalWallet.apply(this,arguments);}return baseSignMessageByExternalWallet;}();_proto.baseSendTransactionByExternalWallet=function(){var _baseSendTransactionByExternalWallet=_asyncToGenerator(function*(params){return this.backgroundApi.serviceDappSide.sendTransaction({account:yield this.vault.getAccount(),networkId:this.networkId,params});});function baseSendTransactionByExternalWallet(_x2){return _baseSendTransactionByExternalWallet.apply(this,arguments);}return baseSendTransactionByExternalWallet;}();_proto.prepareAccounts=function prepareAccounts(params){throw new OneKeyInternalError('prepareAccounts is not supported for external accounts, use serviceAccount directly');};_proto.basePrepareExternalAccounts=function(){var _basePrepareExternalAccounts=_asyncToGenerator(function*(params){return[];});function basePrepareExternalAccounts(_x3){return _basePrepareExternalAccounts.apply(this,arguments);}return basePrepareExternalAccounts;}();return _createClass(KeyringExternalBase);}(KeyringBase);","import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import{slicePathTemplate}from'@onekeyhq/core/src/utils';import appGlobals from'@onekeyhq/shared/src/appGlobals';import{OneKeyInternalError,UnsupportedAddressTypeError}from'@onekeyhq/shared/src/errors';import{convertDeviceError,convertDeviceResponse}from'@onekeyhq/shared/src/errors/utils/deviceErrorUtils';import{HardwareSDK}from'@onekeyhq/shared/src/hardware/instance';import{defaultLogger}from'@onekeyhq/shared/src/logger/logger';import{EConfirmOnDeviceType}from'@onekeyhq/shared/types/device';import{EVaultKeyringTypes}from\"../types\";import{KeyringBase}from\"./KeyringBase\";export var KeyringHardwareBase=function(_KeyringBase){_inherits(KeyringHardwareBase,_KeyringBase);var _super=_createSuper(KeyringHardwareBase);function KeyringHardwareBase(...args){var _this;_this=_super.call(this,...args);_this.keyringType=EVaultKeyringTypes.hardware;return _this;}var _proto=KeyringHardwareBase.prototype;_proto.getHardwareSDKInstance=function(){var _getHardwareSDKInstance=_asyncToGenerator(function*(){var _ref;defaultLogger.account.accountCreatePerf.getHardwareSDKInstance();var sdk=yield appGlobals?.$backgroundApiProxy?.backgroundApi?.serviceHardware?.getSDKInstance?.();var r=(_ref=sdk)!=null?_ref:HardwareSDK;defaultLogger.account.accountCreatePerf.getHardwareSDKInstanceDone();return r;});function getHardwareSDKInstance(){return _getHardwareSDKInstance.apply(this,arguments);}return getHardwareSDKInstance;}();_proto.baseGetDeviceAccountData=function(){var _baseGetDeviceAccountData=_asyncToGenerator(function*({params,usedIndexes,sdkGetDataFn,errorMessage}){var{deriveInfo,deviceParams}=params;var{dbDevice,confirmOnDevice}=deviceParams;var{connectId,deviceId}=dbDevice;var{template,coinName}=deriveInfo;var{pathPrefix,pathSuffix}=slicePathTemplate(template);var showOnOnekeyFn=function(arrIndex){if(confirmOnDevice===EConfirmOnDeviceType.EveryItem){return true;}if(confirmOnDevice===EConfirmOnDeviceType.LastItem){return arrIndex===usedIndexes[usedIndexes.length-1];}return false;};var result=yield convertDeviceResponse(_asyncToGenerator(function*(){return sdkGetDataFn({connectId,deviceId,pathPrefix,pathSuffix,template,coinName,showOnOnekeyFn});}));if(!result||result.length!==usedIndexes.length){throw new OneKeyInternalError(errorMessage);}return result;});function baseGetDeviceAccountData(_x){return _baseGetDeviceAccountData.apply(this,arguments);}return baseGetDeviceAccountData;}();_proto.baseGetDeviceAccountPublicKeys=function(){var _baseGetDeviceAccountPublicKeys=_asyncToGenerator(function*({params,usedIndexes,sdkGetPublicKeysFn}){return this.baseGetDeviceAccountData({params,usedIndexes,sdkGetDataFn:sdkGetPublicKeysFn,errorMessage:'Unable to get public keys.'});});function baseGetDeviceAccountPublicKeys(_x2){return _baseGetDeviceAccountPublicKeys.apply(this,arguments);}return baseGetDeviceAccountPublicKeys;}();_proto.baseGetDeviceAccountAddresses=function(){var _baseGetDeviceAccountAddresses=_asyncToGenerator(function*({params,usedIndexes,sdkGetAddressFn}){return this.baseGetDeviceAccountData({params,usedIndexes,sdkGetDataFn:sdkGetAddressFn,errorMessage:'Unable to get addresses.'});});function baseGetDeviceAccountAddresses(_x3){return _baseGetDeviceAccountAddresses.apply(this,arguments);}return baseGetDeviceAccountAddresses;}();_proto.getAllNetworkPrepareAccounts=function(){var _getAllNetworkPrepareAccounts=_asyncToGenerator(function*({hwSdkNetwork,params,usedIndexes,buildPath,buildResultAccount}){if(!hwSdkNetwork){return undefined;}var{hwAllNetworkPrepareAccountsResponse}=params;if(hwAllNetworkPrepareAccountsResponse?.length){var resultAccounts=[];var _loop=function*(){var path=yield buildPath({index});var account=hwAllNetworkPrepareAccountsResponse?.find(function(item){return item.network&&item.path===path&&item.network===hwSdkNetwork;});if(account&&account.success){resultAccounts.push(buildResultAccount({account,index}));}};for(var index of usedIndexes){yield*_loop();}if(resultAccounts.length===usedIndexes.length){return{success:true,payload:resultAccounts};}var hasErrorItem=hwAllNetworkPrepareAccountsResponse?.find(function(item){return!item.success&&!!item.payload?.error;});if(!hasErrorItem?.success&&hasErrorItem?.payload?.error){if(hasErrorItem?.payload?.error?.indexOf('Failure_DataError,Forbidden key path')!==-1){throw new UnsupportedAddressTypeError();}throw convertDeviceError(hasErrorItem.payload);}throw new OneKeyInternalError('SDK GetAllNetworkAccounts Failed');}});function getAllNetworkPrepareAccounts(_x4){return _getAllNetworkPrepareAccounts.apply(this,arguments);}return getAllNetworkPrepareAccounts;}();return _createClass(KeyringHardwareBase);}(KeyringBase);","import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import{EVaultKeyringTypes}from\"../types\";import{KeyringSoftwareBase}from\"./KeyringSoftwareBase\";export var KeyringHdBase=function(_KeyringSoftwareBase){_inherits(KeyringHdBase,_KeyringSoftwareBase);var _super=_createSuper(KeyringHdBase);function KeyringHdBase(...args){var _this;_this=_super.call(this,...args);_this.keyringType=EVaultKeyringTypes.hd;return _this;}return _createClass(KeyringHdBase);}(KeyringSoftwareBase);","import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import{EVaultKeyringTypes}from\"../types\";import{KeyringSoftwareBase}from\"./KeyringSoftwareBase\";export var KeyringImportedBase=function(_KeyringSoftwareBase){_inherits(KeyringImportedBase,_KeyringSoftwareBase);var _super=_createSuper(KeyringImportedBase);function KeyringImportedBase(...args){var _this;_this=_super.call(this,...args);_this.keyringType=EVaultKeyringTypes.imported;return _this;}return _createClass(KeyringImportedBase);}(KeyringSoftwareBase);","import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import{OneKeyRequestDeviceQR}from'@onekeyhq/qr-wallet-sdk/src/OneKeyRequestDeviceQR';import{NotImplemented,OneKeyErrorAirGapInvalidQrCode}from'@onekeyhq/shared/src/errors';import accountUtils from'@onekeyhq/shared/src/utils/accountUtils';import{checkIsDefined}from'@onekeyhq/shared/src/utils/assertUtils';import{generateUUID}from'@onekeyhq/shared/src/utils/miscUtils';import localDb from\"../../dbs/local/localDb\";import{UR_DEFAULT_ORIGIN}from\"../../services/ServiceQrWallet/qrWalletConsts\";import{EVaultKeyringTypes}from\"../types\";import{KeyringBase}from\"./KeyringBase\";export var KeyringQrBase=function(_KeyringBase){_inherits(KeyringQrBase,_KeyringBase);var _super=_createSuper(KeyringQrBase);function KeyringQrBase(...args){var _this;_this=_super.call(this,...args);_this.keyringType=EVaultKeyringTypes.qr;return _this;}var _proto=KeyringQrBase.prototype;_proto.getChildPathTemplates=function getChildPathTemplates(params){throw new NotImplemented();};_proto.getVerifyAddressChainParams=function(){var _getVerifyAddressChainParams=_asyncToGenerator(function*(query){throw new NotImplemented();});function getVerifyAddressChainParams(_x){return _getVerifyAddressChainParams.apply(this,arguments);}return getVerifyAddressChainParams;}();_proto.baseSignByQrcode=function(){var _baseSignByQrcode=_asyncToGenerator(function*(params,options){var wallet=yield localDb.getWallet({walletId:this.walletId});if(!wallet.associatedDevice){throw new Error('associatedDevice not found');}var device=yield localDb.getDevice(wallet.associatedDevice);var path=yield this.vault.getAccountPath();var account=yield this.vault.getAccount();var chainId=yield this.vault.getNetworkChainId();var requestId=generateUUID();var{airGapAccount}=yield this.findAirGapAccountByPath({path,wallet,index:checkIsDefined(account.pathIndex)});var xfp=airGapAccount?.xfp||wallet.xfp;if(!xfp){throw new Error('xfp not found');}var signRequestUr=yield options.signRequestUrBuilder({requestId,path,xfp,chainId,account,wallet});var{responseUr:signatureUr}=yield this.backgroundApi.serviceQrWallet.startTwoWayAirGapScanUr({requestUr:signRequestUr});var signedTx=yield options.signedResultBuilder({signatureUr,requestId});return signedTx;});function baseSignByQrcode(_x2,_x3){return _baseSignByQrcode.apply(this,arguments);}return baseSignByQrcode;}();_proto.findAirGapAccountByPath=function(){var _findAirGapAccountByPath=_asyncToGenerator(function*({path:fullPath,wallet,index}){var _this2=this;var childPathTemplate;var settings=yield this.getVaultSettings();var airGapAccount=wallet?.airGapAccountsInfo?.accounts?.find(function(eachAirGapAccount){if(eachAirGapAccount.path===fullPath){return true;}var{childPathTemplates}=_this2.getChildPathTemplates({airGapAccount:eachAirGapAccount,index});for(var childPathTpl of childPathTemplates){var template=[eachAirGapAccount.path,childPathTpl].filter(Boolean).join('/');var fullPathGenerated=accountUtils.buildPathFromTemplate({template,index});var r=fullPathGenerated===fullPath;if(r){childPathTemplate=childPathTpl;return true;}}return false;});return{airGapAccount,fullPath,childPathTemplate};});function findAirGapAccountByPath(_x4){return _findAirGapAccountByPath.apply(this,arguments);}return findAirGapAccountByPath;}();_proto.findAirGapAccountInPrepareAccounts=function(){var _findAirGapAccountInPrepareAccounts=_asyncToGenerator(function*(params,{index,wallet}){var fullPath=accountUtils.buildPathFromTemplate({template:params.deriveInfo.template,index});return this.findAirGapAccountByPath({wallet,index,path:fullPath});});function findAirGapAccountInPrepareAccounts(_x5,_x6){return _findAirGapAccountInPrepareAccounts.apply(this,arguments);}return findAirGapAccountInPrepareAccounts;}();_proto.findAirGapAccountByDbAccount=function(){var _findAirGapAccountByDbAccount=_asyncToGenerator(function*({wallet,dbAccount}){var{pathIndex,template}=dbAccount;var fullPath=accountUtils.buildPathFromTemplate({template:checkIsDefined(template),index:checkIsDefined(pathIndex)});return this.findAirGapAccountByPath({wallet,index:checkIsDefined(pathIndex),path:fullPath});});function findAirGapAccountByDbAccount(_x7){return _findAirGapAccountByDbAccount.apply(this,arguments);}return findAirGapAccountByDbAccount;}();_proto.verifyQrWalletAddressByTwoWayScan=function(){var _verifyQrWalletAddressByTwoWayScan=_asyncToGenerator(function*(params,{indexes}){var ret=[];var chain=yield this.backgroundApi.serviceQrWallet.getDeviceChainNameByNetworkId({networkId:this.networkId});var wallet=yield this.backgroundApi.serviceAccount.getWallet({walletId:this.walletId});var fullPath=accountUtils.buildPathFromTemplate({template:params.deriveInfo.template,index:indexes[0]});var requestQR=new OneKeyRequestDeviceQR({requestId:generateUUID(),xfp:wallet.xfp||'',origin:UR_DEFAULT_ORIGIN,method:'verifyAddress',params:[_objectSpread({chain,address:'',path:fullPath},yield this.getVerifyAddressChainParams({fullPath}))]});var requestUr=requestQR.toUR();var{raw}=yield this.backgroundApi.serviceQrWallet.startTwoWayAirGapScanUr({requestUr,allowPlainTextResponse:true});if(raw&&raw?.toLowerCase()?.startsWith('ur:')){throw new OneKeyErrorAirGapInvalidQrCode();}ret.push({address:raw||'',publicKey:'',path:fullPath,xpub:'',relPath:accountUtils.buildUtxoAddressRelPath(),addresses:{}});return ret;});function verifyQrWalletAddressByTwoWayScan(_x8,_x9){return _verifyQrWalletAddressByTwoWayScan.apply(this,arguments);}return verifyQrWalletAddressByTwoWayScan;}();return _createClass(KeyringQrBase);}(KeyringBase);","import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _isNil from\"lodash/isNil\";import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import{decryptImportedCredential}from'@onekeyhq/core/src/secret';import{OneKeyInternalError}from'@onekeyhq/shared/src/errors';import{defaultLogger}from'@onekeyhq/shared/src/logger/logger';import accountUtils from'@onekeyhq/shared/src/utils/accountUtils';import{checkIsDefined}from'@onekeyhq/shared/src/utils/assertUtils';import{noopObject}from'@onekeyhq/shared/src/utils/miscUtils';import localDb from\"../../dbs/local/localDb\";import{KeyringBase}from\"./KeyringBase\";export var KeyringSoftwareBase=function(_KeyringBase){_inherits(KeyringSoftwareBase,_KeyringBase);var _super=_createSuper(KeyringSoftwareBase);function KeyringSoftwareBase(){return _super.apply(this,arguments);}var _proto=KeyringSoftwareBase.prototype;_proto.baseGetCredentialsInfo=function(){var _baseGetCredentialsInfo=_asyncToGenerator(function*({password}){noopObject(password);var hd;var imported;if(this.isKeyringHd()){var credential=yield localDb.getCredential(checkIsDefined(this.walletId));hd=credential.credential;}if(this.isKeyringImported()){var _credential=yield localDb.getCredential(this.accountId);imported=_credential.credential;}return{hd,imported};});function baseGetCredentialsInfo(_x){return _baseGetCredentialsInfo.apply(this,arguments);}return baseGetCredentialsInfo;}();_proto.baseSignTransactionBtc=function(){var _baseSignTransactionBtc=_asyncToGenerator(function*(params){if(!this.coreApi){throw new Error('coreApi is not defined');}var vault=this.vault;var{password,unsignedTx,signOnly}=params;var credentials=yield this.baseGetCredentialsInfo(params);var networkInfo=yield this.getCoreApiNetworkInfo();var{account,btcExtraInfo,relPaths}=yield vault.prepareBtcSignExtraInfo({unsignedTx});var result=yield this.coreApi.signTransaction({networkInfo,unsignedTx,account,relPaths,password,credentials,btcExtraInfo,signOnly});return result;});function baseSignTransactionBtc(_x2){return _baseSignTransactionBtc.apply(this,arguments);}return baseSignTransactionBtc;}();_proto.baseSignTransaction=function(){var _baseSignTransaction=_asyncToGenerator(function*(params){if(!this.coreApi){throw new Error('coreApi is not defined');}var{password,unsignedTx}=params;var account=yield this.vault.getAccount();var credentials=yield this.baseGetCredentialsInfo(params);var networkInfo=yield this.getCoreApiNetworkInfo();var result=yield this.coreApi.signTransaction({networkInfo,password,account,credentials,unsignedTx});return result;});function baseSignTransaction(_x3){return _baseSignTransaction.apply(this,arguments);}return baseSignTransaction;}();_proto.baseSignMessage=function(){var _baseSignMessage=_asyncToGenerator(function*(params){var _this=this;if(!this.coreApi){throw new Error('coreApi is not defined');}var{password,messages}=params;var account=yield this.vault.getAccount();var credentials=yield this.baseGetCredentialsInfo(params);var networkInfo=yield this.getCoreApiNetworkInfo();var result=yield Promise.all(messages.map(function(msg){return checkIsDefined(_this.coreApi).signMessage({networkInfo,unsignedMsg:msg,account,password,credentials});}));return result;});function baseSignMessage(_x4){return _baseSignMessage.apply(this,arguments);}return baseSignMessage;}();_proto.baseSignMessageBtc=function(){var _baseSignMessageBtc=_asyncToGenerator(function*(params){var _this2=this;if(!this.coreApi){throw new Error('coreApi is not defined');}var vault=this.vault;var{password,messages}=params;var credentials=yield this.baseGetCredentialsInfo(params);var networkInfo=yield this.getCoreApiNetworkInfo();var result=yield Promise.all(messages.map(function(){var _ref=_asyncToGenerator(function*(msg){var{account,btcExtraInfo,relPaths}=yield vault.prepareBtcSignExtraInfo({unsignedMessage:msg});return checkIsDefined(_this2.coreApi).signMessage({networkInfo,unsignedMsg:msg,account,relPaths,password,credentials,btcExtraInfo});});return function(_x6){return _ref.apply(this,arguments);};}()));return result;});function baseSignMessageBtc(_x5){return _baseSignMessageBtc.apply(this,arguments);}return baseSignMessageBtc;}();_proto.basePrepareAccountsImported=function(){var _basePrepareAccountsImported=_asyncToGenerator(function*(params,options={}){if(!this.coreApi){throw new Error('coreApi is not defined');}var{name,importedCredential,password,networks,createAtNetwork}=params;var{privateKey}=decryptImportedCredential({credential:importedCredential,password});var settings=yield this.getVaultSettings();var{onlyAvailableOnCertainNetworks}=options;var accountType=options.accountType||settings.accountType;var impl=options.impl||settings.impl;var coinType=options.coinType||params.deriveInfo?.coinType||settings.coinTypeDefault;var networkInfo=yield this.getCoreApiNetworkInfo();var privateKeyRaw=privateKey;var{address,addresses,publicKey}=yield this.coreApi.getAddressFromPrivate({networkInfo,privateKeyRaw,addressEncoding:params.deriveInfo?.addressEncoding});var addressUsed='';if(onlyAvailableOnCertainNetworks){addressUsed=addresses?.[createAtNetwork]||'';if(!addressUsed){throw new Error(`imported account address is empty of network: ${createAtNetwork}`);}}var accountId=accountUtils.buildImportedAccountId({coinType,pub:publicKey,address:addressUsed,addressEncoding:params.deriveInfo?.addressEncoding});return Promise.resolve([{id:accountId,name:name||'',type:accountType,path:'',coinType,impl,networks:onlyAvailableOnCertainNetworks?networks:undefined,createAtNetwork,pub:publicKey,address,addresses}]);});function basePrepareAccountsImported(_x7){return _basePrepareAccountsImported.apply(this,arguments);}return basePrepareAccountsImported;}();_proto.basePrepareAccountsImportedUtxo=function(){var _basePrepareAccountsImportedUtxo=_asyncToGenerator(function*(params){if(!this.coreApi){throw new Error('coreApi is not defined');}var{name,importedCredential,password,createAtNetwork,deriveInfo}=params;var{privateKey}=decryptImportedCredential({credential:importedCredential,password});var addressEncoding=deriveInfo?.addressEncoding;var settings=yield this.getVaultSettings();var{coinTypeDefault:coinType,accountType}=settings;var networkInfo=yield this.getCoreApiNetworkInfo();var privateKeyRaw=privateKey;var{address,addresses,publicKey,xpub,relPath,xpubSegwit,path}=yield this.coreApi.getAddressFromPrivate({networkInfo,privateKeyRaw,addressEncoding});if(_isNil(xpub)||!addresses){throw new Error('xpub or addresses is undefined');}var accountId=accountUtils.buildImportedAccountId({coinType,xpub:xpub||publicKey,addressEncoding});return Promise.resolve([{id:accountId,name:name||'',type:accountType,path:path||'',relPath,coinType,impl:settings.impl,xpub,xpubSegwit,pub:publicKey,address,addresses,createAtNetwork}]);});function basePrepareAccountsImportedUtxo(_x8){return _basePrepareAccountsImportedUtxo.apply(this,arguments);}return basePrepareAccountsImportedUtxo;}();_proto.basePrepareAccountsHd=function(){var _basePrepareAccountsHd=_asyncToGenerator(function*(params){var _this3=this;var{template,addressEncoding}=params.deriveInfo;var{password}=params;var networkInfo=yield this.getCoreApiNetworkInfo();return this.basePrepareHdNormalAccounts(params,{buildAddressesInfo:function(){var _ref2=_asyncToGenerator(function*({usedIndexes}){if(!_this3.coreApi){throw new Error('coreApi is not defined');}var credentials=yield _this3.baseGetCredentialsInfo({password});var{addresses:addressInfos}=yield _this3.coreApi.getAddressesFromHd({networkInfo,template,hdCredential:checkIsDefined(credentials.hd),password,indexes:usedIndexes,addressEncoding});return addressInfos;});return function buildAddressesInfo(_x10){return _ref2.apply(this,arguments);};}()});});function basePrepareAccountsHd(_x9){return _basePrepareAccountsHd.apply(this,arguments);}return basePrepareAccountsHd;}();_proto.basePrepareAccountsHdUtxo=function(){var _basePrepareAccountsHdUtxo=_asyncToGenerator(function*(params,options){var _this4=this;var{password,indexes,deriveInfo,names,skipCheckAccountExist}=params;var addressEncoding=params?.deriveInfo?.addressEncoding;return this.basePrepareHdUtxoAccounts(params,_objectSpread(_objectSpread({},options),{},{buildAddressesInfo:function(){var _ref3=_asyncToGenerator(function*({usedIndexes}){var{coinType,template,namePrefix}=deriveInfo;defaultLogger.account.accountCreatePerf.getCredentialsInfo();var credentials=yield _this4.baseGetCredentialsInfo({password});if(!_this4.coreApi){throw new Error('coreApi is undefined');}defaultLogger.account.accountCreatePerf.getAddressesFromHd();var{addresses:addressesInfo}=yield _this4.coreApi.getAddressesFromHd({networkInfo:yield _this4.getCoreApiNetworkInfo(),template,hdCredential:checkIsDefined(credentials.hd),password,indexes:usedIndexes,addressEncoding});if(addressesInfo.length!==usedIndexes.length){throw new OneKeyInternalError('Unable to get address');}defaultLogger.account.accountCreatePerf.getAddressesFromHdDone();return addressesInfo;});return function buildAddressesInfo(_x13){return _ref3.apply(this,arguments);};}()}));});function basePrepareAccountsHdUtxo(_x11,_x12){return _basePrepareAccountsHdUtxo.apply(this,arguments);}return basePrepareAccountsHdUtxo;}();_proto.baseExportAccountSecretKeys=function(){var _baseExportAccountSecretKeys=_asyncToGenerator(function*(params){var{password,keyType,relPaths}=params;var account=yield this.vault.getAccount();var networkInfo=yield this.getCoreApiNetworkInfo();var credentials=yield this.baseGetCredentialsInfo({password});var{deriveInfo}=yield this.backgroundApi.serviceNetwork.getDeriveTypeByTemplate({networkId:this.networkId,template:account.template});var addressEncoding=deriveInfo?.addressEncoding;if(!this.coreApi){throw new Error('coreApi is not defined');}return this.coreApi.getExportedSecretKey({networkInfo,password,credentials,account,relPaths,keyType,addressEncoding});});function baseExportAccountSecretKeys(_x14){return _baseExportAccountSecretKeys.apply(this,arguments);}return baseExportAccountSecretKeys;}();_proto.baseGetPrivateKeys=function(){var _baseGetPrivateKeys=_asyncToGenerator(function*(params){var{password,relPaths}=params;if(!this.coreApi){throw new Error('coreApi is not defined');}var account=yield this.vault.getAccount();var credentials=yield this.baseGetCredentialsInfo({password});var networkInfo=yield this.getCoreApiNetworkInfo();var privateKeys=yield this.coreApi.getPrivateKeys({networkInfo,password,account,relPaths,credentials});return privateKeys;});function baseGetPrivateKeys(_x15){return _baseGetPrivateKeys.apply(this,arguments);}return baseGetPrivateKeys;}();return _createClass(KeyringSoftwareBase);}(KeyringBase);","import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import{InvalidAddress,OneKeyInternalError}from'@onekeyhq/shared/src/errors';import{ETranslations}from'@onekeyhq/shared/src/locale';import{appLocale}from'@onekeyhq/shared/src/locale/appLocale';import accountUtils from'@onekeyhq/shared/src/utils/accountUtils';import{checkIsDefined}from'@onekeyhq/shared/src/utils/assertUtils';import{EDBAccountType}from\"../../dbs/local/consts\";import{EVaultKeyringTypes}from\"../types\";import{KeyringBase}from\"./KeyringBase\";export var KeyringWatchingBase=function(_KeyringBase){_inherits(KeyringWatchingBase,_KeyringBase);var _super=_createSuper(KeyringWatchingBase);function KeyringWatchingBase(...args){var _this;_this=_super.call(this,...args);_this.keyringType=EVaultKeyringTypes.watching;return _this;}var _proto=KeyringWatchingBase.prototype;_proto.signTransaction=function(){var _signTransaction=_asyncToGenerator(function*(){throw new OneKeyInternalError(appLocale.intl.formatMessage({id:ETranslations.wallet_error_trade_with_watched_acocunt}));});function signTransaction(){return _signTransaction.apply(this,arguments);}return signTransaction;}();_proto.signMessage=function(){var _signMessage=_asyncToGenerator(function*(){throw new OneKeyInternalError(appLocale.intl.formatMessage({id:ETranslations.wallet_error_trade_with_watched_acocunt}));});function signMessage(){return _signMessage.apply(this,arguments);}return signMessage;}();_proto.basePrepareUtxoWatchingAccounts=function(){var _basePrepareUtxoWatchingAccounts=_asyncToGenerator(function*(params){var{address,xpub,networks,createAtNetwork,name,deriveInfo,isUrlAccount,addresses}=params;if(!address&&!xpub){throw new Error('basePrepareUtxoWatchingAccounts ERROR: address and xpub are not defined');}var networkInfo=yield this.getCoreApiNetworkInfo();var settings=yield this.getVaultSettings();var coinType=settings.coinTypeDefault;var addressEncoding=deriveInfo?.addressEncoding;var id=accountUtils.buildWatchingAccountId({coinType,address,xpub,addressEncoding,isUrlAccount});var addressFromXpub='';var xpubSegwit=xpub;if(!address&&xpub){checkIsDefined(this.coreApi);var result=yield this.coreApi?.getAddressFromPublic({publicKey:xpub,addressEncoding,networkInfo});addressFromXpub=result?.address||'';xpubSegwit=result?.xpubSegwit||xpubSegwit||xpub;}var account={id,name,type:EDBAccountType.UTXO,relPath:'0/0',coinType,impl:settings.impl,networks,createAtNetwork,address:addressFromXpub||address||'',xpub:xpub||'',xpubSegwit,path:'',addresses:addresses||{}};return[account];});function basePrepareUtxoWatchingAccounts(_x){return _basePrepareUtxoWatchingAccounts.apply(this,arguments);}return basePrepareUtxoWatchingAccounts;}();_proto.basePrepareSimpleWatchingAccounts=function(){var _basePrepareSimpleWatchingAccounts=_asyncToGenerator(function*(params,options={}){var{address,name,networks,createAtNetwork,isUrlAccount}=params;if(!address){throw new InvalidAddress();}if(!createAtNetwork){throw new Error('basePrepareSimpleWatchingAccounts ERROR: createAtNetwork is not defined');}var{onlyAvailableOnCertainNetworks=false}=options;var settings=yield this.getVaultSettings();var coinType=options.coinType||settings.coinTypeDefault;var impl=options.impl||settings.impl;var id=accountUtils.buildWatchingAccountId({coinType,address,isUrlAccount});var account={id,name:name||'',type:EDBAccountType.SIMPLE,coinType,impl,networks:onlyAvailableOnCertainNetworks?networks:undefined,createAtNetwork,address,pub:'',path:''};return Promise.resolve([account]);});function basePrepareSimpleWatchingAccounts(_x2){return _basePrepareSimpleWatchingAccounts.apply(this,arguments);}return basePrepareSimpleWatchingAccounts;}();return _createClass(KeyringWatchingBase);}(KeyringBase);","import _objectWithoutProperties from\"@babel/runtime/helpers/objectWithoutProperties\";import _omitBy from\"lodash/omitBy\";import _isEmpty from\"lodash/isEmpty\";import _isNil from\"lodash/isNil\";import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _omit from\"lodash/omit\";import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";var _excluded=[\"accountId\"],_excluded2=[\"accountId\"];function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import qs from'querystring';import{Semaphore}from'async-mutex';import BigNumber from'bignumber.js';import{decodeSensitiveText,encodeSensitiveText}from'@onekeyhq/core/src/secret';import{getNetworkIdsMap}from'@onekeyhq/shared/src/config/networkIds';import{NotImplemented}from'@onekeyhq/shared/src/errors';import platformEnv from'@onekeyhq/shared/src/platformEnv';import accountUtils from'@onekeyhq/shared/src/utils/accountUtils';import chainValueUtils from'@onekeyhq/shared/src/utils/chainValueUtils';import hexUtils from'@onekeyhq/shared/src/utils/hexUtils';import{getOnChainHistoryTxAssetInfo,getOnChainHistoryTxStatus}from'@onekeyhq/shared/src/utils/historyUtils';import{generateUUID}from'@onekeyhq/shared/src/utils/miscUtils';import{buildTxActionDirection,getStakingActionLabel}from'@onekeyhq/shared/src/utils/txActionUtils';import{addressIsEnsFormat}from'@onekeyhq/shared/src/utils/uriUtils';import{EServiceEndpointEnum}from'@onekeyhq/shared/types/endpoint';import{EOnChainHistoryTxType}from'@onekeyhq/shared/types/history';import{EDecodedTxActionType,EDecodedTxDirection}from'@onekeyhq/shared/types/tx';import{VaultContext}from\"./VaultContext\";if(platformEnv.isExtensionUi){debugger;throw new Error('engine/VaultBase is not allowed imported from ui');}export var VaultBaseChainOnly=function(_VaultContext){_inherits(VaultBaseChainOnly,_VaultContext);var _super=_createSuper(VaultBaseChainOnly);function VaultBaseChainOnly(){return _super.apply(this,arguments);}var _proto=VaultBaseChainOnly.prototype;_proto.getXpubFromAccount=function(){var _getXpubFromAccount=_asyncToGenerator(function*(networkAccount){return networkAccount.xpub;});function getXpubFromAccount(_x){return _getXpubFromAccount.apply(this,arguments);}return getXpubFromAccount;}();_proto.proxyJsonRPCCall=function(){var _proxyJsonRPCCall=_asyncToGenerator(function*(request){throw new NotImplemented();});function proxyJsonRPCCall(_x2){return _proxyJsonRPCCall.apply(this,arguments);}return proxyJsonRPCCall;}();_proto.addressFromBase=function(){var _addressFromBase=_asyncToGenerator(function*(account){throw new NotImplemented();});function addressFromBase(_x3){return _addressFromBase.apply(this,arguments);}return addressFromBase;}();_proto.addressToBase=function(){var _addressToBase=_asyncToGenerator(function*(address){throw new NotImplemented();});function addressToBase(_x4){return _addressToBase.apply(this,arguments);}return addressToBase;}();_proto.baseValidatePrivateKey=function(){var _baseValidatePrivateKey=_asyncToGenerator(function*(privateKey){if(!this.coreApi){throw new Error('coreApi not defined in Vault');}try{var networkInfo=yield this.getCoreApiNetworkInfo();var result=yield this.coreApi.getAddressFromPrivate({networkInfo,privateKeyRaw:privateKey});if(result.publicKey){return{isValid:true};}}catch(error){}return{isValid:false};});function baseValidatePrivateKey(_x5){return _baseValidatePrivateKey.apply(this,arguments);}return baseValidatePrivateKey;}();_proto.baseValidateGeneralInput=function(){var _baseValidateGeneralInput=_asyncToGenerator(function*(params){var input=decodeSensitiveText({encodedText:params.input});var{validateAddress,validateXprvt,validateXpub,validatePrivateKey}=params;var result={isValid:false};var isValid=false;var addressResult;var xpubResult;var xprvtResult;var privateKeyResult;if(validateAddress&&!isValid){try{addressResult=yield this.validateAddress(input);result.addressResult=addressResult;isValid=isValid||addressResult?.isValid;}catch(error){}}if(validateXpub&&!isValid){try{xpubResult=yield this.validateXpub(input);result.xpubResult=xpubResult;isValid=isValid||xpubResult?.isValid;}catch(error){}}if(validateXprvt&&!isValid){try{xprvtResult=yield this.validateXprvt(input);result.xprvtResult=xprvtResult;isValid=isValid||xprvtResult?.isValid;}catch(error){}}if(validatePrivateKey&&!isValid){try{privateKeyResult=yield this.validatePrivateKey(input);result.privateKeyResult=privateKeyResult;isValid=isValid||privateKeyResult?.isValid;}catch(error){}}result.isValid=Boolean(isValid);return{result,inputDecoded:input};});function baseValidateGeneralInput(_x6){return _baseValidateGeneralInput.apply(this,arguments);}return baseValidateGeneralInput;}();_proto.baseGetPrivateKeyFromImported=function(){var _baseGetPrivateKeyFromImported=_asyncToGenerator(function*(params){var input=decodeSensitiveText({encodedText:params.input});var privateKey=hexUtils.stripHexPrefix(input);privateKey=encodeSensitiveText({text:privateKey});return{privateKey};});function baseGetPrivateKeyFromImported(_x7){return _baseGetPrivateKeyFromImported.apply(this,arguments);}return baseGetPrivateKeyFromImported;}();_proto.validateAmountInputShown=function(){var _validateAmountInputShown=_asyncToGenerator(function*({toAddress}){return Promise.resolve({isValid:true});});function validateAmountInputShown(_x8){return _validateAmountInputShown.apply(this,arguments);}return validateAmountInputShown;}();_proto.checkIsDomainName=function(){var _checkIsDomainName=_asyncToGenerator(function*({name}){return addressIsEnsFormat(name);});function checkIsDomainName(_x9){return _checkIsDomainName.apply(this,arguments);}return checkIsDomainName;}();_proto.resolveDomainName=function(){var _resolveDomainName=_asyncToGenerator(function*({name}){return null;});function resolveDomainName(_x10){return _resolveDomainName.apply(this,arguments);}return resolveDomainName;}();_proto.getCustomRpcEndpointStatus=function(){var _getCustomRpcEndpointStatus=_asyncToGenerator(function*(params){throw new NotImplemented();});function getCustomRpcEndpointStatus(_x11){return _getCustomRpcEndpointStatus.apply(this,arguments);}return getCustomRpcEndpointStatus;}();_proto.checkFeeSupportInfo=function(){var _checkFeeSupportInfo=_asyncToGenerator(function*(params){throw new NotImplemented();});function checkFeeSupportInfo(_x12){return _checkFeeSupportInfo.apply(this,arguments);}return checkFeeSupportInfo;}();_proto.fetchTokenDetails=function(){var _fetchTokenDetails=_asyncToGenerator(function*(params){var isCustomNetwork=yield this.backgroundApi.serviceNetwork.isCustomNetwork({networkId:this.networkId});if(isCustomNetwork){return this.fetchTokenDetailsByRpc(params);}return this.fetchTokenDetailsByApi(params);});function fetchTokenDetails(_x13){return _fetchTokenDetails.apply(this,arguments);}return fetchTokenDetails;}();_proto.fetchTokenDetailsByApi=function(){var _fetchTokenDetailsByApi=_asyncToGenerator(function*(params){var _params$signal;var client=yield this.backgroundApi.serviceToken.getClient(EServiceEndpointEnum.Wallet);var resp=yield client.post('/wallet/v1/account/token/search',_omit(params,['walletId','accountId','signal']),{headers:yield this.backgroundApi.serviceAccountProfile._getWalletTypeHeader({accountId:params.accountId,walletId:params.walletId}),signal:(_params$signal=params.signal)!=null?_params$signal:undefined});return resp;});function fetchTokenDetailsByApi(_x14){return _fetchTokenDetailsByApi.apply(this,arguments);}return fetchTokenDetailsByApi;}();_proto.fetchTokenDetailsByRpc=function(){var _fetchTokenDetailsByRpc=_asyncToGenerator(function*(params){throw new NotImplemented();});function fetchTokenDetailsByRpc(_x15){return _fetchTokenDetailsByRpc.apply(this,arguments);}return fetchTokenDetailsByRpc;}();return _createClass(VaultBaseChainOnly);}(VaultContext);export var VaultBase=function(_VaultBaseChainOnly){_inherits(VaultBase,_VaultBaseChainOnly);var _super2=_createSuper(VaultBase);function VaultBase(...args){var _this;_this=_super2.call(this,...args);_this.uuid=generateUUID();_this.mutexBuildOnChainHistoryTxGetDBAccount=new Semaphore(1);return _this;}var _proto2=VaultBase.prototype;_proto2.init=function(){var _init=_asyncToGenerator(function*(config){yield this.initKeyring(config);});function init(_x16){return _init.apply(this,arguments);}return init;}();_proto2.initKeyring=function(){var _initKeyring=_asyncToGenerator(function*(config){if(!this.options.isChainOnly){this.keyring=yield config.keyringCreator(this);}});function initKeyring(_x17){return _initKeyring.apply(this,arguments);}return initKeyring;}();_proto2.broadcastTransaction=function(){var _broadcastTransaction=_asyncToGenerator(function*(params){var{signedTx}=params;var txid=yield this.backgroundApi.serviceSend.broadcastTransaction(params);return _objectSpread(_objectSpread({},signedTx),{},{txid,encodedTx:signedTx.encodedTx});});function broadcastTransaction(_x18){return _broadcastTransaction.apply(this,arguments);}return broadcastTransaction;}();_proto2.broadcastTransactionFromCustomRpc=function(){var _broadcastTransactionFromCustomRpc=_asyncToGenerator(function*(params){throw new NotImplemented();});function broadcastTransactionFromCustomRpc(_x19){return _broadcastTransactionFromCustomRpc.apply(this,arguments);}return broadcastTransactionFromCustomRpc;}();_proto2.validateSendAmount=function(){var _validateSendAmount=_asyncToGenerator(function*(params){return Promise.resolve(true);});function validateSendAmount(_x20){return _validateSendAmount.apply(this,arguments);}return validateSendAmount;}();_proto2.buildOnChainHistoryTxExtraInfo=function(){var _buildOnChainHistoryTxExtraInfo=_asyncToGenerator(function*({onChainHistoryTx}){return null;});function buildOnChainHistoryTxExtraInfo(_x21){return _buildOnChainHistoryTxExtraInfo.apply(this,arguments);}return buildOnChainHistoryTxExtraInfo;}();_proto2.precheckUnsignedTx=function(){var _precheckUnsignedTx=_asyncToGenerator(function*(params){return Promise.resolve(true);});function precheckUnsignedTx(_x22){return _precheckUnsignedTx.apply(this,arguments);}return precheckUnsignedTx;}();_proto2.buildEstimateFeeParams=function(){var _buildEstimateFeeParams=_asyncToGenerator(function*({encodedTx}){return Promise.resolve({encodedTx});});function buildEstimateFeeParams(_x23){return _buildEstimateFeeParams.apply(this,arguments);}return buildEstimateFeeParams;}();_proto2.buildParseTransactionParams=function(){var _buildParseTransactionParams=_asyncToGenerator(function*({encodedTx}){return Promise.resolve({encodedTx});});function buildParseTransactionParams(_x24){return _buildParseTransactionParams.apply(this,arguments);}return buildParseTransactionParams;}();_proto2.buildFetchHistoryListParams=function(){var _buildFetchHistoryListParams=_asyncToGenerator(function*(params){return Promise.resolve({});});function buildFetchHistoryListParams(_x25){return _buildFetchHistoryListParams.apply(this,arguments);}return buildFetchHistoryListParams;}();_proto2.buildHistoryTx=function(){var _buildHistoryTx=_asyncToGenerator(function*(params){var{historyTxToMerge,decodedTx,signedTx,isSigner,isLocalCreated,dbAccount}=params;var accountAddress=params.accountAddress||'';var xpub=params.xpub;var txid=signedTx?.txid||decodedTx?.txid||'';if(!txid){throw new Error('buildHistoryTx txid not found');}var{accountId,networkId}=decodedTx;try{var[a,x]=yield Promise.all([this.backgroundApi.serviceAccount.getAccountAddressForApi({dbAccount,accountId,networkId}),this.backgroundApi.serviceAccount.getAccountXpub({dbAccount,accountId,networkId})]);accountAddress=a;xpub=x;}catch(e){}decodedTx.txid=txid||decodedTx.txid;decodedTx.owner=accountAddress;decodedTx.xpub=xpub;if(isSigner){decodedTx.signer=accountAddress;}var historyId=accountUtils.buildLocalHistoryId({networkId,txid,accountAddress,xpub});var historyTx=_objectSpread(_objectSpread({id:historyId,isLocalCreated:Boolean(isLocalCreated)},historyTxToMerge),{},{decodedTx});return Promise.resolve(historyTx);});function buildHistoryTx(_x26){return _buildHistoryTx.apply(this,arguments);}return buildHistoryTx;}();_proto2.fixOnChainHistoryAccountData=function fixOnChainHistoryAccountData(params){var{accountId:originAccountId,networkId:originNetworkId,accountAddress:originAccountAddress,xpub:originXpub,onChainHistoryTx,allNetworkHistoryExtraItems}=params;var accountId=originAccountId;var networkId=originNetworkId;var accountAddress=originAccountAddress;var xpub=originXpub;if(originNetworkId===getNetworkIdsMap().onekeyall){var allNetworkAccount=allNetworkHistoryExtraItems?.find(function(i){var[_,txXpub]=onChainHistoryTx.key.split('_');if(!_isNil(i.accountXpub)){return i.networkId===onChainHistoryTx.networkId&&i.accountXpub===txXpub;}return i.networkId===onChainHistoryTx.networkId;});if(allNetworkAccount){accountId=allNetworkAccount.accountId;networkId=allNetworkAccount.networkId;accountAddress=allNetworkAccount.accountAddress;xpub=allNetworkAccount.accountXpub;}}return{accountId,networkId,accountAddress,xpub};};_proto2.buildOnChainHistoryTx=function(){var _buildOnChainHistoryTx=_asyncToGenerator(function*(params){var _this2=this;var{onChainHistoryTx,tokens,nfts,allNetworkHistoryExtraItems,dbAccountCache}=params;var{accountId,networkId,accountAddress,xpub}=this.fixOnChainHistoryAccountData({accountId:params.accountId,networkId:params.networkId,accountAddress:params.accountAddress,xpub:params.xpub,onChainHistoryTx,allNetworkHistoryExtraItems});if(params.accountId!==accountId){}var key=`${accountId}`;var dbAccount;if(dbAccountCache){yield this.mutexBuildOnChainHistoryTxGetDBAccount.runExclusive(_asyncToGenerator(function*(){dbAccount=dbAccountCache?.[key];if(!dbAccount){dbAccount=yield _this2.backgroundApi.serviceAccount.getDBAccountSafe({accountId});if(dbAccount){dbAccountCache[key]=dbAccount;}}}));}var vaultSettings=yield this.backgroundApi.serviceNetwork.getVaultSettings({networkId});try{var action=yield this.buildHistoryTxAction({tx:onChainHistoryTx,tokens,nfts});var decodedTx={txid:onChainHistoryTx.tx,owner:accountAddress,signer:onChainHistoryTx.from,to:onChainHistoryTx.to,nonce:onChainHistoryTx.nonce,actions:[action],status:getOnChainHistoryTxStatus(onChainHistoryTx.status),networkId,accountId,xpub,totalFeeInNative:onChainHistoryTx.gasFee,totalFeeFiatValue:onChainHistoryTx.gasFeeFiatValue,nativeAmount:vaultSettings.isUtxo?onChainHistoryTx.value:undefined,extraInfo:yield this.buildOnChainHistoryTxExtraInfo({onChainHistoryTx}),payload:{type:onChainHistoryTx.type,value:onChainHistoryTx.value,label:onChainHistoryTx.label}};decodedTx.updatedAt=new Date(onChainHistoryTx.timestamp*1000).getTime();decodedTx.createdAt=decodedTx.updatedAt;decodedTx.isFinal=true;return yield this.buildHistoryTx({dbAccount,decodedTx,accountAddress,xpub});}catch(e){return null;}});function buildOnChainHistoryTx(_x27){return _buildOnChainHistoryTx.apply(this,arguments);}return buildOnChainHistoryTx;}();_proto2.buildHistoryTxAction=function(){var _buildHistoryTxAction=_asyncToGenerator(function*({tx,tokens,nfts}){if(tx.type===EOnChainHistoryTxType.Approve&&tx.tokenApprove){return this.buildHistoryTxApproveAction({tx,tokens,nfts,tokenApprove:tx.tokenApprove});}if(_isEmpty(tx.sends)&&_isEmpty(tx.receives)){if(tx.type)return this.buildHistoryTxFunctionCallAction({tx});return this.buildHistoryTxUnknownAction({tx});}return this.buildHistoryTransferAction({tx,tokens,nfts});});function buildHistoryTxAction(_x28){return _buildHistoryTxAction.apply(this,arguments);}return buildHistoryTxAction;}();_proto2.buildHistoryTxFunctionCallAction=function(){var _buildHistoryTxFunctionCallAction=_asyncToGenerator(function*({tx}){var network=yield this.getNetwork();return{type:EDecodedTxActionType.FUNCTION_CALL,functionCall:{from:tx.from,to:tx.to,functionName:tx.label,functionHash:tx.functionCode,args:tx.params}};});function buildHistoryTxFunctionCallAction(_x29){return _buildHistoryTxFunctionCallAction.apply(this,arguments);}return buildHistoryTxFunctionCallAction;}();_proto2.buildHistoryTxUnknownAction=function(){var _buildHistoryTxUnknownAction=_asyncToGenerator(function*({tx}){var network=yield this.getNetwork();return{type:EDecodedTxActionType.UNKNOWN,unknownAction:{from:tx.from,to:tx.to,label:tx.label}};});function buildHistoryTxUnknownAction(_x30){return _buildHistoryTxUnknownAction.apply(this,arguments);}return buildHistoryTxUnknownAction;}();_proto2.buildHistoryTransferAction=function(){var _buildHistoryTransferAction=_asyncToGenerator(function*({tx,tokens,nfts}){var _this3=this;return{type:EDecodedTxActionType.ASSET_TRANSFER,assetTransfer:{from:tx.from,to:tx.to,label:tx.label,sends:tx.sends.map(function(send){return _this3.buildHistoryTransfer({transfer:send,tokens,nfts});}),receives:tx.receives.map(function(receive){return _this3.buildHistoryTransfer({transfer:receive,tokens,nfts});})}};});function buildHistoryTransferAction(_x31){return _buildHistoryTransferAction.apply(this,arguments);}return buildHistoryTransferAction;}();_proto2.buildHistoryTransfer=function buildHistoryTransfer({transfer,tokens,nfts}){var{icon,symbol,name,isNFT,isNative,price}=getOnChainHistoryTxAssetInfo({key:transfer.key,tokenAddress:transfer.token,tokens,nfts});return{from:transfer.from,to:transfer.to,tokenIdOnNetwork:transfer.token,amount:transfer.amount,label:transfer.label,isOwn:transfer.isOwn,icon,name,symbol,isNFT,isNative,price};};_proto2.buildHistoryTxApproveAction=function buildHistoryTxApproveAction({tx,tokens,nfts,tokenApprove}){var{icon,symbol,name,decimals}=getOnChainHistoryTxAssetInfo({key:tokenApprove.key,tokenAddress:tokenApprove.token,tokens,nfts});return{type:EDecodedTxActionType.TOKEN_APPROVE,tokenApprove:{from:tx.from,to:tx.to,spender:tokenApprove.spender,icon,name,symbol,decimals,label:tx.label,tokenIdOnNetwork:tokenApprove.token,amount:new BigNumber(tokenApprove.amount).shiftedBy(-decimals).toFixed(),isInfiniteAmount:tokenApprove.isInfiniteAmount}};};_proto2.buildTxTransferAssetAction=function(){var _buildTxTransferAssetAction=_asyncToGenerator(function*(params){var{from,to,transfers,data,application,isInternalSwap,isInternalStaking,internalStakingLabel,swapReceivedAddress,swapReceivedNetworkId}=params;var[accountAddress,network]=yield Promise.all([this.getAccountAddress(),this.getNetwork()]);var sendNativeTokenAmountBN=new BigNumber(0);var assetTransfer={from,to,sends:[],receives:[],application,isInternalSwap,isInternalStaking,internalStakingLabel,swapReceivedAddress,swapReceivedNetworkId};transfers.forEach(function(transfer){if(buildTxActionDirection({from:transfer.from,to:transfer.to,accountAddress})===EDecodedTxDirection.OUT){assetTransfer.sends.push(transfer);if(transfer.isNative){sendNativeTokenAmountBN=sendNativeTokenAmountBN.plus(new BigNumber(transfer.amount));}}else{assetTransfer.receives.push(transfer);}});assetTransfer.nativeAmount=sendNativeTokenAmountBN.toFixed();assetTransfer.nativeAmountValue=chainValueUtils.convertAmountToChainValue({value:sendNativeTokenAmountBN,network});return{type:EDecodedTxActionType.ASSET_TRANSFER,data,assetTransfer};});function buildTxTransferAssetAction(_x32){return _buildTxTransferAssetAction.apply(this,arguments);}return buildTxTransferAssetAction;}();_proto2.buildInternalSwapAction=function(){var _buildInternalSwapAction=_asyncToGenerator(function*(params){var _swapSendToken$logoUR,_swapSendToken$name,_swapReceiveToken$log,_swapReceiveToken$nam,_providerInfo$provide;var{swapData,swapInfo,swapToAddress}=params;var swapSendToken=swapInfo.sender.token;var swapReceiveToken=swapInfo.receiver.token;var providerInfo=swapInfo.swapBuildResData.result.info;var otherFeeInfos=swapInfo.swapBuildResData.result.fee?.otherFeeInfos;var otherFeeInfoTransfers=[];var transfers=[{from:swapInfo.accountAddress,to:'',tokenIdOnNetwork:swapSendToken.contractAddress,icon:(_swapSendToken$logoUR=swapSendToken.logoURI)!=null?_swapSendToken$logoUR:'',name:(_swapSendToken$name=swapSendToken.name)!=null?_swapSendToken$name:'',symbol:swapSendToken.symbol,amount:swapInfo.sender.amount,isNFT:false,isNative:swapSendToken.isNative,networkId:swapInfo.sender.accountInfo.networkId},{from:'',to:swapInfo.receivingAddress,tokenIdOnNetwork:swapReceiveToken.contractAddress,icon:(_swapReceiveToken$log=swapReceiveToken.logoURI)!=null?_swapReceiveToken$log:'',name:(_swapReceiveToken$nam=swapReceiveToken.name)!=null?_swapReceiveToken$nam:'',symbol:swapReceiveToken.symbol,amount:swapInfo.receiver.amount,isNFT:false,isNative:swapReceiveToken.isNative,networkId:swapInfo.receiver.accountInfo.networkId}];if(otherFeeInfos){otherFeeInfos.forEach(function(feeInfo){if(feeInfo.token.contractAddress===transfers[0].tokenIdOnNetwork){transfers[0].amount=new BigNumber(transfers[0].amount).plus(feeInfo.amount).toFixed();}else{var _feeInfo$token$logoUR,_feeInfo$token$name;otherFeeInfoTransfers.push({from:swapInfo.accountAddress,to:'',tokenIdOnNetwork:feeInfo.token.contractAddress,icon:(_feeInfo$token$logoUR=feeInfo.token.logoURI)!=null?_feeInfo$token$logoUR:'',name:(_feeInfo$token$name=feeInfo.token.name)!=null?_feeInfo$token$name:'',symbol:feeInfo.token.symbol,amount:feeInfo.amount,isNFT:false,isNative:feeInfo.token.isNative,networkId:swapInfo.sender.accountInfo.networkId});}});}transfers=[...otherFeeInfoTransfers,...transfers];var action=yield this.buildTxTransferAssetAction({from:swapInfo.accountAddress,to:swapToAddress!=null?swapToAddress:'',data:swapData,application:{name:providerInfo.providerName,icon:(_providerInfo$provide=providerInfo.providerLogo)!=null?_providerInfo$provide:''},isInternalSwap:true,swapReceivedAddress:swapInfo.receivingAddress,swapReceivedNetworkId:swapInfo.receiver.token.networkId,transfers});return action;});function buildInternalSwapAction(_x33){return _buildInternalSwapAction.apply(this,arguments);}return buildInternalSwapAction;}();_proto2.buildInternalStakingAction=function(){var _buildInternalStakingAction=_asyncToGenerator(function*(params){var _send$token$logoURI,_send$token$name,_receive$token$logoUR,_receive$token$name;var{stakingInfo,stakingData,accountAddress,stakingToAddress}=params;var{protocol,protocolLogoURI,send,receive}=stakingInfo;var transfers=[send&&{from:accountAddress,to:'',tokenIdOnNetwork:send.token.address,icon:(_send$token$logoURI=send.token.logoURI)!=null?_send$token$logoURI:'',name:(_send$token$name=send.token.name)!=null?_send$token$name:'',symbol:send.token.symbol,amount:send.amount,isNFT:false,isNative:send.token.isNative},receive&&{from:'',to:accountAddress,tokenIdOnNetwork:receive.token.address,icon:(_receive$token$logoUR=receive.token.logoURI)!=null?_receive$token$logoUR:'',name:(_receive$token$name=receive.token.name)!=null?_receive$token$name:'',symbol:receive.token.symbol,amount:receive.amount,isNFT:false,isNative:receive.token.isNative}].filter(Boolean);var action=yield this.buildTxTransferAssetAction({from:accountAddress,to:stakingToAddress!=null?stakingToAddress:'',data:stakingData,application:{name:protocol,icon:protocolLogoURI!=null?protocolLogoURI:''},isInternalStaking:true,internalStakingLabel:getStakingActionLabel({stakingInfo}),transfers});return action;});function buildInternalStakingAction(_x34){return _buildInternalStakingAction.apply(this,arguments);}return buildInternalStakingAction;}();_proto2.signTransaction=function(){var _signTransaction=_asyncToGenerator(function*(params){var _params$signOnly,_signedTx$encodedTx;var{unsignedTx}=params;params.signOnly=(_params$signOnly=params.signOnly)!=null?_params$signOnly:true;var signedTx=yield this.keyring.signTransaction(params);return _objectSpread(_objectSpread({},signedTx),{},{encodedTx:(_signedTx$encodedTx=signedTx.encodedTx)!=null?_signedTx$encodedTx:unsignedTx.encodedTx});});function signTransaction(_x35){return _signTransaction.apply(this,arguments);}return signTransaction;}();_proto2.getAccount=function(){var _getAccount=_asyncToGenerator(function*({dbAccount}={}){var account=dbAccount;if(!account||account?.id!==this.accountId){account=yield this.backgroundApi.serviceAccount.getDBAccount({accountId:this.accountId});}if(!accountUtils.isAccountCompatibleWithNetwork({account,networkId:this.networkId})){throw new Error(`account impl not matched to network: ${this.networkId} ${account.id?.slice(0,30)}`);}var networkInfo=yield this.getNetworkInfo();var externalAccount=account;var externalAccountAddress='';if(externalAccount.connectedAddresses){var buildExternalAccountAddress=function({key,fallbackIndex}){var _externalAccount$sele;if(!key){return'';}var index=(_externalAccount$sele=externalAccount.selectedAddress?.[key])!=null?_externalAccount$sele:fallbackIndex;var addresses=externalAccount.connectedAddresses?.[key]?.split(',').filter(Boolean)||[];return addresses?.[index]||addresses?.[fallbackIndex]||'';};externalAccountAddress=buildExternalAccountAddress({key:this.networkId,fallbackIndex:-1});if(!externalAccountAddress){var impl=yield this.getNetworkImpl();externalAccountAddress=buildExternalAccountAddress({key:impl,fallbackIndex:0});}if(!externalAccountAddress){externalAccountAddress=buildExternalAccountAddress({key:this.networkId,fallbackIndex:0});}}var addressDetail=yield this.buildAccountAddressDetail({networkInfo,account,networkId:this.networkId,externalAccountAddress});var address=addressDetail?.address||'';if(!address&&!addressDetail.allowEmptyAddress||!addressDetail.isValid){throw new Error('VaultBase.getAccount ERROR: address is invalid');}return _objectSpread(_objectSpread({},account),{},{addressDetail,address});});function getAccount(){return _getAccount.apply(this,arguments);}return getAccount;}();_proto2.getAccountAddress=function(){var _getAccountAddress=_asyncToGenerator(function*(){return(yield this.getAccount()).address;});function getAccountAddress(){return _getAccountAddress.apply(this,arguments);}return getAccountAddress;}();_proto2.getAccountPath=function(){var _getAccountPath=_asyncToGenerator(function*(){return(yield this.getAccount()).path;});function getAccountPath(){return _getAccountPath.apply(this,arguments);}return getAccountPath;}();_proto2.getAccountXpub=function(){var _getAccountXpub=_asyncToGenerator(function*({dbAccount}={}){var networkAccount=yield this.getAccount({dbAccount});return this.getXpubFromAccount(networkAccount);});function getAccountXpub(){return _getAccountXpub.apply(this,arguments);}return getAccountXpub;}();_proto2.fillTokensDetails=function(){var _fillTokensDetails=_asyncToGenerator(function*({tokensDetails}){return Promise.resolve(tokensDetails);});function fillTokensDetails(_x36){return _fillTokensDetails.apply(this,arguments);}return fillTokensDetails;}();_proto2.fillAccountDetails=function(){var _fillAccountDetails=_asyncToGenerator(function*({accountDetails}){return Promise.resolve(accountDetails);});function fillAccountDetails(_x37){return _fillAccountDetails.apply(this,arguments);}return fillAccountDetails;}();_proto2.isEarliestLocalPendingTx=function(){var _isEarliestLocalPendingTx=_asyncToGenerator(function*({encodedTx}){return true;});function isEarliestLocalPendingTx(_x38){return _isEarliestLocalPendingTx.apply(this,arguments);}return isEarliestLocalPendingTx;}();_proto2.buildReplaceEncodedTx=function(){var _buildReplaceEncodedTx=_asyncToGenerator(function*({decodedTx,replaceType}){return Promise.resolve(decodedTx.encodedTx);});function buildReplaceEncodedTx(_x39){return _buildReplaceEncodedTx.apply(this,arguments);}return buildReplaceEncodedTx;}();_proto2.attachFeeInfoToDAppEncodedTx=function(){var _attachFeeInfoToDAppEncodedTx=_asyncToGenerator(function*(params){return Promise.resolve(params.encodedTx);});function attachFeeInfoToDAppEncodedTx(_x40){return _attachFeeInfoToDAppEncodedTx.apply(this,arguments);}return attachFeeInfoToDAppEncodedTx;}();_proto2.activateToken=function(){var _activateToken=_asyncToGenerator(function*(params){throw new NotImplemented();});function activateToken(_x41){return _activateToken.apply(this,arguments);}return activateToken;}();_proto2.getAddressType=function(){var _getAddressType=_asyncToGenerator(function*({address}){return Promise.resolve({});});function getAddressType(_x42){return _getAddressType.apply(this,arguments);}return getAddressType;}();_proto2.buildStakeEncodedTx=function buildStakeEncodedTx(params){return Promise.resolve(params);};_proto2.fetchAccountDetails=function(){var _fetchAccountDetails=_asyncToGenerator(function*(params){var isCustomNetwork=yield this.backgroundApi.serviceNetwork.isCustomNetwork({networkId:this.networkId});if(isCustomNetwork){return this.fetchAccountDetailsByRpc(params);}return this.fetchAccountDetailsByApi(params);});function fetchAccountDetails(_x43){return _fetchAccountDetails.apply(this,arguments);}return fetchAccountDetails;}();_proto2.fetchAccountDetailsByApi=function(){var _fetchAccountDetailsByApi=_asyncToGenerator(function*(params){var queryParams=_objectSpread({},_omit(params,['accountId','signal']));var client=yield this.backgroundApi.serviceAccountProfile.getClient(EServiceEndpointEnum.Wallet);var resp=yield client.get(`/wallet/v1/account/get-account?${qs.stringify(_omitBy(queryParams,_isNil))}`,{headers:yield this.backgroundApi.serviceAccountProfile._getWalletTypeHeader({accountId:params.accountId}),signal:params.signal});return resp;});function fetchAccountDetailsByApi(_x44){return _fetchAccountDetailsByApi.apply(this,arguments);}return fetchAccountDetailsByApi;}();_proto2.fetchAccountDetailsByRpc=function(){var _fetchAccountDetailsByRpc=_asyncToGenerator(function*(params){throw new NotImplemented();});function fetchAccountDetailsByRpc(_x45){return _fetchAccountDetailsByRpc.apply(this,arguments);}return fetchAccountDetailsByRpc;}();_proto2.fetchTokenList=function(){var _fetchTokenList=_asyncToGenerator(function*(params){var isCustomNetwork=yield this.backgroundApi.serviceNetwork.isCustomNetwork({networkId:this.networkId});if(isCustomNetwork){return this.fetchTokenListByRpc(params);}return this.fetchTokenListByApi(params);});function fetchTokenList(_x46){return _fetchTokenList.apply(this,arguments);}return fetchTokenList;}();_proto2.fetchTokenListByApi=function(){var _fetchTokenListByApi=_asyncToGenerator(function*(params){var{serviceToken,serviceAccountProfile}=this.backgroundApi;var{requestApiParams,flag,signal,accountId}=params;if(requestApiParams.contractList){requestApiParams.contractList=requestApiParams.contractList.filter(function(contract){return contract!==null&&typeof contract==='string';});}var client=yield serviceToken.getClient(EServiceEndpointEnum.Wallet);var resp=yield client.post(`/wallet/v1/account/token/list?flag=${flag||''}`,requestApiParams,{signal,headers:yield serviceAccountProfile._getWalletTypeHeader({accountId})});return resp;});function fetchTokenListByApi(_x47){return _fetchTokenListByApi.apply(this,arguments);}return fetchTokenListByApi;}();_proto2.fetchTokenListByRpc=function(){var _fetchTokenListByRpc=_asyncToGenerator(function*(params){throw new NotImplemented();});function fetchTokenListByRpc(_x48){return _fetchTokenListByRpc.apply(this,arguments);}return fetchTokenListByRpc;}();_proto2.estimateFee=function(){var _estimateFee=_asyncToGenerator(function*(params){var isCustomNetwork=yield this.backgroundApi.serviceNetwork.isCustomNetwork({networkId:this.networkId});if(isCustomNetwork){return this.estimateFeeByRpc(params);}return this.estimateFeeByApi(params);});function estimateFee(_x49){return _estimateFee.apply(this,arguments);}return estimateFee;}();_proto2.estimateFeeByApi=function(){var _estimateFeeByApi=_asyncToGenerator(function*(params){var{accountId}=params,rest=_objectWithoutProperties(params,_excluded);var client=yield this.backgroundApi.serviceGas.getClient(EServiceEndpointEnum.Wallet);var resp=yield client.post('/wallet/v1/account/estimate-fee',rest,{headers:yield this.backgroundApi.serviceAccountProfile._getWalletTypeHeader({accountId})});return resp;});function estimateFeeByApi(_x50){return _estimateFeeByApi.apply(this,arguments);}return estimateFeeByApi;}();_proto2.estimateFeeByRpc=function(){var _estimateFeeByRpc=_asyncToGenerator(function*(params){throw new NotImplemented();});function estimateFeeByRpc(_x51){return _estimateFeeByRpc.apply(this,arguments);}return estimateFeeByRpc;}();_proto2.fetchAccountHistoryDetail=function(){var _fetchAccountHistoryDetail=_asyncToGenerator(function*(params){var isCustomNetwork=yield this.backgroundApi.serviceNetwork.isCustomNetwork({networkId:this.networkId});if(isCustomNetwork){return this.fetchAccountHistoryDetailByRpc(params);}return this.fetchAccountHistoryDetailByApi(params);});function fetchAccountHistoryDetail(_x52){return _fetchAccountHistoryDetail.apply(this,arguments);}return fetchAccountHistoryDetail;}();_proto2.fetchAccountHistoryDetailByApi=function(){var _fetchAccountHistoryDetailByApi=_asyncToGenerator(function*(params){var{accountId}=params,rest=_objectWithoutProperties(params,_excluded2);var client=yield this.backgroundApi.serviceGas.getClient(EServiceEndpointEnum.Wallet);var resp=yield client.get('/wallet/v1/account/history/detail',{params:rest,headers:yield this.backgroundApi.serviceAccountProfile._getWalletTypeHeader({accountId})});return resp;});function fetchAccountHistoryDetailByApi(_x53){return _fetchAccountHistoryDetailByApi.apply(this,arguments);}return fetchAccountHistoryDetailByApi;}();_proto2.fetchAccountHistoryDetailByRpc=function(){var _fetchAccountHistoryDetailByRpc=_asyncToGenerator(function*(params){throw new NotImplemented();});function fetchAccountHistoryDetailByRpc(_x54){return _fetchAccountHistoryDetailByRpc.apply(this,arguments);}return fetchAccountHistoryDetailByRpc;}();_proto2.buildOkxSwapEncodedTx=function(){var _buildOkxSwapEncodedTx=_asyncToGenerator(function*(params){throw new NotImplemented();});function buildOkxSwapEncodedTx(_x55){return _buildOkxSwapEncodedTx.apply(this,arguments);}return buildOkxSwapEncodedTx;}();return _createClass(VaultBase);}(VaultBaseChainOnly);","import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import accountUtils from'@onekeyhq/shared/src/utils/accountUtils';import networkUtils from'@onekeyhq/shared/src/utils/networkUtils';import{getVaultSettings as _getVaultSettings,getVaultSettingsNetworkInfo}from\"../settings\";export var VaultContext=function(){function VaultContext(options){this.options=options;this.networkId=options.networkId||'';this.accountId=options.accountId||'';this.backgroundApi=options.backgroundApi;this.walletId=options.walletId||(this.accountId?accountUtils.getWalletIdFromAccountId({accountId:this.accountId}):'');if(!this.walletId&&!this.options.isChainOnly){throw new Error('can not get correct walletId');}}var _proto=VaultContext.prototype;_proto.getNetworkId=function(){var _getNetworkId=_asyncToGenerator(function*(){return this.networkId;});function getNetworkId(){return _getNetworkId.apply(this,arguments);}return getNetworkId;}();_proto.getNetwork=function(){var _getNetwork=_asyncToGenerator(function*({cached}={}){if(!cached||!this._network||this._network.id!==this.networkId){var network=yield this.backgroundApi.serviceNetwork.getNetwork({networkId:this.networkId});this._network=network;}return this._network;});function getNetwork(){return _getNetwork.apply(this,arguments);}return getNetwork;}();_proto.getNetworkChainId=function(){var _getNetworkChainId=_asyncToGenerator(function*({hex=false}={}){return networkUtils.getNetworkChainId({networkId:this.networkId,hex});});function getNetworkChainId(){return _getNetworkChainId.apply(this,arguments);}return getNetworkChainId;}();_proto.getNetworkImpl=function(){var _getNetworkImpl=_asyncToGenerator(function*(){return networkUtils.getNetworkImpl({networkId:this.networkId});});function getNetworkImpl(){return _getNetworkImpl.apply(this,arguments);}return getNetworkImpl;}();_proto.getVaultSettings=function(){var _getVaultSettings2=_asyncToGenerator(function*(){return _getVaultSettings({networkId:this.networkId});});function getVaultSettings(){return _getVaultSettings2.apply(this,arguments);}return getVaultSettings;}();_proto.getNetworkInfo=function(){var _getNetworkInfo=_asyncToGenerator(function*(){return getVaultSettingsNetworkInfo({networkId:this.networkId});});function getNetworkInfo(){return _getNetworkInfo.apply(this,arguments);}return getNetworkInfo;}();_proto.getCoreApiNetworkInfo=function(){var _getCoreApiNetworkInfo=_asyncToGenerator(function*(){var network=yield this.getNetwork();var networkInfo=yield this.getNetworkInfo();var{addressPrefix,curve}=networkInfo;var networkImpl=yield this.getNetworkImpl();var chainId=yield this.getNetworkChainId({hex:false});var{isTestnet}=network;var{networkId}=this;return{isTestnet,networkChainCode:network.code,chainId,networkId,networkImpl,addressPrefix,curve};});function getCoreApiNetworkInfo(){return _getCoreApiNetworkInfo.apply(this,arguments);}return getCoreApiNetworkInfo;}();_proto.getRpcUrl=function(){var _getRpcUrl=_asyncToGenerator(function*(){return'';});function getRpcUrl(){return _getRpcUrl.apply(this,arguments);}return getRpcUrl;}();_proto.destroy=function(){var _destroy=_asyncToGenerator(function*(){});function destroy(){return _destroy.apply(this,arguments);}return destroy;}();return _createClass(VaultContext);}();","import _createClass from\"@babel/runtime/helpers/createClass\";import{ethers}from'@onekeyhq/core/src/chains/evm/sdkEvm/ethers';import{ABI}from\"./abi\";var EVMContractDecoder=function(){function EVMContractDecoder(){this.erc20Interface=new ethers.utils.Interface(ABI.ERC20);this.erc721Interface=new ethers.utils.Interface(ABI.ERC721);this.erc1155Interface=new ethers.utils.Interface(ABI.ERC1155);this.batchTransferInterface=new ethers.utils.Interface(ABI.BATCH_TRANSFER);}var _proto=EVMContractDecoder.prototype;_proto.parseERC20=function parseERC20(tx){try{return this.erc20Interface.parseTransaction(tx);}catch(error){return null;}};_proto.parseERC721=function parseERC721(tx){try{return this.erc721Interface.parseTransaction(tx);}catch(error){return null;}};_proto.parseERC1155=function parseERC1155(tx){try{return this.erc1155Interface.parseTransaction(tx);}catch(error){return null;}};_proto.parseBatchTransfer=function parseBatchTransfer(tx){try{return this.batchTransferInterface.parseTransaction(tx);}catch(error){return null;}};return _createClass(EVMContractDecoder);}();export{EVMContractDecoder};","import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import{KeyringExternalBase}from\"../../base/KeyringExternalBase\";export var KeyringExternal=function(_KeyringExternalBase){_inherits(KeyringExternal,_KeyringExternalBase);var _super=_createSuper(KeyringExternal);function KeyringExternal(){return _super.apply(this,arguments);}var _proto=KeyringExternal.prototype;_proto.signMessage=function(){var _signMessage=_asyncToGenerator(function*(params){return this.baseSignMessageByExternalWallet(params);});function signMessage(_x){return _signMessage.apply(this,arguments);}return signMessage;}();_proto.signTransaction=function(){var _signTransaction=_asyncToGenerator(function*(params){return this.baseSendTransactionByExternalWallet(params);});function signTransaction(_x2){return _signTransaction.apply(this,arguments);}return signTransaction;}();return _createClass(KeyringExternal);}(KeyringExternalBase);","import _omit from\"lodash/omit\";import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import{web3Errors}from'@onekeyfe/cross-inpage-provider-errors';import{TypedDataUtils}from'eth-sig-util';import{buildSignedTxFromSignatureEvm}from'@onekeyhq/core/src/chains/evm/sdkEvm';import coreChainApi from'@onekeyhq/core/src/instance/coreChainApi';import{NotImplemented}from'@onekeyhq/shared/src/errors';import{convertDeviceError,convertDeviceResponse}from'@onekeyhq/shared/src/errors/utils/deviceErrorUtils';import accountUtils from'@onekeyhq/shared/src/utils/accountUtils';import{checkIsDefined}from'@onekeyhq/shared/src/utils/assertUtils';import hexUtils from'@onekeyhq/shared/src/utils/hexUtils';import numberUtils from'@onekeyhq/shared/src/utils/numberUtils';import{EMessageTypesEth}from'@onekeyhq/shared/types/message';import{KeyringHardwareBase}from\"../../base/KeyringHardwareBase\";function hardwareEvmSignTransaction(_x){return _hardwareEvmSignTransaction.apply(this,arguments);}function _hardwareEvmSignTransaction(){_hardwareEvmSignTransaction=_asyncToGenerator(function*({sdk,path,chainId,unsignedTx,deviceParams}){var _encodedTx$value,_encodedTx$data;var{dbDevice,deviceCommonParams}=checkIsDefined(deviceParams);var{connectId='',deviceId}=dbDevice;var response;var encodedTx=unsignedTx.encodedTx;var isEip1559=encodedTx.maxFeePerGas||encodedTx.maxPriorityFeePerGas;var txToSign;var nonce=numberUtils.numberToHex(checkIsDefined(encodedTx.nonce),{prefix0x:true});var gasLimit=numberUtils.numberToHex(checkIsDefined(encodedTx.gasLimit),{prefix0x:true});var value=(_encodedTx$value=encodedTx.value)!=null?_encodedTx$value:'0x0';var data=(_encodedTx$data=encodedTx.data)!=null?_encodedTx$data:'0x';if(isEip1559){var txToSignEIP1559=_objectSpread(_objectSpread({},_omit(encodedTx,'from')),{},{value,data,chainId,nonce,gasPrice:undefined,gasLimit,maxFeePerGas:checkIsDefined(encodedTx.maxFeePerGas),maxPriorityFeePerGas:checkIsDefined(encodedTx.maxPriorityFeePerGas)});txToSign=txToSignEIP1559;}else{var txToSignNormal=_objectSpread(_objectSpread({},_omit(encodedTx,'from')),{},{value,data,chainId,nonce,gasPrice:checkIsDefined(encodedTx.gasPrice),gasLimit,maxFeePerGas:undefined,maxPriorityFeePerGas:undefined});txToSign=txToSignNormal;}var tx={to:txToSign.to,gasPrice:txToSign.gasPrice,gasLimit:txToSign.gasLimit,nonce:parseInt(txToSign.nonce,16),data:txToSign.data,value:txToSign.value,chainId:txToSign.chainId};if(isEip1559){var _txToSign$maxFeePerGa,_txToSign$maxPriority;tx.type=2;tx.maxFeePerGas=(_txToSign$maxFeePerGa=txToSign?.maxFeePerGas)!=null?_txToSign$maxFeePerGa:undefined;tx.maxPriorityFeePerGas=(_txToSign$maxPriority=txToSign?.maxPriorityFeePerGas)!=null?_txToSign$maxPriority:undefined;}var result=yield convertDeviceResponse(_asyncToGenerator(function*(){return sdk.evmSignTransaction(connectId,deviceId,_objectSpread({path,transaction:txToSign},deviceCommonParams));}));var{rawTx,txid}=buildSignedTxFromSignatureEvm({tx,signature:result});return{txid,rawTx,encodedTx};});return _hardwareEvmSignTransaction.apply(this,arguments);}export var KeyringHardware=function(_KeyringHardwareBase){_inherits(KeyringHardware,_KeyringHardwareBase);var _super=_createSuper(KeyringHardware);function KeyringHardware(...args){var _this;_this=_super.call(this,...args);_this.coreApi=coreChainApi.evm.hd;_this.hwSdkNetwork='evm';return _this;}var _proto=KeyringHardware.prototype;_proto.signTransaction=function(){var _signTransaction=_asyncToGenerator(function*(params){var sdk=yield this.getHardwareSDKInstance();var path=yield this.vault.getAccountPath();var chainId=yield this.getNetworkChainId();var{unsignedTx}=params;return hardwareEvmSignTransaction({sdk,path,chainId:Number(chainId),unsignedTx,deviceParams:checkIsDefined(params.deviceParams)});});function signTransaction(_x2){return _signTransaction.apply(this,arguments);}return signTransaction;}();_proto.signMessage=function signMessage(params){var _this2=this;var{messages,deviceParams}=params;checkIsDefined(deviceParams);return Promise.all(messages.map(function(){var _ref=_asyncToGenerator(function*(message){return _this2.handleSignMessage({message:message,deviceParams});});return function(_x3){return _ref.apply(this,arguments);};}()));};_proto.handleSignMessage=function(){var _handleSignMessage=_asyncToGenerator(function*(params){var{message,deviceParams}=params;if(!deviceParams){throw new Error('deviceParams is undefined');}var{dbDevice,deviceCommonParams}=deviceParams;var{connectId,deviceId}=dbDevice;var sdk=yield this.getHardwareSDKInstance();var path=yield this.vault.getAccountPath();var chainId=Number(yield this.getNetworkChainId());if(message.type===EMessageTypesEth.TYPED_DATA_V1||message.type===EMessageTypesEth.ETH_SIGN){throw new NotImplemented();}if(message.type===EMessageTypesEth.PERSONAL_SIGN){var messageBuffer;try{if(!hexUtils.isHexString(message.message))throw new Error('not hex string');messageBuffer=Buffer.from(message.message.replace('0x',''),'hex');}catch(error){messageBuffer=Buffer.from('');}var messageHex=message.message;if(messageBuffer.length===0){messageHex=Buffer.from(message.message,'utf-8').toString('hex');}var res=yield sdk.evmSignMessage(connectId,deviceId,_objectSpread({path,messageHex,chainId},deviceCommonParams));if(!res.success){throw convertDeviceError(res.payload);}return hexUtils.addHexPrefix(res?.payload?.signature||'');}if(message.type===EMessageTypesEth.TYPED_DATA_V3||message.type===EMessageTypesEth.TYPED_DATA_V4){var useV4=message.type===EMessageTypesEth.TYPED_DATA_V4;var data=JSON.parse(message.message);var typedData=TypedDataUtils.sanitizeData(data);var domainHash=TypedDataUtils.hashStruct('EIP712Domain',typedData.domain,typedData.types,useV4).toString('hex');var messageHash=TypedDataUtils.hashStruct(typedData.primaryType,typedData.message,typedData.types,useV4).toString('hex');var _res=yield sdk.evmSignTypedData(connectId,deviceId,_objectSpread({path,metamaskV4Compat:!!useV4,data,domainHash,messageHash,chainId},deviceCommonParams));if(!_res.success){throw convertDeviceError(_res.payload);}return hexUtils.addHexPrefix(_res?.payload?.signature||'');}throw web3Errors.rpc.methodNotFound(`Sign message method=${message.type} not found`);});function handleSignMessage(_x4){return _handleSignMessage.apply(this,arguments);}return handleSignMessage;}();_proto.buildHwAllNetworkPrepareAccountsParams=function(){var _buildHwAllNetworkPrepareAccountsParams=_asyncToGenerator(function*(params){return{network:this.hwSdkNetwork,path:params.path,showOnOneKey:false};});function buildHwAllNetworkPrepareAccountsParams(_x5){return _buildHwAllNetworkPrepareAccountsParams.apply(this,arguments);}return buildHwAllNetworkPrepareAccountsParams;}();_proto.prepareAccounts=function(){var _prepareAccounts=_asyncToGenerator(function*(params){var _this3=this;var chainId=yield this.getNetworkChainId();return this.basePrepareHdNormalAccounts(params,{buildAddressesInfo:function(){var _ref2=_asyncToGenerator(function*({usedIndexes}){var publicKeys=yield _this3.baseGetDeviceAccountAddresses({params,usedIndexes,sdkGetAddressFn:function(){var _ref3=_asyncToGenerator(function*({connectId,deviceId,template,coinName,showOnOnekeyFn}){var buildFullPath=function(p){return accountUtils.buildPathFromTemplate({template,index:p.index});};var allNetworkAccounts=yield _this3.getAllNetworkPrepareAccounts({params,usedIndexes,buildPath:buildFullPath,buildResultAccount:function({account}){return{path:account.path,address:account.payload?.address||''};},hwSdkNetwork:_this3.hwSdkNetwork});if(allNetworkAccounts){return allNetworkAccounts;}throw new Error('use sdk allNetworkGetAddress instead');});return function sdkGetAddressFn(_x8){return _ref3.apply(this,arguments);};}()});var ret=[];for(var i=0;i<publicKeys.length;i+=1){var item=publicKeys[i];var{path,address}=item;var{normalizedAddress}=yield _this3.vault.validateAddress(address);var addressInfo={address:normalizedAddress||address,path,publicKey:''};ret.push(addressInfo);}return ret;});return function buildAddressesInfo(_x7){return _ref2.apply(this,arguments);};}()});});function prepareAccounts(_x6){return _prepareAccounts.apply(this,arguments);}return prepareAccounts;}();return _createClass(KeyringHardware);}(KeyringHardwareBase);","import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import coreChainApi from'@onekeyhq/core/src/instance/coreChainApi';import{KeyringHdBase}from\"../../base/KeyringHdBase\";export var KeyringHd=function(_KeyringHdBase){_inherits(KeyringHd,_KeyringHdBase);var _super=_createSuper(KeyringHd);function KeyringHd(...args){var _this;_this=_super.call(this,...args);_this.coreApi=coreChainApi.evm.hd;return _this;}var _proto=KeyringHd.prototype;_proto.getPrivateKeys=function(){var _getPrivateKeys=_asyncToGenerator(function*(params){return this.baseGetPrivateKeys(params);});function getPrivateKeys(_x){return _getPrivateKeys.apply(this,arguments);}return getPrivateKeys;}();_proto.exportAccountSecretKeys=function(){var _exportAccountSecretKeys=_asyncToGenerator(function*(params){return this.baseExportAccountSecretKeys(params);});function exportAccountSecretKeys(_x2){return _exportAccountSecretKeys.apply(this,arguments);}return exportAccountSecretKeys;}();_proto.prepareAccounts=function(){var _prepareAccounts=_asyncToGenerator(function*(params){return this.basePrepareAccountsHd(params);});function prepareAccounts(_x3){return _prepareAccounts.apply(this,arguments);}return prepareAccounts;}();_proto.signTransaction=function(){var _signTransaction=_asyncToGenerator(function*(params){return this.baseSignTransaction(params);});function signTransaction(_x4){return _signTransaction.apply(this,arguments);}return signTransaction;}();_proto.signMessage=function(){var _signMessage=_asyncToGenerator(function*(params){return this.baseSignMessage(params);});function signMessage(_x5){return _signMessage.apply(this,arguments);}return signMessage;}();return _createClass(KeyringHd);}(KeyringHdBase);","import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import coreChainApi from'@onekeyhq/core/src/instance/coreChainApi';import{KeyringImportedBase}from\"../../base/KeyringImportedBase\";export var KeyringImported=function(_KeyringImportedBase){_inherits(KeyringImported,_KeyringImportedBase);var _super=_createSuper(KeyringImported);function KeyringImported(...args){var _this;_this=_super.call(this,...args);_this.coreApi=coreChainApi.evm.imported;return _this;}var _proto=KeyringImported.prototype;_proto.getPrivateKeys=function(){var _getPrivateKeys=_asyncToGenerator(function*(params){return this.baseGetPrivateKeys(params);});function getPrivateKeys(_x){return _getPrivateKeys.apply(this,arguments);}return getPrivateKeys;}();_proto.exportAccountSecretKeys=function(){var _exportAccountSecretKeys=_asyncToGenerator(function*(params){return this.baseExportAccountSecretKeys(params);});function exportAccountSecretKeys(_x2){return _exportAccountSecretKeys.apply(this,arguments);}return exportAccountSecretKeys;}();_proto.prepareAccounts=function(){var _prepareAccounts=_asyncToGenerator(function*(params){return this.basePrepareAccountsImported(params);});function prepareAccounts(_x3){return _prepareAccounts.apply(this,arguments);}return prepareAccounts;}();_proto.signTransaction=function(){var _signTransaction=_asyncToGenerator(function*(params){return this.baseSignTransaction(params);});function signTransaction(_x4){return _signTransaction.apply(this,arguments);}return signTransaction;}();_proto.signMessage=function(){var _signMessage=_asyncToGenerator(function*(params){return this.baseSignMessage(params);});function signMessage(_x5){return _signMessage.apply(this,arguments);}return signMessage;}();return _createClass(KeyringImported);}(KeyringImportedBase);","import _defineProperty from\"@babel/runtime/helpers/defineProperty\";function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}import{ethers}from\"./ethers\";export function verifyEvmSignedTxMatched({signerAddress,rawTx,txid,signature}){var txidFromRawTx=ethers.utils.keccak256(rawTx);if(txid!==txidFromRawTx||!txid||!txidFromRawTx){throw new Error(`EVM txid not match: ${txid}, ${txidFromRawTx}`);}var ethersTx=ethers.utils.parseTransaction(rawTx);var ethersTxClone=_objectSpread({},ethersTx);delete ethersTxClone.r;delete ethersTxClone.s;delete ethersTxClone.v;delete ethersTxClone.from;delete ethersTxClone.hash;var serializeTx=ethers.utils.serializeTransaction(ethersTxClone);var{r,s,v}=signature;var sig={r,s,v:Number(v)};var txHash=ethers.utils.keccak256(serializeTx);var recoveredAddress=ethers.utils.recoverAddress(txHash,sig);recoveredAddress=recoveredAddress.toLowerCase();var address=signerAddress.toLowerCase();if(address!==recoveredAddress||!address||!recoveredAddress){throw new Error(`EVM Signer address not match: ${address}, ${recoveredAddress}`);}}","import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import{TransactionTypes}from'@ethersproject/transactions';import HDKey from'hdkey';import{buildSignedTxFromSignatureEvm,packUnsignedTxForSignEvm}from'@onekeyhq/core/src/chains/evm/sdkEvm';import{verifyEvmSignedTxMatched}from'@onekeyhq/core/src/chains/evm/sdkEvm/verify';import coreChainApi from'@onekeyhq/core/src/instance/coreChainApi';import{EAirGapAccountNoteEvm,EAirGapDataTypeEvm,getAirGapSdk}from'@onekeyhq/qr-wallet-sdk';import{OneKeyErrorAirGapAccountNotFound,OneKeyErrorAirGapInvalidQrCode}from'@onekeyhq/shared/src/errors';import accountUtils from'@onekeyhq/shared/src/utils/accountUtils';import{checkIsDefined}from'@onekeyhq/shared/src/utils/assertUtils';import bufferUtils from'@onekeyhq/shared/src/utils/bufferUtils';import hexUtils from'@onekeyhq/shared/src/utils/hexUtils';import{EMessageTypesEth}from'@onekeyhq/shared/types/message';import localDb from\"../../../dbs/local/localDb\";import{UR_DEFAULT_ORIGIN}from\"../../../services/ServiceQrWallet/qrWalletConsts\";import{KeyringQrBase}from\"../../base/KeyringQrBase\";export var KeyringQr=function(_KeyringQrBase){_inherits(KeyringQr,_KeyringQrBase);var _super=_createSuper(KeyringQr);function KeyringQr(...args){var _this;_this=_super.call(this,...args);_this.coreApi=coreChainApi.evm.hd;return _this;}var _proto=KeyringQr.prototype;_proto.verifySignedTxMatched=function(){var _verifySignedTxMatched=_asyncToGenerator(function*({from,rawTx,txid,requestId,requestIdOfSig,signature}){if(requestId&&requestId!==requestIdOfSig){throw new OneKeyErrorAirGapInvalidQrCode();}return verifyEvmSignedTxMatched({signerAddress:from,rawTx,txid,signature});});function verifySignedTxMatched(_x){return _verifySignedTxMatched.apply(this,arguments);}return verifySignedTxMatched;}();_proto.getChildPathTemplates=function getChildPathTemplates(params){var{airGapAccount,index}=params;if(airGapAccount.note&&airGapAccount.note===EAirGapAccountNoteEvm.Standard){return{childPathTemplates:['0/*']};}return{childPathTemplates:['0/*','0/0']};};_proto.generateSignRequest=function generateSignRequest(params){var _params$origin;if(!params.xfp){throw new Error('xfp not found');}var sdk=getAirGapSdk();var signRequestUr=sdk.eth.generateSignRequest(_objectSpread(_objectSpread({},params),{},{origin:(_params$origin=params.origin)!=null?_params$origin:UR_DEFAULT_ORIGIN}));return Promise.resolve(signRequestUr);};_proto.parseSignature=function parseSignature(ur){var sdk=getAirGapSdk();try{var sig=sdk.eth.parseSignature(ur);return Promise.resolve(sig);}catch(error){throw new OneKeyErrorAirGapInvalidQrCode();}};_proto.signMessage=function signMessage(params){var _this2=this;var{messages}=params;return Promise.all(messages.map(function(){var _ref=_asyncToGenerator(function*(message){var msg=message;var dataType;if(msg.type===EMessageTypesEth.PERSONAL_SIGN){dataType=EAirGapDataTypeEvm.personalMessage;}if([EMessageTypesEth.TYPED_DATA_V1,EMessageTypesEth.TYPED_DATA_V3,EMessageTypesEth.TYPED_DATA_V4].includes(msg.type)){dataType=EAirGapDataTypeEvm.typedData;}if(!dataType){throw new Error(`Unsupported message type: ${dataType||'undefined'}`);}return _this2.baseSignByQrcode(params,{signRequestUrBuilder:function(){var _ref2=_asyncToGenerator(function*({path,account,chainId,requestId,xfp}){var signData=hexUtils.stripHexPrefix(msg.message);if(dataType===EAirGapDataTypeEvm.typedData){signData=hexUtils.stripHexPrefix(bufferUtils.textToHex(msg.message,'utf-8'));}var signRequestUr=yield _this2.generateSignRequest({requestId,signData,dataType:checkIsDefined(dataType),path,xfp,chainId:Number(chainId),address:account.address});return signRequestUr;});return function signRequestUrBuilder(_x3){return _ref2.apply(this,arguments);};}(),signedResultBuilder:function(){var _ref3=_asyncToGenerator(function*({signatureUr}){var signature=yield _this2.parseSignature(checkIsDefined(signatureUr));var signatureHex=signature.signature;return hexUtils.addHexPrefix(signatureHex);});return function signedResultBuilder(_x4){return _ref3.apply(this,arguments);};}()});});return function(_x2){return _ref.apply(this,arguments);};}()));};_proto.signTransaction=function(){var _signTransaction=_asyncToGenerator(function*(params){var _this3=this;var encodedTx=params.unsignedTx.encodedTx;var{tx,serializedTxWithout0x,digest}=packUnsignedTxForSignEvm({encodedTx});var dataType=EAirGapDataTypeEvm.transaction;if(tx.type===TransactionTypes.eip1559){dataType=EAirGapDataTypeEvm.typedTransaction;}return this.baseSignByQrcode(params,{signRequestUrBuilder:function(){var _ref4=_asyncToGenerator(function*({path,account,chainId,requestId,xfp}){var signRequestUr=yield _this3.generateSignRequest({requestId,signData:serializedTxWithout0x,dataType,path,xfp,chainId:Number(chainId),address:account.address});return signRequestUr;});return function signRequestUrBuilder(_x6){return _ref4.apply(this,arguments);};}(),signedResultBuilder:function(){var _ref5=_asyncToGenerator(function*({signatureUr,requestId}){var signature=yield _this3.parseSignature(checkIsDefined(signatureUr));var signatureHex=signature.signature;var origin=signature.origin||'';var r=hexUtils.addHexPrefix(signatureHex.slice(0,32*2));var s=hexUtils.addHexPrefix(signatureHex.slice(32*2,64*2));var v=signatureHex.slice(64*2);if(dataType===EAirGapDataTypeEvm.transaction){v=`0x${v}`;}var{rawTx,txid}=buildSignedTxFromSignatureEvm({tx,signature:{r,s,v}});yield _this3.verifySignedTxMatched({requestId,requestIdOfSig:signature.requestId,rawTx,txid,signature:{r,s,v},from:encodedTx.from});return Promise.resolve({txid,rawTx,encodedTx:params.unsignedTx.encodedTx});});return function signedResultBuilder(_x7){return _ref5.apply(this,arguments);};}()});});function signTransaction(_x5){return _signTransaction.apply(this,arguments);}return signTransaction;}();_proto.getVerifyAddressChainParams=function(){var _getVerifyAddressChainParams=_asyncToGenerator(function*(query){var chainId=yield this.getNetworkChainId();return{chainId};});function getVerifyAddressChainParams(_x8){return _getVerifyAddressChainParams.apply(this,arguments);}return getVerifyAddressChainParams;}();_proto.prepareAccounts=function(){var _prepareAccounts=_asyncToGenerator(function*(params){var _this4=this;var wallet=yield localDb.getWallet({walletId:this.walletId});return this.basePrepareHdNormalAccounts(params,{buildAddressesInfo:function(){var _ref6=_asyncToGenerator(function*({usedIndexes}){var ret=[];for(var index of usedIndexes){if(params?.isVerifyAddressAction){return _this4.verifyQrWalletAddressByTwoWayScan(params,{indexes:usedIndexes});}var{fullPath,airGapAccount,childPathTemplate}=yield _this4.findAirGapAccountInPrepareAccounts(params,{index,wallet});if(!airGapAccount){throw new OneKeyErrorAirGapAccountNotFound();}var publicKey=airGapAccount?.publicKey;if(childPathTemplate){var xpub=airGapAccount?.extendedPublicKey;if(!xpub){throw new Error('xpub not found');}var hdk=HDKey.fromExtendedKey(xpub);var childPath=accountUtils.buildPathFromTemplate({template:childPathTemplate,index});hdk=hdk.derive(`m/${childPath}`);publicKey=hdk.publicKey.toString('hex');}if(!publicKey){throw new Error('publicKey not found');}var networkInfo=yield _this4.getCoreApiNetworkInfo();var addressInfo=yield _this4.coreApi.getAddressFromPublic({publicKey,networkInfo});if(!addressInfo){throw new Error('addressInfo not found');}var{normalizedAddress}=yield _this4.vault.validateAddress(addressInfo.address);addressInfo.address=normalizedAddress||addressInfo.address;addressInfo.path=fullPath;ret.push(addressInfo);}return ret;});return function buildAddressesInfo(_x10){return _ref6.apply(this,arguments);};}()});});function prepareAccounts(_x9){return _prepareAccounts.apply(this,arguments);}return prepareAccounts;}();return _createClass(KeyringQr);}(KeyringQrBase);","import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import _get from\"@babel/runtime/helpers/get\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import{KeyringWatchingBase}from\"../../base/KeyringWatchingBase\";export var KeyringWatching=function(_KeyringWatchingBase){_inherits(KeyringWatching,_KeyringWatchingBase);var _super=_createSuper(KeyringWatching);function KeyringWatching(){return _super.apply(this,arguments);}var _proto=KeyringWatching.prototype;_proto.prepareAccounts=function(){var _prepareAccounts=_asyncToGenerator(function*(params){return _get(_getPrototypeOf(KeyringWatching.prototype),\"basePrepareSimpleWatchingAccounts\",this).call(this,params);});function prepareAccounts(_x){return _prepareAccounts.apply(this,arguments);}return prepareAccounts;}();return _createClass(KeyringWatching);}(KeyringWatchingBase);","import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import BigNumber from'bignumber.js';import{JsonRPCRequest}from'@onekeyhq/shared/src/request/JsonRPCRequest';export var ClientEvm=function(_JsonRPCRequest){_inherits(ClientEvm,_JsonRPCRequest);var _super=_createSuper(ClientEvm);function ClientEvm(){return _super.apply(this,arguments);}var _proto=ClientEvm.prototype;_proto.getInfo=function(){var _getInfo=_asyncToGenerator(function*(){var latestBlock=yield this.call('eth_blockNumber');var bestBlockNumber=new BigNumber(latestBlock)?.toNumber();var isReady=!new BigNumber(bestBlockNumber).isNaN()&&bestBlockNumber>0;return{bestBlockNumber,isReady};});function getInfo(){return _getInfo.apply(this,arguments);}return getInfo;}();_proto.getChainId=function(){var _getChainId=_asyncToGenerator(function*(){var chainIdHex=yield this.call('eth_chainId');var chainId=new BigNumber(chainIdHex)?.toNumber();return{chainId};});function getChainId(){return _getChainId.apply(this,arguments);}return getChainId;}();_proto.checkEIP1559Support=function(){var _checkEIP1559Support=_asyncToGenerator(function*(){var hexBlock=yield this.call('eth_getBlockByNumber',['latest',false]);var baseFeePerGas=new BigNumber(hexBlock.baseFeePerGas);var isEIP1559FeeEnabled=!(baseFeePerGas.isNaN()||baseFeePerGas.isEqualTo(0));return{isEIP1559FeeEnabled};});function checkEIP1559Support(){return _checkEIP1559Support.apply(this,arguments);}return checkEIP1559Support;}();_proto.broadcastTransaction=function(){var _broadcastTransaction=_asyncToGenerator(function*(rawTx){return this.call('eth_sendRawTransaction',[rawTx]);});function broadcastTransaction(_x){return _broadcastTransaction.apply(this,arguments);}return broadcastTransaction;}();return _createClass(ClientEvm);}(JsonRPCRequest);","import _createClass from\"@babel/runtime/helpers/createClass\";import B from'bignumber.js';import{Contract}from'js-conflux-sdk';export function safeNumberString(n,fallback){var res=new B(n);if(res.isNaN()||!res.isFinite()){return fallback!=null?fallback:'';}return res.toString();}export function safeNumber(n,fallback){var res=new B(n);if(res.isNaN()||!res.isFinite()){return fallback;}return res.toNumber();}export var nativeTokenUniqueKey='native';function isServerFiatTokenInfo(token){return'balance'in token;}export function parseTokenItem(token){var _token$balanceParsed,_token$uniqueKey;var res={balance:isServerFiatTokenInfo(token)?token.balance:undefined,balanceParsed:isServerFiatTokenInfo(token)?safeNumberString((_token$balanceParsed=token.balanceParsed)!=null?_token$balanceParsed:''):undefined,fiatValue:isServerFiatTokenInfo(token)?token.fiatValue:undefined,price:isServerFiatTokenInfo(token)?token.price:undefined,price24h:isServerFiatTokenInfo(token)?token.price24h:undefined,info:{uniqueKey:((_token$uniqueKey=token.uniqueKey)!=null?_token$uniqueKey:token.address)||nativeTokenUniqueKey,address:token.address,decimals:token.decimals,isNative:token.isNative,logoURI:token.logoURI,name:token.name,symbol:token.symbol,totalSupply:isServerFiatTokenInfo(token)?token.totalSupply:undefined,riskLevel:token.riskLevel,adaName:isServerFiatTokenInfo(token)?token.adaName:undefined,sendAddress:token.sendAddress,networkId:token.networkId}};return res;}export var Interface=_createClass(function Interface(abi){var contract=new Contract({abi},undefined);return new Proxy(contract,{get(target,p,receiver){return Reflect.get(target,p,receiver);}});});export var INTERFACE=new Interface(['function name() public view returns (string)','function symbol() public view returns (string)','function decimals() public view returns (uint8)','function totalSupply() public view returns (uint256)','function supportsInterface(bytes4 interfaceID) external view returns (bool)','function balanceOf(address _owner) external view returns (uint256)','function allowance(address _owner, address _spender) public view returns (uint256)','function getL1Fee(bytes) view returns (uint256)','function getEthBalance(address addr) view returns (uint256 balance)','function aggregate(tuple(address target, bytes callData)[] calls) payable returns (uint256 blockNumber, bytes[] returnData)','function aggregate3(tuple(address target, bool allowFailure, bytes callData)[] calls) payable returns (tuple(bool success, bytes returnData)[] returnData)','function aggregate3Value(tuple(address target, bool allowFailure, uint256 value, bytes callData)[] calls) payable returns (tuple(bool success, bytes returnData)[] returnData)']);","import _forEach from\"lodash/forEach\";import _keyBy from\"lodash/keyBy\";import _uniqBy from\"lodash/uniqBy\";import _isEmpty from\"lodash/isEmpty\";import _omit from\"lodash/omit\";import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _isNaN from\"lodash/isNaN\";import _orderBy from\"lodash/orderBy\";import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}import BigNumber from'bignumber.js';import{md5}from'js-md5';import{NotImplemented,OneKeyError}from'@onekeyhq/shared/src/errors';import{JsonRPCRequest}from'@onekeyhq/shared/src/request/JsonRPCRequest';import{EOnChainHistoryTxStatus,EOnChainHistoryTxType}from'@onekeyhq/shared/types/history';import{parseTokenItem,safeNumberString}from\"./utils\";var BaseApiProvider=function(){function BaseApiProvider(option){this.option=option;this.networkId='';this.nativeTokenAddress='';this.backgroundApi=option.backgroundApi;this.client=new JsonRPCRequest(option.url);this.networkId=option.networkId;}var _proto=BaseApiProvider.prototype;_proto.normalizeAddress=function normalizeAddress(address){return address.toLowerCase();};_proto.validateTokenAddress=function(){var _validateTokenAddress=_asyncToGenerator(function*(params){throw new NotImplemented();});function validateTokenAddress(_x){return _validateTokenAddress.apply(this,arguments);}return validateTokenAddress;}();_proto.getNativeToken=function(){var _getNativeToken=_asyncToGenerator(function*(){var[token]=yield this.getChainTokensFromDB({networkId:this.networkId,contractList:[this.nativeTokenAddress]});if(!token){throw new Error('getNativeToken failed');}if(!token?.info?.decimals){throw new Error('getNativeToken decimals failed');}return{info:{name:token?.info?.name,symbol:token?.info?.symbol,address:this.nativeTokenAddress,sendAddress:undefined,logoURI:'',totalSupply:undefined,isNative:true,decimals:token?.info?.decimals,riskLevel:1,uniqueKey:this.nativeTokenAddress,networkId:this.networkId},price:'',price24h:0,balance:'',balanceParsed:'',fiatValue:''};});function getNativeToken(){return _getNativeToken.apply(this,arguments);}return getNativeToken;}();_proto.getAccount=function(){var _getAccount=_asyncToGenerator(function*(params){var _this=this;var res={address:params.accountAddress,netWorth:undefined,balance:undefined,balanceParsed:undefined,isContract:undefined,nonce:undefined,utxoList:undefined};var stages=[{stage:'getAccountNetworth',value:function(){return _this.getAccountNetWorth(params).then(function(n){res.netWorth=n.netWorth;res.balance=n.balance;res.balanceParsed=n.balanceParsed;});},condition:!!params.withNetWorth},{stage:'getNonce',value:function(){return _this.getNonce(params).then(function(n){res.nonce=n.nonce;res.accountNumber=n.accountNumber;});},condition:!!params.withNonce}];yield Promise.all(stages.map(function(){var _ref=_asyncToGenerator(function*(n){if(n.condition){return n.value();}return Promise.resolve();});return function(_x3){return _ref.apply(this,arguments);};}()));return{data:{data:res}};});function getAccount(_x2){return _getAccount.apply(this,arguments);}return getAccount;}();_proto.getAccountNetWorth=function(){var _getAccountNetWorth=_asyncToGenerator(function*(params){var _nativeToken$balance,_nativeToken$balanceP;var res=yield this.listAccountTokenWithBalance({networkId:params.networkId,accountAddress:params.accountAddress,xpub:params.xpub,contractList:[this.nativeTokenAddress]});var netWorth=new BigNumber(0);var nativeToken;for(var t of res){if(t){var _t$fiatValue;if(t.info?.isNative){nativeToken=t;}netWorth=netWorth.plus((_t$fiatValue=t.fiatValue)!=null?_t$fiatValue:0);}}if(!nativeToken){return{netWorth:undefined,balance:undefined,balanceParsed:undefined};}return{netWorth:safeNumberString(netWorth.toFixed()),balance:new BigNumber((_nativeToken$balance=nativeToken?.balance)!=null?_nativeToken$balance:'0').toString(),balanceParsed:new BigNumber((_nativeToken$balanceP=nativeToken?.balanceParsed)!=null?_nativeToken$balanceP:'0').toString()};});function getAccountNetWorth(_x4){return _getAccountNetWorth.apply(this,arguments);}return getAccountNetWorth;}();_proto.getNonce=function(){var _getNonce=_asyncToGenerator(function*(params){return{nonce:undefined};});function getNonce(_x5){return _getNonce.apply(this,arguments);}return getNonce;}();_proto.listAccountToken=function(){var _listAccountToken=_asyncToGenerator(function*(params){var _arg$hiddenTokens,_arg$contractList$map,_this2=this;var arg=params.requestApiParams;var hiddenTokenSet=new Set((_arg$hiddenTokens=arg.hiddenTokens)!=null?_arg$hiddenTokens:[]);arg.accountAddress=this.normalizeAddress(arg.accountAddress);arg.contractList=(_arg$contractList$map=arg.contractList?.map(function(n){return _this2.normalizeAddress(n);}))!=null?_arg$contractList$map:[];var reply=yield this.listAccountTokenWithBalance(params.requestApiParams);var sortedAccountTokenArray=_orderBy(reply,[function(item){return item.info?.isNative;},function(item){var _item$fiatValue;return+((_item$fiatValue=item.fiatValue)!=null?_item$fiatValue:0);}],['desc','desc']).filter(function(n){var _n$info$address;return!hiddenTokenSet.has((_n$info$address=n.info?.address)!=null?_n$info$address:'');});var tokenArray=[];var smallTokenArray=[];var riskTokenArray=[];sortedAccountTokenArray.reverse().forEach(function(accountToken){tokenArray.unshift(accountToken);});var tokens=this.__parseAccountTokenArray(arg,tokenArray);var riskTokens=this.__parseAccountTokenArray(arg,riskTokenArray);var smallBalanceTokens=this.__parseAccountTokenArray(arg,smallTokenArray);return{data:{data:{tokens,riskTokens,smallBalanceTokens}}};});function listAccountToken(_x6){return _listAccountToken.apply(this,arguments);}return listAccountToken;}();_proto.__parseAccountTokenArray=function __parseAccountTokenArray({networkId,xpub,accountAddress},accountTokenArray){var fiatValue=BigNumber(0);var map={};var data=[];accountTokenArray.forEach(function(accountToken){var _ref2,_accountToken$info$un;if(!_isNaN(Number(accountToken.fiatValue))){fiatValue=fiatValue.plus(accountToken.fiatValue);}var key=`${networkId}_${xpub!=null?xpub:accountAddress}_${(_ref2=(_accountToken$info$un=accountToken.info?.uniqueKey)!=null?_accountToken$info$un:accountToken?.info?.address)!=null?_ref2:''}`;map[key]={price:0,price24h:0,balance:accountToken.balance,balanceParsed:accountToken.balanceParsed,fiatValue:'0'};data.push(_objectSpread({$key:key},_omit(accountToken?.info,'uniqueKey')));});return{map,data:_orderBy(data,[function(item){var _map$item$$key$order;return(_map$item$$key$order=map?.[item.$key]?.order)!=null?_map$item$$key$order:9999;},function(item){return item.isNative;},function(item){var _map$item$$key$fiatVa;return+((_map$item$$key$fiatVa=map?.[item.$key]?.fiatValue)!=null?_map$item$$key$fiatVa:0);}],['asc','desc','desc']),keys:md5(`${networkId}__${_isEmpty(map)?'':Object.keys(map).join(',')}__${JSON.stringify(data)}`),fiatValue:undefined};};_proto.listAccountTokenWithBalance=function listAccountTokenWithBalance(params){var accountTokens=this.listAccountTokenFromThirdParty(params);return accountTokens;};_proto.listAccountTokenFromThirdParty=function(){var _listAccountTokenFromThirdParty=_asyncToGenerator(function*(params){var rpcAccountTokens=yield this.listAccountTokenFromRpc(params);var tokens=_uniqBy(rpcAccountTokens,function(t){return t?.info?.address;}).filter(Boolean);var chainTokens=yield this.getChainTokens({networkId:this.networkId,contractList:tokens.map(function(r){return r.info?.address;}).filter(Boolean)},_keyBy(rpcAccountTokens.filter(Boolean),function(t){return t?.info?.address;}));var chainTokensMap=_keyBy(chainTokens,function(t){return t?.info?.address;});return tokens.filter(function(t){if(params.onlyReturnSpecificTokens){if(t.info?.address===undefined||t.info?.address===null){return false;}return params.contractList?.includes(t.info.address);}return true;}).map(function(t){if(t.info?.address===undefined||t.info?.address===null){return t;}var token=chainTokensMap[t.info?.address];if(token){var _token$price;t.info.logoURI=token.info?.logoURI||t.info?.logoURI;t.info.name=token.info?.name;t.info.symbol=token.info?.symbol;t.price=(_token$price=token.price)!=null?_token$price:t.price;t.price24h=token.price24h;if(t.info&&typeof token.info?.decimals==='number'){t.info.decimals=token.info.decimals;}}return t;});});function listAccountTokenFromThirdParty(_x7){return _listAccountTokenFromThirdParty.apply(this,arguments);}return listAccountTokenFromThirdParty;}();_proto.listAccountTokenFromRpc=function listAccountTokenFromRpc(_params){throw new NotImplemented();};_proto.getChainTokens=function(){var _getChainTokens=_asyncToGenerator(function*(params,extraTokensMap){var{contractList=[],keywords}=params;if(typeof keywords==='string'){return this.searchChainTokens(params);}var tokens=yield this.getChainTokensFromDB(params);tokens=tokens.map(function(t,i){var _extraTokensMap$contr;if(t){return t;}return(_extraTokensMap$contr=extraTokensMap?.[contractList[i]])!=null?_extraTokensMap$contr:null;});var missedTokenContracts=contractList.filter(function(_,i){return!tokens[i];});if(!missedTokenContracts?.length){return tokens;}var chainTokens=yield this.getChainTokensFromRpc(_objectSpread(_objectSpread({},params),{},{contractList:missedTokenContracts}));if(chainTokens?.length){}var chainTokensMap=_keyBy(chainTokens,function(t){return t?.info?.address;});return tokens.map(function(t,i){if(t){return t;}var token=chainTokensMap[contractList[i]];if(token){return token;}return null;});});function getChainTokens(_x8,_x9){return _getChainTokens.apply(this,arguments);}return getChainTokens;}();_proto.getChainTokensFromDB=function(){var _getChainTokensFromDB=_asyncToGenerator(function*(params){var{contractList=[],networkId}=params;var res=yield this.backgroundApi.simpleDb.localTokens.getTokens({networkId,tokenIdOnNetworkList:contractList});var tokensMap=_keyBy(res,function(r){return r.address;});return contractList.map(function(c){var token=tokensMap[c];if(!token){return null;}return parseTokenItem(token);});});function getChainTokensFromDB(_x10){return _getChainTokensFromDB.apply(this,arguments);}return getChainTokensFromDB;}();_proto.getChainTokensFromRpc=function(){var _getChainTokensFromRpc=_asyncToGenerator(function*(params){throw new NotImplemented();});function getChainTokensFromRpc(_x11){return _getChainTokensFromRpc.apply(this,arguments);}return getChainTokensFromRpc;}();_proto.searchChainTokens=function(){var _searchChainTokens=_asyncToGenerator(function*(params){var{keywords}=params;if(!keywords){return[];}var dbTokens=yield this.searchChainTokensFromDB(params);if(dbTokens?.find(function(t){var _t$info$address;return keywords?.localeCompare((_t$info$address=t?.info?.address)!=null?_t$info$address:'',undefined,{sensitivity:'base'})===0;})){return dbTokens;}var rpcTokenInfo=yield this.searchChainTokensFromRpc(params);if(rpcTokenInfo?.length){dbTokens.push(...rpcTokenInfo);}return dbTokens;});function searchChainTokens(_x12){return _searchChainTokens.apply(this,arguments);}return searchChainTokens;}();_proto.searchChainTokensFromDB=function(){var _searchChainTokensFromDB=_asyncToGenerator(function*(params){var{keywords}=params;if(!keywords){return[];}var res=yield this.backgroundApi.simpleDb.localTokens.searchTokens({keywords});return res.map(function(r){return parseTokenItem(r);});});function searchChainTokensFromDB(_x13){return _searchChainTokensFromDB.apply(this,arguments);}return searchChainTokensFromDB;}();_proto.searchChainTokensFromRpc=function(){var _searchChainTokensFromRpc=_asyncToGenerator(function*(params){var{keywords}=params;if(!keywords){return[];}var tokenAddress=yield this.validateTokenAddress({networkId:params.networkId,address:keywords}).catch(function(){return null;});if(!tokenAddress){return[];}var rpcTokenInfo=yield this.getChainTokensFromRpc({networkId:params.networkId,contractList:[tokenAddress]});if(!rpcTokenInfo?.[0]?.info){return[];}return rpcTokenInfo;});function searchChainTokensFromRpc(_x14){return _searchChainTokensFromRpc.apply(this,arguments);}return searchChainTokensFromRpc;}();_proto.queryAccountToken=function(){var _queryAccountToken=_asyncToGenerator(function*(params){var _this3=this;var reply=[];var contractList=params.contractList?.map(function(n){return _this3.normalizeAddress(n);});var hasAccount=params.accountAddress||params.xpub;if(hasAccount&&params.contractList?.length){var _params$accountAddres;reply=yield this.listAccountTokenWithBalance({networkId:params.networkId,accountAddress:(_params$accountAddres=params.accountAddress)!=null?_params$accountAddres:'',xpub:params.xpub,contractList,onlyReturnSpecificTokens:true});}else{reply=yield this.getChainTokens({networkId:params.networkId,contractList,keywords:params.keywords});}var result=reply.map(function(t){if(!t){return null;}t.price='0';t.fiatValue='0';t.availableBalanceFiatValue='0';t.frozenBalanceFiatValue='0';return t;}).filter(Boolean);return{data:{data:result}};});function queryAccountToken(_x15){return _queryAccountToken.apply(this,arguments);}return queryAccountToken;}();_proto.estimateFee=function(){var _estimateFee=_asyncToGenerator(function*(params){if(typeof params.encodedTx==='object'){if('from'in params.encodedTx&&typeof params.encodedTx.from==='string'){params.encodedTx.from=this.normalizeAddress(params.encodedTx.from);}if('to'in params.encodedTx&&typeof params.encodedTx.to==='string'){params.encodedTx.to=this.normalizeAddress(params.encodedTx.to);}}var estimateFeeInfo=yield this.estimateFeeFromRpc(params);return{data:{data:_objectSpread(_objectSpread({},estimateFeeInfo),{},{nativeTokenPrice:{price:0,price24h:0}})}};});function estimateFee(_x16){return _estimateFee.apply(this,arguments);}return estimateFee;}();_proto.getGasPrice=function(){var _getGasPrice=_asyncToGenerator(function*(params){throw new NotImplemented();});function getGasPrice(_x17){return _getGasPrice.apply(this,arguments);}return getGasPrice;}();_proto.getGasFee=function(){var _getGasFee=_asyncToGenerator(function*(params){throw new NotImplemented();});function getGasFee(_x18){return _getGasFee.apply(this,arguments);}return getGasFee;}();_proto.getGasLimit=function(){var _getGasLimit=_asyncToGenerator(function*(params){throw new NotImplemented();});function getGasLimit(_x19){return _getGasLimit.apply(this,arguments);}return getGasLimit;}();_proto.estimateFeeFromRpc=function(){var _estimateFeeFromRpc=_asyncToGenerator(function*(params){throw new NotImplemented();});function estimateFeeFromRpc(_x20){return _estimateFeeFromRpc.apply(this,arguments);}return estimateFeeFromRpc;}();_proto.getAccountHistoryDetail=function(){var _getAccountHistoryDetail=_asyncToGenerator(function*(params){try{if(params.accountAddress){params.accountAddress=this.normalizeAddress(params.accountAddress);}var reply=yield this.getHistoryDetailOnChain(params);_forEach(reply.tokens,function(tokenRef){tokenRef.price='0';});reply.data.gasFeeFiatValue='0';var res=this.normalizeHistoryTxActionLabels(params.networkId,_objectSpread(_objectSpread({},reply),{},{data:[reply.data]}));return{data:{data:{data:res.data[0],nfts:{},tokens:res.tokens}}};}catch{return{data:{data:{data:{tx:params.txid,status:EOnChainHistoryTxStatus.Pending}}}};}});function getAccountHistoryDetail(_x21){return _getAccountHistoryDetail.apply(this,arguments);}return getAccountHistoryDetail;}();_proto.getHistoryDetailOnChain=function(){var _getHistoryDetailOnChain=_asyncToGenerator(function*(params){var _data$sends$concat,_data$receives;var history=yield this.getHistoryDetailFromThirdParty(params);var data=history.data;if(!data){throw new OneKeyError(`[ProviderBasic.getHistoryDetail] Transaction not found: ${params.txid}`);}var transfers=(_data$sends$concat=data.sends?.concat((_data$receives=data.receives)!=null?_data$receives:[]))!=null?_data$sends$concat:[];if(transfers?.length===1){if(!data.from){data.from=transfers[0].from;}if(!data.to){data.to=transfers[0].to;}}return history;});function getHistoryDetailOnChain(_x22){return _getHistoryDetailOnChain.apply(this,arguments);}return getHistoryDetailOnChain;}();_proto.getHistoryDetailFromThirdParty=function(){var _getHistoryDetailFromThirdParty=_asyncToGenerator(function*(params){throw new NotImplemented();});function getHistoryDetailFromThirdParty(_x23){return _getHistoryDetailFromThirdParty.apply(this,arguments);}return getHistoryDetailFromThirdParty;}();_proto.normalizeHistoryTxActionLabels=function normalizeHistoryTxActionLabels(networkId,res){var isNoFromToInTransfersChain=false;res.data=res.data.map(function(n){var originLabel=n.label;if(n.tokenActive){n.label='Active';}else if(n.tokenApprove){if(new BigNumber(n.tokenApprove?.amount).isLessThanOrEqualTo(0)){var token=res.tokens?.[n.tokenApprove?.key];var nft=res.nfts?.[n.tokenApprove?.key];n.label=`Revoke {symbol} allowance`;}else{n.label='Approve';}}else if(n.sends?.length&&!n.receives?.length&&(isNoFromToInTransfersChain||n.sends.every(function(i){return i.to;}))){n.label='Send';}else if(n.receives?.length&&!n.sends?.length&&(isNoFromToInTransfersChain||n.receives.every(function(i){return i.from;}))){n.label='Receive';}else if(n.label===EOnChainHistoryTxType.Send){n.label='Send';}else if(n.label===EOnChainHistoryTxType.Receive){n.label='Receive';}else{var _n$contractCall$funct;n.label='Contract Interaction';var functionName=(_n$contractCall$funct=n.contractCall?.functionName)!=null?_n$contractCall$funct:originLabel;if(functionName){n.label+=` (${functionName})`;}}return n;});return res;};return _createClass(BaseApiProvider);}();export{BaseApiProvider};","import _pick from\"lodash/pick\";import _orderBy from\"lodash/orderBy\";import _keyBy from\"lodash/keyBy\";import _isNil from\"lodash/isNil\";import _uniq from\"lodash/uniq\";import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import B from'bignumber.js';import{defaultAbiCoder}from'ethers/lib/utils';import{ethers}from'ethersV6';import{validateEvmAddress}from'@onekeyhq/core/src/chains/evm/sdkEvm';import{EOnChainHistoryTxStatus}from'@onekeyhq/shared/types/history';import{BaseApiProvider}from\"./BaseApiProvider\";import{INTERFACE,parseTokenItem,safeNumber,safeNumberString}from\"./utils\";export var EVMMethodIds=function(EVMMethodIds){EVMMethodIds[\"Allowance\"]=\"0xdd62ed3e\";EVMMethodIds[\"balanceOf\"]=\"0x70a08231\";EVMMethodIds[\"resolver\"]=\"0x0178b8bf\";EVMMethodIds[\"addr\"]=\"0xf1cb7e06\";return EVMMethodIds;}({});var EMPTY_DATA='0x';var GAS_LIMIT_RATE=1.2;var BASE_FEE_RATE=1.5;export var compareList=[{key:'name',call:'0x06fdde03',type:'string'},{key:'symbol',call:'0x95d89b41',type:'string'},{key:'decimals',call:'0x313ce567',type:'uint8'}];var EvmApiProvider=function(_BaseApiProvider){_inherits(EvmApiProvider,_BaseApiProvider);var _super=_createSuper(EvmApiProvider);function EvmApiProvider(...args){var _this;_this=_super.call(this,...args);_this.defaultFeeRates=[1,1.25,1.5];_this.l2PriceOracleAddress='0x420000000000000000000000000000000000000f';return _this;}var _proto=EvmApiProvider.prototype;_proto.validateTokenAddress=function(){var _validateTokenAddress=_asyncToGenerator(function*(params){var{isValid,normalizedAddress}=yield validateEvmAddress(params.address);if(!isValid){throw new Error('Invalid address');}return normalizedAddress;});function validateTokenAddress(_x){return _validateTokenAddress.apply(this,arguments);}return validateTokenAddress;}();_proto.getNonce=function(){var _getNonce=_asyncToGenerator(function*(params){var res=yield this.client.call('eth_getTransactionCount',[params.accountAddress,'latest']);return{nonce:Number(res)};});function getNonce(_x2){return _getNonce.apply(this,arguments);}return getNonce;}();_proto.listAccountTokenFromRpc=function(){var _listAccountTokenFromRpc=_asyncToGenerator(function*(params){var _params$contractList,_this2=this;var{accountAddress}=params;var chainTokens=yield this.getChainTokens(_objectSpread(_objectSpread({},params),{},{contractList:_uniq([this.nativeTokenAddress].concat((_params$contractList=params.contractList)!=null?_params$contractList:[]))}));var tokens=chainTokens.filter(Boolean);var requests=tokens.map(function(token){var _token$info$address;var address=_this2.normalizeAddress((_token$info$address=token.info?.address)!=null?_token$info$address:'');if(token.info?.address){var addressWithoutPrefix=accountAddress?.slice(2);var data=`${EVMMethodIds.balanceOf}000000000000000000000000${addressWithoutPrefix}`;return['eth_call',[{to:address,data},'latest']];}return['eth_getBalance',[accountAddress,'latest']];});var balances=yield this.client.batchCall(requests);var list=tokens.map(function(token,i){var balance=new B(0);try{balance=new B(balances[i]);}catch(e){}var info=token.info;var price=token.price;var price24h=token.price24h;if(!info?.decimals){throw new Error('decimals is undefined');}var balanceParsed=balance.shiftedBy(-info.decimals);var fiatValue=balanceParsed.multipliedBy(price);return{info,balance:balance.toString(),balanceParsed:balanceParsed.toString(),fiatValue:safeNumberString(fiatValue.toString()),price,price24h};});return list;});function listAccountTokenFromRpc(_x3){return _listAccountTokenFromRpc.apply(this,arguments);}return listAccountTokenFromRpc;}();_proto.getChainTokensFromRpc=function(){var _getChainTokensFromRpc=_asyncToGenerator(function*(params){var _this3=this,_params$contractList2;var nativeToken=yield this.getNativeToken();var filteredContractList=_uniq(params.contractList).filter(Boolean);var payloads=filteredContractList.map(function(t){return compareList.map(function(c){return['eth_call',[{to:t,data:c.call},'latest']];});});var infos=yield this.client.batchChunkCall(payloads);var tokens=infos.map(function(item,idx){var address=_this3.normalizeAddress(filteredContractList[idx]);var[name='',symbol='',decimals]=item.map(function(result,i){var{type}=compareList[i];var bytesData=result;if(_isNil(bytesData)&&compareList[i].key==='decimals'){return undefined;}try{return defaultAbiCoder.decode([type],bytesData)[0];}catch(error){}return undefined;});if(typeof decimals!=='number'){return null;}return{address,name,symbol,decimals,price:undefined,price24h:undefined,type:'ERC20',totalSupply:undefined,isNative:false,riskLevel:0,logoURI:'',networkId:params.networkId};});var tokensMap=_keyBy(tokens,'address');var result=((_params$contractList2=params.contractList)!=null?_params$contractList2:[]).map(function(a){if(a===_this3.nativeTokenAddress){return nativeToken;}if(!tokensMap[a]){return null;}return parseTokenItem(tokensMap[a]);});return result;});function getChainTokensFromRpc(_x4){return _getChainTokensFromRpc.apply(this,arguments);}return getChainTokensFromRpc;}();_proto.estimateFeeFromRpc=function(){var _estimateFeeFromRpc=_asyncToGenerator(function*(params){var _params$encodedTx;var[network,[nativeToken],gasPriceInfo,gasFeeInfo]=yield Promise.all([this.backgroundApi.serviceNetwork.getNetwork({networkId:params.networkId}),this.getChainTokens({networkId:params.networkId,contractList:[this.nativeTokenAddress]}),this.getGasPrice(params),this.getGasFee({networkId:params.networkId,encodedTx:(_params$encodedTx=params.encodedTx)!=null?_params$encodedTx:{}})]);if(!gasFeeInfo.baseFee){throw new Error('baseFee is undefined');}var res={nativeSymbol:nativeToken.info?.symbol,nativeDecimals:nativeToken.info?.decimals,nativeTokenPrice:{price:nativeToken.price,price24h:nativeToken.price24h},feeSymbol:network.feeMeta?.symbol,feeDecimals:network.feeMeta?.decimals,baseFee:new B(gasFeeInfo.baseFee).shiftedBy(-network.feeMeta.decimals).toString(),isEIP1559:gasPriceInfo.isEIP1559,gas:gasPriceInfo.gas,gasEIP1559:gasPriceInfo.gasEIP1559,feeUTXO:gasPriceInfo.feeUTXO,feeTron:undefined};if(params.encodedTx){var _params$encodedTx2;var gasLimitInfo=yield this.getGasLimit({networkId:params.networkId,encodedTx:(_params$encodedTx2=params.encodedTx)!=null?_params$encodedTx2:{}});res.gas=res.gas?.map(function(item){return{gasPrice:item.gasPrice,gasLimitForDisplay:String(gasLimitInfo.estimateGasLimit),gasLimit:String(gasLimitInfo.gasLimit)};});res.gas=_orderBy(res.gas,[function(n){return n.gasPrice;}],'asc');res.gasEIP1559=res.gasEIP1559?.map(function(item){return{baseFeePerGas:item.baseFeePerGas,maxFeePerGas:item.maxFeePerGas,maxPriorityFeePerGas:item.maxPriorityFeePerGas,gasLimitForDisplay:String(gasLimitInfo.estimateGasLimit),gasLimit:String(gasLimitInfo.gasLimit)};});res.gasEIP1559=_orderBy(res.gasEIP1559,[function(n){return n.maxPriorityFeePerGas;}],'asc');}return res;});function estimateFeeFromRpc(_x5){return _estimateFeeFromRpc.apply(this,arguments);}return estimateFeeFromRpc;}();_proto.getGasPrice=function(){var _getGasPrice=_asyncToGenerator(function*(params){var network=yield this.backgroundApi.serviceNetwork.getNetwork({networkId:params.networkId});if(network.feeMeta.isEIP1559FeeEnabled){return this.getGasPriceEIP1559({network});}var[gasPrice]=yield this.client.batchCall([['eth_gasPrice',[]]]);var gas=this.defaultFeeRates.map(function(rate){return{gasPrice:new B(gasPrice).multipliedBy(rate).shiftedBy(-network.feeMeta.decimals).toString()};});return{isEIP1559:false,gas};});function getGasPrice(_x6){return _getGasPrice.apply(this,arguments);}return getGasPrice;}();_proto.getGasPriceEIP1559=function(){var _getGasPriceEIP=_asyncToGenerator(function*(params){var isEIP1559=false;var maxPriorityFeePerGas;var baseFeePerGas;try{var[maxPriorityFeePerGasResult,hexBlock]=yield this.client.batchCall([['eth_maxPriorityFeePerGas',[]],['eth_getBlockByNumber',['latest',false]]]);baseFeePerGas=new B(hexBlock.baseFeePerGas);isEIP1559=!(baseFeePerGas.isNaN()||baseFeePerGas.isEqualTo(0));maxPriorityFeePerGas=maxPriorityFeePerGasResult;}catch(error){isEIP1559=false;}var gasEIP1559;if(isEIP1559){gasEIP1559=[1,1.25,1.3].map(function(rate){var maxPriorityFeePerGasEach=new B(maxPriorityFeePerGas).multipliedBy(rate);var maxFeePerGasEach=baseFeePerGas.multipliedBy(2).plus(maxPriorityFeePerGasEach);return{baseFeePerGas:baseFeePerGas.shiftedBy(-params.network.feeMeta.decimals).toString(),maxFeePerGas:maxFeePerGasEach.shiftedBy(-params.network.feeMeta.decimals).toString(),maxPriorityFeePerGas:maxPriorityFeePerGasEach.shiftedBy(-params.network.feeMeta.decimals).toString()};});}return{isEIP1559,gasEIP1559};});function getGasPriceEIP1559(_x7){return _getGasPriceEIP.apply(this,arguments);}return getGasPriceEIP1559;}();_proto.getGasFee=function(){var _getGasFee=_asyncToGenerator(function*(params){var l1Fee='0';var network=yield this.backgroundApi.serviceNetwork.getNetwork({networkId:params.networkId});if(network.feeMeta.isWithL1BaseFee){l1Fee=yield this.getL1Fee(params);}return{baseFee:l1Fee};});function getGasFee(_x8){return _getGasFee.apply(this,arguments);}return getGasFee;}();_proto.getL1Fee=function(){var _getL1Fee=_asyncToGenerator(function*(params){var _encodedTx$nonce,_encodedTx$chainId,_encodedTx$gasPrice,_encodedTx$maxFeePerG,_encodedTx$maxPriorit;var encodedTx=params.encodedTx;var unsignedTx=ethers.Transaction.from({to:encodedTx.to,data:encodedTx.data,value:encodedTx.value,gasLimit:encodedTx.gasLimit,nonce:Number((_encodedTx$nonce=encodedTx.nonce)!=null?_encodedTx$nonce:1),chainId:(_encodedTx$chainId=encodedTx.chainId)!=null?_encodedTx$chainId:1,gasPrice:(_encodedTx$gasPrice=encodedTx.gasPrice)!=null?_encodedTx$gasPrice:1e9,maxFeePerGas:(_encodedTx$maxFeePerG=encodedTx.maxFeePerGas)!=null?_encodedTx$maxFeePerG:1e9,maxPriorityFeePerGas:(_encodedTx$maxPriorit=encodedTx.maxPriorityFeePerGas)!=null?_encodedTx$maxPriorit:1e9});var bytes=unsignedTx.unsignedSerialized;var l1Fee=yield this.client.call('eth_call',[{to:this.l2PriceOracleAddress,data:INTERFACE.getL1Fee(bytes).data},'latest']);return new B(l1Fee.toString()).times(BASE_FEE_RATE).toFixed(0);});function getL1Fee(_x9){return _getL1Fee.apply(this,arguments);}return getL1Fee;}();_proto.getGasLimit=function(){var _getGasLimit=_asyncToGenerator(function*(params){var estimateGasLimitRes=yield this.client.call('eth_estimateGas',[_pick(params.encodedTx,'from','to','value','data')]);var estimateGasLimit=Number(estimateGasLimitRes);var gasLimit=params.encodedTx?.data===EMPTY_DATA?estimateGasLimit:estimateGasLimit*GAS_LIMIT_RATE;return{gasLimit:Math.ceil(gasLimit).toString(),estimateGasLimit:estimateGasLimit.toString()};});function getGasLimit(_x10){return _getGasLimit.apply(this,arguments);}return getGasLimit;}();_proto.getHistoryDetailFromThirdParty=function(){var _getHistoryDetailFromThirdParty=_asyncToGenerator(function*(params){var _receipt$effectiveGas,_tx$value;var{txid,accountAddress}=params;var res=yield this.client.batchCall([['eth_getTransactionByHash',[txid]],['eth_getTransactionReceipt',[txid]]]);var tx=res[0];var receipt=res[1];if(!tx||!receipt){throw new Error(`[ProviderEVMFork.getHistoryDetail] Can not find transaction by hash: ${txid}`);}var nativeToken=yield this.getNativeToken();if(!nativeToken.info?.decimals){throw new Error('decimals is undefined');}var gasFee=new B((_receipt$effectiveGas=receipt?.effectiveGasPrice)!=null?_receipt$effectiveGas:0).multipliedBy(receipt?.gasUsed).shiftedBy(-nativeToken.info.decimals);var value=new B((_tx$value=tx?.value)!=null?_tx$value:'0').shiftedBy(-nativeToken.info.decimals);var transfers=[{label:'Transfer',from:tx?.from,to:tx?.to,amount:value.toString(),token:this.nativeTokenAddress}];var sends=[];var receives=[];if(accountAddress){transfers.forEach(function(item){if(item.from===params.accountAddress){sends.push(item);}if(item.to===params.accountAddress){receives.push(item);}});transfers=[];}var status=EOnChainHistoryTxStatus.Failed;if(new B(receipt?.status).isGreaterThan(0)){status=EOnChainHistoryTxStatus.Success;}return{tokens:{[nativeToken.info.address]:nativeToken},data:{tx:txid,from:tx?.from,to:tx?.to,riskLevel:0,sends,receives,transfers,status,block:safeNumber(receipt?.blockNumber),timestamp:undefined,gasFee:gasFee.toString(),gasFeeFiatValue:safeNumberString(gasFee.multipliedBy(nativeToken.price)),nonce:safeNumber(tx?.nonce),value:value.toString()}};});function getHistoryDetailFromThirdParty(_x11){return _getHistoryDetailFromThirdParty.apply(this,arguments);}return getHistoryDetailFromThirdParty;}();return _createClass(EvmApiProvider);}(BaseApiProvider);export{EvmApiProvider};","import _isNil from\"lodash/isNil\";import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _isNumber from\"lodash/isNumber\";import _isEmpty from\"lodash/isEmpty\";import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import _get from\"@babel/runtime/helpers/get\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import{defaultAbiCoder}from'@ethersproject/abi';import BigNumber from'bignumber.js';import{validateEvmAddress}from'@onekeyhq/core/src/chains/evm/sdkEvm';import{EthersJsonRpcProvider,ethers}from'@onekeyhq/core/src/chains/evm/sdkEvm/ethers';import coreChainApi from'@onekeyhq/core/src/instance/coreChainApi';import{getNetworkIdsMap}from'@onekeyhq/shared/src/config/networkIds';import{getEnabledNFTNetworkIds}from'@onekeyhq/shared/src/engine/engineConsts';import{OneKeyError,OneKeyInternalError}from'@onekeyhq/shared/src/errors';import chainValueUtils from'@onekeyhq/shared/src/utils/chainValueUtils';import hexUtils from'@onekeyhq/shared/src/utils/hexUtils';import numberUtils,{toBigIntHex}from'@onekeyhq/shared/src/utils/numberUtils';import{mergeAssetTransferActions}from'@onekeyhq/shared/src/utils/txActionUtils';import{ENFTType}from'@onekeyhq/shared/types/nft';import{EDecodedTxActionType,EDecodedTxStatus,EReplaceTxType}from'@onekeyhq/shared/types/tx';import{VaultBase}from\"../../base/VaultBase\";import{EWrappedType}from\"../../types\";import{EVMContractDecoder}from\"./decoder\";import{EErc1155MethodSelectors,EErc1155TxDescriptionName,EErc20MethodSelectors,EErc20TxDescriptionName,EErc721MethodSelectors,EErc721TxDescriptionName,EWrapperTokenMethodSelectors}from\"./decoder/abi\";import{InfiniteAmountText,checkIsEvmNativeTransfer,formatValue,parseToNativeTx}from\"./decoder/utils\";import{KeyringExternal}from\"./KeyringExternal\";import{KeyringHardware}from\"./KeyringHardware\";import{KeyringHd}from\"./KeyringHd\";import{KeyringImported}from\"./KeyringImported\";import{KeyringQr}from\"./KeyringQr\";import{KeyringWatching}from\"./KeyringWatching\";import{ClientEvm}from\"./sdkEvm/ClientEvm\";import{EvmApiProvider}from\"./sdkEvm/EvmApiProvider\";var enabledNFTNetworkIds=getEnabledNFTNetworkIds();var Vault=function(_VaultBase){_inherits(Vault,_VaultBase);var _super=_createSuper(Vault);function Vault(...args){var _this;_this=_super.call(this,...args);_this.coreApi=coreChainApi.evm.hd;_this.keyringMap={hd:KeyringHd,qr:KeyringQr,hw:KeyringHardware,imported:KeyringImported,watching:KeyringWatching,external:KeyringExternal};return _this;}var _proto=Vault.prototype;_proto.validatePrivateKey=function(){var _validatePrivateKey=_asyncToGenerator(function*(privateKey){return this.baseValidatePrivateKey(privateKey);});function validatePrivateKey(_x){return _validatePrivateKey.apply(this,arguments);}return validatePrivateKey;}();_proto.validateXprvt=function validateXprvt(){return Promise.resolve({isValid:false});};_proto.validateGeneralInput=function(){var _validateGeneralInput=_asyncToGenerator(function*(params){var{result}=yield this.baseValidateGeneralInput(params);return result;});function validateGeneralInput(_x2){return _validateGeneralInput.apply(this,arguments);}return validateGeneralInput;}();_proto.buildAccountAddressDetail=function(){var _buildAccountAddressDetail=_asyncToGenerator(function*(params){var{account,networkId,externalAccountAddress}=params;var address=account.address||externalAccountAddress||'';var{normalizedAddress,displayAddress,isValid}=yield this.validateAddress(address);return{networkId,normalizedAddress,displayAddress,address:displayAddress,baseAddress:normalizedAddress,isValid,allowEmptyAddress:false};});function buildAccountAddressDetail(_x3){return _buildAccountAddressDetail.apply(this,arguments);}return buildAccountAddressDetail;}();_proto.buildEncodedTx=function(){var _buildEncodedTx=_asyncToGenerator(function*(params){var{transfersInfo,approveInfo,wrappedInfo}=params;if(transfersInfo&&!_isEmpty(transfersInfo)){return this._buildEncodedTxFromTransfer(params);}if(approveInfo){return this._buildEncodeTxFromApprove(params);}if(wrappedInfo){return this._buildEncodedTxFromWrapperToken(params);}throw new OneKeyInternalError();});function buildEncodedTx(_x4){return _buildEncodedTx.apply(this,arguments);}return buildEncodedTx;}();_proto._buildEncodedTxFromWrapperToken=function(){var _buildEncodedTxFromWrapperToken2=_asyncToGenerator(function*(params){var{wrappedInfo}=params;var{from,amount,contract,type}=wrappedInfo;var network=yield this.getNetwork();var methodID=type===EWrappedType.DEPOSIT?EWrapperTokenMethodSelectors.deposit:EWrapperTokenMethodSelectors.withdraw;var amountHex=toBigIntHex(new BigNumber(amount).shiftedBy(network.decimals));var data=`${methodID}${defaultAbiCoder.encode(['uint256'],[amountHex]).slice(2)}`;if(type===EWrappedType.DEPOSIT){return{from,to:contract,value:amountHex,data};}return{from,to:contract,value:'0x0',data};});function _buildEncodedTxFromWrapperToken(_x5){return _buildEncodedTxFromWrapperToken2.apply(this,arguments);}return _buildEncodedTxFromWrapperToken;}();_proto.buildDecodedTx=function(){var _buildDecodedTx2=_asyncToGenerator(function*(params){var _encodedTx$from,_network$logoURI;var{unsignedTx,transferPayload}=params;var encodedTx=unsignedTx.encodedTx;var{swapInfo,stakingInfo}=unsignedTx;var[network,accountAddress,nativeTx]=yield Promise.all([this.getNetwork(),this.getAccountAddress(),parseToNativeTx({encodedTx})]);var action={type:EDecodedTxActionType.UNKNOWN,unknownAction:{from:(_encodedTx$from=encodedTx.from)!=null?_encodedTx$from:accountAddress,to:encodedTx.to,icon:(_network$logoURI=network.logoURI)!=null?_network$logoURI:''}};var isToContract;var extraNativeTransferAction;if(swapInfo){isToContract=true;action=yield this.buildInternalSwapAction({swapInfo,swapData:encodedTx.data,swapToAddress:encodedTx.to});}else if(stakingInfo){isToContract=true;action=yield this.buildInternalStakingAction({stakingInfo,accountAddress,stakingData:encodedTx.data,stakingToAddress:encodedTx.to});}else{if(encodedTx.value){var valueBn=new BigNumber(encodedTx.value);if(!valueBn.isNaN()&&valueBn.gt(0)){extraNativeTransferAction=yield this._buildTxTransferNativeTokenAction({encodedTx});}}try{var parseResult=yield this.backgroundApi.serviceSend.parseTransaction({accountId:this.accountId,networkId:this.networkId,encodedTx,accountAddress});isToContract=parseResult.parsedTx.to.isContract;}catch(e){}if(isToContract===false||checkIsEvmNativeTransfer({tx:nativeTx})){var actionFromNativeTransfer=yield this._buildTxTransferNativeTokenAction({encodedTx});if(actionFromNativeTransfer){action=actionFromNativeTransfer;}extraNativeTransferAction=undefined;}else{var actionFromContract=yield this._buildTxActionFromContract({encodedTx,transferPayload});if(actionFromContract){action=actionFromContract;}}}return this._buildDecodedTx({unsignedTx,action,extraNativeTransferAction,isToContract});});function buildDecodedTx(_x6){return _buildDecodedTx2.apply(this,arguments);}return buildDecodedTx;}();_proto._buildTxActionFromContract=function(){var _buildTxActionFromContract2=_asyncToGenerator(function*(params){var action;var{encodedTx,transferPayload}=params;var nativeTx=yield parseToNativeTx({encodedTx});var decoder=new EVMContractDecoder();var erc20TxDesc=decoder.parseERC20(nativeTx);if(erc20TxDesc){action=yield this._buildTxTokenAction({encodedTx,txDesc:erc20TxDesc,transferPayload});if(action)return action;}var erc721TxDesc=decoder.parseERC721(nativeTx);if(erc721TxDesc){action=yield this._buildTxTransferNFTAction({encodedTx,txDesc:erc721TxDesc,transferPayload});if(action)return action;}var erc1155TxDesc=decoder.parseERC1155(nativeTx);if(erc1155TxDesc){action=yield this._buildTxTransferNFTAction({encodedTx,txDesc:erc1155TxDesc,transferPayload});if(action)return action;}if(erc20TxDesc||erc721TxDesc||erc1155TxDesc){action=yield this._buildTxFunctionCallAction({encodedTx,txDesc:erc20TxDesc||erc721TxDesc||erc1155TxDesc});}return action;});function _buildTxActionFromContract(_x7){return _buildTxActionFromContract2.apply(this,arguments);}return _buildTxActionFromContract;}();_proto.buildUnsignedTx=function(){var _buildUnsignedTx=_asyncToGenerator(function*(params){var _params$encodedTx;var encodedTx=(_params$encodedTx=params.encodedTx)!=null?_params$encodedTx:yield this.buildEncodedTx(params);if(encodedTx){var unsignedTx=yield this._buildUnsignedTxFromEncodedTx(encodedTx);if(params.prevNonce&&_isNumber(params.prevNonce)){return this.updateUnsignedTx({unsignedTx,nonceInfo:{nonce:new BigNumber(params.prevNonce).plus(1).toNumber()}});}return unsignedTx;}throw new OneKeyInternalError();});function buildUnsignedTx(_x8){return _buildUnsignedTx.apply(this,arguments);}return buildUnsignedTx;}();_proto.updateUnsignedTx=function(){var _updateUnsignedTx=_asyncToGenerator(function*(params){var{unsignedTx,feeInfo,nonceInfo,nativeAmountInfo,tokenApproveInfo,dataInfo}=params;var encodedTxNew=unsignedTx.encodedTx;if(tokenApproveInfo&&tokenApproveInfo.allowance!==''){encodedTxNew=yield this._updateTokenApproveInfo({encodedTx:encodedTxNew,tokenApproveInfo});if(unsignedTx.approveInfo){unsignedTx.approveInfo=_objectSpread(_objectSpread({},unsignedTx.approveInfo),{},{amount:tokenApproveInfo.allowance,isMax:tokenApproveInfo.isUnlimited});}}if(feeInfo){encodedTxNew=yield this._attachFeeInfoToEncodedTx({encodedTx:encodedTxNew,feeInfo});}if(nonceInfo){encodedTxNew=yield this._attachNonceInfoToEncodedTx({encodedTx:encodedTxNew,nonceInfo});unsignedTx.nonce=nonceInfo.nonce;}if(nativeAmountInfo){encodedTxNew=yield this._updateNativeTokenAmount({encodedTx:encodedTxNew,nativeAmountInfo});}if(dataInfo){encodedTxNew=yield this._attachDataInfoToEncodedTx({encodedTx:encodedTxNew,dataInfo});}unsignedTx.encodedTx=encodedTxNew;return unsignedTx;});function updateUnsignedTx(_x9){return _updateUnsignedTx.apply(this,arguments);}return updateUnsignedTx;}();_proto.validateXpub=function(){var _validateXpub=_asyncToGenerator(function*(){return Promise.resolve({isValid:false});});function validateXpub(){return _validateXpub.apply(this,arguments);}return validateXpub;}();_proto.validateAddress=function(){var _validateAddress=_asyncToGenerator(function*(address){return validateEvmAddress(address);});function validateAddress(_x10){return _validateAddress.apply(this,arguments);}return validateAddress;}();_proto._buildDecodedTx=function(){var _buildDecodedTx3=_asyncToGenerator(function*(params){var _encodedTx$from2,_Number;var{unsignedTx,action,extraNativeTransferAction,isToContract}=params;var encodedTx=unsignedTx.encodedTx;var accountAddress=yield this.getAccountAddress();var finalActions=mergeAssetTransferActions([action,extraNativeTransferAction].filter(Boolean));var decodedTx={txid:'',owner:accountAddress,signer:(_encodedTx$from2=encodedTx.from)!=null?_encodedTx$from2:accountAddress,to:encodedTx.to,isToContract,nonce:(_Number=Number(encodedTx.nonce))!=null?_Number:0,actions:finalActions,status:EDecodedTxStatus.Pending,networkId:this.networkId,accountId:this.accountId,encodedTx,extraInfo:null,approveInfo:unsignedTx.approveInfo};return decodedTx;});function _buildDecodedTx(_x11){return _buildDecodedTx3.apply(this,arguments);}return _buildDecodedTx;}();_proto._buildEncodedTxFromTransfer=function(){var _buildEncodedTxFromTransfer2=_asyncToGenerator(function*(params){var network=yield this.getNetwork();var transfersInfo=params.transfersInfo;if(transfersInfo.length===1){var transferInfo=transfersInfo[0];var{from,to,amount,tokenInfo,nftInfo,hexData}=transferInfo;if(!transferInfo.to){throw new Error('buildEncodedTx ERROR: transferInfo.to is missing');}if(!tokenInfo&&!nftInfo){throw new Error('buildEncodedTx ERROR: transferInfo.tokenInfo and transferInfo.nftInfo are both missing');}if(nftInfo){var{nftAddress,nftId,nftType}=nftInfo;var data=yield this._buildEncodedDataFromTransferNFT({from,to,id:nftId,amount,type:nftType});return{from,to:nftAddress,value:'0x0',data};}if(tokenInfo){if(_isNil(tokenInfo.decimals)){throw new Error('buildEncodedTx ERROR: transferInfo.tokenInfo.decimals missing');}if(tokenInfo.isNative){return{from,to,value:numberUtils.numberToHex(chainValueUtils.convertAmountToChainValue({network,value:amount})),data:hexData&&hexUtils.isHexString(hexData)?hexData:'0x'};}if(!tokenInfo.address){throw new Error('buildEncodedTx ERROR: transferInfo.tokenInfo.address missing');}var _data=yield this._buildEncodedDataFromTransferToken({to,amount,decimals:tokenInfo.decimals});return{from,to:tokenInfo.address,value:'0x0',data:_data};}}return this._buildEncodedTxFromBatchTransfer(transfersInfo);});function _buildEncodedTxFromTransfer(_x12){return _buildEncodedTxFromTransfer2.apply(this,arguments);}return _buildEncodedTxFromTransfer;}();_proto._buildEncodeTxFromApprove=function(){var _buildEncodeTxFromApprove2=_asyncToGenerator(function*(params){var{approveInfo}=params;var{owner,spender,amount,tokenInfo,isMax}=approveInfo;if(!tokenInfo){throw new Error('buildEncodedTx ERROR: transferInfo.tokenInfo is missing');}var amountBN=new BigNumber(amount);var amountHex=toBigIntHex(amountBN.isNaN()||isMax?new BigNumber(2).pow(256).minus(1):amountBN.shiftedBy(tokenInfo.decimals));var data=`${EErc20MethodSelectors.tokenApprove}${defaultAbiCoder.encode(['address','uint256'],[spender,amountHex]).slice(2)}`;return{from:owner,to:tokenInfo.address,value:'0x0',data};});function _buildEncodeTxFromApprove(_x13){return _buildEncodeTxFromApprove2.apply(this,arguments);}return _buildEncodeTxFromApprove;}();_proto._buildEncodedDataFromTransferNFT=function(){var _buildEncodedDataFromTransferNFT2=_asyncToGenerator(function*(params){var{type,from,to,id,amount}=params;if(type===ENFTType.ERC721){return`${EErc721MethodSelectors.safeTransferFrom}${defaultAbiCoder.encode(['address','address','uint256'],[from,to,id]).slice(2)}`;}return`${EErc1155MethodSelectors.safeTransferFrom}${defaultAbiCoder.encode(['address','address','uint256','uint256','bytes'],[from,to,id,amount,'0x00']).slice(2)}`;});function _buildEncodedDataFromTransferNFT(_x14){return _buildEncodedDataFromTransferNFT2.apply(this,arguments);}return _buildEncodedDataFromTransferNFT;}();_proto._buildEncodedDataFromTransferToken=function(){var _buildEncodedDataFromTransferToken2=_asyncToGenerator(function*(params){var{to,amount,decimals}=params;var amountBN=new BigNumber(amount);var amountHex=toBigIntHex(amountBN.shiftedBy(decimals));var data=`${EErc20MethodSelectors.tokenTransfer}${defaultAbiCoder.encode(['address','uint256'],[to,amountHex]).slice(2)}`;return data;});function _buildEncodedDataFromTransferToken(_x15){return _buildEncodedDataFromTransferToken2.apply(this,arguments);}return _buildEncodedDataFromTransferToken;}();_proto._buildEncodedTxFromBatchTransfer=function(){var _buildEncodedTxFromBatchTransfer2=_asyncToGenerator(function*(transfersInfo){return{from:'',to:'',value:'0',data:'0x'};});function _buildEncodedTxFromBatchTransfer(_x16){return _buildEncodedTxFromBatchTransfer2.apply(this,arguments);}return _buildEncodedTxFromBatchTransfer;}();_proto._attachFeeInfoToEncodedTx=function(){var _attachFeeInfoToEncodedTx2=_asyncToGenerator(function*(params){var _feeInfo$gasEIP;var{encodedTx,feeInfo}=params;var gasInfo=(_feeInfo$gasEIP=feeInfo.gasEIP1559)!=null?_feeInfo$gasEIP:feeInfo.gas;var{feeDecimals}=feeInfo.common;var encodedTxWithFee=_objectSpread({},encodedTx);if(!_isNil(gasInfo?.gasLimit)){encodedTxWithFee.gas=toBigIntHex(new BigNumber(gasInfo.gasLimit));encodedTxWithFee.gasLimit=toBigIntHex(new BigNumber(gasInfo.gasLimit));}if(feeInfo.gasEIP1559){var _feeInfo$gasEIP1559$m,_feeInfo$gasEIP1559$m2;encodedTxWithFee.maxFeePerGas=toBigIntHex(new BigNumber((_feeInfo$gasEIP1559$m=feeInfo.gasEIP1559.maxFeePerGas)!=null?_feeInfo$gasEIP1559$m:0).shiftedBy(feeDecimals));encodedTxWithFee.maxPriorityFeePerGas=toBigIntHex(new BigNumber((_feeInfo$gasEIP1559$m2=feeInfo.gasEIP1559.maxPriorityFeePerGas)!=null?_feeInfo$gasEIP1559$m2:0).shiftedBy(feeDecimals));delete encodedTxWithFee.gasPrice;}else if(feeInfo.gas){encodedTxWithFee.gasPrice=toBigIntHex(new BigNumber(feeInfo.gas.gasPrice).shiftedBy(feeDecimals));delete encodedTxWithFee.maxFeePerGas;delete encodedTxWithFee.maxPriorityFeePerGas;}return Promise.resolve(encodedTxWithFee);});function _attachFeeInfoToEncodedTx(_x17){return _attachFeeInfoToEncodedTx2.apply(this,arguments);}return _attachFeeInfoToEncodedTx;}();_proto._attachNonceInfoToEncodedTx=function(){var _attachNonceInfoToEncodedTx2=_asyncToGenerator(function*(params){var{encodedTx,nonceInfo}=params;var tx=_objectSpread(_objectSpread({},encodedTx),{},{nonce:nonceInfo.nonce});return Promise.resolve(tx);});function _attachNonceInfoToEncodedTx(_x18){return _attachNonceInfoToEncodedTx2.apply(this,arguments);}return _attachNonceInfoToEncodedTx;}();_proto._attachDataInfoToEncodedTx=function(){var _attachDataInfoToEncodedTx2=_asyncToGenerator(function*(params){var{encodedTx,dataInfo}=params;var tx=_objectSpread(_objectSpread({},encodedTx),{},{data:dataInfo.data});return Promise.resolve(tx);});function _attachDataInfoToEncodedTx(_x19){return _attachDataInfoToEncodedTx2.apply(this,arguments);}return _attachDataInfoToEncodedTx;}();_proto._updateNativeTokenAmount=function(){var _updateNativeTokenAmount2=_asyncToGenerator(function*(params){var{encodedTx,nativeAmountInfo}=params;var network=yield this.getNetwork();var newValue=encodedTx.value;if(!_isNil(nativeAmountInfo.maxSendAmount)){newValue=chainValueUtils.fixNativeTokenMaxSendAmount({amount:nativeAmountInfo.maxSendAmount,network});}else if(!_isNil(nativeAmountInfo.amount)){newValue=numberUtils.numberToHex(chainValueUtils.convertAmountToChainValue({value:nativeAmountInfo.amount,network}));}var tx=_objectSpread(_objectSpread({},encodedTx),{},{value:newValue});return Promise.resolve(tx);});function _updateNativeTokenAmount(_x20){return _updateNativeTokenAmount2.apply(this,arguments);}return _updateNativeTokenAmount;}();_proto._updateTokenApproveInfo=function(){var _updateTokenApproveInfo2=_asyncToGenerator(function*(params){var{encodedTx,tokenApproveInfo}=params;var action=yield this._buildTxActionFromContract({encodedTx});if(action&&action.type===EDecodedTxActionType.TOKEN_APPROVE&&action.tokenApprove){var{allowance,isUnlimited}=tokenApproveInfo;var{spender,decimals}=action.tokenApprove;var amountHex=toBigIntHex(isUnlimited?new BigNumber(2).pow(256).minus(1):new BigNumber(allowance).shiftedBy(decimals));var data=`${EErc20MethodSelectors.tokenApprove}${defaultAbiCoder.encode(['address','uint256'],[spender,amountHex]).slice(2)}`;return _objectSpread(_objectSpread({},encodedTx),{},{data});}return encodedTx;});function _updateTokenApproveInfo(_x21){return _updateTokenApproveInfo2.apply(this,arguments);}return _updateTokenApproveInfo;}();_proto._buildUnsignedTxFromEncodedTx=function(){var _buildUnsignedTxFromEncodedTx2=_asyncToGenerator(function*(encodedTx){var tx=_objectSpread({},encodedTx);var chainIdHex=yield this.getNetworkChainId({hex:true});var chainIdNum=chainIdHex;tx.chainId=chainIdNum;return Promise.resolve({encodedTx:tx,nonce:_isNil(tx.nonce)?tx.nonce:new BigNumber(tx.nonce).toNumber()});});function _buildUnsignedTxFromEncodedTx(_x22){return _buildUnsignedTxFromEncodedTx2.apply(this,arguments);}return _buildUnsignedTxFromEncodedTx;}();_proto._buildTxFunctionCallAction=function(){var _buildTxFunctionCallAction2=_asyncToGenerator(function*(params){var _encodedTx$from3,_network$logoURI2;var{encodedTx,txDesc}=params;var[network,accountAddress]=yield Promise.all([this.getNetwork(),this.getAccountAddress()]);var action={type:EDecodedTxActionType.FUNCTION_CALL,functionCall:{from:(_encodedTx$from3=encodedTx.from)!=null?_encodedTx$from3:accountAddress,to:encodedTx.to,functionName:txDesc.name,functionSignature:txDesc.signature,args:txDesc.args.map(function(arg){return String(arg);}),icon:(_network$logoURI2=network.logoURI)!=null?_network$logoURI2:''}};return action;});function _buildTxFunctionCallAction(_x23){return _buildTxFunctionCallAction2.apply(this,arguments);}return _buildTxFunctionCallAction;}();_proto._buildTxTokenAction=function(){var _buildTxTokenAction2=_asyncToGenerator(function*(params){var{encodedTx,txDesc,transferPayload}=params;var token=yield this.backgroundApi.serviceToken.getToken({accountId:this.accountId,networkId:this.networkId,tokenIdOnNetwork:encodedTx.to});if(!token)return;if(txDesc.name===EErc20TxDescriptionName.TransferFrom||txDesc.name===EErc20TxDescriptionName.Transfer){return this._buildTxTransferTokenAction({encodedTx,txDesc,token,transferPayload});}if(txDesc.name===EErc20TxDescriptionName.Approve){return this._buildTxApproveTokenAction({encodedTx,txDesc,token});}});function _buildTxTokenAction(_x24){return _buildTxTokenAction2.apply(this,arguments);}return _buildTxTokenAction;}();_proto._buildTxTransferTokenAction=function(){var _buildTxTransferTokenAction2=_asyncToGenerator(function*(params){var _token$logoURI;var{encodedTx,token,txDesc,transferPayload}=params;var from=encodedTx.from;var recipient=encodedTx.to;var value=ethers.BigNumber.from(0);if(txDesc?.name===EErc20TxDescriptionName.Transfer){from=encodedTx.from;recipient=txDesc.args[0];value=txDesc.args[1];}if(txDesc?.name===EErc20TxDescriptionName.TransferFrom){from=txDesc?.args[0];recipient=txDesc?.args[1];value=txDesc?.args[2];}var amount=chainValueUtils.convertTokenChainValueToAmount({value:value.toString(),token});if(transferPayload?.originalRecipient&&transferPayload.originalRecipient.toLowerCase()===recipient.toLowerCase()){recipient=transferPayload.originalRecipient;}var transfer={from,to:recipient,tokenIdOnNetwork:token.address,icon:(_token$logoURI=token.logoURI)!=null?_token$logoURI:'',name:token.name,symbol:token.symbol,amount,isNFT:false};var action=yield this.buildTxTransferAssetAction({from:encodedTx.from,to:recipient,transfers:[transfer]});return action;});function _buildTxTransferTokenAction(_x25){return _buildTxTransferTokenAction2.apply(this,arguments);}return _buildTxTransferTokenAction;}();_proto._buildTxApproveTokenAction=function(){var _buildTxApproveTokenAction2=_asyncToGenerator(function*(params){var _encodedTx$from4,_token$logoURI2;var{encodedTx,txDesc,token}=params;var spender=txDesc?.args[0];var value=txDesc?.args[1];var amount=formatValue(value,token.decimals);var accountAddress=yield this.getAccountAddress();var action={type:EDecodedTxActionType.TOKEN_APPROVE,tokenApprove:{from:(_encodedTx$from4=encodedTx.from)!=null?_encodedTx$from4:accountAddress,to:encodedTx.to,spender,amount,icon:(_token$logoURI2=token.logoURI)!=null?_token$logoURI2:'',name:token.name,symbol:token.symbol,decimals:token.decimals,tokenIdOnNetwork:token.address,isInfiniteAmount:amount===InfiniteAmountText}};return action;});function _buildTxApproveTokenAction(_x26){return _buildTxApproveTokenAction2.apply(this,arguments);}return _buildTxApproveTokenAction;}();_proto._buildTxTransferNativeTokenAction=function(){var _buildTxTransferNativeTokenAction2=_asyncToGenerator(function*(params){var _encodedTx$from5,_nativeToken$logoURI,_encodedTx$from6;var{encodedTx}=params;var accountAddress=yield this.getAccountAddress();var nativeToken=yield this.backgroundApi.serviceToken.getToken({accountId:this.accountId,networkId:this.networkId,tokenIdOnNetwork:''});if(!nativeToken)return;var transfer={from:(_encodedTx$from5=encodedTx.from)!=null?_encodedTx$from5:accountAddress,to:encodedTx.to,tokenIdOnNetwork:nativeToken.address,icon:(_nativeToken$logoURI=nativeToken.logoURI)!=null?_nativeToken$logoURI:'',name:nativeToken.name,symbol:nativeToken.symbol,amount:new BigNumber(encodedTx.value).shiftedBy(-nativeToken.decimals).toFixed(),isNFT:false,isNative:true};var action=yield this.buildTxTransferAssetAction({from:(_encodedTx$from6=encodedTx.from)!=null?_encodedTx$from6:accountAddress,to:encodedTx.to,transfers:[transfer]});return action;});function _buildTxTransferNativeTokenAction(_x27){return _buildTxTransferNativeTokenAction2.apply(this,arguments);}return _buildTxTransferNativeTokenAction;}();_proto._buildTxTransferNFTAction=function(){var _buildTxTransferNFTAction2=_asyncToGenerator(function*(params){var _nft$metadata$name,_nft$metadata$image,_nft$metadata$name2,_encodedTx$from7;var{encodedTx,txDesc,transferPayload}=params;var accountAddress=yield this.getAccountAddress();if(!enabledNFTNetworkIds.includes(this.networkId)){return;}if(txDesc.name!==EErc721TxDescriptionName.SafeTransferFrom&&txDesc.name!==EErc1155TxDescriptionName.SafeTransferFrom)return;var[from,to,nftId,amount]=txDesc?.args.map(function(arg){return String(arg);})||[];var nft=yield this.backgroundApi.serviceNFT.getNFT({accountId:this.accountId,networkId:this.networkId,collectionAddress:encodedTx.to,nftId});var nftAmount=amount;if(!nft)return;if(txDesc.name===EErc721TxDescriptionName.SafeTransferFrom){nftAmount=_isNil(amount)?'1':amount;}var recipient=to;if(transferPayload?.originalRecipient&&transferPayload.originalRecipient.toLowerCase()===recipient.toLowerCase()){recipient=transferPayload.originalRecipient;}var transfer={from,to:recipient,tokenIdOnNetwork:nftId,amount:nftAmount,name:(_nft$metadata$name=nft.metadata?.name)!=null?_nft$metadata$name:'',icon:(_nft$metadata$image=nft.metadata?.image)!=null?_nft$metadata$image:'',symbol:(_nft$metadata$name2=nft.metadata?.name)!=null?_nft$metadata$name2:'',isNFT:true};return this.buildTxTransferAssetAction({from:(_encodedTx$from7=encodedTx.from)!=null?_encodedTx$from7:accountAddress,to:recipient,transfers:[transfer]});});function _buildTxTransferNFTAction(_x28){return _buildTxTransferNFTAction2.apply(this,arguments);}return _buildTxTransferNFTAction;}();_proto.getEthersClient=function(){var _getEthersClient=_asyncToGenerator(function*(){var rpcUrl=yield this.getRpcUrl();var client=new EthersJsonRpcProvider(rpcUrl);return client;});function getEthersClient(){return _getEthersClient.apply(this,arguments);}return getEthersClient;}();_proto.getPrivateKeyFromImported=function(){var _getPrivateKeyFromImported=_asyncToGenerator(function*(params){return _get(_getPrototypeOf(Vault.prototype),\"baseGetPrivateKeyFromImported\",this).call(this,params);});function getPrivateKeyFromImported(_x29){return _getPrivateKeyFromImported.apply(this,arguments);}return getPrivateKeyFromImported;}();_proto.buildEstimateFeeParams=function(){var _buildEstimateFeeParams=_asyncToGenerator(function*({encodedTx}){if(!encodedTx){return{encodedTx};}var{chainId,nonce,from,to,data,value}=encodedTx;var transferValue=value;var nativeTx=yield parseToNativeTx({encodedTx});if(checkIsEvmNativeTransfer({tx:nativeTx})){transferValue=this.networkId===getNetworkIdsMap().fevm?'0x1':'0x0';}return Promise.resolve({encodedTx:{chainId,nonce,from,to,data,value:transferValue}});});function buildEstimateFeeParams(_x30){return _buildEstimateFeeParams.apply(this,arguments);}return buildEstimateFeeParams;}();_proto.buildParseTransactionParams=function(){var _buildParseTransactionParams=_asyncToGenerator(function*({encodedTx}){if(!encodedTx){return{encodedTx};}var{to,data,value}=encodedTx;return Promise.resolve({encodedTx:{to,data,value}});});function buildParseTransactionParams(_x31){return _buildParseTransactionParams.apply(this,arguments);}return buildParseTransactionParams;}();_proto.isEarliestLocalPendingTx=function(){var _isEarliestLocalPendingTx=_asyncToGenerator(function*({encodedTx}){var _encodedTx$nonce;var accountAddress=yield this.getAccountAddress();var minPendingTxNonce=yield this.backgroundApi.serviceHistory.getLocalHistoryMinPendingNonce({networkId:this.networkId,accountAddress});return new BigNumber((_encodedTx$nonce=encodedTx.nonce)!=null?_encodedTx$nonce:0).isEqualTo(minPendingTxNonce!=null?minPendingTxNonce:0);});function isEarliestLocalPendingTx(_x32){return _isEarliestLocalPendingTx.apply(this,arguments);}return isEarliestLocalPendingTx;}();_proto.buildReplaceEncodedTx=function(){var _buildReplaceEncodedTx=_asyncToGenerator(function*({decodedTx,replaceType}){var encodedTxOrigin;var{encodedTxEncrypted,nonce}=decodedTx;var encodedTx=decodedTx.encodedTx;if(encodedTxEncrypted){try{encodedTxOrigin=JSON.parse(yield this.backgroundApi.servicePassword.decryptByInstanceId(encodedTxEncrypted));}catch(error){encodedTxOrigin={from:'-',to:'-',value:'-',data:'-'};}}if(_isNil(nonce)||!_isNumber(nonce)||nonce<0){throw new OneKeyError('speedUpOrCancelTx ERROR: nonce is missing!');}var encodedTxEvm={from:encodedTx.from,to:encodedTx.to,value:encodedTx.value,data:encodedTx.data,nonce,gas:encodedTx.gas,gasLimit:encodedTx.gasLimit,gasPrice:encodedTx.gasPrice,maxFeePerGas:encodedTx.maxFeePerGas,maxPriorityFeePerGas:encodedTx.maxPriorityFeePerGas};if(replaceType===EReplaceTxType.Cancel){encodedTxEvm.to=encodedTxEvm.from;encodedTxEvm.value='0x0';encodedTxEvm.data='0x';}if(replaceType===EReplaceTxType.SpeedUp){if(encodedTxOrigin&&(encodedTxOrigin.from!==encodedTxEvm.from||encodedTxOrigin.to!==encodedTxEvm.to||encodedTxOrigin.value!==encodedTxEvm.value||encodedTxOrigin.data!==encodedTxEvm.data||!new BigNumber(encodedTxEvm.nonce||'0').eq(encodedTxOrigin.nonce||'0'))){throw new OneKeyError('Speedup failed. History transaction data not matched');}}return encodedTxEvm;});function buildReplaceEncodedTx(_x33){return _buildReplaceEncodedTx.apply(this,arguments);}return buildReplaceEncodedTx;}();_proto.getCustomRpcEndpointStatus=function(){var _getCustomRpcEndpointStatus=_asyncToGenerator(function*(params){var client=new ClientEvm(params.rpcUrl);var{chainId}=yield client.getChainId();if(params.validateChainId&&Number(chainId)!==Number(yield this.getNetworkChainId())){throw new OneKeyError('Invalid chainId');}var start=performance.now();var result=yield client.getInfo();return{chainId:Number(chainId),responseTime:Math.floor(performance.now()-start),bestBlockNumber:result.bestBlockNumber};});function getCustomRpcEndpointStatus(_x34){return _getCustomRpcEndpointStatus.apply(this,arguments);}return getCustomRpcEndpointStatus;}();_proto.broadcastTransactionFromCustomRpc=function(){var _broadcastTransactionFromCustomRpc=_asyncToGenerator(function*(params){var{customRpcInfo,signedTx}=params;var rpcUrl=customRpcInfo.rpc;if(!rpcUrl){throw new OneKeyInternalError('Invalid rpc url');}var client=new ClientEvm(rpcUrl);var txid=yield client.broadcastTransaction(signedTx.rawTx);return _objectSpread(_objectSpread({},signedTx),{},{txid,encodedTx:signedTx.encodedTx});});function broadcastTransactionFromCustomRpc(_x35){return _broadcastTransactionFromCustomRpc.apply(this,arguments);}return broadcastTransactionFromCustomRpc;}();_proto.getRpcClient=function(){var _getRpcClient=_asyncToGenerator(function*(){var rpcInfo=yield this.backgroundApi.serviceCustomRpc.getCustomRpcForNetwork(this.networkId);if(!rpcInfo?.rpc){throw new OneKeyInternalError('No RPC url');}var provider=new EvmApiProvider({url:rpcInfo.rpc,backgroundApi:this.backgroundApi,networkId:this.networkId});return provider;});function getRpcClient(){return _getRpcClient.apply(this,arguments);}return getRpcClient;}();_proto.fetchAccountDetailsByRpc=function(){var _fetchAccountDetailsByRpc=_asyncToGenerator(function*(params){var provider=yield this.getRpcClient();var resp=yield provider.getAccount(params);return resp;});function fetchAccountDetailsByRpc(_x36){return _fetchAccountDetailsByRpc.apply(this,arguments);}return fetchAccountDetailsByRpc;}();_proto.fetchTokenListByRpc=function(){var _fetchTokenListByRpc=_asyncToGenerator(function*(params){var provider=yield this.getRpcClient();var resp=yield provider.listAccountToken(params);return resp;});function fetchTokenListByRpc(_x37){return _fetchTokenListByRpc.apply(this,arguments);}return fetchTokenListByRpc;}();_proto.fetchTokenDetailsByRpc=function(){var _fetchTokenDetailsByRpc=_asyncToGenerator(function*(params){var provider=yield this.getRpcClient();var resp=yield provider.queryAccountToken(params);return resp;});function fetchTokenDetailsByRpc(_x38){return _fetchTokenDetailsByRpc.apply(this,arguments);}return fetchTokenDetailsByRpc;}();_proto.estimateFeeByRpc=function(){var _estimateFeeByRpc=_asyncToGenerator(function*(params){var provider=yield this.getRpcClient();var resp=yield provider.estimateFee(params);return resp;});function estimateFeeByRpc(_x39){return _estimateFeeByRpc.apply(this,arguments);}return estimateFeeByRpc;}();_proto.fetchAccountHistoryDetailByRpc=function(){var _fetchAccountHistoryDetailByRpc=_asyncToGenerator(function*(params){var provider=yield this.getRpcClient();var resp=yield provider.getAccountHistoryDetail(params);return resp;});function fetchAccountHistoryDetailByRpc(_x40){return _fetchAccountHistoryDetailByRpc.apply(this,arguments);}return fetchAccountHistoryDetailByRpc;}();_proto.checkFeeSupportInfo=function(){var _checkFeeSupportInfo=_asyncToGenerator(function*(params){var client=new ClientEvm(params.rpcUrl);return client.checkEIP1559Support();});function checkFeeSupportInfo(_x41){return _checkFeeSupportInfo.apply(this,arguments);}return checkFeeSupportInfo;}();_proto.proxyJsonRPCCall=function(){var _proxyJsonRPCCall=_asyncToGenerator(function*(request){var provider=yield this.getRpcClient();return provider.client.call(request.method,request.params);});function proxyJsonRPCCall(_x42){return _proxyJsonRPCCall.apply(this,arguments);}return proxyJsonRPCCall;}();return _createClass(Vault);}(VaultBase);export{Vault as default};","export var EErc20MethodSelectors=function(EErc20MethodSelectors){EErc20MethodSelectors[\"tokenTransfer\"]=\"0xa9059cbb\";EErc20MethodSelectors[\"tokenApprove\"]=\"0x095ea7b3\";return EErc20MethodSelectors;}({});export var EErc721MethodSelectors=function(EErc721MethodSelectors){EErc721MethodSelectors[\"safeTransferFrom\"]=\"0x42842e0e\";EErc721MethodSelectors[\"setApprovalForAll\"]=\"0xa22cb465\";EErc721MethodSelectors[\"Approval\"]=\"0x8c5be1e5\";return EErc721MethodSelectors;}({});export var EErc1155MethodSelectors=function(EErc1155MethodSelectors){EErc1155MethodSelectors[\"safeTransferFrom\"]=\"0xf242432a\";EErc1155MethodSelectors[\"setApprovalForAll\"]=\"0xa22cb465\";return EErc1155MethodSelectors;}({});export var EWrapperTokenMethodSelectors=function(EWrapperTokenMethodSelectors){EWrapperTokenMethodSelectors[\"withdraw\"]=\"0x2e1a7d4d\";EWrapperTokenMethodSelectors[\"deposit\"]=\"0xd0e30db0\";return EWrapperTokenMethodSelectors;}({});export var EErc20TxDescriptionName=function(EErc20TxDescriptionName){EErc20TxDescriptionName[\"Transfer\"]=\"transfer\";EErc20TxDescriptionName[\"TransferFrom\"]=\"transferFrom\";EErc20TxDescriptionName[\"Approve\"]=\"approve\";return EErc20TxDescriptionName;}({});export var EErc721TxDescriptionName=function(EErc721TxDescriptionName){EErc721TxDescriptionName[\"SafeTransferFrom\"]=\"safeTransferFrom\";return EErc721TxDescriptionName;}({});export var EErc1155TxDescriptionName=function(EErc1155TxDescriptionName){EErc1155TxDescriptionName[\"SafeTransferFrom\"]=\"safeTransferFrom\";return EErc1155TxDescriptionName;}({});var ERC20=['function name() public view returns (string)','function symbol() public view returns (string)','function decimals() public view returns (uint8)','function totalSupply() public view returns (uint256)','function balanceOf(address _owner) public view returns (uint256 balance)','function transfer(address _to, uint256 _value) public returns (bool success)','function transferFrom(address _from, address _to, uint256 _value) public returns (bool success)','function approve(address _spender, uint256 _value) public returns (bool success)','function allowance(address _owner, address _spender) public view returns (uint256 remaining)','event Transfer(address indexed _from, address indexed _to, uint256 _value)','event Approval(address indexed _owner, address indexed _spender, uint256 _value)'];var ERC721=['function supportsInterface(bytes4) public view returns(bool)','function safeTransferFrom(address from, address to, uint256 tokenId)'];var ERC1155=['function supportsInterface(bytes4) public view returns(bool)','function safeTransferFrom(address from, address to, uint256 id, uint256 amount, bytes data)'];var BATCH_TRANSFER=['function disperseEther(address[] recipients, uint256[] values)','function disperseToken(address token, address[] recipients, uint256[] values)','function disperseTokenSimple(address token, address[] recipients, uint256[] values)','function disperseNFT(address recipient, address[] tokens, uint256[] tokenIds, uint256[] amounts)'];var ABI={ERC20,ERC721,ERC1155,BATCH_TRANSFER};export{ABI};","export var EVaultKeyringTypes=function(EVaultKeyringTypes){EVaultKeyringTypes[\"hd\"]=\"hd\";EVaultKeyringTypes[\"qr\"]=\"qr\";EVaultKeyringTypes[\"hardware\"]=\"hardware\";EVaultKeyringTypes[\"imported\"]=\"imported\";EVaultKeyringTypes[\"watching\"]=\"watching\";EVaultKeyringTypes[\"external\"]=\"external\";return EVaultKeyringTypes;}({});export var EWrappedType=function(EWrappedType){EWrappedType[\"DEPOSIT\"]=\"deposit\";EWrappedType[\"WITHDRAW\"]=\"withdraw\";return EWrappedType;}({});","import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}import axios from'axios';import timeoutSignal from'timeout-signal';import{AxiosResponseError,JsonRPCResponseError,ResponseError}from\"../errors\";function normalizePayload(method,params,id=0){return{jsonrpc:'2.0',id,method,params};}var JsonRPCRequest=function(){function JsonRPCRequest(url,headers,timeout=30_000){this.url=url;this.timeout=timeout;this.headers={'Content-Type':'application/json'};if(headers){Object.assign(this.headers,headers);}}JsonRPCRequest.parseRPCResponse=function parseRPCResponse(response){if(typeof response!=='object'){throw new ResponseError('Invalid JSON RPC response, typeof response should be an object',response);}else if(response.error){var message='Error JSON RPC response';var error=response.error;if(error?.message&&typeof error?.message==='string'){message=`Error JSON RPC response: ${error?.message}`;}throw new JsonRPCResponseError(message,response);}else if(!('result'in response)){throw new ResponseError('Invalid JSON RPC response, result not found',response);}return Promise.resolve(response.result);};var _proto=JsonRPCRequest.prototype;_proto.call=function(){var _call=_asyncToGenerator(function*(method,params,headers,timeout){var signal=timeoutSignal(timeout||this.timeout);try{var response=yield axios({url:this.url,method:'POST',headers:this.assembleHeaders(headers),data:JSON.stringify(normalizePayload(method,params)),signal});return yield JsonRPCRequest.parseRPCResponse(response.data);}catch(error){if(axios.isAxiosError(error)){var _error$response$statu;throw new AxiosResponseError(`Wrong response<${(_error$response$statu=error.response?.status)!=null?_error$response$statu:''}>`,error.response);}throw error;}});function call(_x,_x2,_x3,_x4){return _call.apply(this,arguments);}return call;}();_proto.batchCall=function(){var _batchCall=_asyncToGenerator(function*(calls,headers,timeout,ignoreSoloError=true,autoFallbackToRpcSingle=true){var _this=this;var jsonResponses=[];var useRpcBatch=!autoFallbackToRpcSingle;if(useRpcBatch){var payload=calls.map(function([method,params],index){return normalizePayload(method,params,index);});try{var response=yield axios({url:this.url,method:'POST',headers:this.assembleHeaders(headers),data:JSON.stringify(payload),signal:timeoutSignal(timeout||this.timeout)});jsonResponses=response.data;if(!Array.isArray(jsonResponses)){throw new AxiosResponseError('Invalid JSON Batch RPC response, response should be an array',response);}else if(calls.length!==jsonResponses.length){throw new AxiosResponseError(`Invalid JSON Batch RPC response, batch with ${calls.length} calls, but got ${jsonResponses.length} responses`,response);}}catch(error){if(axios.isAxiosError(error)){var _error$response$statu2;throw new AxiosResponseError(`Wrong response<${(_error$response$statu2=error.response?.status)!=null?_error$response$statu2:''}>`,error.response);}throw error;}}else{jsonResponses=yield Promise.all(calls.map(function(){var _ref=_asyncToGenerator(function*(c){try{var res=yield _this.call(c[0],c[1],headers,timeout);return{result:res};}catch(error){}});return function(_x8){return _ref.apply(this,arguments);};}()));}return Promise.all(jsonResponses.sort(function({id:idA},{id:idB}){return idA-idB;}).map(function(resp){return JsonRPCRequest.parseRPCResponse(resp).catch(function(e){if(e instanceof JsonRPCResponseError&&ignoreSoloError){return undefined;}throw e;});}));});function batchCall(_x5,_x6,_x7){return _batchCall.apply(this,arguments);}return batchCall;}();_proto.assembleHeaders=function assembleHeaders(headers={}){return _objectSpread(_objectSpread({},this.headers),headers);};_proto.batchChunkCall=function(){var _batchChunkCall=_asyncToGenerator(function*(payloads,headers,timeout,ignoreSoloError=true){var flattenedCalls=payloads.flat();var flattenedResults=yield this.batchCall(flattenedCalls,headers,timeout,ignoreSoloError,false);if(!Array.isArray(flattenedResults)){throw new Error('Invalid JSON Batch RPC response, response should be an array');}var results=[];var startIndex=0;for(var chunk of payloads){var chunkSize=chunk.length;results.push(flattenedResults.slice(startIndex,startIndex+chunkSize));startIndex+=chunkSize;}return results;});function batchChunkCall(_x9,_x10,_x11){return _batchChunkCall.apply(this,arguments);}return batchChunkCall;}();return _createClass(JsonRPCRequest);}();export{JsonRPCRequest};"],"names":["getPublicKeyFromPrivateKey","_x","_getPublicKeyFromPrivateKey","apply","this","arguments","privateKeyRaw","isHexString","privateKey","toBuffer","length","publicKey","publicFromPrivate","toString","Promise","resolve","packUnsignedTxForSignEvm","unsignedTx","tx","packTransaction","encodedTx","_encodedTx$gasLimit","baseTx","to","undefined","nonce","gasLimit","gas","data","value","chainId","toNumber","maxFeePerGas","maxPriorityFeePerGas","Object","assign","type","TransactionTypes","eip1559","gasPrice","serializedTx","serialize","digest","keccak256","serializedTxWithout0x","stripHexPrefix","validateEvmAddress","address","isValid","checksumAddress","getAddress","normalizedAddress","displayAddress","toLowerCase","buildSignedTxFromSignatureEvm","signature","r","s","v","sig","splitSignature","Number","rawTx","txid","slicePathTemplate","template","getUtxoAccountPrefixPath","fullPath","pathComponent","split","pop","join","getBIP44Path","account","realPath","key","entries","addresses","path","estimateTxSize","inputsForCoinSelect","outputsForCoinSelect","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","result","Super","NewTarget","constructor","Reflect","construct","t","Boolean","prototype","valueOf","call","KeyringBase","_VaultContext","_super","vault","_this","options","networkId","Error","_basePrepareHdNormalAccounts","_basePrepareHdUtxoAccounts","_batchGetAddresses","_exportAccountSecretKeys","_buildHwAllNetworkPrepareAccountsParams","_proto","isKeyringImported","keyringType","imported","isKeyringHd","hd","isKeyringHardware","hardware","isKeyringWatching","watching","basePrepareHdNormalAccounts","params","walletId","names","deriveInfo","indexes","coinType","namePrefix","idSuffix","settings","getVaultSettings","accountType","buildAddressesInfo","usedIndexes","addressInfos","ret","idx","relPath","VARIANT","pathIndex","name","buildHDAccountName","id","buildHDAccountId","indexedAccountId","buildIndexedAccountId","index","push","impl","pub","_x2","basePrepareHdUtxoAccounts","skipCheckAccountExist","UTXO","checkIsAccountUsed","accountCreatePerf","utxoBuildAddressesInfo","addressesInfo","utxoBuildAddressesInfoDone","buildDBUtxoAccounts","xpub","xpubSegwit","prefix","isLast","isUsed","wait","buildDBUtxoAccountsDone","_x3","_x4","batchGetAddresses","_x5","exportAccountSecretKeys","_x6","buildHwAllNetworkPrepareAccountsParams","_x7","buildPrepareAccountsPrefixedPath","_KeyringBase","KeyringBaseMock","_super2","KeyringExternalBase","args","external","_baseSignMessageByExternalWallet","_baseSendTransactionByExternalWallet","_basePrepareExternalAccounts","baseSignMessageByExternalWallet","backgroundApi","serviceDappSide","signMessage","getAccount","baseSendTransactionByExternalWallet","sendTransaction","prepareAccounts","basePrepareExternalAccounts","KeyringHardwareBase","_getHardwareSDKInstance","_baseGetDeviceAccountData","_baseGetDeviceAccountPublicKeys","_baseGetDeviceAccountAddresses","_getAllNetworkPrepareAccounts","getHardwareSDKInstance","_ref","$backgroundApiProxy","serviceHardware","getSDKInstance","getHardwareSDKInstanceDone","baseGetDeviceAccountData","sdkGetDataFn","errorMessage","deviceParams","dbDevice","confirmOnDevice","connectId","deviceId","coinName","pathPrefix","pathSuffix","showOnOnekeyFn","arrIndex","EveryItem","LastItem","baseGetDeviceAccountPublicKeys","sdkGetPublicKeysFn","baseGetDeviceAccountAddresses","sdkGetAddressFn","getAllNetworkPrepareAccounts","hwSdkNetwork","buildPath","buildResultAccount","hwAllNetworkPrepareAccountsResponse","resultAccounts","_loop","find","item","network","success","payload","hasErrorItem","error","indexOf","KeyringHdBase","_KeyringSoftwareBase","KeyringImportedBase","ownKeys","e","keys","getOwnPropertySymbols","o","filter","getOwnPropertyDescriptor","enumerable","_objectSpread","forEach","getOwnPropertyDescriptors","defineProperties","defineProperty","KeyringQrBase","qr","_getVerifyAddressChainParams","_baseSignByQrcode","_findAirGapAccountByPath","_findAirGapAccountInPrepareAccounts","_findAirGapAccountByDbAccount","_verifyQrWalletAddressByTwoWayScan","getChildPathTemplates","getVerifyAddressChainParams","query","baseSignByQrcode","wallet","getWallet","associatedDevice","getDevice","getAccountPath","getNetworkChainId","requestId","airGapAccount","findAirGapAccountByPath","xfp","signRequestUr","signRequestUrBuilder","responseUr","signatureUr","serviceQrWallet","startTwoWayAirGapScanUr","requestUr","signedResultBuilder","childPathTemplate","_this2","airGapAccountsInfo","accounts","eachAirGapAccount","childPathTemplates","childPathTpl","buildPathFromTemplate","findAirGapAccountInPrepareAccounts","findAirGapAccountByDbAccount","dbAccount","verifyQrWalletAddressByTwoWayScan","chain","getDeviceChainNameByNetworkId","serviceAccount","origin","method","toUR","raw","allowPlainTextResponse","startsWith","buildUtxoAddressRelPath","_x8","_x9","KeyringSoftwareBase","_baseGetCredentialsInfo","_baseSignTransactionBtc","_baseSignTransaction","_baseSignMessage","_baseSignMessageBtc","_basePrepareAccountsImported","_basePrepareAccountsImportedUtxo","_basePrepareAccountsHd","_basePrepareAccountsHdUtxo","_baseExportAccountSecretKeys","_baseGetPrivateKeys","baseGetCredentialsInfo","password","getCredential","credential","accountId","baseSignTransactionBtc","coreApi","signOnly","credentials","networkInfo","getCoreApiNetworkInfo","btcExtraInfo","relPaths","prepareBtcSignExtraInfo","signTransaction","baseSignTransaction","baseSignMessage","messages","all","map","msg","unsignedMsg","baseSignMessageBtc","unsignedMessage","basePrepareAccountsImported","importedCredential","networks","createAtNetwork","onlyAvailableOnCertainNetworks","coinTypeDefault","getAddressFromPrivate","addressEncoding","addressUsed","buildImportedAccountId","basePrepareAccountsImportedUtxo","basePrepareAccountsHd","_ref2","_this3","getAddressesFromHd","hdCredential","_x10","basePrepareAccountsHdUtxo","_ref3","_this4","getCredentialsInfo","getAddressesFromHdDone","_x13","_x11","_x12","baseExportAccountSecretKeys","keyType","serviceNetwork","getDeriveTypeByTemplate","getExportedSecretKey","_x14","baseGetPrivateKeys","getPrivateKeys","_x15","KeyringWatchingBase","_signTransaction","_signMessage","_basePrepareUtxoWatchingAccounts","_basePrepareSimpleWatchingAccounts","a","intl","formatMessage","ETranslations","wallet_error_trade_with_watched_acocunt","basePrepareUtxoWatchingAccounts","isUrlAccount","buildWatchingAccountId","addressFromXpub","getAddressFromPublic","basePrepareSimpleWatchingAccounts","SIMPLE","_excluded","_excluded2","VaultBase","_VaultBaseChainOnly","uuid","mutexBuildOnChainHistoryTxGetDBAccount","_init","_initKeyring","_broadcastTransaction","_broadcastTransactionFromCustomRpc","_validateSendAmount","_buildOnChainHistoryTxExtraInfo","_precheckUnsignedTx","_buildEstimateFeeParams","_buildParseTransactionParams","_buildFetchHistoryListParams","_buildHistoryTx","_buildOnChainHistoryTx","_buildHistoryTxAction","_buildHistoryTxFunctionCallAction","_buildHistoryTxUnknownAction","_buildHistoryTransferAction","_buildTxTransferAssetAction","_buildInternalSwapAction","_buildInternalStakingAction","_getAccount","_getAccountAddress","_getAccountPath","_getAccountXpub","_fillTokensDetails","_fillAccountDetails","_isEarliestLocalPendingTx","_buildReplaceEncodedTx","_attachFeeInfoToDAppEncodedTx","_activateToken","_getAddressType","_fetchAccountDetails","_fetchAccountDetailsByApi","_fetchAccountDetailsByRpc","_fetchTokenList","_fetchTokenListByApi","_fetchTokenListByRpc","_estimateFee","_estimateFeeByApi","_estimateFeeByRpc","_fetchAccountHistoryDetail","_fetchAccountHistoryDetailByApi","_fetchAccountHistoryDetailByRpc","_buildOkxSwapEncodedTx","_proto2","init","config","initKeyring","_x16","isChainOnly","keyring","keyringCreator","_x17","broadcastTransaction","signedTx","serviceSend","_x18","broadcastTransactionFromCustomRpc","_x19","validateSendAmount","_x20","buildOnChainHistoryTxExtraInfo","onChainHistoryTx","_x21","precheckUnsignedTx","_x22","buildEstimateFeeParams","_x23","buildParseTransactionParams","_x24","buildFetchHistoryListParams","_x25","buildHistoryTx","historyTxToMerge","decodedTx","isSigner","isLocalCreated","accountAddress","x","getAccountAddressForApi","getAccountXpub","owner","signer","historyTx","buildLocalHistoryId","_x26","fixOnChainHistoryAccountData","originAccountId","originNetworkId","originAccountAddress","originXpub","allNetworkHistoryExtraItems","onekeyall","allNetworkAccount","i","_","txXpub","accountXpub","buildOnChainHistoryTx","tokens","nfts","dbAccountCache","runExclusive","getDBAccountSafe","vaultSettings","action","buildHistoryTxAction","from","actions","status","totalFeeInNative","gasFee","totalFeeFiatValue","gasFeeFiatValue","nativeAmount","isUtxo","extraInfo","label","updatedAt","Date","timestamp","getTime","createdAt","isFinal","_x27","Approve","tokenApprove","buildHistoryTxApproveAction","sends","receives","buildHistoryTxFunctionCallAction","buildHistoryTxUnknownAction","buildHistoryTransferAction","_x28","getNetwork","FUNCTION_CALL","functionCall","functionName","functionHash","functionCode","_x29","UNKNOWN","unknownAction","_x30","ASSET_TRANSFER","assetTransfer","send","buildHistoryTransfer","transfer","receive","_x31","icon","symbol","isNFT","isNative","price","tokenAddress","token","tokenIdOnNetwork","amount","isOwn","decimals","TOKEN_APPROVE","spender","shiftedBy","toFixed","isInfiniteAmount","buildTxTransferAssetAction","transfers","application","isInternalSwap","isInternalStaking","internalStakingLabel","swapReceivedAddress","swapReceivedNetworkId","getAccountAddress","sendNativeTokenAmountBN","OUT","plus","nativeAmountValue","convertAmountToChainValue","_x32","buildInternalSwapAction","_swapSendToken$logoUR","_swapSendToken$name","_swapReceiveToken$log","_swapReceiveToken$nam","_providerInfo$provide","swapData","swapInfo","swapToAddress","swapSendToken","sender","swapReceiveToken","receiver","providerInfo","swapBuildResData","info","otherFeeInfos","fee","otherFeeInfoTransfers","contractAddress","logoURI","accountInfo","receivingAddress","feeInfo","_feeInfo$token$logoUR","_feeInfo$token$name","providerName","providerLogo","_x33","buildInternalStakingAction","_send$token$logoURI","_send$token$name","_receive$token$logoUR","_receive$token$name","stakingInfo","stakingData","stakingToAddress","protocol","protocolLogoURI","_x34","_params$signOnly","_signedTx$encodedTx","_x35","getDBAccount","isAccountCompatibleWithNetwork","slice","getNetworkInfo","externalAccount","externalAccountAddress","connectedAddresses","buildExternalAccountAddress","fallbackIndex","_externalAccount$sele","selectedAddress","getNetworkImpl","addressDetail","buildAccountAddressDetail","allowEmptyAddress","networkAccount","getXpubFromAccount","fillTokensDetails","tokensDetails","_x36","fillAccountDetails","accountDetails","_x37","isEarliestLocalPendingTx","_x38","buildReplaceEncodedTx","replaceType","_x39","attachFeeInfoToDAppEncodedTx","_x40","activateToken","_x41","getAddressType","_x42","buildStakeEncodedTx","fetchAccountDetails","isCustomNetwork","fetchAccountDetailsByRpc","fetchAccountDetailsByApi","_x43","queryParams","client","serviceAccountProfile","getClient","Wallet","get","headers","_getWalletTypeHeader","signal","_x44","_x45","fetchTokenList","fetchTokenListByRpc","fetchTokenListByApi","_x46","serviceToken","requestApiParams","flag","contractList","contract","post","_x47","_x48","estimateFee","estimateFeeByRpc","estimateFeeByApi","_x49","rest","serviceGas","_x50","_x51","fetchAccountHistoryDetail","fetchAccountHistoryDetailByRpc","fetchAccountHistoryDetailByApi","_x52","_x53","_x54","buildOkxSwapEncodedTx","_x55","VaultBaseChainOnly","_getXpubFromAccount","_proxyJsonRPCCall","_addressFromBase","_addressToBase","_baseValidatePrivateKey","_baseValidateGeneralInput","_baseGetPrivateKeyFromImported","_validateAmountInputShown","_checkIsDomainName","_resolveDomainName","_getCustomRpcEndpointStatus","_checkFeeSupportInfo","_fetchTokenDetails","_fetchTokenDetailsByApi","_fetchTokenDetailsByRpc","proxyJsonRPCCall","request","addressFromBase","addressToBase","baseValidatePrivateKey","baseValidateGeneralInput","addressResult","xpubResult","xprvtResult","privateKeyResult","input","encodedText","validateAddress","validateXprvt","validateXpub","validatePrivateKey","inputDecoded","baseGetPrivateKeyFromImported","text","validateAmountInputShown","toAddress","checkIsDomainName","resolveDomainName","getCustomRpcEndpointStatus","checkFeeSupportInfo","fetchTokenDetails","fetchTokenDetailsByRpc","fetchTokenDetailsByApi","_params$signal","VaultContext","getWalletIdFromAccountId","_getNetworkId","_getNetwork","_getNetworkChainId","_getNetworkImpl","_getVaultSettings2","_getNetworkInfo","_getCoreApiNetworkInfo","_getRpcUrl","_destroy","getNetworkId","cached","_network","hex","addressPrefix","curve","networkImpl","isTestnet","networkChainCode","code","getRpcUrl","destroy","EVMContractDecoder","erc20Interface","ethers","ERC20","erc721Interface","ERC721","erc1155Interface","ERC1155","batchTransferInterface","BATCH_TRANSFER","parseERC20","parseTransaction","parseERC721","parseERC1155","parseBatchTransfer","KeyringExternal","_KeyringExternalBase","_hardwareEvmSignTransaction","sdk","_encodedTx$value","_encodedTx$data","txToSign","deviceCommonParams","isEip1559","numberUtils","numberToHex","prefix0x","txToSignEIP1559","txToSignNormal","_txToSign$maxFeePerGa","_txToSign$maxPriority","parseInt","evmSignTransaction","transaction","KeyringHardware","_KeyringHardwareBase","coreChainApi","evm","_handleSignMessage","_prepareAccounts","hardwareEvmSignTransaction","message","handleSignMessage","TYPED_DATA_V1","ETH_SIGN","PERSONAL_SIGN","messageBuffer","hexUtils","Buffer","replace","messageHex","res","evmSignMessage","addHexPrefix","TYPED_DATA_V3","TYPED_DATA_V4","useV4","JSON","parse","typedData","TypedDataUtils","sanitizeData","domainHash","hashStruct","domain","types","messageHash","primaryType","_res","evmSignTypedData","metamaskV4Compat","rpc","methodNotFound","showOnOneKey","publicKeys","allNetworkAccounts","p","accountUtils","addressInfo","KeyringHd","_KeyringHdBase","_getPrivateKeys","KeyringImported","_KeyringImportedBase","verifyEvmSignedTxMatched","signerAddress","txidFromRawTx","ethersTxClone","hash","serializeTx","txHash","recoveredAddress","KeyringQr","_KeyringQrBase","_verifySignedTxMatched","verifySignedTxMatched","requestIdOfSig","note","Standard","generateSignRequest","_params$origin","eth","parseSignature","ur","dataType","personalMessage","includes","signData","bufferUtils","textToHex","signatureHex","_ref5","_ref4","typedTransaction","_ref6","localDb","isVerifyAddressAction","extendedPublicKey","hdk","childPath","derive","KeyringWatching","_KeyringWatchingBase","ClientEvm","_JsonRPCRequest","_getInfo","_getChainId","_checkEIP1559Support","getInfo","latestBlock","bestBlockNumber","isReady","isNaN","getChainId","chainIdHex","checkEIP1559Support","hexBlock","baseFeePerGas","isEIP1559FeeEnabled","isEqualTo","JsonRPCRequest","safeNumberString","n","fallback","isFinite","safeNumber","isServerFiatTokenInfo","parseTokenItem","_token$balanceParsed","_token$uniqueKey","balance","balanceParsed","fiatValue","price24h","uniqueKey","totalSupply","riskLevel","adaName","sendAddress","Interface","abi","Contract","Proxy","target","INTERFACE","BaseApiProvider","option","nativeTokenAddress","url","_validateTokenAddress","_getNativeToken","_getAccountNetWorth","_getNonce","_listAccountToken","_listAccountTokenFromThirdParty","_getChainTokens","_getChainTokensFromDB","_getChainTokensFromRpc","_searchChainTokens","_searchChainTokensFromDB","_searchChainTokensFromRpc","_queryAccountToken","_getGasPrice","_getGasFee","_getGasLimit","_estimateFeeFromRpc","_getAccountHistoryDetail","_getHistoryDetailOnChain","_getHistoryDetailFromThirdParty","normalizeAddress","validateTokenAddress","getNativeToken","getChainTokensFromDB","netWorth","isContract","utxoList","stages","stage","getAccountNetWorth","then","condition","withNetWorth","getNonce","accountNumber","withNonce","_nativeToken$balance","_nativeToken$balanceP","nativeToken","listAccountTokenWithBalance","_t$fiatValue","listAccountToken","_arg$hiddenTokens","_arg$contractList$map","arg","hiddenTokenSet","Set","hiddenTokens","reply","sortedAccountTokenArray","_item$fiatValue","_n$info$address","has","tokenArray","reverse","accountToken","unshift","__parseAccountTokenArray","riskTokens","smallBalanceTokens","accountTokenArray","_accountToken$info$un","$key","_map$item$$key$order","order","_map$item$$key$fiatVa","md5","stringify","listAccountTokenFromThirdParty","rpcAccountTokens","listAccountTokenFromRpc","chainTokens","getChainTokens","chainTokensMap","onlyReturnSpecificTokens","_token$price","_params","extraTokensMap","keywords","searchChainTokens","_extraTokensMap$contr","missedTokenContracts","getChainTokensFromRpc","simpleDb","localTokens","getTokens","tokenIdOnNetworkList","tokensMap","c","dbTokens","searchChainTokensFromDB","_t$info$address","localeCompare","sensitivity","rpcTokenInfo","searchChainTokensFromRpc","searchTokens","catch","queryAccountToken","_params$accountAddres","availableBalanceFiatValue","frozenBalanceFiatValue","estimateFeeFromRpc","nativeTokenPrice","getGasPrice","getGasFee","getGasLimit","getAccountHistoryDetail","getHistoryDetailOnChain","tokenRef","normalizeHistoryTxActionLabels","Pending","_data$sends$concat","_data$receives","history","getHistoryDetailFromThirdParty","concat","originLabel","tokenActive","isLessThanOrEqualTo","every","Send","Receive","_n$contractCall$funct","contractCall","EVMMethodIds","compareList","EvmApiProvider","_BaseApiProvider","defaultFeeRates","l2PriceOracleAddress","_listAccountTokenFromRpc","_getGasPriceEIP","_getL1Fee","_params$contractList","requests","_token$info$address","addressWithoutPrefix","balanceOf","balances","batchCall","multipliedBy","_params$contractList2","filteredContractList","payloads","batchChunkCall","bytesData","defaultAbiCoder","decode","_params$encodedTx","gasPriceInfo","gasFeeInfo","baseFee","nativeSymbol","nativeDecimals","feeSymbol","feeMeta","feeDecimals","isEIP1559","gasEIP1559","feeUTXO","feeTron","_params$encodedTx2","gasLimitInfo","gasLimitForDisplay","String","estimateGasLimit","getGasPriceEIP1559","rate","maxPriorityFeePerGasResult","maxPriorityFeePerGasEach","maxFeePerGasEach","l1Fee","isWithL1BaseFee","getL1Fee","_encodedTx$nonce","_encodedTx$chainId","_encodedTx$gasPrice","_encodedTx$maxFeePerG","_encodedTx$maxPriorit","bytes","unsignedSerialized","times","estimateGasLimitRes","Math","ceil","_receipt$effectiveGas","_tx$value","receipt","effectiveGasPrice","gasUsed","Failed","isGreaterThan","Success","block","blockNumber","enabledNFTNetworkIds","Vault","_VaultBase","keyringMap","hw","_validatePrivateKey","_validateGeneralInput","_buildAccountAddressDetail","_buildEncodedTx","_buildEncodedTxFromWrapperToken2","_buildDecodedTx2","_buildTxActionFromContract2","_buildUnsignedTx","_updateUnsignedTx","_validateXpub","_validateAddress","_buildDecodedTx3","_buildEncodedTxFromTransfer2","_buildEncodeTxFromApprove2","_buildEncodedDataFromTransferNFT2","_buildEncodedDataFromTransferToken2","_buildEncodedTxFromBatchTransfer2","_attachFeeInfoToEncodedTx2","_attachNonceInfoToEncodedTx2","_attachDataInfoToEncodedTx2","_updateNativeTokenAmount2","_updateTokenApproveInfo2","_buildUnsignedTxFromEncodedTx2","_buildTxFunctionCallAction2","_buildTxTokenAction2","_buildTxTransferTokenAction2","_buildTxApproveTokenAction2","_buildTxTransferNativeTokenAction2","_buildTxTransferNFTAction2","_getEthersClient","_getPrivateKeyFromImported","_getRpcClient","validateGeneralInput","baseAddress","buildEncodedTx","transfersInfo","approveInfo","wrappedInfo","_buildEncodedTxFromTransfer","_buildEncodeTxFromApprove","_buildEncodedTxFromWrapperToken","methodID","DEPOSIT","deposit","withdraw","amountHex","encode","buildDecodedTx","_encodedTx$from","_network$logoURI","isToContract","extraNativeTransferAction","transferPayload","nativeTx","valueBn","gt","_buildTxTransferNativeTokenAction","parsedTx","actionFromNativeTransfer","actionFromContract","_buildTxActionFromContract","_buildDecodedTx","decoder","erc20TxDesc","_buildTxTokenAction","txDesc","erc721TxDesc","_buildTxTransferNFTAction","erc1155TxDesc","_buildTxFunctionCallAction","buildUnsignedTx","_buildUnsignedTxFromEncodedTx","prevNonce","updateUnsignedTx","nonceInfo","nativeAmountInfo","tokenApproveInfo","dataInfo","encodedTxNew","allowance","_updateTokenApproveInfo","isMax","isUnlimited","_attachFeeInfoToEncodedTx","_attachNonceInfoToEncodedTx","_updateNativeTokenAmount","_attachDataInfoToEncodedTx","_encodedTx$from2","_Number","finalActions","transferInfo","tokenInfo","nftInfo","hexData","nftAddress","nftId","nftType","_buildEncodedDataFromTransferNFT","chainValueUtils","_data","_buildEncodedDataFromTransferToken","_buildEncodedTxFromBatchTransfer","amountBN","pow","minus","safeTransferFrom","tokenTransfer","_feeInfo$gasEIP","_feeInfo$gasEIP1559$m","_feeInfo$gasEIP1559$m2","gasInfo","common","encodedTxWithFee","newValue","maxSendAmount","fixNativeTokenMaxSendAmount","chainIdNum","_encodedTx$from3","_network$logoURI2","functionSignature","getToken","TransferFrom","Transfer","_buildTxTransferTokenAction","_buildTxApproveTokenAction","_token$logoURI","recipient","convertTokenChainValueToAmount","originalRecipient","_encodedTx$from4","_token$logoURI2","_encodedTx$from5","_nativeToken$logoURI","_encodedTx$from6","_nft$metadata$name","_nft$metadata$image","_nft$metadata$name2","_encodedTx$from7","SafeTransferFrom","nft","serviceNFT","getNFT","collectionAddress","nftAmount","metadata","image","getEthersClient","rpcUrl","getPrivateKeyFromImported","transferValue","fevm","minPendingTxNonce","serviceHistory","getLocalHistoryMinPendingNonce","encodedTxOrigin","encodedTxEncrypted","servicePassword","decryptByInstanceId","encodedTxEvm","Cancel","SpeedUp","eq","validateChainId","start","performance","now","responseTime","floor","customRpcInfo","getRpcClient","rpcInfo","serviceCustomRpc","getCustomRpcForNetwork","provider","EErc20MethodSelectors","EErc721MethodSelectors","EErc1155MethodSelectors","EWrapperTokenMethodSelectors","EErc20TxDescriptionName","EErc721TxDescriptionName","EErc1155TxDescriptionName","ABI","EVaultKeyringTypes","EWrappedType","normalizePayload","jsonrpc","timeout","parseRPCResponse","response","_call","_batchCall","_batchChunkCall","assembleHeaders","_error$response$statu","isAxiosError","calls","ignoreSoloError","autoFallbackToRpcSingle","jsonResponses","Array","isArray","_error$response$statu2","sort","idA","idB","resp","flattenedCalls","flat","flattenedResults","results","startIndex","chunk","chunkSize"],"sourceRoot":""}