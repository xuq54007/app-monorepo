{"version":3,"file":"static/js/4358.4e01f83b89.chunk.js","mappings":"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","sources":["webpack://web/../../packages/kit/src/hooks/useAppRoute.ts","webpack://web/../../packages/kit/src/views/Staking/components/OptionList/index.tsx","webpack://web/../../packages/kit/src/views/Staking/components/PageFrame/index.tsx","webpack://web/../../packages/kit/src/views/Staking/pages/WithdrawOptions/index.tsx","webpack://web/../../packages/kit/src/views/Staking/utils/babylon.ts"],"sourcesContent":["import{useRoute}from'@react-navigation/core';export function useAppRoute(){return useRoute();}","import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import{Suspense,createContext,useCallback,useContext,useMemo,useState}from'react';import{useIntl}from'react-intl';import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import{Badge,Empty,ListView,NumberSizeableText,Page,SizableText,Stack,XStack,YStack}from'@onekeyhq/components';import{Token}from'@onekeyhq/kit/src/components/Token';import useAppNavigation from'@onekeyhq/kit/src/hooks/useAppNavigation';import{useSettingsPersistAtom}from'@onekeyhq/kit-bg/src/states/jotai/atoms';import{ETranslations}from'@onekeyhq/shared/src/locale';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var OptionListContext=createContext({});var ExtraField=function({name,renderItem,item}){return _jsxs(XStack,{justifyContent:\"space-between\",\"data-sentry-element\":\"XStack\",\"data-sentry-component\":\"ExtraField\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/components/OptionList/index.tsx\",children:[_jsx(SizableText,{size:\"$bodyMd\",color:\"$textSubdued\",\"data-sentry-element\":\"SizableText\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/components/OptionList/index.tsx\",children:name}),_jsx(SizableText,{size:\"$bodyMd\",color:\"$textSubdued\",\"data-sentry-element\":\"SizableText\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/components/OptionList/index.tsx\",children:renderItem({item})})]});};var OptionItem=function({item,token,network,onPress}){var[{currencyInfo:{symbol}}]=useSettingsPersistAtom();var{extraFields,activeId}=useContext(OptionListContext);var active=activeId===item.id;var intl=useIntl();return _jsx(Stack,{px:\"$5\",py:\"$2\",\"data-sentry-element\":\"Stack\",\"data-sentry-component\":\"OptionItem\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/components/OptionList/index.tsx\",children:_jsxs(YStack,{group:true,onPress:function(){return onPress?.({item});},borderWidth:StyleSheet.hairlineWidth,borderColor:active?'$borderActive':'$borderSubdued',borderRadius:\"$3\",borderCurve:\"continuous\",overflow:\"hidden\",userSelect:\"none\",\"data-sentry-element\":\"YStack\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/components/OptionList/index.tsx\",children:[_jsxs(XStack,{bg:\"$bgSubdued\",\"$group-hover\":{bg:'$bgHover'},\"$group-press\":{bg:'$bgActive'},\"$group-\":true,px:14,py:12,jc:\"space-between\",ai:\"center\",\"data-sentry-element\":\"XStack\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/components/OptionList/index.tsx\",children:[_jsxs(XStack,{\"data-sentry-element\":\"XStack\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/components/OptionList/index.tsx\",children:[_jsx(Stack,{pr:\"$3\",\"data-sentry-element\":\"Stack\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/components/OptionList/index.tsx\",children:_jsx(Token,{tokenImageUri:token.logoURI,networkImageUri:network?.logoURI,\"data-sentry-element\":\"Token\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/components/OptionList/index.tsx\"})}),_jsxs(YStack,{\"data-sentry-element\":\"YStack\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/components/OptionList/index.tsx\",children:[_jsx(NumberSizeableText,{size:\"$bodyLgMedium\",formatter:\"balance\",formatterOptions:{tokenSymbol:token?.symbol},\"data-sentry-element\":\"NumberSizeableText\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/components/OptionList/index.tsx\",children:item.amount}),_jsx(NumberSizeableText,{size:\"$bodyMd\",color:\"$textSubdued\",formatter:\"value\",formatterOptions:{currency:symbol},\"data-sentry-element\":\"NumberSizeableText\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/components/OptionList/index.tsx\",children:item.fiatValue})]})]}),item.isPending?_jsx(Stack,{children:_jsx(Badge,{badgeType:\"info\",children:intl.formatMessage({id:ETranslations.global_pending})})}):null]}),extraFields&&extraFields.length>0?_jsx(YStack,{py:12,px:14,gap:10,children:extraFields.map(function(o){return _jsx(Suspense,{fallback:null,children:_jsx(ExtraField,{name:o.name,renderItem:o.renderItem,item:item})},o.name);})}):null]})});};var ListEmptyComponent=function(){var intl=useIntl();return _jsx(Empty,{icon:\"ClockTimeHistoryOutline\",title:intl.formatMessage({id:ETranslations.earn_no_orders}),description:intl.formatMessage({id:ETranslations.earn_no_orders_desc}),\"data-sentry-element\":\"Empty\",\"data-sentry-component\":\"ListEmptyComponent\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/components/OptionList/index.tsx\"});};export var OptionList=function({items,token,network,onPress,onConfirmText,extraFields,ListHeaderComponent}){var appNavigation=useAppNavigation();var[activeId,setActiveId]=useState(items[0]?.id);var[loading,setLoading]=useState(false);var renderItem=useCallback(function({item}){return _jsx(OptionItem,{item:item,token:token,network:network,onPress:function({item:o}){return setActiveId(o.id);}});},[token,network]);var onSubmit=useCallback(_asyncToGenerator(function*(){var activeItem=items.find(function(o){return o.id===activeId;});if(activeItem){try{setLoading(true);yield onPress?.({item:activeItem});}finally{setLoading(false);}}}),[items,activeId,onPress]);var ctx=useMemo(function(){return{extraFields,activeId};},[extraFields,activeId]);var isDisabled=useMemo(function(){if(!activeId)return true;var find=items.find(function(item){return item.id===activeId&&!item.isPending;});return!find;},[activeId,items]);return _jsx(OptionListContext.Provider,{value:ctx,\"data-sentry-element\":\"unknown\",\"data-sentry-component\":\"OptionList\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/components/OptionList/index.tsx\",children:_jsxs(Stack,{\"data-sentry-element\":\"Stack\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/components/OptionList/index.tsx\",children:[_jsx(ListView,{estimatedItemSize:\"$5\",data:items,renderItem:renderItem,ListHeaderComponent:ListHeaderComponent,ListEmptyComponent:ListEmptyComponent,\"data-sentry-element\":\"ListView\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/components/OptionList/index.tsx\"}),_jsx(Page.Footer,{onConfirmText:onConfirmText,confirmButtonProps:{onPress:onSubmit,disabled:isDisabled,loading},cancelButtonProps:{onPress:function(){appNavigation.pop();}},\"data-sentry-element\":\"unknown\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/components/OptionList/index.tsx\"})]})});};","import{useIntl}from'react-intl';import{Empty,Skeleton,Stack}from'@onekeyhq/components';import{ListItem}from'@onekeyhq/kit/src/components/ListItem';import{ETranslations}from'@onekeyhq/shared/src/locale';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var PageErrOccurred=function({onPress}){var intl=useIntl();return _jsx(Empty,{pt:\"$32\",icon:\"ErrorOutline\",title:intl.formatMessage({id:ETranslations.global_an_error_occurred}),description:intl.formatMessage({id:ETranslations.global_an_error_occurred_desc}),buttonProps:{onPress,children:intl.formatMessage({id:ETranslations.global_refresh})},\"data-sentry-element\":\"Empty\",\"data-sentry-component\":\"PageErrOccurred\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/components/PageFrame/index.tsx\"});};export var SimpleSpinnerSkeleton=function(){return _jsxs(Stack,{\"data-sentry-element\":\"Stack\",\"data-sentry-component\":\"SimpleSpinnerSkeleton\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/components/PageFrame/index.tsx\",children:[_jsx(Stack,{px:\"$5\",py:\"$2\",\"data-sentry-element\":\"Stack\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/components/PageFrame/index.tsx\",children:_jsx(Skeleton.HeadingSm,{\"data-sentry-element\":\"unknown\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/components/PageFrame/index.tsx\"})}),Array.from({length:3}).map(function(_,index){return _jsxs(ListItem,{children:[_jsx(Skeleton,{h:\"$10\",w:\"$10\",radius:\"round\"}),_jsxs(Stack,{children:[_jsx(Skeleton.BodyLg,{}),_jsx(Skeleton.BodyMd,{})]})]},index);})]});};export var isLoadingState=function({result,isLoading}){return Boolean(result===undefined&&(isLoading===undefined||isLoading===true));};export var isErrorState=function({result,isLoading}){return Boolean(result===undefined&&isLoading===false);};export var PageFrame=function({children,loading,LoadingSkeleton,error,onRefresh}){if(loading){return LoadingSkeleton?_jsx(LoadingSkeleton,{}):null;}if(error){return _jsx(PageErrOccurred,{onPress:onRefresh});}return _jsx(_Fragment,{children:children});};","import{useCallback}from'react';import{useIntl}from'react-intl';import{Page,SectionList}from'@onekeyhq/components';import backgroundApiProxy from'@onekeyhq/kit/src/background/instance/backgroundApiProxy';import useAppNavigation from'@onekeyhq/kit/src/hooks/useAppNavigation';import{useAppRoute}from'@onekeyhq/kit/src/hooks/useAppRoute';import{usePromiseResult}from'@onekeyhq/kit/src/hooks/usePromiseResult';import{ETranslations}from'@onekeyhq/shared/src/locale';import{EModalStakingRoutes}from'@onekeyhq/shared/src/routes';import{formatDate}from'@onekeyhq/shared/src/utils/dateUtils';import networkUtils from'@onekeyhq/shared/src/utils/networkUtils';import{EEarnProviderEnum}from'@onekeyhq/shared/types/earn';import{OptionList}from\"../../components/OptionList\";import{PageFrame,SimpleSpinnerSkeleton,isErrorState,isLoadingState}from\"../../components/PageFrame\";import{getBabylonPortfolioStatus,useBabylonStatusMap}from\"../../utils/babylon\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var WithdrawOptions=function(){var appRoute=useAppRoute();var intl=useIntl();var appNavigation=useAppNavigation();var{accountId,networkId,symbol,provider,details}=appRoute.params;var{result,isLoading,run}=usePromiseResult(function(){return backgroundApiProxy.serviceStaking.getWithdrawList({networkId,accountId,symbol,provider});},[accountId,networkId,symbol,provider],{watchLoading:true});var onPress=useCallback(function({item}){appNavigation.push(EModalStakingRoutes.Withdraw,{accountId,networkId,symbol,provider,details,identity:item.id,amount:item.amount,onSuccess:function(){setTimeout(function(){return appNavigation.pop();},4);}});},[appNavigation,accountId,networkId,symbol,provider,details]);var babylonStatusMap=useBabylonStatusMap();var title=intl.formatMessage({id:ETranslations.earn_select_an_order_to_withdraw});var ListHeaderComponent;if(provider.toLowerCase()===EEarnProviderEnum.Babylon.toLowerCase()){title=intl.formatMessage({id:ETranslations.earn_select_for_early_withdrawal});ListHeaderComponent=_jsx(SectionList.SectionHeader,{title:intl.formatMessage({id:ETranslations.earn_select_for_early_withdrawal_desc})});}return _jsxs(Page,{scrollEnabled:true,\"data-sentry-element\":\"Page\",\"data-sentry-component\":\"WithdrawOptions\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/pages/WithdrawOptions/index.tsx\",children:[_jsx(Page.Header,{title:title,\"data-sentry-element\":\"unknown\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/pages/WithdrawOptions/index.tsx\"}),_jsx(Page.Body,{\"data-sentry-element\":\"unknown\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/pages/WithdrawOptions/index.tsx\",children:_jsx(PageFrame,{LoadingSkeleton:SimpleSpinnerSkeleton,loading:isLoadingState({result,isLoading}),error:isErrorState({result,isLoading}),onRefresh:run,\"data-sentry-element\":\"PageFrame\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/pages/WithdrawOptions/index.tsx\",children:result?_jsx(OptionList,{ListHeaderComponent:result.items.length>0?ListHeaderComponent:undefined,items:result.items,token:result.token,network:result.network,onPress:onPress,onConfirmText:intl.formatMessage({id:ETranslations.global_continue}),extraFields:networkUtils.isBTCNetwork(networkId)?[{name:intl.formatMessage({id:ETranslations.global_status}),renderItem({item}){if(item.babylonExtra){var _babylonStatusMap$get;return(_babylonStatusMap$get=babylonStatusMap[getBabylonPortfolioStatus(item.babylonExtra)])!=null?_babylonStatusMap$get:item.babylonExtra.status;}return'';}},{name:intl.formatMessage({id:ETranslations.earn_unlock_time}),renderItem({item}){return item.babylonExtra?.endTime?formatDate(new Date(item.babylonExtra?.endTime),{hideTimeForever:true}):'';}}]:undefined}):null})})]});};export default WithdrawOptions;","import{useMemo}from'react';import{useIntl}from'react-intl';import{ETranslations}from'@onekeyhq/shared/src/locale';export var getBabylonPortfolioStatus=function(item){return item.isOverflow?'overflow':item.status;};export var useBabylonStatusMap=function(){var intl=useIntl();return useMemo(function(){return{'active':intl.formatMessage({id:ETranslations.earn_active}),'withdraw_requested':intl.formatMessage({id:ETranslations.earn_withdrawal_requested}),'overflow':intl.formatMessage({id:ETranslations.earn_overflow}),'claimable':intl.formatMessage({id:ETranslations.earn_claimable}),'claimed':intl.formatMessage({id:ETranslations.earn_claimed}),'local_pending_activation':intl.formatMessage({id:ETranslations.earn_pending_activation})};},[intl]);};export var getBabylonPortfolioTags=function(item){if(!item.isOverflow){switch(item.status){case'active':return['active'];case'withdraw_requested':return['active','withdraw_requested'];case'claimable':return['claimable'];case'claimed':return['claimed'];case'local_pending_activation':return['local_pending_activation'];default:return[];}}switch(item.status){case'active':return['overflow'];case'withdraw_requested':return['withdraw_requested'];case'claimable':return['claimable'];case'claimed':return['claimed'];case'local_pending_activation':return['local_pending_activation'];default:return[];}};"],"names":["useAppRoute","OptionListContext","createContext","ExtraField","name","renderItem","item","XStack","justifyContent","children","SizableText","size","color","OptionItem","token","network","onPress","currencyInfo","symbol","useSettingsPersistAtom","extraFields","activeId","useContext","active","id","intl","Stack","px","py","YStack","group","borderWidth","hairlineWidth","borderColor","borderRadius","borderCurve","overflow","userSelect","bg","jc","ai","pr","tokenImageUri","logoURI","networkImageUri","NumberSizeableText","formatter","formatterOptions","tokenSymbol","amount","currency","fiatValue","isPending","Badge","badgeType","formatMessage","ETranslations","global_pending","length","gap","map","o","Suspense","fallback","ListEmptyComponent","Empty","icon","title","earn_no_orders","description","earn_no_orders_desc","OptionList","items","onConfirmText","ListHeaderComponent","appNavigation","setActiveId","useState","loading","setLoading","useCallback","onSubmit","activeItem","find","ctx","useMemo","isDisabled","Provider","value","ListView","estimatedItemSize","data","Page","Footer","confirmButtonProps","disabled","cancelButtonProps","pop","PageErrOccurred","pt","global_an_error_occurred","global_an_error_occurred_desc","buttonProps","global_refresh","SimpleSpinnerSkeleton","Skeleton","HeadingSm","Array","from","_","index","h","w","radius","BodyLg","BodyMd","isLoadingState","result","isLoading","Boolean","undefined","isErrorState","PageFrame","LoadingSkeleton","error","onRefresh","appRoute","u","accountId","networkId","provider","details","params","run","serviceStaking","getWithdrawList","watchLoading","push","Withdraw","identity","onSuccess","setTimeout","babylonStatusMap","earn_select_an_order_to_withdraw","toLowerCase","Babylon","earn_select_for_early_withdrawal","SectionList","SectionHeader","earn_select_for_early_withdrawal_desc","scrollEnabled","Header","Body","global_continue","isBTCNetwork","global_status","_babylonStatusMap$get","babylonExtra","status","earn_unlock_time","endTime","Date","hideTimeForever","getBabylonPortfolioStatus","isOverflow","useBabylonStatusMap","earn_active","earn_withdrawal_requested","earn_overflow","earn_claimable","earn_claimed","earn_pending_activation","getBabylonPortfolioTags"],"sourceRoot":""}