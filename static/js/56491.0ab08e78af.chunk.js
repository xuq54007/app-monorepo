!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="95f413c7-7c33-45fe-b7bc-c97029a755d2",e._sentryDebugIdIdentifier="sentry-dbid-95f413c7-7c33-45fe-b7bc-c97029a755d2")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"5.5.0 (2024121652)"},(self.webpackChunkweb=self.webpackChunkweb||[]).push([[56491],{656491:(e,n,t)=>{t.r(n),t.d(n,{default:()=>g});var o=t(514041),r=t(654266),a=t(908867),i=t(17617),s=t(490343),c=t(334439),d=t(584186),l=t(643087),u=t(298254),p=t(498356),f=t(831085);const g=function ReceiveInvoice(){var e=(0,a.A)(),n=(0,r.lq)(),{networkId:t,accountId:g,paymentRequest:b,paymentHash:v}=n.params,{account:h,network:m}=(0,u.b)({accountId:g,networkId:t}),y=(0,p.A)(),k=(0,o.useRef)();(0,o.useEffect)((function(){if(v&&t&&g){var{serviceLightning:n}=l.A;return k.current=setInterval((function(){n.fetchSpecialInvoice({paymentHash:v,accountId:g,networkId:t}).then((function(n){n.is_paid&&(s.Toast.success({title:e.formatMessage({id:c.ETranslations.ln_payment_received_label})}),clearInterval(k.current),setTimeout((function(){y.popStack(),y.popStack()}),500))})).catch((function(e){}))}),d.A.getTimeDurationMs({seconds:5})),function(){k.current&&clearInterval(k.current)}}}),[v,t,g,e,y]);var{copyText:w}=(0,s.useClipboard)(),I=(0,o.useCallback)((function(){w(b)}),[w,b]),x=(0,o.useCallback)((function(){return h&&m&&b?(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(s.Stack,{borderRadius:"$3",borderWidth:i.A.hairlineWidth,borderColor:"$borderSubdued",p:"$4",children:(0,f.jsx)(s.QRCode,{value:b,logo:{uri:m.logoURI},logoSize:40,size:240})}),(0,f.jsx)(s.ConfirmHighlighter,{maxWidth:"$96",highlight:!1,mt:"$5",px:"$3",borderRadius:"$3",borderCurve:"continuous",children:(0,f.jsx)(s.SizableText,{numberOfLines:3,textAlign:"center",size:"$bodyLg",style:{wordBreak:"break-all"},children:b})}),(0,f.jsx)(s.Button,{mt:"$5",icon:"Copy3Outline",onPress:I,children:e.formatMessage({id:c.ETranslations.global_copy})})]}):null}),[h,I,e,m,b]);return(0,f.jsxs)(s.Page,{"data-sentry-element":"Page","data-sentry-component":"ReceiveInvoice","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Receive/pages/ReceiveInvoice.tsx",children:[(0,f.jsx)(s.Page.Header,{title:e.formatMessage({id:c.ETranslations.lighting_invoice}),"data-sentry-element":"unknown","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Receive/pages/ReceiveInvoice.tsx"}),(0,f.jsx)(s.Page.Body,{flex:1,justifyContent:"center",alignItems:"center",px:"$5",pb:"$5","data-sentry-element":"unknown","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Receive/pages/ReceiveInvoice.tsx",children:x()})]})}}}]);
//# sourceMappingURL=56491.0ab08e78af.chunk.js.map