!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="74c4ff79-669f-4190-9dce-ada8d179d352",e._sentryDebugIdIdentifier="sentry-dbid-74c4ff79-669f-4190-9dce-ada8d179d352")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"5.5.0 (2024121652)"},(self.webpackChunkweb=self.webpackChunkweb||[]).push([[86243],{686243:(e,t,r)=>{r.r(t),r.d(t,{default:()=>TokenSelectorModal});var o=r(324586),n=r(586330),c=r(514041),a=r(654266),s=r(908867),i=r(578104),l=r(490343),d=r(643087),u=r(284781),p=r(498356),k=r(384013),f=r(227428),w=r(334439),y=r(491180),b=r(714191),g=r(325809),m=r(353203),S=r(298254),v=r(918120),h=r(831085);function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach((function(t){(0,o.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var j=0;function TokenSelector(){var e,t,r=(0,s.A)(),{updateCreateAccountState:o}=(0,k.WE)().current,b=(0,a.lq)(),g=(0,p.A)(),{createAddress:v}=(0,m.m)(),{title:j,networkId:I,accountId:A,closeAfterSelect:O=!0,onSelect:T,searchAll:P,isAllNetworks:_,searchPlaceholder:x,footerTipText:E}=b.params,{network:D,account:N}=(0,S.b)({networkId:I,accountId:A}),[L,H]=(0,c.useState)(""),[M,C]=(0,c.useState)({isSearching:!1}),[K,W]=(0,c.useState)({tokens:[]}),B=(0,c.useCallback)((e=(0,n.A)((function*(e){if(D?.isAllNetworks){var t;e.networkId&&(t=yield d.A.serviceNetwork.getVaultSettings({networkId:e.networkId}));var r=[];try{if((e.accountId||N?.id)&&(e.networkId||D?.id)){var n,c,a,s,i,l=e.accountId?{accountId:null!=(n=e.accountId)?n:"",networkId:null!=(c=e.networkId)?c:""}:{accountId:null!=(a=N?.id)?a:"",networkId:null!=(s=D?.id)?s:""};if(e.accountId&&e.networkId){var u,p,k=yield d.A.serviceAccount.getAccount({accountId:null!=(u=e.accountId)?u:"",networkId:null!=(p=e.networkId)?p:""});i=(yield d.A.serviceNetwork.getDeriveTypeByTemplate({networkId:e.networkId,template:k.template})).deriveType}var{accountsInfo:f}=yield d.A.serviceAllNetwork.getAllNetworkAccounts(_objectSpread(_objectSpread({},l),{},{includingNonExistingAccount:!0,deriveType:i,excludeTestNetwork:!1}));r=f}}catch{}var w=r.find((function(t){return e.accountId?t.accountId===e.accountId:t.networkId===e.networkId}));if(t?.mergeDeriveAssetsEnabled||w?.accountId)T?.(w?.accountId?_objectSpread(_objectSpread({},e),{},{accountId:w.accountId}):e);else if(N){o({isCreating:!0,token:e});var b=y.A.getWalletIdFromAccountId({accountId:N.id});try{var m=yield v({num:0,account:{walletId:b,networkId:e.networkId,indexedAccountId:N.indexedAccountId,deriveType:"default"}});o({isCreatingAccount:!1,token:null}),m&&T?.(_objectSpread(_objectSpread({},e),{},{accountId:m.accounts[0]?.id}))}catch(e){o({isCreatingAccount:!1,token:null})}}}else T?.(e);O&&g.pop()})),function(t){return e.apply(this,arguments)}),[N,O,v,g,D?.id,D?.isAllNetworks,T,o]),U=(0,i.YQ)(H,P?1e3:200),V=(0,c.useMemo)((function(){return{placeholder:null!=x?x:r.formatMessage({id:w.ETranslations.send_token_selector_search_placeholder}),onChangeText:function({nativeEvent:e}){U(e.text)}}}),[U,r,x]),q=(0,c.useCallback)((t=(0,n.A)((function*(e){C({isSearching:!0}),yield d.A.serviceToken.abortSearchTokens();try{var t=yield d.A.serviceToken.searchTokens({accountId:A,networkId:I,keywords:e});W({tokens:t})}catch(e){}C({isSearching:!1})})),function(e){return t.apply(this,arguments)}),[A,I]);return(0,c.useEffect)((function(){P&&L&&L.length>=f.NZ?q(L):(C({isSearching:!1}),W({tokens:[]}),d.A.serviceToken.abortSearchTokens())}),[P,L,q]),(0,h.jsxs)(l.Page,{safeAreaEnabled:!1,onClose:function(){return H("")},onUnmounted:function(){return H("")},"data-sentry-element":"Page","data-sentry-component":"TokenSelector","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/AssetSelector/pages/TokenSelector.tsx",children:[(0,h.jsx)(l.Page.Header,{title:null!=j?j:r.formatMessage({id:w.ETranslations.global_select_crypto}),headerSearchBarOptions:V,"data-sentry-element":"unknown","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/AssetSelector/pages/TokenSelector.tsx"}),(0,h.jsx)(l.Page.Body,{"data-sentry-element":"unknown","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/AssetSelector/pages/TokenSelector.tsx",children:(0,h.jsx)(u.x,{withPresetVerticalPadding:!1,onPressToken:B,isAllNetworks:null!=_?_:D?.isAllNetworks,withNetwork:null!=_?_:D?.isAllNetworks,searchAll:P,footerTipText:E,isTokenSelector:!0,tokenSelectorSearchKey:L,tokenSelectorSearchTokenState:M,tokenSelectorSearchTokenList:K,"data-sentry-element":"TokenListView","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/AssetSelector/pages/TokenSelector.tsx"})})]})}function TokenSelectorModal(){var e=(0,a.lq)(),{accountId:t}=e.params;return(0,h.jsx)(g.b8,{config:{sceneName:b.Zs.home},enabledNum:[j],"data-sentry-element":"AccountSelectorProviderMirror","data-sentry-component":"TokenSelectorModal","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/AssetSelector/pages/TokenSelector.tsx",children:(0,h.jsx)(v.m,{accountId:t,"data-sentry-element":"HomeTokenListProviderMirrorWrapper","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/AssetSelector/pages/TokenSelector.tsx",children:(0,h.jsx)(TokenSelector,{"data-sentry-element":"TokenSelector","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/AssetSelector/pages/TokenSelector.tsx"})})})}},918120:(e,t,r)=>{r.d(t,{m:()=>HomeTokenListProviderMirrorWrapper});var o=r(324586),n=r(839850),c=r(491180),a=r(208257),s=r(514041),i=r(641106),l=r(727476),d=r(831085);function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach((function(t){(0,o.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var u=(0,s.memo)((function(e){var t=(0,l.y)();return(0,d.jsx)(i.m,_objectSpread(_objectSpread({},e),{},{data:t}))}));u.displayName="UrlAccountHomeTokenListProviderMirror";var p=["accountId"];function HomeTokenListProvider_ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function HomeTokenListProvider_objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?HomeTokenListProvider_ownKeys(Object(r),!0).forEach((function(t){(0,o.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HomeTokenListProvider_ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function HomeTokenListProviderMirrorWrapper(e){var{accountId:t}=e,r=(0,n.A)(e,p);return c.A.isUrlAccountFn({accountId:t})?(0,d.jsx)(u,HomeTokenListProvider_objectSpread({},r)):(0,d.jsx)(a.p,HomeTokenListProvider_objectSpread({},r))}}}]);
//# sourceMappingURL=86243.58800fefb8.chunk.js.map