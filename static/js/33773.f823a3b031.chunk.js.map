{"version":3,"file":"static/js/33773.f823a3b031.chunk.js","mappings":"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","sources":["webpack://web/../../packages/core/src/chains/ada/sdkAda/addresses.ts","webpack://web/../../packages/core/src/chains/ada/sdkAda/constants.ts","webpack://web/../../packages/core/src/chains/ada/sdkAda/bip32.ts","webpack://web/../../packages/core/src/chains/ada/sdkAda/shelley-address.ts","webpack://web/../../packages/core/src/chains/ada/sdkAda/sdk/adaWebSdk.ts","webpack://web/../../packages/core/src/chains/ada/sdkAda/sdk/index.web.ts","webpack://web/../../packages/core/src/chains/ada/sdkAda/transformations.ts","webpack://web/../../packages/core/src/utils/index.ts","webpack://web/../../packages/kit-bg/src/vaults/base/KeyringBase.ts","webpack://web/../../packages/kit-bg/src/vaults/base/KeyringExternalBase.ts","webpack://web/../../packages/kit-bg/src/vaults/base/KeyringHardwareBase.ts","webpack://web/../../packages/kit-bg/src/vaults/base/KeyringHdBase.ts","webpack://web/../../packages/kit-bg/src/vaults/base/KeyringImportedBase.ts","webpack://web/../../packages/kit-bg/src/vaults/base/KeyringSoftwareBase.ts","webpack://web/../../packages/kit-bg/src/vaults/base/KeyringWatchingBase.ts","webpack://web/../../packages/kit-bg/src/vaults/base/VaultBase.ts","webpack://web/../../packages/kit-bg/src/vaults/base/VaultContext.ts","webpack://web/../../packages/kit-bg/src/vaults/impls/ada/KeyringExternal.ts","webpack://web/../../packages/kit-bg/src/vaults/impls/ada/sdkAda/index.ts","webpack://web/../../packages/kit-bg/src/vaults/impls/ada/sdkAda/adaUtils.ts","webpack://web/../../packages/kit-bg/src/vaults/impls/ada/KeyringHardware.ts","webpack://web/../../packages/kit-bg/src/vaults/impls/ada/KeyringHd.ts","webpack://web/../../packages/kit-bg/src/vaults/impls/ada/KeyringImported.ts","webpack://web/../../packages/kit-bg/src/vaults/impls/ada/KeyringWatching.ts","webpack://web/../../packages/kit-bg/src/vaults/impls/ada/sdkAda/ClientAda.ts","webpack://web/../../packages/kit-bg/src/vaults/impls/ada/Vault.ts","webpack://web/../../packages/kit-bg/src/vaults/types.ts"],"sourcesContent":["import{AddressTypes,base58,bech32,getAddressType,getPubKeyBlake2b224Hash,getShelleyAddressNetworkId,isValidBootstrapAddress,isValidShelleyAddress,packBaseAddress,packRewardAddress}from'cardano-crypto.js';import{EAdaNetworkId}from\"../types\";import{HARDENED_THRESHOLD}from\"./constants\";export var encodeAddress=function(address){var addressType=getAddressType(address);if(addressType===AddressTypes.BOOTSTRAP){return base58.encode(address);}var addressPrefixes={[AddressTypes.BASE]:'addr',[AddressTypes.POINTER]:'addr',[AddressTypes.ENTERPRISE]:'addr',[AddressTypes.REWARD]:'stake'};var isTestnet=getShelleyAddressNetworkId(address)===EAdaNetworkId.TESTNET_OR_PREPROD;var addressPrefix=`${addressPrefixes[addressType]}${isTestnet?'_test':''}`;return bech32.encode(addressPrefix,address);};export var xpub2pub=function(xpub){return xpub.slice(0,32);};export var xpub2ChainCode=function(xpub){return xpub.slice(32,64);};var xpub2blake2b224Hash=function(xpub){return getPubKeyBlake2b224Hash(xpub2pub(xpub));};export var isShelleyPath=function(path){return path[0]-HARDENED_THRESHOLD===1852;};export var stakingAddressFromXpub=function(stakeXpub,networkId){var addrBuffer=packRewardAddress(xpub2blake2b224Hash(stakeXpub),networkId);return encodeAddress(addrBuffer);};export var baseAddressFromXpub=function(spendXpub,stakeXpub,networkId){var addrBuffer=packBaseAddress(xpub2blake2b224Hash(spendXpub),xpub2blake2b224Hash(stakeXpub),networkId);return encodeAddress(addrBuffer);};export var validShelleyAddress=function(address){return(address.startsWith('addr1')||address.startsWith('addr_test1'))&&isValidShelleyAddress(address);};export var validBootstrapAddress=function(address){return(address.startsWith('Ae2')||address.startsWith('DdzFF'))&&isValidBootstrapAddress(address);};","export var HARDENED_THRESHOLD=0x80_00_00_00;export var DERIVATION_SCHEME=2;","import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import{bech32,mnemonicToRootKeypair,toPublic}from'cardano-crypto.js';import{mnemonicFromEntropy}from'@onekeyhq/core/src/secret';import{DERIVATION_SCHEME,HARDENED_THRESHOLD}from\"./constants\";export function toBip32StringPath(derivationPath){return`m/${derivationPath.map(function(item){return item%HARDENED_THRESHOLD+(item>=HARDENED_THRESHOLD?\"'\":'');}).join('/')}`;}export function getPathIndex(path){return path.split('/').slice(3,4)[0].slice(0,-1);}export function getRootKey(_x,_x2){return _getRootKey.apply(this,arguments);}function _getRootKey(){_getRootKey=_asyncToGenerator(function*(password,hdCredential){var mnemonic=mnemonicFromEntropy(hdCredential,password);var rootKey=yield mnemonicToRootKeypair(mnemonic,DERIVATION_SCHEME);return rootKey;});return _getRootKey.apply(this,arguments);}export function getXprvString(_x3,_x4){return _getXprvString.apply(this,arguments);}function _getXprvString(){_getXprvString=_asyncToGenerator(function*(password,entropy){var rootKey=typeof password==='string'?yield getRootKey(password,entropy):password;var xprv=bech32.encode('xprv',Buffer.concat([rootKey.slice(0,64),rootKey.slice(96)]));return xprv;});return _getXprvString.apply(this,arguments);}export function generateExportedCredential(_x5,_x6,_x7){return _generateExportedCredential.apply(this,arguments);}function _generateExportedCredential(){_generateExportedCredential=_asyncToGenerator(function*(password,hdCredential,path){var index=getPathIndex(path);var rootKey=yield getRootKey(password,hdCredential);var xprv=bech32.encode('xprv',Buffer.concat([rootKey.slice(0,64),rootKey.slice(96,128),Buffer.from(index,'utf8')]));return xprv;});return _generateExportedCredential.apply(this,arguments);}export function decodePrivateKeyByXprv(xprv){var decodeXprv=bech32.decode(xprv);var index=decodeXprv.data.slice(96);var publicKey=toPublic(decodeXprv.data.slice(0,64));var privateKey=Buffer.concat([decodeXprv.data.slice(0,64),publicKey,decodeXprv.data.slice(64,96),index]);return privateKey;}export function encodePrivateKey(privateKey){return{rootKey:privateKey.slice(0,128),index:Buffer.from(privateKey.slice(128)).toString('utf8')};}export function generateXprvFromPrivateKey(privateKey){var{rootKey,index}=encodePrivateKey(privateKey);var xprv=bech32.encode('xprv',Buffer.concat([rootKey.slice(0,64),rootKey.slice(96,128),Buffer.from(index,'utf8')]));return xprv;}","import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import{derivePrivate,toPublic}from'cardano-crypto.js';import{baseAddressFromXpub,stakingAddressFromXpub}from\"./addresses\";import{getRootKey,toBip32StringPath}from\"./bip32\";import{DERIVATION_SCHEME,HARDENED_THRESHOLD}from\"./constants\";var shelleyPath=function(account){return[HARDENED_THRESHOLD+1852,HARDENED_THRESHOLD+1815,HARDENED_THRESHOLD+account,0,0];};var shelleyStakeAccountPath=function(account){return[HARDENED_THRESHOLD+1852,HARDENED_THRESHOLD+1815,HARDENED_THRESHOLD+account,2,0];};export var derivePath=function(paths,rootKey){return paths.reduce(function(prev,path){return derivePrivate(prev,path,DERIVATION_SCHEME);},rootKey);};export var deriveAccountXpub=function(paths,rootKey){var accountKey=derivePath(paths,rootKey);return accountKey.slice(64).toString('hex');};export var deriveXpub=function(paths,rootKey){var deriveSecret=derivePath(paths,rootKey);return toPublic(deriveSecret.slice(0,64));};export function ShelleyStakingAccountProvider(accountIndex,rootKey,networkId){var pathStake=shelleyStakeAccountPath(accountIndex);var stakeXpub=deriveXpub(pathStake,rootKey);return{path:pathStake,address:stakingAddressFromXpub(stakeXpub,networkId)};}export function ShelleyBaseAddressProvider(accountIndex,rootKey,networkId){var pathSpend=shelleyPath(accountIndex);var spendXpub=deriveXpub(pathSpend,rootKey);var pathStake=shelleyStakeAccountPath(accountIndex);var stakeXpub=deriveXpub(pathStake,rootKey);var xpub=deriveAccountXpub(pathSpend.slice(0,3),rootKey);return{path:toBip32StringPath(pathSpend),address:baseAddressFromXpub(spendXpub,stakeXpub,networkId),xpub};}export var batchGetShelleyAddressByRootKey=function(rootKey,indexes,networkId){return indexes.map(function(accountIndex){return{baseAddress:ShelleyBaseAddressProvider(accountIndex,rootKey,networkId),stakingAddress:ShelleyStakingAccountProvider(accountIndex,rootKey,networkId)};});};export var batchGetShelleyAddresses=function(){var _ref=_asyncToGenerator(function*(hdCredential,password,indexes,networkId){var rootKey=yield getRootKey(password,hdCredential);return batchGetShelleyAddressByRootKey(rootKey,indexes,networkId);});return function batchGetShelleyAddresses(_x,_x2,_x3,_x4){return _ref.apply(this,arguments);};}();","import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";var getCardanoApi=function(){var _ref=_asyncToGenerator(function*(){var Loader=yield import('@onekeyfe/cardano-coin-selection-asmjs');return{composeTxPlan:Loader.onekeyUtils.composeTxPlan,signTransaction:Loader.onekeyUtils.signTransaction,hwSignTransaction:Loader.trezorUtils.signTransaction,txToOneKey:Loader.onekeyUtils.txToOneKey,dAppGetBalance:Loader.dAppUtils.getBalance,dAppGetAddresses:Loader.dAppUtils.getAddresses,dAppGetUtxos:Loader.dAppUtils.getUtxos,dAppConvertCborTxToEncodeTx:Loader.dAppUtils.convertCborTxToEncodeTx,dAppSignData:Loader.dAppUtils.signData};});return function getCardanoApi(){return _ref.apply(this,arguments);};}();export default{getCardanoApi};","import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import adaWebSdk from\"./adaWebSdk\";var{getCardanoApi}=adaWebSdk;var ensureSDKReady=function(){var _ref=_asyncToGenerator(function*(){return Promise.resolve(true);});return function ensureSDKReady(){return _ref.apply(this,arguments);};}();var sdk={getCardanoApi,ensureSDKReady};export default sdk;","import _defineProperty from\"@babel/runtime/helpers/defineProperty\";function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}import{CardanoAddressType as ECardanoAddressType}from'@onekeyfe/hd-transport';export{ECardanoAddressType};export var transformToOneKeyInputs=function(utxos,onekeyUtxos){return utxos.map(function(utxo){var utxoWithPath=onekeyUtxos.find(function(u){return u.tx_hash===utxo.txHash&&+u.output_index===utxo.outputIndex;});if(!utxoWithPath)throw Error(`Cannot transform utxo ${utxo.txHash}:${utxo.outputIndex}`);return{path:utxoWithPath.path,prev_hash:utxo.txHash,prev_index:utxo.outputIndex};});};export var parseAsset=function(hex){var policyIdSize=56;var policyId=hex.slice(0,policyIdSize);var assetNameInHex=hex.slice(policyIdSize);return{policyId,assetNameInHex};};export var transformToTokenBundle=function(assets){if(assets.length===0)return undefined;var uniquePolicies=[];assets.forEach(function(asset){var{policyId}=parseAsset(asset.unit);if(!uniquePolicies.includes(policyId)){uniquePolicies.push(policyId);}});var assetsByPolicy=[];uniquePolicies.forEach(function(policyId){var assetsInPolicy=[];assets.forEach(function(asset){var assetInfo=parseAsset(asset.unit);if(assetInfo.policyId!==policyId)return;assetsInPolicy.push({assetNameBytes:assetInfo.assetNameInHex,amount:asset.quantity});});assetsByPolicy.push({policyId,tokenAmounts:assetsInPolicy});});return assetsByPolicy;};export var transformToOneKeyOutputs=function(outputs,changeAddressParameters){return outputs.map(function(output){var params;if(output.isChange){params={addressParameters:changeAddressParameters};}else{params={address:output.address};}return _objectSpread(_objectSpread({},params),{},{amount:output.amount,tokenBundle:transformToTokenBundle(output.assets)});});};","import coinselectUtils from'@onekeyfe/coinselect/utils';import accountUtils from'@onekeyhq/shared/src/utils/accountUtils';export function slicePathTemplate(template){return accountUtils.slicePathTemplate(template);}export function getUtxoAccountPrefixPath({fullPath}){var pathComponent=fullPath.split('/');pathComponent.pop();pathComponent.pop();var prefixPath=pathComponent.join('/');return prefixPath;}export function getBIP44Path(account,address){var realPath='';for(var[key,value]of Object.entries(account.addresses)){if(value===address){realPath=key;break;}}return`${account.path}/${realPath}`;}export function estimateTxSize(inputsForCoinSelect,outputsForCoinSelect){return coinselectUtils.transactionBytes(inputsForCoinSelect,outputsForCoinSelect);}","import _isNil from\"lodash/isNil\";import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import{NotImplemented}from'@onekeyhq/shared/src/errors';import{defaultLogger}from'@onekeyhq/shared/src/logger/logger';import accountUtils from'@onekeyhq/shared/src/utils/accountUtils';import timerUtils from'@onekeyhq/shared/src/utils/timerUtils';import{EDBAccountType}from\"../../dbs/local/consts\";import{EVaultKeyringTypes}from\"../types\";import{VaultContext}from\"./VaultContext\";export var KeyringBase=function(_VaultContext){_inherits(KeyringBase,_VaultContext);var _super=_createSuper(KeyringBase);function KeyringBase(vault){var _this;_this=_super.call(this,vault.options);_this.vault=vault;if(_this.vault.networkId!==vault.options.networkId){throw new Error('KeyringBase ERROR: networkId not match1');}if(_this.networkId!==vault.options.networkId){throw new Error('KeyringBase ERROR: networkId not match2');}return _this;}var _proto=KeyringBase.prototype;_proto.isKeyringImported=function isKeyringImported(){return this.keyringType===EVaultKeyringTypes.imported;};_proto.isKeyringHd=function isKeyringHd(){return this.keyringType===EVaultKeyringTypes.hd;};_proto.isKeyringHardware=function isKeyringHardware(){return this.keyringType===EVaultKeyringTypes.hardware;};_proto.isKeyringWatching=function isKeyringWatching(){return this.keyringType===EVaultKeyringTypes.watching;};_proto.basePrepareHdNormalAccounts=function(){var _basePrepareHdNormalAccounts=_asyncToGenerator(function*(params,options){var{walletId}=this;if(!walletId){throw new Error('walletId is not defined');}var{names,deriveInfo,indexes}=params;var{coinType,template,namePrefix,idSuffix}=deriveInfo;if(!coinType){throw new Error('coinType is not defined');}var settings=yield this.getVaultSettings();var{accountType}=settings;var{buildAddressesInfo}=options;var usedIndexes=indexes;var addressInfos=yield buildAddressesInfo({usedIndexes});var ret=[];for(var idx=0;idx<addressInfos.length;idx+=1){var{path,publicKey,address,addresses,relPath}=addressInfos[idx];if(!path){throw new Error('KeyringHD prepareAccounts ERROR: path not found');}if(accountType===EDBAccountType.VARIANT&&!addresses){throw new Error('addresses is required for variant account');}if(accountType===EDBAccountType.VARIANT&&address){throw new Error('address should not set for variant account');}var pathIndex=usedIndexes[idx];var name=names?.[idx]||accountUtils.buildHDAccountName({pathIndex,namePrefix});var id=accountUtils.buildHDAccountId({walletId,path,idSuffix});var indexedAccountId=accountUtils.buildIndexedAccountId({walletId,index:pathIndex});ret.push({id,name,type:accountType,path,pathIndex,relPath,indexedAccountId,coinType,impl:settings.impl,pub:publicKey,address,addresses,template});}return ret;});function basePrepareHdNormalAccounts(_x,_x2){return _basePrepareHdNormalAccounts.apply(this,arguments);}return basePrepareHdNormalAccounts;}();_proto.basePrepareHdUtxoAccounts=function(){var _basePrepareHdUtxoAccounts=_asyncToGenerator(function*(params,options){var{walletId}=this;if(!walletId){throw new Error('walletId is undefined');}var{indexes,deriveInfo,names,skipCheckAccountExist=true}=params;var{coinType,template,namePrefix}=deriveInfo;if(!coinType){throw new Error('coinType is not defined');}var settings=yield this.getVaultSettings();var{accountType}=settings;if(accountType!==EDBAccountType.UTXO){throw new Error('accountType is not utxo');}var{checkIsAccountUsed,buildAddressesInfo}=options;var ignoreFirst=false;var usedIndexes=[...(ignoreFirst?[indexes[0]-1]:[]),...indexes];defaultLogger.account.accountCreatePerf.utxoBuildAddressesInfo();var addressesInfo=yield buildAddressesInfo({usedIndexes});defaultLogger.account.accountCreatePerf.utxoBuildAddressesInfoDone();defaultLogger.account.accountCreatePerf.buildDBUtxoAccounts();var ret=[];var idx=0;for(var{path,relPath,publicKey,xpub,xpubSegwit,address,addresses}of addressesInfo){if(!path||_isNil(xpub)||!addresses){throw new Error('basePrepareHdUtxoAccounts ERROR: path or xpub or addresses is undefined');}if(!relPath){throw new Error('basePrepareHdUtxoAccounts ERROR: relPath is undefined');}var prefix=namePrefix;var pathIndex=usedIndexes[idx];var name=names?.[idx]||`${prefix} #${pathIndex+1}`;var id=`${this.walletId}--${path}`;if(!ignoreFirst||idx>0){var indexedAccountId=accountUtils.buildIndexedAccountId({walletId:this.walletId,index:pathIndex});ret.push({id,name,type:accountType,path,pathIndex,indexedAccountId,relPath,coinType,impl:settings.impl,pub:publicKey,xpub,xpubSegwit,address,addresses,template});}var isLast=idx===addressesInfo.length-1;if(!skipCheckAccountExist&&!isLast&&checkIsAccountUsed){var{isUsed}=yield checkIsAccountUsed({xpub,xpubSegwit,address});if(!isUsed){break;}yield timerUtils.wait(200);}idx+=1;}defaultLogger.account.accountCreatePerf.buildDBUtxoAccountsDone();return ret;});function basePrepareHdUtxoAccounts(_x3,_x4){return _basePrepareHdUtxoAccounts.apply(this,arguments);}return basePrepareHdUtxoAccounts;}();_proto.batchGetAddresses=function(){var _batchGetAddresses=_asyncToGenerator(function*(params){return[];});function batchGetAddresses(_x5){return _batchGetAddresses.apply(this,arguments);}return batchGetAddresses;}();_proto.exportAccountSecretKeys=function(){var _exportAccountSecretKeys=_asyncToGenerator(function*(params){throw new NotImplemented();});function exportAccountSecretKeys(_x6){return _exportAccountSecretKeys.apply(this,arguments);}return exportAccountSecretKeys;}();_proto.buildHwAllNetworkPrepareAccountsParams=function(){var _buildHwAllNetworkPrepareAccountsParams=_asyncToGenerator(function*(params){return undefined;});function buildHwAllNetworkPrepareAccountsParams(_x7){return _buildHwAllNetworkPrepareAccountsParams.apply(this,arguments);}return buildHwAllNetworkPrepareAccountsParams;}();_proto.buildPrepareAccountsPrefixedPath=function buildPrepareAccountsPrefixedPath(params){throw new NotImplemented();};return _createClass(KeyringBase);}(VaultContext);export var KeyringBaseMock=function(_KeyringBase){_inherits(KeyringBaseMock,_KeyringBase);var _super2=_createSuper(KeyringBaseMock);function KeyringBaseMock(){return _super2.apply(this,arguments);}return _createClass(KeyringBaseMock);}(KeyringBase);","import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import{OneKeyInternalError}from'@onekeyhq/shared/src/errors';import{EVaultKeyringTypes}from\"../types\";import{KeyringBase}from\"./KeyringBase\";export var KeyringExternalBase=function(_KeyringBase){_inherits(KeyringExternalBase,_KeyringBase);var _super=_createSuper(KeyringExternalBase);function KeyringExternalBase(...args){var _this;_this=_super.call(this,...args);_this.keyringType=EVaultKeyringTypes.external;return _this;}var _proto=KeyringExternalBase.prototype;_proto.baseSignMessageByExternalWallet=function(){var _baseSignMessageByExternalWallet=_asyncToGenerator(function*(params){return this.backgroundApi.serviceDappSide.signMessage({account:yield this.vault.getAccount(),networkId:this.networkId,params});});function baseSignMessageByExternalWallet(_x){return _baseSignMessageByExternalWallet.apply(this,arguments);}return baseSignMessageByExternalWallet;}();_proto.baseSendTransactionByExternalWallet=function(){var _baseSendTransactionByExternalWallet=_asyncToGenerator(function*(params){return this.backgroundApi.serviceDappSide.sendTransaction({account:yield this.vault.getAccount(),networkId:this.networkId,params});});function baseSendTransactionByExternalWallet(_x2){return _baseSendTransactionByExternalWallet.apply(this,arguments);}return baseSendTransactionByExternalWallet;}();_proto.prepareAccounts=function prepareAccounts(params){throw new OneKeyInternalError('prepareAccounts is not supported for external accounts, use serviceAccount directly');};_proto.basePrepareExternalAccounts=function(){var _basePrepareExternalAccounts=_asyncToGenerator(function*(params){return[];});function basePrepareExternalAccounts(_x3){return _basePrepareExternalAccounts.apply(this,arguments);}return basePrepareExternalAccounts;}();return _createClass(KeyringExternalBase);}(KeyringBase);","import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import{slicePathTemplate}from'@onekeyhq/core/src/utils';import appGlobals from'@onekeyhq/shared/src/appGlobals';import{OneKeyInternalError,UnsupportedAddressTypeError}from'@onekeyhq/shared/src/errors';import{convertDeviceError,convertDeviceResponse}from'@onekeyhq/shared/src/errors/utils/deviceErrorUtils';import{HardwareSDK}from'@onekeyhq/shared/src/hardware/instance';import{defaultLogger}from'@onekeyhq/shared/src/logger/logger';import{EConfirmOnDeviceType}from'@onekeyhq/shared/types/device';import{EVaultKeyringTypes}from\"../types\";import{KeyringBase}from\"./KeyringBase\";export var KeyringHardwareBase=function(_KeyringBase){_inherits(KeyringHardwareBase,_KeyringBase);var _super=_createSuper(KeyringHardwareBase);function KeyringHardwareBase(...args){var _this;_this=_super.call(this,...args);_this.keyringType=EVaultKeyringTypes.hardware;return _this;}var _proto=KeyringHardwareBase.prototype;_proto.getHardwareSDKInstance=function(){var _getHardwareSDKInstance=_asyncToGenerator(function*(){var _ref;defaultLogger.account.accountCreatePerf.getHardwareSDKInstance();var sdk=yield appGlobals?.$backgroundApiProxy?.backgroundApi?.serviceHardware?.getSDKInstance?.();var r=(_ref=sdk)!=null?_ref:HardwareSDK;defaultLogger.account.accountCreatePerf.getHardwareSDKInstanceDone();return r;});function getHardwareSDKInstance(){return _getHardwareSDKInstance.apply(this,arguments);}return getHardwareSDKInstance;}();_proto.baseGetDeviceAccountData=function(){var _baseGetDeviceAccountData=_asyncToGenerator(function*({params,usedIndexes,sdkGetDataFn,errorMessage}){var{deriveInfo,deviceParams}=params;var{dbDevice,confirmOnDevice}=deviceParams;var{connectId,deviceId}=dbDevice;var{template,coinName}=deriveInfo;var{pathPrefix,pathSuffix}=slicePathTemplate(template);var showOnOnekeyFn=function(arrIndex){if(confirmOnDevice===EConfirmOnDeviceType.EveryItem){return true;}if(confirmOnDevice===EConfirmOnDeviceType.LastItem){return arrIndex===usedIndexes[usedIndexes.length-1];}return false;};var result=yield convertDeviceResponse(_asyncToGenerator(function*(){return sdkGetDataFn({connectId,deviceId,pathPrefix,pathSuffix,template,coinName,showOnOnekeyFn});}));if(!result||result.length!==usedIndexes.length){throw new OneKeyInternalError(errorMessage);}return result;});function baseGetDeviceAccountData(_x){return _baseGetDeviceAccountData.apply(this,arguments);}return baseGetDeviceAccountData;}();_proto.baseGetDeviceAccountPublicKeys=function(){var _baseGetDeviceAccountPublicKeys=_asyncToGenerator(function*({params,usedIndexes,sdkGetPublicKeysFn}){return this.baseGetDeviceAccountData({params,usedIndexes,sdkGetDataFn:sdkGetPublicKeysFn,errorMessage:'Unable to get public keys.'});});function baseGetDeviceAccountPublicKeys(_x2){return _baseGetDeviceAccountPublicKeys.apply(this,arguments);}return baseGetDeviceAccountPublicKeys;}();_proto.baseGetDeviceAccountAddresses=function(){var _baseGetDeviceAccountAddresses=_asyncToGenerator(function*({params,usedIndexes,sdkGetAddressFn}){return this.baseGetDeviceAccountData({params,usedIndexes,sdkGetDataFn:sdkGetAddressFn,errorMessage:'Unable to get addresses.'});});function baseGetDeviceAccountAddresses(_x3){return _baseGetDeviceAccountAddresses.apply(this,arguments);}return baseGetDeviceAccountAddresses;}();_proto.getAllNetworkPrepareAccounts=function(){var _getAllNetworkPrepareAccounts=_asyncToGenerator(function*({hwSdkNetwork,params,usedIndexes,buildPath,buildResultAccount}){if(!hwSdkNetwork){return undefined;}var{hwAllNetworkPrepareAccountsResponse}=params;if(hwAllNetworkPrepareAccountsResponse?.length){var resultAccounts=[];var _loop=function*(){var path=yield buildPath({index});var account=hwAllNetworkPrepareAccountsResponse?.find(function(item){return item.network&&item.path===path&&item.network===hwSdkNetwork;});if(account&&account.success){resultAccounts.push(buildResultAccount({account,index}));}};for(var index of usedIndexes){yield*_loop();}if(resultAccounts.length===usedIndexes.length){return{success:true,payload:resultAccounts};}var hasErrorItem=hwAllNetworkPrepareAccountsResponse?.find(function(item){return!item.success&&!!item.payload?.error;});if(!hasErrorItem?.success&&hasErrorItem?.payload?.error){if(hasErrorItem?.payload?.error?.indexOf('Failure_DataError,Forbidden key path')!==-1){throw new UnsupportedAddressTypeError();}throw convertDeviceError(hasErrorItem.payload);}throw new OneKeyInternalError('SDK GetAllNetworkAccounts Failed');}});function getAllNetworkPrepareAccounts(_x4){return _getAllNetworkPrepareAccounts.apply(this,arguments);}return getAllNetworkPrepareAccounts;}();return _createClass(KeyringHardwareBase);}(KeyringBase);","import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import{EVaultKeyringTypes}from\"../types\";import{KeyringSoftwareBase}from\"./KeyringSoftwareBase\";export var KeyringHdBase=function(_KeyringSoftwareBase){_inherits(KeyringHdBase,_KeyringSoftwareBase);var _super=_createSuper(KeyringHdBase);function KeyringHdBase(...args){var _this;_this=_super.call(this,...args);_this.keyringType=EVaultKeyringTypes.hd;return _this;}return _createClass(KeyringHdBase);}(KeyringSoftwareBase);","import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import{EVaultKeyringTypes}from\"../types\";import{KeyringSoftwareBase}from\"./KeyringSoftwareBase\";export var KeyringImportedBase=function(_KeyringSoftwareBase){_inherits(KeyringImportedBase,_KeyringSoftwareBase);var _super=_createSuper(KeyringImportedBase);function KeyringImportedBase(...args){var _this;_this=_super.call(this,...args);_this.keyringType=EVaultKeyringTypes.imported;return _this;}return _createClass(KeyringImportedBase);}(KeyringSoftwareBase);","import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _isNil from\"lodash/isNil\";import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import{decryptImportedCredential}from'@onekeyhq/core/src/secret';import{OneKeyInternalError}from'@onekeyhq/shared/src/errors';import{defaultLogger}from'@onekeyhq/shared/src/logger/logger';import accountUtils from'@onekeyhq/shared/src/utils/accountUtils';import{checkIsDefined}from'@onekeyhq/shared/src/utils/assertUtils';import{noopObject}from'@onekeyhq/shared/src/utils/miscUtils';import localDb from\"../../dbs/local/localDb\";import{KeyringBase}from\"./KeyringBase\";export var KeyringSoftwareBase=function(_KeyringBase){_inherits(KeyringSoftwareBase,_KeyringBase);var _super=_createSuper(KeyringSoftwareBase);function KeyringSoftwareBase(){return _super.apply(this,arguments);}var _proto=KeyringSoftwareBase.prototype;_proto.baseGetCredentialsInfo=function(){var _baseGetCredentialsInfo=_asyncToGenerator(function*({password}){noopObject(password);var hd;var imported;if(this.isKeyringHd()){var credential=yield localDb.getCredential(checkIsDefined(this.walletId));hd=credential.credential;}if(this.isKeyringImported()){var _credential=yield localDb.getCredential(this.accountId);imported=_credential.credential;}return{hd,imported};});function baseGetCredentialsInfo(_x){return _baseGetCredentialsInfo.apply(this,arguments);}return baseGetCredentialsInfo;}();_proto.baseSignTransactionBtc=function(){var _baseSignTransactionBtc=_asyncToGenerator(function*(params){if(!this.coreApi){throw new Error('coreApi is not defined');}var vault=this.vault;var{password,unsignedTx,signOnly}=params;var credentials=yield this.baseGetCredentialsInfo(params);var networkInfo=yield this.getCoreApiNetworkInfo();var{account,btcExtraInfo,relPaths}=yield vault.prepareBtcSignExtraInfo({unsignedTx});var result=yield this.coreApi.signTransaction({networkInfo,unsignedTx,account,relPaths,password,credentials,btcExtraInfo,signOnly});return result;});function baseSignTransactionBtc(_x2){return _baseSignTransactionBtc.apply(this,arguments);}return baseSignTransactionBtc;}();_proto.baseSignTransaction=function(){var _baseSignTransaction=_asyncToGenerator(function*(params){if(!this.coreApi){throw new Error('coreApi is not defined');}var{password,unsignedTx}=params;var account=yield this.vault.getAccount();var credentials=yield this.baseGetCredentialsInfo(params);var networkInfo=yield this.getCoreApiNetworkInfo();var result=yield this.coreApi.signTransaction({networkInfo,password,account,credentials,unsignedTx});return result;});function baseSignTransaction(_x3){return _baseSignTransaction.apply(this,arguments);}return baseSignTransaction;}();_proto.baseSignMessage=function(){var _baseSignMessage=_asyncToGenerator(function*(params){var _this=this;if(!this.coreApi){throw new Error('coreApi is not defined');}var{password,messages}=params;var account=yield this.vault.getAccount();var credentials=yield this.baseGetCredentialsInfo(params);var networkInfo=yield this.getCoreApiNetworkInfo();var result=yield Promise.all(messages.map(function(msg){return checkIsDefined(_this.coreApi).signMessage({networkInfo,unsignedMsg:msg,account,password,credentials});}));return result;});function baseSignMessage(_x4){return _baseSignMessage.apply(this,arguments);}return baseSignMessage;}();_proto.baseSignMessageBtc=function(){var _baseSignMessageBtc=_asyncToGenerator(function*(params){var _this2=this;if(!this.coreApi){throw new Error('coreApi is not defined');}var vault=this.vault;var{password,messages}=params;var credentials=yield this.baseGetCredentialsInfo(params);var networkInfo=yield this.getCoreApiNetworkInfo();var result=yield Promise.all(messages.map(function(){var _ref=_asyncToGenerator(function*(msg){var{account,btcExtraInfo,relPaths}=yield vault.prepareBtcSignExtraInfo({unsignedMessage:msg});return checkIsDefined(_this2.coreApi).signMessage({networkInfo,unsignedMsg:msg,account,relPaths,password,credentials,btcExtraInfo});});return function(_x6){return _ref.apply(this,arguments);};}()));return result;});function baseSignMessageBtc(_x5){return _baseSignMessageBtc.apply(this,arguments);}return baseSignMessageBtc;}();_proto.basePrepareAccountsImported=function(){var _basePrepareAccountsImported=_asyncToGenerator(function*(params,options={}){if(!this.coreApi){throw new Error('coreApi is not defined');}var{name,importedCredential,password,networks,createAtNetwork}=params;var{privateKey}=decryptImportedCredential({credential:importedCredential,password});var settings=yield this.getVaultSettings();var{onlyAvailableOnCertainNetworks}=options;var accountType=options.accountType||settings.accountType;var impl=options.impl||settings.impl;var coinType=options.coinType||params.deriveInfo?.coinType||settings.coinTypeDefault;var networkInfo=yield this.getCoreApiNetworkInfo();var privateKeyRaw=privateKey;var{address,addresses,publicKey}=yield this.coreApi.getAddressFromPrivate({networkInfo,privateKeyRaw,addressEncoding:params.deriveInfo?.addressEncoding});var addressUsed='';if(onlyAvailableOnCertainNetworks){addressUsed=addresses?.[createAtNetwork]||'';if(!addressUsed){throw new Error(`imported account address is empty of network: ${createAtNetwork}`);}}var accountId=accountUtils.buildImportedAccountId({coinType,pub:publicKey,address:addressUsed,addressEncoding:params.deriveInfo?.addressEncoding});return Promise.resolve([{id:accountId,name:name||'',type:accountType,path:'',coinType,impl,networks:onlyAvailableOnCertainNetworks?networks:undefined,createAtNetwork,pub:publicKey,address,addresses}]);});function basePrepareAccountsImported(_x7){return _basePrepareAccountsImported.apply(this,arguments);}return basePrepareAccountsImported;}();_proto.basePrepareAccountsImportedUtxo=function(){var _basePrepareAccountsImportedUtxo=_asyncToGenerator(function*(params){if(!this.coreApi){throw new Error('coreApi is not defined');}var{name,importedCredential,password,createAtNetwork,deriveInfo}=params;var{privateKey}=decryptImportedCredential({credential:importedCredential,password});var addressEncoding=deriveInfo?.addressEncoding;var settings=yield this.getVaultSettings();var{coinTypeDefault:coinType,accountType}=settings;var networkInfo=yield this.getCoreApiNetworkInfo();var privateKeyRaw=privateKey;var{address,addresses,publicKey,xpub,relPath,xpubSegwit,path}=yield this.coreApi.getAddressFromPrivate({networkInfo,privateKeyRaw,addressEncoding});if(_isNil(xpub)||!addresses){throw new Error('xpub or addresses is undefined');}var accountId=accountUtils.buildImportedAccountId({coinType,xpub:xpub||publicKey,addressEncoding});return Promise.resolve([{id:accountId,name:name||'',type:accountType,path:path||'',relPath,coinType,impl:settings.impl,xpub,xpubSegwit,pub:publicKey,address,addresses,createAtNetwork}]);});function basePrepareAccountsImportedUtxo(_x8){return _basePrepareAccountsImportedUtxo.apply(this,arguments);}return basePrepareAccountsImportedUtxo;}();_proto.basePrepareAccountsHd=function(){var _basePrepareAccountsHd=_asyncToGenerator(function*(params){var _this3=this;var{template,addressEncoding}=params.deriveInfo;var{password}=params;var networkInfo=yield this.getCoreApiNetworkInfo();return this.basePrepareHdNormalAccounts(params,{buildAddressesInfo:function(){var _ref2=_asyncToGenerator(function*({usedIndexes}){if(!_this3.coreApi){throw new Error('coreApi is not defined');}var credentials=yield _this3.baseGetCredentialsInfo({password});var{addresses:addressInfos}=yield _this3.coreApi.getAddressesFromHd({networkInfo,template,hdCredential:checkIsDefined(credentials.hd),password,indexes:usedIndexes,addressEncoding});return addressInfos;});return function buildAddressesInfo(_x10){return _ref2.apply(this,arguments);};}()});});function basePrepareAccountsHd(_x9){return _basePrepareAccountsHd.apply(this,arguments);}return basePrepareAccountsHd;}();_proto.basePrepareAccountsHdUtxo=function(){var _basePrepareAccountsHdUtxo=_asyncToGenerator(function*(params,options){var _this4=this;var{password,indexes,deriveInfo,names,skipCheckAccountExist}=params;var addressEncoding=params?.deriveInfo?.addressEncoding;return this.basePrepareHdUtxoAccounts(params,_objectSpread(_objectSpread({},options),{},{buildAddressesInfo:function(){var _ref3=_asyncToGenerator(function*({usedIndexes}){var{coinType,template,namePrefix}=deriveInfo;defaultLogger.account.accountCreatePerf.getCredentialsInfo();var credentials=yield _this4.baseGetCredentialsInfo({password});if(!_this4.coreApi){throw new Error('coreApi is undefined');}defaultLogger.account.accountCreatePerf.getAddressesFromHd();var{addresses:addressesInfo}=yield _this4.coreApi.getAddressesFromHd({networkInfo:yield _this4.getCoreApiNetworkInfo(),template,hdCredential:checkIsDefined(credentials.hd),password,indexes:usedIndexes,addressEncoding});if(addressesInfo.length!==usedIndexes.length){throw new OneKeyInternalError('Unable to get address');}defaultLogger.account.accountCreatePerf.getAddressesFromHdDone();return addressesInfo;});return function buildAddressesInfo(_x13){return _ref3.apply(this,arguments);};}()}));});function basePrepareAccountsHdUtxo(_x11,_x12){return _basePrepareAccountsHdUtxo.apply(this,arguments);}return basePrepareAccountsHdUtxo;}();_proto.baseExportAccountSecretKeys=function(){var _baseExportAccountSecretKeys=_asyncToGenerator(function*(params){var{password,keyType,relPaths}=params;var account=yield this.vault.getAccount();var networkInfo=yield this.getCoreApiNetworkInfo();var credentials=yield this.baseGetCredentialsInfo({password});var{deriveInfo}=yield this.backgroundApi.serviceNetwork.getDeriveTypeByTemplate({networkId:this.networkId,template:account.template});var addressEncoding=deriveInfo?.addressEncoding;if(!this.coreApi){throw new Error('coreApi is not defined');}return this.coreApi.getExportedSecretKey({networkInfo,password,credentials,account,relPaths,keyType,addressEncoding});});function baseExportAccountSecretKeys(_x14){return _baseExportAccountSecretKeys.apply(this,arguments);}return baseExportAccountSecretKeys;}();_proto.baseGetPrivateKeys=function(){var _baseGetPrivateKeys=_asyncToGenerator(function*(params){var{password,relPaths}=params;if(!this.coreApi){throw new Error('coreApi is not defined');}var account=yield this.vault.getAccount();var credentials=yield this.baseGetCredentialsInfo({password});var networkInfo=yield this.getCoreApiNetworkInfo();var privateKeys=yield this.coreApi.getPrivateKeys({networkInfo,password,account,relPaths,credentials});return privateKeys;});function baseGetPrivateKeys(_x15){return _baseGetPrivateKeys.apply(this,arguments);}return baseGetPrivateKeys;}();return _createClass(KeyringSoftwareBase);}(KeyringBase);","import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import{InvalidAddress,OneKeyInternalError}from'@onekeyhq/shared/src/errors';import{ETranslations}from'@onekeyhq/shared/src/locale';import{appLocale}from'@onekeyhq/shared/src/locale/appLocale';import accountUtils from'@onekeyhq/shared/src/utils/accountUtils';import{checkIsDefined}from'@onekeyhq/shared/src/utils/assertUtils';import{EDBAccountType}from\"../../dbs/local/consts\";import{EVaultKeyringTypes}from\"../types\";import{KeyringBase}from\"./KeyringBase\";export var KeyringWatchingBase=function(_KeyringBase){_inherits(KeyringWatchingBase,_KeyringBase);var _super=_createSuper(KeyringWatchingBase);function KeyringWatchingBase(...args){var _this;_this=_super.call(this,...args);_this.keyringType=EVaultKeyringTypes.watching;return _this;}var _proto=KeyringWatchingBase.prototype;_proto.signTransaction=function(){var _signTransaction=_asyncToGenerator(function*(){throw new OneKeyInternalError(appLocale.intl.formatMessage({id:ETranslations.wallet_error_trade_with_watched_acocunt}));});function signTransaction(){return _signTransaction.apply(this,arguments);}return signTransaction;}();_proto.signMessage=function(){var _signMessage=_asyncToGenerator(function*(){throw new OneKeyInternalError(appLocale.intl.formatMessage({id:ETranslations.wallet_error_trade_with_watched_acocunt}));});function signMessage(){return _signMessage.apply(this,arguments);}return signMessage;}();_proto.basePrepareUtxoWatchingAccounts=function(){var _basePrepareUtxoWatchingAccounts=_asyncToGenerator(function*(params){var{address,xpub,networks,createAtNetwork,name,deriveInfo,isUrlAccount,addresses}=params;if(!address&&!xpub){throw new Error('basePrepareUtxoWatchingAccounts ERROR: address and xpub are not defined');}var networkInfo=yield this.getCoreApiNetworkInfo();var settings=yield this.getVaultSettings();var coinType=settings.coinTypeDefault;var addressEncoding=deriveInfo?.addressEncoding;var id=accountUtils.buildWatchingAccountId({coinType,address,xpub,addressEncoding,isUrlAccount});var addressFromXpub='';var xpubSegwit=xpub;if(!address&&xpub){checkIsDefined(this.coreApi);var result=yield this.coreApi?.getAddressFromPublic({publicKey:xpub,addressEncoding,networkInfo});addressFromXpub=result?.address||'';xpubSegwit=result?.xpubSegwit||xpubSegwit||xpub;}var account={id,name,type:EDBAccountType.UTXO,relPath:'0/0',coinType,impl:settings.impl,networks,createAtNetwork,address:addressFromXpub||address||'',xpub:xpub||'',xpubSegwit,path:'',addresses:addresses||{}};return[account];});function basePrepareUtxoWatchingAccounts(_x){return _basePrepareUtxoWatchingAccounts.apply(this,arguments);}return basePrepareUtxoWatchingAccounts;}();_proto.basePrepareSimpleWatchingAccounts=function(){var _basePrepareSimpleWatchingAccounts=_asyncToGenerator(function*(params,options={}){var{address,name,networks,createAtNetwork,isUrlAccount}=params;if(!address){throw new InvalidAddress();}if(!createAtNetwork){throw new Error('basePrepareSimpleWatchingAccounts ERROR: createAtNetwork is not defined');}var{onlyAvailableOnCertainNetworks=false}=options;var settings=yield this.getVaultSettings();var coinType=options.coinType||settings.coinTypeDefault;var impl=options.impl||settings.impl;var id=accountUtils.buildWatchingAccountId({coinType,address,isUrlAccount});var account={id,name:name||'',type:EDBAccountType.SIMPLE,coinType,impl,networks:onlyAvailableOnCertainNetworks?networks:undefined,createAtNetwork,address,pub:'',path:''};return Promise.resolve([account]);});function basePrepareSimpleWatchingAccounts(_x2){return _basePrepareSimpleWatchingAccounts.apply(this,arguments);}return basePrepareSimpleWatchingAccounts;}();return _createClass(KeyringWatchingBase);}(KeyringBase);","import _objectWithoutProperties from\"@babel/runtime/helpers/objectWithoutProperties\";import _omitBy from\"lodash/omitBy\";import _isEmpty from\"lodash/isEmpty\";import _isNil from\"lodash/isNil\";import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _omit from\"lodash/omit\";import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";var _excluded=[\"accountId\"],_excluded2=[\"accountId\"];function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import qs from'querystring';import{Semaphore}from'async-mutex';import BigNumber from'bignumber.js';import{decodeSensitiveText,encodeSensitiveText}from'@onekeyhq/core/src/secret';import{getNetworkIdsMap}from'@onekeyhq/shared/src/config/networkIds';import{NotImplemented}from'@onekeyhq/shared/src/errors';import platformEnv from'@onekeyhq/shared/src/platformEnv';import accountUtils from'@onekeyhq/shared/src/utils/accountUtils';import chainValueUtils from'@onekeyhq/shared/src/utils/chainValueUtils';import hexUtils from'@onekeyhq/shared/src/utils/hexUtils';import{getOnChainHistoryTxAssetInfo,getOnChainHistoryTxStatus}from'@onekeyhq/shared/src/utils/historyUtils';import{generateUUID}from'@onekeyhq/shared/src/utils/miscUtils';import{buildTxActionDirection,getStakingActionLabel}from'@onekeyhq/shared/src/utils/txActionUtils';import{addressIsEnsFormat}from'@onekeyhq/shared/src/utils/uriUtils';import{EServiceEndpointEnum}from'@onekeyhq/shared/types/endpoint';import{EOnChainHistoryTxType}from'@onekeyhq/shared/types/history';import{EDecodedTxActionType,EDecodedTxDirection}from'@onekeyhq/shared/types/tx';import{VaultContext}from\"./VaultContext\";if(platformEnv.isExtensionUi){debugger;throw new Error('engine/VaultBase is not allowed imported from ui');}export var VaultBaseChainOnly=function(_VaultContext){_inherits(VaultBaseChainOnly,_VaultContext);var _super=_createSuper(VaultBaseChainOnly);function VaultBaseChainOnly(){return _super.apply(this,arguments);}var _proto=VaultBaseChainOnly.prototype;_proto.getXpubFromAccount=function(){var _getXpubFromAccount=_asyncToGenerator(function*(networkAccount){return networkAccount.xpub;});function getXpubFromAccount(_x){return _getXpubFromAccount.apply(this,arguments);}return getXpubFromAccount;}();_proto.proxyJsonRPCCall=function(){var _proxyJsonRPCCall=_asyncToGenerator(function*(request){throw new NotImplemented();});function proxyJsonRPCCall(_x2){return _proxyJsonRPCCall.apply(this,arguments);}return proxyJsonRPCCall;}();_proto.addressFromBase=function(){var _addressFromBase=_asyncToGenerator(function*(account){throw new NotImplemented();});function addressFromBase(_x3){return _addressFromBase.apply(this,arguments);}return addressFromBase;}();_proto.addressToBase=function(){var _addressToBase=_asyncToGenerator(function*(address){throw new NotImplemented();});function addressToBase(_x4){return _addressToBase.apply(this,arguments);}return addressToBase;}();_proto.baseValidatePrivateKey=function(){var _baseValidatePrivateKey=_asyncToGenerator(function*(privateKey){if(!this.coreApi){throw new Error('coreApi not defined in Vault');}try{var networkInfo=yield this.getCoreApiNetworkInfo();var result=yield this.coreApi.getAddressFromPrivate({networkInfo,privateKeyRaw:privateKey});if(result.publicKey){return{isValid:true};}}catch(error){}return{isValid:false};});function baseValidatePrivateKey(_x5){return _baseValidatePrivateKey.apply(this,arguments);}return baseValidatePrivateKey;}();_proto.baseValidateGeneralInput=function(){var _baseValidateGeneralInput=_asyncToGenerator(function*(params){var input=decodeSensitiveText({encodedText:params.input});var{validateAddress,validateXprvt,validateXpub,validatePrivateKey}=params;var result={isValid:false};var isValid=false;var addressResult;var xpubResult;var xprvtResult;var privateKeyResult;if(validateAddress&&!isValid){try{addressResult=yield this.validateAddress(input);result.addressResult=addressResult;isValid=isValid||addressResult?.isValid;}catch(error){}}if(validateXpub&&!isValid){try{xpubResult=yield this.validateXpub(input);result.xpubResult=xpubResult;isValid=isValid||xpubResult?.isValid;}catch(error){}}if(validateXprvt&&!isValid){try{xprvtResult=yield this.validateXprvt(input);result.xprvtResult=xprvtResult;isValid=isValid||xprvtResult?.isValid;}catch(error){}}if(validatePrivateKey&&!isValid){try{privateKeyResult=yield this.validatePrivateKey(input);result.privateKeyResult=privateKeyResult;isValid=isValid||privateKeyResult?.isValid;}catch(error){}}result.isValid=Boolean(isValid);return{result,inputDecoded:input};});function baseValidateGeneralInput(_x6){return _baseValidateGeneralInput.apply(this,arguments);}return baseValidateGeneralInput;}();_proto.baseGetPrivateKeyFromImported=function(){var _baseGetPrivateKeyFromImported=_asyncToGenerator(function*(params){var input=decodeSensitiveText({encodedText:params.input});var privateKey=hexUtils.stripHexPrefix(input);privateKey=encodeSensitiveText({text:privateKey});return{privateKey};});function baseGetPrivateKeyFromImported(_x7){return _baseGetPrivateKeyFromImported.apply(this,arguments);}return baseGetPrivateKeyFromImported;}();_proto.validateAmountInputShown=function(){var _validateAmountInputShown=_asyncToGenerator(function*({toAddress}){return Promise.resolve({isValid:true});});function validateAmountInputShown(_x8){return _validateAmountInputShown.apply(this,arguments);}return validateAmountInputShown;}();_proto.checkIsDomainName=function(){var _checkIsDomainName=_asyncToGenerator(function*({name}){return addressIsEnsFormat(name);});function checkIsDomainName(_x9){return _checkIsDomainName.apply(this,arguments);}return checkIsDomainName;}();_proto.resolveDomainName=function(){var _resolveDomainName=_asyncToGenerator(function*({name}){return null;});function resolveDomainName(_x10){return _resolveDomainName.apply(this,arguments);}return resolveDomainName;}();_proto.getCustomRpcEndpointStatus=function(){var _getCustomRpcEndpointStatus=_asyncToGenerator(function*(params){throw new NotImplemented();});function getCustomRpcEndpointStatus(_x11){return _getCustomRpcEndpointStatus.apply(this,arguments);}return getCustomRpcEndpointStatus;}();_proto.checkFeeSupportInfo=function(){var _checkFeeSupportInfo=_asyncToGenerator(function*(params){throw new NotImplemented();});function checkFeeSupportInfo(_x12){return _checkFeeSupportInfo.apply(this,arguments);}return checkFeeSupportInfo;}();_proto.fetchTokenDetails=function(){var _fetchTokenDetails=_asyncToGenerator(function*(params){var isCustomNetwork=yield this.backgroundApi.serviceNetwork.isCustomNetwork({networkId:this.networkId});if(isCustomNetwork){return this.fetchTokenDetailsByRpc(params);}return this.fetchTokenDetailsByApi(params);});function fetchTokenDetails(_x13){return _fetchTokenDetails.apply(this,arguments);}return fetchTokenDetails;}();_proto.fetchTokenDetailsByApi=function(){var _fetchTokenDetailsByApi=_asyncToGenerator(function*(params){var _params$signal;var client=yield this.backgroundApi.serviceToken.getClient(EServiceEndpointEnum.Wallet);var resp=yield client.post('/wallet/v1/account/token/search',_omit(params,['walletId','accountId','signal']),{headers:yield this.backgroundApi.serviceAccountProfile._getWalletTypeHeader({accountId:params.accountId,walletId:params.walletId}),signal:(_params$signal=params.signal)!=null?_params$signal:undefined});return resp;});function fetchTokenDetailsByApi(_x14){return _fetchTokenDetailsByApi.apply(this,arguments);}return fetchTokenDetailsByApi;}();_proto.fetchTokenDetailsByRpc=function(){var _fetchTokenDetailsByRpc=_asyncToGenerator(function*(params){throw new NotImplemented();});function fetchTokenDetailsByRpc(_x15){return _fetchTokenDetailsByRpc.apply(this,arguments);}return fetchTokenDetailsByRpc;}();return _createClass(VaultBaseChainOnly);}(VaultContext);export var VaultBase=function(_VaultBaseChainOnly){_inherits(VaultBase,_VaultBaseChainOnly);var _super2=_createSuper(VaultBase);function VaultBase(...args){var _this;_this=_super2.call(this,...args);_this.uuid=generateUUID();_this.mutexBuildOnChainHistoryTxGetDBAccount=new Semaphore(1);return _this;}var _proto2=VaultBase.prototype;_proto2.init=function(){var _init=_asyncToGenerator(function*(config){yield this.initKeyring(config);});function init(_x16){return _init.apply(this,arguments);}return init;}();_proto2.initKeyring=function(){var _initKeyring=_asyncToGenerator(function*(config){if(!this.options.isChainOnly){this.keyring=yield config.keyringCreator(this);}});function initKeyring(_x17){return _initKeyring.apply(this,arguments);}return initKeyring;}();_proto2.broadcastTransaction=function(){var _broadcastTransaction=_asyncToGenerator(function*(params){var{signedTx}=params;var txid=yield this.backgroundApi.serviceSend.broadcastTransaction(params);return _objectSpread(_objectSpread({},signedTx),{},{txid,encodedTx:signedTx.encodedTx});});function broadcastTransaction(_x18){return _broadcastTransaction.apply(this,arguments);}return broadcastTransaction;}();_proto2.broadcastTransactionFromCustomRpc=function(){var _broadcastTransactionFromCustomRpc=_asyncToGenerator(function*(params){throw new NotImplemented();});function broadcastTransactionFromCustomRpc(_x19){return _broadcastTransactionFromCustomRpc.apply(this,arguments);}return broadcastTransactionFromCustomRpc;}();_proto2.validateSendAmount=function(){var _validateSendAmount=_asyncToGenerator(function*(params){return Promise.resolve(true);});function validateSendAmount(_x20){return _validateSendAmount.apply(this,arguments);}return validateSendAmount;}();_proto2.buildOnChainHistoryTxExtraInfo=function(){var _buildOnChainHistoryTxExtraInfo=_asyncToGenerator(function*({onChainHistoryTx}){return null;});function buildOnChainHistoryTxExtraInfo(_x21){return _buildOnChainHistoryTxExtraInfo.apply(this,arguments);}return buildOnChainHistoryTxExtraInfo;}();_proto2.precheckUnsignedTx=function(){var _precheckUnsignedTx=_asyncToGenerator(function*(params){return Promise.resolve(true);});function precheckUnsignedTx(_x22){return _precheckUnsignedTx.apply(this,arguments);}return precheckUnsignedTx;}();_proto2.buildEstimateFeeParams=function(){var _buildEstimateFeeParams=_asyncToGenerator(function*({encodedTx}){return Promise.resolve({encodedTx});});function buildEstimateFeeParams(_x23){return _buildEstimateFeeParams.apply(this,arguments);}return buildEstimateFeeParams;}();_proto2.buildParseTransactionParams=function(){var _buildParseTransactionParams=_asyncToGenerator(function*({encodedTx}){return Promise.resolve({encodedTx});});function buildParseTransactionParams(_x24){return _buildParseTransactionParams.apply(this,arguments);}return buildParseTransactionParams;}();_proto2.buildFetchHistoryListParams=function(){var _buildFetchHistoryListParams=_asyncToGenerator(function*(params){return Promise.resolve({});});function buildFetchHistoryListParams(_x25){return _buildFetchHistoryListParams.apply(this,arguments);}return buildFetchHistoryListParams;}();_proto2.buildHistoryTx=function(){var _buildHistoryTx=_asyncToGenerator(function*(params){var{historyTxToMerge,decodedTx,signedTx,isSigner,isLocalCreated,dbAccount}=params;var accountAddress=params.accountAddress||'';var xpub=params.xpub;var txid=signedTx?.txid||decodedTx?.txid||'';if(!txid){throw new Error('buildHistoryTx txid not found');}var{accountId,networkId}=decodedTx;try{var[a,x]=yield Promise.all([this.backgroundApi.serviceAccount.getAccountAddressForApi({dbAccount,accountId,networkId}),this.backgroundApi.serviceAccount.getAccountXpub({dbAccount,accountId,networkId})]);accountAddress=a;xpub=x;}catch(e){}decodedTx.txid=txid||decodedTx.txid;decodedTx.owner=accountAddress;decodedTx.xpub=xpub;if(isSigner){decodedTx.signer=accountAddress;}var historyId=accountUtils.buildLocalHistoryId({networkId,txid,accountAddress,xpub});var historyTx=_objectSpread(_objectSpread({id:historyId,isLocalCreated:Boolean(isLocalCreated)},historyTxToMerge),{},{decodedTx});return Promise.resolve(historyTx);});function buildHistoryTx(_x26){return _buildHistoryTx.apply(this,arguments);}return buildHistoryTx;}();_proto2.fixOnChainHistoryAccountData=function fixOnChainHistoryAccountData(params){var{accountId:originAccountId,networkId:originNetworkId,accountAddress:originAccountAddress,xpub:originXpub,onChainHistoryTx,allNetworkHistoryExtraItems}=params;var accountId=originAccountId;var networkId=originNetworkId;var accountAddress=originAccountAddress;var xpub=originXpub;if(originNetworkId===getNetworkIdsMap().onekeyall){var allNetworkAccount=allNetworkHistoryExtraItems?.find(function(i){var[_,txXpub]=onChainHistoryTx.key.split('_');if(!_isNil(i.accountXpub)){return i.networkId===onChainHistoryTx.networkId&&i.accountXpub===txXpub;}return i.networkId===onChainHistoryTx.networkId;});if(allNetworkAccount){accountId=allNetworkAccount.accountId;networkId=allNetworkAccount.networkId;accountAddress=allNetworkAccount.accountAddress;xpub=allNetworkAccount.accountXpub;}}return{accountId,networkId,accountAddress,xpub};};_proto2.buildOnChainHistoryTx=function(){var _buildOnChainHistoryTx=_asyncToGenerator(function*(params){var _this2=this;var{onChainHistoryTx,tokens,nfts,allNetworkHistoryExtraItems,dbAccountCache}=params;var{accountId,networkId,accountAddress,xpub}=this.fixOnChainHistoryAccountData({accountId:params.accountId,networkId:params.networkId,accountAddress:params.accountAddress,xpub:params.xpub,onChainHistoryTx,allNetworkHistoryExtraItems});if(params.accountId!==accountId){}var key=`${accountId}`;var dbAccount;if(dbAccountCache){yield this.mutexBuildOnChainHistoryTxGetDBAccount.runExclusive(_asyncToGenerator(function*(){dbAccount=dbAccountCache?.[key];if(!dbAccount){dbAccount=yield _this2.backgroundApi.serviceAccount.getDBAccountSafe({accountId});if(dbAccount){dbAccountCache[key]=dbAccount;}}}));}var vaultSettings=yield this.backgroundApi.serviceNetwork.getVaultSettings({networkId});try{var action=yield this.buildHistoryTxAction({tx:onChainHistoryTx,tokens,nfts});var decodedTx={txid:onChainHistoryTx.tx,owner:accountAddress,signer:onChainHistoryTx.from,to:onChainHistoryTx.to,nonce:onChainHistoryTx.nonce,actions:[action],status:getOnChainHistoryTxStatus(onChainHistoryTx.status),networkId,accountId,xpub,totalFeeInNative:onChainHistoryTx.gasFee,totalFeeFiatValue:onChainHistoryTx.gasFeeFiatValue,nativeAmount:vaultSettings.isUtxo?onChainHistoryTx.value:undefined,extraInfo:yield this.buildOnChainHistoryTxExtraInfo({onChainHistoryTx}),payload:{type:onChainHistoryTx.type,value:onChainHistoryTx.value,label:onChainHistoryTx.label}};decodedTx.updatedAt=new Date(onChainHistoryTx.timestamp*1000).getTime();decodedTx.createdAt=decodedTx.updatedAt;decodedTx.isFinal=true;return yield this.buildHistoryTx({dbAccount,decodedTx,accountAddress,xpub});}catch(e){return null;}});function buildOnChainHistoryTx(_x27){return _buildOnChainHistoryTx.apply(this,arguments);}return buildOnChainHistoryTx;}();_proto2.buildHistoryTxAction=function(){var _buildHistoryTxAction=_asyncToGenerator(function*({tx,tokens,nfts}){if(tx.type===EOnChainHistoryTxType.Approve&&tx.tokenApprove){return this.buildHistoryTxApproveAction({tx,tokens,nfts,tokenApprove:tx.tokenApprove});}if(_isEmpty(tx.sends)&&_isEmpty(tx.receives)){if(tx.type)return this.buildHistoryTxFunctionCallAction({tx});return this.buildHistoryTxUnknownAction({tx});}return this.buildHistoryTransferAction({tx,tokens,nfts});});function buildHistoryTxAction(_x28){return _buildHistoryTxAction.apply(this,arguments);}return buildHistoryTxAction;}();_proto2.buildHistoryTxFunctionCallAction=function(){var _buildHistoryTxFunctionCallAction=_asyncToGenerator(function*({tx}){var network=yield this.getNetwork();return{type:EDecodedTxActionType.FUNCTION_CALL,functionCall:{from:tx.from,to:tx.to,functionName:tx.label,functionHash:tx.functionCode,args:tx.params}};});function buildHistoryTxFunctionCallAction(_x29){return _buildHistoryTxFunctionCallAction.apply(this,arguments);}return buildHistoryTxFunctionCallAction;}();_proto2.buildHistoryTxUnknownAction=function(){var _buildHistoryTxUnknownAction=_asyncToGenerator(function*({tx}){var network=yield this.getNetwork();return{type:EDecodedTxActionType.UNKNOWN,unknownAction:{from:tx.from,to:tx.to,label:tx.label}};});function buildHistoryTxUnknownAction(_x30){return _buildHistoryTxUnknownAction.apply(this,arguments);}return buildHistoryTxUnknownAction;}();_proto2.buildHistoryTransferAction=function(){var _buildHistoryTransferAction=_asyncToGenerator(function*({tx,tokens,nfts}){var _this3=this;return{type:EDecodedTxActionType.ASSET_TRANSFER,assetTransfer:{from:tx.from,to:tx.to,label:tx.label,sends:tx.sends.map(function(send){return _this3.buildHistoryTransfer({transfer:send,tokens,nfts});}),receives:tx.receives.map(function(receive){return _this3.buildHistoryTransfer({transfer:receive,tokens,nfts});})}};});function buildHistoryTransferAction(_x31){return _buildHistoryTransferAction.apply(this,arguments);}return buildHistoryTransferAction;}();_proto2.buildHistoryTransfer=function buildHistoryTransfer({transfer,tokens,nfts}){var{icon,symbol,name,isNFT,isNative,price}=getOnChainHistoryTxAssetInfo({key:transfer.key,tokenAddress:transfer.token,tokens,nfts});return{from:transfer.from,to:transfer.to,tokenIdOnNetwork:transfer.token,amount:transfer.amount,label:transfer.label,isOwn:transfer.isOwn,icon,name,symbol,isNFT,isNative,price};};_proto2.buildHistoryTxApproveAction=function buildHistoryTxApproveAction({tx,tokens,nfts,tokenApprove}){var{icon,symbol,name,decimals}=getOnChainHistoryTxAssetInfo({key:tokenApprove.key,tokenAddress:tokenApprove.token,tokens,nfts});return{type:EDecodedTxActionType.TOKEN_APPROVE,tokenApprove:{from:tx.from,to:tx.to,spender:tokenApprove.spender,icon,name,symbol,decimals,label:tx.label,tokenIdOnNetwork:tokenApprove.token,amount:new BigNumber(tokenApprove.amount).shiftedBy(-decimals).toFixed(),isInfiniteAmount:tokenApprove.isInfiniteAmount}};};_proto2.buildTxTransferAssetAction=function(){var _buildTxTransferAssetAction=_asyncToGenerator(function*(params){var{from,to,transfers,data,application,isInternalSwap,isInternalStaking,internalStakingLabel,swapReceivedAddress,swapReceivedNetworkId}=params;var[accountAddress,network]=yield Promise.all([this.getAccountAddress(),this.getNetwork()]);var sendNativeTokenAmountBN=new BigNumber(0);var assetTransfer={from,to,sends:[],receives:[],application,isInternalSwap,isInternalStaking,internalStakingLabel,swapReceivedAddress,swapReceivedNetworkId};transfers.forEach(function(transfer){if(buildTxActionDirection({from:transfer.from,to:transfer.to,accountAddress})===EDecodedTxDirection.OUT){assetTransfer.sends.push(transfer);if(transfer.isNative){sendNativeTokenAmountBN=sendNativeTokenAmountBN.plus(new BigNumber(transfer.amount));}}else{assetTransfer.receives.push(transfer);}});assetTransfer.nativeAmount=sendNativeTokenAmountBN.toFixed();assetTransfer.nativeAmountValue=chainValueUtils.convertAmountToChainValue({value:sendNativeTokenAmountBN,network});return{type:EDecodedTxActionType.ASSET_TRANSFER,data,assetTransfer};});function buildTxTransferAssetAction(_x32){return _buildTxTransferAssetAction.apply(this,arguments);}return buildTxTransferAssetAction;}();_proto2.buildInternalSwapAction=function(){var _buildInternalSwapAction=_asyncToGenerator(function*(params){var _swapSendToken$logoUR,_swapSendToken$name,_swapReceiveToken$log,_swapReceiveToken$nam,_providerInfo$provide;var{swapData,swapInfo,swapToAddress}=params;var swapSendToken=swapInfo.sender.token;var swapReceiveToken=swapInfo.receiver.token;var providerInfo=swapInfo.swapBuildResData.result.info;var otherFeeInfos=swapInfo.swapBuildResData.result.fee?.otherFeeInfos;var otherFeeInfoTransfers=[];var transfers=[{from:swapInfo.accountAddress,to:'',tokenIdOnNetwork:swapSendToken.contractAddress,icon:(_swapSendToken$logoUR=swapSendToken.logoURI)!=null?_swapSendToken$logoUR:'',name:(_swapSendToken$name=swapSendToken.name)!=null?_swapSendToken$name:'',symbol:swapSendToken.symbol,amount:swapInfo.sender.amount,isNFT:false,isNative:swapSendToken.isNative,networkId:swapInfo.sender.accountInfo.networkId},{from:'',to:swapInfo.receivingAddress,tokenIdOnNetwork:swapReceiveToken.contractAddress,icon:(_swapReceiveToken$log=swapReceiveToken.logoURI)!=null?_swapReceiveToken$log:'',name:(_swapReceiveToken$nam=swapReceiveToken.name)!=null?_swapReceiveToken$nam:'',symbol:swapReceiveToken.symbol,amount:swapInfo.receiver.amount,isNFT:false,isNative:swapReceiveToken.isNative,networkId:swapInfo.receiver.accountInfo.networkId}];if(otherFeeInfos){otherFeeInfos.forEach(function(feeInfo){if(feeInfo.token.contractAddress===transfers[0].tokenIdOnNetwork){transfers[0].amount=new BigNumber(transfers[0].amount).plus(feeInfo.amount).toFixed();}else{var _feeInfo$token$logoUR,_feeInfo$token$name;otherFeeInfoTransfers.push({from:swapInfo.accountAddress,to:'',tokenIdOnNetwork:feeInfo.token.contractAddress,icon:(_feeInfo$token$logoUR=feeInfo.token.logoURI)!=null?_feeInfo$token$logoUR:'',name:(_feeInfo$token$name=feeInfo.token.name)!=null?_feeInfo$token$name:'',symbol:feeInfo.token.symbol,amount:feeInfo.amount,isNFT:false,isNative:feeInfo.token.isNative,networkId:swapInfo.sender.accountInfo.networkId});}});}transfers=[...otherFeeInfoTransfers,...transfers];var action=yield this.buildTxTransferAssetAction({from:swapInfo.accountAddress,to:swapToAddress!=null?swapToAddress:'',data:swapData,application:{name:providerInfo.providerName,icon:(_providerInfo$provide=providerInfo.providerLogo)!=null?_providerInfo$provide:''},isInternalSwap:true,swapReceivedAddress:swapInfo.receivingAddress,swapReceivedNetworkId:swapInfo.receiver.token.networkId,transfers});return action;});function buildInternalSwapAction(_x33){return _buildInternalSwapAction.apply(this,arguments);}return buildInternalSwapAction;}();_proto2.buildInternalStakingAction=function(){var _buildInternalStakingAction=_asyncToGenerator(function*(params){var _send$token$logoURI,_send$token$name,_receive$token$logoUR,_receive$token$name;var{stakingInfo,stakingData,accountAddress,stakingToAddress}=params;var{protocol,protocolLogoURI,send,receive}=stakingInfo;var transfers=[send&&{from:accountAddress,to:'',tokenIdOnNetwork:send.token.address,icon:(_send$token$logoURI=send.token.logoURI)!=null?_send$token$logoURI:'',name:(_send$token$name=send.token.name)!=null?_send$token$name:'',symbol:send.token.symbol,amount:send.amount,isNFT:false,isNative:send.token.isNative},receive&&{from:'',to:accountAddress,tokenIdOnNetwork:receive.token.address,icon:(_receive$token$logoUR=receive.token.logoURI)!=null?_receive$token$logoUR:'',name:(_receive$token$name=receive.token.name)!=null?_receive$token$name:'',symbol:receive.token.symbol,amount:receive.amount,isNFT:false,isNative:receive.token.isNative}].filter(Boolean);var action=yield this.buildTxTransferAssetAction({from:accountAddress,to:stakingToAddress!=null?stakingToAddress:'',data:stakingData,application:{name:protocol,icon:protocolLogoURI!=null?protocolLogoURI:''},isInternalStaking:true,internalStakingLabel:getStakingActionLabel({stakingInfo}),transfers});return action;});function buildInternalStakingAction(_x34){return _buildInternalStakingAction.apply(this,arguments);}return buildInternalStakingAction;}();_proto2.signTransaction=function(){var _signTransaction=_asyncToGenerator(function*(params){var _params$signOnly,_signedTx$encodedTx;var{unsignedTx}=params;params.signOnly=(_params$signOnly=params.signOnly)!=null?_params$signOnly:true;var signedTx=yield this.keyring.signTransaction(params);return _objectSpread(_objectSpread({},signedTx),{},{encodedTx:(_signedTx$encodedTx=signedTx.encodedTx)!=null?_signedTx$encodedTx:unsignedTx.encodedTx});});function signTransaction(_x35){return _signTransaction.apply(this,arguments);}return signTransaction;}();_proto2.getAccount=function(){var _getAccount=_asyncToGenerator(function*({dbAccount}={}){var account=dbAccount;if(!account||account?.id!==this.accountId){account=yield this.backgroundApi.serviceAccount.getDBAccount({accountId:this.accountId});}if(!accountUtils.isAccountCompatibleWithNetwork({account,networkId:this.networkId})){throw new Error(`account impl not matched to network: ${this.networkId} ${account.id?.slice(0,30)}`);}var networkInfo=yield this.getNetworkInfo();var externalAccount=account;var externalAccountAddress='';if(externalAccount.connectedAddresses){var buildExternalAccountAddress=function({key,fallbackIndex}){var _externalAccount$sele;if(!key){return'';}var index=(_externalAccount$sele=externalAccount.selectedAddress?.[key])!=null?_externalAccount$sele:fallbackIndex;var addresses=externalAccount.connectedAddresses?.[key]?.split(',').filter(Boolean)||[];return addresses?.[index]||addresses?.[fallbackIndex]||'';};externalAccountAddress=buildExternalAccountAddress({key:this.networkId,fallbackIndex:-1});if(!externalAccountAddress){var impl=yield this.getNetworkImpl();externalAccountAddress=buildExternalAccountAddress({key:impl,fallbackIndex:0});}if(!externalAccountAddress){externalAccountAddress=buildExternalAccountAddress({key:this.networkId,fallbackIndex:0});}}var addressDetail=yield this.buildAccountAddressDetail({networkInfo,account,networkId:this.networkId,externalAccountAddress});var address=addressDetail?.address||'';if(!address&&!addressDetail.allowEmptyAddress||!addressDetail.isValid){throw new Error('VaultBase.getAccount ERROR: address is invalid');}return _objectSpread(_objectSpread({},account),{},{addressDetail,address});});function getAccount(){return _getAccount.apply(this,arguments);}return getAccount;}();_proto2.getAccountAddress=function(){var _getAccountAddress=_asyncToGenerator(function*(){return(yield this.getAccount()).address;});function getAccountAddress(){return _getAccountAddress.apply(this,arguments);}return getAccountAddress;}();_proto2.getAccountPath=function(){var _getAccountPath=_asyncToGenerator(function*(){return(yield this.getAccount()).path;});function getAccountPath(){return _getAccountPath.apply(this,arguments);}return getAccountPath;}();_proto2.getAccountXpub=function(){var _getAccountXpub=_asyncToGenerator(function*({dbAccount}={}){var networkAccount=yield this.getAccount({dbAccount});return this.getXpubFromAccount(networkAccount);});function getAccountXpub(){return _getAccountXpub.apply(this,arguments);}return getAccountXpub;}();_proto2.fillTokensDetails=function(){var _fillTokensDetails=_asyncToGenerator(function*({tokensDetails}){return Promise.resolve(tokensDetails);});function fillTokensDetails(_x36){return _fillTokensDetails.apply(this,arguments);}return fillTokensDetails;}();_proto2.fillAccountDetails=function(){var _fillAccountDetails=_asyncToGenerator(function*({accountDetails}){return Promise.resolve(accountDetails);});function fillAccountDetails(_x37){return _fillAccountDetails.apply(this,arguments);}return fillAccountDetails;}();_proto2.isEarliestLocalPendingTx=function(){var _isEarliestLocalPendingTx=_asyncToGenerator(function*({encodedTx}){return true;});function isEarliestLocalPendingTx(_x38){return _isEarliestLocalPendingTx.apply(this,arguments);}return isEarliestLocalPendingTx;}();_proto2.buildReplaceEncodedTx=function(){var _buildReplaceEncodedTx=_asyncToGenerator(function*({decodedTx,replaceType}){return Promise.resolve(decodedTx.encodedTx);});function buildReplaceEncodedTx(_x39){return _buildReplaceEncodedTx.apply(this,arguments);}return buildReplaceEncodedTx;}();_proto2.attachFeeInfoToDAppEncodedTx=function(){var _attachFeeInfoToDAppEncodedTx=_asyncToGenerator(function*(params){return Promise.resolve(params.encodedTx);});function attachFeeInfoToDAppEncodedTx(_x40){return _attachFeeInfoToDAppEncodedTx.apply(this,arguments);}return attachFeeInfoToDAppEncodedTx;}();_proto2.activateToken=function(){var _activateToken=_asyncToGenerator(function*(params){throw new NotImplemented();});function activateToken(_x41){return _activateToken.apply(this,arguments);}return activateToken;}();_proto2.getAddressType=function(){var _getAddressType=_asyncToGenerator(function*({address}){return Promise.resolve({});});function getAddressType(_x42){return _getAddressType.apply(this,arguments);}return getAddressType;}();_proto2.buildStakeEncodedTx=function buildStakeEncodedTx(params){return Promise.resolve(params);};_proto2.fetchAccountDetails=function(){var _fetchAccountDetails=_asyncToGenerator(function*(params){var isCustomNetwork=yield this.backgroundApi.serviceNetwork.isCustomNetwork({networkId:this.networkId});if(isCustomNetwork){return this.fetchAccountDetailsByRpc(params);}return this.fetchAccountDetailsByApi(params);});function fetchAccountDetails(_x43){return _fetchAccountDetails.apply(this,arguments);}return fetchAccountDetails;}();_proto2.fetchAccountDetailsByApi=function(){var _fetchAccountDetailsByApi=_asyncToGenerator(function*(params){var queryParams=_objectSpread({},_omit(params,['accountId','signal']));var client=yield this.backgroundApi.serviceAccountProfile.getClient(EServiceEndpointEnum.Wallet);var resp=yield client.get(`/wallet/v1/account/get-account?${qs.stringify(_omitBy(queryParams,_isNil))}`,{headers:yield this.backgroundApi.serviceAccountProfile._getWalletTypeHeader({accountId:params.accountId}),signal:params.signal});return resp;});function fetchAccountDetailsByApi(_x44){return _fetchAccountDetailsByApi.apply(this,arguments);}return fetchAccountDetailsByApi;}();_proto2.fetchAccountDetailsByRpc=function(){var _fetchAccountDetailsByRpc=_asyncToGenerator(function*(params){throw new NotImplemented();});function fetchAccountDetailsByRpc(_x45){return _fetchAccountDetailsByRpc.apply(this,arguments);}return fetchAccountDetailsByRpc;}();_proto2.fetchTokenList=function(){var _fetchTokenList=_asyncToGenerator(function*(params){var isCustomNetwork=yield this.backgroundApi.serviceNetwork.isCustomNetwork({networkId:this.networkId});if(isCustomNetwork){return this.fetchTokenListByRpc(params);}return this.fetchTokenListByApi(params);});function fetchTokenList(_x46){return _fetchTokenList.apply(this,arguments);}return fetchTokenList;}();_proto2.fetchTokenListByApi=function(){var _fetchTokenListByApi=_asyncToGenerator(function*(params){var{serviceToken,serviceAccountProfile}=this.backgroundApi;var{requestApiParams,flag,signal,accountId}=params;if(requestApiParams.contractList){requestApiParams.contractList=requestApiParams.contractList.filter(function(contract){return contract!==null&&typeof contract==='string';});}var client=yield serviceToken.getClient(EServiceEndpointEnum.Wallet);var resp=yield client.post(`/wallet/v1/account/token/list?flag=${flag||''}`,requestApiParams,{signal,headers:yield serviceAccountProfile._getWalletTypeHeader({accountId})});return resp;});function fetchTokenListByApi(_x47){return _fetchTokenListByApi.apply(this,arguments);}return fetchTokenListByApi;}();_proto2.fetchTokenListByRpc=function(){var _fetchTokenListByRpc=_asyncToGenerator(function*(params){throw new NotImplemented();});function fetchTokenListByRpc(_x48){return _fetchTokenListByRpc.apply(this,arguments);}return fetchTokenListByRpc;}();_proto2.estimateFee=function(){var _estimateFee=_asyncToGenerator(function*(params){var isCustomNetwork=yield this.backgroundApi.serviceNetwork.isCustomNetwork({networkId:this.networkId});if(isCustomNetwork){return this.estimateFeeByRpc(params);}return this.estimateFeeByApi(params);});function estimateFee(_x49){return _estimateFee.apply(this,arguments);}return estimateFee;}();_proto2.estimateFeeByApi=function(){var _estimateFeeByApi=_asyncToGenerator(function*(params){var{accountId}=params,rest=_objectWithoutProperties(params,_excluded);var client=yield this.backgroundApi.serviceGas.getClient(EServiceEndpointEnum.Wallet);var resp=yield client.post('/wallet/v1/account/estimate-fee',rest,{headers:yield this.backgroundApi.serviceAccountProfile._getWalletTypeHeader({accountId})});return resp;});function estimateFeeByApi(_x50){return _estimateFeeByApi.apply(this,arguments);}return estimateFeeByApi;}();_proto2.estimateFeeByRpc=function(){var _estimateFeeByRpc=_asyncToGenerator(function*(params){throw new NotImplemented();});function estimateFeeByRpc(_x51){return _estimateFeeByRpc.apply(this,arguments);}return estimateFeeByRpc;}();_proto2.fetchAccountHistoryDetail=function(){var _fetchAccountHistoryDetail=_asyncToGenerator(function*(params){var isCustomNetwork=yield this.backgroundApi.serviceNetwork.isCustomNetwork({networkId:this.networkId});if(isCustomNetwork){return this.fetchAccountHistoryDetailByRpc(params);}return this.fetchAccountHistoryDetailByApi(params);});function fetchAccountHistoryDetail(_x52){return _fetchAccountHistoryDetail.apply(this,arguments);}return fetchAccountHistoryDetail;}();_proto2.fetchAccountHistoryDetailByApi=function(){var _fetchAccountHistoryDetailByApi=_asyncToGenerator(function*(params){var{accountId}=params,rest=_objectWithoutProperties(params,_excluded2);var client=yield this.backgroundApi.serviceGas.getClient(EServiceEndpointEnum.Wallet);var resp=yield client.get('/wallet/v1/account/history/detail',{params:rest,headers:yield this.backgroundApi.serviceAccountProfile._getWalletTypeHeader({accountId})});return resp;});function fetchAccountHistoryDetailByApi(_x53){return _fetchAccountHistoryDetailByApi.apply(this,arguments);}return fetchAccountHistoryDetailByApi;}();_proto2.fetchAccountHistoryDetailByRpc=function(){var _fetchAccountHistoryDetailByRpc=_asyncToGenerator(function*(params){throw new NotImplemented();});function fetchAccountHistoryDetailByRpc(_x54){return _fetchAccountHistoryDetailByRpc.apply(this,arguments);}return fetchAccountHistoryDetailByRpc;}();_proto2.buildOkxSwapEncodedTx=function(){var _buildOkxSwapEncodedTx=_asyncToGenerator(function*(params){throw new NotImplemented();});function buildOkxSwapEncodedTx(_x55){return _buildOkxSwapEncodedTx.apply(this,arguments);}return buildOkxSwapEncodedTx;}();return _createClass(VaultBase);}(VaultBaseChainOnly);","import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import accountUtils from'@onekeyhq/shared/src/utils/accountUtils';import networkUtils from'@onekeyhq/shared/src/utils/networkUtils';import{getVaultSettings as _getVaultSettings,getVaultSettingsNetworkInfo}from\"../settings\";export var VaultContext=function(){function VaultContext(options){this.options=options;this.networkId=options.networkId||'';this.accountId=options.accountId||'';this.backgroundApi=options.backgroundApi;this.walletId=options.walletId||(this.accountId?accountUtils.getWalletIdFromAccountId({accountId:this.accountId}):'');if(!this.walletId&&!this.options.isChainOnly){throw new Error('can not get correct walletId');}}var _proto=VaultContext.prototype;_proto.getNetworkId=function(){var _getNetworkId=_asyncToGenerator(function*(){return this.networkId;});function getNetworkId(){return _getNetworkId.apply(this,arguments);}return getNetworkId;}();_proto.getNetwork=function(){var _getNetwork=_asyncToGenerator(function*({cached}={}){if(!cached||!this._network||this._network.id!==this.networkId){var network=yield this.backgroundApi.serviceNetwork.getNetwork({networkId:this.networkId});this._network=network;}return this._network;});function getNetwork(){return _getNetwork.apply(this,arguments);}return getNetwork;}();_proto.getNetworkChainId=function(){var _getNetworkChainId=_asyncToGenerator(function*({hex=false}={}){return networkUtils.getNetworkChainId({networkId:this.networkId,hex});});function getNetworkChainId(){return _getNetworkChainId.apply(this,arguments);}return getNetworkChainId;}();_proto.getNetworkImpl=function(){var _getNetworkImpl=_asyncToGenerator(function*(){return networkUtils.getNetworkImpl({networkId:this.networkId});});function getNetworkImpl(){return _getNetworkImpl.apply(this,arguments);}return getNetworkImpl;}();_proto.getVaultSettings=function(){var _getVaultSettings2=_asyncToGenerator(function*(){return _getVaultSettings({networkId:this.networkId});});function getVaultSettings(){return _getVaultSettings2.apply(this,arguments);}return getVaultSettings;}();_proto.getNetworkInfo=function(){var _getNetworkInfo=_asyncToGenerator(function*(){return getVaultSettingsNetworkInfo({networkId:this.networkId});});function getNetworkInfo(){return _getNetworkInfo.apply(this,arguments);}return getNetworkInfo;}();_proto.getCoreApiNetworkInfo=function(){var _getCoreApiNetworkInfo=_asyncToGenerator(function*(){var network=yield this.getNetwork();var networkInfo=yield this.getNetworkInfo();var{addressPrefix,curve}=networkInfo;var networkImpl=yield this.getNetworkImpl();var chainId=yield this.getNetworkChainId({hex:false});var{isTestnet}=network;var{networkId}=this;return{isTestnet,networkChainCode:network.code,chainId,networkId,networkImpl,addressPrefix,curve};});function getCoreApiNetworkInfo(){return _getCoreApiNetworkInfo.apply(this,arguments);}return getCoreApiNetworkInfo;}();_proto.getRpcUrl=function(){var _getRpcUrl=_asyncToGenerator(function*(){return'';});function getRpcUrl(){return _getRpcUrl.apply(this,arguments);}return getRpcUrl;}();_proto.destroy=function(){var _destroy=_asyncToGenerator(function*(){});function destroy(){return _destroy.apply(this,arguments);}return destroy;}();return _createClass(VaultContext);}();","import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import{NotImplemented}from'@onekeyhq/shared/src/errors';import{KeyringExternalBase}from\"../../base/KeyringExternalBase\";export var KeyringExternal=function(_KeyringExternalBase){_inherits(KeyringExternal,_KeyringExternalBase);var _super=_createSuper(KeyringExternal);function KeyringExternal(){return _super.apply(this,arguments);}var _proto=KeyringExternal.prototype;_proto.signMessage=function signMessage(params){throw new NotImplemented();};_proto.signTransaction=function signTransaction(params){throw new NotImplemented();};return _createClass(KeyringExternal);}(KeyringExternalBase);","import sdk from'@onekeyhq/core/src/chains/ada/sdkAda/sdk';export default sdk;","var CardanoAddressTypeBASE=0;export var getChangeAddress=function(dbAccount){var path=`${dbAccount.path}/0/0`;return{address:dbAccount.address,addressParameters:{path,addressType:CardanoAddressTypeBASE,stakingPath:`${path.slice(0,-3)}2/0`}};};","import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import{transformToOneKeyInputs,transformToOneKeyOutputs}from'@onekeyhq/core/src/chains/ada/sdkAda/transformations';import{EAdaNetworkId}from'@onekeyhq/core/src/chains/ada/types';import coreChainApi from'@onekeyhq/core/src/instance/coreChainApi';import{NotImplemented}from'@onekeyhq/shared/src/errors';import{convertDeviceError}from'@onekeyhq/shared/src/errors/utils/deviceErrorUtils';import{CoreSDKLoader}from'@onekeyhq/shared/src/hardware/instance';import accountUtils from'@onekeyhq/shared/src/utils/accountUtils';import{checkIsDefined}from'@onekeyhq/shared/src/utils/assertUtils';import{KeyringHardwareBase}from\"../../base/KeyringHardwareBase\";import sdk from\"./sdkAda\";import{getChangeAddress}from\"./sdkAda/adaUtils\";var ProtocolMagic=764_824_073;var getCardanoConstant=function(){var _ref=_asyncToGenerator(function*(){var{PROTO}=yield CoreSDKLoader();return{addressType:PROTO.CardanoAddressType.BASE,derivationType:PROTO.CardanoDerivationType.ICARUS,protocolMagic:ProtocolMagic,networkId:EAdaNetworkId.MAINNET};});return function getCardanoConstant(){return _ref.apply(this,arguments);};}();export var KeyringHardware=function(_KeyringHardwareBase){_inherits(KeyringHardware,_KeyringHardwareBase);var _super=_createSuper(KeyringHardware);function KeyringHardware(...args){var _this;_this=_super.call(this,...args);_this.coreApi=coreChainApi.ada.hd;_this.hwSdkNetwork='ada';return _this;}var _proto=KeyringHardware.prototype;_proto.buildPrepareAccountsPrefixedPath=function buildPrepareAccountsPrefixedPath(params){var fullPath=accountUtils.buildPathFromTemplate({template:params.template,index:params.index});return accountUtils.removePathLastSegment({path:fullPath,removeCount:2});};_proto.buildHwAllNetworkPrepareAccountsParams=function(){var _buildHwAllNetworkPrepareAccountsParams=_asyncToGenerator(function*(params){return{network:this.hwSdkNetwork,path:this.buildPrepareAccountsPrefixedPath({template:params.template,index:params.index}),showOnOneKey:false};});function buildHwAllNetworkPrepareAccountsParams(_x){return _buildHwAllNetworkPrepareAccountsParams.apply(this,arguments);}return buildHwAllNetworkPrepareAccountsParams;}();_proto.prepareAccounts=function(){var _prepareAccounts=_asyncToGenerator(function*(params){var _this2=this;return this.basePrepareHdUtxoAccounts(params,{checkIsAccountUsed:function(){return Promise.resolve({isUsed:true});},buildAddressesInfo:function(){var _ref2=_asyncToGenerator(function*({usedIndexes}){var addressesInfo=yield _this2.baseGetDeviceAccountAddresses({params,usedIndexes,sdkGetAddressFn:function(){var _ref3=_asyncToGenerator(function*({connectId,deviceId,pathPrefix,showOnOnekeyFn,template}){var buildFullPath=function(p){return accountUtils.buildPathFromTemplate({template,index:p.index});};var buildPrefixedPath=function(p){return _this2.buildPrepareAccountsPrefixedPath({template,index:p.index});};var allNetworkAccounts=yield _this2.getAllNetworkPrepareAccounts({params,usedIndexes,buildPath:buildPrefixedPath,buildResultAccount:function({account}){return{path:account.path,address:account.payload?.address||'',xpub:account.payload?.xpub||'',serializedPath:account.payload?.serializedPath||'',stakeAddress:account.payload?.stakeAddress||''};},hwSdkNetwork:_this2.hwSdkNetwork});if(allNetworkAccounts){return allNetworkAccounts;}throw new Error('use sdk allNetworkGetAddress instead');});return function sdkGetAddressFn(_x4){return _ref3.apply(this,arguments);};}()});var ret=[];var firstAddressRelPath='0/0';var stakingAddressRelPath='2/0';for(var addressInfo of addressesInfo){var{address,xpub,serializedPath,stakeAddress}=addressInfo;if(address){var addresses={[firstAddressRelPath]:address};if(stakeAddress){addresses[stakingAddressRelPath]=stakeAddress;}var formattedPath=accountUtils.formatUtxoPath(serializedPath);ret.push({address,publicKey:'',path:formattedPath,relPath:firstAddressRelPath,xpub:xpub!=null?xpub:'',addresses});}}return ret;});return function buildAddressesInfo(_x3){return _ref2.apply(this,arguments);};}()});});function prepareAccounts(_x2){return _prepareAccounts.apply(this,arguments);}return prepareAccounts;}();_proto.signTransaction=function(){var _signTransaction=_asyncToGenerator(function*(params){var{PROTO}=yield CoreSDKLoader();var HardwareSDK=yield this.getHardwareSDKInstance();var deviceParams=checkIsDefined(params.deviceParams);var{connectId,deviceId}=deviceParams.dbDevice;var vault=this.vault;var{unsignedTx}=params;var encodedTx=unsignedTx.encodedTx;var dbAccount=yield this.vault.getAccount();var changeAddress=getChangeAddress(dbAccount);var{derivationType,networkId,protocolMagic}=yield getCardanoConstant();var utxos=yield vault._collectUTXOsInfoByApi({address:dbAccount.address,path:dbAccount.path,addresses:dbAccount.addresses,xpub:dbAccount.xpub});var{inputs,outputs,fee,tx}=encodedTx;var isSignOnly=!!encodedTx.signOnly;var{rawTxHex}=tx;var CardanoApi=yield sdk.getCardanoApi();var cardanoParams;if(isSignOnly&&rawTxHex){var stakingPath=`${dbAccount.path.split('/').slice(0,4).join('/')}/2/0`;var keys={payment:{hash:null,path:dbAccount.path},stake:{hash:null,path:stakingPath}};cardanoParams=yield CardanoApi.txToOneKey(rawTxHex,networkId,keys,dbAccount.xpub,changeAddress);}else{cardanoParams={signingMode:PROTO.CardanoTxSigningMode.ORDINARY_TRANSACTION,outputs:transformToOneKeyOutputs(outputs,changeAddress.addressParameters),fee,protocolMagic,networkId};}var res=yield HardwareSDK.cardanoSignTransaction(connectId,deviceId,_objectSpread(_objectSpread({},params.deviceParams?.deviceCommonParams),{},{inputs:transformToOneKeyInputs(inputs,utxos),derivationType},cardanoParams));if(!res.success){throw convertDeviceError(res.payload);}var signedTx=yield CardanoApi.hwSignTransaction(tx.body,res.payload.witnesses,{signOnly:!!encodedTx.signOnly});return{rawTx:signedTx,txid:tx.hash,encodedTx};});function signTransaction(_x5){return _signTransaction.apply(this,arguments);}return signTransaction;}();_proto.signMessage=function(){var _signMessage=_asyncToGenerator(function*(params){throw new NotImplemented();});function signMessage(_x6){return _signMessage.apply(this,arguments);}return signMessage;}();return _createClass(KeyringHardware);}(KeyringHardwareBase);","import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import coreChainApi from'@onekeyhq/core/src/instance/coreChainApi';import{KeyringHdBase}from\"../../base/KeyringHdBase\";export var KeyringHd=function(_KeyringHdBase){_inherits(KeyringHd,_KeyringHdBase);var _super=_createSuper(KeyringHd);function KeyringHd(...args){var _this;_this=_super.call(this,...args);_this.coreApi=coreChainApi.ada.hd;return _this;}var _proto=KeyringHd.prototype;_proto.getPrivateKeys=function(){var _getPrivateKeys=_asyncToGenerator(function*(params){return this.baseGetPrivateKeys(params);});function getPrivateKeys(_x){return _getPrivateKeys.apply(this,arguments);}return getPrivateKeys;}();_proto.exportAccountSecretKeys=function(){var _exportAccountSecretKeys=_asyncToGenerator(function*(params){return this.baseExportAccountSecretKeys(params);});function exportAccountSecretKeys(_x2){return _exportAccountSecretKeys.apply(this,arguments);}return exportAccountSecretKeys;}();_proto.prepareAccounts=function(){var _prepareAccounts=_asyncToGenerator(function*(params){return this.basePrepareAccountsHdUtxo(params,{checkIsAccountUsed:function(){return Promise.resolve({isUsed:true});}});});function prepareAccounts(_x3){return _prepareAccounts.apply(this,arguments);}return prepareAccounts;}();_proto.signTransaction=function(){var _signTransaction=_asyncToGenerator(function*(params){return this.baseSignTransaction(params);});function signTransaction(_x4){return _signTransaction.apply(this,arguments);}return signTransaction;}();_proto.signMessage=function(){var _signMessage=_asyncToGenerator(function*(params){return this.baseSignMessage(params);});function signMessage(_x5){return _signMessage.apply(this,arguments);}return signMessage;}();return _createClass(KeyringHd);}(KeyringHdBase);","import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import coreChainApi from'@onekeyhq/core/src/instance/coreChainApi';import{KeyringImportedBase}from\"../../base/KeyringImportedBase\";export var KeyringImported=function(_KeyringImportedBase){_inherits(KeyringImported,_KeyringImportedBase);var _super=_createSuper(KeyringImported);function KeyringImported(...args){var _this;_this=_super.call(this,...args);_this.coreApi=coreChainApi.ada.imported;return _this;}var _proto=KeyringImported.prototype;_proto.getPrivateKeys=function(){var _getPrivateKeys=_asyncToGenerator(function*(params){return this.baseGetPrivateKeys(params);});function getPrivateKeys(_x){return _getPrivateKeys.apply(this,arguments);}return getPrivateKeys;}();_proto.exportAccountSecretKeys=function(){var _exportAccountSecretKeys=_asyncToGenerator(function*(params){return this.baseExportAccountSecretKeys(params);});function exportAccountSecretKeys(_x2){return _exportAccountSecretKeys.apply(this,arguments);}return exportAccountSecretKeys;}();_proto.prepareAccounts=function(){var _prepareAccounts=_asyncToGenerator(function*(params){return this.basePrepareAccountsImportedUtxo(params);});function prepareAccounts(_x3){return _prepareAccounts.apply(this,arguments);}return prepareAccounts;}();_proto.signTransaction=function(){var _signTransaction=_asyncToGenerator(function*(params){return this.baseSignTransaction(params);});function signTransaction(_x4){return _signTransaction.apply(this,arguments);}return signTransaction;}();_proto.signMessage=function(){var _signMessage=_asyncToGenerator(function*(params){return this.baseSignMessage(params);});function signMessage(_x5){return _signMessage.apply(this,arguments);}return signMessage;}();return _createClass(KeyringImported);}(KeyringImportedBase);","import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import _get from\"@babel/runtime/helpers/get\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import{InvalidAccount}from'@onekeyhq/shared/src/errors';import{ETranslations}from'@onekeyhq/shared/src/locale';import{KeyringWatchingBase}from\"../../base/KeyringWatchingBase\";export var KeyringWatching=function(_KeyringWatchingBase){_inherits(KeyringWatching,_KeyringWatchingBase);var _super=_createSuper(KeyringWatching);function KeyringWatching(){return _super.apply(this,arguments);}var _proto=KeyringWatching.prototype;_proto.prepareAccounts=function(){var _prepareAccounts=_asyncToGenerator(function*(params){var{address}=params;var addressInfo;try{[addressInfo]=yield this.backgroundApi.serviceAccountProfile.sendProxyRequest({networkId:this.networkId,body:[{route:'rpc',params:{method:'GET',params:[],url:`/addresses/${address}`}}]});}catch{throw new InvalidAccount({key:ETranslations.feedback_address_not_activated_message});}var firstAddressRelPath='0/0';var stakingAddressPath='2/0';var addresses={[firstAddressRelPath]:address,[stakingAddressPath]:addressInfo.stake_address};return _get(_getPrototypeOf(KeyringWatching.prototype),\"basePrepareUtxoWatchingAccounts\",this).call(this,_objectSpread(_objectSpread({},params),{},{addresses}));});function prepareAccounts(_x){return _prepareAccounts.apply(this,arguments);}return prepareAccounts;}();return _createClass(KeyringWatching);}(KeyringWatchingBase);","import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import Axios from'axios';import timerUtils from'@onekeyhq/shared/src/utils/timerUtils';export var ClientAda=function(){function ClientAda({url}){this.axios=Axios.create({baseURL:url,timeout:timerUtils.getTimeDurationMs({seconds:30})});}var _proto=ClientAda.prototype;_proto.latestBlock=function(){var _latestBlock=_asyncToGenerator(function*(){var _res$height;var res=yield this.axios.get('/blocks/latest').then(function(i){return i.data;});return{height:Number((_res$height=res.height)!=null?_res$height:0)};});function latestBlock(){return _latestBlock.apply(this,arguments);}return latestBlock;}();_proto.submitTx=function(){var _submitTx=_asyncToGenerator(function*({data}){var tx=null;if(typeof data==='string'){tx=Buffer.from(data,'hex');}else{tx=Buffer.from(data);}return this.axios.post('/tx/submit',tx,{headers:{'Content-Type':'application/cbor'}}).then(function(i){return i.data;});});function submitTx(_x){return _submitTx.apply(this,arguments);}return submitTx;}();return _createClass(ClientAda);}();","import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _isEmpty from\"lodash/isEmpty\";import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import BigNumber from'bignumber.js';import{decodePrivateKeyByXprv,validBootstrapAddress,validShelleyAddress}from'@onekeyhq/core/src/chains/ada/sdkAda';import{decodeSensitiveText,encodeSensitiveText}from'@onekeyhq/core/src/secret';import{InvalidAddress,LowerTransactionAmountError,OneKeyInternalError}from'@onekeyhq/shared/src/errors';import{ETranslations}from'@onekeyhq/shared/src/locale';import{appLocale}from'@onekeyhq/shared/src/locale/appLocale';import bufferUtils from'@onekeyhq/shared/src/utils/bufferUtils';import{memoizee}from'@onekeyhq/shared/src/utils/cacheUtils';import chainValueUtils from'@onekeyhq/shared/src/utils/chainValueUtils';import timerUtils from'@onekeyhq/shared/src/utils/timerUtils';import{EDecodedTxActionType,EDecodedTxStatus}from'@onekeyhq/shared/types/tx';import{VaultBase}from\"../../base/VaultBase\";import{KeyringExternal}from\"./KeyringExternal\";import{KeyringHardware}from\"./KeyringHardware\";import{KeyringHd}from\"./KeyringHd\";import{KeyringImported}from\"./KeyringImported\";import{KeyringWatching}from\"./KeyringWatching\";import sdk from\"./sdkAda\";import{getChangeAddress}from\"./sdkAda/adaUtils\";import{ClientAda}from\"./sdkAda/ClientAda\";var Vault=function(_VaultBase){_inherits(Vault,_VaultBase);var _super=_createSuper(Vault);function Vault(...args){var _this;_this=_super.call(this,...args);_this.keyringMap={hd:KeyringHd,qr:undefined,hw:KeyringHardware,imported:KeyringImported,watching:KeyringWatching,external:KeyringExternal};_this._collectUTXOsInfoByApi=memoizee(function(){var _ref=_asyncToGenerator(function*(params){var{path,address,xpub}=params;try{var{utxoList}=yield _this.backgroundApi.serviceAccountProfile.fetchAccountDetails({networkId:_this.networkId,accountId:_this.accountId,withUTXOList:true,cardanoPubKey:xpub});if(!utxoList||_isEmpty(utxoList)){return[];}var pathIndex=path.split('/')[3];return utxoList.map(function(utxo){var _utxo$amount;var{path:utxoPath}=utxo;if(utxoPath&&utxoPath.length>0){var pathArray=utxoPath.split('/');pathArray.splice(3,1,pathIndex);utxoPath=pathArray.join('/');}return{address:utxo.address,amount:(_utxo$amount=utxo.amount)!=null?_utxo$amount:[],datum_hash:utxo.datumHash,output_index:utxo.txIndex,path:utxoPath,reference_script_hash:utxo.referenceScriptHash,tx_hash:utxo.txid,tx_index:utxo.txIndex};});}catch(e){throw new OneKeyInternalError(appLocale.intl.formatMessage({id:ETranslations.feedback_failed_to_get_utxos}));}});return function(_x){return _ref.apply(this,arguments);};}(),{promise:true,max:1,maxAge:timerUtils.getTimeDurationMs({seconds:30})});_this._getInputOrOutputBalance=function(amounts,decimals,asset='lovelace'){var _item$0$quantity;var item=amounts.filter(function(amount){return amount.unit===asset;});if(!item||item.length<=0){return{balance:'0',balanceValue:'0'};}var amount=(_item$0$quantity=item[0]?.quantity)!=null?_item$0$quantity:'0';return{balance:new BigNumber(amount).shiftedBy(-decimals).toFixed(),balanceValue:amount};};_this._getOutputAmount=function(outputs,decimals,asset='lovelace'){var _assetAmount$quantity,_assetAmount$quantity2;var realOutput=outputs.find(function(output){return!output.isChange;});if(!realOutput){return{amount:new BigNumber(0).shiftedBy(-decimals).toFixed(),amountValue:'0'};}if(asset==='lovelace'){return{amount:new BigNumber(realOutput.amount).shiftedBy(-decimals).toFixed(),amountValue:realOutput.amount};}var assetAmount=realOutput.assets.find(function(token){return token.unit===asset;});return{amount:new BigNumber((_assetAmount$quantity=assetAmount?.quantity)!=null?_assetAmount$quantity:0).shiftedBy(-decimals).toFixed(),amountValue:(_assetAmount$quantity2=assetAmount?.quantity)!=null?_assetAmount$quantity2:'0'};};_this._getStakeAddress=memoizee(function(){var _ref2=_asyncToGenerator(function*(address){var _dbAccount$addresses$;if(address&&validShelleyAddress(address)&&address.startsWith('stake')){return address;}var dbAccount=yield _this.getAccount();return(_dbAccount$addresses$=dbAccount.addresses?.['2/0'])!=null?_dbAccount$addresses$:'';});return function(_x2){return _ref2.apply(this,arguments);};}(),{maxAge:timerUtils.getTimeDurationMs({seconds:30}),promise:true});return _this;}var _proto=Vault.prototype;_proto.buildAccountAddressDetail=function(){var _buildAccountAddressDetail=_asyncToGenerator(function*(params){var{account,networkId}=params;var{address}=account;return Promise.resolve({networkId,normalizedAddress:address,displayAddress:address,address,baseAddress:address,isValid:true,allowEmptyAddress:false});});function buildAccountAddressDetail(_x3){return _buildAccountAddressDetail.apply(this,arguments);}return buildAccountAddressDetail;}();_proto.buildEncodedTx=function(){var _buildEncodedTx=_asyncToGenerator(function*(params){var{transfersInfo}=params;if(!transfersInfo||_isEmpty(transfersInfo)){throw new OneKeyInternalError('transfersInfo is required');}if(transfersInfo.length>1){throw new OneKeyInternalError('Only one transfer is allowed');}var transferInfo=transfersInfo[0];if(!transferInfo.to){throw new Error('buildEncodedTx ERROR: transferInfo.to is missing');}var{to,amount,tokenInfo}=transferInfo;var dbAccount=yield this.getAccount();var{path,addresses,xpub}=dbAccount;var network=yield this.getNetwork();var{decimals,feeMeta}=network;var utxos=yield this._collectUTXOsInfoByApi({address:dbAccount.address,path,addresses,xpub});var amountBN=new BigNumber(amount);var output;if(tokenInfo?.address){output={address:to,amount:undefined,assets:[{quantity:amountBN.shiftedBy(tokenInfo?.decimals).toFixed(),unit:tokenInfo?.address}]};}else{output={address:to,amount:amountBN.shiftedBy(decimals).toFixed(),assets:[]};}var CardanoApi=yield sdk.getCardanoApi();var txPlan;try{txPlan=yield CardanoApi.composeTxPlan(transferInfo,dbAccount.xpub,utxos,dbAccount.address,[output]);}catch(e){var utxoValueTooSmall='UTXO_VALUE_TOO_SMALL';var insufficientBalance='UTXO_BALANCE_INSUFFICIENT';if([utxoValueTooSmall,insufficientBalance].includes(e.code)||[utxoValueTooSmall,insufficientBalance].includes(e.message)){throw new LowerTransactionAmountError();}throw e;}var changeAddress=getChangeAddress(dbAccount);var{fee,inputs,outputs,totalSpent,tx}=txPlan;var totalFeeInNative=new BigNumber(fee).shiftedBy(-1*feeMeta.decimals).toFixed();return{inputs,outputs,fee,totalSpent,totalFeeInNative,tx,changeAddress,signOnly:false};});function buildEncodedTx(_x4){return _buildEncodedTx.apply(this,arguments);}return buildEncodedTx;}();_proto.buildDecodedTx=function(){var _buildDecodedTx=_asyncToGenerator(function*(params){var _this2=this;var{unsignedTx}=params;var encodedTx=unsignedTx.encodedTx;var{inputs,outputs}=encodedTx;var network=yield this.getNetwork();var account=yield this.getAccount();var nativeToken=yield this.backgroundApi.serviceToken.getToken({accountId:this.accountId,networkId:this.networkId,tokenIdOnNetwork:''});var utxoFrom=inputs.map(function(input){var{balance,balanceValue}=_this2._getInputOrOutputBalance(input.amount,network.decimals);return{address:input.address,balance,balanceValue,symbol:network.symbol,isMine:true};});var utxoTo=outputs.filter(function(output){return!output.isChange;}).map(function(output){return{address:output.address,balance:chainValueUtils.convertChainValueToAmount({value:output.amount,network}),balanceValue:output.amount,symbol:network.symbol,isMine:output.address===account.address};});var actions=[{type:EDecodedTxActionType.UNKNOWN,unknownAction:{from:account.address,to:utxoTo[0].address}}];var nativeAmountMap=this._getOutputAmount(outputs,network.decimals);if(nativeToken){var sends=[];for(var output of outputs.filter(function(o){return!o.isChange;})){var _nativeToken$logoURI;for(var asset of output.assets){var token=yield this.backgroundApi.serviceToken.getToken({accountId:this.accountId,networkId:this.networkId,tokenIdOnNetwork:asset.unit});if(token){var _token$logoURI;sends.push({from:account.address,to:output.address,isNative:false,tokenIdOnNetwork:asset.unit,name:token.name,icon:(_token$logoURI=token.logoURI)!=null?_token$logoURI:'',amount:new BigNumber(asset.quantity).shiftedBy(-network.decimals).toFixed(),amountValue:asset.quantity,symbol:token.symbol});}}sends.push({from:account.address,to:output.address,isNative:true,tokenIdOnNetwork:'',name:nativeToken.name,icon:(_nativeToken$logoURI=nativeToken.logoURI)!=null?_nativeToken$logoURI:'',amount:new BigNumber(output.amount).shiftedBy(-network.decimals).toFixed(),amountValue:output.amount,symbol:network.symbol});}sends.sort(function(a,b){if(a.isNative&&!b.isNative){return-1;}if(!a.isNative&&b.isNative){return 1;}return 0;});actions=[{type:EDecodedTxActionType.ASSET_TRANSFER,assetTransfer:{from:account.address,to:utxoTo[0].address,sends,receives:[],utxoFrom,utxoTo}}];}return{txid:'',owner:account.address,signer:account.address,nonce:0,actions,to:utxoTo[0].address,status:EDecodedTxStatus.Pending,networkId:this.networkId,accountId:this.accountId,xpub:account.xpub,extraInfo:null,encodedTx,totalFeeInNative:encodedTx.totalFeeInNative,nativeAmount:nativeAmountMap.amount,nativeAmountValue:nativeAmountMap.amountValue};});function buildDecodedTx(_x5){return _buildDecodedTx.apply(this,arguments);}return buildDecodedTx;}();_proto.buildUnsignedTx=function(){var _buildUnsignedTx=_asyncToGenerator(function*(params){if(params.encodedTx){var _params$transfersInfo;var _existEncodedTx=params.encodedTx;return{encodedTx:params.encodedTx,transfersInfo:(_params$transfersInfo=params.transfersInfo)!=null?_params$transfersInfo:[_existEncodedTx.transferInfo],txSize:new BigNumber(_existEncodedTx.totalFeeInNative).toNumber()};}var encodedTx=yield this.buildEncodedTx(params);if(encodedTx){return{encodedTx,transfersInfo:params.transfersInfo,txSize:new BigNumber(encodedTx.totalFeeInNative).toNumber()};}throw new OneKeyInternalError('Failed to build unsigned tx');});function buildUnsignedTx(_x6){return _buildUnsignedTx.apply(this,arguments);}return buildUnsignedTx;}();_proto.updateUnsignedTx=function updateUnsignedTx(params){return Promise.resolve(params.unsignedTx);};_proto.validateAddress=function validateAddress(address){if(address.length<35){return Promise.reject(new InvalidAddress());}if(validShelleyAddress(address)||validBootstrapAddress(address)){return Promise.resolve({isValid:true,normalizedAddress:address,displayAddress:address});}return Promise.reject(new InvalidAddress());};_proto.validateXpub=function validateXpub(xpub){return Promise.resolve({isValid:false});};_proto.getPrivateKeyFromImported=function getPrivateKeyFromImported(params){var input=decodeSensitiveText({encodedText:params.input});var privateKey=bufferUtils.bytesToHex(decodePrivateKeyByXprv(input));privateKey=encodeSensitiveText({text:privateKey});return Promise.resolve({privateKey});};_proto.validateXprvt=function validateXprvt(xprvt){var isValid=/^xprv/.test(xprvt)&&xprvt.length>=165;return Promise.resolve({isValid});};_proto.validatePrivateKey=function(){var _validatePrivateKey=_asyncToGenerator(function*(privateKey){return Promise.resolve({isValid:false});});function validatePrivateKey(_x7){return _validatePrivateKey.apply(this,arguments);}return validatePrivateKey;}();_proto.validateGeneralInput=function(){var _validateGeneralInput=_asyncToGenerator(function*(params){var{result}=yield this.baseValidateGeneralInput(params);return result;});function validateGeneralInput(_x8){return _validateGeneralInput.apply(this,arguments);}return validateGeneralInput;}();_proto.getXpubFromAccount=function(){var _getXpubFromAccount=_asyncToGenerator(function*(networkAccount){var dbAccount=networkAccount;var stakeAddress=dbAccount.addresses?.['2/0'];return stakeAddress;});function getXpubFromAccount(_x9){return _getXpubFromAccount.apply(this,arguments);}return getXpubFromAccount;}();_proto.getBalanceForDapp=function(){var _getBalanceForDapp=_asyncToGenerator(function*(){var stakeAddress=yield this._getStakeAddress();var rawBalance={controlled_amount:'0'};var assetsBalance=[];try{var[_rawBalance,_assetsBalance]=yield this.backgroundApi.serviceAccountProfile.sendProxyRequest({networkId:this.networkId,body:[{route:'rpc',params:{method:'GET',params:[],url:`/accounts/${stakeAddress}`}},{route:'rpc',params:{method:'GET',params:[],url:`/accounts/${stakeAddress}/addresses/assets`}}]});rawBalance=_rawBalance;assetsBalance=_assetsBalance;}catch(e){}var balance={unit:'lovelace',quantity:rawBalance.controlled_amount};var result=[balance,...assetsBalance];var CardanoApi=yield sdk.getCardanoApi();return CardanoApi.dAppGetBalance(result);});function getBalanceForDapp(){return _getBalanceForDapp.apply(this,arguments);}return getBalanceForDapp;}();_proto.getUtxosForDapp=function(){var _getUtxosForDapp=_asyncToGenerator(function*(amount){var dbAccount=yield this.getAccount();var{address,xpub,path,addresses}=dbAccount;var utxos=yield this._collectUTXOsInfoByApi({address,addresses,path,xpub});var CardanoApi=yield sdk.getCardanoApi();return CardanoApi.dAppGetUtxos(dbAccount.address,utxos,amount);});function getUtxosForDapp(_x10){return _getUtxosForDapp.apply(this,arguments);}return getUtxosForDapp;}();_proto.getAccountAddressForDapp=function(){var _getAccountAddressForDapp=_asyncToGenerator(function*(){var dbAccount=yield this.getAccount();var CardanoApi=yield sdk.getCardanoApi();return CardanoApi.dAppGetAddresses([dbAccount.address]);});function getAccountAddressForDapp(){return _getAccountAddressForDapp.apply(this,arguments);}return getAccountAddressForDapp;}();_proto.getStakeAddressForDapp=function(){var _getStakeAddressForDapp=_asyncToGenerator(function*(){var dbAccount=yield this.getAccount();var stakeAddress=yield this._getStakeAddress(dbAccount.address);var CardanoApi=yield sdk.getCardanoApi();return CardanoApi.dAppGetAddresses([stakeAddress]);});function getStakeAddressForDapp(){return _getStakeAddressForDapp.apply(this,arguments);}return getStakeAddressForDapp;}();_proto.buildTxCborToEncodeTx=function(){var _buildTxCborToEncodeTx=_asyncToGenerator(function*(txHex){var dbAccount=yield this.getAccount();var changeAddress=getChangeAddress(dbAccount);var stakeAddress=yield this._getStakeAddress(dbAccount.address);var[associatedAddresses]=yield this.backgroundApi.serviceAccountProfile.sendProxyRequest({networkId:this.networkId,body:[{route:'rpc',params:{method:'GET',params:[],url:`/accounts/${stakeAddress}/addresses`}}]});var{address,xpub,path,addresses:accountAddresses}=dbAccount;var utxos=yield this._collectUTXOsInfoByApi({address,addresses:accountAddresses,path,xpub});var CardanoApi=yield sdk.getCardanoApi();var addresses=associatedAddresses.map(function(i){return i.address;});var encodeTx=yield CardanoApi.dAppConvertCborTxToEncodeTx(txHex,utxos,addresses,changeAddress);return _objectSpread(_objectSpread({},encodeTx),{},{changeAddress});});function buildTxCborToEncodeTx(_x11){return _buildTxCborToEncodeTx.apply(this,arguments);}return buildTxCborToEncodeTx;}();_proto.getCustomRpcEndpointStatus=function(){var _getCustomRpcEndpointStatus=_asyncToGenerator(function*(params){var start=performance.now();var client=new ClientAda({url:params.rpcUrl});var result=yield client.latestBlock();return{responseTime:Math.floor(performance.now()-start),bestBlockNumber:result.height};});function getCustomRpcEndpointStatus(_x12){return _getCustomRpcEndpointStatus.apply(this,arguments);}return getCustomRpcEndpointStatus;}();_proto.broadcastTransactionFromCustomRpc=function(){var _broadcastTransactionFromCustomRpc=_asyncToGenerator(function*(params){var{customRpcInfo,signedTx}=params;var rpcUrl=customRpcInfo.rpc;if(!rpcUrl){throw new OneKeyInternalError('Invalid rpc url');}var client=new ClientAda({url:rpcUrl});try{yield client.submitTx({data:signedTx.rawTx});}catch(err){throw err;}return _objectSpread(_objectSpread({},params.signedTx),{},{txid:signedTx.txid});});function broadcastTransactionFromCustomRpc(_x13){return _broadcastTransactionFromCustomRpc.apply(this,arguments);}return broadcastTransactionFromCustomRpc;}();return _createClass(Vault);}(VaultBase);export{Vault as default};","export var EVaultKeyringTypes=function(EVaultKeyringTypes){EVaultKeyringTypes[\"hd\"]=\"hd\";EVaultKeyringTypes[\"qr\"]=\"qr\";EVaultKeyringTypes[\"hardware\"]=\"hardware\";EVaultKeyringTypes[\"imported\"]=\"imported\";EVaultKeyringTypes[\"watching\"]=\"watching\";EVaultKeyringTypes[\"external\"]=\"external\";return EVaultKeyringTypes;}({});export var EWrappedType=function(EWrappedType){EWrappedType[\"DEPOSIT\"]=\"deposit\";EWrappedType[\"WITHDRAW\"]=\"withdraw\";return EWrappedType;}({});"],"names":["encodeAddress","address","addressType","getAddressType","AddressTypes","BOOTSTRAP","base58","encode","addressPrefixes","BASE","POINTER","ENTERPRISE","REWARD","isTestnet","getShelleyAddressNetworkId","TESTNET_OR_PREPROD","addressPrefix","bech32","xpub2blake2b224Hash","xpub","getPubKeyBlake2b224Hash","slice","xpub2pub","stakingAddressFromXpub","stakeXpub","networkId","addrBuffer","packRewardAddress","baseAddressFromXpub","spendXpub","packBaseAddress","validShelleyAddress","startsWith","isValidShelleyAddress","validBootstrapAddress","isValidBootstrapAddress","DERIVATION_SCHEME","getPathIndex","path","split","getRootKey","_x","_x2","_getRootKey","apply","this","arguments","password","hdCredential","mnemonic","mnemonicToRootKeypair","getXprvString","_x3","_x4","_getXprvString","entropy","rootKey","Buffer","concat","generateExportedCredential","_x5","_x6","_x7","_generateExportedCredential","index","from","decodePrivateKeyByXprv","xprv","decodeXprv","decode","data","publicKey","toPublic","encodePrivateKey","privateKey","toString","generateXprvFromPrivateKey","shelleyStakeAccountPath","account","derivePath","paths","reduce","prev","derivePrivate","deriveXpub","deriveSecret","ShelleyStakingAccountProvider","accountIndex","pathStake","ShelleyBaseAddressProvider","derivationPath","pathSpend","deriveAccountXpub","map","item","join","_ref","batchGetShelleyAddressByRootKey","indexes","baseAddress","stakingAddress","batchGetShelleyAddresses","getCardanoApi","Loader","composeTxPlan","onekeyUtils","signTransaction","hwSignTransaction","trezorUtils","txToOneKey","dAppGetBalance","dAppUtils","getBalance","dAppGetAddresses","getAddresses","dAppGetUtxos","getUtxos","dAppConvertCborTxToEncodeTx","convertCborTxToEncodeTx","dAppSignData","signData","adaWebSdk","ensureSDKReady","Promise","resolve","ownKeys","e","r","t","Object","keys","getOwnPropertySymbols","o","filter","getOwnPropertyDescriptor","enumerable","push","_objectSpread","length","forEach","getOwnPropertyDescriptors","defineProperties","defineProperty","transformToOneKeyInputs","utxos","onekeyUtxos","utxo","utxoWithPath","find","u","tx_hash","txHash","output_index","outputIndex","Error","prev_hash","prev_index","parseAsset","hex","policyId","assetNameInHex","transformToTokenBundle","assets","uniquePolicies","asset","unit","includes","assetsByPolicy","assetsInPolicy","assetInfo","assetNameBytes","amount","quantity","tokenAmounts","transformToOneKeyOutputs","outputs","changeAddressParameters","output","isChange","addressParameters","tokenBundle","slicePathTemplate","template","getUtxoAccountPrefixPath","fullPath","pathComponent","pop","getBIP44Path","realPath","key","value","entries","addresses","estimateTxSize","inputsForCoinSelect","outputsForCoinSelect","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","result","Super","NewTarget","constructor","Reflect","construct","Boolean","prototype","valueOf","call","KeyringBase","_VaultContext","_super","vault","_this","options","_basePrepareHdNormalAccounts","_basePrepareHdUtxoAccounts","_batchGetAddresses","_exportAccountSecretKeys","_buildHwAllNetworkPrepareAccountsParams","_proto","isKeyringImported","keyringType","imported","isKeyringHd","hd","isKeyringHardware","hardware","isKeyringWatching","watching","basePrepareHdNormalAccounts","params","walletId","names","deriveInfo","coinType","namePrefix","idSuffix","settings","getVaultSettings","accountType","buildAddressesInfo","usedIndexes","addressInfos","ret","idx","relPath","VARIANT","pathIndex","name","buildHDAccountName","id","buildHDAccountId","indexedAccountId","buildIndexedAccountId","type","impl","pub","basePrepareHdUtxoAccounts","skipCheckAccountExist","UTXO","checkIsAccountUsed","accountCreatePerf","utxoBuildAddressesInfo","addressesInfo","utxoBuildAddressesInfoDone","buildDBUtxoAccounts","xpubSegwit","prefix","isLast","isUsed","wait","buildDBUtxoAccountsDone","batchGetAddresses","exportAccountSecretKeys","buildHwAllNetworkPrepareAccountsParams","buildPrepareAccountsPrefixedPath","_KeyringBase","KeyringBaseMock","_super2","KeyringExternalBase","args","external","_baseSignMessageByExternalWallet","_baseSendTransactionByExternalWallet","_basePrepareExternalAccounts","baseSignMessageByExternalWallet","backgroundApi","serviceDappSide","signMessage","getAccount","baseSendTransactionByExternalWallet","sendTransaction","prepareAccounts","basePrepareExternalAccounts","KeyringHardwareBase","_getHardwareSDKInstance","_baseGetDeviceAccountData","_baseGetDeviceAccountPublicKeys","_baseGetDeviceAccountAddresses","_getAllNetworkPrepareAccounts","getHardwareSDKInstance","$backgroundApiProxy","serviceHardware","getSDKInstance","getHardwareSDKInstanceDone","baseGetDeviceAccountData","sdkGetDataFn","errorMessage","deviceParams","dbDevice","confirmOnDevice","connectId","deviceId","coinName","pathPrefix","pathSuffix","showOnOnekeyFn","arrIndex","EveryItem","LastItem","baseGetDeviceAccountPublicKeys","sdkGetPublicKeysFn","baseGetDeviceAccountAddresses","sdkGetAddressFn","getAllNetworkPrepareAccounts","hwSdkNetwork","buildPath","buildResultAccount","hwAllNetworkPrepareAccountsResponse","resultAccounts","_loop","network","success","payload","hasErrorItem","error","indexOf","KeyringHdBase","_KeyringSoftwareBase","KeyringImportedBase","KeyringSoftwareBase","_baseGetCredentialsInfo","_baseSignTransactionBtc","_baseSignTransaction","_baseSignMessage","_baseSignMessageBtc","_basePrepareAccountsImported","_basePrepareAccountsImportedUtxo","_basePrepareAccountsHd","_basePrepareAccountsHdUtxo","_baseExportAccountSecretKeys","_baseGetPrivateKeys","baseGetCredentialsInfo","getCredential","credential","accountId","baseSignTransactionBtc","coreApi","unsignedTx","signOnly","credentials","networkInfo","getCoreApiNetworkInfo","btcExtraInfo","relPaths","prepareBtcSignExtraInfo","baseSignTransaction","baseSignMessage","messages","all","msg","unsignedMsg","baseSignMessageBtc","_this2","unsignedMessage","basePrepareAccountsImported","importedCredential","networks","createAtNetwork","onlyAvailableOnCertainNetworks","coinTypeDefault","privateKeyRaw","getAddressFromPrivate","addressEncoding","addressUsed","buildImportedAccountId","undefined","basePrepareAccountsImportedUtxo","_x8","basePrepareAccountsHd","_ref2","_this3","getAddressesFromHd","_x10","_x9","basePrepareAccountsHdUtxo","_ref3","_this4","getCredentialsInfo","getAddressesFromHdDone","_x13","_x11","_x12","baseExportAccountSecretKeys","keyType","serviceNetwork","getDeriveTypeByTemplate","getExportedSecretKey","_x14","baseGetPrivateKeys","getPrivateKeys","_x15","KeyringWatchingBase","_signTransaction","_signMessage","_basePrepareUtxoWatchingAccounts","_basePrepareSimpleWatchingAccounts","a","intl","formatMessage","ETranslations","wallet_error_trade_with_watched_acocunt","basePrepareUtxoWatchingAccounts","isUrlAccount","buildWatchingAccountId","addressFromXpub","getAddressFromPublic","basePrepareSimpleWatchingAccounts","SIMPLE","_excluded","_excluded2","VaultBase","_VaultBaseChainOnly","uuid","mutexBuildOnChainHistoryTxGetDBAccount","_init","_initKeyring","_broadcastTransaction","_broadcastTransactionFromCustomRpc","_validateSendAmount","_buildOnChainHistoryTxExtraInfo","_precheckUnsignedTx","_buildEstimateFeeParams","_buildParseTransactionParams","_buildFetchHistoryListParams","_buildHistoryTx","_buildOnChainHistoryTx","_buildHistoryTxAction","_buildHistoryTxFunctionCallAction","_buildHistoryTxUnknownAction","_buildHistoryTransferAction","_buildTxTransferAssetAction","_buildInternalSwapAction","_buildInternalStakingAction","_getAccount","_getAccountAddress","_getAccountPath","_getAccountXpub","_fillTokensDetails","_fillAccountDetails","_isEarliestLocalPendingTx","_buildReplaceEncodedTx","_attachFeeInfoToDAppEncodedTx","_activateToken","_getAddressType","_fetchAccountDetails","_fetchAccountDetailsByApi","_fetchAccountDetailsByRpc","_fetchTokenList","_fetchTokenListByApi","_fetchTokenListByRpc","_estimateFee","_estimateFeeByApi","_estimateFeeByRpc","_fetchAccountHistoryDetail","_fetchAccountHistoryDetailByApi","_fetchAccountHistoryDetailByRpc","_buildOkxSwapEncodedTx","_proto2","init","config","initKeyring","_x16","isChainOnly","keyring","keyringCreator","_x17","broadcastTransaction","signedTx","txid","serviceSend","encodedTx","_x18","broadcastTransactionFromCustomRpc","_x19","validateSendAmount","_x20","buildOnChainHistoryTxExtraInfo","onChainHistoryTx","_x21","precheckUnsignedTx","_x22","buildEstimateFeeParams","_x23","buildParseTransactionParams","_x24","buildFetchHistoryListParams","_x25","buildHistoryTx","historyTxToMerge","decodedTx","isSigner","isLocalCreated","dbAccount","accountAddress","x","serviceAccount","getAccountAddressForApi","getAccountXpub","owner","signer","historyTx","buildLocalHistoryId","_x26","fixOnChainHistoryAccountData","originAccountId","originNetworkId","originAccountAddress","originXpub","allNetworkHistoryExtraItems","onekeyall","allNetworkAccount","i","_","txXpub","accountXpub","buildOnChainHistoryTx","tokens","nfts","dbAccountCache","runExclusive","getDBAccountSafe","vaultSettings","action","buildHistoryTxAction","tx","to","nonce","actions","status","totalFeeInNative","gasFee","totalFeeFiatValue","gasFeeFiatValue","nativeAmount","isUtxo","extraInfo","label","updatedAt","Date","timestamp","getTime","createdAt","isFinal","_x27","Approve","tokenApprove","buildHistoryTxApproveAction","sends","receives","buildHistoryTxFunctionCallAction","buildHistoryTxUnknownAction","buildHistoryTransferAction","_x28","getNetwork","FUNCTION_CALL","functionCall","functionName","functionHash","functionCode","_x29","UNKNOWN","unknownAction","_x30","ASSET_TRANSFER","assetTransfer","send","buildHistoryTransfer","transfer","receive","_x31","icon","symbol","isNFT","isNative","price","tokenAddress","token","tokenIdOnNetwork","isOwn","decimals","TOKEN_APPROVE","spender","shiftedBy","toFixed","isInfiniteAmount","buildTxTransferAssetAction","transfers","application","isInternalSwap","isInternalStaking","internalStakingLabel","swapReceivedAddress","swapReceivedNetworkId","getAccountAddress","sendNativeTokenAmountBN","OUT","plus","nativeAmountValue","convertAmountToChainValue","_x32","buildInternalSwapAction","_swapSendToken$logoUR","_swapSendToken$name","_swapReceiveToken$log","_swapReceiveToken$nam","_providerInfo$provide","swapData","swapInfo","swapToAddress","swapSendToken","sender","swapReceiveToken","receiver","providerInfo","swapBuildResData","info","otherFeeInfos","fee","otherFeeInfoTransfers","contractAddress","logoURI","accountInfo","receivingAddress","feeInfo","_feeInfo$token$logoUR","_feeInfo$token$name","providerName","providerLogo","_x33","buildInternalStakingAction","_send$token$logoURI","_send$token$name","_receive$token$logoUR","_receive$token$name","stakingInfo","stakingData","stakingToAddress","protocol","protocolLogoURI","_x34","_params$signOnly","_signedTx$encodedTx","_x35","getDBAccount","isAccountCompatibleWithNetwork","getNetworkInfo","externalAccount","externalAccountAddress","connectedAddresses","buildExternalAccountAddress","fallbackIndex","_externalAccount$sele","selectedAddress","getNetworkImpl","addressDetail","buildAccountAddressDetail","allowEmptyAddress","isValid","getAccountPath","networkAccount","getXpubFromAccount","fillTokensDetails","tokensDetails","_x36","fillAccountDetails","accountDetails","_x37","isEarliestLocalPendingTx","_x38","buildReplaceEncodedTx","replaceType","_x39","attachFeeInfoToDAppEncodedTx","_x40","activateToken","_x41","_x42","buildStakeEncodedTx","fetchAccountDetails","isCustomNetwork","fetchAccountDetailsByRpc","fetchAccountDetailsByApi","_x43","queryParams","client","serviceAccountProfile","getClient","Wallet","get","headers","_getWalletTypeHeader","signal","_x44","_x45","fetchTokenList","fetchTokenListByRpc","fetchTokenListByApi","_x46","serviceToken","requestApiParams","flag","contractList","contract","post","_x47","_x48","estimateFee","estimateFeeByRpc","estimateFeeByApi","_x49","rest","serviceGas","_x50","_x51","fetchAccountHistoryDetail","fetchAccountHistoryDetailByRpc","fetchAccountHistoryDetailByApi","_x52","_x53","_x54","buildOkxSwapEncodedTx","_x55","VaultBaseChainOnly","_getXpubFromAccount","_proxyJsonRPCCall","_addressFromBase","_addressToBase","_baseValidatePrivateKey","_baseValidateGeneralInput","_baseGetPrivateKeyFromImported","_validateAmountInputShown","_checkIsDomainName","_resolveDomainName","_getCustomRpcEndpointStatus","_checkFeeSupportInfo","_fetchTokenDetails","_fetchTokenDetailsByApi","_fetchTokenDetailsByRpc","proxyJsonRPCCall","request","addressFromBase","addressToBase","baseValidatePrivateKey","baseValidateGeneralInput","addressResult","xpubResult","xprvtResult","privateKeyResult","input","encodedText","validateAddress","validateXprvt","validateXpub","validatePrivateKey","inputDecoded","baseGetPrivateKeyFromImported","stripHexPrefix","text","validateAmountInputShown","toAddress","checkIsDomainName","resolveDomainName","getCustomRpcEndpointStatus","checkFeeSupportInfo","fetchTokenDetails","fetchTokenDetailsByRpc","fetchTokenDetailsByApi","_params$signal","VaultContext","getWalletIdFromAccountId","_getNetworkId","_getNetwork","_getNetworkChainId","_getNetworkImpl","_getVaultSettings2","_getNetworkInfo","_getCoreApiNetworkInfo","_getRpcUrl","_destroy","getNetworkId","cached","_network","getNetworkChainId","curve","networkImpl","chainId","networkChainCode","code","getRpcUrl","destroy","KeyringExternal","_KeyringExternalBase","getChangeAddress","stakingPath","getCardanoConstant","PROTO","CardanoAddressType","derivationType","CardanoDerivationType","ICARUS","protocolMagic","MAINNET","KeyringHardware","_KeyringHardwareBase","coreChainApi","ada","_prepareAccounts","accountUtils","buildPathFromTemplate","removePathLastSegment","removeCount","showOnOneKey","allNetworkAccounts","p","serializedPath","stakeAddress","addressInfo","formattedPath","formatUtxoPath","cardanoParams","HardwareSDK","changeAddress","_collectUTXOsInfoByApi","inputs","isSignOnly","rawTxHex","CardanoApi","payment","hash","stake","signingMode","CardanoTxSigningMode","ORDINARY_TRANSACTION","res","cardanoSignTransaction","deviceCommonParams","rawTx","body","witnesses","KeyringHd","_KeyringHdBase","_getPrivateKeys","KeyringImported","_KeyringImportedBase","KeyringWatching","_KeyringWatchingBase","sendProxyRequest","route","method","url","feedback_address_not_activated_message","stake_address","ClientAda","axios","A","create","baseURL","timeout","timerUtils","getTimeDurationMs","seconds","_latestBlock","_submitTx","latestBlock","_res$height","then","height","Number","submitTx","Vault","_VaultBase","keyringMap","qr","hw","utxoList","withUTXOList","cardanoPubKey","_utxo$amount","utxoPath","pathArray","splice","datum_hash","datumHash","txIndex","reference_script_hash","referenceScriptHash","tx_index","appLocale","feedback_failed_to_get_utxos","promise","max","maxAge","_getInputOrOutputBalance","amounts","_item$0$quantity","balance","balanceValue","_getOutputAmount","_assetAmount$quantity","_assetAmount$quantity2","realOutput","amountValue","assetAmount","_getStakeAddress","_dbAccount$addresses$","_buildAccountAddressDetail","_buildEncodedTx","_buildDecodedTx","_buildUnsignedTx","_validatePrivateKey","_validateGeneralInput","_getBalanceForDapp","_getUtxosForDapp","_getAccountAddressForDapp","_getStakeAddressForDapp","_buildTxCborToEncodeTx","normalizedAddress","displayAddress","buildEncodedTx","transfersInfo","transferInfo","tokenInfo","feeMeta","amountBN","txPlan","utxoValueTooSmall","insufficientBalance","message","totalSpent","buildDecodedTx","nativeToken","getToken","utxoFrom","isMine","utxoTo","chainValueUtils","convertChainValueToAmount","nativeAmountMap","_nativeToken$logoURI","_token$logoURI","sort","b","Pending","buildUnsignedTx","_params$transfersInfo","_existEncodedTx","txSize","toNumber","updateUnsignedTx","reject","getPrivateKeyFromImported","bufferUtils","bytesToHex","xprvt","test","validateGeneralInput","getBalanceForDapp","rawBalance","controlled_amount","assetsBalance","_rawBalance","_assetsBalance","getUtxosForDapp","getAccountAddressForDapp","getStakeAddressForDapp","buildTxCborToEncodeTx","txHex","associatedAddresses","accountAddresses","start","performance","now","rpcUrl","responseTime","Math","floor","bestBlockNumber","customRpcInfo","rpc","err","EVaultKeyringTypes","EWrappedType"],"sourceRoot":""}