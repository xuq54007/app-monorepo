{"version":3,"file":"static/js/5736.48cb8bc6af.chunk.js","mappings":"o1BAAouC,SAASA,4BAA2B,SAACC,EAAQ,UAACC,IAAY,IAAiLC,GAA9K,cAACC,IAAe,QAAiB,CAACC,IAAI,IAAQC,GAAW,SAAuBC,GAAK,SAAcC,GAAQ,IAAAC,aAAOC,GAAeC,GAAkB,IAAAC,cAA2BT,GAAK,QAAkB,WAAU,QAACU,IAAU,IAAIC,EAAON,GAASO,SAASC,YAAgBF,GAAsDR,EAAzBO,EAAQ,UAAU,QAA8B,KAA4BI,0BAA0B,CAAChB,WAASC,UAAUY,EAAOZ,WAAY,IAAU,SAASgB,GAAI,OAAOf,EAAKgB,MAAMC,KAAKC,UAAW,GAAM,CAACf,EAAWL,IAAeqB,GAAgB,IAAAb,SAAO,GAAO,OAAO,UAAM,EAAAc,KAAK,CAACC,eAAc,EAAKC,iBAAgB,EAAK,sBAAsB,OAAO,wBAAwB,6BAA6B,0BAA0B,8IAA8IC,SAAS,EAAC,SAAK,EAAAH,KAAKI,OAAO,CAACC,MAAMrB,EAAKsB,cAAc,CAACC,GAAG,EAAAC,cAAcC,2BAA2B,sBAAsB,UAAU,0BAA0B,iJAAgJ,UAAM,EAAAT,KAAKU,KAAK,CAACC,EAAE,KAAK,sBAAsB,UAAU,0BAA0B,8IAA8IR,SAAS,EAAC,SAAK,IAA2B,CAACS,4BAA2B,EAAKC,iBAAiBlC,IAAW,SAAmBmC,UAAUC,uBAAkB5B,EAAU6B,YAAY,IAAIC,aAAaC,OAAO,MAA2CC,iBAAiB,UAAS,aAACC,IAAmBA,GAAmBhC,EAAkB,CAACE,SAAQ,GAAQ,EAAEL,QAAQA,EAAQ,sBAAsB,6BAA6B,0BAA0B,gJAAoZ,SAAQ,SAAK,EAAAe,KAAKqB,OAAO,CAACC,mBAAmB,CAACC,UAAS,GAAOC,WAAU,QAAkB,YAAY,IAAI,IAAIC,EAAsB,GAAG1B,EAAgBP,QAAS,OAAqC,GAA7BO,EAAgBP,SAAQ,EAAQkC,OAAOC,KAAkE,OAA5DF,EAAsBxC,GAASO,SAASoC,WAAWC,QAAcJ,EAAsB,CAAC,GAAGK,OAAsC,YAA9B/B,EAAgBP,SAAQ,SAAoBP,EAAQO,SAASuC,cAA4BC,GAAM,QAAkB,UAAUzC,GAAQ,IAAI0C,EAAe1C,GAAQZ,UAAU,GAAG,KAAayC,aAAa,CAACzC,UAAUsD,IAAiB,CAAC,IAAIC,EAAaC,QAAoB,IAAmBC,gBAAgBC,6BAA6B,CAAC3D,WAAS4D,OAAO,IAAuBC,uBAAuB,IAAIC,EAAkC,OAA5BN,EAAa3C,GAAQiD,MAAYN,EAAa,IAAQO,EAAqC,OAA9BN,EAAc5C,GAAQkD,OAAaN,EAAcjB,OAAO,MAA+CwB,EAAQC,SAASH,EAAK,IAAQI,EAASD,SAASF,EAAM,IAAQI,EAAWH,EAAQ,EAAMI,EAASD,EAAWD,EAAS,GAAE,OAAuC,CAAC7D,aAAWgE,eAAe,CAACN,MAAMG,WAAkB,IAAWI,KAAK,WAAW,IAAmBC,0BAA0BC,0CAA0C,CAACxE,WAASyE,UAAUN,EAAWO,QAAQN,EAASO,gBAAgB,CAAC,EAAEC,UAAS,EAAKC,2BAA0B,EAAKC,qBAAoB,GAAO,YAAYpE,EAAkB,CAACE,SAAQ,GAAS,IAAU,SAASmE,GAAK,OAAOzB,EAAMpC,MAAMC,KAAKC,UAAW,GAAjkCb,EAA0kC,CAAC,QAAQc,EAAgBP,SAAQ,CAAM,CAAnlC,IAAewC,CAAqkC,IAAG,sBAAsB,UAAU,0BAA0B,kJAAmJ,CAAgB,SAAS0B,wBAAuB,MAACC,IAAQ,IAAIC,GAAiB,SAAClF,EAAQ,UAACC,GAAyC,OAA7BiF,EAAcD,EAAME,QAAcD,EAAc,CAAC,EAAE,OAAO,SAAK,KAA8B,CAACE,WAAW,CAAC,GAAGC,OAAO,CAACC,UAAU,KAA0BC,KAAKC,SAAS,IAAI,sBAAsB,gCAAgC,wBAAwB,yBAAyB,0BAA0B,8IAA8I/D,UAAS,SAAK1B,2BAA2B,CAACC,SAASA,EAASC,UAAUA,EAAU,sBAAsB,6BAA6B,0BAA0B,iJAAkJ,C,6JCAxgLwF,EAA0C,GAAcC,EAA6C,IAAeC,EAA8B,GAAG,GAAcC,EAA6BD,EAA8B,EAAE,GAAG,SAASE,2BAA0B,KAACC,EAAI,aAACpD,EAAY,2BAACR,IAA6B,IAAI5B,GAAK,SAAcyF,GAAM,IAAAC,aAAeC,EAASC,IAAa,IAAAC,WAAUjE,GAAgCkE,GAAO,IAAAzF,cAAY,WAAWuF,GAAY,SAASG,GAAG,OAAOA,CAAE,GAAG,GAAE,IAAQC,EAAUR,EAAKS,MAAM,QAAYC,EAAWV,EAAKS,MAAM,SAAaE,EAAUX,EAAK5C,UAAUC,OAAOW,KAAS4C,GAAsB,IAAAC,UAAQ,WAAW,IAAIL,IAAYE,EAAY,MAAM,GAAI,IAAI1C,EAAKG,SAASqC,EAAU,IAA0CM,EAAG9C,EAA/BG,SAASuC,EAAW,IAAsB,EAA4F,MAAM,GAAvFlG,EAAKsB,cAAc,CAACC,GAAG,EAAAC,cAAc+E,iCAAiC,CAAC/C,OAAK8C,QAAqB,GAAE,CAACJ,EAAWF,EAAUhG,IAAO,OAAO,UAAM,EAAAwG,MAAM,CAAC,sBAAsB,QAAQ,wBAAwB,4BAA4B,0BAA0B,kJAAkJrF,SAAS,CAAES,EAAuX,MAA5V,UAAM,EAAA6E,OAAO,CAACC,IAAI,KAAKC,GAAG,KAAKC,GAAG,SAASC,QAAQf,EAAO3E,SAAS,EAAC,SAAK,EAAAqF,MAAM,CAACrF,UAAS,SAAK,EAAA2F,YAAY,CAACC,KAAK,gBAAgBC,MAAM,eAAe7F,SAASnB,EAAKsB,cAAc,CAACC,GAAG,EAAAC,cAAcyF,iCAAgC,SAAK,EAAAC,WAAW,CAACC,KAAKxB,EAAS,0BAA0B,yBAAyByB,QAAQ,WAAWP,QAAQf,QAAiB,SAAK,EAAAU,MAAM,CAACa,MAAM1B,EAAS,OAAExF,EAAUmH,OAAO3B,EAAS,OAAExF,EAAUoH,QAAQ5B,EAAS,OAAExF,EAAUqH,SAAS7B,EAAS,cAASxF,EAAU,sBAAsB,QAAQ,0BAA0B,kJAAkJgB,UAAS,SAAK,EAAAqF,MAAM,CAACiB,GAAI7F,OAAgCzB,EAAL,KAAe,sBAAsB,QAAQ,0BAA0B,kJAAkJgB,UAAS,UAAM,EAAAuG,KAAKC,MAAM,CAACC,MAAM5H,EAAKsB,cAAc,CAACC,GAAG,EAAAC,cAAcqG,6BAA6BC,KAAK,OAAOC,MAAM,CAACC,UAAS,EAAKC,SAAS,SAASC,GAAO,IAAIC,EAAS,IAAI,IAAUD,GAAO,OAAIA,GAAOC,EAASC,QAAgBpI,EAAKsB,cAAc,CAACC,GAAG,EAAAC,cAAc6G,0CAA6CF,EAASG,WAAW,IAAU,qCAAmD,EAAEC,SAAS,SAASC,GAAG,IAAIN,GAAOM,GAAGC,QAAQP,OAAO,IAAI5H,QAAQ,MAAM,IAAQ6H,EAAS,IAAI,IAAUxE,SAASuE,EAAM,KAASA,IAAOC,EAASC,QAA6CD,EAASG,WAAW,GAAI9C,EAAKkD,SAAS,OAAO,KAAgBP,EAASQ,uBAAuBrD,GAA+BE,EAAKkD,SAAS,OAAOpD,EAA6BsD,YAAoBpD,EAAKkD,SAAS,OAAOP,EAASU,WAApQrD,EAAKkD,SAAS,OAAO,GAA0P,GAAG,sBAAsB,UAAU,0BAA0B,kJAAkJvH,SAAS,EAAC,SAAK,EAAA2H,MAAM,CAACC,iBAAgB,EAAMC,YAAYhJ,EAAKsB,cAAc,CAACC,GAAG,EAAAC,cAAcqG,6BAA6Bd,KAAKtB,EAAMwD,KAAK,SAAS,QAAQ,sBAAsB,QAAQ,0BAA0B,oJAAqJ9C,EAAuE,MAA7D,SAAK,EAAAuB,KAAKwB,iBAAiB,CAAC/H,SAASiF,aAAuC,CAAQ,SAAS+C,4BAA2B,2BAACvH,EAA0B,iBAACwH,EAAgB,aAACnH,EAAY,kBAACF,EAAiB,YAACC,EAAW,iBAACH,EAAgB,iBAACM,EAAgB,QAAClC,IAAU,IAAID,GAAK,SAAcyF,GAAM,IAAAC,YAAeF,GAAK,IAAA6D,SAAQ,CAAC9I,OAAO,CAACZ,UAAUkC,EAAiByH,WAAWvH,EAAkByB,KAAKxB,EAAYyB,MAAMxB,GAAcsH,KAAK,WAAWC,eAAe,aAAgBvJ,IAASA,EAAQO,QAAQgF,GAAM,IAAIvC,EAAeuC,EAAKS,MAAM,aAAiB7D,GAAa,IAAAiE,UAAQ,WAAW,OAAO,KAAajE,aAAa,CAACzC,UAAUsD,GAAiB,GAAE,CAACA,IAAoJ,OAAnI,IAAAwG,YAAU,WAAWtH,IAAmB,CAACxC,UAAUsD,EAAeb,gBAAe,GAAE,CAACA,EAAaa,EAAed,KAA0B,UAAM,EAAAuF,KAAK,CAAClC,KAAKA,EAAK,sBAAsB,OAAO,wBAAwB,6BAA6B,0BAA0B,kJAAkJrE,SAAS,EAAC,SAAK,EAAAuG,KAAKC,MAAM,CAACC,MAAM5H,EAAKsB,cAAc,CAACC,GAAG,EAAAC,cAAckI,yBAAyB5B,KAAK,QAAQC,MAAM,CAACC,UAAS,EAAKC,SAAS,SAASC,EAAM3H,GAAQ,IAAI4H,EAAS,IAAI,IAAUD,GAAO,IAAIA,GAAOC,EAASC,QAAS,OAAOpI,EAAKsB,cAAc,CAACC,GAAG,EAAAC,cAAc6G,yCAA0C,IAAIsB,EAAIvH,EAAa+C,EAA0CC,EAA6C,GAAG7E,EAAOiD,KAAK,CAAC,IAAIoG,EAAQ,IAAI,IAAUrJ,EAAOiD,MAAM,IAAIoG,EAAQxB,QAAQ,CAAC,IAAIyB,EAAUxE,EAA8B,EAAEuE,EAAQE,WAAWH,EAAII,KAAKC,IAAIL,EAAIE,EAAW,CAAC,CAAC,OAAG1B,EAAS8B,cAAcN,GAAa3J,EAAKsB,cAAc,CAACC,GAAG,EAAAC,cAAc0I,oCAAoC,CAACP,SAAUxB,EAASG,WAAW,IAAU,qCAAmD,EAAEC,SAAS,SAASC,GAAG,IAAIN,GAAOM,GAAGC,QAAQP,OAAO,IAAI5H,QAAQ,MAAM,IAAQ6H,EAAS,IAAI,IAAUxE,SAASuE,EAAM,KAASA,IAAOC,EAASC,QAA8CD,EAASG,WAAW,GAAI9C,EAAKkD,SAAS,QAAQ,KAAalD,EAAKkD,SAAS,QAAQP,EAASU,WAA/HrD,EAAKkD,SAAS,QAAQ,GAAoH,GAAG,sBAAsB,UAAU,0BAA0B,kJAAkJvH,UAAS,SAAK,EAAA2H,MAAM,CAACC,iBAAgB,EAAMoB,OAAO,gCAAgCnB,YAAYhJ,EAAKsB,cAAc,CAACC,GAAG,EAAAC,cAAckI,yBAAyB3C,KAAKtB,EAAMwD,KAAK,SAAS,QAAQ,sBAAsB,QAAQ,0BAA0B,uJAAsJ,SAAK1D,0BAA0B,CAACC,KAAKA,EAAK5D,2BAA2BA,EAA2BQ,aAAaA,EAAa,sBAAsB,4BAA4B,0BAA0B,sJAAuJ,C,iNCA1tNgI,EAAU,CAAC,aAAa,kBAAkB,SAASC,QAAQ7B,EAAE8B,GAAG,IAAIC,EAAE7H,OAAOC,KAAK6F,GAAG,GAAG9F,OAAO8H,sBAAsB,CAAC,IAAIC,EAAE/H,OAAO8H,sBAAsBhC,GAAG8B,IAAIG,EAAEA,EAAEC,QAAO,SAASJ,GAAG,OAAO5H,OAAOiI,yBAAyBnC,EAAE8B,GAAGM,UAAW,KAAIL,EAAEM,KAAKjK,MAAM2J,EAAEE,EAAG,CAAC,OAAOF,CAAE,CAAs5B,SAASO,yBAAwB,WAAC/K,EAAU,eAACgE,IAAiB,IAAIgH,EAAsBC,EAAqBC,EAAuBC,EAA0BlL,GAAK,UAAcmL,EAAMC,IAAU,IAAAvF,eAAS1F,GAAekL,GAAO,IAAAhF,UAAQ,WAAW,OAAOiF,QAAQH,GAAOA,GAAOI,kBAAkBJ,GAAOK,cAAe,GAAE,CAACL,IAAYM,GAAQ,IAAApF,UAAQ,WAAW,OAAOiF,QAAQH,KAASA,GAAOO,MAAO,GAAE,CAACP,KAAYQ,EAAYC,IAAgB,IAAA/F,WAAS,IAAO,IAAA4D,YAAU,WAAW,IAAIoC,GAAG,SAASC,GAASV,EAASU,EAAS,EAA0D,OAAxD,KAAYC,GAAG,KAAkBC,mBAAmBH,IAAW,WAAW,KAAYI,IAAI,KAAkBD,mBAAmBH,GAAI,CAAE,GAAE,IAAI,IAAgqFK,EAA5pFC,EAAYd,GAAQM,GAAaF,EAAQ,OAAO,UAAM,EAAAjF,MAAM,CAAC,sBAAsB,QAAQ,wBAAwB,0BAA0B,0BAA0B,wIAAwIrF,SAAS,EAAC,SAAK,EAAAqF,MAAM,CAACG,GAAG,OAAOyF,GAAG,KAAK1F,IAAI,KAAK2F,KAAK,EAAEC,WAAW,SAASC,eAAe,SAAS,sBAAsB,QAAQ,0BAA0B,wIAAwIpL,UAAS,UAAM,EAAAqF,MAAM,CAAC6F,KAAK,EAAEC,WAAW,SAASC,eAAe,SAASC,UAAU,SAASC,EAAE,OAAOC,SAAS,MAAM,sBAAsB,QAAQ,0BAA0B,wIAAwIvL,SAAS,CAACkK,GAAO,SAAK,EAAAsB,KAAK,CAAC7E,KAAK,kBAAkBf,KAAK,MAAMC,MAAM,iBAAiB,MAAM2E,IAAaF,GAAWJ,EAAyE,MAAlE,SAAK,EAAAsB,KAAK,CAAC7E,KAAK,eAAef,KAAK,MAAMC,MAAM,kBAAwBmF,EAA2O,MAA/N,SAAK,EAAAS,SAAS,CAACnF,GAAG,KAAKgF,EAAE,OAAO1F,KAAK,SAASmB,MAAM6B,KAAK8C,MAAsD,OAA/C9B,EAAsBI,GAAOI,iBAAuBR,EAAsB,IAAiD,OAA5CC,EAAqBG,GAAOK,eAAqBR,EAAqB,GAAG,QAAY,SAAK,EAAAlE,YAAY,CAACW,GAAG,KAAKV,KAAK,UAAU+F,UAAU,SAAS,sBAAsB,cAAc,0BAA0B,wIAAwI3L,SAASnB,EAAKsB,cAAc,CAACC,GAAG,EAAAC,cAAcuL,8BAA8B,CAACC,OAAwD,OAAhD/B,EAAuBE,GAAOI,iBAAuBN,EAAuB,MAAMlH,GAAe,SAAK,EAAA+C,YAAY,CAACC,KAAK,UAAU+F,UAAU,SAAS3L,SAASnB,EAAKsB,cAAc,CAACC,GAAG,EAAAC,cAAcyL,uCAAuC,CAACD,OAAqD,OAA7C9B,EAAsBnH,EAAeN,OAAayH,EAAsB,MAAM,KAAoN,WAAU,SAAK,EAAAgC,OAAO7K,OAAO,CAAC8K,kBAAiB,EAAMC,mBAAkB,EAAK9K,mBAAmB,CAAC8E,QAAQ+E,EAAY,UAAU,YAAYhC,OAAO,iCAAiCkD,cAAclB,EAAYnM,EAAKsB,cAAc,CAACC,GAAG,EAAAC,cAAc8L,cAActN,EAAKsB,cAAc,CAACC,GAAG,EAAAC,cAAc+L,gBAAgB/K,UAAU2J,GAAY,QAAkB,YAAgBR,GAAa5L,GAAYyN,iBAAkB,IAAmBvJ,0BAA0BwJ,+BAAgC,KAAmBvB,GAAM,QAAkB,WAAU,aAACwB,IAAeA,IAAe9B,GAAe,SAAY,IAAmB3H,0BAA0BwJ,+BAAgC,IAAU,SAAS9M,GAAI,OAAOuL,EAAMtL,MAAMC,KAAKC,UAAW,GAAO,sBAAsB,UAAU,0BAA0B,4IAA6I,CAAQ,SAAS6M,uCAAuC3K,GAAO,IAAG,WAACjD,EAAU,eAACgE,GAAgBf,EAAM4K,GAAY,OAAyB5K,EAAMoH,GAAW,EAAA8C,OAAOW,KAAvxJ,SAASC,cAActF,GAAG,IAAI,IAAI8B,EAAE,EAAEA,EAAExJ,UAAUgC,OAAOwH,IAAI,CAAC,IAAIC,EAAE,MAAMzJ,UAAUwJ,GAAGxJ,UAAUwJ,GAAG,CAAC,EAAEA,EAAE,EAAED,QAAQ3H,OAAO6H,IAAG,GAAIwD,SAAQ,SAASzD,IAAG,OAAgB9B,EAAE8B,EAAEC,EAAED,GAAI,IAAG5H,OAAOsL,0BAA0BtL,OAAOuL,iBAAiBzF,EAAE9F,OAAOsL,0BAA0BzD,IAAIF,QAAQ3H,OAAO6H,IAAIwD,SAAQ,SAASzD,GAAG5H,OAAOwL,eAAe1F,EAAE8B,EAAE5H,OAAOiI,yBAAyBJ,EAAED,GAAI,GAAG,CAAC,OAAO9B,CAAE,CAAs5IsF,CAAc,CAACK,gBAAe,EAAMC,uBAAsB,EAAM,QAAAC,GAAgB,IAAmBpK,0BAA0BwJ,+BAAgC,EAAE,OAAAa,GAAe,IAAmBrK,0BAA0BwJ,+BAAgC,EAAEc,eAAc,SAAKzD,wBAAwB,CAAC/G,eAAeA,EAAehE,WAAWA,KAAc6N,GAAc,C","sources":["webpack://web/../../packages/kit/src/views/AccountManagerStacks/pages/BatchCreateAccount/BatchCreateAccountForm.tsx","webpack://web/../../packages/kit/src/views/AccountManagerStacks/pages/BatchCreateAccount/BatchCreateAccountFormBase.tsx","webpack://web/../../packages/kit/src/views/AccountManagerStacks/pages/BatchCreateAccount/ProcessingDialog.tsx"],"sourcesContent":["import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import{useCallback,useRef}from'react';import{useIntl}from'react-intl';import{Page,SizableText,Stack}from'@onekeyhq/components';import backgroundApiProxy from'@onekeyhq/kit/src/background/instance/backgroundApiProxy';import{AccountSelectorProviderMirror}from'@onekeyhq/kit/src/components/AccountSelector';import useAppNavigation from'@onekeyhq/kit/src/hooks/useAppNavigation';import{useActiveAccount}from'@onekeyhq/kit/src/states/jotai/contexts/accountSelector';import{getNetworkIdsMap}from'@onekeyhq/shared/src/config/networkIds';import{ETranslations}from'@onekeyhq/shared/src/locale';import{EAccountManagerStacksRoutes}from'@onekeyhq/shared/src/routes';import networkUtils from'@onekeyhq/shared/src/utils/networkUtils';import timerUtils from'@onekeyhq/shared/src/utils/timerUtils';import{EAccountSelectorSceneName}from'@onekeyhq/shared/types';import{EReasonForNeedPassword}from'@onekeyhq/shared/types/setting';import{BATCH_CREATE_ACCONT_ALL_NETWORK_MAX_COUNT,BatchCreateAccountFormBase}from\"./BatchCreateAccountFormBase\";import{showBatchCreateAccountProcessingDialog}from\"./ProcessingDialog\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function BatchCreateAccountFormPage({walletId,networkId}){var{activeAccount}=useActiveAccount({num:0});var navigation=useAppNavigation();var intl=useIntl();var formRef=useRef(undefined);var navigateToPreview=useCallback(function(){var _ref=_asyncToGenerator(function*({replace}){var values=formRef?.current?.getValues();if(!values)return;var actionType=replace?'replace':'push';navigation[actionType](EAccountManagerStacksRoutes.BatchCreateAccountPreview,{walletId,networkId:values.networkId});});return function(_x){return _ref.apply(this,arguments);};}(),[navigation,walletId]);var isProcessingRef=useRef(false);return _jsxs(Page,{scrollEnabled:true,safeAreaEnabled:true,\"data-sentry-element\":\"Page\",\"data-sentry-component\":\"BatchCreateAccountFormPage\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/AccountManagerStacks/pages/BatchCreateAccount/BatchCreateAccountForm.tsx\",children:[_jsx(Page.Header,{title:intl.formatMessage({id:ETranslations.global_bulk_add_accounts}),\"data-sentry-element\":\"unknown\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/AccountManagerStacks/pages/BatchCreateAccount/BatchCreateAccountForm.tsx\"}),_jsxs(Page.Body,{p:\"$4\",\"data-sentry-element\":\"unknown\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/AccountManagerStacks/pages/BatchCreateAccount/BatchCreateAccountForm.tsx\",children:[_jsx(BatchCreateAccountFormBase,{alwaysShowAdvancedSettings:true,defaultNetworkId:networkId||getNetworkIdsMap().onekeyall,defaultDeriveType:undefined,defaultFrom:\"1\",defaultCount:String(BATCH_CREATE_ACCONT_ALL_NETWORK_MAX_COUNT),onNetworkChanged:function({isAllNetwork}){if(!isAllNetwork){void navigateToPreview({replace:true});}},formRef:formRef,\"data-sentry-element\":\"BatchCreateAccountFormBase\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/AccountManagerStacks/pages/BatchCreateAccount/BatchCreateAccountForm.tsx\"}),\"production\"!=='production'?_jsxs(Stack,{mt:\"$8\",children:[_jsxs(SizableText,{children:[\"walletId: \",walletId]}),_jsxs(SizableText,{children:[\"networkId: \",activeAccount.network?.id]}),_jsxs(SizableText,{children:[\"deriveType: \",activeAccount.deriveType]})]}):null]}),_jsx(Page.Footer,{confirmButtonProps:{disabled:false},onConfirm:_asyncToGenerator(function*(){try{var _formRef$current$form;if(isProcessingRef.current){return;}isProcessingRef.current=true;if(Object.keys((_formRef$current$form=formRef?.current?.formState?.errors)!=null?_formRef$current$form:{}).length){isProcessingRef.current=false;return;}yield formRef.current?.handleSubmit(function(){var _ref3=_asyncToGenerator(function*(values){var networkIdValue=values?.networkId;if(networkUtils.isAllNetwork({networkId:networkIdValue})){var _values$from,_values$count;yield backgroundApiProxy.servicePassword.promptPasswordVerifyByWallet({walletId,reason:EReasonForNeedPassword.CreateOrRemoveWallet});var from=(_values$from=values?.from)!=null?_values$from:'1';var count=(_values$count=values?.count)!=null?_values$count:String(BATCH_CREATE_ACCONT_ALL_NETWORK_MAX_COUNT);var fromInt=parseInt(from,10);var countInt=parseInt(count,10);var beginIndex=fromInt-1;var endIndex=beginIndex+countInt-1;showBatchCreateAccountProcessingDialog({navigation,allNetworkInfo:{count:countInt}});yield timerUtils.wait(600);yield backgroundApiProxy.serviceBatchCreateAccount.startBatchCreateAccountsFlowForAllNetwork({walletId,fromIndex:beginIndex,toIndex:endIndex,excludedIndexes:{},saveToDb:true,hideCheckingDeviceLoading:true,autoHandleExitError:true});}else{yield navigateToPreview({replace:false});}});return function(_x2){return _ref3.apply(this,arguments);};}())();}finally{isProcessingRef.current=false;}}),\"data-sentry-element\":\"unknown\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/AccountManagerStacks/pages/BatchCreateAccount/BatchCreateAccountForm.tsx\"})]});}export default function BatchCreateAccountForm({route}){var _route$params;var{walletId,networkId}=(_route$params=route.params)!=null?_route$params:{};return _jsx(AccountSelectorProviderMirror,{enabledNum:[0],config:{sceneName:EAccountSelectorSceneName.home,sceneUrl:''},\"data-sentry-element\":\"AccountSelectorProviderMirror\",\"data-sentry-component\":\"BatchCreateAccountForm\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/AccountManagerStacks/pages/BatchCreateAccount/BatchCreateAccountForm.tsx\",children:_jsx(BatchCreateAccountFormPage,{walletId:walletId,networkId:networkId,\"data-sentry-element\":\"BatchCreateAccountFormPage\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/AccountManagerStacks/pages/BatchCreateAccount/BatchCreateAccountForm.tsx\"})});}","import{useCallback,useEffect,useMemo,useState}from'react';import BigNumber from'bignumber.js';import{useIntl}from'react-intl';import{Form,IconButton,Input,SizableText,Stack,XStack,useForm,useMedia}from'@onekeyhq/components';import{ETranslations}from'@onekeyhq/shared/src/locale';import networkUtils from'@onekeyhq/shared/src/utils/networkUtils';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var BATCH_CREATE_ACCONT_ALL_NETWORK_MAX_COUNT=15;export var BATCH_CREATE_ACCONT_SINGLE_NETWORK_MAX_COUNT=100;export var BATCH_CREATE_ACCONT_MAX_COUNT=2**31;export var BATCH_CREATE_ACCONT_MAX_FROM=BATCH_CREATE_ACCONT_MAX_COUNT+1-15;function AdvancedSettingsFormField({form,isAllNetwork,alwaysShowAdvancedSettings}){var intl=useIntl();var media=useMedia();var[collapse,setCollapse]=useState(!alwaysShowAdvancedSettings);var toggle=useCallback(function(){setCollapse(function(v){return!v;});},[]);var fromValue=form.watch('from');var countValue=form.watch('count');var fromError=form.formState.errors.from;var calculateAddressRange=useMemo(function(){if(!fromValue||!countValue){return'';}var from=parseInt(fromValue,10);var count=parseInt(countValue,10);var to=from+count-1;var text=intl.formatMessage({id:ETranslations.global_serial_number_start_desc},{from,to});return`${text}`;},[countValue,fromValue,intl]);return _jsxs(Stack,{\"data-sentry-element\":\"Stack\",\"data-sentry-component\":\"AdvancedSettingsFormField\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/AccountManagerStacks/pages/BatchCreateAccount/BatchCreateAccountFormBase.tsx\",children:[!alwaysShowAdvancedSettings?_jsxs(XStack,{gap:\"$3\",py:\"$2\",ai:\"center\",onPress:toggle,children:[_jsx(Stack,{children:_jsx(SizableText,{size:\"$bodyMdMedium\",color:\"$textSubdued\",children:intl.formatMessage({id:ETranslations.global_advantage_settings})})}),_jsx(IconButton,{icon:collapse?'ChevronDownSmallOutline':'ChevronTopSmallOutline',variant:\"tertiary\",onPress:toggle})]}):null,_jsx(Stack,{width:collapse?0:undefined,height:collapse?0:undefined,opacity:collapse?0:undefined,overflow:collapse?'hidden':undefined,\"data-sentry-element\":\"Stack\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/AccountManagerStacks/pages/BatchCreateAccount/BatchCreateAccountFormBase.tsx\",children:_jsx(Stack,{mt:!alwaysShowAdvancedSettings?'$4':undefined,\"data-sentry-element\":\"Stack\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/AccountManagerStacks/pages/BatchCreateAccount/BatchCreateAccountFormBase.tsx\",children:_jsxs(Form.Field,{label:intl.formatMessage({id:ETranslations.global_serial_number_start}),name:\"from\",rules:{required:true,validate:function(value){var valueNum=new BigNumber(value);if(!value||valueNum.isNaN()){return intl.formatMessage({id:ETranslations.global_bulk_accounts_page_number_error});}if(valueNum.isLessThan(1)){return'The minimum number of accounts is 1';}return true;},onChange:function(e){var value=(e?.target?.value||'').replace(/\\D/g,'');var valueNum=new BigNumber(parseInt(value,10));if(!value||valueNum.isNaN()){form.setValue('from','');return;}if(valueNum.isLessThan(1)){form.setValue('from','1');return;}if(valueNum.isGreaterThanOrEqualTo(BATCH_CREATE_ACCONT_MAX_FROM)){form.setValue('from',BATCH_CREATE_ACCONT_MAX_FROM.toString());return;}form.setValue('from',valueNum.toFixed());}},\"data-sentry-element\":\"unknown\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/AccountManagerStacks/pages/BatchCreateAccount/BatchCreateAccountFormBase.tsx\",children:[_jsx(Input,{secureTextEntry:false,placeholder:intl.formatMessage({id:ETranslations.global_serial_number_start}),size:media.gtMd?'medium':'large',\"data-sentry-element\":\"Input\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/AccountManagerStacks/pages/BatchCreateAccount/BatchCreateAccountFormBase.tsx\"}),!fromError?_jsx(Form.FieldDescription,{children:calculateAddressRange}):null]})})})]});}export function BatchCreateAccountFormBase({alwaysShowAdvancedSettings,networkReadyOnly,defaultCount,defaultDeriveType,defaultFrom,defaultNetworkId,onNetworkChanged,formRef}){var intl=useIntl();var media=useMedia();var form=useForm({values:{networkId:defaultNetworkId,deriveType:defaultDeriveType,from:defaultFrom,count:defaultCount},mode:'onChange',reValidateMode:'onChange'});if(formRef){formRef.current=form;}var networkIdValue=form.watch('networkId');var isAllNetwork=useMemo(function(){return networkUtils.isAllNetwork({networkId:networkIdValue});},[networkIdValue]);useEffect(function(){onNetworkChanged?.({networkId:networkIdValue,isAllNetwork});},[isAllNetwork,networkIdValue,onNetworkChanged]);return _jsxs(Form,{form:form,\"data-sentry-element\":\"Form\",\"data-sentry-component\":\"BatchCreateAccountFormBase\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/AccountManagerStacks/pages/BatchCreateAccount/BatchCreateAccountFormBase.tsx\",children:[_jsx(Form.Field,{label:intl.formatMessage({id:ETranslations.global_generate_amount}),name:\"count\",rules:{required:true,validate:function(value,values){var valueNum=new BigNumber(value);if(!value||valueNum.isNaN()){return intl.formatMessage({id:ETranslations.global_bulk_accounts_page_number_error});}var max=isAllNetwork?BATCH_CREATE_ACCONT_ALL_NETWORK_MAX_COUNT:BATCH_CREATE_ACCONT_SINGLE_NETWORK_MAX_COUNT;if(values.from){var fromNum=new BigNumber(values.from);if(!fromNum.isNaN()){var maxByFrom=BATCH_CREATE_ACCONT_MAX_COUNT+1-fromNum.toNumber();max=Math.min(max,maxByFrom);}}if(valueNum.isGreaterThan(max)){return intl.formatMessage({id:ETranslations.global_generate_amount_information},{max});}if(valueNum.isLessThan(1)){return'The minimum number of accounts is 1';}return true;},onChange:function(e){var value=(e?.target?.value||'').replace(/\\D/g,'');var valueNum=new BigNumber(parseInt(value,10));if(!value||valueNum.isNaN()){form.setValue('count','');return;}if(valueNum.isLessThan(1)){form.setValue('count','1');return;}form.setValue('count',valueNum.toFixed());}},\"data-sentry-element\":\"unknown\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/AccountManagerStacks/pages/BatchCreateAccount/BatchCreateAccountFormBase.tsx\",children:_jsx(Input,{secureTextEntry:false,testID:\"account-generate-amount-input\",placeholder:intl.formatMessage({id:ETranslations.global_generate_amount}),size:media.gtMd?'medium':'large',\"data-sentry-element\":\"Input\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/AccountManagerStacks/pages/BatchCreateAccount/BatchCreateAccountFormBase.tsx\"})}),_jsx(AdvancedSettingsFormField,{form:form,alwaysShowAdvancedSettings:alwaysShowAdvancedSettings,isAllNetwork:isAllNetwork,\"data-sentry-element\":\"AdvancedSettingsFormField\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/AccountManagerStacks/pages/BatchCreateAccount/BatchCreateAccountFormBase.tsx\"})]});}","import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _objectWithoutProperties from\"@babel/runtime/helpers/objectWithoutProperties\";import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";var _excluded=[\"navigation\",\"allNetworkInfo\"];function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}import{useEffect,useMemo,useState}from'react';import{useIntl}from'react-intl';import{Dialog,Icon,Progress,SizableText,Stack}from'@onekeyhq/components';import backgroundApiProxy from'@onekeyhq/kit/src/background/instance/backgroundApiProxy';import{EAppEventBusNames,appEventBus}from'@onekeyhq/shared/src/eventBus/appEventBus';import{ETranslations}from'@onekeyhq/shared/src/locale';import platformEnv from'@onekeyhq/shared/src/platformEnv';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function ProcessingDialogContent({navigation,allNetworkInfo}){var _state$progressCurren,_state$progressTotal,_state$progressCurren2,_allNetworkInfo$count;var intl=useIntl();var[state,setState]=useState(undefined);var isDone=useMemo(function(){return Boolean(state&&state?.progressCurrent===state?.progressTotal);},[state]);var isError=useMemo(function(){return Boolean(state&&!!state?.error);},[state]);var[isCancelled,setIsCancelled]=useState(false);useEffect(function(){var cb=function(payload){setState(payload);};appEventBus.on(EAppEventBusNames.BatchCreateAccount,cb);return function(){appEventBus.off(EAppEventBusNames.BatchCreateAccount,cb);};},[]);var isFlowEnded=isDone||isCancelled||isError;return _jsxs(Stack,{\"data-sentry-element\":\"Stack\",\"data-sentry-component\":\"ProcessingDialogContent\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/AccountManagerStacks/pages/BatchCreateAccount/ProcessingDialog.tsx\",children:[_jsx(Stack,{py:\"$2.5\",px:\"$5\",gap:\"$5\",flex:1,alignItems:\"center\",justifyContent:\"center\",\"data-sentry-element\":\"Stack\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/AccountManagerStacks/pages/BatchCreateAccount/ProcessingDialog.tsx\",children:_jsxs(Stack,{flex:1,alignItems:\"center\",justifyContent:\"center\",alignSelf:\"center\",w:\"100%\",maxWidth:\"$80\",\"data-sentry-element\":\"Stack\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/AccountManagerStacks/pages/BatchCreateAccount/ProcessingDialog.tsx\",children:[isDone?_jsx(Icon,{name:\"CheckRadioSolid\",size:\"$12\",color:\"$iconSuccess\"}):null,(isCancelled||isError)&&!isDone?_jsx(Icon,{name:\"XCircleSolid\",size:\"$12\",color:\"$iconCritical\"}):null,!isFlowEnded?_jsx(Progress,{mt:\"$4\",w:\"100%\",size:\"medium\",value:Math.ceil(((_state$progressCurren=state?.progressCurrent)!=null?_state$progressCurren:0)/((_state$progressTotal=state?.progressTotal)!=null?_state$progressTotal:1)*100)}):null,_jsx(SizableText,{mt:\"$5\",size:\"$bodyLg\",textAlign:\"center\",\"data-sentry-element\":\"SizableText\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/AccountManagerStacks/pages/BatchCreateAccount/ProcessingDialog.tsx\",children:intl.formatMessage({id:ETranslations.global_bulk_accounts_loading},{amount:(_state$progressCurren2=state?.progressCurrent)!=null?_state$progressCurren2:0})}),allNetworkInfo?_jsx(SizableText,{size:\"$bodyLg\",textAlign:\"center\",children:intl.formatMessage({id:ETranslations.global_bulk_accounts_loading_subtitle},{amount:(_allNetworkInfo$count=allNetworkInfo.count)!=null?_allNetworkInfo$count:0})}):null,false?_jsxs(SizableText,{children:[\"DebugProgress: \",state?.progressCurrent,\" / \",state?.progressTotal,\" :\",state?.createdCount,\" / \",state?.totalCount,\" : $\",state?.networkId,' ',\"- $\",state?.deriveType]}):null]})}),_jsx(Dialog.Footer,{showCancelButton:false,showConfirmButton:true,confirmButtonProps:{variant:isFlowEnded?'primary':'secondary',testID:'process-dialog-confirm-button'},onConfirmText:isFlowEnded?intl.formatMessage({id:ETranslations.global_done}):intl.formatMessage({id:ETranslations.global_cancel}),onConfirm:isFlowEnded?_asyncToGenerator(function*(){if(!isCancelled){navigation?.popStack();}yield backgroundApiProxy.serviceBatchCreateAccount.cancelBatchCreateAccountsFlow();}):(function(){var _ref2=_asyncToGenerator(function*({preventClose}){preventClose();setIsCancelled(true);yield backgroundApiProxy.serviceBatchCreateAccount.cancelBatchCreateAccountsFlow();});return function(_x){return _ref2.apply(this,arguments);};}()),\"data-sentry-element\":\"unknown\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/AccountManagerStacks/pages/BatchCreateAccount/ProcessingDialog.tsx\"})]});}export function showBatchCreateAccountProcessingDialog(_ref3){var{navigation,allNetworkInfo}=_ref3,dialogProps=_objectWithoutProperties(_ref3,_excluded);Dialog.show(_objectSpread({showExitButton:false,dismissOnOverlayPress:false,onCancel(){void backgroundApiProxy.serviceBatchCreateAccount.cancelBatchCreateAccountsFlow();},onClose(){void backgroundApiProxy.serviceBatchCreateAccount.cancelBatchCreateAccountsFlow();},renderContent:_jsx(ProcessingDialogContent,{allNetworkInfo:allNetworkInfo,navigation:navigation})},dialogProps));}"],"names":["BatchCreateAccountFormPage","walletId","networkId","_ref","activeAccount","num","navigation","intl","formRef","useRef","undefined","navigateToPreview","useCallback","replace","values","current","getValues","BatchCreateAccountPreview","_x","apply","this","arguments","isProcessingRef","Page","scrollEnabled","safeAreaEnabled","children","Header","title","formatMessage","id","ETranslations","global_bulk_add_accounts","Body","p","alwaysShowAdvancedSettings","defaultNetworkId","onekeyall","defaultDeriveType","defaultFrom","defaultCount","String","onNetworkChanged","isAllNetwork","Footer","confirmButtonProps","disabled","onConfirm","_formRef$current$form","Object","keys","formState","errors","length","handleSubmit","_ref3","networkIdValue","_values$from","_values$count","servicePassword","promptPasswordVerifyByWallet","reason","CreateOrRemoveWallet","from","count","fromInt","parseInt","countInt","beginIndex","endIndex","allNetworkInfo","wait","serviceBatchCreateAccount","startBatchCreateAccountsFlowForAllNetwork","fromIndex","toIndex","excludedIndexes","saveToDb","hideCheckingDeviceLoading","autoHandleExitError","_x2","BatchCreateAccountForm","route","_route$params","params","enabledNum","config","sceneName","home","sceneUrl","BATCH_CREATE_ACCONT_ALL_NETWORK_MAX_COUNT","BATCH_CREATE_ACCONT_SINGLE_NETWORK_MAX_COUNT","BATCH_CREATE_ACCONT_MAX_COUNT","BATCH_CREATE_ACCONT_MAX_FROM","AdvancedSettingsFormField","form","media","useMedia","collapse","setCollapse","useState","toggle","v","fromValue","watch","countValue","fromError","calculateAddressRange","useMemo","to","global_serial_number_start_desc","Stack","XStack","gap","py","ai","onPress","SizableText","size","color","global_advantage_settings","IconButton","icon","variant","width","height","opacity","overflow","mt","Form","Field","label","global_serial_number_start","name","rules","required","validate","value","valueNum","isNaN","global_bulk_accounts_page_number_error","isLessThan","onChange","e","target","setValue","isGreaterThanOrEqualTo","toString","toFixed","Input","secureTextEntry","placeholder","gtMd","FieldDescription","BatchCreateAccountFormBase","networkReadyOnly","useForm","deriveType","mode","reValidateMode","useEffect","global_generate_amount","max","fromNum","maxByFrom","toNumber","Math","min","isGreaterThan","global_generate_amount_information","testID","_excluded","ownKeys","r","t","getOwnPropertySymbols","o","filter","getOwnPropertyDescriptor","enumerable","push","ProcessingDialogContent","_state$progressCurren","_state$progressTotal","_state$progressCurren2","_allNetworkInfo$count","state","setState","isDone","Boolean","progressCurrent","progressTotal","isError","error","isCancelled","setIsCancelled","cb","payload","on","BatchCreateAccount","off","_ref2","isFlowEnded","px","flex","alignItems","justifyContent","alignSelf","w","maxWidth","Icon","Progress","ceil","textAlign","global_bulk_accounts_loading","amount","global_bulk_accounts_loading_subtitle","Dialog","showCancelButton","showConfirmButton","onConfirmText","global_done","global_cancel","popStack","cancelBatchCreateAccountsFlow","preventClose","showBatchCreateAccountProcessingDialog","dialogProps","show","_objectSpread","forEach","getOwnPropertyDescriptors","defineProperties","defineProperty","showExitButton","dismissOnOverlayPress","onCancel","onClose","renderContent"],"sourceRoot":""}