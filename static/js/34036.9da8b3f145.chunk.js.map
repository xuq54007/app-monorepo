{"version":3,"file":"static/js/34036.9da8b3f145.chunk.js","mappings":"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","sources":["webpack://web/../../packages/kit/src/views/CloudBackup/components/BackupDeviceList.tsx","webpack://web/../../packages/kit/src/views/CloudBackup/components/BackupListLoading.tsx","webpack://web/../../packages/kit/src/views/Onboarding/pages/ImportWallet/ImportCloudBackup.tsx"],"sourcesContent":["import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _objectWithoutProperties from\"@babel/runtime/helpers/objectWithoutProperties\";var _excluded=[\"ListEmptyComponent\"];function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}import{useEffect,useMemo}from'react';import{deviceName,osName}from'expo-device';import{useIntl}from'react-intl';import{Icon,SectionList,SizableText,Stack,XStack}from'@onekeyhq/components';import backgroundApiProxy from'@onekeyhq/kit/src/background/instance/backgroundApiProxy';import{ListItem}from'@onekeyhq/kit/src/components/ListItem';import useAppNavigation from'@onekeyhq/kit/src/hooks/useAppNavigation';import{usePromiseResult}from'@onekeyhq/kit/src/hooks/usePromiseResult';import{useRouteIsFocused as useIsFocused}from'@onekeyhq/kit/src/hooks/useRouteIsFocused';import{useCloudBackupPersistAtom}from'@onekeyhq/kit-bg/src/states/jotai/atoms';import{ETranslations}from'@onekeyhq/shared/src/locale';import{ECloudBackupRoutes,EModalRoutes}from'@onekeyhq/shared/src/routes';import{formatDate}from'@onekeyhq/shared/src/utils/dateUtils';import BackupListLoading from\"./BackupListLoading\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function BackupDeviceList(_ref){var _data$length;var{ListEmptyComponent}=_ref,restProps=_objectWithoutProperties(_ref,_excluded);var intl=useIntl();var[{isEnabled,isInProgress}]=useCloudBackupPersistAtom();var navigation=useAppNavigation();var iconList=useMemo(function(){return{'iOS':'PhoneOutline','Android':'PhoneOutline','iPadOS':'SuqarePlaceholderOutline'};},[]);var{result:data,run}=usePromiseResult(_asyncToGenerator(function*(){var backupDeviceList=yield backgroundApiProxy.serviceCloudBackup.getBackupDeviceList();return!ListEmptyComponent&&!isEnabled?[]:backupDeviceList.map(function(item){return{deviceName:item.deviceInfo.deviceName,osName:item.deviceInfo.osName,detail:intl.formatMessage({id:ETranslations.backup_updated_time},{time:formatDate(new Date(item.backupTime))}),icon:item.deviceInfo.osName in iconList?iconList[item.deviceInfo.osName]:'SuqarePlaceholderOutline',isCurrentDevice:item.deviceInfo.deviceName===deviceName&&item.deviceInfo.osName===osName};});}),[intl,iconList,ListEmptyComponent,isEnabled]);var hasData=((_data$length=data?.length)!=null?_data$length:0)>0;var isFocused=useIsFocused();useEffect(function(){if(isInProgress){return;}if(isFocused){void run();}},[isInProgress,isFocused,run,isEnabled]);if(!data){return _jsx(BackupListLoading,{});}return _jsx(SectionList,_objectSpread(_objectSpread({sections:hasData?[{data}]:[],renderSectionHeader:function(){return!ListEmptyComponent&&!isEnabled?null:_jsx(SectionList.SectionHeader,{mt:\"$5\",title:intl.formatMessage({id:ETranslations.backup_all_devices})});},renderItem:function({item}){return _jsx(ListItem,{onPress:function(){navigation.pushModal(EModalRoutes.CloudBackupModal,{screen:ECloudBackupRoutes.CloudBackupList,params:{deviceInfo:item}});},renderItemText:function(textProps){return _jsx(ListItem.Text,_objectSpread(_objectSpread({},textProps),{},{primary:_jsxs(XStack,{alignItems:\"center\",children:[_jsx(SizableText,{size:\"$bodyLgMedium\",children:item.deviceName}),item.isCurrentDevice?_jsx(Stack,{ml:\"$1\",bg:\"$bgInfo\",px:\"$2\",py:\"$0.5\",borderRadius:\"$1\",children:_jsx(SizableText,{size:\"$bodySmMedium\",color:\"$textInfo\",children:intl.formatMessage({id:ETranslations.global_current})})}):null]})}));},subtitle:item.detail,icon:item.icon,iconProps:{bg:'$bgStrong',p:'$5'},renderIcon:_jsx(Stack,{bg:\"$bgStrong\",p:\"$2\",borderRadius:\"$3\",children:_jsx(Icon,{name:item.icon,size:\"$6\",color:\"$icon\"})}),drillIn:true});},estimatedItemSize:\"$16\",ListFooterComponent:!hasData&&ListEmptyComponent?null:_jsx(SizableText,{size:\"$bodySm\",color:\"$textSubdued\",px:\"$5\",pt:\"$3\",children:intl.formatMessage({id:ETranslations.backup_onekey_doesnt_back_up_hardware_wallets})}),ListEmptyComponent:ListEmptyComponent},restProps),{},{\"data-sentry-element\":\"SectionList\",\"data-sentry-component\":\"BackupDeviceList\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/CloudBackup/components/BackupDeviceList.tsx\"}));}","import{Skeleton,Stack}from'@onekeyhq/components';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function BackupListLoading(){return _jsxs(Stack,{flex:1,px:\"$5\",gap:\"$2\",pt:\"$5\",\"data-sentry-element\":\"Stack\",\"data-sentry-component\":\"BackupListLoading\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/CloudBackup/components/BackupListLoading.tsx\",children:[_jsx(Skeleton,{h:\"$6\",w:\"70%\",\"data-sentry-element\":\"Skeleton\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/CloudBackup/components/BackupListLoading.tsx\"}),_jsx(Skeleton,{h:\"$6\",w:\"100%\",\"data-sentry-element\":\"Skeleton\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/CloudBackup/components/BackupListLoading.tsx\"}),_jsx(Skeleton,{h:\"$6\",w:\"70%\",\"data-sentry-element\":\"Skeleton\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/CloudBackup/components/BackupListLoading.tsx\"}),_jsx(Skeleton,{h:\"$6\",w:\"100%\",\"data-sentry-element\":\"Skeleton\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/CloudBackup/components/BackupListLoading.tsx\"})]});}","import{useIntl}from'react-intl';import{Empty,Page}from'@onekeyhq/components';import BackupDeviceList from'@onekeyhq/kit/src/views/CloudBackup/components/BackupDeviceList';import{ETranslations}from'@onekeyhq/shared/src/locale';import platformEnv from'@onekeyhq/shared/src/platformEnv';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function ImportCloudBackup(){var intl=useIntl();return _jsxs(Page,{\"data-sentry-element\":\"Page\",\"data-sentry-component\":\"ImportCloudBackup\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Onboarding/pages/ImportWallet/ImportCloudBackup.tsx\",children:[_jsx(Page.Header,{title:intl.formatMessage({id:platformEnv.isNativeAndroid?ETranslations.backup_import_from_google_drive:ETranslations.backup_import_from_icloud}),\"data-sentry-element\":\"unknown\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Onboarding/pages/ImportWallet/ImportCloudBackup.tsx\"}),_jsx(Page.Body,{\"data-sentry-element\":\"unknown\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Onboarding/pages/ImportWallet/ImportCloudBackup.tsx\",children:_jsx(BackupDeviceList,{ListEmptyComponent:_jsx(Empty,{icon:\"SearchOutline\",title:intl.formatMessage({id:ETranslations.backup_no_data}),description:intl.formatMessage({id:platformEnv.isNativeAndroid?ETranslations.backup_no_available_google_drive_backups_to_import:ETranslations.backup_no_available_icloud_backups_to_import})}),\"data-sentry-element\":\"BackupDeviceList\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Onboarding/pages/ImportWallet/ImportCloudBackup.tsx\"})})]});}"],"names":["_excluded","ownKeys","e","r","t","Object","keys","getOwnPropertySymbols","o","filter","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","arguments","length","forEach","getOwnPropertyDescriptors","defineProperties","defineProperty","BackupDeviceList","_ref","_data$length","ListEmptyComponent","restProps","intl","isEnabled","isInProgress","useCloudBackupPersistAtom","navigation","iconList","useMemo","result","data","run","backupDeviceList","serviceCloudBackup","getBackupDeviceList","map","item","deviceName","deviceInfo","osName","detail","formatMessage","id","ETranslations","backup_updated_time","time","Date","backupTime","icon","isCurrentDevice","hasData","isFocused","useEffect","SectionList","sections","renderSectionHeader","SectionHeader","mt","title","backup_all_devices","renderItem","onPress","pushModal","CloudBackupModal","screen","CloudBackupList","params","renderItemText","textProps","Text","primary","XStack","alignItems","children","SizableText","size","Stack","ml","bg","px","py","borderRadius","color","global_current","subtitle","iconProps","p","renderIcon","Icon","name","drillIn","estimatedItemSize","ListFooterComponent","pt","backup_onekey_doesnt_back_up_hardware_wallets","BackupListLoading","flex","gap","Skeleton","h","w","ImportCloudBackup","Page","Header","isNativeAndroid","backup_import_from_google_drive","backup_import_from_icloud","Body","Empty","backup_no_data","description","backup_no_available_google_drive_backups_to_import","backup_no_available_icloud_backups_to_import"],"sourceRoot":""}