{"version":3,"file":"static/js/37674.d0beb6b22d.chunk.js","mappings":"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","sources":["webpack://web/../../packages/kit/src/hooks/useAppRoute.ts","webpack://web/../../packages/kit/src/views/Staking/components/PageFrame/index.tsx","webpack://web/../../packages/kit/src/views/Staking/hooks/useEarnTxLabel.ts","webpack://web/../../packages/kit/src/views/Staking/pages/HistoryList/index.tsx","webpack://web/../../packages/kit/src/views/Staking/utils/utils.ts"],"sourcesContent":["import{useRoute}from'@react-navigation/core';export function useAppRoute(){return useRoute();}","import{useIntl}from'react-intl';import{Empty,Skeleton,Stack}from'@onekeyhq/components';import{ListItem}from'@onekeyhq/kit/src/components/ListItem';import{ETranslations}from'@onekeyhq/shared/src/locale';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var PageErrOccurred=function({onPress}){var intl=useIntl();return _jsx(Empty,{pt:\"$32\",icon:\"ErrorOutline\",title:intl.formatMessage({id:ETranslations.global_an_error_occurred}),description:intl.formatMessage({id:ETranslations.global_an_error_occurred_desc}),buttonProps:{onPress,children:intl.formatMessage({id:ETranslations.global_refresh})},\"data-sentry-element\":\"Empty\",\"data-sentry-component\":\"PageErrOccurred\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/components/PageFrame/index.tsx\"});};export var SimpleSpinnerSkeleton=function(){return _jsxs(Stack,{\"data-sentry-element\":\"Stack\",\"data-sentry-component\":\"SimpleSpinnerSkeleton\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/components/PageFrame/index.tsx\",children:[_jsx(Stack,{px:\"$5\",py:\"$2\",\"data-sentry-element\":\"Stack\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/components/PageFrame/index.tsx\",children:_jsx(Skeleton.HeadingSm,{\"data-sentry-element\":\"unknown\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/components/PageFrame/index.tsx\"})}),Array.from({length:3}).map(function(_,index){return _jsxs(ListItem,{children:[_jsx(Skeleton,{h:\"$10\",w:\"$10\",radius:\"round\"}),_jsxs(Stack,{children:[_jsx(Skeleton.BodyLg,{}),_jsx(Skeleton.BodyMd,{})]})]},index);})]});};export var isLoadingState=function({result,isLoading}){return Boolean(result===undefined&&(isLoading===undefined||isLoading===true));};export var isErrorState=function({result,isLoading}){return Boolean(result===undefined&&isLoading===false);};export var PageFrame=function({children,loading,LoadingSkeleton,error,onRefresh}){if(loading){return LoadingSkeleton?_jsx(LoadingSkeleton,{}):null;}if(error){return _jsx(PageErrOccurred,{onPress:onRefresh});}return _jsx(_Fragment,{children:children});};","import{useCallback}from'react';import{useIntl}from'react-intl';import{ETranslations}from'@onekeyhq/shared/src/locale';export function useEarnTxLabel(){var intl=useIntl();return useCallback(function(label){var _labelMaps$label$toLo;var labelMaps={'stake':intl.formatMessage({id:ETranslations.earn_stake}),'redeem':intl.formatMessage({id:ETranslations.earn_redeem}),'withdraw':intl.formatMessage({id:ETranslations.global_withdraw}),'claim':intl.formatMessage({id:ETranslations.earn_claim})};return(_labelMaps$label$toLo=labelMaps[label.toLowerCase()])!=null?_labelMaps$label$toLo:label;},[intl]);}","import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _groupBy from\"lodash/groupBy\";import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}import{useCallback}from'react';import{useIntl}from'react-intl';import{Empty,NumberSizeableText,Page,SectionList,YStack}from'@onekeyhq/components';import backgroundApiProxy from'@onekeyhq/kit/src/background/instance/backgroundApiProxy';import{ListItem}from'@onekeyhq/kit/src/components/ListItem';import useAppNavigation from'@onekeyhq/kit/src/hooks/useAppNavigation';import{useAppRoute}from'@onekeyhq/kit/src/hooks/useAppRoute';import{usePromiseResult}from'@onekeyhq/kit/src/hooks/usePromiseResult';import{ETranslations}from'@onekeyhq/shared/src/locale';import{EModalAssetDetailRoutes}from'@onekeyhq/shared/src/routes';import{formatDate}from'@onekeyhq/shared/src/utils/dateUtils';import{PageFrame,SimpleSpinnerSkeleton,isErrorState,isLoadingState}from\"../../components/PageFrame\";import{useEarnTxLabel}from\"../../hooks/useEarnTxLabel\";import{capitalizeString}from\"../../utils/utils\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var HistoryItem=function({item,provider,token}){var navigation=useAppNavigation();var route=useAppRoute();var{accountId,networkId}=route.params;var onPress=useCallback(function(){navigation.push(EModalAssetDetailRoutes.HistoryDetails,{networkId,accountId,transactionHash:item.txHash,historyTx:undefined,isAllNetworks:false});},[accountId,networkId,item,navigation]);return _jsx(ListItem,{avatarProps:{src:token?.logoURI},title:item.title,subtitle:provider?capitalizeString(provider):undefined,onPress:onPress,\"data-sentry-element\":\"ListItem\",\"data-sentry-component\":\"HistoryItem\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/pages/HistoryList/index.tsx\",children:_jsx(YStack,{\"data-sentry-element\":\"YStack\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/pages/HistoryList/index.tsx\",children:item.amount&&Number(item.amount)>0?_jsx(NumberSizeableText,{size:\"$bodyLgMedium\",formatter:\"balance\",color:item.direction==='receive'?'$textSuccess':undefined,formatterOptions:{tokenSymbol:token?.symbol,showPlusMinusSigns:true},children:`${item.direction==='send'?'-':'+'}${item.amount}`}):null})});};var keyExtractor=function(item){var key=item?.txHash;return key;};var HistoryContent=function({sections,network,tokenMap,provider}){var renderItem=useCallback(function({item}){return _jsx(HistoryItem,{item:item,network:network,token:tokenMap[item.tokenAddress],provider:provider});},[network,tokenMap,provider]);var renderSectionHeader=useCallback(function({section}){return _jsx(SectionList.SectionHeader,{title:section.title,titleProps:{color:section.isPending?'$textCaution':undefined},justifyContent:\"space-between\"});},[]);var intl=useIntl();return _jsx(SectionList,{estimatedItemSize:\"$14\",sections:sections,renderItem:renderItem,renderSectionHeader:renderSectionHeader,keyExtractor:keyExtractor,ListEmptyComponent:_jsx(Empty,{pt:\"$46\",icon:\"ClockTimeHistoryOutline\",title:intl.formatMessage({id:ETranslations.global_no_transactions_yet}),description:intl.formatMessage({id:ETranslations.global_no_transactions_yet_desc})}),\"data-sentry-element\":\"SectionList\",\"data-sentry-component\":\"HistoryContent\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/pages/HistoryList/index.tsx\"});};var HistoryList=function(){var route=useAppRoute();var intl=useIntl();var labelFn=useEarnTxLabel();var{accountId,networkId,symbol,provider,stakeTag}=route.params;var{result,isLoading,run}=usePromiseResult(_asyncToGenerator(function*(){var historyResp=yield backgroundApiProxy.serviceStaking.getStakeHistory({accountId,networkId,symbol,provider});var listMap=_groupBy(historyResp.list,function(item){return formatDate(new Date(item.timestamp*1000),{hideTimeForever:true});});var sections=Object.entries(listMap).map(function([title,data]){return{title,data};}).sort(function(a,b){return b.data[0].timestamp-a.data[0].timestamp;});var tokenMap=_objectSpread({},historyResp.tokenMap);if(stakeTag){yield backgroundApiProxy.serviceHistory.fetchAccountHistory({accountId,networkId});var localItems=yield backgroundApiProxy.serviceStaking.fetchLocalStakingHistory({accountId,networkId,stakeTag});localItems.forEach(function(o){if(o.stakingInfo.receive){var receive=o.stakingInfo.receive;tokenMap[receive.token.address]=receive.token;}if(o.stakingInfo.send){var send=o.stakingInfo.send;tokenMap[send.token.address]=send.token;}});var localNormalizedItems=localItems.map(function(o){var _o$stakingInfo$send,_ref2,_o$decodedTx$createdA,_action$token$address;var action=(_o$stakingInfo$send=o.stakingInfo.send)!=null?_o$stakingInfo$send:o.stakingInfo.receive;return{txHash:o.decodedTx.txid,timestamp:(_ref2=(_o$decodedTx$createdA=o.decodedTx.createdAt)!=null?_o$decodedTx$createdA:o.decodedTx.updatedAt)!=null?_ref2:0,title:labelFn(o.stakingInfo.label),direction:o.stakingInfo.send?'send':'receive',amount:action?.amount,tokenAddress:(_action$token$address=action?.token.address)!=null?_action$token$address:''};});if(localNormalizedItems.length>0){sections.unshift({title:intl.formatMessage({id:ETranslations.global_pending}),data:localNormalizedItems,isPending:true});}}return{network:historyResp.network,sections,tokenMap};}),[accountId,networkId,symbol,provider,stakeTag,labelFn,intl],{watchLoading:true,pollingInterval:30*1000});return _jsxs(Page,{scrollEnabled:true,\"data-sentry-element\":\"Page\",\"data-sentry-component\":\"HistoryList\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/pages/HistoryList/index.tsx\",children:[_jsx(Page.Header,{title:intl.formatMessage({id:ETranslations.global_history}),\"data-sentry-element\":\"unknown\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/pages/HistoryList/index.tsx\"}),_jsx(Page.Body,{\"data-sentry-element\":\"unknown\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/pages/HistoryList/index.tsx\",children:_jsx(PageFrame,{LoadingSkeleton:SimpleSpinnerSkeleton,error:isErrorState({result,isLoading}),loading:isLoadingState({result,isLoading}),onRefresh:run,\"data-sentry-element\":\"PageFrame\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/pages/HistoryList/index.tsx\",children:result?_jsx(HistoryContent,{sections:result.sections,network:result.network,tokenMap:result.tokenMap,provider:provider}):null})})]});};export default HistoryList;","import BigNumber from'bignumber.js';export var buildLocalTxStatusSyncId=function(details){return`${details.provider.name.toLowerCase()}-${details.token.info.symbol.toLowerCase()}`;};export function capitalizeString(str){if(!str)return str;return str.charAt(0).toUpperCase()+str.slice(1);}export function countDecimalPlaces(input){var inputNum=typeof input==='string'?Number(input):input;if(Number.isNaN(inputNum)){return 0;}var inputStr=typeof input==='string'?input:BigNumber(input).toFixed();var decimalIndex=inputStr.indexOf('.');if(decimalIndex===-1){return 0;}return inputStr.length-decimalIndex-1;}"],"names":["useAppRoute","PageErrOccurred","onPress","intl","Empty","pt","icon","title","formatMessage","id","ETranslations","global_an_error_occurred","description","global_an_error_occurred_desc","buttonProps","children","global_refresh","SimpleSpinnerSkeleton","Stack","px","py","Skeleton","HeadingSm","Array","from","length","map","_","index","h","w","radius","BodyLg","BodyMd","isLoadingState","result","isLoading","Boolean","undefined","isErrorState","PageFrame","loading","LoadingSkeleton","error","onRefresh","useEarnTxLabel","useCallback","label","_labelMaps$label$toLo","earn_stake","earn_redeem","global_withdraw","earn_claim","toLowerCase","ownKeys","e","r","t","Object","keys","getOwnPropertySymbols","o","filter","getOwnPropertyDescriptor","enumerable","push","apply","HistoryItem","item","provider","token","navigation","route","u","accountId","networkId","params","HistoryDetails","transactionHash","txHash","historyTx","isAllNetworks","avatarProps","src","logoURI","subtitle","c","YStack","amount","Number","NumberSizeableText","size","formatter","color","direction","formatterOptions","tokenSymbol","symbol","showPlusMinusSigns","keyExtractor","key","HistoryContent","sections","network","tokenMap","renderItem","tokenAddress","renderSectionHeader","section","SectionList","SectionHeader","titleProps","isPending","justifyContent","estimatedItemSize","ListEmptyComponent","global_no_transactions_yet","global_no_transactions_yet_desc","labelFn","stakeTag","run","historyResp","serviceStaking","getStakeHistory","listMap","list","Date","timestamp","hideTimeForever","entries","data","sort","a","b","_objectSpread","arguments","forEach","getOwnPropertyDescriptors","defineProperties","defineProperty","serviceHistory","fetchAccountHistory","localItems","fetchLocalStakingHistory","stakingInfo","receive","address","send","localNormalizedItems","_o$stakingInfo$send","_ref2","_o$decodedTx$createdA","_action$token$address","action","decodedTx","txid","createdAt","updatedAt","unshift","global_pending","watchLoading","pollingInterval","Page","scrollEnabled","Header","global_history","Body","buildLocalTxStatusSyncId","details","name","info","capitalizeString","str","charAt","toUpperCase","slice","countDecimalPlaces","input","inputNum","isNaN","inputStr","toFixed","decimalIndex","indexOf"],"sourceRoot":""}