{"version":3,"file":"static/js/19734.cf4d0ebf62.chunk.js","mappings":"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","sources":["webpack://web/../../node_modules/@onekeyfe/coinselect/utils.js","webpack://web/../../packages/core/src/utils/index.ts","webpack://web/../../packages/kit-bg/src/vaults/base/KeyringBase.ts","webpack://web/../../packages/kit-bg/src/vaults/base/KeyringExternalBase.ts","webpack://web/../../packages/kit-bg/src/vaults/base/KeyringHardwareBase.ts","webpack://web/../../packages/kit-bg/src/vaults/base/KeyringHdBase.ts","webpack://web/../../packages/kit-bg/src/vaults/base/KeyringImportedBase.ts","webpack://web/../../packages/kit-bg/src/vaults/base/KeyringSoftwareBase.ts","webpack://web/../../packages/kit-bg/src/vaults/base/KeyringWatchingBase.ts","webpack://web/../../packages/kit-bg/src/vaults/base/VaultBase.ts","webpack://web/../../packages/kit-bg/src/vaults/base/VaultContext.ts","webpack://web/../../packages/shared/types/lightning/payments.ts","webpack://web/../../packages/kit-bg/src/vaults/impls/lightning/KeyringExternal.ts","webpack://web/../../packages/kit-bg/src/vaults/impls/lightning/KeyringHardware.ts","webpack://web/../../packages/kit-bg/src/vaults/impls/lightning/KeyringHd.ts","webpack://web/../../packages/kit-bg/src/vaults/impls/lightning/KeyringImported.ts","webpack://web/../../packages/kit-bg/src/vaults/impls/lightning/KeyringWatching.ts","webpack://web/../../packages/kit-bg/src/vaults/impls/lightning/Vault.ts","webpack://web/../../packages/kit-bg/src/vaults/types.ts"],"sourcesContent":["// baseline estimates, used to improve performance\nvar TX_EMPTY_SIZE = 4 + 1 + 1 + 4\nvar TX_INPUT_BASE = 32 + 4 + 1 + 4\nvar TX_INPUT_PUBKEYHASH = 107\nvar TX_OUTPUT_BASE = 8 + 1\nvar TX_OUTPUT_PUBKEYHASH = 25\nvar OP_RETURN_OVERHEAD = 1 + 8 + 1\n\nfunction inputBytes (input) {\n  return TX_INPUT_BASE + (input.script ? input.script.length : TX_INPUT_PUBKEYHASH)\n}\n\nfunction outputBytes (output) {\n  if (output.script) {\n    return OP_RETURN_OVERHEAD + output.script.length + (output.script.length >= 74 ? 2 : 1)\n  }\n  return TX_OUTPUT_BASE + (output.script ? output.script.length : TX_OUTPUT_PUBKEYHASH)\n}\n\nfunction dustThreshold (output, feeRate) {\n  /* ... classify the output for input estimate  */\n  return inputBytes({}) * feeRate\n}\n\nfunction transactionBytes (inputs, outputs) {\n  return TX_EMPTY_SIZE +\n    inputs.reduce(function (a, x) { return a + inputBytes(x) }, 0) +\n    outputs.reduce(function (a, x) { return a + outputBytes(x) }, 0)\n}\n\nfunction uintOrNaN (v) {\n  if (typeof v !== 'number') return NaN\n  if (!isFinite(v)) return NaN\n  if (Math.floor(v) !== v) return NaN\n  if (v < 0) return NaN\n  return v\n}\n\nfunction sumForgiving (range) {\n  return range.reduce(function (a, x) { return a + (isFinite(x.value) ? x.value : 0) }, 0)\n}\n\nfunction sumOrNaN (range) {\n  return range.reduce(function (a, x) { return a + uintOrNaN(x.value) }, 0)\n}\n\nvar BLANK_OUTPUT = outputBytes({})\n\nfunction finalize (inputs, outputs, feeRate) {\n  var bytesAccum = transactionBytes(inputs, outputs)\n  var feeAfterExtraOutput = feeRate * (bytesAccum + BLANK_OUTPUT)\n  var remainderAfterExtraOutput = sumOrNaN(inputs) - (sumOrNaN(outputs) + feeAfterExtraOutput)\n\n  // is it worth a change output?\n  if (remainderAfterExtraOutput > dustThreshold({}, feeRate)) {\n    outputs = outputs.concat({ value: remainderAfterExtraOutput })\n  }\n\n  var fee = sumOrNaN(inputs) - sumOrNaN(outputs)\n  if (!isFinite(fee)) return { fee: feeRate * bytesAccum }\n\n  return {\n    inputs: inputs,\n    outputs: outputs,\n    fee: fee\n  }\n}\n\nmodule.exports = {\n  dustThreshold: dustThreshold,\n  finalize: finalize,\n  inputBytes: inputBytes,\n  outputBytes: outputBytes,\n  sumOrNaN: sumOrNaN,\n  sumForgiving: sumForgiving,\n  transactionBytes: transactionBytes,\n  uintOrNaN: uintOrNaN\n}\n","import coinselectUtils from'@onekeyfe/coinselect/utils';import accountUtils from'@onekeyhq/shared/src/utils/accountUtils';export function slicePathTemplate(template){return accountUtils.slicePathTemplate(template);}export function getUtxoAccountPrefixPath({fullPath}){var pathComponent=fullPath.split('/');pathComponent.pop();pathComponent.pop();var prefixPath=pathComponent.join('/');return prefixPath;}export function getBIP44Path(account,address){var realPath='';for(var[key,value]of Object.entries(account.addresses)){if(value===address){realPath=key;break;}}return`${account.path}/${realPath}`;}export function estimateTxSize(inputsForCoinSelect,outputsForCoinSelect){return coinselectUtils.transactionBytes(inputsForCoinSelect,outputsForCoinSelect);}","import _isNil from\"lodash/isNil\";import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import{NotImplemented}from'@onekeyhq/shared/src/errors';import{defaultLogger}from'@onekeyhq/shared/src/logger/logger';import accountUtils from'@onekeyhq/shared/src/utils/accountUtils';import timerUtils from'@onekeyhq/shared/src/utils/timerUtils';import{EDBAccountType}from\"../../dbs/local/consts\";import{EVaultKeyringTypes}from\"../types\";import{VaultContext}from\"./VaultContext\";export var KeyringBase=function(_VaultContext){_inherits(KeyringBase,_VaultContext);var _super=_createSuper(KeyringBase);function KeyringBase(vault){var _this;_this=_super.call(this,vault.options);_this.vault=vault;if(_this.vault.networkId!==vault.options.networkId){throw new Error('KeyringBase ERROR: networkId not match1');}if(_this.networkId!==vault.options.networkId){throw new Error('KeyringBase ERROR: networkId not match2');}return _this;}var _proto=KeyringBase.prototype;_proto.isKeyringImported=function isKeyringImported(){return this.keyringType===EVaultKeyringTypes.imported;};_proto.isKeyringHd=function isKeyringHd(){return this.keyringType===EVaultKeyringTypes.hd;};_proto.isKeyringHardware=function isKeyringHardware(){return this.keyringType===EVaultKeyringTypes.hardware;};_proto.isKeyringWatching=function isKeyringWatching(){return this.keyringType===EVaultKeyringTypes.watching;};_proto.basePrepareHdNormalAccounts=function(){var _basePrepareHdNormalAccounts=_asyncToGenerator(function*(params,options){var{walletId}=this;if(!walletId){throw new Error('walletId is not defined');}var{names,deriveInfo,indexes}=params;var{coinType,template,namePrefix,idSuffix}=deriveInfo;if(!coinType){throw new Error('coinType is not defined');}var settings=yield this.getVaultSettings();var{accountType}=settings;var{buildAddressesInfo}=options;var usedIndexes=indexes;var addressInfos=yield buildAddressesInfo({usedIndexes});var ret=[];for(var idx=0;idx<addressInfos.length;idx+=1){var{path,publicKey,address,addresses,relPath}=addressInfos[idx];if(!path){throw new Error('KeyringHD prepareAccounts ERROR: path not found');}if(accountType===EDBAccountType.VARIANT&&!addresses){throw new Error('addresses is required for variant account');}if(accountType===EDBAccountType.VARIANT&&address){throw new Error('address should not set for variant account');}var pathIndex=usedIndexes[idx];var name=names?.[idx]||accountUtils.buildHDAccountName({pathIndex,namePrefix});var id=accountUtils.buildHDAccountId({walletId,path,idSuffix});var indexedAccountId=accountUtils.buildIndexedAccountId({walletId,index:pathIndex});ret.push({id,name,type:accountType,path,pathIndex,relPath,indexedAccountId,coinType,impl:settings.impl,pub:publicKey,address,addresses,template});}return ret;});function basePrepareHdNormalAccounts(_x,_x2){return _basePrepareHdNormalAccounts.apply(this,arguments);}return basePrepareHdNormalAccounts;}();_proto.basePrepareHdUtxoAccounts=function(){var _basePrepareHdUtxoAccounts=_asyncToGenerator(function*(params,options){var{walletId}=this;if(!walletId){throw new Error('walletId is undefined');}var{indexes,deriveInfo,names,skipCheckAccountExist=true}=params;var{coinType,template,namePrefix}=deriveInfo;if(!coinType){throw new Error('coinType is not defined');}var settings=yield this.getVaultSettings();var{accountType}=settings;if(accountType!==EDBAccountType.UTXO){throw new Error('accountType is not utxo');}var{checkIsAccountUsed,buildAddressesInfo}=options;var ignoreFirst=false;var usedIndexes=[...(ignoreFirst?[indexes[0]-1]:[]),...indexes];defaultLogger.account.accountCreatePerf.utxoBuildAddressesInfo();var addressesInfo=yield buildAddressesInfo({usedIndexes});defaultLogger.account.accountCreatePerf.utxoBuildAddressesInfoDone();defaultLogger.account.accountCreatePerf.buildDBUtxoAccounts();var ret=[];var idx=0;for(var{path,relPath,publicKey,xpub,xpubSegwit,address,addresses}of addressesInfo){if(!path||_isNil(xpub)||!addresses){throw new Error('basePrepareHdUtxoAccounts ERROR: path or xpub or addresses is undefined');}if(!relPath){throw new Error('basePrepareHdUtxoAccounts ERROR: relPath is undefined');}var prefix=namePrefix;var pathIndex=usedIndexes[idx];var name=names?.[idx]||`${prefix} #${pathIndex+1}`;var id=`${this.walletId}--${path}`;if(!ignoreFirst||idx>0){var indexedAccountId=accountUtils.buildIndexedAccountId({walletId:this.walletId,index:pathIndex});ret.push({id,name,type:accountType,path,pathIndex,indexedAccountId,relPath,coinType,impl:settings.impl,pub:publicKey,xpub,xpubSegwit,address,addresses,template});}var isLast=idx===addressesInfo.length-1;if(!skipCheckAccountExist&&!isLast&&checkIsAccountUsed){var{isUsed}=yield checkIsAccountUsed({xpub,xpubSegwit,address});if(!isUsed){break;}yield timerUtils.wait(200);}idx+=1;}defaultLogger.account.accountCreatePerf.buildDBUtxoAccountsDone();return ret;});function basePrepareHdUtxoAccounts(_x3,_x4){return _basePrepareHdUtxoAccounts.apply(this,arguments);}return basePrepareHdUtxoAccounts;}();_proto.batchGetAddresses=function(){var _batchGetAddresses=_asyncToGenerator(function*(params){return[];});function batchGetAddresses(_x5){return _batchGetAddresses.apply(this,arguments);}return batchGetAddresses;}();_proto.exportAccountSecretKeys=function(){var _exportAccountSecretKeys=_asyncToGenerator(function*(params){throw new NotImplemented();});function exportAccountSecretKeys(_x6){return _exportAccountSecretKeys.apply(this,arguments);}return exportAccountSecretKeys;}();_proto.buildHwAllNetworkPrepareAccountsParams=function(){var _buildHwAllNetworkPrepareAccountsParams=_asyncToGenerator(function*(params){return undefined;});function buildHwAllNetworkPrepareAccountsParams(_x7){return _buildHwAllNetworkPrepareAccountsParams.apply(this,arguments);}return buildHwAllNetworkPrepareAccountsParams;}();_proto.buildPrepareAccountsPrefixedPath=function buildPrepareAccountsPrefixedPath(params){throw new NotImplemented();};return _createClass(KeyringBase);}(VaultContext);export var KeyringBaseMock=function(_KeyringBase){_inherits(KeyringBaseMock,_KeyringBase);var _super2=_createSuper(KeyringBaseMock);function KeyringBaseMock(){return _super2.apply(this,arguments);}return _createClass(KeyringBaseMock);}(KeyringBase);","import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import{OneKeyInternalError}from'@onekeyhq/shared/src/errors';import{EVaultKeyringTypes}from\"../types\";import{KeyringBase}from\"./KeyringBase\";export var KeyringExternalBase=function(_KeyringBase){_inherits(KeyringExternalBase,_KeyringBase);var _super=_createSuper(KeyringExternalBase);function KeyringExternalBase(...args){var _this;_this=_super.call(this,...args);_this.keyringType=EVaultKeyringTypes.external;return _this;}var _proto=KeyringExternalBase.prototype;_proto.baseSignMessageByExternalWallet=function(){var _baseSignMessageByExternalWallet=_asyncToGenerator(function*(params){return this.backgroundApi.serviceDappSide.signMessage({account:yield this.vault.getAccount(),networkId:this.networkId,params});});function baseSignMessageByExternalWallet(_x){return _baseSignMessageByExternalWallet.apply(this,arguments);}return baseSignMessageByExternalWallet;}();_proto.baseSendTransactionByExternalWallet=function(){var _baseSendTransactionByExternalWallet=_asyncToGenerator(function*(params){return this.backgroundApi.serviceDappSide.sendTransaction({account:yield this.vault.getAccount(),networkId:this.networkId,params});});function baseSendTransactionByExternalWallet(_x2){return _baseSendTransactionByExternalWallet.apply(this,arguments);}return baseSendTransactionByExternalWallet;}();_proto.prepareAccounts=function prepareAccounts(params){throw new OneKeyInternalError('prepareAccounts is not supported for external accounts, use serviceAccount directly');};_proto.basePrepareExternalAccounts=function(){var _basePrepareExternalAccounts=_asyncToGenerator(function*(params){return[];});function basePrepareExternalAccounts(_x3){return _basePrepareExternalAccounts.apply(this,arguments);}return basePrepareExternalAccounts;}();return _createClass(KeyringExternalBase);}(KeyringBase);","import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import{slicePathTemplate}from'@onekeyhq/core/src/utils';import appGlobals from'@onekeyhq/shared/src/appGlobals';import{OneKeyInternalError,UnsupportedAddressTypeError}from'@onekeyhq/shared/src/errors';import{convertDeviceError,convertDeviceResponse}from'@onekeyhq/shared/src/errors/utils/deviceErrorUtils';import{HardwareSDK}from'@onekeyhq/shared/src/hardware/instance';import{defaultLogger}from'@onekeyhq/shared/src/logger/logger';import{EConfirmOnDeviceType}from'@onekeyhq/shared/types/device';import{EVaultKeyringTypes}from\"../types\";import{KeyringBase}from\"./KeyringBase\";export var KeyringHardwareBase=function(_KeyringBase){_inherits(KeyringHardwareBase,_KeyringBase);var _super=_createSuper(KeyringHardwareBase);function KeyringHardwareBase(...args){var _this;_this=_super.call(this,...args);_this.keyringType=EVaultKeyringTypes.hardware;return _this;}var _proto=KeyringHardwareBase.prototype;_proto.getHardwareSDKInstance=function(){var _getHardwareSDKInstance=_asyncToGenerator(function*(){var _ref;defaultLogger.account.accountCreatePerf.getHardwareSDKInstance();var sdk=yield appGlobals?.$backgroundApiProxy?.backgroundApi?.serviceHardware?.getSDKInstance?.();var r=(_ref=sdk)!=null?_ref:HardwareSDK;defaultLogger.account.accountCreatePerf.getHardwareSDKInstanceDone();return r;});function getHardwareSDKInstance(){return _getHardwareSDKInstance.apply(this,arguments);}return getHardwareSDKInstance;}();_proto.baseGetDeviceAccountData=function(){var _baseGetDeviceAccountData=_asyncToGenerator(function*({params,usedIndexes,sdkGetDataFn,errorMessage}){var{deriveInfo,deviceParams}=params;var{dbDevice,confirmOnDevice}=deviceParams;var{connectId,deviceId}=dbDevice;var{template,coinName}=deriveInfo;var{pathPrefix,pathSuffix}=slicePathTemplate(template);var showOnOnekeyFn=function(arrIndex){if(confirmOnDevice===EConfirmOnDeviceType.EveryItem){return true;}if(confirmOnDevice===EConfirmOnDeviceType.LastItem){return arrIndex===usedIndexes[usedIndexes.length-1];}return false;};var result=yield convertDeviceResponse(_asyncToGenerator(function*(){return sdkGetDataFn({connectId,deviceId,pathPrefix,pathSuffix,template,coinName,showOnOnekeyFn});}));if(!result||result.length!==usedIndexes.length){throw new OneKeyInternalError(errorMessage);}return result;});function baseGetDeviceAccountData(_x){return _baseGetDeviceAccountData.apply(this,arguments);}return baseGetDeviceAccountData;}();_proto.baseGetDeviceAccountPublicKeys=function(){var _baseGetDeviceAccountPublicKeys=_asyncToGenerator(function*({params,usedIndexes,sdkGetPublicKeysFn}){return this.baseGetDeviceAccountData({params,usedIndexes,sdkGetDataFn:sdkGetPublicKeysFn,errorMessage:'Unable to get public keys.'});});function baseGetDeviceAccountPublicKeys(_x2){return _baseGetDeviceAccountPublicKeys.apply(this,arguments);}return baseGetDeviceAccountPublicKeys;}();_proto.baseGetDeviceAccountAddresses=function(){var _baseGetDeviceAccountAddresses=_asyncToGenerator(function*({params,usedIndexes,sdkGetAddressFn}){return this.baseGetDeviceAccountData({params,usedIndexes,sdkGetDataFn:sdkGetAddressFn,errorMessage:'Unable to get addresses.'});});function baseGetDeviceAccountAddresses(_x3){return _baseGetDeviceAccountAddresses.apply(this,arguments);}return baseGetDeviceAccountAddresses;}();_proto.getAllNetworkPrepareAccounts=function(){var _getAllNetworkPrepareAccounts=_asyncToGenerator(function*({hwSdkNetwork,params,usedIndexes,buildPath,buildResultAccount}){if(!hwSdkNetwork){return undefined;}var{hwAllNetworkPrepareAccountsResponse}=params;if(hwAllNetworkPrepareAccountsResponse?.length){var resultAccounts=[];var _loop=function*(){var path=yield buildPath({index});var account=hwAllNetworkPrepareAccountsResponse?.find(function(item){return item.network&&item.path===path&&item.network===hwSdkNetwork;});if(account&&account.success){resultAccounts.push(buildResultAccount({account,index}));}};for(var index of usedIndexes){yield*_loop();}if(resultAccounts.length===usedIndexes.length){return{success:true,payload:resultAccounts};}var hasErrorItem=hwAllNetworkPrepareAccountsResponse?.find(function(item){return!item.success&&!!item.payload?.error;});if(!hasErrorItem?.success&&hasErrorItem?.payload?.error){if(hasErrorItem?.payload?.error?.indexOf('Failure_DataError,Forbidden key path')!==-1){throw new UnsupportedAddressTypeError();}throw convertDeviceError(hasErrorItem.payload);}throw new OneKeyInternalError('SDK GetAllNetworkAccounts Failed');}});function getAllNetworkPrepareAccounts(_x4){return _getAllNetworkPrepareAccounts.apply(this,arguments);}return getAllNetworkPrepareAccounts;}();return _createClass(KeyringHardwareBase);}(KeyringBase);","import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import{EVaultKeyringTypes}from\"../types\";import{KeyringSoftwareBase}from\"./KeyringSoftwareBase\";export var KeyringHdBase=function(_KeyringSoftwareBase){_inherits(KeyringHdBase,_KeyringSoftwareBase);var _super=_createSuper(KeyringHdBase);function KeyringHdBase(...args){var _this;_this=_super.call(this,...args);_this.keyringType=EVaultKeyringTypes.hd;return _this;}return _createClass(KeyringHdBase);}(KeyringSoftwareBase);","import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import{EVaultKeyringTypes}from\"../types\";import{KeyringSoftwareBase}from\"./KeyringSoftwareBase\";export var KeyringImportedBase=function(_KeyringSoftwareBase){_inherits(KeyringImportedBase,_KeyringSoftwareBase);var _super=_createSuper(KeyringImportedBase);function KeyringImportedBase(...args){var _this;_this=_super.call(this,...args);_this.keyringType=EVaultKeyringTypes.imported;return _this;}return _createClass(KeyringImportedBase);}(KeyringSoftwareBase);","import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _isNil from\"lodash/isNil\";import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import{decryptImportedCredential}from'@onekeyhq/core/src/secret';import{OneKeyInternalError}from'@onekeyhq/shared/src/errors';import{defaultLogger}from'@onekeyhq/shared/src/logger/logger';import accountUtils from'@onekeyhq/shared/src/utils/accountUtils';import{checkIsDefined}from'@onekeyhq/shared/src/utils/assertUtils';import{noopObject}from'@onekeyhq/shared/src/utils/miscUtils';import localDb from\"../../dbs/local/localDb\";import{KeyringBase}from\"./KeyringBase\";export var KeyringSoftwareBase=function(_KeyringBase){_inherits(KeyringSoftwareBase,_KeyringBase);var _super=_createSuper(KeyringSoftwareBase);function KeyringSoftwareBase(){return _super.apply(this,arguments);}var _proto=KeyringSoftwareBase.prototype;_proto.baseGetCredentialsInfo=function(){var _baseGetCredentialsInfo=_asyncToGenerator(function*({password}){noopObject(password);var hd;var imported;if(this.isKeyringHd()){var credential=yield localDb.getCredential(checkIsDefined(this.walletId));hd=credential.credential;}if(this.isKeyringImported()){var _credential=yield localDb.getCredential(this.accountId);imported=_credential.credential;}return{hd,imported};});function baseGetCredentialsInfo(_x){return _baseGetCredentialsInfo.apply(this,arguments);}return baseGetCredentialsInfo;}();_proto.baseSignTransactionBtc=function(){var _baseSignTransactionBtc=_asyncToGenerator(function*(params){if(!this.coreApi){throw new Error('coreApi is not defined');}var vault=this.vault;var{password,unsignedTx,signOnly}=params;var credentials=yield this.baseGetCredentialsInfo(params);var networkInfo=yield this.getCoreApiNetworkInfo();var{account,btcExtraInfo,relPaths}=yield vault.prepareBtcSignExtraInfo({unsignedTx});var result=yield this.coreApi.signTransaction({networkInfo,unsignedTx,account,relPaths,password,credentials,btcExtraInfo,signOnly});return result;});function baseSignTransactionBtc(_x2){return _baseSignTransactionBtc.apply(this,arguments);}return baseSignTransactionBtc;}();_proto.baseSignTransaction=function(){var _baseSignTransaction=_asyncToGenerator(function*(params){if(!this.coreApi){throw new Error('coreApi is not defined');}var{password,unsignedTx}=params;var account=yield this.vault.getAccount();var credentials=yield this.baseGetCredentialsInfo(params);var networkInfo=yield this.getCoreApiNetworkInfo();var result=yield this.coreApi.signTransaction({networkInfo,password,account,credentials,unsignedTx});return result;});function baseSignTransaction(_x3){return _baseSignTransaction.apply(this,arguments);}return baseSignTransaction;}();_proto.baseSignMessage=function(){var _baseSignMessage=_asyncToGenerator(function*(params){var _this=this;if(!this.coreApi){throw new Error('coreApi is not defined');}var{password,messages}=params;var account=yield this.vault.getAccount();var credentials=yield this.baseGetCredentialsInfo(params);var networkInfo=yield this.getCoreApiNetworkInfo();var result=yield Promise.all(messages.map(function(msg){return checkIsDefined(_this.coreApi).signMessage({networkInfo,unsignedMsg:msg,account,password,credentials});}));return result;});function baseSignMessage(_x4){return _baseSignMessage.apply(this,arguments);}return baseSignMessage;}();_proto.baseSignMessageBtc=function(){var _baseSignMessageBtc=_asyncToGenerator(function*(params){var _this2=this;if(!this.coreApi){throw new Error('coreApi is not defined');}var vault=this.vault;var{password,messages}=params;var credentials=yield this.baseGetCredentialsInfo(params);var networkInfo=yield this.getCoreApiNetworkInfo();var result=yield Promise.all(messages.map(function(){var _ref=_asyncToGenerator(function*(msg){var{account,btcExtraInfo,relPaths}=yield vault.prepareBtcSignExtraInfo({unsignedMessage:msg});return checkIsDefined(_this2.coreApi).signMessage({networkInfo,unsignedMsg:msg,account,relPaths,password,credentials,btcExtraInfo});});return function(_x6){return _ref.apply(this,arguments);};}()));return result;});function baseSignMessageBtc(_x5){return _baseSignMessageBtc.apply(this,arguments);}return baseSignMessageBtc;}();_proto.basePrepareAccountsImported=function(){var _basePrepareAccountsImported=_asyncToGenerator(function*(params,options={}){if(!this.coreApi){throw new Error('coreApi is not defined');}var{name,importedCredential,password,networks,createAtNetwork}=params;var{privateKey}=decryptImportedCredential({credential:importedCredential,password});var settings=yield this.getVaultSettings();var{onlyAvailableOnCertainNetworks}=options;var accountType=options.accountType||settings.accountType;var impl=options.impl||settings.impl;var coinType=options.coinType||params.deriveInfo?.coinType||settings.coinTypeDefault;var networkInfo=yield this.getCoreApiNetworkInfo();var privateKeyRaw=privateKey;var{address,addresses,publicKey}=yield this.coreApi.getAddressFromPrivate({networkInfo,privateKeyRaw,addressEncoding:params.deriveInfo?.addressEncoding});var addressUsed='';if(onlyAvailableOnCertainNetworks){addressUsed=addresses?.[createAtNetwork]||'';if(!addressUsed){throw new Error(`imported account address is empty of network: ${createAtNetwork}`);}}var accountId=accountUtils.buildImportedAccountId({coinType,pub:publicKey,address:addressUsed,addressEncoding:params.deriveInfo?.addressEncoding});return Promise.resolve([{id:accountId,name:name||'',type:accountType,path:'',coinType,impl,networks:onlyAvailableOnCertainNetworks?networks:undefined,createAtNetwork,pub:publicKey,address,addresses}]);});function basePrepareAccountsImported(_x7){return _basePrepareAccountsImported.apply(this,arguments);}return basePrepareAccountsImported;}();_proto.basePrepareAccountsImportedUtxo=function(){var _basePrepareAccountsImportedUtxo=_asyncToGenerator(function*(params){if(!this.coreApi){throw new Error('coreApi is not defined');}var{name,importedCredential,password,createAtNetwork,deriveInfo}=params;var{privateKey}=decryptImportedCredential({credential:importedCredential,password});var addressEncoding=deriveInfo?.addressEncoding;var settings=yield this.getVaultSettings();var{coinTypeDefault:coinType,accountType}=settings;var networkInfo=yield this.getCoreApiNetworkInfo();var privateKeyRaw=privateKey;var{address,addresses,publicKey,xpub,relPath,xpubSegwit,path}=yield this.coreApi.getAddressFromPrivate({networkInfo,privateKeyRaw,addressEncoding});if(_isNil(xpub)||!addresses){throw new Error('xpub or addresses is undefined');}var accountId=accountUtils.buildImportedAccountId({coinType,xpub:xpub||publicKey,addressEncoding});return Promise.resolve([{id:accountId,name:name||'',type:accountType,path:path||'',relPath,coinType,impl:settings.impl,xpub,xpubSegwit,pub:publicKey,address,addresses,createAtNetwork}]);});function basePrepareAccountsImportedUtxo(_x8){return _basePrepareAccountsImportedUtxo.apply(this,arguments);}return basePrepareAccountsImportedUtxo;}();_proto.basePrepareAccountsHd=function(){var _basePrepareAccountsHd=_asyncToGenerator(function*(params){var _this3=this;var{template,addressEncoding}=params.deriveInfo;var{password}=params;var networkInfo=yield this.getCoreApiNetworkInfo();return this.basePrepareHdNormalAccounts(params,{buildAddressesInfo:function(){var _ref2=_asyncToGenerator(function*({usedIndexes}){if(!_this3.coreApi){throw new Error('coreApi is not defined');}var credentials=yield _this3.baseGetCredentialsInfo({password});var{addresses:addressInfos}=yield _this3.coreApi.getAddressesFromHd({networkInfo,template,hdCredential:checkIsDefined(credentials.hd),password,indexes:usedIndexes,addressEncoding});return addressInfos;});return function buildAddressesInfo(_x10){return _ref2.apply(this,arguments);};}()});});function basePrepareAccountsHd(_x9){return _basePrepareAccountsHd.apply(this,arguments);}return basePrepareAccountsHd;}();_proto.basePrepareAccountsHdUtxo=function(){var _basePrepareAccountsHdUtxo=_asyncToGenerator(function*(params,options){var _this4=this;var{password,indexes,deriveInfo,names,skipCheckAccountExist}=params;var addressEncoding=params?.deriveInfo?.addressEncoding;return this.basePrepareHdUtxoAccounts(params,_objectSpread(_objectSpread({},options),{},{buildAddressesInfo:function(){var _ref3=_asyncToGenerator(function*({usedIndexes}){var{coinType,template,namePrefix}=deriveInfo;defaultLogger.account.accountCreatePerf.getCredentialsInfo();var credentials=yield _this4.baseGetCredentialsInfo({password});if(!_this4.coreApi){throw new Error('coreApi is undefined');}defaultLogger.account.accountCreatePerf.getAddressesFromHd();var{addresses:addressesInfo}=yield _this4.coreApi.getAddressesFromHd({networkInfo:yield _this4.getCoreApiNetworkInfo(),template,hdCredential:checkIsDefined(credentials.hd),password,indexes:usedIndexes,addressEncoding});if(addressesInfo.length!==usedIndexes.length){throw new OneKeyInternalError('Unable to get address');}defaultLogger.account.accountCreatePerf.getAddressesFromHdDone();return addressesInfo;});return function buildAddressesInfo(_x13){return _ref3.apply(this,arguments);};}()}));});function basePrepareAccountsHdUtxo(_x11,_x12){return _basePrepareAccountsHdUtxo.apply(this,arguments);}return basePrepareAccountsHdUtxo;}();_proto.baseExportAccountSecretKeys=function(){var _baseExportAccountSecretKeys=_asyncToGenerator(function*(params){var{password,keyType,relPaths}=params;var account=yield this.vault.getAccount();var networkInfo=yield this.getCoreApiNetworkInfo();var credentials=yield this.baseGetCredentialsInfo({password});var{deriveInfo}=yield this.backgroundApi.serviceNetwork.getDeriveTypeByTemplate({networkId:this.networkId,template:account.template});var addressEncoding=deriveInfo?.addressEncoding;if(!this.coreApi){throw new Error('coreApi is not defined');}return this.coreApi.getExportedSecretKey({networkInfo,password,credentials,account,relPaths,keyType,addressEncoding});});function baseExportAccountSecretKeys(_x14){return _baseExportAccountSecretKeys.apply(this,arguments);}return baseExportAccountSecretKeys;}();_proto.baseGetPrivateKeys=function(){var _baseGetPrivateKeys=_asyncToGenerator(function*(params){var{password,relPaths}=params;if(!this.coreApi){throw new Error('coreApi is not defined');}var account=yield this.vault.getAccount();var credentials=yield this.baseGetCredentialsInfo({password});var networkInfo=yield this.getCoreApiNetworkInfo();var privateKeys=yield this.coreApi.getPrivateKeys({networkInfo,password,account,relPaths,credentials});return privateKeys;});function baseGetPrivateKeys(_x15){return _baseGetPrivateKeys.apply(this,arguments);}return baseGetPrivateKeys;}();return _createClass(KeyringSoftwareBase);}(KeyringBase);","import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import{InvalidAddress,OneKeyInternalError}from'@onekeyhq/shared/src/errors';import{ETranslations}from'@onekeyhq/shared/src/locale';import{appLocale}from'@onekeyhq/shared/src/locale/appLocale';import accountUtils from'@onekeyhq/shared/src/utils/accountUtils';import{checkIsDefined}from'@onekeyhq/shared/src/utils/assertUtils';import{EDBAccountType}from\"../../dbs/local/consts\";import{EVaultKeyringTypes}from\"../types\";import{KeyringBase}from\"./KeyringBase\";export var KeyringWatchingBase=function(_KeyringBase){_inherits(KeyringWatchingBase,_KeyringBase);var _super=_createSuper(KeyringWatchingBase);function KeyringWatchingBase(...args){var _this;_this=_super.call(this,...args);_this.keyringType=EVaultKeyringTypes.watching;return _this;}var _proto=KeyringWatchingBase.prototype;_proto.signTransaction=function(){var _signTransaction=_asyncToGenerator(function*(){throw new OneKeyInternalError(appLocale.intl.formatMessage({id:ETranslations.wallet_error_trade_with_watched_acocunt}));});function signTransaction(){return _signTransaction.apply(this,arguments);}return signTransaction;}();_proto.signMessage=function(){var _signMessage=_asyncToGenerator(function*(){throw new OneKeyInternalError(appLocale.intl.formatMessage({id:ETranslations.wallet_error_trade_with_watched_acocunt}));});function signMessage(){return _signMessage.apply(this,arguments);}return signMessage;}();_proto.basePrepareUtxoWatchingAccounts=function(){var _basePrepareUtxoWatchingAccounts=_asyncToGenerator(function*(params){var{address,xpub,networks,createAtNetwork,name,deriveInfo,isUrlAccount,addresses}=params;if(!address&&!xpub){throw new Error('basePrepareUtxoWatchingAccounts ERROR: address and xpub are not defined');}var networkInfo=yield this.getCoreApiNetworkInfo();var settings=yield this.getVaultSettings();var coinType=settings.coinTypeDefault;var addressEncoding=deriveInfo?.addressEncoding;var id=accountUtils.buildWatchingAccountId({coinType,address,xpub,addressEncoding,isUrlAccount});var addressFromXpub='';var xpubSegwit=xpub;if(!address&&xpub){checkIsDefined(this.coreApi);var result=yield this.coreApi?.getAddressFromPublic({publicKey:xpub,addressEncoding,networkInfo});addressFromXpub=result?.address||'';xpubSegwit=result?.xpubSegwit||xpubSegwit||xpub;}var account={id,name,type:EDBAccountType.UTXO,relPath:'0/0',coinType,impl:settings.impl,networks,createAtNetwork,address:addressFromXpub||address||'',xpub:xpub||'',xpubSegwit,path:'',addresses:addresses||{}};return[account];});function basePrepareUtxoWatchingAccounts(_x){return _basePrepareUtxoWatchingAccounts.apply(this,arguments);}return basePrepareUtxoWatchingAccounts;}();_proto.basePrepareSimpleWatchingAccounts=function(){var _basePrepareSimpleWatchingAccounts=_asyncToGenerator(function*(params,options={}){var{address,name,networks,createAtNetwork,isUrlAccount}=params;if(!address){throw new InvalidAddress();}if(!createAtNetwork){throw new Error('basePrepareSimpleWatchingAccounts ERROR: createAtNetwork is not defined');}var{onlyAvailableOnCertainNetworks=false}=options;var settings=yield this.getVaultSettings();var coinType=options.coinType||settings.coinTypeDefault;var impl=options.impl||settings.impl;var id=accountUtils.buildWatchingAccountId({coinType,address,isUrlAccount});var account={id,name:name||'',type:EDBAccountType.SIMPLE,coinType,impl,networks:onlyAvailableOnCertainNetworks?networks:undefined,createAtNetwork,address,pub:'',path:''};return Promise.resolve([account]);});function basePrepareSimpleWatchingAccounts(_x2){return _basePrepareSimpleWatchingAccounts.apply(this,arguments);}return basePrepareSimpleWatchingAccounts;}();return _createClass(KeyringWatchingBase);}(KeyringBase);","import _objectWithoutProperties from\"@babel/runtime/helpers/objectWithoutProperties\";import _omitBy from\"lodash/omitBy\";import _isEmpty from\"lodash/isEmpty\";import _isNil from\"lodash/isNil\";import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _omit from\"lodash/omit\";import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";var _excluded=[\"accountId\"],_excluded2=[\"accountId\"];function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import qs from'querystring';import{Semaphore}from'async-mutex';import BigNumber from'bignumber.js';import{decodeSensitiveText,encodeSensitiveText}from'@onekeyhq/core/src/secret';import{getNetworkIdsMap}from'@onekeyhq/shared/src/config/networkIds';import{NotImplemented}from'@onekeyhq/shared/src/errors';import platformEnv from'@onekeyhq/shared/src/platformEnv';import accountUtils from'@onekeyhq/shared/src/utils/accountUtils';import chainValueUtils from'@onekeyhq/shared/src/utils/chainValueUtils';import hexUtils from'@onekeyhq/shared/src/utils/hexUtils';import{getOnChainHistoryTxAssetInfo,getOnChainHistoryTxStatus}from'@onekeyhq/shared/src/utils/historyUtils';import{generateUUID}from'@onekeyhq/shared/src/utils/miscUtils';import{buildTxActionDirection,getStakingActionLabel}from'@onekeyhq/shared/src/utils/txActionUtils';import{addressIsEnsFormat}from'@onekeyhq/shared/src/utils/uriUtils';import{EServiceEndpointEnum}from'@onekeyhq/shared/types/endpoint';import{EOnChainHistoryTxType}from'@onekeyhq/shared/types/history';import{EDecodedTxActionType,EDecodedTxDirection}from'@onekeyhq/shared/types/tx';import{VaultContext}from\"./VaultContext\";if(platformEnv.isExtensionUi){debugger;throw new Error('engine/VaultBase is not allowed imported from ui');}export var VaultBaseChainOnly=function(_VaultContext){_inherits(VaultBaseChainOnly,_VaultContext);var _super=_createSuper(VaultBaseChainOnly);function VaultBaseChainOnly(){return _super.apply(this,arguments);}var _proto=VaultBaseChainOnly.prototype;_proto.getXpubFromAccount=function(){var _getXpubFromAccount=_asyncToGenerator(function*(networkAccount){return networkAccount.xpub;});function getXpubFromAccount(_x){return _getXpubFromAccount.apply(this,arguments);}return getXpubFromAccount;}();_proto.proxyJsonRPCCall=function(){var _proxyJsonRPCCall=_asyncToGenerator(function*(request){throw new NotImplemented();});function proxyJsonRPCCall(_x2){return _proxyJsonRPCCall.apply(this,arguments);}return proxyJsonRPCCall;}();_proto.addressFromBase=function(){var _addressFromBase=_asyncToGenerator(function*(account){throw new NotImplemented();});function addressFromBase(_x3){return _addressFromBase.apply(this,arguments);}return addressFromBase;}();_proto.addressToBase=function(){var _addressToBase=_asyncToGenerator(function*(address){throw new NotImplemented();});function addressToBase(_x4){return _addressToBase.apply(this,arguments);}return addressToBase;}();_proto.baseValidatePrivateKey=function(){var _baseValidatePrivateKey=_asyncToGenerator(function*(privateKey){if(!this.coreApi){throw new Error('coreApi not defined in Vault');}try{var networkInfo=yield this.getCoreApiNetworkInfo();var result=yield this.coreApi.getAddressFromPrivate({networkInfo,privateKeyRaw:privateKey});if(result.publicKey){return{isValid:true};}}catch(error){}return{isValid:false};});function baseValidatePrivateKey(_x5){return _baseValidatePrivateKey.apply(this,arguments);}return baseValidatePrivateKey;}();_proto.baseValidateGeneralInput=function(){var _baseValidateGeneralInput=_asyncToGenerator(function*(params){var input=decodeSensitiveText({encodedText:params.input});var{validateAddress,validateXprvt,validateXpub,validatePrivateKey}=params;var result={isValid:false};var isValid=false;var addressResult;var xpubResult;var xprvtResult;var privateKeyResult;if(validateAddress&&!isValid){try{addressResult=yield this.validateAddress(input);result.addressResult=addressResult;isValid=isValid||addressResult?.isValid;}catch(error){}}if(validateXpub&&!isValid){try{xpubResult=yield this.validateXpub(input);result.xpubResult=xpubResult;isValid=isValid||xpubResult?.isValid;}catch(error){}}if(validateXprvt&&!isValid){try{xprvtResult=yield this.validateXprvt(input);result.xprvtResult=xprvtResult;isValid=isValid||xprvtResult?.isValid;}catch(error){}}if(validatePrivateKey&&!isValid){try{privateKeyResult=yield this.validatePrivateKey(input);result.privateKeyResult=privateKeyResult;isValid=isValid||privateKeyResult?.isValid;}catch(error){}}result.isValid=Boolean(isValid);return{result,inputDecoded:input};});function baseValidateGeneralInput(_x6){return _baseValidateGeneralInput.apply(this,arguments);}return baseValidateGeneralInput;}();_proto.baseGetPrivateKeyFromImported=function(){var _baseGetPrivateKeyFromImported=_asyncToGenerator(function*(params){var input=decodeSensitiveText({encodedText:params.input});var privateKey=hexUtils.stripHexPrefix(input);privateKey=encodeSensitiveText({text:privateKey});return{privateKey};});function baseGetPrivateKeyFromImported(_x7){return _baseGetPrivateKeyFromImported.apply(this,arguments);}return baseGetPrivateKeyFromImported;}();_proto.validateAmountInputShown=function(){var _validateAmountInputShown=_asyncToGenerator(function*({toAddress}){return Promise.resolve({isValid:true});});function validateAmountInputShown(_x8){return _validateAmountInputShown.apply(this,arguments);}return validateAmountInputShown;}();_proto.checkIsDomainName=function(){var _checkIsDomainName=_asyncToGenerator(function*({name}){return addressIsEnsFormat(name);});function checkIsDomainName(_x9){return _checkIsDomainName.apply(this,arguments);}return checkIsDomainName;}();_proto.resolveDomainName=function(){var _resolveDomainName=_asyncToGenerator(function*({name}){return null;});function resolveDomainName(_x10){return _resolveDomainName.apply(this,arguments);}return resolveDomainName;}();_proto.getCustomRpcEndpointStatus=function(){var _getCustomRpcEndpointStatus=_asyncToGenerator(function*(params){throw new NotImplemented();});function getCustomRpcEndpointStatus(_x11){return _getCustomRpcEndpointStatus.apply(this,arguments);}return getCustomRpcEndpointStatus;}();_proto.checkFeeSupportInfo=function(){var _checkFeeSupportInfo=_asyncToGenerator(function*(params){throw new NotImplemented();});function checkFeeSupportInfo(_x12){return _checkFeeSupportInfo.apply(this,arguments);}return checkFeeSupportInfo;}();_proto.fetchTokenDetails=function(){var _fetchTokenDetails=_asyncToGenerator(function*(params){var isCustomNetwork=yield this.backgroundApi.serviceNetwork.isCustomNetwork({networkId:this.networkId});if(isCustomNetwork){return this.fetchTokenDetailsByRpc(params);}return this.fetchTokenDetailsByApi(params);});function fetchTokenDetails(_x13){return _fetchTokenDetails.apply(this,arguments);}return fetchTokenDetails;}();_proto.fetchTokenDetailsByApi=function(){var _fetchTokenDetailsByApi=_asyncToGenerator(function*(params){var _params$signal;var client=yield this.backgroundApi.serviceToken.getClient(EServiceEndpointEnum.Wallet);var resp=yield client.post('/wallet/v1/account/token/search',_omit(params,['walletId','accountId','signal']),{headers:yield this.backgroundApi.serviceAccountProfile._getWalletTypeHeader({accountId:params.accountId,walletId:params.walletId}),signal:(_params$signal=params.signal)!=null?_params$signal:undefined});return resp;});function fetchTokenDetailsByApi(_x14){return _fetchTokenDetailsByApi.apply(this,arguments);}return fetchTokenDetailsByApi;}();_proto.fetchTokenDetailsByRpc=function(){var _fetchTokenDetailsByRpc=_asyncToGenerator(function*(params){throw new NotImplemented();});function fetchTokenDetailsByRpc(_x15){return _fetchTokenDetailsByRpc.apply(this,arguments);}return fetchTokenDetailsByRpc;}();return _createClass(VaultBaseChainOnly);}(VaultContext);export var VaultBase=function(_VaultBaseChainOnly){_inherits(VaultBase,_VaultBaseChainOnly);var _super2=_createSuper(VaultBase);function VaultBase(...args){var _this;_this=_super2.call(this,...args);_this.uuid=generateUUID();_this.mutexBuildOnChainHistoryTxGetDBAccount=new Semaphore(1);return _this;}var _proto2=VaultBase.prototype;_proto2.init=function(){var _init=_asyncToGenerator(function*(config){yield this.initKeyring(config);});function init(_x16){return _init.apply(this,arguments);}return init;}();_proto2.initKeyring=function(){var _initKeyring=_asyncToGenerator(function*(config){if(!this.options.isChainOnly){this.keyring=yield config.keyringCreator(this);}});function initKeyring(_x17){return _initKeyring.apply(this,arguments);}return initKeyring;}();_proto2.broadcastTransaction=function(){var _broadcastTransaction=_asyncToGenerator(function*(params){var{signedTx}=params;var txid=yield this.backgroundApi.serviceSend.broadcastTransaction(params);return _objectSpread(_objectSpread({},signedTx),{},{txid,encodedTx:signedTx.encodedTx});});function broadcastTransaction(_x18){return _broadcastTransaction.apply(this,arguments);}return broadcastTransaction;}();_proto2.broadcastTransactionFromCustomRpc=function(){var _broadcastTransactionFromCustomRpc=_asyncToGenerator(function*(params){throw new NotImplemented();});function broadcastTransactionFromCustomRpc(_x19){return _broadcastTransactionFromCustomRpc.apply(this,arguments);}return broadcastTransactionFromCustomRpc;}();_proto2.validateSendAmount=function(){var _validateSendAmount=_asyncToGenerator(function*(params){return Promise.resolve(true);});function validateSendAmount(_x20){return _validateSendAmount.apply(this,arguments);}return validateSendAmount;}();_proto2.buildOnChainHistoryTxExtraInfo=function(){var _buildOnChainHistoryTxExtraInfo=_asyncToGenerator(function*({onChainHistoryTx}){return null;});function buildOnChainHistoryTxExtraInfo(_x21){return _buildOnChainHistoryTxExtraInfo.apply(this,arguments);}return buildOnChainHistoryTxExtraInfo;}();_proto2.precheckUnsignedTx=function(){var _precheckUnsignedTx=_asyncToGenerator(function*(params){return Promise.resolve(true);});function precheckUnsignedTx(_x22){return _precheckUnsignedTx.apply(this,arguments);}return precheckUnsignedTx;}();_proto2.buildEstimateFeeParams=function(){var _buildEstimateFeeParams=_asyncToGenerator(function*({encodedTx}){return Promise.resolve({encodedTx});});function buildEstimateFeeParams(_x23){return _buildEstimateFeeParams.apply(this,arguments);}return buildEstimateFeeParams;}();_proto2.buildParseTransactionParams=function(){var _buildParseTransactionParams=_asyncToGenerator(function*({encodedTx}){return Promise.resolve({encodedTx});});function buildParseTransactionParams(_x24){return _buildParseTransactionParams.apply(this,arguments);}return buildParseTransactionParams;}();_proto2.buildFetchHistoryListParams=function(){var _buildFetchHistoryListParams=_asyncToGenerator(function*(params){return Promise.resolve({});});function buildFetchHistoryListParams(_x25){return _buildFetchHistoryListParams.apply(this,arguments);}return buildFetchHistoryListParams;}();_proto2.buildHistoryTx=function(){var _buildHistoryTx=_asyncToGenerator(function*(params){var{historyTxToMerge,decodedTx,signedTx,isSigner,isLocalCreated,dbAccount}=params;var accountAddress=params.accountAddress||'';var xpub=params.xpub;var txid=signedTx?.txid||decodedTx?.txid||'';if(!txid){throw new Error('buildHistoryTx txid not found');}var{accountId,networkId}=decodedTx;try{var[a,x]=yield Promise.all([this.backgroundApi.serviceAccount.getAccountAddressForApi({dbAccount,accountId,networkId}),this.backgroundApi.serviceAccount.getAccountXpub({dbAccount,accountId,networkId})]);accountAddress=a;xpub=x;}catch(e){}decodedTx.txid=txid||decodedTx.txid;decodedTx.owner=accountAddress;decodedTx.xpub=xpub;if(isSigner){decodedTx.signer=accountAddress;}var historyId=accountUtils.buildLocalHistoryId({networkId,txid,accountAddress,xpub});var historyTx=_objectSpread(_objectSpread({id:historyId,isLocalCreated:Boolean(isLocalCreated)},historyTxToMerge),{},{decodedTx});return Promise.resolve(historyTx);});function buildHistoryTx(_x26){return _buildHistoryTx.apply(this,arguments);}return buildHistoryTx;}();_proto2.fixOnChainHistoryAccountData=function fixOnChainHistoryAccountData(params){var{accountId:originAccountId,networkId:originNetworkId,accountAddress:originAccountAddress,xpub:originXpub,onChainHistoryTx,allNetworkHistoryExtraItems}=params;var accountId=originAccountId;var networkId=originNetworkId;var accountAddress=originAccountAddress;var xpub=originXpub;if(originNetworkId===getNetworkIdsMap().onekeyall){var allNetworkAccount=allNetworkHistoryExtraItems?.find(function(i){var[_,txXpub]=onChainHistoryTx.key.split('_');if(!_isNil(i.accountXpub)){return i.networkId===onChainHistoryTx.networkId&&i.accountXpub===txXpub;}return i.networkId===onChainHistoryTx.networkId;});if(allNetworkAccount){accountId=allNetworkAccount.accountId;networkId=allNetworkAccount.networkId;accountAddress=allNetworkAccount.accountAddress;xpub=allNetworkAccount.accountXpub;}}return{accountId,networkId,accountAddress,xpub};};_proto2.buildOnChainHistoryTx=function(){var _buildOnChainHistoryTx=_asyncToGenerator(function*(params){var _this2=this;var{onChainHistoryTx,tokens,nfts,allNetworkHistoryExtraItems,dbAccountCache}=params;var{accountId,networkId,accountAddress,xpub}=this.fixOnChainHistoryAccountData({accountId:params.accountId,networkId:params.networkId,accountAddress:params.accountAddress,xpub:params.xpub,onChainHistoryTx,allNetworkHistoryExtraItems});if(params.accountId!==accountId){}var key=`${accountId}`;var dbAccount;if(dbAccountCache){yield this.mutexBuildOnChainHistoryTxGetDBAccount.runExclusive(_asyncToGenerator(function*(){dbAccount=dbAccountCache?.[key];if(!dbAccount){dbAccount=yield _this2.backgroundApi.serviceAccount.getDBAccountSafe({accountId});if(dbAccount){dbAccountCache[key]=dbAccount;}}}));}var vaultSettings=yield this.backgroundApi.serviceNetwork.getVaultSettings({networkId});try{var action=yield this.buildHistoryTxAction({tx:onChainHistoryTx,tokens,nfts});var decodedTx={txid:onChainHistoryTx.tx,owner:accountAddress,signer:onChainHistoryTx.from,to:onChainHistoryTx.to,nonce:onChainHistoryTx.nonce,actions:[action],status:getOnChainHistoryTxStatus(onChainHistoryTx.status),networkId,accountId,xpub,totalFeeInNative:onChainHistoryTx.gasFee,totalFeeFiatValue:onChainHistoryTx.gasFeeFiatValue,nativeAmount:vaultSettings.isUtxo?onChainHistoryTx.value:undefined,extraInfo:yield this.buildOnChainHistoryTxExtraInfo({onChainHistoryTx}),payload:{type:onChainHistoryTx.type,value:onChainHistoryTx.value,label:onChainHistoryTx.label}};decodedTx.updatedAt=new Date(onChainHistoryTx.timestamp*1000).getTime();decodedTx.createdAt=decodedTx.updatedAt;decodedTx.isFinal=true;return yield this.buildHistoryTx({dbAccount,decodedTx,accountAddress,xpub});}catch(e){return null;}});function buildOnChainHistoryTx(_x27){return _buildOnChainHistoryTx.apply(this,arguments);}return buildOnChainHistoryTx;}();_proto2.buildHistoryTxAction=function(){var _buildHistoryTxAction=_asyncToGenerator(function*({tx,tokens,nfts}){if(tx.type===EOnChainHistoryTxType.Approve&&tx.tokenApprove){return this.buildHistoryTxApproveAction({tx,tokens,nfts,tokenApprove:tx.tokenApprove});}if(_isEmpty(tx.sends)&&_isEmpty(tx.receives)){if(tx.type)return this.buildHistoryTxFunctionCallAction({tx});return this.buildHistoryTxUnknownAction({tx});}return this.buildHistoryTransferAction({tx,tokens,nfts});});function buildHistoryTxAction(_x28){return _buildHistoryTxAction.apply(this,arguments);}return buildHistoryTxAction;}();_proto2.buildHistoryTxFunctionCallAction=function(){var _buildHistoryTxFunctionCallAction=_asyncToGenerator(function*({tx}){var network=yield this.getNetwork();return{type:EDecodedTxActionType.FUNCTION_CALL,functionCall:{from:tx.from,to:tx.to,functionName:tx.label,functionHash:tx.functionCode,args:tx.params}};});function buildHistoryTxFunctionCallAction(_x29){return _buildHistoryTxFunctionCallAction.apply(this,arguments);}return buildHistoryTxFunctionCallAction;}();_proto2.buildHistoryTxUnknownAction=function(){var _buildHistoryTxUnknownAction=_asyncToGenerator(function*({tx}){var network=yield this.getNetwork();return{type:EDecodedTxActionType.UNKNOWN,unknownAction:{from:tx.from,to:tx.to,label:tx.label}};});function buildHistoryTxUnknownAction(_x30){return _buildHistoryTxUnknownAction.apply(this,arguments);}return buildHistoryTxUnknownAction;}();_proto2.buildHistoryTransferAction=function(){var _buildHistoryTransferAction=_asyncToGenerator(function*({tx,tokens,nfts}){var _this3=this;return{type:EDecodedTxActionType.ASSET_TRANSFER,assetTransfer:{from:tx.from,to:tx.to,label:tx.label,sends:tx.sends.map(function(send){return _this3.buildHistoryTransfer({transfer:send,tokens,nfts});}),receives:tx.receives.map(function(receive){return _this3.buildHistoryTransfer({transfer:receive,tokens,nfts});})}};});function buildHistoryTransferAction(_x31){return _buildHistoryTransferAction.apply(this,arguments);}return buildHistoryTransferAction;}();_proto2.buildHistoryTransfer=function buildHistoryTransfer({transfer,tokens,nfts}){var{icon,symbol,name,isNFT,isNative,price}=getOnChainHistoryTxAssetInfo({key:transfer.key,tokenAddress:transfer.token,tokens,nfts});return{from:transfer.from,to:transfer.to,tokenIdOnNetwork:transfer.token,amount:transfer.amount,label:transfer.label,isOwn:transfer.isOwn,icon,name,symbol,isNFT,isNative,price};};_proto2.buildHistoryTxApproveAction=function buildHistoryTxApproveAction({tx,tokens,nfts,tokenApprove}){var{icon,symbol,name,decimals}=getOnChainHistoryTxAssetInfo({key:tokenApprove.key,tokenAddress:tokenApprove.token,tokens,nfts});return{type:EDecodedTxActionType.TOKEN_APPROVE,tokenApprove:{from:tx.from,to:tx.to,spender:tokenApprove.spender,icon,name,symbol,decimals,label:tx.label,tokenIdOnNetwork:tokenApprove.token,amount:new BigNumber(tokenApprove.amount).shiftedBy(-decimals).toFixed(),isInfiniteAmount:tokenApprove.isInfiniteAmount}};};_proto2.buildTxTransferAssetAction=function(){var _buildTxTransferAssetAction=_asyncToGenerator(function*(params){var{from,to,transfers,data,application,isInternalSwap,isInternalStaking,internalStakingLabel,swapReceivedAddress,swapReceivedNetworkId}=params;var[accountAddress,network]=yield Promise.all([this.getAccountAddress(),this.getNetwork()]);var sendNativeTokenAmountBN=new BigNumber(0);var assetTransfer={from,to,sends:[],receives:[],application,isInternalSwap,isInternalStaking,internalStakingLabel,swapReceivedAddress,swapReceivedNetworkId};transfers.forEach(function(transfer){if(buildTxActionDirection({from:transfer.from,to:transfer.to,accountAddress})===EDecodedTxDirection.OUT){assetTransfer.sends.push(transfer);if(transfer.isNative){sendNativeTokenAmountBN=sendNativeTokenAmountBN.plus(new BigNumber(transfer.amount));}}else{assetTransfer.receives.push(transfer);}});assetTransfer.nativeAmount=sendNativeTokenAmountBN.toFixed();assetTransfer.nativeAmountValue=chainValueUtils.convertAmountToChainValue({value:sendNativeTokenAmountBN,network});return{type:EDecodedTxActionType.ASSET_TRANSFER,data,assetTransfer};});function buildTxTransferAssetAction(_x32){return _buildTxTransferAssetAction.apply(this,arguments);}return buildTxTransferAssetAction;}();_proto2.buildInternalSwapAction=function(){var _buildInternalSwapAction=_asyncToGenerator(function*(params){var _swapSendToken$logoUR,_swapSendToken$name,_swapReceiveToken$log,_swapReceiveToken$nam,_providerInfo$provide;var{swapData,swapInfo,swapToAddress}=params;var swapSendToken=swapInfo.sender.token;var swapReceiveToken=swapInfo.receiver.token;var providerInfo=swapInfo.swapBuildResData.result.info;var otherFeeInfos=swapInfo.swapBuildResData.result.fee?.otherFeeInfos;var otherFeeInfoTransfers=[];var transfers=[{from:swapInfo.accountAddress,to:'',tokenIdOnNetwork:swapSendToken.contractAddress,icon:(_swapSendToken$logoUR=swapSendToken.logoURI)!=null?_swapSendToken$logoUR:'',name:(_swapSendToken$name=swapSendToken.name)!=null?_swapSendToken$name:'',symbol:swapSendToken.symbol,amount:swapInfo.sender.amount,isNFT:false,isNative:swapSendToken.isNative,networkId:swapInfo.sender.accountInfo.networkId},{from:'',to:swapInfo.receivingAddress,tokenIdOnNetwork:swapReceiveToken.contractAddress,icon:(_swapReceiveToken$log=swapReceiveToken.logoURI)!=null?_swapReceiveToken$log:'',name:(_swapReceiveToken$nam=swapReceiveToken.name)!=null?_swapReceiveToken$nam:'',symbol:swapReceiveToken.symbol,amount:swapInfo.receiver.amount,isNFT:false,isNative:swapReceiveToken.isNative,networkId:swapInfo.receiver.accountInfo.networkId}];if(otherFeeInfos){otherFeeInfos.forEach(function(feeInfo){if(feeInfo.token.contractAddress===transfers[0].tokenIdOnNetwork){transfers[0].amount=new BigNumber(transfers[0].amount).plus(feeInfo.amount).toFixed();}else{var _feeInfo$token$logoUR,_feeInfo$token$name;otherFeeInfoTransfers.push({from:swapInfo.accountAddress,to:'',tokenIdOnNetwork:feeInfo.token.contractAddress,icon:(_feeInfo$token$logoUR=feeInfo.token.logoURI)!=null?_feeInfo$token$logoUR:'',name:(_feeInfo$token$name=feeInfo.token.name)!=null?_feeInfo$token$name:'',symbol:feeInfo.token.symbol,amount:feeInfo.amount,isNFT:false,isNative:feeInfo.token.isNative,networkId:swapInfo.sender.accountInfo.networkId});}});}transfers=[...otherFeeInfoTransfers,...transfers];var action=yield this.buildTxTransferAssetAction({from:swapInfo.accountAddress,to:swapToAddress!=null?swapToAddress:'',data:swapData,application:{name:providerInfo.providerName,icon:(_providerInfo$provide=providerInfo.providerLogo)!=null?_providerInfo$provide:''},isInternalSwap:true,swapReceivedAddress:swapInfo.receivingAddress,swapReceivedNetworkId:swapInfo.receiver.token.networkId,transfers});return action;});function buildInternalSwapAction(_x33){return _buildInternalSwapAction.apply(this,arguments);}return buildInternalSwapAction;}();_proto2.buildInternalStakingAction=function(){var _buildInternalStakingAction=_asyncToGenerator(function*(params){var _send$token$logoURI,_send$token$name,_receive$token$logoUR,_receive$token$name;var{stakingInfo,stakingData,accountAddress,stakingToAddress}=params;var{protocol,protocolLogoURI,send,receive}=stakingInfo;var transfers=[send&&{from:accountAddress,to:'',tokenIdOnNetwork:send.token.address,icon:(_send$token$logoURI=send.token.logoURI)!=null?_send$token$logoURI:'',name:(_send$token$name=send.token.name)!=null?_send$token$name:'',symbol:send.token.symbol,amount:send.amount,isNFT:false,isNative:send.token.isNative},receive&&{from:'',to:accountAddress,tokenIdOnNetwork:receive.token.address,icon:(_receive$token$logoUR=receive.token.logoURI)!=null?_receive$token$logoUR:'',name:(_receive$token$name=receive.token.name)!=null?_receive$token$name:'',symbol:receive.token.symbol,amount:receive.amount,isNFT:false,isNative:receive.token.isNative}].filter(Boolean);var action=yield this.buildTxTransferAssetAction({from:accountAddress,to:stakingToAddress!=null?stakingToAddress:'',data:stakingData,application:{name:protocol,icon:protocolLogoURI!=null?protocolLogoURI:''},isInternalStaking:true,internalStakingLabel:getStakingActionLabel({stakingInfo}),transfers});return action;});function buildInternalStakingAction(_x34){return _buildInternalStakingAction.apply(this,arguments);}return buildInternalStakingAction;}();_proto2.signTransaction=function(){var _signTransaction=_asyncToGenerator(function*(params){var _params$signOnly,_signedTx$encodedTx;var{unsignedTx}=params;params.signOnly=(_params$signOnly=params.signOnly)!=null?_params$signOnly:true;var signedTx=yield this.keyring.signTransaction(params);return _objectSpread(_objectSpread({},signedTx),{},{encodedTx:(_signedTx$encodedTx=signedTx.encodedTx)!=null?_signedTx$encodedTx:unsignedTx.encodedTx});});function signTransaction(_x35){return _signTransaction.apply(this,arguments);}return signTransaction;}();_proto2.getAccount=function(){var _getAccount=_asyncToGenerator(function*({dbAccount}={}){var account=dbAccount;if(!account||account?.id!==this.accountId){account=yield this.backgroundApi.serviceAccount.getDBAccount({accountId:this.accountId});}if(!accountUtils.isAccountCompatibleWithNetwork({account,networkId:this.networkId})){throw new Error(`account impl not matched to network: ${this.networkId} ${account.id?.slice(0,30)}`);}var networkInfo=yield this.getNetworkInfo();var externalAccount=account;var externalAccountAddress='';if(externalAccount.connectedAddresses){var buildExternalAccountAddress=function({key,fallbackIndex}){var _externalAccount$sele;if(!key){return'';}var index=(_externalAccount$sele=externalAccount.selectedAddress?.[key])!=null?_externalAccount$sele:fallbackIndex;var addresses=externalAccount.connectedAddresses?.[key]?.split(',').filter(Boolean)||[];return addresses?.[index]||addresses?.[fallbackIndex]||'';};externalAccountAddress=buildExternalAccountAddress({key:this.networkId,fallbackIndex:-1});if(!externalAccountAddress){var impl=yield this.getNetworkImpl();externalAccountAddress=buildExternalAccountAddress({key:impl,fallbackIndex:0});}if(!externalAccountAddress){externalAccountAddress=buildExternalAccountAddress({key:this.networkId,fallbackIndex:0});}}var addressDetail=yield this.buildAccountAddressDetail({networkInfo,account,networkId:this.networkId,externalAccountAddress});var address=addressDetail?.address||'';if(!address&&!addressDetail.allowEmptyAddress||!addressDetail.isValid){throw new Error('VaultBase.getAccount ERROR: address is invalid');}return _objectSpread(_objectSpread({},account),{},{addressDetail,address});});function getAccount(){return _getAccount.apply(this,arguments);}return getAccount;}();_proto2.getAccountAddress=function(){var _getAccountAddress=_asyncToGenerator(function*(){return(yield this.getAccount()).address;});function getAccountAddress(){return _getAccountAddress.apply(this,arguments);}return getAccountAddress;}();_proto2.getAccountPath=function(){var _getAccountPath=_asyncToGenerator(function*(){return(yield this.getAccount()).path;});function getAccountPath(){return _getAccountPath.apply(this,arguments);}return getAccountPath;}();_proto2.getAccountXpub=function(){var _getAccountXpub=_asyncToGenerator(function*({dbAccount}={}){var networkAccount=yield this.getAccount({dbAccount});return this.getXpubFromAccount(networkAccount);});function getAccountXpub(){return _getAccountXpub.apply(this,arguments);}return getAccountXpub;}();_proto2.fillTokensDetails=function(){var _fillTokensDetails=_asyncToGenerator(function*({tokensDetails}){return Promise.resolve(tokensDetails);});function fillTokensDetails(_x36){return _fillTokensDetails.apply(this,arguments);}return fillTokensDetails;}();_proto2.fillAccountDetails=function(){var _fillAccountDetails=_asyncToGenerator(function*({accountDetails}){return Promise.resolve(accountDetails);});function fillAccountDetails(_x37){return _fillAccountDetails.apply(this,arguments);}return fillAccountDetails;}();_proto2.isEarliestLocalPendingTx=function(){var _isEarliestLocalPendingTx=_asyncToGenerator(function*({encodedTx}){return true;});function isEarliestLocalPendingTx(_x38){return _isEarliestLocalPendingTx.apply(this,arguments);}return isEarliestLocalPendingTx;}();_proto2.buildReplaceEncodedTx=function(){var _buildReplaceEncodedTx=_asyncToGenerator(function*({decodedTx,replaceType}){return Promise.resolve(decodedTx.encodedTx);});function buildReplaceEncodedTx(_x39){return _buildReplaceEncodedTx.apply(this,arguments);}return buildReplaceEncodedTx;}();_proto2.attachFeeInfoToDAppEncodedTx=function(){var _attachFeeInfoToDAppEncodedTx=_asyncToGenerator(function*(params){return Promise.resolve(params.encodedTx);});function attachFeeInfoToDAppEncodedTx(_x40){return _attachFeeInfoToDAppEncodedTx.apply(this,arguments);}return attachFeeInfoToDAppEncodedTx;}();_proto2.activateToken=function(){var _activateToken=_asyncToGenerator(function*(params){throw new NotImplemented();});function activateToken(_x41){return _activateToken.apply(this,arguments);}return activateToken;}();_proto2.getAddressType=function(){var _getAddressType=_asyncToGenerator(function*({address}){return Promise.resolve({});});function getAddressType(_x42){return _getAddressType.apply(this,arguments);}return getAddressType;}();_proto2.buildStakeEncodedTx=function buildStakeEncodedTx(params){return Promise.resolve(params);};_proto2.fetchAccountDetails=function(){var _fetchAccountDetails=_asyncToGenerator(function*(params){var isCustomNetwork=yield this.backgroundApi.serviceNetwork.isCustomNetwork({networkId:this.networkId});if(isCustomNetwork){return this.fetchAccountDetailsByRpc(params);}return this.fetchAccountDetailsByApi(params);});function fetchAccountDetails(_x43){return _fetchAccountDetails.apply(this,arguments);}return fetchAccountDetails;}();_proto2.fetchAccountDetailsByApi=function(){var _fetchAccountDetailsByApi=_asyncToGenerator(function*(params){var queryParams=_objectSpread({},_omit(params,['accountId','signal']));var client=yield this.backgroundApi.serviceAccountProfile.getClient(EServiceEndpointEnum.Wallet);var resp=yield client.get(`/wallet/v1/account/get-account?${qs.stringify(_omitBy(queryParams,_isNil))}`,{headers:yield this.backgroundApi.serviceAccountProfile._getWalletTypeHeader({accountId:params.accountId}),signal:params.signal});return resp;});function fetchAccountDetailsByApi(_x44){return _fetchAccountDetailsByApi.apply(this,arguments);}return fetchAccountDetailsByApi;}();_proto2.fetchAccountDetailsByRpc=function(){var _fetchAccountDetailsByRpc=_asyncToGenerator(function*(params){throw new NotImplemented();});function fetchAccountDetailsByRpc(_x45){return _fetchAccountDetailsByRpc.apply(this,arguments);}return fetchAccountDetailsByRpc;}();_proto2.fetchTokenList=function(){var _fetchTokenList=_asyncToGenerator(function*(params){var isCustomNetwork=yield this.backgroundApi.serviceNetwork.isCustomNetwork({networkId:this.networkId});if(isCustomNetwork){return this.fetchTokenListByRpc(params);}return this.fetchTokenListByApi(params);});function fetchTokenList(_x46){return _fetchTokenList.apply(this,arguments);}return fetchTokenList;}();_proto2.fetchTokenListByApi=function(){var _fetchTokenListByApi=_asyncToGenerator(function*(params){var{serviceToken,serviceAccountProfile}=this.backgroundApi;var{requestApiParams,flag,signal,accountId}=params;if(requestApiParams.contractList){requestApiParams.contractList=requestApiParams.contractList.filter(function(contract){return contract!==null&&typeof contract==='string';});}var client=yield serviceToken.getClient(EServiceEndpointEnum.Wallet);var resp=yield client.post(`/wallet/v1/account/token/list?flag=${flag||''}`,requestApiParams,{signal,headers:yield serviceAccountProfile._getWalletTypeHeader({accountId})});return resp;});function fetchTokenListByApi(_x47){return _fetchTokenListByApi.apply(this,arguments);}return fetchTokenListByApi;}();_proto2.fetchTokenListByRpc=function(){var _fetchTokenListByRpc=_asyncToGenerator(function*(params){throw new NotImplemented();});function fetchTokenListByRpc(_x48){return _fetchTokenListByRpc.apply(this,arguments);}return fetchTokenListByRpc;}();_proto2.estimateFee=function(){var _estimateFee=_asyncToGenerator(function*(params){var isCustomNetwork=yield this.backgroundApi.serviceNetwork.isCustomNetwork({networkId:this.networkId});if(isCustomNetwork){return this.estimateFeeByRpc(params);}return this.estimateFeeByApi(params);});function estimateFee(_x49){return _estimateFee.apply(this,arguments);}return estimateFee;}();_proto2.estimateFeeByApi=function(){var _estimateFeeByApi=_asyncToGenerator(function*(params){var{accountId}=params,rest=_objectWithoutProperties(params,_excluded);var client=yield this.backgroundApi.serviceGas.getClient(EServiceEndpointEnum.Wallet);var resp=yield client.post('/wallet/v1/account/estimate-fee',rest,{headers:yield this.backgroundApi.serviceAccountProfile._getWalletTypeHeader({accountId})});return resp;});function estimateFeeByApi(_x50){return _estimateFeeByApi.apply(this,arguments);}return estimateFeeByApi;}();_proto2.estimateFeeByRpc=function(){var _estimateFeeByRpc=_asyncToGenerator(function*(params){throw new NotImplemented();});function estimateFeeByRpc(_x51){return _estimateFeeByRpc.apply(this,arguments);}return estimateFeeByRpc;}();_proto2.fetchAccountHistoryDetail=function(){var _fetchAccountHistoryDetail=_asyncToGenerator(function*(params){var isCustomNetwork=yield this.backgroundApi.serviceNetwork.isCustomNetwork({networkId:this.networkId});if(isCustomNetwork){return this.fetchAccountHistoryDetailByRpc(params);}return this.fetchAccountHistoryDetailByApi(params);});function fetchAccountHistoryDetail(_x52){return _fetchAccountHistoryDetail.apply(this,arguments);}return fetchAccountHistoryDetail;}();_proto2.fetchAccountHistoryDetailByApi=function(){var _fetchAccountHistoryDetailByApi=_asyncToGenerator(function*(params){var{accountId}=params,rest=_objectWithoutProperties(params,_excluded2);var client=yield this.backgroundApi.serviceGas.getClient(EServiceEndpointEnum.Wallet);var resp=yield client.get('/wallet/v1/account/history/detail',{params:rest,headers:yield this.backgroundApi.serviceAccountProfile._getWalletTypeHeader({accountId})});return resp;});function fetchAccountHistoryDetailByApi(_x53){return _fetchAccountHistoryDetailByApi.apply(this,arguments);}return fetchAccountHistoryDetailByApi;}();_proto2.fetchAccountHistoryDetailByRpc=function(){var _fetchAccountHistoryDetailByRpc=_asyncToGenerator(function*(params){throw new NotImplemented();});function fetchAccountHistoryDetailByRpc(_x54){return _fetchAccountHistoryDetailByRpc.apply(this,arguments);}return fetchAccountHistoryDetailByRpc;}();_proto2.buildOkxSwapEncodedTx=function(){var _buildOkxSwapEncodedTx=_asyncToGenerator(function*(params){throw new NotImplemented();});function buildOkxSwapEncodedTx(_x55){return _buildOkxSwapEncodedTx.apply(this,arguments);}return buildOkxSwapEncodedTx;}();return _createClass(VaultBase);}(VaultBaseChainOnly);","import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import accountUtils from'@onekeyhq/shared/src/utils/accountUtils';import networkUtils from'@onekeyhq/shared/src/utils/networkUtils';import{getVaultSettings as _getVaultSettings,getVaultSettingsNetworkInfo}from\"../settings\";export var VaultContext=function(){function VaultContext(options){this.options=options;this.networkId=options.networkId||'';this.accountId=options.accountId||'';this.backgroundApi=options.backgroundApi;this.walletId=options.walletId||(this.accountId?accountUtils.getWalletIdFromAccountId({accountId:this.accountId}):'');if(!this.walletId&&!this.options.isChainOnly){throw new Error('can not get correct walletId');}}var _proto=VaultContext.prototype;_proto.getNetworkId=function(){var _getNetworkId=_asyncToGenerator(function*(){return this.networkId;});function getNetworkId(){return _getNetworkId.apply(this,arguments);}return getNetworkId;}();_proto.getNetwork=function(){var _getNetwork=_asyncToGenerator(function*({cached}={}){if(!cached||!this._network||this._network.id!==this.networkId){var network=yield this.backgroundApi.serviceNetwork.getNetwork({networkId:this.networkId});this._network=network;}return this._network;});function getNetwork(){return _getNetwork.apply(this,arguments);}return getNetwork;}();_proto.getNetworkChainId=function(){var _getNetworkChainId=_asyncToGenerator(function*({hex=false}={}){return networkUtils.getNetworkChainId({networkId:this.networkId,hex});});function getNetworkChainId(){return _getNetworkChainId.apply(this,arguments);}return getNetworkChainId;}();_proto.getNetworkImpl=function(){var _getNetworkImpl=_asyncToGenerator(function*(){return networkUtils.getNetworkImpl({networkId:this.networkId});});function getNetworkImpl(){return _getNetworkImpl.apply(this,arguments);}return getNetworkImpl;}();_proto.getVaultSettings=function(){var _getVaultSettings2=_asyncToGenerator(function*(){return _getVaultSettings({networkId:this.networkId});});function getVaultSettings(){return _getVaultSettings2.apply(this,arguments);}return getVaultSettings;}();_proto.getNetworkInfo=function(){var _getNetworkInfo=_asyncToGenerator(function*(){return getVaultSettingsNetworkInfo({networkId:this.networkId});});function getNetworkInfo(){return _getNetworkInfo.apply(this,arguments);}return getNetworkInfo;}();_proto.getCoreApiNetworkInfo=function(){var _getCoreApiNetworkInfo=_asyncToGenerator(function*(){var network=yield this.getNetwork();var networkInfo=yield this.getNetworkInfo();var{addressPrefix,curve}=networkInfo;var networkImpl=yield this.getNetworkImpl();var chainId=yield this.getNetworkChainId({hex:false});var{isTestnet}=network;var{networkId}=this;return{isTestnet,networkChainCode:network.code,chainId,networkId,networkImpl,addressPrefix,curve};});function getCoreApiNetworkInfo(){return _getCoreApiNetworkInfo.apply(this,arguments);}return getCoreApiNetworkInfo;}();_proto.getRpcUrl=function(){var _getRpcUrl=_asyncToGenerator(function*(){return'';});function getRpcUrl(){return _getRpcUrl.apply(this,arguments);}return getRpcUrl;}();_proto.destroy=function(){var _destroy=_asyncToGenerator(function*(){});function destroy(){return _destroy.apply(this,arguments);}return destroy;}();return _createClass(VaultContext);}();","export var ELnPaymentStatusEnum=function(ELnPaymentStatusEnum){ELnPaymentStatusEnum[\"NOT_FOUND_ORDER\"]=\"NOT_FOUND_ORDER\";ELnPaymentStatusEnum[\"SUCCESS\"]=\"SUCCESS\";ELnPaymentStatusEnum[\"FAILED\"]=\"FAILED\";ELnPaymentStatusEnum[\"PENDING\"]=\"PENDING\";return ELnPaymentStatusEnum;}({});","import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import{NotImplemented}from'@onekeyhq/shared/src/errors';import{KeyringExternalBase}from\"../../base/KeyringExternalBase\";export var KeyringExternal=function(_KeyringExternalBase){_inherits(KeyringExternal,_KeyringExternalBase);var _super=_createSuper(KeyringExternal);function KeyringExternal(){return _super.apply(this,arguments);}var _proto=KeyringExternal.prototype;_proto.signMessage=function signMessage(params){throw new NotImplemented();};_proto.signTransaction=function signTransaction(params){throw new NotImplemented();};return _createClass(KeyringExternal);}(KeyringExternalBase);","import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import{sha256}from'@noble/hashes/sha256';import stringify from'fast-json-stable-stringify';import{getBtcForkNetwork}from'@onekeyhq/core/src/chains/btc/sdkBtc';import coreChainApi from'@onekeyhq/core/src/instance/coreChainApi';import{IMPL_BTC,IMPL_LIGHTNING_TESTNET,IMPL_TBTC}from'@onekeyhq/shared/src/engine/engineConsts';import{OneKeyInternalError}from'@onekeyhq/shared/src/errors';import{convertDeviceError,convertDeviceResponse}from'@onekeyhq/shared/src/errors/utils/deviceErrorUtils';import accountUtils from'@onekeyhq/shared/src/utils/accountUtils';import{checkIsDefined}from'@onekeyhq/shared/src/utils/assertUtils';import bufferUtils from'@onekeyhq/shared/src/utils/bufferUtils';import{KeyringHardwareBase}from\"../../base/KeyringHardwareBase\";export var KeyringHardware=function(_KeyringHardwareBase){_inherits(KeyringHardware,_KeyringHardwareBase);var _super=_createSuper(KeyringHardware);function KeyringHardware(...args){var _this;_this=_super.call(this,...args);_this.coreApi=coreChainApi.lightning.hd;_this.hwSdkNetwork='btc';return _this;}var _proto=KeyringHardware.prototype;_proto.buildHwAllNetworkPrepareAccountsParams=function(){var _buildHwAllNetworkPrepareAccountsParams=_asyncToGenerator(function*(params){return{network:this.hwSdkNetwork,path:yield this.buildLnToBtcPath({template:params.template,index:params.index}),showOnOneKey:false};});function buildHwAllNetworkPrepareAccountsParams(_x){return _buildHwAllNetworkPrepareAccountsParams.apply(this,arguments);}return buildHwAllNetworkPrepareAccountsParams;}();_proto.buildLnToBtcPath=function(){var _buildLnToBtcPath=_asyncToGenerator(function*({template,index}){var networkInfo=yield this.getCoreApiNetworkInfo();var isTestnet=networkInfo.networkImpl===IMPL_LIGHTNING_TESTNET;var{pathPrefix,pathSuffix}=accountUtils.slicePathTemplate(template);return accountUtils.buildLnToBtcPath({path:`${pathPrefix}/${index}'`,isTestnet});});function buildLnToBtcPath(_x2){return _buildLnToBtcPath.apply(this,arguments);}return buildLnToBtcPath;}();_proto.getBtcCoinName=function getBtcCoinName(isTestnet){return isTestnet?'TEST':'BTC';};_proto.prepareAccounts=function(){var _prepareAccounts=_asyncToGenerator(function*(params){var _this2=this;var{addressEncoding}=params.deriveInfo;var networkInfo=yield this.getCoreApiNetworkInfo();var isTestnet=networkInfo.networkImpl===IMPL_LIGHTNING_TESTNET;var btcImpl=isTestnet?IMPL_TBTC:IMPL_BTC;var coinName=this.getBtcCoinName(isTestnet);var{deviceParams}=params;var{dbDevice}=deviceParams;var{connectId,deviceId}=dbDevice;return this.basePrepareHdNormalAccounts(params,{buildAddressesInfo:function(){var _ref=_asyncToGenerator(function*({usedIndexes}){var publicKeys=yield _this2.baseGetDeviceAccountPublicKeys({params,usedIndexes,sdkGetPublicKeysFn:function(){var _ref2=_asyncToGenerator(function*({template}){var buildFullPath=function(p){return _this2.buildLnToBtcPath({template,index:p.index});};var allNetworkAccounts=yield _this2.getAllNetworkPrepareAccounts({params,usedIndexes,hwSdkNetwork:_this2.hwSdkNetwork,buildPath:buildFullPath,buildResultAccount:function({account,index}){return{path:account.path,xpub:account.payload?.xpub||'',xpubSegwit:account.payload?.xpubSegwit||''};}});if(allNetworkAccounts){return allNetworkAccounts;}throw new Error('use sdk allNetworkGetAddress instead');});return function sdkGetPublicKeysFn(_x5){return _ref2.apply(this,arguments);};}()});var client=yield _this2.backgroundApi.serviceLightning.getLnClient(isTestnet);var ret=[];var network=getBtcForkNetwork(btcImpl);for(var i=0;i<publicKeys.length;i+=1){var item=publicKeys[i];var{path,xpub,xpubSegwit}=item;var addressRelPath=`0/0`;var addressFromXpub=yield _this2.coreApi.getAddressFromXpub({network,xpub,relativePaths:[addressRelPath],addressEncoding});var{[addressRelPath]:address}=addressFromXpub;var accountExist=yield client.checkAccountExist(address);if(!accountExist){var hashPubKey=bufferUtils.bytesToHex(sha256(xpub));var signTemplate=yield client.fetchSignTemplate(address,'register');if(signTemplate.type!=='register'){throw new Error('Wrong signature type');}var sign=yield _this2.signApiMessage({connectId,deviceId,deviceCommonParams:params.deviceParams.deviceCommonParams,msgPayload:_objectSpread(_objectSpread({},signTemplate),{},{pubkey:hashPubKey,address}),address,path});yield client.createUser({hashPubKey,address,signature:sign,randomSeed:signTemplate.randomSeed});}var addressInfo={address,publicKey:xpub,path:accountUtils.buildBtcToLnPath({path,isTestnet}),relPath:addressRelPath,xpub,xpubSegwit,addresses:{[addressRelPath]:address}};yield _this2.vault.exchangeToken({pub:xpub,path,addressDetail:{isValid:true,networkId:'',baseAddress:'',displayAddress:'',address:'',normalizedAddress:address,allowEmptyAddress:true}});ret.push(addressInfo);}return ret;});return function buildAddressesInfo(_x4){return _ref.apply(this,arguments);};}()});});function prepareAccounts(_x3){return _prepareAccounts.apply(this,arguments);}return prepareAccounts;}();_proto.signApiMessage=function(){var _signApiMessage=_asyncToGenerator(function*(params){var{connectId,deviceId,deviceCommonParams,path,msgPayload}=params;if(!connectId||!deviceId){throw new Error('connectId and deviceId is required');}var{isTestnet}=yield this.getNetwork();var coinName=this.getBtcCoinName(isTestnet);var message=stringify(msgPayload);var sdk=yield this.getHardwareSDKInstance();var response=yield convertDeviceResponse(_asyncToGenerator(function*(){return sdk.btcSignMessage(connectId,deviceId,_objectSpread(_objectSpread({},deviceCommonParams),{},{path:`${path}/0/0`,coin:coinName,messageHex:Buffer.from(message).toString('hex')}));}));return response.signature;});function signApiMessage(_x6){return _signApiMessage.apply(this,arguments);}return signApiMessage;}();_proto.signTransaction=function(){var _signTransaction=_asyncToGenerator(function*(params){var{unsignedTx}=params;var deviceParams=checkIsDefined(params.deviceParams);var{connectId,deviceId}=deviceParams.dbDevice;var encodedTx=unsignedTx.encodedTx;var dbAccount=yield this.vault.getAccount();var{invoice,expired,created,paymentHash,amount}=encodedTx;var client=yield this.vault.getClient();var signTemplate=yield client.fetchSignTemplate(dbAccount.addressDetail.normalizedAddress,'transfer');if(signTemplate.type!=='transfer'){throw new Error('Wrong transfer signature type');}var network=yield this.getNetwork();var signature=yield this.signApiMessage({connectId,deviceId,deviceCommonParams:deviceParams.deviceCommonParams,msgPayload:_objectSpread(_objectSpread({},signTemplate),{},{paymentHash,paymentRequest:invoice,expired,created:Number(created),nonce:signTemplate.nonce,randomSeed:signTemplate.randomSeed}),address:dbAccount.addressDetail.normalizedAddress,path:accountUtils.buildLnToBtcPath({path:dbAccount.path,isTestnet:network.isTestnet})});if(!signature||typeof signTemplate.nonce!=='number'||typeof signTemplate.randomSeed!=='number'){throw new OneKeyInternalError('Invalid signature');}var rawTx={amount,created:Number(created),expired,nonce:signTemplate.nonce,paymentHash,paymentRequest:invoice,randomSeed:signTemplate.randomSeed,signature,testnet:network.isTestnet};return{txid:paymentHash,rawTx:JSON.stringify(rawTx),nonce:signTemplate.nonce,randomSeed:signTemplate.randomSeed,encodedTx};});function signTransaction(_x7){return _signTransaction.apply(this,arguments);}return signTransaction;}();_proto.signMessage=function(){var _signMessage=_asyncToGenerator(function*(params){var network=yield this.vault.getNetwork();var coinName=this.getBtcCoinName(network.isTestnet);var dbAccount=yield this.vault.getAccount();var deviceParams=checkIsDefined(params.deviceParams);var{connectId,deviceId}=deviceParams.dbDevice;var sdk=yield this.getHardwareSDKInstance();var result=yield Promise.all(params.messages.map(function(){var _ref4=_asyncToGenerator(function*({message}){var response=yield sdk.btcSignMessage(connectId,deviceId,_objectSpread(_objectSpread({},params.deviceParams?.deviceCommonParams),{},{path:`${accountUtils.buildLnToBtcPath({path:dbAccount.path,isTestnet:network.isTestnet})}/0/0`,coin:coinName,messageHex:Buffer.from(message).toString('hex')}));if(!response.success){throw convertDeviceError(response.payload);}return{message,signature:response.payload.signature};});return function(_x9){return _ref4.apply(this,arguments);};}()));return result.map(function(ret){return JSON.stringify(ret);});});function signMessage(_x8){return _signMessage.apply(this,arguments);}return signMessage;}();_proto.lnurlAuth=function(){var _lnurlAuth=_asyncToGenerator(function*(params){var{lnurlDetail}=params;if(lnurlDetail.tag!=='login'){throw new Error('lnurl-auth: invalid tag');}var url=new URL(lnurlDetail.url);var deviceParams=checkIsDefined(params.deviceParams);var{connectId,deviceId}=deviceParams.dbDevice;var sdk=yield this.getHardwareSDKInstance();var response=yield sdk.lnurlAuth(connectId,deviceId,_objectSpread(_objectSpread({},params.deviceParams?.deviceCommonParams),{},{domain:url.hostname,k1:lnurlDetail.k1}));if(!response.success){throw convertDeviceError(response.payload);}var{signature,publickey}=response.payload;if(!signature||!publickey){throw new OneKeyInternalError('Unable to get signature or publickey');}var loginURL=url;loginURL.searchParams.set('sig',signature!=null?signature:'');loginURL.searchParams.set('key',publickey!=null?publickey:'');loginURL.searchParams.set('t',Date.now().toString());return loginURL.toString();});function lnurlAuth(_x10){return _lnurlAuth.apply(this,arguments);}return lnurlAuth;}();return _createClass(KeyringHardware);}(KeyringHardwareBase);","import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import{sha256}from'@noble/hashes/sha256';import coreChainApi from'@onekeyhq/core/src/instance/coreChainApi';import{getNetworkIdsMap}from'@onekeyhq/shared/src/config/networkIds';import{IMPL_BTC,IMPL_TBTC}from'@onekeyhq/shared/src/engine/engineConsts';import{OneKeyInternalError}from'@onekeyhq/shared/src/errors';import accountUtils from'@onekeyhq/shared/src/utils/accountUtils';import{checkIsDefined}from'@onekeyhq/shared/src/utils/assertUtils';import bufferUtils from'@onekeyhq/shared/src/utils/bufferUtils';import{KeyringHdBase}from\"../../base/KeyringHdBase\";export var KeyringHd=function(_KeyringHdBase){_inherits(KeyringHd,_KeyringHdBase);var _super=_createSuper(KeyringHd);function KeyringHd(...args){var _this;_this=_super.call(this,...args);_this.coreApi=coreChainApi.lightning.hd;return _this;}var _proto=KeyringHd.prototype;_proto.getPrivateKeys=function(){var _getPrivateKeys=_asyncToGenerator(function*(params){return this.baseGetPrivateKeys(params);});function getPrivateKeys(_x){return _getPrivateKeys.apply(this,arguments);}return getPrivateKeys;}();_proto.prepareAccounts=function(){var _prepareAccounts=_asyncToGenerator(function*(params){var _this2=this;var{password}=params;var networkInfo=yield this.getCoreApiNetworkInfo();var isTestnet=!!networkInfo.isTestnet;var credentials=yield this.baseGetCredentialsInfo({password});var nativeSegwitAccounts=yield this.basePrepareHdNormalAccounts(params,{buildAddressesInfo:function(){var _ref=_asyncToGenerator(function*({usedIndexes}){var{deriveInfo}=params;var{template}=deriveInfo;if(!_this2.coreApi){throw new Error('coreApi is undefined');}var{addresses:addressesInfo}=yield _this2.coreApi.getAddressesFromHd({networkInfo,template,hdCredential:checkIsDefined(credentials.hd),password,indexes:usedIndexes});if(addressesInfo.length!==usedIndexes.length){throw new OneKeyInternalError('Unable to get address');}return addressesInfo;});return function buildAddressesInfo(_x3){return _ref.apply(this,arguments);};}()});var client=yield this.backgroundApi.serviceLightning.getLnClient(isTestnet);for(var account of nativeSegwitAccounts){if(!account.address){throw new OneKeyInternalError('No address');}var accountExist=yield client.checkAccountExist(account.address);if(!accountExist){var hashPubKey=bufferUtils.bytesToHex(sha256(account.pub));var signTemplate=yield client.fetchSignTemplate(account.address,'register');if(signTemplate.type!=='register'){throw new Error('Wrong signature type');}var signature=yield this.signApiMessage({msgPayload:_objectSpread(_objectSpread({},signTemplate),{},{pubkey:hashPubKey,address:account.address}),password,address:account.address,path:account.path});yield client.createUser({hashPubKey,address:account.address,signature,randomSeed:signTemplate.randomSeed});}}var accounts=nativeSegwitAccounts.map(function(account){return _objectSpread(_objectSpread({},account),{},{id:accountUtils.buildLightningAccountId({accountId:account.id,isTestnet}),path:accountUtils.buildBtcToLnPath({path:account.path,isTestnet})});});return accounts;});function prepareAccounts(_x2){return _prepareAccounts.apply(this,arguments);}return prepareAccounts;}();_proto.signTransaction=function(){var _signTransaction=_asyncToGenerator(function*(params){var{password,unsignedTx}=params;var encodedTx=unsignedTx.encodedTx;var dbAccount=yield this.vault.getAccount();var{invoice,expired,created,paymentHash,amount}=encodedTx;var client=yield this.vault.getClient();var signTemplate=yield client.fetchSignTemplate(dbAccount.addressDetail.normalizedAddress,'transfer');if(signTemplate.type!=='transfer'){throw new Error('Wrong transfer signature type');}var network=yield this.getNetwork();var signature=yield this.signApiMessage({msgPayload:_objectSpread(_objectSpread({},signTemplate),{},{paymentHash,paymentRequest:invoice,expired,created:Number(created),nonce:signTemplate.nonce,randomSeed:signTemplate.randomSeed}),password,address:dbAccount.addressDetail.normalizedAddress,path:accountUtils.buildLnToBtcPath({path:dbAccount.path,isTestnet:network.isTestnet})});if(!signature||typeof signTemplate.nonce!=='number'||typeof signTemplate.randomSeed!=='number'){throw new OneKeyInternalError('Invalid signature');}var rawTx={amount,created:Number(created),expired,nonce:signTemplate.nonce,paymentHash,paymentRequest:invoice,randomSeed:signTemplate.randomSeed,signature,testnet:network.isTestnet};return{txid:paymentHash,rawTx:JSON.stringify(rawTx),nonce:signTemplate.nonce,randomSeed:signTemplate.randomSeed,encodedTx};});function signTransaction(_x4){return _signTransaction.apply(this,arguments);}return signTransaction;}();_proto.signMessage=function(){var _signMessage=_asyncToGenerator(function*(params){var{password,messages}=params;var account=yield this.vault.getAccount();var credentials=yield this.baseGetCredentialsInfo(params);var network=yield this.getNetwork();var networkBtc=yield this.backgroundApi.serviceNetwork.getNetwork({networkId:getNetworkIdsMap().btc});var networkTbtc=yield this.backgroundApi.serviceNetwork.getNetwork({networkId:getNetworkIdsMap().tbtc});var btcPath=accountUtils.buildLnToBtcPath({path:account.path,isTestnet:network.isTestnet});var btcImpl=network.isTestnet?IMPL_TBTC:IMPL_BTC;var btcCode=network.isTestnet?networkTbtc.code:networkBtc.code;var btcNetworkId=network.isTestnet?getNetworkIdsMap().tbtc:getNetworkIdsMap().btc;var networkInfo={isTestnet:network.isTestnet,networkChainCode:btcCode,chainId:'0',networkId:btcNetworkId,networkImpl:btcImpl,addressPrefix:'',curve:'secp256k1'};var accountAddress=account.addressDetail.normalizedAddress;var result=yield Promise.all(messages.map(function(){var _ref2=_asyncToGenerator(function*(msg){var signature=yield coreChainApi.btc.hd.signMessage({networkInfo:{isTestnet:networkInfo.isTestnet,networkChainCode:networkBtc.code,chainId:'',networkId:getNetworkIdsMap().btc,networkImpl:IMPL_BTC,addressPrefix:'',curve:'secp256k1'},unsignedMsg:_objectSpread(_objectSpread({},msg),{},{sigOptions:{segwitType:'p2wpkh'}}),account:_objectSpread(_objectSpread({},account),{},{address:accountAddress,path:btcPath}),relPaths:['0/0'],password,credentials,btcExtraInfo:{pathToAddresses:{[`${btcPath}/0/0`]:{address:accountAddress,relPath:'0/0',fullPath:`${btcPath}/0/0`}},addressToPath:{[accountAddress]:{address:accountAddress,relPath:'0/0',fullPath:`${btcPath}/0/0`}}}});return{message:msg.message,signature};});return function(_x6){return _ref2.apply(this,arguments);};}()));return result.map(function(ret){return JSON.stringify(ret);});});function signMessage(_x5){return _signMessage.apply(this,arguments);}return signMessage;}();_proto.signApiMessage=function(){var _signApiMessage=_asyncToGenerator(function*(params){var{password,msgPayload,address,path}=params;if(!password){throw new OneKeyInternalError('Password is required');}var credentials=yield this.baseGetCredentialsInfo({password});var{isTestnet}=yield this.getNetwork();return this.coreApi.signApiMessage({msgPayload,password,address,path,hdCredential:checkIsDefined(credentials.hd),isTestnet});});function signApiMessage(_x7){return _signApiMessage.apply(this,arguments);}return signApiMessage;}();_proto.lnurlAuth=function(){var _lnurlAuth=_asyncToGenerator(function*(params){var{lnurlDetail}=params;if(lnurlDetail.tag!=='login'){throw new Error('lnurl-auth: invalid tag');}var password=checkIsDefined(params.password);var credentials=yield this.baseGetCredentialsInfo({password});var coreParams={lnurlDetail,password,credentials};var result=yield this.coreApi.lnurlAuth(coreParams);return result;});function lnurlAuth(_x8){return _lnurlAuth.apply(this,arguments);}return lnurlAuth;}();return _createClass(KeyringHd);}(KeyringHdBase);","import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import coreChainApi from'@onekeyhq/core/src/instance/coreChainApi';import{KeyringImportedBase}from\"../../base/KeyringImportedBase\";export var KeyringImported=function(_KeyringImportedBase){_inherits(KeyringImported,_KeyringImportedBase);var _super=_createSuper(KeyringImported);function KeyringImported(...args){var _this;_this=_super.call(this,...args);_this.coreApi=coreChainApi.lightning.imported;return _this;}var _proto=KeyringImported.prototype;_proto.getPrivateKeys=function(){var _getPrivateKeys=_asyncToGenerator(function*(params){return this.baseGetPrivateKeys(params);});function getPrivateKeys(_x){return _getPrivateKeys.apply(this,arguments);}return getPrivateKeys;}();_proto.prepareAccounts=function(){var _prepareAccounts=_asyncToGenerator(function*(params){return this.basePrepareAccountsImported(params);});function prepareAccounts(_x2){return _prepareAccounts.apply(this,arguments);}return prepareAccounts;}();_proto.signTransaction=function(){var _signTransaction=_asyncToGenerator(function*(params){return this.baseSignTransaction(params);});function signTransaction(_x3){return _signTransaction.apply(this,arguments);}return signTransaction;}();_proto.signMessage=function(){var _signMessage=_asyncToGenerator(function*(params){return this.baseSignMessage(params);});function signMessage(_x4){return _signMessage.apply(this,arguments);}return signMessage;}();return _createClass(KeyringImported);}(KeyringImportedBase);","import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import _get from\"@babel/runtime/helpers/get\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import{KeyringWatchingBase}from\"../../base/KeyringWatchingBase\";export var KeyringWatching=function(_KeyringWatchingBase){_inherits(KeyringWatching,_KeyringWatchingBase);var _super=_createSuper(KeyringWatching);function KeyringWatching(){return _super.apply(this,arguments);}var _proto=KeyringWatching.prototype;_proto.prepareAccounts=function(){var _prepareAccounts=_asyncToGenerator(function*(params){return _get(_getPrototypeOf(KeyringWatching.prototype),\"basePrepareSimpleWatchingAccounts\",this).call(this,params);});function prepareAccounts(_x){return _prepareAccounts.apply(this,arguments);}return prepareAccounts;}();return _createClass(KeyringWatching);}(KeyringWatchingBase);","import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _isEmpty from\"lodash/isEmpty\";import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import{sha256}from'@noble/hashes/sha256';import BigNumber from'bignumber.js';import{getBtcForkNetwork,validateBtcAddress}from'@onekeyhq/core/src/chains/btc/sdkBtc';import coreChainApi from'@onekeyhq/core/src/instance/coreChainApi';import{IMPL_BTC,IMPL_TBTC}from'@onekeyhq/shared/src/engine/engineConsts';import{ChannelInsufficientLiquidityError,InvalidLightningPaymentRequest,InvalidTransferValue,InvoiceAlreadyPaid,InvoiceExpiredError,NoRouteFoundError,NotImplemented,OneKeyError,OneKeyInternalError}from'@onekeyhq/shared/src/errors';import{ETranslations}from'@onekeyhq/shared/src/locale';import{appLocale}from'@onekeyhq/shared/src/locale/appLocale';import accountUtils from'@onekeyhq/shared/src/utils/accountUtils';import bufferUtils from'@onekeyhq/shared/src/utils/bufferUtils';import{memoizee}from'@onekeyhq/shared/src/utils/cacheUtils';import timerUtils from'@onekeyhq/shared/src/utils/timerUtils';import{EServiceEndpointEnum}from'@onekeyhq/shared/types/endpoint';import{ELnPaymentStatusEnum}from'@onekeyhq/shared/types/lightning/payments';import{EDecodedTxActionType,EDecodedTxStatus}from'@onekeyhq/shared/types/tx';import{VaultBase}from\"../../base/VaultBase\";import{KeyringExternal}from\"./KeyringExternal\";import{KeyringHardware}from\"./KeyringHardware\";import{KeyringHd}from\"./KeyringHd\";import{KeyringImported}from\"./KeyringImported\";import{KeyringWatching}from\"./KeyringWatching\";import ClientLightning from\"./sdkLightning/ClientLightning\";import{findLnurl,isLightningAddress}from\"./sdkLightning/lnurl\";var Vault=function(_VaultBase){_inherits(Vault,_VaultBase);var _super=_createSuper(Vault);function Vault(...args){var _this;_this=_super.call(this,...args);_this.keyringMap={hd:KeyringHd,qr:undefined,hw:KeyringHardware,imported:KeyringImported,watching:KeyringWatching,external:KeyringExternal};_this.getClientCache=memoizee(_asyncToGenerator(function*(){var network=yield _this.getNetwork();var _client=yield _this.backgroundApi.serviceLightning.getClient(EServiceEndpointEnum.Lightning);return new ClientLightning(_this.backgroundApi,_client,network.isTestnet);}),{maxAge:timerUtils.getTimeDurationMs({minute:3})});_this._decodedInvoiceCache=memoizee(function(){var _ref2=_asyncToGenerator(function*(invoice){var client=yield _this.getClient();return client.decodedInvoice(invoice);});return function(_x){return _ref2.apply(this,arguments);};}(),{maxAge:timerUtils.getTimeDurationMs({seconds:30})});return _this;}var _proto=Vault.prototype;_proto.getClient=function(){var _getClient=_asyncToGenerator(function*(){return this.getClientCache();});function getClient(){return _getClient.apply(this,arguments);}return getClient;}();_proto.buildAccountAddressDetail=function buildAccountAddressDetail(params){var{account,networkInfo,networkId,externalAccountAddress}=params;return Promise.resolve({isValid:true,networkId,address:'',baseAddress:'',normalizedAddress:account.address,displayAddress:'',allowEmptyAddress:true});};_proto.getAccountAddress=function(){var _getAccountAddress=_asyncToGenerator(function*(){return Promise.resolve((yield this.getAccount()).addressDetail.normalizedAddress);});function getAccountAddress(){return _getAccountAddress.apply(this,arguments);}return getAccountAddress;}();_proto.buildEncodedTx=function(){var _buildEncodedTx=_asyncToGenerator(function*(params){var _invoice$satoshis,_invoice$timeExpireDa;var{transfersInfo}=params;if(!transfersInfo||_isEmpty(transfersInfo)){throw new OneKeyInternalError('transfersInfo is required');}if(transfersInfo.length>1){throw new OneKeyInternalError('Only one transfer is allowed');}var transferInfo=transfersInfo[0];if(!transferInfo.to){throw new Error('buildEncodedTx ERROR: transferInfo.to is missing');}var client=yield this.getClient();var invoice=yield this._decodedInvoiceCache(transferInfo.to);var lnConfig=yield client.getConfig();var paymentHash=invoice.tags.find(function(tag){return tag.tagName==='payment_hash';});var amount=invoice.millisatoshis?new BigNumber(invoice.millisatoshis).dividedBy(1000):new BigNumber((_invoice$satoshis=invoice.satoshis)!=null?_invoice$satoshis:'0');var isZeroAmountInvoice=this._isZeroAmountInvoice(invoice);if(isZeroAmountInvoice&&transferInfo.amount){amount=new BigNumber(transferInfo.amount);}if(!invoice.paymentRequest){throw new InvalidLightningPaymentRequest();}var description=invoice.tags.find(function(tag){return tag.tagName==='description';});return{invoice:invoice.paymentRequest,paymentHash:paymentHash?.data,amount:amount.toFixed(),lightningAddress:transferInfo.lightningAddress,expired:`${(_invoice$timeExpireDa=invoice.timeExpireDate)!=null?_invoice$timeExpireDa:''}`,created:`${Math.floor(Date.now()/1000)}`,description:description?.data,fee:0,isExceedTransferLimit:new BigNumber(amount).isGreaterThan(lnConfig.maxSendAmount),config:lnConfig,successAction:transferInfo.lnurlPaymentInfo?.successAction,decodedInvoice:invoice};});function buildEncodedTx(_x2){return _buildEncodedTx.apply(this,arguments);}return buildEncodedTx;}();_proto.buildDecodedTx=function(){var _buildDecodedTx=_asyncToGenerator(function*(params){var{unsignedTx}=params;var encodedTx=unsignedTx.encodedTx;var network=yield this.getNetwork();var account=yield this.getAccount();var nativeToken=yield this.backgroundApi.serviceToken.getToken({accountId:this.accountId,networkId:this.networkId,tokenIdOnNetwork:''});var formattedTo='';if(encodedTx.lightningAddress){formattedTo=encodedTx.lightningAddress;}else if(encodedTx.decodedInvoice?.paymentRequest){formattedTo=accountUtils.shortenAddress({address:encodedTx.decodedInvoice.paymentRequest,leadingLength:44,trailingLength:33});}var action={type:EDecodedTxActionType.UNKNOWN,unknownAction:{from:account.name,to:formattedTo}};if(nativeToken){var _nativeToken$logoURI;var amount=new BigNumber(encodedTx.amount).toFixed();action={type:EDecodedTxActionType.ASSET_TRANSFER,assetTransfer:{from:account.name,to:formattedTo,sends:[{from:account.name,to:formattedTo,isNative:true,tokenIdOnNetwork:'',name:nativeToken.name,icon:(_nativeToken$logoURI=nativeToken.logoURI)!=null?_nativeToken$logoURI:'',amount,symbol:network.symbol}],receives:[],nativeAmount:amount,nativeAmountValue:amount}};}var decodedTx={txid:'',owner:account.name,signer:'',nonce:0,actions:[action],status:EDecodedTxStatus.Pending,networkId:this.networkId,accountId:this.accountId,extraInfo:null,encodedTx};return decodedTx;});function buildDecodedTx(_x3){return _buildDecodedTx.apply(this,arguments);}return buildDecodedTx;}();_proto.buildUnsignedTx=function(){var _buildUnsignedTx=_asyncToGenerator(function*(params){var encodedTx=yield this.buildEncodedTx(params);if(encodedTx){return{encodedTx,transfersInfo:params.transfersInfo};}throw new OneKeyInternalError('Failed to build unsigned tx');});function buildUnsignedTx(_x4){return _buildUnsignedTx.apply(this,arguments);}return buildUnsignedTx;}();_proto.updateUnsignedTx=function updateUnsignedTx(params){return Promise.resolve(params.unsignedTx);};_proto.broadcastTransaction=function(){var _broadcastTransaction=_asyncToGenerator(function*(params){var{signedTx,networkId,accountAddress}=params;try{var client=yield this.getClient();yield client.broadcastTransaction({accountId:this.accountId,networkId,accountAddress,signedTx});yield this.pollBolt11Status({nonce:signedTx.nonce});}catch(err){throw err;}return _objectSpread({},signedTx);});function broadcastTransaction(_x5){return _broadcastTransaction.apply(this,arguments);}return broadcastTransaction;}();_proto.pollBolt11Status=function(){var _pollBolt11Status=_asyncToGenerator(function*({nonce}){var _this2=this;return new Promise(function(){var _ref3=_asyncToGenerator(function*(resolve,reject){if(typeof nonce!=='number'){reject(new Error('Invalid nonce'));return;}var intervalId=setInterval(_asyncToGenerator(function*(){try{var client=yield _this2.getClient();var response=yield client.checkBolt11({nonce:Number(nonce),networkId:_this2.networkId,accountId:_this2.accountId});if(response.status===ELnPaymentStatusEnum.NOT_FOUND_ORDER){return;}if(response.status===ELnPaymentStatusEnum.SUCCESS){clearInterval(intervalId);resolve(response.status);}if(response.status===ELnPaymentStatusEnum.FAILED){clearInterval(intervalId);var errorMessage=response?.data?.message;if(errorMessage?.toLowerCase()==='invoice is already paid'){reject(new InvoiceAlreadyPaid());}else if(errorMessage==='no_route'){reject(new NoRouteFoundError());}else if(errorMessage==='insufficient_balance'){reject(new ChannelInsufficientLiquidityError());}else if(errorMessage==='invoice expired'){reject(new InvoiceExpiredError());}else{reject(new Error(response.data?.message));}}}catch(e){clearInterval(intervalId);reject(e);}}),1500);});return function(_x7,_x8){return _ref3.apply(this,arguments);};}());});function pollBolt11Status(_x6){return _pollBolt11Status.apply(this,arguments);}return pollBolt11Status;}();_proto.buildEstimateFeeParams=function(){var _buildEstimateFeeParams=_asyncToGenerator(function*({encodedTx}){var _encodedTx$decodedInv;if(!encodedTx){return{encodedTx};}return Promise.resolve({encodedTx:{dest:(_encodedTx$decodedInv=encodedTx?.decodedInvoice?.payeeNodeKey)!=null?_encodedTx$decodedInv:'',amt:encodedTx?.amount}});});function buildEstimateFeeParams(_x9){return _buildEstimateFeeParams.apply(this,arguments);}return buildEstimateFeeParams;}();_proto.validateAddress=function(){var _validateAddress=_asyncToGenerator(function*(address){if(address.startsWith('bc1q')||address.startsWith('tb1q')){try{var{isTestnet}=yield this.getNetwork();return validateBtcAddress({network:getBtcForkNetwork(isTestnet?IMPL_TBTC:IMPL_BTC),address});}catch{}}try{var lnurl=findLnurl(address);if(!lnurl){if(isLightningAddress(address)){return{isValid:true,normalizedAddress:address,displayAddress:address};}throw new Error('not a lnurl');}return{isValid:true,normalizedAddress:lnurl,displayAddress:lnurl};}catch(e){}try{yield this._decodedInvoiceCache(address);return{isValid:true,normalizedAddress:address,displayAddress:address};}catch(e){throw new InvalidLightningPaymentRequest();}});function validateAddress(_x10){return _validateAddress.apply(this,arguments);}return validateAddress;}();_proto.validateXpub=function validateXpub(xpub){throw new NotImplemented();};_proto.validatePrivateKey=function validatePrivateKey(privateKey){throw new NotImplemented();};_proto.validateGeneralInput=function validateGeneralInput(params){throw new NotImplemented();};_proto.validateXprvt=function validateXprvt(xprvt){throw new NotImplemented();};_proto.getPrivateKeyFromImported=function getPrivateKeyFromImported(params){throw new NotImplemented();};_proto.validateAmountInputShown=function(){var _validateAmountInputShown=_asyncToGenerator(function*({toAddress}){if(!toAddress){return{isValid:false};}try{var invoice=yield this._decodedInvoiceCache(toAddress);var isZeroAmountInvoice=this._isZeroAmountInvoice(invoice);return{isValid:isZeroAmountInvoice};}catch{return{isValid:false};}});function validateAmountInputShown(_x11){return _validateAmountInputShown.apply(this,arguments);}return validateAmountInputShown;}();_proto.fetchSpecialInvoice=function(){var _fetchSpecialInvoice=_asyncToGenerator(function*({paymentHash}){var client=yield this.getClient();var invoice=yield client.specialInvoice({accountId:this.accountId,networkId:this.networkId,paymentHash});return invoice;});function fetchSpecialInvoice(_x12){return _fetchSpecialInvoice.apply(this,arguments);}return fetchSpecialInvoice;}();_proto.exchangeToken=function(){var _exchangeToken=_asyncToGenerator(function*(account){var _usedAccount$pub;var{isTestnet}=yield this.getNetwork();var usedAccount=account||(yield this.getAccount());var address=usedAccount.addressDetail.normalizedAddress;var hashPubKey=bufferUtils.bytesToHex(sha256((_usedAccount$pub=usedAccount.pub)!=null?_usedAccount$pub:''));var password='';if(accountUtils.isHdWallet({walletId:this.walletId})){var ret=yield this.backgroundApi.servicePassword.promptPasswordVerify();password=ret.password;}var client=yield this.getClient();var signTemplate=yield client.fetchSignTemplate(address,'auth');if(signTemplate.type!=='auth'){throw new Error('Invalid auth sign template');}var timestamp=Date.now();var keyring=this.keyring;var connectId;var deviceId;var deviceCommonParams;if(accountUtils.isHwWallet({walletId:this.walletId})){var deviceParams=yield this.backgroundApi.serviceAccount.getWalletDeviceParams({walletId:this.walletId});connectId=deviceParams?.dbDevice?.connectId;deviceId=deviceParams?.dbDevice?.deviceId;deviceCommonParams=deviceParams?.deviceCommonParams;}var sign=yield keyring.signApiMessage({msgPayload:_objectSpread(_objectSpread({},signTemplate),{},{pubkey:hashPubKey,address,timestamp}),address,path:accountUtils.buildLnToBtcPath({path:usedAccount.path,isTestnet}),password,connectId,deviceId,deviceCommonParams});var res=yield client.refreshAccessToken({hashPubKey,address,signature:sign,timestamp,randomSeed:signTemplate.randomSeed});yield this.backgroundApi.simpleDb.lightning.updateCredential({address,credential:res.accessToken});return res;});function exchangeToken(_x13){return _exchangeToken.apply(this,arguments);}return exchangeToken;}();_proto.buildFetchHistoryListParams=function(){var _buildFetchHistoryListParams=_asyncToGenerator(function*(params){var lightningSignature=yield this._getAuthorization({accountId:params.accountId,networkId:params.networkId,address:params.accountAddress});return{lightningSignature};});function buildFetchHistoryListParams(_x14){return _buildFetchHistoryListParams.apply(this,arguments);}return buildFetchHistoryListParams;}();_proto.getLnurlAuthUrl=function(){var _getLnurlAuthUrl=_asyncToGenerator(function*(params){return this.keyring.lnurlAuth(params);});function getLnurlAuthUrl(_x15){return _getLnurlAuthUrl.apply(this,arguments);}return getLnurlAuthUrl;}();_proto.verifyMessage=function(){var _verifyMessage=_asyncToGenerator(function*({message,signature}){var account=yield this.getAccount();return coreChainApi.lightning.hd.verifyMessage({message,signature,address:account.addressDetail.normalizedAddress});});function verifyMessage(_x16){return _verifyMessage.apply(this,arguments);}return verifyMessage;}();_proto.validateSendAmount=function validateSendAmount(params){var ZeroInvoiceMaxSendAmount=1_000_000;if(new BigNumber(params.amount).isGreaterThan(ZeroInvoiceMaxSendAmount)){var satsText=appLocale.intl.formatMessage({id:ETranslations.global_sats});throw new InvalidTransferValue(appLocale.intl.formatMessage({id:ETranslations.dapp_connect_amount_should_not_exceed},{0:`${ZeroInvoiceMaxSendAmount} ${satsText}`}));}return Promise.resolve(true);};_proto.precheckUnsignedTx=function(){var _precheckUnsignedTx=_asyncToGenerator(function*(params){var encodedTx=params.unsignedTx.encodedTx;var{invoice:paymentRequest,amount}=encodedTx;var invoice=yield this._decodedInvoiceCache(paymentRequest);var finalAmount=amount;if(this._isZeroAmountInvoice(invoice)){if(new BigNumber(amount).isLessThan(1)){var satsText=appLocale.intl.formatMessage({id:ETranslations.global_sats});throw new InvalidTransferValue({key:ETranslations.dapp_connect_amount_should_be_at_least,info:{0:`1 ${satsText}`}});}}var client=yield this.getClient();try{yield client.preCheckBolt11({accountId:this.accountId,networkId:this.networkId,amount:finalAmount,paymentRequest});}catch(e){var _message;throw new Error((_message=e?.message)!=null?_message:e);}var paymentHash=invoice.tags.find(function(tag){return tag.tagName==='payment_hash';});if(paymentHash?.data){try{var existInvoice=yield client.specialInvoice({accountId:this.accountId,networkId:this.networkId,paymentHash:paymentHash.data});if(existInvoice.is_paid){throw new OneKeyError({key:ETranslations.send_invoice_is_already_paid});}}catch(e){if(e?.key===ETranslations.send_invoice_is_already_paid){throw new InvoiceAlreadyPaid();}}}return true;});function precheckUnsignedTx(_x17){return _precheckUnsignedTx.apply(this,arguments);}return precheckUnsignedTx;}();_proto.buildOnChainHistoryTxExtraInfo=function(){var _buildOnChainHistoryTxExtraInfo=_asyncToGenerator(function*({onChainHistoryTx}){return Promise.resolve({preImage:onChainHistoryTx.preimage,description:onChainHistoryTx.description});});function buildOnChainHistoryTxExtraInfo(_x18){return _buildOnChainHistoryTxExtraInfo.apply(this,arguments);}return buildOnChainHistoryTxExtraInfo;}();_proto._getAuthorization=function(){var _getAuthorization2=_asyncToGenerator(function*({accountId,networkId,address}){var client=yield this.getClient();return client.getAuthorization({accountId,networkId,address});});function _getAuthorization(_x19){return _getAuthorization2.apply(this,arguments);}return _getAuthorization;}();_proto._isZeroAmountInvoice=function _isZeroAmountInvoice(invoice){return invoice.millisatoshis&&+invoice.millisatoshis<=0||invoice.satoshis&&+invoice.satoshis<=0||!invoice.millisatoshis&&!invoice.satoshis;};return _createClass(Vault);}(VaultBase);export{Vault as default};","export var EVaultKeyringTypes=function(EVaultKeyringTypes){EVaultKeyringTypes[\"hd\"]=\"hd\";EVaultKeyringTypes[\"qr\"]=\"qr\";EVaultKeyringTypes[\"hardware\"]=\"hardware\";EVaultKeyringTypes[\"imported\"]=\"imported\";EVaultKeyringTypes[\"watching\"]=\"watching\";EVaultKeyringTypes[\"external\"]=\"external\";return EVaultKeyringTypes;}({});export var EWrappedType=function(EWrappedType){EWrappedType[\"DEPOSIT\"]=\"deposit\";EWrappedType[\"WITHDRAW\"]=\"withdraw\";return EWrappedType;}({});"],"names":["TX_EMPTY_SIZE","TX_INPUT_BASE","TX_INPUT_PUBKEYHASH","TX_OUTPUT_BASE","TX_OUTPUT_PUBKEYHASH","OP_RETURN_OVERHEAD","inputBytes","input","script","length","outputBytes","output","dustThreshold","feeRate","transactionBytes","inputs","outputs","reduce","a","x","uintOrNaN","v","NaN","isFinite","Math","floor","sumOrNaN","range","value","BLANK_OUTPUT","module","exports","finalize","bytesAccum","feeAfterExtraOutput","remainderAfterExtraOutput","concat","fee","sumForgiving","slicePathTemplate","template","getUtxoAccountPrefixPath","fullPath","pathComponent","split","pop","join","getBIP44Path","account","address","realPath","key","Object","entries","addresses","path","estimateTxSize","inputsForCoinSelect","outputsForCoinSelect","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","result","Super","NewTarget","this","constructor","Reflect","construct","arguments","apply","t","Boolean","prototype","valueOf","call","KeyringBase","_VaultContext","_super","vault","_this","options","networkId","Error","_basePrepareHdNormalAccounts","_basePrepareHdUtxoAccounts","_batchGetAddresses","_exportAccountSecretKeys","_buildHwAllNetworkPrepareAccountsParams","_proto","isKeyringImported","keyringType","imported","isKeyringHd","hd","isKeyringHardware","hardware","isKeyringWatching","watching","basePrepareHdNormalAccounts","params","walletId","names","deriveInfo","indexes","coinType","namePrefix","idSuffix","settings","getVaultSettings","accountType","buildAddressesInfo","usedIndexes","addressInfos","ret","idx","publicKey","relPath","VARIANT","pathIndex","name","buildHDAccountName","id","buildHDAccountId","indexedAccountId","buildIndexedAccountId","index","push","type","impl","pub","_x","_x2","basePrepareHdUtxoAccounts","skipCheckAccountExist","UTXO","checkIsAccountUsed","accountCreatePerf","utxoBuildAddressesInfo","addressesInfo","utxoBuildAddressesInfoDone","buildDBUtxoAccounts","xpub","xpubSegwit","prefix","isLast","isUsed","wait","buildDBUtxoAccountsDone","_x3","_x4","batchGetAddresses","_x5","exportAccountSecretKeys","_x6","buildHwAllNetworkPrepareAccountsParams","_x7","buildPrepareAccountsPrefixedPath","_KeyringBase","KeyringBaseMock","_super2","KeyringExternalBase","args","external","_baseSignMessageByExternalWallet","_baseSendTransactionByExternalWallet","_basePrepareExternalAccounts","baseSignMessageByExternalWallet","backgroundApi","serviceDappSide","signMessage","getAccount","baseSendTransactionByExternalWallet","sendTransaction","prepareAccounts","basePrepareExternalAccounts","KeyringHardwareBase","_getHardwareSDKInstance","_baseGetDeviceAccountData","_baseGetDeviceAccountPublicKeys","_baseGetDeviceAccountAddresses","_getAllNetworkPrepareAccounts","getHardwareSDKInstance","_ref","r","$backgroundApiProxy","serviceHardware","getSDKInstance","getHardwareSDKInstanceDone","baseGetDeviceAccountData","sdkGetDataFn","errorMessage","deviceParams","dbDevice","confirmOnDevice","connectId","deviceId","coinName","pathPrefix","pathSuffix","showOnOnekeyFn","arrIndex","EveryItem","LastItem","baseGetDeviceAccountPublicKeys","sdkGetPublicKeysFn","baseGetDeviceAccountAddresses","sdkGetAddressFn","getAllNetworkPrepareAccounts","hwSdkNetwork","buildPath","buildResultAccount","hwAllNetworkPrepareAccountsResponse","resultAccounts","_loop","find","item","network","success","payload","hasErrorItem","error","indexOf","KeyringHdBase","_KeyringSoftwareBase","KeyringImportedBase","ownKeys","e","keys","getOwnPropertySymbols","o","filter","getOwnPropertyDescriptor","enumerable","_objectSpread","forEach","getOwnPropertyDescriptors","defineProperties","defineProperty","KeyringSoftwareBase","_baseGetCredentialsInfo","_baseSignTransactionBtc","_baseSignTransaction","_baseSignMessage","_baseSignMessageBtc","_basePrepareAccountsImported","_basePrepareAccountsImportedUtxo","_basePrepareAccountsHd","_basePrepareAccountsHdUtxo","_baseExportAccountSecretKeys","_baseGetPrivateKeys","baseGetCredentialsInfo","password","getCredential","credential","accountId","baseSignTransactionBtc","coreApi","unsignedTx","signOnly","credentials","networkInfo","getCoreApiNetworkInfo","btcExtraInfo","relPaths","prepareBtcSignExtraInfo","signTransaction","baseSignTransaction","baseSignMessage","messages","Promise","all","map","msg","unsignedMsg","baseSignMessageBtc","_this2","unsignedMessage","basePrepareAccountsImported","importedCredential","networks","createAtNetwork","privateKey","onlyAvailableOnCertainNetworks","coinTypeDefault","privateKeyRaw","getAddressFromPrivate","addressEncoding","addressUsed","buildImportedAccountId","resolve","undefined","basePrepareAccountsImportedUtxo","_x8","basePrepareAccountsHd","_ref2","_this3","getAddressesFromHd","hdCredential","_x10","_x9","basePrepareAccountsHdUtxo","_ref3","_this4","getCredentialsInfo","getAddressesFromHdDone","_x13","_x11","_x12","baseExportAccountSecretKeys","keyType","serviceNetwork","getDeriveTypeByTemplate","getExportedSecretKey","_x14","baseGetPrivateKeys","getPrivateKeys","_x15","KeyringWatchingBase","_signTransaction","_signMessage","_basePrepareUtxoWatchingAccounts","_basePrepareSimpleWatchingAccounts","intl","formatMessage","ETranslations","wallet_error_trade_with_watched_acocunt","basePrepareUtxoWatchingAccounts","isUrlAccount","buildWatchingAccountId","addressFromXpub","getAddressFromPublic","basePrepareSimpleWatchingAccounts","SIMPLE","_excluded","_excluded2","VaultBase","_VaultBaseChainOnly","uuid","mutexBuildOnChainHistoryTxGetDBAccount","_init","_initKeyring","_broadcastTransaction","_broadcastTransactionFromCustomRpc","_validateSendAmount","_buildOnChainHistoryTxExtraInfo","_precheckUnsignedTx","_buildEstimateFeeParams","_buildParseTransactionParams","_buildFetchHistoryListParams","_buildHistoryTx","_buildOnChainHistoryTx","_buildHistoryTxAction","_buildHistoryTxFunctionCallAction","_buildHistoryTxUnknownAction","_buildHistoryTransferAction","_buildTxTransferAssetAction","_buildInternalSwapAction","_buildInternalStakingAction","_getAccount","_getAccountAddress","_getAccountPath","_getAccountXpub","_fillTokensDetails","_fillAccountDetails","_isEarliestLocalPendingTx","_buildReplaceEncodedTx","_attachFeeInfoToDAppEncodedTx","_activateToken","_getAddressType","_fetchAccountDetails","_fetchAccountDetailsByApi","_fetchAccountDetailsByRpc","_fetchTokenList","_fetchTokenListByApi","_fetchTokenListByRpc","_estimateFee","_estimateFeeByApi","_estimateFeeByRpc","_fetchAccountHistoryDetail","_fetchAccountHistoryDetailByApi","_fetchAccountHistoryDetailByRpc","_buildOkxSwapEncodedTx","_proto2","init","config","initKeyring","_x16","isChainOnly","keyring","keyringCreator","_x17","broadcastTransaction","signedTx","txid","serviceSend","encodedTx","_x18","broadcastTransactionFromCustomRpc","_x19","validateSendAmount","_x20","buildOnChainHistoryTxExtraInfo","onChainHistoryTx","_x21","precheckUnsignedTx","_x22","buildEstimateFeeParams","_x23","buildParseTransactionParams","_x24","buildFetchHistoryListParams","_x25","buildHistoryTx","historyTxToMerge","decodedTx","isSigner","isLocalCreated","dbAccount","accountAddress","serviceAccount","getAccountAddressForApi","getAccountXpub","owner","signer","historyTx","buildLocalHistoryId","_x26","fixOnChainHistoryAccountData","originAccountId","originNetworkId","originAccountAddress","originXpub","allNetworkHistoryExtraItems","onekeyall","allNetworkAccount","i","_","txXpub","accountXpub","buildOnChainHistoryTx","tokens","nfts","dbAccountCache","runExclusive","getDBAccountSafe","vaultSettings","action","buildHistoryTxAction","tx","from","to","nonce","actions","status","totalFeeInNative","gasFee","totalFeeFiatValue","gasFeeFiatValue","nativeAmount","isUtxo","extraInfo","label","updatedAt","Date","timestamp","getTime","createdAt","isFinal","_x27","Approve","tokenApprove","buildHistoryTxApproveAction","sends","receives","buildHistoryTxFunctionCallAction","buildHistoryTxUnknownAction","buildHistoryTransferAction","_x28","getNetwork","FUNCTION_CALL","functionCall","functionName","functionHash","functionCode","_x29","UNKNOWN","unknownAction","_x30","ASSET_TRANSFER","assetTransfer","send","buildHistoryTransfer","transfer","receive","_x31","icon","symbol","isNFT","isNative","price","tokenAddress","token","tokenIdOnNetwork","amount","isOwn","decimals","TOKEN_APPROVE","spender","shiftedBy","toFixed","isInfiniteAmount","buildTxTransferAssetAction","transfers","data","application","isInternalSwap","isInternalStaking","internalStakingLabel","swapReceivedAddress","swapReceivedNetworkId","getAccountAddress","sendNativeTokenAmountBN","OUT","plus","nativeAmountValue","convertAmountToChainValue","_x32","buildInternalSwapAction","_swapSendToken$logoUR","_swapSendToken$name","_swapReceiveToken$log","_swapReceiveToken$nam","_providerInfo$provide","swapData","swapInfo","swapToAddress","swapSendToken","sender","swapReceiveToken","receiver","providerInfo","swapBuildResData","info","otherFeeInfos","otherFeeInfoTransfers","contractAddress","logoURI","accountInfo","receivingAddress","feeInfo","_feeInfo$token$logoUR","_feeInfo$token$name","providerName","providerLogo","_x33","buildInternalStakingAction","_send$token$logoURI","_send$token$name","_receive$token$logoUR","_receive$token$name","stakingInfo","stakingData","stakingToAddress","protocol","protocolLogoURI","_x34","_params$signOnly","_signedTx$encodedTx","_x35","getDBAccount","isAccountCompatibleWithNetwork","slice","getNetworkInfo","externalAccount","externalAccountAddress","connectedAddresses","buildExternalAccountAddress","fallbackIndex","_externalAccount$sele","selectedAddress","getNetworkImpl","addressDetail","buildAccountAddressDetail","allowEmptyAddress","isValid","getAccountPath","networkAccount","getXpubFromAccount","fillTokensDetails","tokensDetails","_x36","fillAccountDetails","accountDetails","_x37","isEarliestLocalPendingTx","_x38","buildReplaceEncodedTx","replaceType","_x39","attachFeeInfoToDAppEncodedTx","_x40","activateToken","_x41","getAddressType","_x42","buildStakeEncodedTx","fetchAccountDetails","isCustomNetwork","fetchAccountDetailsByRpc","fetchAccountDetailsByApi","_x43","queryParams","client","serviceAccountProfile","getClient","Wallet","get","headers","_getWalletTypeHeader","signal","_x44","_x45","fetchTokenList","fetchTokenListByRpc","fetchTokenListByApi","_x46","serviceToken","requestApiParams","flag","contractList","contract","post","_x47","_x48","estimateFee","estimateFeeByRpc","estimateFeeByApi","_x49","rest","serviceGas","_x50","_x51","fetchAccountHistoryDetail","fetchAccountHistoryDetailByRpc","fetchAccountHistoryDetailByApi","_x52","_x53","_x54","buildOkxSwapEncodedTx","_x55","VaultBaseChainOnly","_getXpubFromAccount","_proxyJsonRPCCall","_addressFromBase","_addressToBase","_baseValidatePrivateKey","_baseValidateGeneralInput","_baseGetPrivateKeyFromImported","_validateAmountInputShown","_checkIsDomainName","_resolveDomainName","_getCustomRpcEndpointStatus","_checkFeeSupportInfo","_fetchTokenDetails","_fetchTokenDetailsByApi","_fetchTokenDetailsByRpc","proxyJsonRPCCall","request","addressFromBase","addressToBase","baseValidatePrivateKey","baseValidateGeneralInput","addressResult","xpubResult","xprvtResult","privateKeyResult","encodedText","validateAddress","validateXprvt","validateXpub","validatePrivateKey","inputDecoded","baseGetPrivateKeyFromImported","stripHexPrefix","text","validateAmountInputShown","toAddress","checkIsDomainName","resolveDomainName","getCustomRpcEndpointStatus","checkFeeSupportInfo","fetchTokenDetails","fetchTokenDetailsByRpc","fetchTokenDetailsByApi","_params$signal","VaultContext","getWalletIdFromAccountId","_getNetworkId","_getNetwork","_getNetworkChainId","_getNetworkImpl","_getVaultSettings2","_getNetworkInfo","_getCoreApiNetworkInfo","_getRpcUrl","_destroy","getNetworkId","cached","_network","getNetworkChainId","hex","addressPrefix","curve","networkImpl","chainId","isTestnet","networkChainCode","code","getRpcUrl","destroy","ELnPaymentStatusEnum","KeyringExternal","_KeyringExternalBase","KeyringHardware","_KeyringHardwareBase","coreChainApi","lightning","_buildLnToBtcPath","_prepareAccounts","_signApiMessage","_lnurlAuth","buildLnToBtcPath","showOnOneKey","accountUtils","getBtcCoinName","btcImpl","publicKeys","allNetworkAccounts","p","serviceLightning","getLnClient","getBtcForkNetwork","addressRelPath","getAddressFromXpub","relativePaths","checkAccountExist","hashPubKey","bufferUtils","bytesToHex","sha256","s","signTemplate","fetchSignTemplate","sign","signApiMessage","deviceCommonParams","msgPayload","pubkey","createUser","signature","randomSeed","addressInfo","buildBtcToLnPath","exchangeToken","baseAddress","displayAddress","normalizedAddress","message","sdk","btcSignMessage","coin","messageHex","Buffer","toString","invoice","expired","created","paymentHash","paymentRequest","Number","rawTx","testnet","JSON","stringify","_ref4","response","lnurlAuth","lnurlDetail","tag","url","URL","domain","hostname","k1","publickey","loginURL","searchParams","set","now","KeyringHd","_KeyringHdBase","_getPrivateKeys","nativeSegwitAccounts","accounts","buildLightningAccountId","networkBtc","btc","networkTbtc","tbtc","btcPath","btcCode","btcNetworkId","sigOptions","segwitType","pathToAddresses","addressToPath","coreParams","KeyringImported","_KeyringImportedBase","KeyringWatching","_KeyringWatchingBase","Vault","_VaultBase","keyringMap","qr","hw","getClientCache","_client","Lightning","ClientLightning","maxAge","timerUtils","getTimeDurationMs","minute","_decodedInvoiceCache","decodedInvoice","seconds","_getClient","_buildEncodedTx","_buildDecodedTx","_buildUnsignedTx","_pollBolt11Status","_validateAddress","_fetchSpecialInvoice","_exchangeToken","_getLnurlAuthUrl","_verifyMessage","_getAuthorization2","buildEncodedTx","_invoice$satoshis","_invoice$timeExpireDa","transfersInfo","transferInfo","lnConfig","getConfig","tags","tagName","millisatoshis","dividedBy","satoshis","_isZeroAmountInvoice","description","lightningAddress","timeExpireDate","isExceedTransferLimit","isGreaterThan","maxSendAmount","successAction","lnurlPaymentInfo","buildDecodedTx","nativeToken","getToken","formattedTo","shortenAddress","leadingLength","trailingLength","_nativeToken$logoURI","Pending","buildUnsignedTx","updateUnsignedTx","pollBolt11Status","err","reject","intervalId","setInterval","checkBolt11","NOT_FOUND_ORDER","SUCCESS","clearInterval","FAILED","toLowerCase","_encodedTx$decodedInv","dest","payeeNodeKey","amt","startsWith","validateBtcAddress","lnurl","validateGeneralInput","xprvt","getPrivateKeyFromImported","fetchSpecialInvoice","specialInvoice","_usedAccount$pub","usedAccount","isHdWallet","servicePassword","promptPasswordVerify","isHwWallet","getWalletDeviceParams","res","refreshAccessToken","simpleDb","updateCredential","accessToken","lightningSignature","_getAuthorization","getLnurlAuthUrl","verifyMessage","ZeroInvoiceMaxSendAmount","satsText","appLocale","global_sats","dapp_connect_amount_should_not_exceed","finalAmount","isLessThan","dapp_connect_amount_should_be_at_least","preCheckBolt11","_message","is_paid","send_invoice_is_already_paid","preImage","preimage","getAuthorization","EVaultKeyringTypes","EWrappedType"],"sourceRoot":""}