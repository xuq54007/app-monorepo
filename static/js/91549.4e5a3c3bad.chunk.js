!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="0af5451d-e0da-4b15-a2ab-9cbce91e003d",e._sentryDebugIdIdentifier="sentry-dbid-0af5451d-e0da-4b15-a2ab-9cbce91e003d")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"5.5.0 (2024121652)"},(self.webpackChunkweb=self.webpackChunkweb||[]).push([[91549],{768417:(e,t,n)=>{n.d(t,{r:()=>l});var r=n(324586),o=n(514041),a=n(2577),s=n(597102),i=n(405730),c=n(812452),d=n(831085);function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var l=(0,o.memo)((function(e){var{children:t,storeName:n}=e,r=(0,c.Y)(n),o=a.A.getOrCreateStore(r);return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(s.H,_objectSpread({},r)),(0,d.jsx)(i.o1,{store:o,children:t})]})}));l.displayName="EarnProviderMirror"},91549:(e,t,n)=>{n.r(t),n.d(t,{default:()=>InvestmentDetails});var r=n(324586),o=n(514041),a=n(241440),s=n(908867),i=n(490343),c=n(643087),d=n(325809),l=n(791088),p=n(498356),u=n(911998),m=n(162616),g=n(405730),k=n(471169),y=n(334439),f=n(193068),b=n(714191),x=n(768417),w=n(831085);function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ListSkeletonItem(){return(0,w.jsxs)(l.c,{"data-sentry-element":"ListItem","data-sentry-component":"ListSkeletonItem","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/pages/InvestmentDetails/index.tsx",children:[(0,w.jsx)(i.Skeleton,{w:"$10",h:"$10",radius:"round","data-sentry-element":"Skeleton","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/pages/InvestmentDetails/index.tsx"}),(0,w.jsxs)(i.YStack,{"data-sentry-element":"YStack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/pages/InvestmentDetails/index.tsx",children:[(0,w.jsx)(i.YStack,{py:"$1","data-sentry-element":"YStack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/pages/InvestmentDetails/index.tsx",children:(0,w.jsx)(i.Skeleton,{h:"$4",w:120,borderRadius:"$2","data-sentry-element":"Skeleton","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/pages/InvestmentDetails/index.tsx"})}),(0,w.jsx)(i.YStack,{py:"$1","data-sentry-element":"YStack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/pages/InvestmentDetails/index.tsx",children:(0,w.jsx)(i.Skeleton,{h:"$3",w:80,borderRadius:"$2","data-sentry-element":"Skeleton","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/pages/InvestmentDetails/index.tsx"})})]})]})}var isTrue=function(e){return Number(e)>0};function BasicInvestmentDetails(){var e=(0,m.LH)({num:0}),t=(0,g.Vm)(),[{earnAccount:n}]=(0,g.vQ)(),[r]=(0,k.useSettingsPersistAtom)(),d=(0,p.A)(),b=(0,s.A)(),{result:x=[],isLoading:S}=(0,u.yk)((function(){var r=t.current.buildEarnAccountsKey(e.activeAccount?.account?.id,e.activeAccount?.network?.id),o=n?.[r]?.accounts||[];return o.length?c.A.serviceStaking.fetchInvestmentDetail(o.map((function({networkId:e,accountAddress:t,publicKey:n}){return{networkId:e,accountAddress:t,publicKey:n}}))):new Promise((function(e){setTimeout((function(){return e([])}),1500)}))}),[e.activeAccount?.account?.id,e.activeAccount?.network?.id,t,n],{watchLoading:!0}),v=x.map((function(e){return{title:e.name,logoURI:e.logoURI,data:e.investment.map((function(t){return _objectSpread(_objectSpread({},t),{},{providerName:e.name})})).filter((function(e){return!new a.A(e.staked).isZero()}))}})).filter((function(e){return e.data.length>0})),h=(0,o.useCallback)((function({item:{tokenInfo:t,staked:n,stakedFiatValue:o,claimable:a,overflow:s,providerName:c}}){return(0,w.jsx)(l.c,{userSelect:"none",drillIn:!0,onPress:function(){var n,{activeAccount:{account:r,indexedAccount:o}}=e;r&&t&&d.push(f.Ax.ProtocolDetails,{indexedAccountId:o?.id,accountId:null!=(n=r?.id)?n:"",networkId:t.networkId,symbol:t.symbol.toUpperCase(),provider:c})},avatarProps:{src:t.logoURI,networkId:t.networkId},renderItemText:(0,w.jsxs)(i.XStack,{justifyContent:"space-between",flex:1,children:[(0,w.jsxs)(i.YStack,{children:[(0,w.jsx)(i.NumberSizeableText,{size:"$bodyLgMedium",formatter:"balance",formatterOptions:{tokenSymbol:t.symbol},children:n}),(0,w.jsx)(i.NumberSizeableText,{size:"$bodyMd",color:"$textSubdued",formatter:"balance",formatterOptions:{currency:r.currencyInfo.symbol},children:o})]}),(0,w.jsxs)(i.Stack,{$gtMd:{flexDirection:"row"},gap:"$1.5",children:[isTrue(a)?(0,w.jsx)(i.Badge,{badgeType:"info",badgeSize:"sm",userSelect:"none",my:"auto",children:(0,w.jsx)(i.Badge.Text,{children:b.formatMessage({id:y.ETranslations.earn_claimable})})}):null,isTrue(s)?(0,w.jsx)(i.Badge,{badgeType:"critical",badgeSize:"sm",userSelect:"none",my:"auto",children:(0,w.jsx)(i.Badge.Text,{children:b.formatMessage({id:y.ETranslations.earn_overflow})})}):null]})]})})}),[e,b,d,r.currencyInfo.symbol]);return(0,w.jsxs)(i.Page,{scrollEnabled:!0,"data-sentry-element":"Page","data-sentry-component":"BasicInvestmentDetails","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/pages/InvestmentDetails/index.tsx",children:[(0,w.jsx)(i.Page.Header,{title:b.formatMessage({id:y.ETranslations.earn_investment_details}),"data-sentry-element":"unknown","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/pages/InvestmentDetails/index.tsx"}),(0,w.jsx)(i.Page.Body,{"data-sentry-element":"unknown","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/pages/InvestmentDetails/index.tsx",children:(0,w.jsx)(i.SectionList,{ListEmptyComponent:S?(0,w.jsxs)(i.YStack,{children:[(0,w.jsxs)(i.XStack,{px:"$5",gap:"$3",py:"$3",children:[(0,w.jsx)(i.Skeleton,{width:"$6",height:"$6",radius:"round"}),(0,w.jsx)(i.YStack,{py:"$1",children:(0,w.jsx)(i.Skeleton,{h:"$3",w:80,borderRadius:"$2"})})]}),(0,w.jsx)(ListSkeletonItem,{}),(0,w.jsx)(ListSkeletonItem,{}),(0,w.jsx)(ListSkeletonItem,{})]}):(0,w.jsx)(i.Empty,{pt:180,icon:"ClockTimeHistoryOutline",title:b.formatMessage({id:y.ETranslations.earn_no_orders}),description:b.formatMessage({id:y.ETranslations.earn_no_orders_desc})}),renderItem:h,sections:v,renderSectionHeader:function({section:{title:e,logoURI:t}}){return(0,w.jsxs)(i.XStack,{px:"$5",gap:"$3",py:"$3",alignItems:"center",children:[(0,w.jsxs)(i.Image,{height:"$6",width:"$6",borderRadius:"$1",children:[(0,w.jsx)(i.Image.Source,{source:{uri:t}}),(0,w.jsx)(i.Image.Fallback,{alignItems:"center",justifyContent:"center",bg:"$bgStrong",delayMs:1e3,children:(0,w.jsx)(i.Icon,{size:"$5",name:"CoinOutline",color:"$iconDisabled"})})]}),(0,w.jsx)(i.Heading,{color:"$textSubdued",size:"$headingSm",children:`${e.charAt(0).toUpperCase()}${e.slice(1)}`})]})},estimatedItemSize:60,"data-sentry-element":"SectionList","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/pages/InvestmentDetails/index.tsx"})})]})}function InvestmentDetails(){return(0,w.jsx)(d.b8,{config:{sceneName:b.Zs.home,sceneUrl:""},enabledNum:[0],"data-sentry-element":"AccountSelectorProviderMirror","data-sentry-component":"InvestmentDetails","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/pages/InvestmentDetails/index.tsx",children:(0,w.jsx)(x.r,{storeName:k.EJotaiContextStoreNames.earn,"data-sentry-element":"EarnProviderMirror","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/pages/InvestmentDetails/index.tsx",children:(0,w.jsx)(BasicInvestmentDetails,{"data-sentry-element":"BasicInvestmentDetails","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/pages/InvestmentDetails/index.tsx"})})})}}}]);
//# sourceMappingURL=91549.4e5a3c3bad.chunk.js.map