!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="5168e55d-17cb-4739-a59b-2acb6175d3a4",e._sentryDebugIdIdentifier="sentry-dbid-5168e55d-17cb-4739-a59b-2acb6175d3a4")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"5.5.0 (2024121652)"},(self.webpackChunkweb=self.webpackChunkweb||[]).push([[21732],{82506:(e,n,t)=>{t.d(n,{d:()=>useDebounce});var o=t(578104);function useDebounce(e,n,t){var[r]=(0,o.d7)(e,n,t);return r}},278484:(e,n,t)=>{t.d(n,{wI:()=>DAppAccountListItem,ZY:()=>DAppAccountListStandAloneItem,X1:()=>DAppAccountListStandAloneItemForHomeScene,VV:()=>WalletConnectAccountTriggerList});var o=t(460986),r=t.n(o),s=t(324586),a=t(586330),c=t(514041),p=t(908867),i=t(17617),u=t(490343),d=t(643087),l=t(325809),m=t(237532),g=t(24284),A=t(911998),f=t(162616),k=t(226952),y=t(334439),D=(t(663522),t(584186)),w=t(714191),S=t(82506);var h=t(831085);function ownKeys(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?ownKeys(Object(t),!0).forEach((function(n){(0,s.A)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function DAppAccountListInitFromHome({num:e,shouldSyncFromHome:n}){var[,t]=(0,f.K7)(),o=(0,f.z$)();return(0,c.useEffect)((function(){return(0,a.A)((function*(){try{t((function(n){return _objectSpread(_objectSpread({},n),{},{[e]:{isLoading:!0}})})),yield D.A.wait(600),n&&(yield o.current.syncFromScene({from:{sceneName:w.Zs.home,sceneNum:0},num:e}))}finally{n&&(yield D.A.wait(300)),t((function(n){return _objectSpread(_objectSpread({},n),{},{[e]:{isLoading:!1}})}))}}))(),function(){t((function(n){return _objectSpread(_objectSpread({},n),{},{[e]:{isLoading:!1}})}))}}),[o,e,t,n]),null}function DAppAccountListItem({num:e,handleAccountChanged:n,readonly:t,networkReadonly:o,compressionUiMode:r,initFromHome:s,beforeShowTrigger:a,skeletonRenderDuration:p}){!function useHandleDiscoveryAccountChanged({num:e,handleAccountChanged:n}){var{activeAccount:t}=(0,f.LH)({num:e}),{selectedAccount:o}=(0,f.wz)({num:e}),r=(0,S.d)(t,200),s=(0,S.d)(o,200),a=(0,c.useRef)(t),p=(0,c.useRef)(o);(0,c.useEffect)((function(){a.current=t,p.current=o}),[t,o]),(0,c.useEffect)((function(){n&&(r.isOthersWallet&&r.account?.id===s.othersWalletAccountId||r.indexedAccount?.id===s.indexedAccountId)&&n({activeAccount:a.current,selectedAccount:p.current},e)}),[r,s,n,e])}({num:e,handleAccountChanged:n});var d=Boolean(s&&!t);return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)(u.YGroup,{bg:"$bg",borderRadius:"$3",borderColor:"$borderSubdued",borderWidth:i.A.hairlineWidth,separator:(0,h.jsx)(u.Divider,{}),disabled:t,"data-sentry-element":"YGroup","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/DAppConnection/components/DAppAccountList/DAppAccountListItem.tsx",children:[(0,h.jsx)(u.YGroup.Item,{"data-sentry-element":"unknown","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/DAppConnection/components/DAppAccountList/DAppAccountListItem.tsx",children:(0,h.jsx)(l.jY,{num:e,beforeShowTrigger:a,disabled:o||t,loadingDuration:0,"data-sentry-element":"NetworkSelectorTriggerDappConnection","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/DAppConnection/components/DAppAccountList/DAppAccountListItem.tsx"})}),(0,h.jsx)(u.YGroup.Item,{"data-sentry-element":"unknown","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/DAppConnection/components/DAppAccountList/DAppAccountListItem.tsx",children:(0,h.jsx)(m.Up,{num:e,compressionUiMode:r,beforeShowTrigger:a,loadingDuration:0,"data-sentry-element":"AccountSelectorTriggerDappConnection","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/DAppConnection/components/DAppAccountList/DAppAccountListItem.tsx"})})]}),(0,h.jsx)(DAppAccountListInitFromHome,{num:e,shouldSyncFromHome:d,"data-sentry-element":"DAppAccountListInitFromHome","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/DAppConnection/components/DAppAccountList/DAppAccountListItem.tsx"})]})}function DAppAccountListStandAloneItem({readonly:e,handleAccountChanged:n,onConnectedAccountInfoChanged:t}){var o=(0,p.A)(),{serviceDApp:s,serviceNetwork:i}=d.A,{$sourceInfo:m}=(0,g.A)(),{result:f}=(0,A.yk)((0,a.A)((function*(){var e,n;if(!m?.origin||!m.scope)return{accountSelectorNum:null,networkIds:null};var t=(0,k.zg)(m.scope),o=t?(yield i.getNetworkIdsByImpls({impls:t})).networkIds:null,r=yield s.getConnectedAccountsInfo({origin:m.origin,scope:null!=(e=m.scope)?e:"",isWalletConnectRequest:m.isWalletConnectRequest});return Array.isArray(r)&&r.length>0&&"number"==typeof r[0]?.num?{accountSelectorNum:r[0].num,networkIds:o,existConnectedAccount:!0}:{accountSelectorNum:yield s.getAccountSelectorNum({origin:m.origin,scope:null!=(n=m.scope)?n:"",isWalletConnectRequest:m.isWalletConnectRequest}),networkIds:o,existConnectedAccount:!1}})),[m?.origin,m?.scope,m?.isWalletConnectRequest,s,i]);return(0,c.useEffect)((function(){r()(f?.accountSelectorNum)&&t&&t({num:f.accountSelectorNum,existConnectedAccount:f.existConnectedAccount})}),[f?.accountSelectorNum,f?.existConnectedAccount,t]),(0,h.jsxs)(u.YStack,{gap:"$2",testID:"DAppAccountListStandAloneItem","data-sentry-element":"YStack","data-sentry-component":"DAppAccountListStandAloneItem","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/DAppConnection/components/DAppAccountList/DAppAccountListItem.tsx",children:[(0,h.jsx)(u.SizableText,{size:"$headingMd",color:"$text","data-sentry-element":"SizableText","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/DAppConnection/components/DAppAccountList/DAppAccountListItem.tsx",children:o.formatMessage({id:y.ETranslations.global_accounts})}),"number"==typeof f?.accountSelectorNum&&Array.isArray(f?.networkIds)?(0,h.jsx)(l.b8,{config:{sceneName:w.Zs.discover,sceneUrl:m?.origin},enabledNum:[f.accountSelectorNum],availableNetworksMap:{[f.accountSelectorNum]:{networkIds:f.networkIds}},children:(0,h.jsx)(DAppAccountListItem,{initFromHome:!f?.existConnectedAccount,num:f?.accountSelectorNum,handleAccountChanged:n,readonly:e})}):null]})}function DAppAccountListStandAloneItemForHomeScene(){var e=(0,p.A)();return(0,h.jsxs)(u.YStack,{gap:"$2",testID:"DAppAccountListStandAloneItem","data-sentry-element":"YStack","data-sentry-component":"DAppAccountListStandAloneItemForHomeScene","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/DAppConnection/components/DAppAccountList/DAppAccountListItem.tsx",children:[(0,h.jsx)(u.SizableText,{size:"$headingMd",color:"$text","data-sentry-element":"SizableText","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/DAppConnection/components/DAppAccountList/DAppAccountListItem.tsx",children:e.formatMessage({id:y.ETranslations.global_accounts})}),(0,h.jsx)(l.b8,{config:{sceneName:w.Zs.home},enabledNum:[0],"data-sentry-element":"AccountSelectorProviderMirror","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/DAppConnection/components/DAppAccountList/DAppAccountListItem.tsx",children:(0,h.jsx)(DAppAccountListItem,{initFromHome:!1,num:0,readonly:!0,"data-sentry-element":"DAppAccountListItem","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/DAppConnection/components/DAppAccountList/DAppAccountListItem.tsx"})})]})}function WalletConnectAccountTriggerList({sceneUrl:e,sessionAccountsInfo:n,handleAccountChanged:t}){var o=n.map((function(e){return e.accountSelectorNum})),r=n.reduce((function(e,n){var t=n.networkIds.filter(Boolean);return e[n.accountSelectorNum]={networkIds:t,defaultNetworkId:t[0]},e}),{});return(0,h.jsxs)(u.YStack,{gap:"$2","data-sentry-element":"YStack","data-sentry-component":"WalletConnectAccountTriggerList","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/DAppConnection/components/DAppAccountList/DAppAccountListItem.tsx",children:[(0,h.jsx)(u.SizableText,{size:"$headingMd",color:"$text","data-sentry-element":"SizableText","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/DAppConnection/components/DAppAccountList/DAppAccountListItem.tsx",children:"Accounts"}),Array.isArray(n)&&n.length?(0,h.jsx)(l.b8,{config:{sceneName:w.Zs.discover,sceneUrl:e},enabledNum:o,availableNetworksMap:r,children:(0,h.jsx)(u.YStack,{gap:"$2",children:n.map((function(e){return(0,h.jsx)(u.Stack,{children:(0,h.jsx)(DAppAccountListItem,{initFromHome:!0,num:e.accountSelectorNum,handleAccountChanged:t})},e.accountSelectorNum)}))})}):null]})}},701378:(e,n,t)=>{t.d(n,{_:()=>DAppRequestedPermissionContent,N:()=>DAppSignMessageContent});var o=t(908867),r=t(17617),s=t(490343),a=t(334439),c=t(831085);function DAppRequestedPermissionContent({requestPermissions:e}){var n=(0,o.A)();return(0,c.jsxs)(s.YStack,{gap:"$2","data-sentry-element":"YStack","data-sentry-component":"DAppRequestedPermissionContent","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/DAppConnection/components/DAppRequestContent/DAppRequestedPermissionContent.tsx",children:[(0,c.jsx)(s.SizableText,{color:"$text",size:"$headingMd","data-sentry-element":"SizableText","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/DAppConnection/components/DAppRequestContent/DAppRequestedPermissionContent.tsx",children:n.formatMessage({id:a.ETranslations.dapp_connect_requested_permissions})}),(0,c.jsx)(s.YStack,{py:"$2.5",px:"$3",gap:"$3",minHeight:"$8",bg:"$bg",borderRadius:"$3",borderWidth:r.A.hairlineWidth,borderColor:"$borderSubdued",borderCurve:"continuous","data-sentry-element":"YStack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/DAppConnection/components/DAppRequestContent/DAppRequestedPermissionContent.tsx",children:(null!=e?e:[n.formatMessage({id:a.ETranslations.dapp_connect_view_your_balance_and_activity}),n.formatMessage({id:a.ETranslations.dapp_connect_send_approval_requests})]).map((function(e){return(0,c.jsxs)(s.XStack,{gap:"$3",children:[(0,c.jsx)(s.Icon,{name:"CheckLargeOutline",color:"$icon",size:"$5"}),(0,c.jsx)(s.SizableText,{color:"$text",size:"$bodyMd",children:e})]},e)}))})]})}var p=t(586330),i=t(514041),u=t(903454),d=t(911998),l=t(276059),m=t(161024),g=t(901048).Buffer;function DAppSignMessageContent({unsignedMessage:e}){var n=(0,o.A)(),[t,r]=(0,i.useState)(!1),A=(0,i.useMemo)((function(){var{message:n,type:t,payload:o}=e;switch(t){case m.nc.ECDSA:case m.nc.BIP322_SIMPLE:case m.$.ETH_SIGN:case m.nZ.SIMPLE_SIGN:return n;case m.$.PERSONAL_SIGN:case m.nZ.SIGN_MESSAGE:try{return u.toBuffer(n).toString("utf8")}catch(e){return n}case m.nZ.HEX_MESSAGE:return g.from(n,"hex").toString("utf8");case m.nF.SIGN_MESSAGE:var r;return null!=(r=o?.message)?r:n;case m.$.TYPED_DATA_V1:var s,a,c=null!=(s=JSON.parse(n))?s:{};if(c=null!=(a=c.message)?a:c,Array.isArray(c))c=c.reduce((function(e,n){return e[n.name]=n.value,e}),{});return JSON.stringify(c,null,2);case m.$.TYPED_DATA_V3:case m.$.TYPED_DATA_V4:try{var p,i,d=JSON.parse(n);return d=null!=(p=d?.message)?p:d,JSON.stringify("string"==typeof d?null!=(i=JSON.parse(d))?i:{}:d,null,2)}catch{return n}default:return n}}),[e]),f=(0,i.useCallback)((function(){var{message:o,type:p}=e;if(p===m.nc.ECDSA||p===m.nc.BIP322_SIMPLE||p===m.$.ETH_SIGN||p===m.nZ.SIMPLE_SIGN)return null;var i=o;if(p===m.$.TYPED_DATA_V1||p===m.$.TYPED_DATA_V3||p===m.$.TYPED_DATA_V4){try{i=JSON.parse(i)}catch(e){}i=JSON.stringify(i,null,2)}return(0,c.jsxs)(s.YStack,{gap:"$2",children:[(0,c.jsx)(s.Button,{variant:"secondary",onPress:function(){return r(!t)},children:t?n.formatMessage({id:a.ETranslations.dapp_connect_hide_full_message}):n.formatMessage({id:a.ETranslations.dapp_connect_view_full_message})}),t?(0,c.jsx)(s.TextAreaInput,{editable:!1,numberOfLines:11,value:i}):null]})}),[n,e,t]),k=(0,d.yk)((0,p.A)((function*(){return(0,l.Qw)({unsignedMessage:e})})),[e]);return(0,c.jsxs)(s.YStack,{justifyContent:"center","data-sentry-element":"YStack","data-sentry-component":"DAppSignMessageContent","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/DAppConnection/components/DAppRequestContent/DAppSignMessageContent.tsx",children:[(0,c.jsxs)(s.XStack,{alignItems:"center",justifyContent:"space-between","data-sentry-element":"XStack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/DAppConnection/components/DAppRequestContent/DAppSignMessageContent.tsx",children:[(0,c.jsx)(s.SizableText,{color:"$text",size:"$headingMd",mb:"$2","data-sentry-element":"SizableText","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/DAppConnection/components/DAppRequestContent/DAppSignMessageContent.tsx",children:n.formatMessage({id:a.ETranslations.dapp_connect_message})}),k.result?(0,c.jsx)(s.Badge,{badgeType:"info",badgeSize:"sm",children:k.result}):null]}),(0,c.jsxs)(s.YStack,{gap:"$2","data-sentry-element":"YStack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/DAppConnection/components/DAppRequestContent/DAppSignMessageContent.tsx",children:[(0,c.jsx)(s.TextAreaInput,{value:A,editable:!1,numberOfLines:11,"data-sentry-element":"TextAreaInput","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/DAppConnection/components/DAppRequestContent/DAppSignMessageContent.tsx"}),f()]})]})}},980342:(e,n,t)=>{t.d(n,{A:()=>a,z:()=>useDappCloseHandler});var o=t(490343),r=t(42484),s=t(831085);function useDappCloseHandler(e,n){return function(t){t?.flag!==r.nd.Confirmed&&e.reject(),"function"==typeof n&&n(t)}}const a=function DappOpenModalPage({children:e,onClose:n,dappApprove:t}){var r=useDappCloseHandler(t,n);return(0,s.jsxs)(o.Page,{scrollEnabled:!0,onClose:r,"data-sentry-element":"Page","data-sentry-component":"DappOpenModalPage","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/DAppConnection/pages/DappOpenModalPage.tsx",children:[(0,s.jsx)(o.Page.Header,{headerShown:!1,"data-sentry-element":"unknown","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/DAppConnection/pages/DappOpenModalPage.tsx"}),e]})}},321732:(e,n,t)=>{t.r(n),t.d(n,{default:()=>_});var o=t(586330),r=t(514041),s=t(908867),a=t(17617),c=t(490343),p=t(325809),i=t(237532),u=t(334439),d=t(663522),l=t(276059),m=t(491180),g=t(47412),A=t(553083),f=t(42484),k=t(352325),y=t(161024),D=t(643087),w=t(796895),S=t(24284),h=t(911998),x=t(278484),C=t(701378),b=t(864961),v=t(905710),I=t(980342),M=t(831085),WalletAccountListItem=function({networkId:e,accountId:n}){var t=(0,s.A)(),{result:r,isLoading:d}=(0,h.yk)((0,o.A)((function*(){var t,[o,r,s]=yield Promise.all([D.A.serviceNetwork.getNetworkSafe({networkId:e}),D.A.serviceAccount.getAccount({accountId:n,networkId:e}),D.A.serviceAccount.getWallet({walletId:m.A.getWalletIdFromAccountId({accountId:n})})]);return r.indexedAccountId&&(t=yield D.A.serviceAccount.getIndexedAccount({id:r.indexedAccountId})),{network:o,account:r,wallet:s,indexedAccount:t}})),[e,n]);return(0,M.jsxs)(c.YStack,{gap:"$2","data-sentry-element":"YStack","data-sentry-component":"WalletAccountListItem","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/DAppConnection/pages/SignMessageModal.tsx",children:[(0,M.jsx)(c.SizableText,{size:"$headingMd",color:"$text","data-sentry-element":"SizableText","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/DAppConnection/pages/SignMessageModal.tsx",children:t.formatMessage({id:u.ETranslations.global_accounts})}),(0,M.jsxs)(c.YGroup,{bg:"$bg",borderRadius:"$3",borderColor:"$borderSubdued",borderWidth:a.A.hairlineWidth,separator:(0,M.jsx)(c.Divider,{}),disabled:!0,overflow:"hidden","data-sentry-element":"YGroup","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/DAppConnection/pages/SignMessageModal.tsx",children:[(0,M.jsx)(c.YGroup.Item,{"data-sentry-element":"unknown","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/DAppConnection/pages/SignMessageModal.tsx",children:(0,M.jsx)(p.rx,{isLoading:d,network:r?.network,triggerDisabled:!0,"data-sentry-element":"NetworkSelectorTriggerDappConnectionCmp","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/DAppConnection/pages/SignMessageModal.tsx"})}),(0,M.jsx)(c.YGroup.Item,{"data-sentry-element":"unknown","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/DAppConnection/pages/SignMessageModal.tsx",children:(0,M.jsx)(i.cd,{isLoading:d,account:r?.account,wallet:r?.wallet,indexedAccount:r?.indexedAccount,triggerDisabled:!0,"data-sentry-element":"AccountSelectorTriggerDappConnectionCmp","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/DAppConnection/pages/SignMessageModal.tsx"})})]})]})};const _=function SignMessageModal(){var e,n,t,a=(0,s.A)(),[p,i]=(0,r.useState)(!1),{$sourceInfo:m,unsignedMessage:_,accountId:j,networkId:L,walletInternalSign:T}=(0,S.A)(),$=(0,w.A)({id:null!=(e=m?.id)?e:"",closeWindowAfterResolved:!0}),{result:N}=(0,h.yk)((function(){return D.A.serviceNetwork.getNetwork({networkId:L})}),[L]),E=(0,l.PQ)({unsignedMessage:_}),P=(0,l.kW)({unsignedMessage:_}),O=_.type===y.$.TYPED_DATA_V3||_.type===y.$.TYPED_DATA_V4;(0,r.useEffect)((function(){var e;O&&D.A.serviceDiscovery.postSignTypedDataMessage({networkId:L,accountId:j,origin:null!=(e=m?.origin)?e:"",typedData:_.message})}),[O,m?.origin,j,L,_.message]);var Y,R=(0,r.useMemo)((function(){return N?.name?a.formatMessage({id:u.ETranslations.dapp_connect_allow_to_access_your_chain_message_signature},{chain:N.name}):""}),[a,N]),{showContinueOperate:q,continueOperate:z,setContinueOperate:H,riskLevel:W,urlSecurityInfo:F,isRiskSignMethod:G}=(0,v.q)({origin:null!=(n=m?.origin)?n:"",unsignedMessage:_}),V=(0,r.useCallback)((Y=(0,o.A)((function*(e){i(!0);try{_.type!==y.$.ETH_SIGN&&_.type!==y.$.PERSONAL_SIGN||(0,g.Xf)(_,N?.impl),_.type===y.$.TYPED_DATA_V1&&(0,g.cM)(_,N?.impl),_.type!==y.$.TYPED_DATA_V3&&_.type!==y.$.TYPED_DATA_V4||(0,g.a3)(_,A.Ay.getNetworkChainId({networkId:L}),N?.impl)}catch(n){return i(!1),$?.reject({error:n}),void e?.()}try{var n=yield D.A.serviceSend.signMessage({unsignedMessage:_,networkId:L,accountId:j});$.resolve({result:n});try{yield D.A.serviceSignature.addItemFromSignMessage({networkId:L,accountId:j,message:_.message,sourceInfo:m})}catch{}e?.({flag:f.nd.Confirmed})}finally{i(!1)}})),function(e){return Y.apply(this,arguments)}),[_,N?.impl,L,$,j,m]);return(0,M.jsx)(I.A,{dappApprove:$,"data-sentry-element":"DappOpenModalPage","data-sentry-component":"SignMessageModal","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/DAppConnection/pages/SignMessageModal.tsx",children:(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)(c.Page.Header,{headerShown:!1,"data-sentry-element":"unknown","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/DAppConnection/pages/SignMessageModal.tsx"}),(0,M.jsx)(c.Page.Body,{"data-sentry-element":"unknown","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/DAppConnection/pages/SignMessageModal.tsx",children:(0,M.jsxs)(b.HJ,{title:a.formatMessage({id:u.ETranslations.dapp_connect_initiate_message_signature_request}),subtitle:R,origin:null!=(t=m?.origin)?t:"",urlSecurityInfo:F,displaySignMessageAlert:G||O,signMessageAlertProps:function(){if(O){var e="default",n="signTypedData";return(E||P)&&(e="warning",n=E?"permit":"order"),{type:e,icon:"InfoSquareSolid",title:a.formatMessage({id:u.ETranslations.dapp_connect_permit_sign_alert},{type:n})}}}(),fullScreen:!d.Ay.isNativeIOS,"data-sentry-element":"DAppRequestLayout","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/DAppConnection/pages/SignMessageModal.tsx",children:[T?(0,M.jsx)(WalletAccountListItem,{accountId:j,networkId:L}):(0,M.jsx)(x.ZY,{readonly:!0}),(0,M.jsx)(C.N,{unsignedMessage:_,"data-sentry-element":"DAppSignMessageContent","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/DAppConnection/pages/SignMessageModal.tsx"})]})}),(0,M.jsx)(c.Page.Footer,{"data-sentry-element":"unknown","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/DAppConnection/pages/SignMessageModal.tsx",children:(0,M.jsx)(b.OS,{confirmText:a.formatMessage({id:u.ETranslations.dapp_connect_confirm}),continueOperate:z,setContinueOperate:function(e){H(!!e)},onConfirm:function(e){return V(e)},onCancel:function(){return $.reject()},confirmButtonProps:{loading:p,disabled:!z},showContinueOperateCheckbox:q,riskLevel:G?k._.High:W,"data-sentry-element":"DAppRequestFooter","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/DAppConnection/pages/SignMessageModal.tsx"})})]})})}}}]);
//# sourceMappingURL=21732.35cd74cd52.chunk.js.map