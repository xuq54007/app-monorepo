{"version":3,"file":"static/js/26172.ae9decde13.chunk.js","mappings":"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","sources":["webpack://web/../../packages/kit/src/hooks/useAppRoute.ts","webpack://web/../../packages/kit/src/utils/explorerUtils.ts","webpack://web/../../packages/kit/src/views/Staking/components/PageFrame/index.tsx","webpack://web/../../packages/kit/src/views/Staking/pages/PortfolioDetails/index.tsx","webpack://web/../../packages/kit/src/views/Staking/utils/babylon.ts"],"sourcesContent":["import{useRoute}from'@react-navigation/core';export function useAppRoute(){return useRoute();}","import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import{openUrlInApp}from'@onekeyhq/shared/src/utils/openUrlUtils';import backgroundApiProxy from\"../background/instance/backgroundApiProxy\";export var openExplorerAddressUrl=function(){var _ref=_asyncToGenerator(function*({networkId,address}){if(!networkId||!address){return;}var params={networkId,param:address,type:'address'};var url=yield backgroundApiProxy.serviceExplorer.buildExplorerUrl(params);openUrlInApp(url);});return function openExplorerAddressUrl(_x){return _ref.apply(this,arguments);};}();export var openTransactionDetailsUrl=function(){var _ref2=_asyncToGenerator(function*({networkId,txid}){if(!networkId||!txid){return;}var params={networkId,param:txid,type:'transaction'};var url=yield backgroundApiProxy.serviceExplorer.buildExplorerUrl(params);openUrlInApp(url);});return function openTransactionDetailsUrl(_x2){return _ref2.apply(this,arguments);};}();export var openTokenDetailsUrl=function(){var _ref3=_asyncToGenerator(function*({networkId,tokenAddress}){if(!networkId||!tokenAddress){return;}var params={networkId,param:tokenAddress,type:'token'};var url=yield backgroundApiProxy.serviceExplorer.buildExplorerUrl(params);openUrlInApp(url);});return function openTokenDetailsUrl(_x3){return _ref3.apply(this,arguments);};}();","import{useIntl}from'react-intl';import{Empty,Skeleton,Stack}from'@onekeyhq/components';import{ListItem}from'@onekeyhq/kit/src/components/ListItem';import{ETranslations}from'@onekeyhq/shared/src/locale';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var PageErrOccurred=function({onPress}){var intl=useIntl();return _jsx(Empty,{pt:\"$32\",icon:\"ErrorOutline\",title:intl.formatMessage({id:ETranslations.global_an_error_occurred}),description:intl.formatMessage({id:ETranslations.global_an_error_occurred_desc}),buttonProps:{onPress,children:intl.formatMessage({id:ETranslations.global_refresh})},\"data-sentry-element\":\"Empty\",\"data-sentry-component\":\"PageErrOccurred\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/components/PageFrame/index.tsx\"});};export var SimpleSpinnerSkeleton=function(){return _jsxs(Stack,{\"data-sentry-element\":\"Stack\",\"data-sentry-component\":\"SimpleSpinnerSkeleton\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/components/PageFrame/index.tsx\",children:[_jsx(Stack,{px:\"$5\",py:\"$2\",\"data-sentry-element\":\"Stack\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/components/PageFrame/index.tsx\",children:_jsx(Skeleton.HeadingSm,{\"data-sentry-element\":\"unknown\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/components/PageFrame/index.tsx\"})}),Array.from({length:3}).map(function(_,index){return _jsxs(ListItem,{children:[_jsx(Skeleton,{h:\"$10\",w:\"$10\",radius:\"round\"}),_jsxs(Stack,{children:[_jsx(Skeleton.BodyLg,{}),_jsx(Skeleton.BodyMd,{})]})]},index);})]});};export var isLoadingState=function({result,isLoading}){return Boolean(result===undefined&&(isLoading===undefined||isLoading===true));};export var isErrorState=function({result,isLoading}){return Boolean(result===undefined&&isLoading===false);};export var PageFrame=function({children,loading,LoadingSkeleton,error,onRefresh}){if(loading){return LoadingSkeleton?_jsx(LoadingSkeleton,{}):null;}if(error){return _jsx(PageErrOccurred,{onPress:onRefresh});}return _jsx(_Fragment,{children:children});};","import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import{useCallback,useMemo}from'react';import{useIntl}from'react-intl';import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import{Badge,Button,Empty,Icon,ListView,NumberSizeableText,Page,SizableText,Stack,XStack}from'@onekeyhq/components';import backgroundApiProxy from'@onekeyhq/kit/src/background/instance/backgroundApiProxy';import{Token}from'@onekeyhq/kit/src/components/Token';import{useAppRoute}from'@onekeyhq/kit/src/hooks/useAppRoute';import{usePromiseResult}from'@onekeyhq/kit/src/hooks/usePromiseResult';import{openTransactionDetailsUrl}from'@onekeyhq/kit/src/utils/explorerUtils';import{useSettingsPersistAtom}from'@onekeyhq/kit-bg/src/states/jotai/atoms';import{ETranslations}from'@onekeyhq/shared/src/locale';import accountUtils from'@onekeyhq/shared/src/utils/accountUtils';import{formatDate}from'@onekeyhq/shared/src/utils/dateUtils';import{PageFrame,SimpleSpinnerSkeleton,isErrorState,isLoadingState}from\"../../components/PageFrame\";import{getBabylonPortfolioTags,useBabylonStatusMap}from\"../../utils/babylon\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var PortfolioItem=function({item,network}){var _item$endTime,_item$startTime,_network$symbol;var route=useAppRoute();var statusMap=useBabylonStatusMap();var{networkId}=route.params;var onPress=useCallback(_asyncToGenerator(function*(){yield openTransactionDetailsUrl({networkId,txid:item.txId});}),[item,networkId]);var day=Math.floor(Math.max(1,((_item$endTime=item.endTime)!=null?_item$endTime:0)-((_item$startTime=item.startTime)!=null?_item$startTime:0))/(1000*60*60*24));var startDate=formatDate(new Date(Number(item.startTime)),{hideTimeForever:true});var endDate=formatDate(new Date(Number(item.endTime)),{hideTimeForever:true});var[{currencyInfo:{symbol}}]=useSettingsPersistAtom();var statusBadgeType={'active':'success','withdraw_requested':'warning','overflow':'critical','claimable':'info','claimed':'default','local_pending_activation':'default'};var intl=useIntl();return _jsx(Stack,{px:20,\"data-sentry-element\":\"Stack\",\"data-sentry-component\":\"PortfolioItem\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/pages/PortfolioDetails/index.tsx\",children:_jsxs(Stack,{borderWidth:StyleSheet.hairlineWidth,borderColor:\"$borderSubdued\",borderRadius:\"$3\",\"data-sentry-element\":\"Stack\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/pages/PortfolioDetails/index.tsx\",children:[_jsxs(XStack,{px:14,pt:14,justifyContent:\"space-between\",\"data-sentry-element\":\"XStack\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/pages/PortfolioDetails/index.tsx\",children:[_jsx(XStack,{gap:\"$1\",\"data-sentry-element\":\"XStack\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/pages/PortfolioDetails/index.tsx\",children:getBabylonPortfolioTags(item).map(function(tag){var _statusBadgeType$tag;return _jsx(Badge,{badgeType:(_statusBadgeType$tag=statusBadgeType[tag])!=null?_statusBadgeType$tag:'default',children:statusMap[tag]},tag);})}),item.txId?_jsx(Button,{onPress:onPress,size:\"small\",variant:\"tertiary\",iconAfter:\"OpenOutline\",children:accountUtils.shortenAddress({address:item.txId})}):null]}),_jsxs(XStack,{p:14,alignItems:\"center\",\"data-sentry-element\":\"XStack\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/pages/PortfolioDetails/index.tsx\",children:[_jsx(Stack,{pr:12,\"data-sentry-element\":\"Stack\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/pages/PortfolioDetails/index.tsx\",children:_jsx(Token,{tokenImageUri:network?.logoURI,\"data-sentry-element\":\"Token\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/pages/PortfolioDetails/index.tsx\"})}),_jsxs(Stack,{\"data-sentry-element\":\"Stack\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/pages/PortfolioDetails/index.tsx\",children:[_jsxs(SizableText,{size:\"$headingLg\",\"data-sentry-element\":\"SizableText\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/pages/PortfolioDetails/index.tsx\",children:[item.amount,\" \",(_network$symbol=network?.symbol)!=null?_network$symbol:'']}),item.fiatValue?_jsx(NumberSizeableText,{size:\"$bodyMd\",color:\"$textSubdued\",formatter:\"value\",formatterOptions:{currency:symbol},children:item.fiatValue}):null]})]}),item.startTime&&item.endTime?_jsxs(XStack,{p:14,bg:\"$bgSubdued\",alignItems:\"center\",children:[_jsx(Icon,{width:20,height:20,name:\"Calendar2Outline\",color:\"$iconSubdued\"}),_jsx(XStack,{w:\"$1.5\"}),_jsx(SizableText,{size:\"$bodyMd\",children:`${intl.formatMessage({id:ETranslations.earn_number_day},{number:day})} â€¢ ${startDate} - ${endDate}`})]}):null]})});};var ItemSeparatorComponent=function(){return _jsx(Stack,{h:\"$4\",\"data-sentry-element\":\"Stack\",\"data-sentry-component\":\"ItemSeparatorComponent\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/pages/PortfolioDetails/index.tsx\"});};var PortfolioDetails=function(){var route=useAppRoute();var intl=useIntl();var{accountId,networkId,symbol,provider}=route.params;var{result,isLoading,run}=usePromiseResult(function(){return Promise.all([backgroundApiProxy.serviceStaking.getPortfolioList({accountId,networkId,symbol,provider}),backgroundApiProxy.serviceNetwork.getNetworkSafe({networkId}),backgroundApiProxy.serviceStaking.getPendingActivationPortfolioList({accountId,networkId})]);},[accountId,networkId,symbol,provider],{watchLoading:true});var renderItem=useCallback(function({item}){return _jsx(PortfolioItem,{item:item,network:result?.[1]});},[result]);var data=useMemo(function(){if(!result)return[];var[v1,,v3]=result;return[...v3,...v1];},[result]);return _jsxs(Page,{scrollEnabled:true,\"data-sentry-element\":\"Page\",\"data-sentry-component\":\"PortfolioDetails\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/pages/PortfolioDetails/index.tsx\",children:[_jsx(Page.Header,{title:intl.formatMessage({id:ETranslations.earn_portfolio_details}),\"data-sentry-element\":\"unknown\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/pages/PortfolioDetails/index.tsx\"}),_jsx(Page.Body,{\"data-sentry-element\":\"unknown\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/pages/PortfolioDetails/index.tsx\",children:_jsx(PageFrame,{LoadingSkeleton:SimpleSpinnerSkeleton,error:isErrorState({result,isLoading}),loading:isLoadingState({result,isLoading}),onRefresh:run,\"data-sentry-element\":\"PageFrame\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/pages/PortfolioDetails/index.tsx\",children:result?_jsx(ListView,{estimatedItemSize:164,data:data,renderItem:renderItem,ListFooterComponent:_jsx(Stack,{h:\"$2\"}),ItemSeparatorComponent:ItemSeparatorComponent,ListEmptyComponent:_jsx(Empty,{icon:\"ClockTimeHistoryOutline\",title:intl.formatMessage({id:ETranslations.global_no_transactions_yet}),description:intl.formatMessage({id:ETranslations.global_no_transactions_yet_desc})})}):null})})]});};export default PortfolioDetails;","import{useMemo}from'react';import{useIntl}from'react-intl';import{ETranslations}from'@onekeyhq/shared/src/locale';export var getBabylonPortfolioStatus=function(item){return item.isOverflow?'overflow':item.status;};export var useBabylonStatusMap=function(){var intl=useIntl();return useMemo(function(){return{'active':intl.formatMessage({id:ETranslations.earn_active}),'withdraw_requested':intl.formatMessage({id:ETranslations.earn_withdrawal_requested}),'overflow':intl.formatMessage({id:ETranslations.earn_overflow}),'claimable':intl.formatMessage({id:ETranslations.earn_claimable}),'claimed':intl.formatMessage({id:ETranslations.earn_claimed}),'local_pending_activation':intl.formatMessage({id:ETranslations.earn_pending_activation})};},[intl]);};export var getBabylonPortfolioTags=function(item){if(!item.isOverflow){switch(item.status){case'active':return['active'];case'withdraw_requested':return['active','withdraw_requested'];case'claimable':return['claimable'];case'claimed':return['claimed'];case'local_pending_activation':return['local_pending_activation'];default:return[];}}switch(item.status){case'active':return['overflow'];case'withdraw_requested':return['withdraw_requested'];case'claimable':return['claimable'];case'claimed':return['claimed'];case'local_pending_activation':return['local_pending_activation'];default:return[];}};"],"names":["useAppRoute","_ref","_ref2","_ref3","openExplorerAddressUrl","networkId","address","params","param","type","url","serviceExplorer","buildExplorerUrl","_x","apply","this","arguments","openTransactionDetailsUrl","txid","_x2","openTokenDetailsUrl","tokenAddress","_x3","PageErrOccurred","onPress","intl","Empty","pt","icon","title","formatMessage","id","ETranslations","global_an_error_occurred","description","global_an_error_occurred_desc","buttonProps","children","global_refresh","SimpleSpinnerSkeleton","Stack","px","py","Skeleton","HeadingSm","Array","from","length","map","_","index","h","w","radius","BodyLg","BodyMd","isLoadingState","result","isLoading","Boolean","undefined","isErrorState","PageFrame","loading","LoadingSkeleton","error","onRefresh","PortfolioItem","item","network","_item$endTime","_item$startTime","_network$symbol","route","u","statusMap","useCallback","txId","day","Math","floor","max","endTime","startTime","startDate","Date","Number","hideTimeForever","endDate","currencyInfo","symbol","useSettingsPersistAtom","statusBadgeType","borderWidth","hairlineWidth","borderColor","borderRadius","XStack","justifyContent","gap","tag","_statusBadgeType$tag","Badge","badgeType","Button","size","variant","iconAfter","shortenAddress","p","alignItems","pr","tokenImageUri","logoURI","SizableText","amount","fiatValue","NumberSizeableText","color","formatter","formatterOptions","currency","bg","Icon","width","height","name","earn_number_day","number","ItemSeparatorComponent","accountId","provider","run","Promise","all","serviceStaking","getPortfolioList","serviceNetwork","getNetworkSafe","getPendingActivationPortfolioList","watchLoading","renderItem","data","useMemo","v1","v3","Page","scrollEnabled","Header","earn_portfolio_details","Body","ListView","estimatedItemSize","ListFooterComponent","ListEmptyComponent","global_no_transactions_yet","global_no_transactions_yet_desc","getBabylonPortfolioStatus","isOverflow","status","useBabylonStatusMap","earn_active","earn_withdrawal_requested","earn_overflow","earn_claimable","earn_claimed","earn_pending_activation","getBabylonPortfolioTags"],"sourceRoot":""}