{"version":3,"file":"static/js/14888.1b32981be8.chunk.js","mappings":"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","sources":["webpack://web/../../packages/core/src/chains/dot/sdkDot/index.ts","webpack://web/../../packages/core/src/chains/dot/types.ts","webpack://web/../../packages/core/src/utils/index.ts","webpack://web/../../packages/kit-bg/src/vaults/base/KeyringBase.ts","webpack://web/../../packages/kit-bg/src/vaults/base/KeyringExternalBase.ts","webpack://web/../../packages/kit-bg/src/vaults/base/KeyringHardwareBase.ts","webpack://web/../../packages/kit-bg/src/vaults/base/KeyringHdBase.ts","webpack://web/../../packages/kit-bg/src/vaults/base/KeyringImportedBase.ts","webpack://web/../../packages/kit-bg/src/vaults/base/KeyringSoftwareBase.ts","webpack://web/../../packages/kit-bg/src/vaults/base/KeyringWatchingBase.ts","webpack://web/../../packages/kit-bg/src/vaults/base/VaultBase.ts","webpack://web/../../packages/kit-bg/src/vaults/base/VaultContext.ts","webpack://web/../../packages/kit-bg/src/vaults/impls/dot/KeyringExternal.ts","webpack://web/../../packages/kit-bg/src/vaults/impls/dot/utils.ts","webpack://web/../../packages/kit-bg/src/vaults/impls/dot/KeyringHardware.ts","webpack://web/../../packages/kit-bg/src/vaults/impls/dot/KeyringHd.ts","webpack://web/../../packages/kit-bg/src/vaults/impls/dot/KeyringImported.ts","webpack://web/../../packages/kit-bg/src/vaults/impls/dot/KeyringWatching.ts","webpack://web/../../packages/kit-bg/src/vaults/impls/dot/Vault.ts","webpack://web/../../packages/kit-bg/src/vaults/types.ts"],"sourcesContent":["import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}import{EXTRINSIC_VERSION}from'@polkadot/types/extrinsic/v4/Extrinsic';import{u8aToU8a,u8aWrapBytes}from'@polkadot/util';import{construct,createMetadata,getRegistry}from'@substrate/txwrapper-polkadot';import hexUtils from'@onekeyhq/shared/src/utils/hexUtils';import numberUtils from'@onekeyhq/shared/src/utils/numberUtils';export function serializeMessage(_x){return _serializeMessage.apply(this,arguments);}function _serializeMessage(){_serializeMessage=_asyncToGenerator(function*(message){var encoded=u8aWrapBytes(message);return Buffer.from(u8aToU8a(encoded));});return _serializeMessage.apply(this,arguments);}export function serializeUnsignedTransaction(_x2){return _serializeUnsignedTransaction.apply(this,arguments);}function _serializeUnsignedTransaction(){_serializeUnsignedTransaction=_asyncToGenerator(function*(encodedTx){var _encodedTx$specName,_encodedTx$chainName;var{metadataRpc}=encodedTx;var registry=getRegistry({metadataRpc,specName:(_encodedTx$specName=encodedTx.specName)!=null?_encodedTx$specName:'',specVersion:+numberUtils.hexToDecimal(encodedTx.specVersion).toString(),chainName:(_encodedTx$chainName=encodedTx.chainName)!=null?_encodedTx$chainName:''});registry.setMetadata(createMetadata(registry,metadataRpc));var signingPayload=construct.signingPayload(encodedTx,{registry});var extrinsicPayload=registry.createType('ExtrinsicPayload',signingPayload,{version:EXTRINSIC_VERSION});var u8a=extrinsicPayload.toU8a({method:true});var encoded=u8a.length>256?registry.hash(u8a):u8a;return{rawTx:u8a,hash:u8aToU8a(encoded)};});return _serializeUnsignedTransaction.apply(this,arguments);}export function serializeSignedTransaction(_x3,_x4){return _serializeSignedTransaction.apply(this,arguments);}function _serializeSignedTransaction(){_serializeSignedTransaction=_asyncToGenerator(function*(encodedTx,signature){var _encodedTx$specName2,_encodedTx$chainName2;var{metadataRpc}=encodedTx;var registry=getRegistry(_objectSpread(_objectSpread({},encodedTx),{},{specName:(_encodedTx$specName2=encodedTx.specName)!=null?_encodedTx$specName2:'',specVersion:+numberUtils.hexToDecimal(encodedTx.specVersion).toString(),chainName:(_encodedTx$chainName2=encodedTx.chainName)!=null?_encodedTx$chainName2:''}));var tx=construct.signedTx(encodedTx,hexUtils.addHexPrefix(signature),{metadataRpc,registry});return tx;});return _serializeSignedTransaction.apply(this,arguments);}","export var DOT_TYPE_PREFIX={ecdsa:new Uint8Array([2]),ed25519:new Uint8Array([0]),ethereum:new Uint8Array([2]),sr25519:new Uint8Array([1])};","import coinselectUtils from'@onekeyfe/coinselect/utils';import accountUtils from'@onekeyhq/shared/src/utils/accountUtils';export function slicePathTemplate(template){return accountUtils.slicePathTemplate(template);}export function getUtxoAccountPrefixPath({fullPath}){var pathComponent=fullPath.split('/');pathComponent.pop();pathComponent.pop();var prefixPath=pathComponent.join('/');return prefixPath;}export function getBIP44Path(account,address){var realPath='';for(var[key,value]of Object.entries(account.addresses)){if(value===address){realPath=key;break;}}return`${account.path}/${realPath}`;}export function estimateTxSize(inputsForCoinSelect,outputsForCoinSelect){return coinselectUtils.transactionBytes(inputsForCoinSelect,outputsForCoinSelect);}","import _isNil from\"lodash/isNil\";import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import{NotImplemented}from'@onekeyhq/shared/src/errors';import{defaultLogger}from'@onekeyhq/shared/src/logger/logger';import accountUtils from'@onekeyhq/shared/src/utils/accountUtils';import timerUtils from'@onekeyhq/shared/src/utils/timerUtils';import{EDBAccountType}from\"../../dbs/local/consts\";import{EVaultKeyringTypes}from\"../types\";import{VaultContext}from\"./VaultContext\";export var KeyringBase=function(_VaultContext){_inherits(KeyringBase,_VaultContext);var _super=_createSuper(KeyringBase);function KeyringBase(vault){var _this;_this=_super.call(this,vault.options);_this.vault=vault;if(_this.vault.networkId!==vault.options.networkId){throw new Error('KeyringBase ERROR: networkId not match1');}if(_this.networkId!==vault.options.networkId){throw new Error('KeyringBase ERROR: networkId not match2');}return _this;}var _proto=KeyringBase.prototype;_proto.isKeyringImported=function isKeyringImported(){return this.keyringType===EVaultKeyringTypes.imported;};_proto.isKeyringHd=function isKeyringHd(){return this.keyringType===EVaultKeyringTypes.hd;};_proto.isKeyringHardware=function isKeyringHardware(){return this.keyringType===EVaultKeyringTypes.hardware;};_proto.isKeyringWatching=function isKeyringWatching(){return this.keyringType===EVaultKeyringTypes.watching;};_proto.basePrepareHdNormalAccounts=function(){var _basePrepareHdNormalAccounts=_asyncToGenerator(function*(params,options){var{walletId}=this;if(!walletId){throw new Error('walletId is not defined');}var{names,deriveInfo,indexes}=params;var{coinType,template,namePrefix,idSuffix}=deriveInfo;if(!coinType){throw new Error('coinType is not defined');}var settings=yield this.getVaultSettings();var{accountType}=settings;var{buildAddressesInfo}=options;var usedIndexes=indexes;var addressInfos=yield buildAddressesInfo({usedIndexes});var ret=[];for(var idx=0;idx<addressInfos.length;idx+=1){var{path,publicKey,address,addresses,relPath}=addressInfos[idx];if(!path){throw new Error('KeyringHD prepareAccounts ERROR: path not found');}if(accountType===EDBAccountType.VARIANT&&!addresses){throw new Error('addresses is required for variant account');}if(accountType===EDBAccountType.VARIANT&&address){throw new Error('address should not set for variant account');}var pathIndex=usedIndexes[idx];var name=names?.[idx]||accountUtils.buildHDAccountName({pathIndex,namePrefix});var id=accountUtils.buildHDAccountId({walletId,path,idSuffix});var indexedAccountId=accountUtils.buildIndexedAccountId({walletId,index:pathIndex});ret.push({id,name,type:accountType,path,pathIndex,relPath,indexedAccountId,coinType,impl:settings.impl,pub:publicKey,address,addresses,template});}return ret;});function basePrepareHdNormalAccounts(_x,_x2){return _basePrepareHdNormalAccounts.apply(this,arguments);}return basePrepareHdNormalAccounts;}();_proto.basePrepareHdUtxoAccounts=function(){var _basePrepareHdUtxoAccounts=_asyncToGenerator(function*(params,options){var{walletId}=this;if(!walletId){throw new Error('walletId is undefined');}var{indexes,deriveInfo,names,skipCheckAccountExist=true}=params;var{coinType,template,namePrefix}=deriveInfo;if(!coinType){throw new Error('coinType is not defined');}var settings=yield this.getVaultSettings();var{accountType}=settings;if(accountType!==EDBAccountType.UTXO){throw new Error('accountType is not utxo');}var{checkIsAccountUsed,buildAddressesInfo}=options;var ignoreFirst=false;var usedIndexes=[...(ignoreFirst?[indexes[0]-1]:[]),...indexes];defaultLogger.account.accountCreatePerf.utxoBuildAddressesInfo();var addressesInfo=yield buildAddressesInfo({usedIndexes});defaultLogger.account.accountCreatePerf.utxoBuildAddressesInfoDone();defaultLogger.account.accountCreatePerf.buildDBUtxoAccounts();var ret=[];var idx=0;for(var{path,relPath,publicKey,xpub,xpubSegwit,address,addresses}of addressesInfo){if(!path||_isNil(xpub)||!addresses){throw new Error('basePrepareHdUtxoAccounts ERROR: path or xpub or addresses is undefined');}if(!relPath){throw new Error('basePrepareHdUtxoAccounts ERROR: relPath is undefined');}var prefix=namePrefix;var pathIndex=usedIndexes[idx];var name=names?.[idx]||`${prefix} #${pathIndex+1}`;var id=`${this.walletId}--${path}`;if(!ignoreFirst||idx>0){var indexedAccountId=accountUtils.buildIndexedAccountId({walletId:this.walletId,index:pathIndex});ret.push({id,name,type:accountType,path,pathIndex,indexedAccountId,relPath,coinType,impl:settings.impl,pub:publicKey,xpub,xpubSegwit,address,addresses,template});}var isLast=idx===addressesInfo.length-1;if(!skipCheckAccountExist&&!isLast&&checkIsAccountUsed){var{isUsed}=yield checkIsAccountUsed({xpub,xpubSegwit,address});if(!isUsed){break;}yield timerUtils.wait(200);}idx+=1;}defaultLogger.account.accountCreatePerf.buildDBUtxoAccountsDone();return ret;});function basePrepareHdUtxoAccounts(_x3,_x4){return _basePrepareHdUtxoAccounts.apply(this,arguments);}return basePrepareHdUtxoAccounts;}();_proto.batchGetAddresses=function(){var _batchGetAddresses=_asyncToGenerator(function*(params){return[];});function batchGetAddresses(_x5){return _batchGetAddresses.apply(this,arguments);}return batchGetAddresses;}();_proto.exportAccountSecretKeys=function(){var _exportAccountSecretKeys=_asyncToGenerator(function*(params){throw new NotImplemented();});function exportAccountSecretKeys(_x6){return _exportAccountSecretKeys.apply(this,arguments);}return exportAccountSecretKeys;}();_proto.buildHwAllNetworkPrepareAccountsParams=function(){var _buildHwAllNetworkPrepareAccountsParams=_asyncToGenerator(function*(params){return undefined;});function buildHwAllNetworkPrepareAccountsParams(_x7){return _buildHwAllNetworkPrepareAccountsParams.apply(this,arguments);}return buildHwAllNetworkPrepareAccountsParams;}();_proto.buildPrepareAccountsPrefixedPath=function buildPrepareAccountsPrefixedPath(params){throw new NotImplemented();};return _createClass(KeyringBase);}(VaultContext);export var KeyringBaseMock=function(_KeyringBase){_inherits(KeyringBaseMock,_KeyringBase);var _super2=_createSuper(KeyringBaseMock);function KeyringBaseMock(){return _super2.apply(this,arguments);}return _createClass(KeyringBaseMock);}(KeyringBase);","import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import{OneKeyInternalError}from'@onekeyhq/shared/src/errors';import{EVaultKeyringTypes}from\"../types\";import{KeyringBase}from\"./KeyringBase\";export var KeyringExternalBase=function(_KeyringBase){_inherits(KeyringExternalBase,_KeyringBase);var _super=_createSuper(KeyringExternalBase);function KeyringExternalBase(...args){var _this;_this=_super.call(this,...args);_this.keyringType=EVaultKeyringTypes.external;return _this;}var _proto=KeyringExternalBase.prototype;_proto.baseSignMessageByExternalWallet=function(){var _baseSignMessageByExternalWallet=_asyncToGenerator(function*(params){return this.backgroundApi.serviceDappSide.signMessage({account:yield this.vault.getAccount(),networkId:this.networkId,params});});function baseSignMessageByExternalWallet(_x){return _baseSignMessageByExternalWallet.apply(this,arguments);}return baseSignMessageByExternalWallet;}();_proto.baseSendTransactionByExternalWallet=function(){var _baseSendTransactionByExternalWallet=_asyncToGenerator(function*(params){return this.backgroundApi.serviceDappSide.sendTransaction({account:yield this.vault.getAccount(),networkId:this.networkId,params});});function baseSendTransactionByExternalWallet(_x2){return _baseSendTransactionByExternalWallet.apply(this,arguments);}return baseSendTransactionByExternalWallet;}();_proto.prepareAccounts=function prepareAccounts(params){throw new OneKeyInternalError('prepareAccounts is not supported for external accounts, use serviceAccount directly');};_proto.basePrepareExternalAccounts=function(){var _basePrepareExternalAccounts=_asyncToGenerator(function*(params){return[];});function basePrepareExternalAccounts(_x3){return _basePrepareExternalAccounts.apply(this,arguments);}return basePrepareExternalAccounts;}();return _createClass(KeyringExternalBase);}(KeyringBase);","import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import{slicePathTemplate}from'@onekeyhq/core/src/utils';import appGlobals from'@onekeyhq/shared/src/appGlobals';import{OneKeyInternalError,UnsupportedAddressTypeError}from'@onekeyhq/shared/src/errors';import{convertDeviceError,convertDeviceResponse}from'@onekeyhq/shared/src/errors/utils/deviceErrorUtils';import{HardwareSDK}from'@onekeyhq/shared/src/hardware/instance';import{defaultLogger}from'@onekeyhq/shared/src/logger/logger';import{EConfirmOnDeviceType}from'@onekeyhq/shared/types/device';import{EVaultKeyringTypes}from\"../types\";import{KeyringBase}from\"./KeyringBase\";export var KeyringHardwareBase=function(_KeyringBase){_inherits(KeyringHardwareBase,_KeyringBase);var _super=_createSuper(KeyringHardwareBase);function KeyringHardwareBase(...args){var _this;_this=_super.call(this,...args);_this.keyringType=EVaultKeyringTypes.hardware;return _this;}var _proto=KeyringHardwareBase.prototype;_proto.getHardwareSDKInstance=function(){var _getHardwareSDKInstance=_asyncToGenerator(function*(){var _ref;defaultLogger.account.accountCreatePerf.getHardwareSDKInstance();var sdk=yield appGlobals?.$backgroundApiProxy?.backgroundApi?.serviceHardware?.getSDKInstance?.();var r=(_ref=sdk)!=null?_ref:HardwareSDK;defaultLogger.account.accountCreatePerf.getHardwareSDKInstanceDone();return r;});function getHardwareSDKInstance(){return _getHardwareSDKInstance.apply(this,arguments);}return getHardwareSDKInstance;}();_proto.baseGetDeviceAccountData=function(){var _baseGetDeviceAccountData=_asyncToGenerator(function*({params,usedIndexes,sdkGetDataFn,errorMessage}){var{deriveInfo,deviceParams}=params;var{dbDevice,confirmOnDevice}=deviceParams;var{connectId,deviceId}=dbDevice;var{template,coinName}=deriveInfo;var{pathPrefix,pathSuffix}=slicePathTemplate(template);var showOnOnekeyFn=function(arrIndex){if(confirmOnDevice===EConfirmOnDeviceType.EveryItem){return true;}if(confirmOnDevice===EConfirmOnDeviceType.LastItem){return arrIndex===usedIndexes[usedIndexes.length-1];}return false;};var result=yield convertDeviceResponse(_asyncToGenerator(function*(){return sdkGetDataFn({connectId,deviceId,pathPrefix,pathSuffix,template,coinName,showOnOnekeyFn});}));if(!result||result.length!==usedIndexes.length){throw new OneKeyInternalError(errorMessage);}return result;});function baseGetDeviceAccountData(_x){return _baseGetDeviceAccountData.apply(this,arguments);}return baseGetDeviceAccountData;}();_proto.baseGetDeviceAccountPublicKeys=function(){var _baseGetDeviceAccountPublicKeys=_asyncToGenerator(function*({params,usedIndexes,sdkGetPublicKeysFn}){return this.baseGetDeviceAccountData({params,usedIndexes,sdkGetDataFn:sdkGetPublicKeysFn,errorMessage:'Unable to get public keys.'});});function baseGetDeviceAccountPublicKeys(_x2){return _baseGetDeviceAccountPublicKeys.apply(this,arguments);}return baseGetDeviceAccountPublicKeys;}();_proto.baseGetDeviceAccountAddresses=function(){var _baseGetDeviceAccountAddresses=_asyncToGenerator(function*({params,usedIndexes,sdkGetAddressFn}){return this.baseGetDeviceAccountData({params,usedIndexes,sdkGetDataFn:sdkGetAddressFn,errorMessage:'Unable to get addresses.'});});function baseGetDeviceAccountAddresses(_x3){return _baseGetDeviceAccountAddresses.apply(this,arguments);}return baseGetDeviceAccountAddresses;}();_proto.getAllNetworkPrepareAccounts=function(){var _getAllNetworkPrepareAccounts=_asyncToGenerator(function*({hwSdkNetwork,params,usedIndexes,buildPath,buildResultAccount}){if(!hwSdkNetwork){return undefined;}var{hwAllNetworkPrepareAccountsResponse}=params;if(hwAllNetworkPrepareAccountsResponse?.length){var resultAccounts=[];var _loop=function*(){var path=yield buildPath({index});var account=hwAllNetworkPrepareAccountsResponse?.find(function(item){return item.network&&item.path===path&&item.network===hwSdkNetwork;});if(account&&account.success){resultAccounts.push(buildResultAccount({account,index}));}};for(var index of usedIndexes){yield*_loop();}if(resultAccounts.length===usedIndexes.length){return{success:true,payload:resultAccounts};}var hasErrorItem=hwAllNetworkPrepareAccountsResponse?.find(function(item){return!item.success&&!!item.payload?.error;});if(!hasErrorItem?.success&&hasErrorItem?.payload?.error){if(hasErrorItem?.payload?.error?.indexOf('Failure_DataError,Forbidden key path')!==-1){throw new UnsupportedAddressTypeError();}throw convertDeviceError(hasErrorItem.payload);}throw new OneKeyInternalError('SDK GetAllNetworkAccounts Failed');}});function getAllNetworkPrepareAccounts(_x4){return _getAllNetworkPrepareAccounts.apply(this,arguments);}return getAllNetworkPrepareAccounts;}();return _createClass(KeyringHardwareBase);}(KeyringBase);","import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import{EVaultKeyringTypes}from\"../types\";import{KeyringSoftwareBase}from\"./KeyringSoftwareBase\";export var KeyringHdBase=function(_KeyringSoftwareBase){_inherits(KeyringHdBase,_KeyringSoftwareBase);var _super=_createSuper(KeyringHdBase);function KeyringHdBase(...args){var _this;_this=_super.call(this,...args);_this.keyringType=EVaultKeyringTypes.hd;return _this;}return _createClass(KeyringHdBase);}(KeyringSoftwareBase);","import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import{EVaultKeyringTypes}from\"../types\";import{KeyringSoftwareBase}from\"./KeyringSoftwareBase\";export var KeyringImportedBase=function(_KeyringSoftwareBase){_inherits(KeyringImportedBase,_KeyringSoftwareBase);var _super=_createSuper(KeyringImportedBase);function KeyringImportedBase(...args){var _this;_this=_super.call(this,...args);_this.keyringType=EVaultKeyringTypes.imported;return _this;}return _createClass(KeyringImportedBase);}(KeyringSoftwareBase);","import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _isNil from\"lodash/isNil\";import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import{decryptImportedCredential}from'@onekeyhq/core/src/secret';import{OneKeyInternalError}from'@onekeyhq/shared/src/errors';import{defaultLogger}from'@onekeyhq/shared/src/logger/logger';import accountUtils from'@onekeyhq/shared/src/utils/accountUtils';import{checkIsDefined}from'@onekeyhq/shared/src/utils/assertUtils';import{noopObject}from'@onekeyhq/shared/src/utils/miscUtils';import localDb from\"../../dbs/local/localDb\";import{KeyringBase}from\"./KeyringBase\";export var KeyringSoftwareBase=function(_KeyringBase){_inherits(KeyringSoftwareBase,_KeyringBase);var _super=_createSuper(KeyringSoftwareBase);function KeyringSoftwareBase(){return _super.apply(this,arguments);}var _proto=KeyringSoftwareBase.prototype;_proto.baseGetCredentialsInfo=function(){var _baseGetCredentialsInfo=_asyncToGenerator(function*({password}){noopObject(password);var hd;var imported;if(this.isKeyringHd()){var credential=yield localDb.getCredential(checkIsDefined(this.walletId));hd=credential.credential;}if(this.isKeyringImported()){var _credential=yield localDb.getCredential(this.accountId);imported=_credential.credential;}return{hd,imported};});function baseGetCredentialsInfo(_x){return _baseGetCredentialsInfo.apply(this,arguments);}return baseGetCredentialsInfo;}();_proto.baseSignTransactionBtc=function(){var _baseSignTransactionBtc=_asyncToGenerator(function*(params){if(!this.coreApi){throw new Error('coreApi is not defined');}var vault=this.vault;var{password,unsignedTx,signOnly}=params;var credentials=yield this.baseGetCredentialsInfo(params);var networkInfo=yield this.getCoreApiNetworkInfo();var{account,btcExtraInfo,relPaths}=yield vault.prepareBtcSignExtraInfo({unsignedTx});var result=yield this.coreApi.signTransaction({networkInfo,unsignedTx,account,relPaths,password,credentials,btcExtraInfo,signOnly});return result;});function baseSignTransactionBtc(_x2){return _baseSignTransactionBtc.apply(this,arguments);}return baseSignTransactionBtc;}();_proto.baseSignTransaction=function(){var _baseSignTransaction=_asyncToGenerator(function*(params){if(!this.coreApi){throw new Error('coreApi is not defined');}var{password,unsignedTx}=params;var account=yield this.vault.getAccount();var credentials=yield this.baseGetCredentialsInfo(params);var networkInfo=yield this.getCoreApiNetworkInfo();var result=yield this.coreApi.signTransaction({networkInfo,password,account,credentials,unsignedTx});return result;});function baseSignTransaction(_x3){return _baseSignTransaction.apply(this,arguments);}return baseSignTransaction;}();_proto.baseSignMessage=function(){var _baseSignMessage=_asyncToGenerator(function*(params){var _this=this;if(!this.coreApi){throw new Error('coreApi is not defined');}var{password,messages}=params;var account=yield this.vault.getAccount();var credentials=yield this.baseGetCredentialsInfo(params);var networkInfo=yield this.getCoreApiNetworkInfo();var result=yield Promise.all(messages.map(function(msg){return checkIsDefined(_this.coreApi).signMessage({networkInfo,unsignedMsg:msg,account,password,credentials});}));return result;});function baseSignMessage(_x4){return _baseSignMessage.apply(this,arguments);}return baseSignMessage;}();_proto.baseSignMessageBtc=function(){var _baseSignMessageBtc=_asyncToGenerator(function*(params){var _this2=this;if(!this.coreApi){throw new Error('coreApi is not defined');}var vault=this.vault;var{password,messages}=params;var credentials=yield this.baseGetCredentialsInfo(params);var networkInfo=yield this.getCoreApiNetworkInfo();var result=yield Promise.all(messages.map(function(){var _ref=_asyncToGenerator(function*(msg){var{account,btcExtraInfo,relPaths}=yield vault.prepareBtcSignExtraInfo({unsignedMessage:msg});return checkIsDefined(_this2.coreApi).signMessage({networkInfo,unsignedMsg:msg,account,relPaths,password,credentials,btcExtraInfo});});return function(_x6){return _ref.apply(this,arguments);};}()));return result;});function baseSignMessageBtc(_x5){return _baseSignMessageBtc.apply(this,arguments);}return baseSignMessageBtc;}();_proto.basePrepareAccountsImported=function(){var _basePrepareAccountsImported=_asyncToGenerator(function*(params,options={}){if(!this.coreApi){throw new Error('coreApi is not defined');}var{name,importedCredential,password,networks,createAtNetwork}=params;var{privateKey}=decryptImportedCredential({credential:importedCredential,password});var settings=yield this.getVaultSettings();var{onlyAvailableOnCertainNetworks}=options;var accountType=options.accountType||settings.accountType;var impl=options.impl||settings.impl;var coinType=options.coinType||params.deriveInfo?.coinType||settings.coinTypeDefault;var networkInfo=yield this.getCoreApiNetworkInfo();var privateKeyRaw=privateKey;var{address,addresses,publicKey}=yield this.coreApi.getAddressFromPrivate({networkInfo,privateKeyRaw,addressEncoding:params.deriveInfo?.addressEncoding});var addressUsed='';if(onlyAvailableOnCertainNetworks){addressUsed=addresses?.[createAtNetwork]||'';if(!addressUsed){throw new Error(`imported account address is empty of network: ${createAtNetwork}`);}}var accountId=accountUtils.buildImportedAccountId({coinType,pub:publicKey,address:addressUsed,addressEncoding:params.deriveInfo?.addressEncoding});return Promise.resolve([{id:accountId,name:name||'',type:accountType,path:'',coinType,impl,networks:onlyAvailableOnCertainNetworks?networks:undefined,createAtNetwork,pub:publicKey,address,addresses}]);});function basePrepareAccountsImported(_x7){return _basePrepareAccountsImported.apply(this,arguments);}return basePrepareAccountsImported;}();_proto.basePrepareAccountsImportedUtxo=function(){var _basePrepareAccountsImportedUtxo=_asyncToGenerator(function*(params){if(!this.coreApi){throw new Error('coreApi is not defined');}var{name,importedCredential,password,createAtNetwork,deriveInfo}=params;var{privateKey}=decryptImportedCredential({credential:importedCredential,password});var addressEncoding=deriveInfo?.addressEncoding;var settings=yield this.getVaultSettings();var{coinTypeDefault:coinType,accountType}=settings;var networkInfo=yield this.getCoreApiNetworkInfo();var privateKeyRaw=privateKey;var{address,addresses,publicKey,xpub,relPath,xpubSegwit,path}=yield this.coreApi.getAddressFromPrivate({networkInfo,privateKeyRaw,addressEncoding});if(_isNil(xpub)||!addresses){throw new Error('xpub or addresses is undefined');}var accountId=accountUtils.buildImportedAccountId({coinType,xpub:xpub||publicKey,addressEncoding});return Promise.resolve([{id:accountId,name:name||'',type:accountType,path:path||'',relPath,coinType,impl:settings.impl,xpub,xpubSegwit,pub:publicKey,address,addresses,createAtNetwork}]);});function basePrepareAccountsImportedUtxo(_x8){return _basePrepareAccountsImportedUtxo.apply(this,arguments);}return basePrepareAccountsImportedUtxo;}();_proto.basePrepareAccountsHd=function(){var _basePrepareAccountsHd=_asyncToGenerator(function*(params){var _this3=this;var{template,addressEncoding}=params.deriveInfo;var{password}=params;var networkInfo=yield this.getCoreApiNetworkInfo();return this.basePrepareHdNormalAccounts(params,{buildAddressesInfo:function(){var _ref2=_asyncToGenerator(function*({usedIndexes}){if(!_this3.coreApi){throw new Error('coreApi is not defined');}var credentials=yield _this3.baseGetCredentialsInfo({password});var{addresses:addressInfos}=yield _this3.coreApi.getAddressesFromHd({networkInfo,template,hdCredential:checkIsDefined(credentials.hd),password,indexes:usedIndexes,addressEncoding});return addressInfos;});return function buildAddressesInfo(_x10){return _ref2.apply(this,arguments);};}()});});function basePrepareAccountsHd(_x9){return _basePrepareAccountsHd.apply(this,arguments);}return basePrepareAccountsHd;}();_proto.basePrepareAccountsHdUtxo=function(){var _basePrepareAccountsHdUtxo=_asyncToGenerator(function*(params,options){var _this4=this;var{password,indexes,deriveInfo,names,skipCheckAccountExist}=params;var addressEncoding=params?.deriveInfo?.addressEncoding;return this.basePrepareHdUtxoAccounts(params,_objectSpread(_objectSpread({},options),{},{buildAddressesInfo:function(){var _ref3=_asyncToGenerator(function*({usedIndexes}){var{coinType,template,namePrefix}=deriveInfo;defaultLogger.account.accountCreatePerf.getCredentialsInfo();var credentials=yield _this4.baseGetCredentialsInfo({password});if(!_this4.coreApi){throw new Error('coreApi is undefined');}defaultLogger.account.accountCreatePerf.getAddressesFromHd();var{addresses:addressesInfo}=yield _this4.coreApi.getAddressesFromHd({networkInfo:yield _this4.getCoreApiNetworkInfo(),template,hdCredential:checkIsDefined(credentials.hd),password,indexes:usedIndexes,addressEncoding});if(addressesInfo.length!==usedIndexes.length){throw new OneKeyInternalError('Unable to get address');}defaultLogger.account.accountCreatePerf.getAddressesFromHdDone();return addressesInfo;});return function buildAddressesInfo(_x13){return _ref3.apply(this,arguments);};}()}));});function basePrepareAccountsHdUtxo(_x11,_x12){return _basePrepareAccountsHdUtxo.apply(this,arguments);}return basePrepareAccountsHdUtxo;}();_proto.baseExportAccountSecretKeys=function(){var _baseExportAccountSecretKeys=_asyncToGenerator(function*(params){var{password,keyType,relPaths}=params;var account=yield this.vault.getAccount();var networkInfo=yield this.getCoreApiNetworkInfo();var credentials=yield this.baseGetCredentialsInfo({password});var{deriveInfo}=yield this.backgroundApi.serviceNetwork.getDeriveTypeByTemplate({networkId:this.networkId,template:account.template});var addressEncoding=deriveInfo?.addressEncoding;if(!this.coreApi){throw new Error('coreApi is not defined');}return this.coreApi.getExportedSecretKey({networkInfo,password,credentials,account,relPaths,keyType,addressEncoding});});function baseExportAccountSecretKeys(_x14){return _baseExportAccountSecretKeys.apply(this,arguments);}return baseExportAccountSecretKeys;}();_proto.baseGetPrivateKeys=function(){var _baseGetPrivateKeys=_asyncToGenerator(function*(params){var{password,relPaths}=params;if(!this.coreApi){throw new Error('coreApi is not defined');}var account=yield this.vault.getAccount();var credentials=yield this.baseGetCredentialsInfo({password});var networkInfo=yield this.getCoreApiNetworkInfo();var privateKeys=yield this.coreApi.getPrivateKeys({networkInfo,password,account,relPaths,credentials});return privateKeys;});function baseGetPrivateKeys(_x15){return _baseGetPrivateKeys.apply(this,arguments);}return baseGetPrivateKeys;}();return _createClass(KeyringSoftwareBase);}(KeyringBase);","import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import{InvalidAddress,OneKeyInternalError}from'@onekeyhq/shared/src/errors';import{ETranslations}from'@onekeyhq/shared/src/locale';import{appLocale}from'@onekeyhq/shared/src/locale/appLocale';import accountUtils from'@onekeyhq/shared/src/utils/accountUtils';import{checkIsDefined}from'@onekeyhq/shared/src/utils/assertUtils';import{EDBAccountType}from\"../../dbs/local/consts\";import{EVaultKeyringTypes}from\"../types\";import{KeyringBase}from\"./KeyringBase\";export var KeyringWatchingBase=function(_KeyringBase){_inherits(KeyringWatchingBase,_KeyringBase);var _super=_createSuper(KeyringWatchingBase);function KeyringWatchingBase(...args){var _this;_this=_super.call(this,...args);_this.keyringType=EVaultKeyringTypes.watching;return _this;}var _proto=KeyringWatchingBase.prototype;_proto.signTransaction=function(){var _signTransaction=_asyncToGenerator(function*(){throw new OneKeyInternalError(appLocale.intl.formatMessage({id:ETranslations.wallet_error_trade_with_watched_acocunt}));});function signTransaction(){return _signTransaction.apply(this,arguments);}return signTransaction;}();_proto.signMessage=function(){var _signMessage=_asyncToGenerator(function*(){throw new OneKeyInternalError(appLocale.intl.formatMessage({id:ETranslations.wallet_error_trade_with_watched_acocunt}));});function signMessage(){return _signMessage.apply(this,arguments);}return signMessage;}();_proto.basePrepareUtxoWatchingAccounts=function(){var _basePrepareUtxoWatchingAccounts=_asyncToGenerator(function*(params){var{address,xpub,networks,createAtNetwork,name,deriveInfo,isUrlAccount,addresses}=params;if(!address&&!xpub){throw new Error('basePrepareUtxoWatchingAccounts ERROR: address and xpub are not defined');}var networkInfo=yield this.getCoreApiNetworkInfo();var settings=yield this.getVaultSettings();var coinType=settings.coinTypeDefault;var addressEncoding=deriveInfo?.addressEncoding;var id=accountUtils.buildWatchingAccountId({coinType,address,xpub,addressEncoding,isUrlAccount});var addressFromXpub='';var xpubSegwit=xpub;if(!address&&xpub){checkIsDefined(this.coreApi);var result=yield this.coreApi?.getAddressFromPublic({publicKey:xpub,addressEncoding,networkInfo});addressFromXpub=result?.address||'';xpubSegwit=result?.xpubSegwit||xpubSegwit||xpub;}var account={id,name,type:EDBAccountType.UTXO,relPath:'0/0',coinType,impl:settings.impl,networks,createAtNetwork,address:addressFromXpub||address||'',xpub:xpub||'',xpubSegwit,path:'',addresses:addresses||{}};return[account];});function basePrepareUtxoWatchingAccounts(_x){return _basePrepareUtxoWatchingAccounts.apply(this,arguments);}return basePrepareUtxoWatchingAccounts;}();_proto.basePrepareSimpleWatchingAccounts=function(){var _basePrepareSimpleWatchingAccounts=_asyncToGenerator(function*(params,options={}){var{address,name,networks,createAtNetwork,isUrlAccount}=params;if(!address){throw new InvalidAddress();}if(!createAtNetwork){throw new Error('basePrepareSimpleWatchingAccounts ERROR: createAtNetwork is not defined');}var{onlyAvailableOnCertainNetworks=false}=options;var settings=yield this.getVaultSettings();var coinType=options.coinType||settings.coinTypeDefault;var impl=options.impl||settings.impl;var id=accountUtils.buildWatchingAccountId({coinType,address,isUrlAccount});var account={id,name:name||'',type:EDBAccountType.SIMPLE,coinType,impl,networks:onlyAvailableOnCertainNetworks?networks:undefined,createAtNetwork,address,pub:'',path:''};return Promise.resolve([account]);});function basePrepareSimpleWatchingAccounts(_x2){return _basePrepareSimpleWatchingAccounts.apply(this,arguments);}return basePrepareSimpleWatchingAccounts;}();return _createClass(KeyringWatchingBase);}(KeyringBase);","import _objectWithoutProperties from\"@babel/runtime/helpers/objectWithoutProperties\";import _omitBy from\"lodash/omitBy\";import _isEmpty from\"lodash/isEmpty\";import _isNil from\"lodash/isNil\";import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _omit from\"lodash/omit\";import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";var _excluded=[\"accountId\"],_excluded2=[\"accountId\"];function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import qs from'querystring';import{Semaphore}from'async-mutex';import BigNumber from'bignumber.js';import{decodeSensitiveText,encodeSensitiveText}from'@onekeyhq/core/src/secret';import{getNetworkIdsMap}from'@onekeyhq/shared/src/config/networkIds';import{NotImplemented}from'@onekeyhq/shared/src/errors';import platformEnv from'@onekeyhq/shared/src/platformEnv';import accountUtils from'@onekeyhq/shared/src/utils/accountUtils';import chainValueUtils from'@onekeyhq/shared/src/utils/chainValueUtils';import hexUtils from'@onekeyhq/shared/src/utils/hexUtils';import{getOnChainHistoryTxAssetInfo,getOnChainHistoryTxStatus}from'@onekeyhq/shared/src/utils/historyUtils';import{generateUUID}from'@onekeyhq/shared/src/utils/miscUtils';import{buildTxActionDirection,getStakingActionLabel}from'@onekeyhq/shared/src/utils/txActionUtils';import{addressIsEnsFormat}from'@onekeyhq/shared/src/utils/uriUtils';import{EServiceEndpointEnum}from'@onekeyhq/shared/types/endpoint';import{EOnChainHistoryTxType}from'@onekeyhq/shared/types/history';import{EDecodedTxActionType,EDecodedTxDirection}from'@onekeyhq/shared/types/tx';import{VaultContext}from\"./VaultContext\";if(platformEnv.isExtensionUi){debugger;throw new Error('engine/VaultBase is not allowed imported from ui');}export var VaultBaseChainOnly=function(_VaultContext){_inherits(VaultBaseChainOnly,_VaultContext);var _super=_createSuper(VaultBaseChainOnly);function VaultBaseChainOnly(){return _super.apply(this,arguments);}var _proto=VaultBaseChainOnly.prototype;_proto.getXpubFromAccount=function(){var _getXpubFromAccount=_asyncToGenerator(function*(networkAccount){return networkAccount.xpub;});function getXpubFromAccount(_x){return _getXpubFromAccount.apply(this,arguments);}return getXpubFromAccount;}();_proto.proxyJsonRPCCall=function(){var _proxyJsonRPCCall=_asyncToGenerator(function*(request){throw new NotImplemented();});function proxyJsonRPCCall(_x2){return _proxyJsonRPCCall.apply(this,arguments);}return proxyJsonRPCCall;}();_proto.addressFromBase=function(){var _addressFromBase=_asyncToGenerator(function*(account){throw new NotImplemented();});function addressFromBase(_x3){return _addressFromBase.apply(this,arguments);}return addressFromBase;}();_proto.addressToBase=function(){var _addressToBase=_asyncToGenerator(function*(address){throw new NotImplemented();});function addressToBase(_x4){return _addressToBase.apply(this,arguments);}return addressToBase;}();_proto.baseValidatePrivateKey=function(){var _baseValidatePrivateKey=_asyncToGenerator(function*(privateKey){if(!this.coreApi){throw new Error('coreApi not defined in Vault');}try{var networkInfo=yield this.getCoreApiNetworkInfo();var result=yield this.coreApi.getAddressFromPrivate({networkInfo,privateKeyRaw:privateKey});if(result.publicKey){return{isValid:true};}}catch(error){}return{isValid:false};});function baseValidatePrivateKey(_x5){return _baseValidatePrivateKey.apply(this,arguments);}return baseValidatePrivateKey;}();_proto.baseValidateGeneralInput=function(){var _baseValidateGeneralInput=_asyncToGenerator(function*(params){var input=decodeSensitiveText({encodedText:params.input});var{validateAddress,validateXprvt,validateXpub,validatePrivateKey}=params;var result={isValid:false};var isValid=false;var addressResult;var xpubResult;var xprvtResult;var privateKeyResult;if(validateAddress&&!isValid){try{addressResult=yield this.validateAddress(input);result.addressResult=addressResult;isValid=isValid||addressResult?.isValid;}catch(error){}}if(validateXpub&&!isValid){try{xpubResult=yield this.validateXpub(input);result.xpubResult=xpubResult;isValid=isValid||xpubResult?.isValid;}catch(error){}}if(validateXprvt&&!isValid){try{xprvtResult=yield this.validateXprvt(input);result.xprvtResult=xprvtResult;isValid=isValid||xprvtResult?.isValid;}catch(error){}}if(validatePrivateKey&&!isValid){try{privateKeyResult=yield this.validatePrivateKey(input);result.privateKeyResult=privateKeyResult;isValid=isValid||privateKeyResult?.isValid;}catch(error){}}result.isValid=Boolean(isValid);return{result,inputDecoded:input};});function baseValidateGeneralInput(_x6){return _baseValidateGeneralInput.apply(this,arguments);}return baseValidateGeneralInput;}();_proto.baseGetPrivateKeyFromImported=function(){var _baseGetPrivateKeyFromImported=_asyncToGenerator(function*(params){var input=decodeSensitiveText({encodedText:params.input});var privateKey=hexUtils.stripHexPrefix(input);privateKey=encodeSensitiveText({text:privateKey});return{privateKey};});function baseGetPrivateKeyFromImported(_x7){return _baseGetPrivateKeyFromImported.apply(this,arguments);}return baseGetPrivateKeyFromImported;}();_proto.validateAmountInputShown=function(){var _validateAmountInputShown=_asyncToGenerator(function*({toAddress}){return Promise.resolve({isValid:true});});function validateAmountInputShown(_x8){return _validateAmountInputShown.apply(this,arguments);}return validateAmountInputShown;}();_proto.checkIsDomainName=function(){var _checkIsDomainName=_asyncToGenerator(function*({name}){return addressIsEnsFormat(name);});function checkIsDomainName(_x9){return _checkIsDomainName.apply(this,arguments);}return checkIsDomainName;}();_proto.resolveDomainName=function(){var _resolveDomainName=_asyncToGenerator(function*({name}){return null;});function resolveDomainName(_x10){return _resolveDomainName.apply(this,arguments);}return resolveDomainName;}();_proto.getCustomRpcEndpointStatus=function(){var _getCustomRpcEndpointStatus=_asyncToGenerator(function*(params){throw new NotImplemented();});function getCustomRpcEndpointStatus(_x11){return _getCustomRpcEndpointStatus.apply(this,arguments);}return getCustomRpcEndpointStatus;}();_proto.checkFeeSupportInfo=function(){var _checkFeeSupportInfo=_asyncToGenerator(function*(params){throw new NotImplemented();});function checkFeeSupportInfo(_x12){return _checkFeeSupportInfo.apply(this,arguments);}return checkFeeSupportInfo;}();_proto.fetchTokenDetails=function(){var _fetchTokenDetails=_asyncToGenerator(function*(params){var isCustomNetwork=yield this.backgroundApi.serviceNetwork.isCustomNetwork({networkId:this.networkId});if(isCustomNetwork){return this.fetchTokenDetailsByRpc(params);}return this.fetchTokenDetailsByApi(params);});function fetchTokenDetails(_x13){return _fetchTokenDetails.apply(this,arguments);}return fetchTokenDetails;}();_proto.fetchTokenDetailsByApi=function(){var _fetchTokenDetailsByApi=_asyncToGenerator(function*(params){var _params$signal;var client=yield this.backgroundApi.serviceToken.getClient(EServiceEndpointEnum.Wallet);var resp=yield client.post('/wallet/v1/account/token/search',_omit(params,['walletId','accountId','signal']),{headers:yield this.backgroundApi.serviceAccountProfile._getWalletTypeHeader({accountId:params.accountId,walletId:params.walletId}),signal:(_params$signal=params.signal)!=null?_params$signal:undefined});return resp;});function fetchTokenDetailsByApi(_x14){return _fetchTokenDetailsByApi.apply(this,arguments);}return fetchTokenDetailsByApi;}();_proto.fetchTokenDetailsByRpc=function(){var _fetchTokenDetailsByRpc=_asyncToGenerator(function*(params){throw new NotImplemented();});function fetchTokenDetailsByRpc(_x15){return _fetchTokenDetailsByRpc.apply(this,arguments);}return fetchTokenDetailsByRpc;}();return _createClass(VaultBaseChainOnly);}(VaultContext);export var VaultBase=function(_VaultBaseChainOnly){_inherits(VaultBase,_VaultBaseChainOnly);var _super2=_createSuper(VaultBase);function VaultBase(...args){var _this;_this=_super2.call(this,...args);_this.uuid=generateUUID();_this.mutexBuildOnChainHistoryTxGetDBAccount=new Semaphore(1);return _this;}var _proto2=VaultBase.prototype;_proto2.init=function(){var _init=_asyncToGenerator(function*(config){yield this.initKeyring(config);});function init(_x16){return _init.apply(this,arguments);}return init;}();_proto2.initKeyring=function(){var _initKeyring=_asyncToGenerator(function*(config){if(!this.options.isChainOnly){this.keyring=yield config.keyringCreator(this);}});function initKeyring(_x17){return _initKeyring.apply(this,arguments);}return initKeyring;}();_proto2.broadcastTransaction=function(){var _broadcastTransaction=_asyncToGenerator(function*(params){var{signedTx}=params;var txid=yield this.backgroundApi.serviceSend.broadcastTransaction(params);return _objectSpread(_objectSpread({},signedTx),{},{txid,encodedTx:signedTx.encodedTx});});function broadcastTransaction(_x18){return _broadcastTransaction.apply(this,arguments);}return broadcastTransaction;}();_proto2.broadcastTransactionFromCustomRpc=function(){var _broadcastTransactionFromCustomRpc=_asyncToGenerator(function*(params){throw new NotImplemented();});function broadcastTransactionFromCustomRpc(_x19){return _broadcastTransactionFromCustomRpc.apply(this,arguments);}return broadcastTransactionFromCustomRpc;}();_proto2.validateSendAmount=function(){var _validateSendAmount=_asyncToGenerator(function*(params){return Promise.resolve(true);});function validateSendAmount(_x20){return _validateSendAmount.apply(this,arguments);}return validateSendAmount;}();_proto2.buildOnChainHistoryTxExtraInfo=function(){var _buildOnChainHistoryTxExtraInfo=_asyncToGenerator(function*({onChainHistoryTx}){return null;});function buildOnChainHistoryTxExtraInfo(_x21){return _buildOnChainHistoryTxExtraInfo.apply(this,arguments);}return buildOnChainHistoryTxExtraInfo;}();_proto2.precheckUnsignedTx=function(){var _precheckUnsignedTx=_asyncToGenerator(function*(params){return Promise.resolve(true);});function precheckUnsignedTx(_x22){return _precheckUnsignedTx.apply(this,arguments);}return precheckUnsignedTx;}();_proto2.buildEstimateFeeParams=function(){var _buildEstimateFeeParams=_asyncToGenerator(function*({encodedTx}){return Promise.resolve({encodedTx});});function buildEstimateFeeParams(_x23){return _buildEstimateFeeParams.apply(this,arguments);}return buildEstimateFeeParams;}();_proto2.buildParseTransactionParams=function(){var _buildParseTransactionParams=_asyncToGenerator(function*({encodedTx}){return Promise.resolve({encodedTx});});function buildParseTransactionParams(_x24){return _buildParseTransactionParams.apply(this,arguments);}return buildParseTransactionParams;}();_proto2.buildFetchHistoryListParams=function(){var _buildFetchHistoryListParams=_asyncToGenerator(function*(params){return Promise.resolve({});});function buildFetchHistoryListParams(_x25){return _buildFetchHistoryListParams.apply(this,arguments);}return buildFetchHistoryListParams;}();_proto2.buildHistoryTx=function(){var _buildHistoryTx=_asyncToGenerator(function*(params){var{historyTxToMerge,decodedTx,signedTx,isSigner,isLocalCreated,dbAccount}=params;var accountAddress=params.accountAddress||'';var xpub=params.xpub;var txid=signedTx?.txid||decodedTx?.txid||'';if(!txid){throw new Error('buildHistoryTx txid not found');}var{accountId,networkId}=decodedTx;try{var[a,x]=yield Promise.all([this.backgroundApi.serviceAccount.getAccountAddressForApi({dbAccount,accountId,networkId}),this.backgroundApi.serviceAccount.getAccountXpub({dbAccount,accountId,networkId})]);accountAddress=a;xpub=x;}catch(e){}decodedTx.txid=txid||decodedTx.txid;decodedTx.owner=accountAddress;decodedTx.xpub=xpub;if(isSigner){decodedTx.signer=accountAddress;}var historyId=accountUtils.buildLocalHistoryId({networkId,txid,accountAddress,xpub});var historyTx=_objectSpread(_objectSpread({id:historyId,isLocalCreated:Boolean(isLocalCreated)},historyTxToMerge),{},{decodedTx});return Promise.resolve(historyTx);});function buildHistoryTx(_x26){return _buildHistoryTx.apply(this,arguments);}return buildHistoryTx;}();_proto2.fixOnChainHistoryAccountData=function fixOnChainHistoryAccountData(params){var{accountId:originAccountId,networkId:originNetworkId,accountAddress:originAccountAddress,xpub:originXpub,onChainHistoryTx,allNetworkHistoryExtraItems}=params;var accountId=originAccountId;var networkId=originNetworkId;var accountAddress=originAccountAddress;var xpub=originXpub;if(originNetworkId===getNetworkIdsMap().onekeyall){var allNetworkAccount=allNetworkHistoryExtraItems?.find(function(i){var[_,txXpub]=onChainHistoryTx.key.split('_');if(!_isNil(i.accountXpub)){return i.networkId===onChainHistoryTx.networkId&&i.accountXpub===txXpub;}return i.networkId===onChainHistoryTx.networkId;});if(allNetworkAccount){accountId=allNetworkAccount.accountId;networkId=allNetworkAccount.networkId;accountAddress=allNetworkAccount.accountAddress;xpub=allNetworkAccount.accountXpub;}}return{accountId,networkId,accountAddress,xpub};};_proto2.buildOnChainHistoryTx=function(){var _buildOnChainHistoryTx=_asyncToGenerator(function*(params){var _this2=this;var{onChainHistoryTx,tokens,nfts,allNetworkHistoryExtraItems,dbAccountCache}=params;var{accountId,networkId,accountAddress,xpub}=this.fixOnChainHistoryAccountData({accountId:params.accountId,networkId:params.networkId,accountAddress:params.accountAddress,xpub:params.xpub,onChainHistoryTx,allNetworkHistoryExtraItems});if(params.accountId!==accountId){}var key=`${accountId}`;var dbAccount;if(dbAccountCache){yield this.mutexBuildOnChainHistoryTxGetDBAccount.runExclusive(_asyncToGenerator(function*(){dbAccount=dbAccountCache?.[key];if(!dbAccount){dbAccount=yield _this2.backgroundApi.serviceAccount.getDBAccountSafe({accountId});if(dbAccount){dbAccountCache[key]=dbAccount;}}}));}var vaultSettings=yield this.backgroundApi.serviceNetwork.getVaultSettings({networkId});try{var action=yield this.buildHistoryTxAction({tx:onChainHistoryTx,tokens,nfts});var decodedTx={txid:onChainHistoryTx.tx,owner:accountAddress,signer:onChainHistoryTx.from,to:onChainHistoryTx.to,nonce:onChainHistoryTx.nonce,actions:[action],status:getOnChainHistoryTxStatus(onChainHistoryTx.status),networkId,accountId,xpub,totalFeeInNative:onChainHistoryTx.gasFee,totalFeeFiatValue:onChainHistoryTx.gasFeeFiatValue,nativeAmount:vaultSettings.isUtxo?onChainHistoryTx.value:undefined,extraInfo:yield this.buildOnChainHistoryTxExtraInfo({onChainHistoryTx}),payload:{type:onChainHistoryTx.type,value:onChainHistoryTx.value,label:onChainHistoryTx.label}};decodedTx.updatedAt=new Date(onChainHistoryTx.timestamp*1000).getTime();decodedTx.createdAt=decodedTx.updatedAt;decodedTx.isFinal=true;return yield this.buildHistoryTx({dbAccount,decodedTx,accountAddress,xpub});}catch(e){return null;}});function buildOnChainHistoryTx(_x27){return _buildOnChainHistoryTx.apply(this,arguments);}return buildOnChainHistoryTx;}();_proto2.buildHistoryTxAction=function(){var _buildHistoryTxAction=_asyncToGenerator(function*({tx,tokens,nfts}){if(tx.type===EOnChainHistoryTxType.Approve&&tx.tokenApprove){return this.buildHistoryTxApproveAction({tx,tokens,nfts,tokenApprove:tx.tokenApprove});}if(_isEmpty(tx.sends)&&_isEmpty(tx.receives)){if(tx.type)return this.buildHistoryTxFunctionCallAction({tx});return this.buildHistoryTxUnknownAction({tx});}return this.buildHistoryTransferAction({tx,tokens,nfts});});function buildHistoryTxAction(_x28){return _buildHistoryTxAction.apply(this,arguments);}return buildHistoryTxAction;}();_proto2.buildHistoryTxFunctionCallAction=function(){var _buildHistoryTxFunctionCallAction=_asyncToGenerator(function*({tx}){var network=yield this.getNetwork();return{type:EDecodedTxActionType.FUNCTION_CALL,functionCall:{from:tx.from,to:tx.to,functionName:tx.label,functionHash:tx.functionCode,args:tx.params}};});function buildHistoryTxFunctionCallAction(_x29){return _buildHistoryTxFunctionCallAction.apply(this,arguments);}return buildHistoryTxFunctionCallAction;}();_proto2.buildHistoryTxUnknownAction=function(){var _buildHistoryTxUnknownAction=_asyncToGenerator(function*({tx}){var network=yield this.getNetwork();return{type:EDecodedTxActionType.UNKNOWN,unknownAction:{from:tx.from,to:tx.to,label:tx.label}};});function buildHistoryTxUnknownAction(_x30){return _buildHistoryTxUnknownAction.apply(this,arguments);}return buildHistoryTxUnknownAction;}();_proto2.buildHistoryTransferAction=function(){var _buildHistoryTransferAction=_asyncToGenerator(function*({tx,tokens,nfts}){var _this3=this;return{type:EDecodedTxActionType.ASSET_TRANSFER,assetTransfer:{from:tx.from,to:tx.to,label:tx.label,sends:tx.sends.map(function(send){return _this3.buildHistoryTransfer({transfer:send,tokens,nfts});}),receives:tx.receives.map(function(receive){return _this3.buildHistoryTransfer({transfer:receive,tokens,nfts});})}};});function buildHistoryTransferAction(_x31){return _buildHistoryTransferAction.apply(this,arguments);}return buildHistoryTransferAction;}();_proto2.buildHistoryTransfer=function buildHistoryTransfer({transfer,tokens,nfts}){var{icon,symbol,name,isNFT,isNative,price}=getOnChainHistoryTxAssetInfo({key:transfer.key,tokenAddress:transfer.token,tokens,nfts});return{from:transfer.from,to:transfer.to,tokenIdOnNetwork:transfer.token,amount:transfer.amount,label:transfer.label,isOwn:transfer.isOwn,icon,name,symbol,isNFT,isNative,price};};_proto2.buildHistoryTxApproveAction=function buildHistoryTxApproveAction({tx,tokens,nfts,tokenApprove}){var{icon,symbol,name,decimals}=getOnChainHistoryTxAssetInfo({key:tokenApprove.key,tokenAddress:tokenApprove.token,tokens,nfts});return{type:EDecodedTxActionType.TOKEN_APPROVE,tokenApprove:{from:tx.from,to:tx.to,spender:tokenApprove.spender,icon,name,symbol,decimals,label:tx.label,tokenIdOnNetwork:tokenApprove.token,amount:new BigNumber(tokenApprove.amount).shiftedBy(-decimals).toFixed(),isInfiniteAmount:tokenApprove.isInfiniteAmount}};};_proto2.buildTxTransferAssetAction=function(){var _buildTxTransferAssetAction=_asyncToGenerator(function*(params){var{from,to,transfers,data,application,isInternalSwap,isInternalStaking,internalStakingLabel,swapReceivedAddress,swapReceivedNetworkId}=params;var[accountAddress,network]=yield Promise.all([this.getAccountAddress(),this.getNetwork()]);var sendNativeTokenAmountBN=new BigNumber(0);var assetTransfer={from,to,sends:[],receives:[],application,isInternalSwap,isInternalStaking,internalStakingLabel,swapReceivedAddress,swapReceivedNetworkId};transfers.forEach(function(transfer){if(buildTxActionDirection({from:transfer.from,to:transfer.to,accountAddress})===EDecodedTxDirection.OUT){assetTransfer.sends.push(transfer);if(transfer.isNative){sendNativeTokenAmountBN=sendNativeTokenAmountBN.plus(new BigNumber(transfer.amount));}}else{assetTransfer.receives.push(transfer);}});assetTransfer.nativeAmount=sendNativeTokenAmountBN.toFixed();assetTransfer.nativeAmountValue=chainValueUtils.convertAmountToChainValue({value:sendNativeTokenAmountBN,network});return{type:EDecodedTxActionType.ASSET_TRANSFER,data,assetTransfer};});function buildTxTransferAssetAction(_x32){return _buildTxTransferAssetAction.apply(this,arguments);}return buildTxTransferAssetAction;}();_proto2.buildInternalSwapAction=function(){var _buildInternalSwapAction=_asyncToGenerator(function*(params){var _swapSendToken$logoUR,_swapSendToken$name,_swapReceiveToken$log,_swapReceiveToken$nam,_providerInfo$provide;var{swapData,swapInfo,swapToAddress}=params;var swapSendToken=swapInfo.sender.token;var swapReceiveToken=swapInfo.receiver.token;var providerInfo=swapInfo.swapBuildResData.result.info;var otherFeeInfos=swapInfo.swapBuildResData.result.fee?.otherFeeInfos;var otherFeeInfoTransfers=[];var transfers=[{from:swapInfo.accountAddress,to:'',tokenIdOnNetwork:swapSendToken.contractAddress,icon:(_swapSendToken$logoUR=swapSendToken.logoURI)!=null?_swapSendToken$logoUR:'',name:(_swapSendToken$name=swapSendToken.name)!=null?_swapSendToken$name:'',symbol:swapSendToken.symbol,amount:swapInfo.sender.amount,isNFT:false,isNative:swapSendToken.isNative,networkId:swapInfo.sender.accountInfo.networkId},{from:'',to:swapInfo.receivingAddress,tokenIdOnNetwork:swapReceiveToken.contractAddress,icon:(_swapReceiveToken$log=swapReceiveToken.logoURI)!=null?_swapReceiveToken$log:'',name:(_swapReceiveToken$nam=swapReceiveToken.name)!=null?_swapReceiveToken$nam:'',symbol:swapReceiveToken.symbol,amount:swapInfo.receiver.amount,isNFT:false,isNative:swapReceiveToken.isNative,networkId:swapInfo.receiver.accountInfo.networkId}];if(otherFeeInfos){otherFeeInfos.forEach(function(feeInfo){if(feeInfo.token.contractAddress===transfers[0].tokenIdOnNetwork){transfers[0].amount=new BigNumber(transfers[0].amount).plus(feeInfo.amount).toFixed();}else{var _feeInfo$token$logoUR,_feeInfo$token$name;otherFeeInfoTransfers.push({from:swapInfo.accountAddress,to:'',tokenIdOnNetwork:feeInfo.token.contractAddress,icon:(_feeInfo$token$logoUR=feeInfo.token.logoURI)!=null?_feeInfo$token$logoUR:'',name:(_feeInfo$token$name=feeInfo.token.name)!=null?_feeInfo$token$name:'',symbol:feeInfo.token.symbol,amount:feeInfo.amount,isNFT:false,isNative:feeInfo.token.isNative,networkId:swapInfo.sender.accountInfo.networkId});}});}transfers=[...otherFeeInfoTransfers,...transfers];var action=yield this.buildTxTransferAssetAction({from:swapInfo.accountAddress,to:swapToAddress!=null?swapToAddress:'',data:swapData,application:{name:providerInfo.providerName,icon:(_providerInfo$provide=providerInfo.providerLogo)!=null?_providerInfo$provide:''},isInternalSwap:true,swapReceivedAddress:swapInfo.receivingAddress,swapReceivedNetworkId:swapInfo.receiver.token.networkId,transfers});return action;});function buildInternalSwapAction(_x33){return _buildInternalSwapAction.apply(this,arguments);}return buildInternalSwapAction;}();_proto2.buildInternalStakingAction=function(){var _buildInternalStakingAction=_asyncToGenerator(function*(params){var _send$token$logoURI,_send$token$name,_receive$token$logoUR,_receive$token$name;var{stakingInfo,stakingData,accountAddress,stakingToAddress}=params;var{protocol,protocolLogoURI,send,receive}=stakingInfo;var transfers=[send&&{from:accountAddress,to:'',tokenIdOnNetwork:send.token.address,icon:(_send$token$logoURI=send.token.logoURI)!=null?_send$token$logoURI:'',name:(_send$token$name=send.token.name)!=null?_send$token$name:'',symbol:send.token.symbol,amount:send.amount,isNFT:false,isNative:send.token.isNative},receive&&{from:'',to:accountAddress,tokenIdOnNetwork:receive.token.address,icon:(_receive$token$logoUR=receive.token.logoURI)!=null?_receive$token$logoUR:'',name:(_receive$token$name=receive.token.name)!=null?_receive$token$name:'',symbol:receive.token.symbol,amount:receive.amount,isNFT:false,isNative:receive.token.isNative}].filter(Boolean);var action=yield this.buildTxTransferAssetAction({from:accountAddress,to:stakingToAddress!=null?stakingToAddress:'',data:stakingData,application:{name:protocol,icon:protocolLogoURI!=null?protocolLogoURI:''},isInternalStaking:true,internalStakingLabel:getStakingActionLabel({stakingInfo}),transfers});return action;});function buildInternalStakingAction(_x34){return _buildInternalStakingAction.apply(this,arguments);}return buildInternalStakingAction;}();_proto2.signTransaction=function(){var _signTransaction=_asyncToGenerator(function*(params){var _params$signOnly,_signedTx$encodedTx;var{unsignedTx}=params;params.signOnly=(_params$signOnly=params.signOnly)!=null?_params$signOnly:true;var signedTx=yield this.keyring.signTransaction(params);return _objectSpread(_objectSpread({},signedTx),{},{encodedTx:(_signedTx$encodedTx=signedTx.encodedTx)!=null?_signedTx$encodedTx:unsignedTx.encodedTx});});function signTransaction(_x35){return _signTransaction.apply(this,arguments);}return signTransaction;}();_proto2.getAccount=function(){var _getAccount=_asyncToGenerator(function*({dbAccount}={}){var account=dbAccount;if(!account||account?.id!==this.accountId){account=yield this.backgroundApi.serviceAccount.getDBAccount({accountId:this.accountId});}if(!accountUtils.isAccountCompatibleWithNetwork({account,networkId:this.networkId})){throw new Error(`account impl not matched to network: ${this.networkId} ${account.id?.slice(0,30)}`);}var networkInfo=yield this.getNetworkInfo();var externalAccount=account;var externalAccountAddress='';if(externalAccount.connectedAddresses){var buildExternalAccountAddress=function({key,fallbackIndex}){var _externalAccount$sele;if(!key){return'';}var index=(_externalAccount$sele=externalAccount.selectedAddress?.[key])!=null?_externalAccount$sele:fallbackIndex;var addresses=externalAccount.connectedAddresses?.[key]?.split(',').filter(Boolean)||[];return addresses?.[index]||addresses?.[fallbackIndex]||'';};externalAccountAddress=buildExternalAccountAddress({key:this.networkId,fallbackIndex:-1});if(!externalAccountAddress){var impl=yield this.getNetworkImpl();externalAccountAddress=buildExternalAccountAddress({key:impl,fallbackIndex:0});}if(!externalAccountAddress){externalAccountAddress=buildExternalAccountAddress({key:this.networkId,fallbackIndex:0});}}var addressDetail=yield this.buildAccountAddressDetail({networkInfo,account,networkId:this.networkId,externalAccountAddress});var address=addressDetail?.address||'';if(!address&&!addressDetail.allowEmptyAddress||!addressDetail.isValid){throw new Error('VaultBase.getAccount ERROR: address is invalid');}return _objectSpread(_objectSpread({},account),{},{addressDetail,address});});function getAccount(){return _getAccount.apply(this,arguments);}return getAccount;}();_proto2.getAccountAddress=function(){var _getAccountAddress=_asyncToGenerator(function*(){return(yield this.getAccount()).address;});function getAccountAddress(){return _getAccountAddress.apply(this,arguments);}return getAccountAddress;}();_proto2.getAccountPath=function(){var _getAccountPath=_asyncToGenerator(function*(){return(yield this.getAccount()).path;});function getAccountPath(){return _getAccountPath.apply(this,arguments);}return getAccountPath;}();_proto2.getAccountXpub=function(){var _getAccountXpub=_asyncToGenerator(function*({dbAccount}={}){var networkAccount=yield this.getAccount({dbAccount});return this.getXpubFromAccount(networkAccount);});function getAccountXpub(){return _getAccountXpub.apply(this,arguments);}return getAccountXpub;}();_proto2.fillTokensDetails=function(){var _fillTokensDetails=_asyncToGenerator(function*({tokensDetails}){return Promise.resolve(tokensDetails);});function fillTokensDetails(_x36){return _fillTokensDetails.apply(this,arguments);}return fillTokensDetails;}();_proto2.fillAccountDetails=function(){var _fillAccountDetails=_asyncToGenerator(function*({accountDetails}){return Promise.resolve(accountDetails);});function fillAccountDetails(_x37){return _fillAccountDetails.apply(this,arguments);}return fillAccountDetails;}();_proto2.isEarliestLocalPendingTx=function(){var _isEarliestLocalPendingTx=_asyncToGenerator(function*({encodedTx}){return true;});function isEarliestLocalPendingTx(_x38){return _isEarliestLocalPendingTx.apply(this,arguments);}return isEarliestLocalPendingTx;}();_proto2.buildReplaceEncodedTx=function(){var _buildReplaceEncodedTx=_asyncToGenerator(function*({decodedTx,replaceType}){return Promise.resolve(decodedTx.encodedTx);});function buildReplaceEncodedTx(_x39){return _buildReplaceEncodedTx.apply(this,arguments);}return buildReplaceEncodedTx;}();_proto2.attachFeeInfoToDAppEncodedTx=function(){var _attachFeeInfoToDAppEncodedTx=_asyncToGenerator(function*(params){return Promise.resolve(params.encodedTx);});function attachFeeInfoToDAppEncodedTx(_x40){return _attachFeeInfoToDAppEncodedTx.apply(this,arguments);}return attachFeeInfoToDAppEncodedTx;}();_proto2.activateToken=function(){var _activateToken=_asyncToGenerator(function*(params){throw new NotImplemented();});function activateToken(_x41){return _activateToken.apply(this,arguments);}return activateToken;}();_proto2.getAddressType=function(){var _getAddressType=_asyncToGenerator(function*({address}){return Promise.resolve({});});function getAddressType(_x42){return _getAddressType.apply(this,arguments);}return getAddressType;}();_proto2.buildStakeEncodedTx=function buildStakeEncodedTx(params){return Promise.resolve(params);};_proto2.fetchAccountDetails=function(){var _fetchAccountDetails=_asyncToGenerator(function*(params){var isCustomNetwork=yield this.backgroundApi.serviceNetwork.isCustomNetwork({networkId:this.networkId});if(isCustomNetwork){return this.fetchAccountDetailsByRpc(params);}return this.fetchAccountDetailsByApi(params);});function fetchAccountDetails(_x43){return _fetchAccountDetails.apply(this,arguments);}return fetchAccountDetails;}();_proto2.fetchAccountDetailsByApi=function(){var _fetchAccountDetailsByApi=_asyncToGenerator(function*(params){var queryParams=_objectSpread({},_omit(params,['accountId','signal']));var client=yield this.backgroundApi.serviceAccountProfile.getClient(EServiceEndpointEnum.Wallet);var resp=yield client.get(`/wallet/v1/account/get-account?${qs.stringify(_omitBy(queryParams,_isNil))}`,{headers:yield this.backgroundApi.serviceAccountProfile._getWalletTypeHeader({accountId:params.accountId}),signal:params.signal});return resp;});function fetchAccountDetailsByApi(_x44){return _fetchAccountDetailsByApi.apply(this,arguments);}return fetchAccountDetailsByApi;}();_proto2.fetchAccountDetailsByRpc=function(){var _fetchAccountDetailsByRpc=_asyncToGenerator(function*(params){throw new NotImplemented();});function fetchAccountDetailsByRpc(_x45){return _fetchAccountDetailsByRpc.apply(this,arguments);}return fetchAccountDetailsByRpc;}();_proto2.fetchTokenList=function(){var _fetchTokenList=_asyncToGenerator(function*(params){var isCustomNetwork=yield this.backgroundApi.serviceNetwork.isCustomNetwork({networkId:this.networkId});if(isCustomNetwork){return this.fetchTokenListByRpc(params);}return this.fetchTokenListByApi(params);});function fetchTokenList(_x46){return _fetchTokenList.apply(this,arguments);}return fetchTokenList;}();_proto2.fetchTokenListByApi=function(){var _fetchTokenListByApi=_asyncToGenerator(function*(params){var{serviceToken,serviceAccountProfile}=this.backgroundApi;var{requestApiParams,flag,signal,accountId}=params;if(requestApiParams.contractList){requestApiParams.contractList=requestApiParams.contractList.filter(function(contract){return contract!==null&&typeof contract==='string';});}var client=yield serviceToken.getClient(EServiceEndpointEnum.Wallet);var resp=yield client.post(`/wallet/v1/account/token/list?flag=${flag||''}`,requestApiParams,{signal,headers:yield serviceAccountProfile._getWalletTypeHeader({accountId})});return resp;});function fetchTokenListByApi(_x47){return _fetchTokenListByApi.apply(this,arguments);}return fetchTokenListByApi;}();_proto2.fetchTokenListByRpc=function(){var _fetchTokenListByRpc=_asyncToGenerator(function*(params){throw new NotImplemented();});function fetchTokenListByRpc(_x48){return _fetchTokenListByRpc.apply(this,arguments);}return fetchTokenListByRpc;}();_proto2.estimateFee=function(){var _estimateFee=_asyncToGenerator(function*(params){var isCustomNetwork=yield this.backgroundApi.serviceNetwork.isCustomNetwork({networkId:this.networkId});if(isCustomNetwork){return this.estimateFeeByRpc(params);}return this.estimateFeeByApi(params);});function estimateFee(_x49){return _estimateFee.apply(this,arguments);}return estimateFee;}();_proto2.estimateFeeByApi=function(){var _estimateFeeByApi=_asyncToGenerator(function*(params){var{accountId}=params,rest=_objectWithoutProperties(params,_excluded);var client=yield this.backgroundApi.serviceGas.getClient(EServiceEndpointEnum.Wallet);var resp=yield client.post('/wallet/v1/account/estimate-fee',rest,{headers:yield this.backgroundApi.serviceAccountProfile._getWalletTypeHeader({accountId})});return resp;});function estimateFeeByApi(_x50){return _estimateFeeByApi.apply(this,arguments);}return estimateFeeByApi;}();_proto2.estimateFeeByRpc=function(){var _estimateFeeByRpc=_asyncToGenerator(function*(params){throw new NotImplemented();});function estimateFeeByRpc(_x51){return _estimateFeeByRpc.apply(this,arguments);}return estimateFeeByRpc;}();_proto2.fetchAccountHistoryDetail=function(){var _fetchAccountHistoryDetail=_asyncToGenerator(function*(params){var isCustomNetwork=yield this.backgroundApi.serviceNetwork.isCustomNetwork({networkId:this.networkId});if(isCustomNetwork){return this.fetchAccountHistoryDetailByRpc(params);}return this.fetchAccountHistoryDetailByApi(params);});function fetchAccountHistoryDetail(_x52){return _fetchAccountHistoryDetail.apply(this,arguments);}return fetchAccountHistoryDetail;}();_proto2.fetchAccountHistoryDetailByApi=function(){var _fetchAccountHistoryDetailByApi=_asyncToGenerator(function*(params){var{accountId}=params,rest=_objectWithoutProperties(params,_excluded2);var client=yield this.backgroundApi.serviceGas.getClient(EServiceEndpointEnum.Wallet);var resp=yield client.get('/wallet/v1/account/history/detail',{params:rest,headers:yield this.backgroundApi.serviceAccountProfile._getWalletTypeHeader({accountId})});return resp;});function fetchAccountHistoryDetailByApi(_x53){return _fetchAccountHistoryDetailByApi.apply(this,arguments);}return fetchAccountHistoryDetailByApi;}();_proto2.fetchAccountHistoryDetailByRpc=function(){var _fetchAccountHistoryDetailByRpc=_asyncToGenerator(function*(params){throw new NotImplemented();});function fetchAccountHistoryDetailByRpc(_x54){return _fetchAccountHistoryDetailByRpc.apply(this,arguments);}return fetchAccountHistoryDetailByRpc;}();_proto2.buildOkxSwapEncodedTx=function(){var _buildOkxSwapEncodedTx=_asyncToGenerator(function*(params){throw new NotImplemented();});function buildOkxSwapEncodedTx(_x55){return _buildOkxSwapEncodedTx.apply(this,arguments);}return buildOkxSwapEncodedTx;}();return _createClass(VaultBase);}(VaultBaseChainOnly);","import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import accountUtils from'@onekeyhq/shared/src/utils/accountUtils';import networkUtils from'@onekeyhq/shared/src/utils/networkUtils';import{getVaultSettings as _getVaultSettings,getVaultSettingsNetworkInfo}from\"../settings\";export var VaultContext=function(){function VaultContext(options){this.options=options;this.networkId=options.networkId||'';this.accountId=options.accountId||'';this.backgroundApi=options.backgroundApi;this.walletId=options.walletId||(this.accountId?accountUtils.getWalletIdFromAccountId({accountId:this.accountId}):'');if(!this.walletId&&!this.options.isChainOnly){throw new Error('can not get correct walletId');}}var _proto=VaultContext.prototype;_proto.getNetworkId=function(){var _getNetworkId=_asyncToGenerator(function*(){return this.networkId;});function getNetworkId(){return _getNetworkId.apply(this,arguments);}return getNetworkId;}();_proto.getNetwork=function(){var _getNetwork=_asyncToGenerator(function*({cached}={}){if(!cached||!this._network||this._network.id!==this.networkId){var network=yield this.backgroundApi.serviceNetwork.getNetwork({networkId:this.networkId});this._network=network;}return this._network;});function getNetwork(){return _getNetwork.apply(this,arguments);}return getNetwork;}();_proto.getNetworkChainId=function(){var _getNetworkChainId=_asyncToGenerator(function*({hex=false}={}){return networkUtils.getNetworkChainId({networkId:this.networkId,hex});});function getNetworkChainId(){return _getNetworkChainId.apply(this,arguments);}return getNetworkChainId;}();_proto.getNetworkImpl=function(){var _getNetworkImpl=_asyncToGenerator(function*(){return networkUtils.getNetworkImpl({networkId:this.networkId});});function getNetworkImpl(){return _getNetworkImpl.apply(this,arguments);}return getNetworkImpl;}();_proto.getVaultSettings=function(){var _getVaultSettings2=_asyncToGenerator(function*(){return _getVaultSettings({networkId:this.networkId});});function getVaultSettings(){return _getVaultSettings2.apply(this,arguments);}return getVaultSettings;}();_proto.getNetworkInfo=function(){var _getNetworkInfo=_asyncToGenerator(function*(){return getVaultSettingsNetworkInfo({networkId:this.networkId});});function getNetworkInfo(){return _getNetworkInfo.apply(this,arguments);}return getNetworkInfo;}();_proto.getCoreApiNetworkInfo=function(){var _getCoreApiNetworkInfo=_asyncToGenerator(function*(){var network=yield this.getNetwork();var networkInfo=yield this.getNetworkInfo();var{addressPrefix,curve}=networkInfo;var networkImpl=yield this.getNetworkImpl();var chainId=yield this.getNetworkChainId({hex:false});var{isTestnet}=network;var{networkId}=this;return{isTestnet,networkChainCode:network.code,chainId,networkId,networkImpl,addressPrefix,curve};});function getCoreApiNetworkInfo(){return _getCoreApiNetworkInfo.apply(this,arguments);}return getCoreApiNetworkInfo;}();_proto.getRpcUrl=function(){var _getRpcUrl=_asyncToGenerator(function*(){return'';});function getRpcUrl(){return _getRpcUrl.apply(this,arguments);}return getRpcUrl;}();_proto.destroy=function(){var _destroy=_asyncToGenerator(function*(){});function destroy(){return _destroy.apply(this,arguments);}return destroy;}();return _createClass(VaultContext);}();","import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import{KeyringExternalBase}from\"../../base/KeyringExternalBase\";export var KeyringExternal=function(_KeyringExternalBase){_inherits(KeyringExternal,_KeyringExternalBase);var _super=_createSuper(KeyringExternal);function KeyringExternal(){return _super.apply(this,arguments);}var _proto=KeyringExternal.prototype;_proto.signMessage=function signMessage(params){return this.baseSignMessageByExternalWallet(params);};_proto.signTransaction=function signTransaction(params){return this.baseSendTransactionByExternalWallet(params);};return _createClass(KeyringExternal);}(KeyringExternalBase);","import _isEmpty from\"lodash/isEmpty\";import _isNil from\"lodash/isNil\";import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import{getRegistry as _getRegistry}from'@substrate/txwrapper-polkadot';import BigNumber from'bignumber.js';import{memoizee}from'@onekeyhq/shared/src/utils/cacheUtils';import hexUtils from'@onekeyhq/shared/src/utils/hexUtils';import numberUtils from'@onekeyhq/shared/src/utils/numberUtils';import timerUtils from'@onekeyhq/shared/src/utils/timerUtils';import{EDecodedTxActionType}from'@onekeyhq/shared/types/tx';export var getTransactionTypeV2=function(module){if(module==='balances'){return EDecodedTxActionType.ASSET_TRANSFER;}if(module==='assets'){return EDecodedTxActionType.ASSET_TRANSFER;}return EDecodedTxActionType.UNKNOWN;};export var getTransactionType=function(module,func){var formatFunc=func.replace(/(_)/g,'').toLowerCase();if(module==='balances'&&(formatFunc==='transfer'||formatFunc==='transferkeepalive'||formatFunc==='transferallowdeath'||formatFunc==='transferall')){return EDecodedTxActionType.ASSET_TRANSFER;}if(module==='assets'&&(formatFunc==='transfer'||formatFunc==='transferkeepalive')){return EDecodedTxActionType.ASSET_TRANSFER;}return EDecodedTxActionType.UNKNOWN;};export var getTransactionTypeFromTxInfo=function(tx){var{name:methodName,pallet}=tx.method;return getTransactionType(pallet,methodName);};export var getMetadataRpc=memoizee(function(){var _ref=_asyncToGenerator(function*(networkId,backgroundApi){var[res]=yield backgroundApi.serviceAccountProfile.sendProxyRequest({networkId,body:[{route:'rpc',params:{method:'state_getMetadata',params:[]}}]});return res;});return function(_x,_x2){return _ref.apply(this,arguments);};}(),{maxAge:timerUtils.getTimeDurationMs({minute:10}),promise:true,normalizer(args){return args[0];}});export var getRuntimeVersion=memoizee(function(){var _ref2=_asyncToGenerator(function*(networkId,backgroundApi){var[res]=yield backgroundApi.serviceAccountProfile.sendProxyRequest({networkId,body:[{route:'rpc',params:{method:'state_getRuntimeVersion',params:[]}}]});return res;});return function(_x3,_x4){return _ref2.apply(this,arguments);};}(),{maxAge:timerUtils.getTimeDurationMs({minute:10}),promise:true,normalizer(args){return args[0];}});export var getGenesisHash=memoizee(function(){var _ref3=_asyncToGenerator(function*(networkId,backgroundApi){var[res]=yield backgroundApi.serviceAccountProfile.sendProxyRequest({networkId,body:[{route:'rpc',params:{method:'chain_getBlockHash',params:[0]}}]});return res;});return function(_x5,_x6){return _ref3.apply(this,arguments);};}(),{maxAge:timerUtils.getTimeDurationMs({minute:10}),promise:true,normalizer(args){return args[0];}});export var getRegistry=memoizee(function(){var _ref4=_asyncToGenerator(function*(params,backgroundApi){var networkId=params.networkId;var network=yield backgroundApi.serviceNetwork.getNetwork({networkId});var metadataRpcHex;if(_isNil(params.metadataRpc)||_isEmpty(params.metadataRpc)){metadataRpcHex=yield getMetadataRpc(networkId,backgroundApi);}else{metadataRpcHex=params.metadataRpc;}var specVersion;var specName;if(!params.specVersion||_isEmpty(params.specVersion)||!params.specName||_isEmpty(params.specName)){var res=yield getRuntimeVersion(networkId,backgroundApi);specVersion=res.specVersion;specName=res.specName;}else{specVersion=+numberUtils.hexToDecimal(hexUtils.addHexPrefix(params.specVersion.toString()));specName=params.specName;}return _getRegistry({chainName:network.name,specName:specName,specVersion,metadataRpc:metadataRpcHex});});return function(_x7,_x8){return _ref4.apply(this,arguments);};}(),{maxAge:timerUtils.getTimeDurationMs({minute:10}),promise:true,normalizer(args){return args[0].networkId;}});export var getMinAmount=memoizee(function(){var _ref5=_asyncToGenerator(function*(networkId,backgroundApi){var[minAmountStr]=yield backgroundApi.serviceAccountProfile.sendProxyRequest({networkId,body:[{route:'consts',params:{method:'balances.existentialDeposit',params:[]}}]});return new BigNumber(minAmountStr);});return function(_x9,_x10){return _ref5.apply(this,arguments);};}(),{maxAge:timerUtils.getTimeDurationMs({minute:10}),promise:true,normalizer(args){return args[0];}});export var getBlockInfo=memoizee(function(){var _ref6=_asyncToGenerator(function*(networkId,backgroundApi){var[blockHash]=yield backgroundApi.serviceAccountProfile.sendProxyRequest({networkId,body:[{route:'rpc',params:{method:'chain_getBlockHash',params:[]}}]});var[{block}]=yield backgroundApi.serviceAccountProfile.sendProxyRequest({networkId,body:[{route:'rpc',params:{method:'chain_getBlock',params:[blockHash]}}]});return{blockHash,blockNumber:block.header.number};});return function(_x11,_x12){return _ref6.apply(this,arguments);};}(),{maxAge:timerUtils.getTimeDurationMs({seconds:10}),promise:true,normalizer(args){return args[0];}});","import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import{u8aConcat}from'@polkadot/util';import{encodeAddress}from'@polkadot/util-crypto';import{serializeSignedTransaction,serializeUnsignedTransaction}from'@onekeyhq/core/src/chains/dot/sdkDot';import{DOT_TYPE_PREFIX}from'@onekeyhq/core/src/chains/dot/types';import coreChainApi from'@onekeyhq/core/src/instance/coreChainApi';import{NotImplemented}from'@onekeyhq/shared/src/errors';import{convertDeviceResponse}from'@onekeyhq/shared/src/errors/utils/deviceErrorUtils';import accountUtils from'@onekeyhq/shared/src/utils/accountUtils';import{checkIsDefined}from'@onekeyhq/shared/src/utils/assertUtils';import bufferUtils from'@onekeyhq/shared/src/utils/bufferUtils';import hexUtils from'@onekeyhq/shared/src/utils/hexUtils';import{KeyringHardwareBase}from\"../../base/KeyringHardwareBase\";import{getMetadataRpc}from\"./utils\";export var KeyringHardware=function(_KeyringHardwareBase){_inherits(KeyringHardware,_KeyringHardwareBase);var _super=_createSuper(KeyringHardware);function KeyringHardware(...args){var _this;_this=_super.call(this,...args);_this.coreApi=coreChainApi.dot.hd;_this.hwSdkNetwork='dot';return _this;}var _proto=KeyringHardware.prototype;_proto.buildHwAllNetworkPrepareAccountsParams=function(){var _buildHwAllNetworkPrepareAccountsParams=_asyncToGenerator(function*(params){var networkInfo=yield this.getNetworkInfo();var chainId=yield this.getNetworkChainId();return{network:this.hwSdkNetwork,path:params.path,showOnOneKey:false,prefix:networkInfo.addressPrefix,chainName:chainId};});function buildHwAllNetworkPrepareAccountsParams(_x){return _buildHwAllNetworkPrepareAccountsParams.apply(this,arguments);}return buildHwAllNetworkPrepareAccountsParams;}();_proto.prepareAccounts=function(){var _prepareAccounts=_asyncToGenerator(function*(params){var _this2=this;var networkInfo=yield this.getNetworkInfo();var chainId=yield this.getNetworkChainId();return this.basePrepareHdNormalAccounts(params,{buildAddressesInfo:function(){var _ref=_asyncToGenerator(function*({usedIndexes}){var list=yield _this2.baseGetDeviceAccountAddresses({params,usedIndexes,sdkGetAddressFn:function(){var _ref2=_asyncToGenerator(function*({connectId,deviceId,pathPrefix,pathSuffix,template,showOnOnekeyFn}){var buildFullPath=function(p){return accountUtils.buildPathFromTemplate({template,index:p.index});};var allNetworkAccounts=yield _this2.getAllNetworkPrepareAccounts({params,usedIndexes,hwSdkNetwork:_this2.hwSdkNetwork,buildPath:buildFullPath,buildResultAccount:function({account,index}){return{path:account.path,address:account.payload?.address||'',publicKey:account.payload?.publicKey||''};}});if(allNetworkAccounts){return allNetworkAccounts;}throw new Error('use sdk allNetworkGetAddress instead');});return function sdkGetAddressFn(_x4){return _ref2.apply(this,arguments);};}()});var ret=[];for(var i=0;i<list.length;i+=1){var item=list[i];var{path,address,publicKey}=item;var addresses={[_this2.networkId]:address!=null?address:encodeAddress(bufferUtils.hexToBytes(hexUtils.addHexPrefix(publicKey)),+networkInfo.addressPrefix)};var addressInfo={address:'',addresses,path,publicKey};ret.push(addressInfo);}return ret;});return function buildAddressesInfo(_x3){return _ref.apply(this,arguments);};}()});});function prepareAccounts(_x2){return _prepareAccounts.apply(this,arguments);}return prepareAccounts;}();_proto.signTransaction=function(){var _signTransaction=_asyncToGenerator(function*(params){var sdk=yield this.getHardwareSDKInstance();var unsignedTx=checkIsDefined(params.unsignedTx);var deviceParams=checkIsDefined(params.deviceParams);var encodedTx=checkIsDefined(unsignedTx.encodedTx);var{dbDevice,deviceCommonParams}=checkIsDefined(deviceParams);var{connectId='',deviceId}=dbDevice;var account=yield this.vault.getAccount();var network=yield this.getNetwork();encodedTx.chainName=network.name;var metadataRpc=yield getMetadataRpc(this.networkId,this.backgroundApi);var tx=yield serializeUnsignedTransaction(_objectSpread(_objectSpread({},encodedTx),{},{metadataRpc}));var{signature}=yield convertDeviceResponse(_asyncToGenerator(function*(){return sdk.polkadotSignTransaction(connectId,deviceId,_objectSpread({path:account.path,network:network.chainId,rawTx:bufferUtils.bytesToHex(tx.rawTx)},deviceCommonParams));}));var txSignature=u8aConcat(DOT_TYPE_PREFIX.ed25519,bufferUtils.hexToBytes(signature));var signedTx=yield serializeSignedTransaction(_objectSpread(_objectSpread({},encodedTx),{},{metadataRpc}),bufferUtils.bytesToHex(txSignature));return{txid:'',rawTx:signedTx,encodedTx,signature:hexUtils.addHexPrefix(bufferUtils.bytesToHex(txSignature))};});function signTransaction(_x5){return _signTransaction.apply(this,arguments);}return signTransaction;}();_proto.signMessage=function signMessage(params){throw new NotImplemented();};return _createClass(KeyringHardware);}(KeyringHardwareBase);","import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import{serializeUnsignedTransaction}from'@onekeyhq/core/src/chains/dot/sdkDot';import coreChainApi from'@onekeyhq/core/src/instance/coreChainApi';import bufferUtils from'@onekeyhq/shared/src/utils/bufferUtils';import{KeyringHdBase}from\"../../base/KeyringHdBase\";import{getMetadataRpc}from\"./utils\";export var KeyringHd=function(_KeyringHdBase){_inherits(KeyringHd,_KeyringHdBase);var _super=_createSuper(KeyringHd);function KeyringHd(...args){var _this;_this=_super.call(this,...args);_this.coreApi=coreChainApi.dot.hd;return _this;}var _proto=KeyringHd.prototype;_proto.getPrivateKeys=function(){var _getPrivateKeys=_asyncToGenerator(function*(params){return this.baseGetPrivateKeys(params);});function getPrivateKeys(_x){return _getPrivateKeys.apply(this,arguments);}return getPrivateKeys;}();_proto.exportAccountSecretKeys=function(){var _exportAccountSecretKeys=_asyncToGenerator(function*(params){return this.baseExportAccountSecretKeys(params);});function exportAccountSecretKeys(_x2){return _exportAccountSecretKeys.apply(this,arguments);}return exportAccountSecretKeys;}();_proto.prepareAccounts=function(){var _prepareAccounts=_asyncToGenerator(function*(params){return this.basePrepareAccountsHd(params);});function prepareAccounts(_x3){return _prepareAccounts.apply(this,arguments);}return prepareAccounts;}();_proto.signTransaction=function(){var _signTransaction=_asyncToGenerator(function*(params){var{unsignedTx}=params;var encodedTx=unsignedTx.encodedTx;var metadataRpc=yield getMetadataRpc(this.networkId,this.backgroundApi);var rawTxUnsigned=yield serializeUnsignedTransaction(_objectSpread(_objectSpread({},encodedTx),{},{metadataRpc}));return this.baseSignTransaction(_objectSpread(_objectSpread({},params),{},{unsignedTx:_objectSpread(_objectSpread({},unsignedTx),{},{encodedTx:_objectSpread(_objectSpread({},encodedTx),{},{metadataRpc}),rawTxUnsigned:bufferUtils.bytesToHex(rawTxUnsigned.rawTx)})}));});function signTransaction(_x4){return _signTransaction.apply(this,arguments);}return signTransaction;}();_proto.signMessage=function(){var _signMessage=_asyncToGenerator(function*(params){return this.baseSignMessage(params);});function signMessage(_x5){return _signMessage.apply(this,arguments);}return signMessage;}();return _createClass(KeyringHd);}(KeyringHdBase);","import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import{serializeUnsignedTransaction}from'@onekeyhq/core/src/chains/dot/sdkDot';import coreChainApi from'@onekeyhq/core/src/instance/coreChainApi';import bufferUtils from'@onekeyhq/shared/src/utils/bufferUtils';import{KeyringImportedBase}from\"../../base/KeyringImportedBase\";import{getMetadataRpc}from\"./utils\";export var KeyringImported=function(_KeyringImportedBase){_inherits(KeyringImported,_KeyringImportedBase);var _super=_createSuper(KeyringImported);function KeyringImported(...args){var _this;_this=_super.call(this,...args);_this.coreApi=coreChainApi.dot.imported;return _this;}var _proto=KeyringImported.prototype;_proto.getPrivateKeys=function(){var _getPrivateKeys=_asyncToGenerator(function*(params){return this.baseGetPrivateKeys(params);});function getPrivateKeys(_x){return _getPrivateKeys.apply(this,arguments);}return getPrivateKeys;}();_proto.exportAccountSecretKeys=function(){var _exportAccountSecretKeys=_asyncToGenerator(function*(params){return this.baseExportAccountSecretKeys(params);});function exportAccountSecretKeys(_x2){return _exportAccountSecretKeys.apply(this,arguments);}return exportAccountSecretKeys;}();_proto.prepareAccounts=function(){var _prepareAccounts=_asyncToGenerator(function*(params){return this.basePrepareAccountsImported(params,{onlyAvailableOnCertainNetworks:true});});function prepareAccounts(_x3){return _prepareAccounts.apply(this,arguments);}return prepareAccounts;}();_proto.signTransaction=function(){var _signTransaction=_asyncToGenerator(function*(params){var{unsignedTx}=params;var encodedTx=unsignedTx.encodedTx;var metadataRpc=yield getMetadataRpc(this.networkId,this.backgroundApi);var rawTxUnsigned=yield serializeUnsignedTransaction(_objectSpread(_objectSpread({},encodedTx),{},{metadataRpc}));return this.baseSignTransaction(_objectSpread(_objectSpread({},params),{},{unsignedTx:_objectSpread(_objectSpread({},unsignedTx),{},{encodedTx:_objectSpread(_objectSpread({},encodedTx),{},{metadataRpc}),rawTxUnsigned:bufferUtils.bytesToHex(rawTxUnsigned.rawTx)})}));});function signTransaction(_x4){return _signTransaction.apply(this,arguments);}return signTransaction;}();_proto.signMessage=function(){var _signMessage=_asyncToGenerator(function*(params){return this.baseSignMessage(params);});function signMessage(_x5){return _signMessage.apply(this,arguments);}return signMessage;}();return _createClass(KeyringImported);}(KeyringImportedBase);","import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import _get from\"@babel/runtime/helpers/get\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import{KeyringWatchingBase}from\"../../base/KeyringWatchingBase\";export var KeyringWatching=function(_KeyringWatchingBase){_inherits(KeyringWatching,_KeyringWatchingBase);var _super=_createSuper(KeyringWatching);function KeyringWatching(){return _super.apply(this,arguments);}var _proto=KeyringWatching.prototype;_proto.prepareAccounts=function(){var _prepareAccounts=_asyncToGenerator(function*(params){return _get(_getPrototypeOf(KeyringWatching.prototype),\"basePrepareSimpleWatchingAccounts\",this).call(this,params,{onlyAvailableOnCertainNetworks:true});});function prepareAccounts(_x){return _prepareAccounts.apply(this,arguments);}return prepareAccounts;}();return _createClass(KeyringWatching);}(KeyringWatchingBase);","import _isEmpty from\"lodash/isEmpty\";import _isNil from\"lodash/isNil\";import _isObject from\"lodash/isObject\";import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import{ApiPromise,HttpProvider}from'@polkadot/api';import{hexToNumber}from'@polkadot/util';import{checkAddress,decodeAddress,encodeAddress}from'@polkadot/util-crypto';import{decode,methods}from'@substrate/txwrapper-polkadot';import BigNumber from'bignumber.js';import{serializeSignedTransaction}from'@onekeyhq/core/src/chains/dot/sdkDot';import coreChainApi from'@onekeyhq/core/src/instance/coreChainApi';import{BalanceLowerMinimum,InvalidTransferValue,OneKeyInternalError}from'@onekeyhq/shared/src/errors';import{ETranslations}from'@onekeyhq/shared/src/locale';import bufferUtils from'@onekeyhq/shared/src/utils/bufferUtils';import{memoizee}from'@onekeyhq/shared/src/utils/cacheUtils';import hexUtils from'@onekeyhq/shared/src/utils/hexUtils';import numberUtils from'@onekeyhq/shared/src/utils/numberUtils';import{ESendPreCheckTimingEnum}from'@onekeyhq/shared/types/send';import{EDecodedTxActionType,EDecodedTxDirection,EDecodedTxStatus}from'@onekeyhq/shared/types/tx';import{VaultBase}from\"../../base/VaultBase\";import{KeyringExternal}from\"./KeyringExternal\";import{KeyringHardware}from\"./KeyringHardware\";import{KeyringHd}from\"./KeyringHd\";import{KeyringImported}from\"./KeyringImported\";import{KeyringWatching}from\"./KeyringWatching\";import{getBlockInfo,getGenesisHash,getMetadataRpc,getMinAmount,getRegistry,getRuntimeVersion,getTransactionTypeFromTxInfo}from\"./utils\";var VaultDot=function(_VaultBase){_inherits(VaultDot,_VaultBase);var _super=_createSuper(VaultDot);function VaultDot(...args){var _this;_this=_super.call(this,...args);_this.coreApi=coreChainApi.dot.hd;_this.keyringMap={hd:KeyringHd,qr:undefined,hw:KeyringHardware,imported:KeyringImported,watching:KeyringWatching,external:KeyringExternal};_this._getBalance=memoizee(function(){var _ref=_asyncToGenerator(function*(address){var _account$balance;var account=yield _this.backgroundApi.serviceAccountProfile.fetchAccountInfo({accountId:_this.accountId,networkId:_this.networkId,accountAddress:address,withNetWorth:true});return new BigNumber((_account$balance=account.balance)!=null?_account$balance:0);});return function(_x){return _ref.apply(this,arguments);};}(),{promise:true,maxAge:10_000});return _this;}var _proto=VaultDot.prototype;_proto.buildAccountAddressDetail=function(){var _buildAccountAddressDetail=_asyncToGenerator(function*(params){var{account,networkInfo,networkId,externalAccountAddress}=params;var address=account.address||externalAccountAddress||'';var baseAddress=address;if(account.pub){var pubKeyBytes=bufferUtils.hexToBytes(hexUtils.stripHexPrefix(account.pub));address=encodeAddress(pubKeyBytes,+networkInfo.addressPrefix);}return{networkId,normalizedAddress:baseAddress,displayAddress:address,address,baseAddress,isValid:true,allowEmptyAddress:false};});function buildAccountAddressDetail(_x2){return _buildAccountAddressDetail.apply(this,arguments);}return buildAccountAddressDetail;}();_proto._getTxBaseInfo=function(){var _getTxBaseInfo2=_asyncToGenerator(function*(){var[{specName,specVersion,transactionVersion},genesisHash,metadataRpc,{blockHash,blockNumber}]=yield Promise.all([getRuntimeVersion(this.networkId,this.backgroundApi),getGenesisHash(this.networkId,this.backgroundApi),getMetadataRpc(this.networkId,this.backgroundApi),getBlockInfo(this.networkId,this.backgroundApi)]);var info={metadataRpc,specName:specName,specVersion,chainName:yield this.getNetworkChainId()};var registry=yield getRegistry(_objectSpread(_objectSpread({},info),{},{networkId:this.networkId}),this.backgroundApi);return _objectSpread(_objectSpread({},info),{},{blockNumber,transactionVersion,blockHash,genesisHash,registry});});function _getTxBaseInfo(){return _getTxBaseInfo2.apply(this,arguments);}return _getTxBaseInfo;}();_proto.buildEncodedTx=function(){var _buildEncodedTx=_asyncToGenerator(function*(params){var{transfersInfo}=params;if(!transfersInfo||!transfersInfo[0].to){throw new Error('Invalid transferInfo.to params');}var networkInfo=yield this.getNetworkInfo();var{to,amount,tokenInfo,keepAlive}=transfersInfo[0];var from=yield this.getAccountAddress();var toAccountId=decodeAddress(to,true,networkInfo?.addressPrefix?+networkInfo.addressPrefix:0);var chainId=yield this.getNetworkChainId();var toAccount={id:to};if(chainId==='joystream'){toAccount=hexUtils.addHexPrefix(bufferUtils.bytesToHex(toAccountId));}var amountValue;var network=yield this.getNetwork();var txBaseInfo=yield this._getTxBaseInfo();var info=_objectSpread(_objectSpread({},txBaseInfo),{},{address:from,eraPeriod:64,nonce:0,tip:0});var option={metadataRpc:txBaseInfo.metadataRpc,registry:txBaseInfo.registry};var unsigned;if(tokenInfo&&tokenInfo?.address&&!tokenInfo.isNative){amountValue=new BigNumber(amount).shiftedBy(tokenInfo.decimals).toFixed(0);if(keepAlive){unsigned=methods.assets.transferKeepAlive({id:parseInt(tokenInfo.address,10),target:to,amount:amountValue},info,option);}else{unsigned=methods.assets.transfer({id:parseInt(tokenInfo.address,10),target:to,amount:amountValue},info,option);}}else{amountValue=new BigNumber(amount).shiftedBy(network.decimals).toFixed(0);if(keepAlive){unsigned=methods.balances.transferKeepAlive({value:amountValue,dest:toAccount},info,option);}else if(chainId==='joystream'){unsigned=methods.balances.transfer({value:amountValue,dest:toAccount},info,option);}else{unsigned=methods.balances.transferAllowDeath({value:amountValue,dest:toAccount},info,option);}}return _objectSpread(_objectSpread({},unsigned),{},{specName:txBaseInfo.specName,chainName:network.name,metadataRpc:''});});function buildEncodedTx(_x3){return _buildEncodedTx.apply(this,arguments);}return buildEncodedTx;}();_proto._decodeUnsignedTx=function(){var _decodeUnsignedTx2=_asyncToGenerator(function*(unsigned){var{metadataRpc}=unsigned;if(!metadataRpc){metadataRpc=yield getMetadataRpc(this.networkId,this.backgroundApi);}var registry=yield getRegistry({specName:unsigned.specName,specVersion:unsigned.specVersion,metadataRpc,networkId:this.networkId},this.backgroundApi);var decodedUnsigned=decode(unsigned,{metadataRpc,registry});return decodedUnsigned;});function _decodeUnsignedTx(_x4){return _decodeUnsignedTx2.apply(this,arguments);}return _decodeUnsignedTx;}();_proto._getAddressByTxArgs=function(){var _getAddressByTxArgs2=_asyncToGenerator(function*(args){var chainId=yield this.getNetworkChainId();if(chainId==='joystream'){return args.dest;}return args.dest.id;});function _getAddressByTxArgs(_x5){return _getAddressByTxArgs2.apply(this,arguments);}return _getAddressByTxArgs;}();_proto.buildDecodedTx=function(){var _buildDecodedTx=_asyncToGenerator(function*(params){var{unsignedTx}=params;var encodedTx=unsignedTx.encodedTx;var account=yield this.getAccount();var decodeUnsignedTx=yield this._decodeUnsignedTx(encodedTx);var action=null;var actionType=getTransactionTypeFromTxInfo(decodeUnsignedTx);if(actionType===EDecodedTxActionType.ASSET_TRANSFER){var _networkInfo$nativeTo;var from=account.address;var to='';var amount='';var networkInfo=yield this.getNetworkInfo();var assetId='';if(decodeUnsignedTx.assetId){if(_isObject(decodeUnsignedTx.assetId)){var assetIdInst=decodeUnsignedTx.assetId;if(!assetIdInst.isEmpty){assetId=assetIdInst.toHex();}}else{assetId=decodeUnsignedTx.assetId.toString();}}var tokenInfo=yield this.backgroundApi.serviceToken.getToken({accountId:this.accountId,networkId:this.networkId,tokenIdOnNetwork:assetId||((_networkInfo$nativeTo=networkInfo.nativeTokenAddress)!=null?_networkInfo$nativeTo:'')});if(tokenInfo){var _tokenInfo$logoURI;var{value:tokenAmount}=decodeUnsignedTx.method.args;to=yield this._getAddressByTxArgs(decodeUnsignedTx.method.args);if(decodeUnsignedTx.method.name==='transferAll'){var _params$transferPaylo,_feeInfo$gas$gasLimit,_feeInfo$gas$gasPrice;var balance=new BigNumber((_params$transferPaylo=params.transferPayload?.amountToSend)!=null?_params$transferPaylo:0).shiftedBy(tokenInfo.decimals);var feeInfo=unsignedTx.feeInfo;var fee=feeInfo?new BigNumber((_feeInfo$gas$gasLimit=feeInfo.gas?.gasLimit)!=null?_feeInfo$gas$gasLimit:0).times(new BigNumber((_feeInfo$gas$gasPrice=feeInfo.gas?.gasPrice)!=null?_feeInfo$gas$gasPrice:0)).shiftedBy(feeInfo.common.feeDecimals):0;amount=balance.minus(fee).toFixed();}else{var _tokenAmount$toString;amount=(_tokenAmount$toString=tokenAmount?.toString())!=null?_tokenAmount$toString:'0';}var transferAction={from,to,amount:new BigNumber(amount).shiftedBy(-tokenInfo.decimals).toFixed(),icon:(_tokenInfo$logoURI=tokenInfo.logoURI)!=null?_tokenInfo$logoURI:'',name:tokenInfo.symbol,symbol:tokenInfo.symbol,tokenIdOnNetwork:tokenInfo.address,isNFT:false,isNative:tokenInfo.symbol===networkInfo.nativeTokenAddress};action=yield this.buildTxTransferAssetAction({from,to,transfers:[transferAction]});}}if(!action){action={type:EDecodedTxActionType.UNKNOWN,direction:EDecodedTxDirection.OTHER,unknownAction:{from:account.address,to:''}};}var result={txid:'',owner:account.address,signer:account.address,nonce:decodeUnsignedTx.nonce,actions:[action],status:EDecodedTxStatus.Pending,networkId:this.networkId,accountId:this.accountId,feeInfo:encodedTx?.feeInfo,extraInfo:null,encodedTx};return result;});function buildDecodedTx(_x6){return _buildDecodedTx.apply(this,arguments);}return buildDecodedTx;}();_proto.buildUnsignedTx=function(){var _buildUnsignedTx=_asyncToGenerator(function*(params){var _params$encodedTx;var encodedTx=(_params$encodedTx=params.encodedTx)!=null?_params$encodedTx:yield this.buildEncodedTx(params);if(encodedTx){return{encodedTx};}throw new OneKeyInternalError();});function buildUnsignedTx(_x7){return _buildUnsignedTx.apply(this,arguments);}return buildUnsignedTx;}();_proto.attachFeeInfoToDAppEncodedTx=function(){var _attachFeeInfoToDAppEncodedTx=_asyncToGenerator(function*(params){return Promise.resolve('');});function attachFeeInfoToDAppEncodedTx(_x8){return _attachFeeInfoToDAppEncodedTx.apply(this,arguments);}return attachFeeInfoToDAppEncodedTx;}();_proto.updateUnsignedTx=function(){var _updateUnsignedTx=_asyncToGenerator(function*(params){var _params$feeInfo$feeDo,_params$feeInfo$commo;var{unsignedTx,nativeAmountInfo}=params;var encodedTx=unsignedTx.encodedTx;if(params.nonceInfo){encodedTx.nonce=hexUtils.hexlify(params.nonceInfo.nonce,{hexPad:'left'});}if(params.feeInfo){encodedTx.feeInfo=params.feeInfo;}var extraTip=new BigNumber((_params$feeInfo$feeDo=params.feeInfo?.feeDot?.extraTipInDot)!=null?_params$feeInfo$feeDo:'0').shiftedBy((_params$feeInfo$commo=params.feeInfo?.common.feeDecimals)!=null?_params$feeInfo$commo:0).toFixed();if(nativeAmountInfo){var decodeUnsignedTx=yield this._decodeUnsignedTx(encodedTx);var type=getTransactionTypeFromTxInfo(decodeUnsignedTx);if(type===EDecodedTxActionType.ASSET_TRANSFER){var _decodeUnsignedTx$non,_nativeAmountInfo$max;var txBaseInfo=yield this._getTxBaseInfo();var from=yield this.getAccountAddress();var info=_objectSpread(_objectSpread({},txBaseInfo),{},{address:from,eraPeriod:64,nonce:(_decodeUnsignedTx$non=decodeUnsignedTx.nonce)!=null?_decodeUnsignedTx$non:0,tip:0});var option={metadataRpc:txBaseInfo.metadataRpc,registry:txBaseInfo.registry};var network=yield this.getNetwork();var amountValue=new BigNumber((_nativeAmountInfo$max=nativeAmountInfo.maxSendAmount)!=null?_nativeAmountInfo$max:'0').shiftedBy(network.decimals).minus(extraTip).toFixed(0);var dest=decodeUnsignedTx.method.args.dest;var tx;if(decodeUnsignedTx.method?.name?.indexOf('KeepAlive')!==-1){tx=methods.balances.transferKeepAlive({value:amountValue,dest},info,option);}else{tx=methods.balances.transferAll({dest,keepAlive:false},info,option);}encodedTx=_objectSpread(_objectSpread({},tx),{},{specName:txBaseInfo.specName,chainName:network.name,metadataRpc:''});}}if(!params.nonceInfo&&!encodedTx.isFromDapp){var _encodedTx$specName;var blockInfo=yield getBlockInfo(this.networkId,this.backgroundApi);var registry=yield getRegistry({networkId:this.networkId,metadataRpc:encodedTx.metadataRpc,specName:(_encodedTx$specName=encodedTx.specName)!=null?_encodedTx$specName:'',specVersion:+encodedTx.specVersion},this.backgroundApi);var era=registry.createType('ExtrinsicEra',{current:blockInfo.blockNumber,period:64});encodedTx=_objectSpread(_objectSpread({},encodedTx),{},{blockHash:blockInfo.blockHash,blockNumber:blockInfo.blockNumber,era:era.toHex()});}if(params.feeInfo?.feeDot&&!encodedTx.isFromDapp){encodedTx.tip=numberUtils.numberToHex(extraTip);}return{encodedTx,feeInfo:params.feeInfo};});function updateUnsignedTx(_x9){return _updateUnsignedTx.apply(this,arguments);}return updateUnsignedTx;}();_proto.validateAddress=function(){var _validateAddress=_asyncToGenerator(function*(address){var networkInfo=yield this.getNetworkInfo();var isValid=true;try{var[result]=checkAddress(address,+networkInfo.addressPrefix);isValid=result;}catch(error){isValid=false;}return{isValid,normalizedAddress:address,displayAddress:address};});function validateAddress(_x10){return _validateAddress.apply(this,arguments);}return validateAddress;}();_proto.validateXpub=function(){var _validateXpub=_asyncToGenerator(function*(xpub){return{isValid:false};});function validateXpub(_x11){return _validateXpub.apply(this,arguments);}return validateXpub;}();_proto.getPrivateKeyFromImported=function getPrivateKeyFromImported(params){return this.baseGetPrivateKeyFromImported(params);};_proto.validateXprvt=function(){var _validateXprvt=_asyncToGenerator(function*(xprvt){return{isValid:false};});function validateXprvt(_x12){return _validateXprvt.apply(this,arguments);}return validateXprvt;}();_proto.validatePrivateKey=function validatePrivateKey(privateKey){return this.baseValidatePrivateKey(privateKey);};_proto.validateGeneralInput=function(){var _validateGeneralInput=_asyncToGenerator(function*(params){var{result}=yield this.baseValidateGeneralInput(params);return result;});function validateGeneralInput(_x13){return _validateGeneralInput.apply(this,arguments);}return validateGeneralInput;}();_proto.buildEstimateFeeParams=function(){var _buildEstimateFeeParams=_asyncToGenerator(function*({encodedTx}){if(!encodedTx){return{encodedTx};}var fakeSignature=Buffer.concat([Buffer.from([0x01]),Buffer.alloc(64).fill(0x42)]);var tx=yield serializeSignedTransaction(_objectSpread(_objectSpread({},encodedTx),{},{metadataRpc:yield getMetadataRpc(this.networkId,this.backgroundApi)}),fakeSignature.toString('hex'));return{encodedTx:bufferUtils.toBuffer(tx).toString('base64')};});function buildEstimateFeeParams(_x14){return _buildEstimateFeeParams.apply(this,arguments);}return buildEstimateFeeParams;}();_proto.validateSendAmount=function(){var _validateSendAmount=_asyncToGenerator(function*({to,amount}){void getRegistry({networkId:this.networkId},this.backgroundApi);if(_isNil(amount)||_isEmpty(amount)||_isEmpty(to)){return true;}var network=yield this.getNetwork();var sendAmount=new BigNumber(amount).shiftedBy(network.decimals);var minAmount=yield getMinAmount(this.networkId,this.backgroundApi);var balance=yield this._getBalance(to);if(balance.plus(sendAmount).lt(minAmount)){throw new InvalidTransferValue({key:ETranslations.form_amount_recipient_activate,info:{amount:minAmount.shiftedBy(-network.decimals).toFixed(),unit:network.symbol}});}return true;});function validateSendAmount(_x15){return _validateSendAmount.apply(this,arguments);}return validateSendAmount;}();_proto.precheckUnsignedTx=function(){var _precheckUnsignedTx=_asyncToGenerator(function*(params){if(params.precheckTiming!==ESendPreCheckTimingEnum.Confirm){return true;}if(params.nativeAmountInfo?.maxSendAmount){return true;}var{unsignedTx,feeInfo}=params;var encodedTx=unsignedTx.encodedTx;var decodedUnsignedTx=yield this._decodeUnsignedTx(encodedTx);var actionType=getTransactionTypeFromTxInfo(decodedUnsignedTx);if(actionType===EDecodedTxActionType.ASSET_TRANSFER){var _feeInfo$gas$gasLimit2,_feeInfo$gas$gasPrice2,_feeInfo$common$baseF,_feeInfo$common$feeDe;var args=decodedUnsignedTx.method.args;var toAddress=yield this._getAddressByTxArgs(args);if(toAddress===encodedTx.address){return true;}var minAmount=yield getMinAmount(this.networkId,this.backgroundApi);var balance=!params.nativeAmountInfo?.maxSendAmount?yield this._getBalance(encodedTx.address):new BigNumber(0);var tokenAmount=new BigNumber(args.value);var gasLimit=new BigNumber((_feeInfo$gas$gasLimit2=feeInfo?.gas?.gasLimit)!=null?_feeInfo$gas$gasLimit2:'0');var gasPrice=new BigNumber((_feeInfo$gas$gasPrice2=feeInfo?.gas?.gasPrice)!=null?_feeInfo$gas$gasPrice2:'0');var fee=gasLimit.times(gasPrice).plus(new BigNumber((_feeInfo$common$baseF=feeInfo?.common.baseFee)!=null?_feeInfo$common$baseF:'0')).shiftedBy((_feeInfo$common$feeDe=feeInfo?.common.feeDecimals)!=null?_feeInfo$common$feeDe:0);var leftAmount=balance.minus(tokenAmount).minus(fee);if(leftAmount.lt(minAmount)&&leftAmount.gt(0)){var network=yield this.getNetwork();throw new BalanceLowerMinimum({info:{amount:minAmount.shiftedBy(-network.decimals).toFixed(),symbol:network.symbol}});}}return true;});function precheckUnsignedTx(_x16){return _precheckUnsignedTx.apply(this,arguments);}return precheckUnsignedTx;}();_proto.getCustomRpcEndpointStatus=function(){var _getCustomRpcEndpointStatus=_asyncToGenerator(function*(params){var client=new HttpProvider(params.rpcUrl);var start=performance.now();var header=yield client.send('chain_getHeader',[]);var responseTime=Math.floor(performance.now()-start);return{responseTime,bestBlockNumber:hexToNumber(header.number)};});function getCustomRpcEndpointStatus(_x17){return _getCustomRpcEndpointStatus.apply(this,arguments);}return getCustomRpcEndpointStatus;}();_proto.broadcastTransactionFromCustomRpc=function(){var _broadcastTransactionFromCustomRpc=_asyncToGenerator(function*(params){var{customRpcInfo,signedTx}=params;var rpcUrl=customRpcInfo.rpc;if(!rpcUrl){throw new OneKeyInternalError('Invalid rpc url');}var provider=new HttpProvider(rpcUrl);var client=yield ApiPromise.create({provider,initWasm:false});var txHash=yield client.rpc.author.submitExtrinsic(signedTx.rawTx);var txId=txHash.toHex();return _objectSpread(_objectSpread({},params.signedTx),{},{txid:txId});});function broadcastTransactionFromCustomRpc(_x18){return _broadcastTransactionFromCustomRpc.apply(this,arguments);}return broadcastTransactionFromCustomRpc;}();return _createClass(VaultDot);}(VaultBase);export{VaultDot as default};","export var EVaultKeyringTypes=function(EVaultKeyringTypes){EVaultKeyringTypes[\"hd\"]=\"hd\";EVaultKeyringTypes[\"qr\"]=\"qr\";EVaultKeyringTypes[\"hardware\"]=\"hardware\";EVaultKeyringTypes[\"imported\"]=\"imported\";EVaultKeyringTypes[\"watching\"]=\"watching\";EVaultKeyringTypes[\"external\"]=\"external\";return EVaultKeyringTypes;}({});export var EWrappedType=function(EWrappedType){EWrappedType[\"DEPOSIT\"]=\"deposit\";EWrappedType[\"WITHDRAW\"]=\"withdraw\";return EWrappedType;}({});"],"names":["ownKeys","e","r","t","Object","keys","getOwnPropertySymbols","o","filter","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","arguments","length","forEach","getOwnPropertyDescriptors","defineProperties","defineProperty","serializeMessage","_x","_serializeMessage","this","message","encoded","Buffer","from","serializeUnsignedTransaction","_x2","_serializeUnsignedTransaction","encodedTx","_encodedTx$specName","_encodedTx$chainName","metadataRpc","registry","getRegistry","specName","specVersion","hexToDecimal","toString","chainName","setMetadata","createMetadata","signingPayload","construct","u8a","createType","version","EXTRINSIC_VERSION","toU8a","method","hash","rawTx","serializeSignedTransaction","_x3","_x4","_serializeSignedTransaction","signature","_encodedTx$specName2","_encodedTx$chainName2","signedTx","addHexPrefix","DOT_TYPE_PREFIX","ecdsa","Uint8Array","ed25519","ethereum","sr25519","slicePathTemplate","template","getUtxoAccountPrefixPath","fullPath","pathComponent","split","pop","join","getBIP44Path","account","address","realPath","key","value","entries","addresses","path","estimateTxSize","inputsForCoinSelect","outputsForCoinSelect","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","result","Super","NewTarget","constructor","Reflect","Boolean","prototype","valueOf","call","KeyringBase","_VaultContext","_super","vault","_this","options","networkId","Error","_basePrepareHdNormalAccounts","_basePrepareHdUtxoAccounts","_batchGetAddresses","_exportAccountSecretKeys","_buildHwAllNetworkPrepareAccountsParams","_proto","isKeyringImported","keyringType","imported","isKeyringHd","hd","isKeyringHardware","hardware","isKeyringWatching","watching","basePrepareHdNormalAccounts","params","walletId","names","deriveInfo","indexes","coinType","namePrefix","idSuffix","settings","getVaultSettings","accountType","buildAddressesInfo","usedIndexes","addressInfos","ret","idx","publicKey","relPath","VARIANT","pathIndex","name","buildHDAccountName","id","buildHDAccountId","indexedAccountId","buildIndexedAccountId","index","type","impl","pub","basePrepareHdUtxoAccounts","skipCheckAccountExist","UTXO","checkIsAccountUsed","accountCreatePerf","utxoBuildAddressesInfo","addressesInfo","utxoBuildAddressesInfoDone","buildDBUtxoAccounts","xpub","xpubSegwit","prefix","isLast","isUsed","wait","buildDBUtxoAccountsDone","batchGetAddresses","_x5","exportAccountSecretKeys","_x6","buildHwAllNetworkPrepareAccountsParams","_x7","buildPrepareAccountsPrefixedPath","_KeyringBase","KeyringBaseMock","_super2","KeyringExternalBase","args","external","_baseSignMessageByExternalWallet","_baseSendTransactionByExternalWallet","_basePrepareExternalAccounts","baseSignMessageByExternalWallet","backgroundApi","serviceDappSide","signMessage","getAccount","baseSendTransactionByExternalWallet","sendTransaction","prepareAccounts","basePrepareExternalAccounts","KeyringHardwareBase","_getHardwareSDKInstance","_baseGetDeviceAccountData","_baseGetDeviceAccountPublicKeys","_baseGetDeviceAccountAddresses","_getAllNetworkPrepareAccounts","getHardwareSDKInstance","_ref","$backgroundApiProxy","serviceHardware","getSDKInstance","getHardwareSDKInstanceDone","baseGetDeviceAccountData","sdkGetDataFn","errorMessage","deviceParams","dbDevice","confirmOnDevice","connectId","deviceId","coinName","pathPrefix","pathSuffix","showOnOnekeyFn","arrIndex","EveryItem","LastItem","baseGetDeviceAccountPublicKeys","sdkGetPublicKeysFn","baseGetDeviceAccountAddresses","sdkGetAddressFn","getAllNetworkPrepareAccounts","hwSdkNetwork","buildPath","buildResultAccount","hwAllNetworkPrepareAccountsResponse","resultAccounts","_loop","find","item","network","success","payload","hasErrorItem","error","indexOf","KeyringHdBase","_KeyringSoftwareBase","KeyringImportedBase","KeyringSoftwareBase","_baseGetCredentialsInfo","_baseSignTransactionBtc","_baseSignTransaction","_baseSignMessage","_baseSignMessageBtc","_basePrepareAccountsImported","_basePrepareAccountsImportedUtxo","_basePrepareAccountsHd","_basePrepareAccountsHdUtxo","_baseExportAccountSecretKeys","_baseGetPrivateKeys","baseGetCredentialsInfo","password","getCredential","credential","accountId","baseSignTransactionBtc","coreApi","unsignedTx","signOnly","credentials","networkInfo","getCoreApiNetworkInfo","btcExtraInfo","relPaths","prepareBtcSignExtraInfo","signTransaction","baseSignTransaction","baseSignMessage","messages","Promise","all","map","msg","unsignedMsg","baseSignMessageBtc","_this2","unsignedMessage","basePrepareAccountsImported","importedCredential","networks","createAtNetwork","privateKey","onlyAvailableOnCertainNetworks","coinTypeDefault","privateKeyRaw","getAddressFromPrivate","addressEncoding","addressUsed","buildImportedAccountId","resolve","undefined","basePrepareAccountsImportedUtxo","_x8","basePrepareAccountsHd","_ref2","_this3","getAddressesFromHd","hdCredential","_x10","_x9","basePrepareAccountsHdUtxo","_ref3","_this4","getCredentialsInfo","getAddressesFromHdDone","_x13","_x11","_x12","baseExportAccountSecretKeys","keyType","serviceNetwork","getDeriveTypeByTemplate","getExportedSecretKey","_x14","baseGetPrivateKeys","getPrivateKeys","_x15","KeyringWatchingBase","_signTransaction","_signMessage","_basePrepareUtxoWatchingAccounts","_basePrepareSimpleWatchingAccounts","a","intl","formatMessage","ETranslations","wallet_error_trade_with_watched_acocunt","basePrepareUtxoWatchingAccounts","isUrlAccount","buildWatchingAccountId","addressFromXpub","getAddressFromPublic","basePrepareSimpleWatchingAccounts","SIMPLE","_excluded","_excluded2","VaultBase","_VaultBaseChainOnly","uuid","mutexBuildOnChainHistoryTxGetDBAccount","_init","_initKeyring","_broadcastTransaction","_broadcastTransactionFromCustomRpc","_validateSendAmount","_buildOnChainHistoryTxExtraInfo","_precheckUnsignedTx","_buildEstimateFeeParams","_buildParseTransactionParams","_buildFetchHistoryListParams","_buildHistoryTx","_buildOnChainHistoryTx","_buildHistoryTxAction","_buildHistoryTxFunctionCallAction","_buildHistoryTxUnknownAction","_buildHistoryTransferAction","_buildTxTransferAssetAction","_buildInternalSwapAction","_buildInternalStakingAction","_getAccount","_getAccountAddress","_getAccountPath","_getAccountXpub","_fillTokensDetails","_fillAccountDetails","_isEarliestLocalPendingTx","_buildReplaceEncodedTx","_attachFeeInfoToDAppEncodedTx","_activateToken","_getAddressType","_fetchAccountDetails","_fetchAccountDetailsByApi","_fetchAccountDetailsByRpc","_fetchTokenList","_fetchTokenListByApi","_fetchTokenListByRpc","_estimateFee","_estimateFeeByApi","_estimateFeeByRpc","_fetchAccountHistoryDetail","_fetchAccountHistoryDetailByApi","_fetchAccountHistoryDetailByRpc","_buildOkxSwapEncodedTx","_proto2","init","config","initKeyring","_x16","isChainOnly","keyring","keyringCreator","_x17","broadcastTransaction","txid","serviceSend","_x18","broadcastTransactionFromCustomRpc","_x19","validateSendAmount","_x20","buildOnChainHistoryTxExtraInfo","onChainHistoryTx","_x21","precheckUnsignedTx","_x22","buildEstimateFeeParams","_x23","buildParseTransactionParams","_x24","buildFetchHistoryListParams","_x25","buildHistoryTx","historyTxToMerge","decodedTx","isSigner","isLocalCreated","dbAccount","accountAddress","x","serviceAccount","getAccountAddressForApi","getAccountXpub","owner","signer","historyTx","buildLocalHistoryId","_x26","fixOnChainHistoryAccountData","originAccountId","originNetworkId","originAccountAddress","originXpub","allNetworkHistoryExtraItems","onekeyall","allNetworkAccount","i","_","txXpub","accountXpub","buildOnChainHistoryTx","tokens","nfts","dbAccountCache","runExclusive","getDBAccountSafe","vaultSettings","action","buildHistoryTxAction","tx","to","nonce","actions","status","totalFeeInNative","gasFee","totalFeeFiatValue","gasFeeFiatValue","nativeAmount","isUtxo","extraInfo","label","updatedAt","Date","timestamp","getTime","createdAt","isFinal","_x27","Approve","tokenApprove","buildHistoryTxApproveAction","sends","receives","buildHistoryTxFunctionCallAction","buildHistoryTxUnknownAction","buildHistoryTransferAction","_x28","getNetwork","FUNCTION_CALL","functionCall","functionName","functionHash","functionCode","_x29","UNKNOWN","unknownAction","_x30","ASSET_TRANSFER","assetTransfer","send","buildHistoryTransfer","transfer","receive","_x31","icon","symbol","isNFT","isNative","price","tokenAddress","token","tokenIdOnNetwork","amount","isOwn","decimals","TOKEN_APPROVE","spender","shiftedBy","toFixed","isInfiniteAmount","buildTxTransferAssetAction","transfers","data","application","isInternalSwap","isInternalStaking","internalStakingLabel","swapReceivedAddress","swapReceivedNetworkId","getAccountAddress","sendNativeTokenAmountBN","OUT","plus","nativeAmountValue","convertAmountToChainValue","_x32","buildInternalSwapAction","_swapSendToken$logoUR","_swapSendToken$name","_swapReceiveToken$log","_swapReceiveToken$nam","_providerInfo$provide","swapData","swapInfo","swapToAddress","swapSendToken","sender","swapReceiveToken","receiver","providerInfo","swapBuildResData","info","otherFeeInfos","fee","otherFeeInfoTransfers","contractAddress","logoURI","accountInfo","receivingAddress","feeInfo","_feeInfo$token$logoUR","_feeInfo$token$name","providerName","providerLogo","_x33","buildInternalStakingAction","_send$token$logoURI","_send$token$name","_receive$token$logoUR","_receive$token$name","stakingInfo","stakingData","stakingToAddress","protocol","protocolLogoURI","_x34","_params$signOnly","_signedTx$encodedTx","_x35","getDBAccount","isAccountCompatibleWithNetwork","slice","getNetworkInfo","externalAccount","externalAccountAddress","connectedAddresses","buildExternalAccountAddress","fallbackIndex","_externalAccount$sele","selectedAddress","getNetworkImpl","addressDetail","buildAccountAddressDetail","allowEmptyAddress","isValid","getAccountPath","networkAccount","getXpubFromAccount","fillTokensDetails","tokensDetails","_x36","fillAccountDetails","accountDetails","_x37","isEarliestLocalPendingTx","_x38","buildReplaceEncodedTx","replaceType","_x39","attachFeeInfoToDAppEncodedTx","_x40","activateToken","_x41","getAddressType","_x42","buildStakeEncodedTx","fetchAccountDetails","isCustomNetwork","fetchAccountDetailsByRpc","fetchAccountDetailsByApi","_x43","queryParams","client","serviceAccountProfile","getClient","Wallet","get","headers","_getWalletTypeHeader","signal","_x44","_x45","fetchTokenList","fetchTokenListByRpc","fetchTokenListByApi","_x46","serviceToken","requestApiParams","flag","contractList","contract","post","_x47","_x48","estimateFee","estimateFeeByRpc","estimateFeeByApi","_x49","rest","serviceGas","_x50","_x51","fetchAccountHistoryDetail","fetchAccountHistoryDetailByRpc","fetchAccountHistoryDetailByApi","_x52","_x53","_x54","buildOkxSwapEncodedTx","_x55","VaultBaseChainOnly","_getXpubFromAccount","_proxyJsonRPCCall","_addressFromBase","_addressToBase","_baseValidatePrivateKey","_baseValidateGeneralInput","_baseGetPrivateKeyFromImported","_validateAmountInputShown","_checkIsDomainName","_resolveDomainName","_getCustomRpcEndpointStatus","_checkFeeSupportInfo","_fetchTokenDetails","_fetchTokenDetailsByApi","_fetchTokenDetailsByRpc","proxyJsonRPCCall","request","addressFromBase","addressToBase","baseValidatePrivateKey","baseValidateGeneralInput","addressResult","xpubResult","xprvtResult","privateKeyResult","input","encodedText","validateAddress","validateXprvt","validateXpub","validatePrivateKey","inputDecoded","baseGetPrivateKeyFromImported","stripHexPrefix","text","validateAmountInputShown","toAddress","checkIsDomainName","resolveDomainName","getCustomRpcEndpointStatus","checkFeeSupportInfo","fetchTokenDetails","fetchTokenDetailsByRpc","fetchTokenDetailsByApi","_params$signal","VaultContext","getWalletIdFromAccountId","_getNetworkId","_getNetwork","_getNetworkChainId","_getNetworkImpl","_getVaultSettings2","_getNetworkInfo","_getCoreApiNetworkInfo","_getRpcUrl","_destroy","getNetworkId","cached","_network","getNetworkChainId","hex","addressPrefix","curve","networkImpl","chainId","isTestnet","networkChainCode","code","getRpcUrl","destroy","_ref4","_ref5","_ref6","KeyringExternal","_KeyringExternalBase","getTransactionTypeFromTxInfo","module","formatFunc","methodName","pallet","replace","toLowerCase","getMetadataRpc","res","sendProxyRequest","body","route","maxAge","timerUtils","getTimeDurationMs","minute","promise","normalizer","getRuntimeVersion","getGenesisHash","metadataRpcHex","numberUtils","hexUtils","getMinAmount","minAmountStr","getBlockInfo","blockHash","block","blockNumber","header","number","seconds","KeyringHardware","_KeyringHardwareBase","coreChainApi","dot","_prepareAccounts","showOnOneKey","list","allNetworkAccounts","p","accountUtils","buildPathFromTemplate","addressInfo","encode","bufferUtils","hexToBytes","sdk","deviceCommonParams","polkadotSignTransaction","bytesToHex","txSignature","KeyringHd","_KeyringHdBase","_getPrivateKeys","rawTxUnsigned","KeyringImported","_KeyringImportedBase","KeyringWatching","_KeyringWatchingBase","VaultDot","_VaultBase","keyringMap","qr","hw","_getBalance","_account$balance","fetchAccountInfo","withNetWorth","balance","_buildAccountAddressDetail","_getTxBaseInfo2","_buildEncodedTx","_decodeUnsignedTx2","_getAddressByTxArgs2","_buildDecodedTx","_buildUnsignedTx","_updateUnsignedTx","_validateAddress","_validateXpub","_validateXprvt","_validateGeneralInput","baseAddress","pubKeyBytes","normalizedAddress","displayAddress","_getTxBaseInfo","transactionVersion","genesisHash","buildEncodedTx","transfersInfo","amountValue","tokenInfo","keepAlive","toAccountId","decode","toAccount","unsigned","txBaseInfo","eraPeriod","tip","option","methods","assets","transferKeepAlive","parseInt","target","balances","dest","transferAllowDeath","_decodeUnsignedTx","_getAddressByTxArgs","buildDecodedTx","decodeUnsignedTx","_networkInfo$nativeTo","assetId","assetIdInst","isEmpty","toHex","getToken","nativeTokenAddress","_tokenInfo$logoURI","tokenAmount","_params$transferPaylo","_feeInfo$gas$gasLimit","_feeInfo$gas$gasPrice","transferPayload","amountToSend","gas","gasLimit","times","gasPrice","common","feeDecimals","minus","_tokenAmount$toString","transferAction","direction","OTHER","Pending","buildUnsignedTx","_params$encodedTx","updateUnsignedTx","_params$feeInfo$feeDo","_params$feeInfo$commo","nativeAmountInfo","nonceInfo","hexlify","hexPad","extraTip","feeDot","extraTipInDot","_decodeUnsignedTx$non","_nativeAmountInfo$max","maxSendAmount","transferAll","isFromDapp","blockInfo","era","current","period","numberToHex","check","getPrivateKeyFromImported","xprvt","validateGeneralInput","fakeSignature","concat","alloc","fill","toBuffer","sendAmount","minAmount","lt","form_amount_recipient_activate","unit","precheckTiming","E","Confirm","decodedUnsignedTx","_feeInfo$gas$gasLimit2","_feeInfo$gas$gasPrice2","_feeInfo$common$baseF","_feeInfo$common$feeDe","baseFee","leftAmount","gt","rpcUrl","start","performance","now","responseTime","Math","floor","bestBlockNumber","customRpcInfo","rpc","provider","Api","create","initWasm","txId","author","submitExtrinsic","EVaultKeyringTypes","EWrappedType"],"sourceRoot":""}