!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="c6d6dfcf-f5a3-47b4-9966-59cdbe37650c",e._sentryDebugIdIdentifier="sentry-dbid-c6d6dfcf-f5a3-47b4-9966-59cdbe37650c")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"5.5.0 (2024121652)"},(self.webpackChunkweb=self.webpackChunkweb||[]).push([[60576],{326745:(e,t,o)=>{o.d(t,{u:()=>useAppRoute});var r=o(654266);function useAppRoute(){return(0,r.lq)()}},138584:(e,t,o)=>{o.d(t,{Py:()=>SimpleSpinnerSkeleton,am:()=>isLoadingState,bU:()=>PageFrame,o0:()=>isErrorState});var r=o(908867),n=o(490343),a=o(791088),s=o(334439),i=o(831085),PageErrOccurred=function({onPress:e}){var t=(0,r.A)();return(0,i.jsx)(n.Empty,{pt:"$32",icon:"ErrorOutline",title:t.formatMessage({id:s.ETranslations.global_an_error_occurred}),description:t.formatMessage({id:s.ETranslations.global_an_error_occurred_desc}),buttonProps:{onPress:e,children:t.formatMessage({id:s.ETranslations.global_refresh})},"data-sentry-element":"Empty","data-sentry-component":"PageErrOccurred","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/components/PageFrame/index.tsx"})},SimpleSpinnerSkeleton=function(){return(0,i.jsxs)(n.Stack,{"data-sentry-element":"Stack","data-sentry-component":"SimpleSpinnerSkeleton","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/components/PageFrame/index.tsx",children:[(0,i.jsx)(n.Stack,{px:"$5",py:"$2","data-sentry-element":"Stack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/components/PageFrame/index.tsx",children:(0,i.jsx)(n.Skeleton.HeadingSm,{"data-sentry-element":"unknown","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/components/PageFrame/index.tsx"})}),Array.from({length:3}).map((function(e,t){return(0,i.jsxs)(a.c,{children:[(0,i.jsx)(n.Skeleton,{h:"$10",w:"$10",radius:"round"}),(0,i.jsxs)(n.Stack,{children:[(0,i.jsx)(n.Skeleton.BodyLg,{}),(0,i.jsx)(n.Skeleton.BodyMd,{})]})]},t)}))]})},isLoadingState=function({result:e,isLoading:t}){return Boolean(void 0===e&&(void 0===t||!0===t))},isErrorState=function({result:e,isLoading:t}){return Boolean(void 0===e&&!1===t)},PageFrame=function({children:e,loading:t,LoadingSkeleton:o,error:r,onRefresh:n}){return t?o?(0,i.jsx)(o,{}):null:r?(0,i.jsx)(PageErrOccurred,{onPress:n}):(0,i.jsx)(i.Fragment,{children:e})}},960576:(e,t,o)=>{o.r(t),o.d(t,{default:()=>h});var r=o(514041),n=o(241440),a=o(908867),s=o(490343),i=o(643087),c=o(791088),d=o(391944),l=o(498356),p=o(326745),u=o(911998),k=o(153763),g=o(471169),m=o(334439),x=o(296827),y=o(193068),f=o(138584),S=o(905817),w=o(831085),AssetProtocolContent=function({providerTypes:e}){var t=(0,a.A)(),o=!0,r=!0;return e&&e.length>0&&(o=e.includes("native"),r=e.includes("liquid")),(0,w.jsx)(s.YStack,{flex:1,"data-sentry-element":"YStack","data-sentry-component":"AssetProtocolContent","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/pages/AssetProtocolList/AssetProtocolIntro.tsx",children:(0,w.jsx)(s.ScrollView,{maxHeight:560,"data-sentry-element":"ScrollView","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/pages/AssetProtocolList/AssetProtocolIntro.tsx",children:(0,w.jsx)(s.YStack,{"data-sentry-element":"YStack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/pages/AssetProtocolList/AssetProtocolIntro.tsx",children:(0,w.jsx)(s.Stack,{"data-sentry-element":"Stack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/pages/AssetProtocolList/AssetProtocolIntro.tsx",children:(0,w.jsxs)(s.YStack,{gap:"$5","data-sentry-element":"YStack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/pages/AssetProtocolList/AssetProtocolIntro.tsx",children:[o?(0,w.jsxs)(s.YStack,{gap:6,children:[(0,w.jsx)(s.SizableText,{size:"$bodyLgMedium",children:t.formatMessage({id:m.ETranslations.earn_what_is_native_staking})}),(0,w.jsx)(s.SizableText,{size:"$bodyMd",color:"$textSubdued",children:t.formatMessage({id:m.ETranslations.earn_what_is_native_staking_desc})})]}):null,r?(0,w.jsxs)(s.YStack,{gap:6,children:[(0,w.jsx)(s.SizableText,{size:"$bodyLgMedium",children:t.formatMessage({id:m.ETranslations.earn_what_is_liquid_staking})}),(0,w.jsx)(s.SizableText,{size:"$bodyMd",color:"$textSubdued",children:t.formatMessage({id:m.ETranslations.earn_what_is_liquid_staking_desc})})]}):null]})})})})})};function StakeTypeBadge({stakeType:e,label:t}){var{bg:o,color:r}=function(e){switch(e){case"liquid":return{bg:"$purple3",color:"$purple11"};case"locked":return{bg:"$pink3",color:"$pink11"};default:return{bg:"$blue3",color:"$blue11"}}}(e);return(0,w.jsx)(s.Stack,{backgroundColor:o,borderRadius:"$1",borderCurve:"continuous",px:"$2",py:"$0.5",my:"$0.5","data-sentry-element":"Stack","data-sentry-component":"StakeTypeBadge","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/pages/AssetProtocolList/index.tsx",children:(0,w.jsx)(s.SizableText,{size:"$bodySmMedium",color:r,"data-sentry-element":"SizableText","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/pages/AssetProtocolList/index.tsx",children:t})})}function AssetProtocolIntroButton({providerTypes:e}){var t=(0,a.A)(),o=(0,r.useCallback)((function(){s.Dialog.show({icon:"InfoCircleOutline",title:t.formatMessage({id:m.ETranslations.earn_staking_methods}),renderContent:(0,w.jsx)(AssetProtocolContent,{providerTypes:e}),showConfirmButton:!1,onCancelText:t.formatMessage({id:m.ETranslations.global_got_it})})}),[t,e]);return e&&e.length>0?(0,w.jsx)(s.IconButton,{icon:"InfoCircleOutline",variant:"tertiary",onPress:o}):null}function ProviderTypeBadge({type:e}){var t=(0,a.A)();if(!e)return null;var o="native"===e?"locked":"liquid",r="native"===e?t.formatMessage({id:m.ETranslations.earn_native_staking}):t.formatMessage({id:m.ETranslations.earn_liquid_staking});return(0,w.jsx)(StakeTypeBadge,{stakeType:o,label:r,"data-sentry-element":"StakeTypeBadge","data-sentry-component":"ProviderTypeBadge","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/pages/AssetProtocolList/index.tsx"})}function AssetProtocolListContent({items:e}){var t=(0,p.u)(),o=(0,a.A)(),{accountId:i,indexedAccountId:u,symbol:k}=t.params,f=(0,l.A)(),h=(0,r.useCallback)((function({item:e}){x.U.staking.page.selectProvider({network:e.network.networkId,stakeProvider:e.provider.name}),f.navigate(y.Ax.ProtocolDetails,{accountId:i,networkId:e.network.networkId,indexedAccountId:u,symbol:k.toUpperCase(),provider:e.provider.name})}),[f,i,u,k]),[{currencyInfo:{symbol:b}}]=(0,g.useSettingsPersistAtom)();return(0,w.jsx)(s.ListView,{estimatedItemSize:60,data:e,renderItem:function({item:e}){var t,r;return(0,w.jsxs)(c.c,{userSelect:"none",onPress:function(){return h?.({item:e})},children:[(0,w.jsx)(d.o,{size:"lg",borderRadius:"$2",tokenImageUri:e.provider.logoURI,networkImageUri:e.network.logoURI}),(0,w.jsx)(c.c.Text,{flex:1,primary:(0,w.jsxs)(s.XStack,{gap:"$1.5",ai:"center",children:[(0,w.jsx)(s.SizableText,{children:(0,S.c)(e.provider.name)}),(0,w.jsx)(ProviderTypeBadge,{type:e.provider.type})]}),secondary:`TVL ${b}${r=Number(e.provider.totalFiatValue),r>=1e9?`${(r/1e9).toFixed(1).replace(/\.0$/,"")}B`:r>=1e6?`${(r/1e6).toFixed(1).replace(/\.0$/,"")}M`:r>=1e3?`${(r/1e3).toFixed(1).replace(/\.0$/,"")}K`:r.toFixed(2)}`,secondaryTextProps:{color:"$textSubdued",size:"$bodyMd"}}),(0,w.jsx)(c.c.Text,{align:"right",primary:Number(e.provider.apr)>0?`${(0,n.A)(null!=(t=e.provider.apr)?t:0).toFixed(2)}% APR`:null,secondary:e.provider.isStaking?o.formatMessage({id:m.ETranslations.earn_currently_staking}):void 0,secondaryTextProps:{color:"$textInfo",size:"$bodyMd"}})]})},"data-sentry-element":"ListView","data-sentry-component":"AssetProtocolListContent","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/pages/AssetProtocolList/index.tsx"})}function LoadingSkeleton(){return(0,w.jsx)(s.Stack,{"data-sentry-element":"Stack","data-sentry-component":"LoadingSkeleton","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/pages/AssetProtocolList/index.tsx",children:Array.from({length:3}).map((function(e,t){return(0,w.jsxs)(c.c,{children:[(0,w.jsx)(s.Skeleton,{w:"$10",h:"$10",borderRadius:"$2"}),(0,w.jsxs)(s.YStack,{children:[(0,w.jsx)(s.YStack,{py:"$1",children:(0,w.jsx)(s.Skeleton,{h:"$4",w:120,borderRadius:"$2"})}),(0,w.jsx)(s.YStack,{py:"$1",children:(0,w.jsx)(s.Skeleton,{h:"$3",w:80,borderRadius:"$2"})})]})]},t)}))})}const h=function AssetProtocolList(){var e=(0,p.u)(),{filter:t,symbol:o,networkId:n,accountId:c,indexedAccountId:d}=e.params,{result:l,isLoading:g,run:x}=(0,u.yk)((function(){return i.A.serviceStaking.getProtocolList({symbol:o,accountId:c,indexedAccountId:d,networkId:n,filter:t})}),[t,o,n,c,d],{watchLoading:!0}),y=(0,a.A)(),S=(0,r.useCallback)((function(){return(0,w.jsx)(AssetProtocolIntroButton,{providerTypes:l?.map((function(e){return e.provider.type})).filter(Boolean)})}),[l]),h=(0,k.E)();return(0,r.useEffect)((function(){h&&x()}),[h,x]),(0,w.jsxs)(s.Page,{scrollEnabled:!0,"data-sentry-element":"Page","data-sentry-component":"AssetProtocolList","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/pages/AssetProtocolList/index.tsx",children:[(0,w.jsx)(s.Page.Header,{title:y.formatMessage({id:o?m.ETranslations.earn_symbol_staking_provider:m.ETranslations.provider_title},{symbol:o.toUpperCase()}),headerRight:S,"data-sentry-element":"unknown","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/pages/AssetProtocolList/index.tsx"}),(0,w.jsx)(s.Page.Body,{"data-sentry-element":"unknown","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/pages/AssetProtocolList/index.tsx",children:(0,w.jsx)(f.bU,{LoadingSkeleton,loading:(0,f.am)({result:l,isLoading:g}),error:(0,f.o0)({result:l,isLoading:g}),onRefresh:x,"data-sentry-element":"PageFrame","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/pages/AssetProtocolList/index.tsx",children:(0,w.jsx)(s.Stack,{"data-sentry-element":"Stack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/pages/AssetProtocolList/index.tsx",children:l?(0,w.jsx)(AssetProtocolListContent,{items:l}):null})})})]})}},905817:(e,t,o)=>{o.d(t,{FZ:()=>countDecimalPlaces,Y:()=>buildLocalTxStatusSyncId,c:()=>capitalizeString});var r=o(241440),buildLocalTxStatusSyncId=function(e){return`${e.provider.name.toLowerCase()}-${e.token.info.symbol.toLowerCase()}`};function capitalizeString(e){return e?e.charAt(0).toUpperCase()+e.slice(1):e}function countDecimalPlaces(e){var t="string"==typeof e?Number(e):e;if(Number.isNaN(t))return 0;var o="string"==typeof e?e:(0,r.A)(e).toFixed(),n=o.indexOf(".");return-1===n?0:o.length-n-1}}}]);
//# sourceMappingURL=60576.63c8086848.chunk.js.map