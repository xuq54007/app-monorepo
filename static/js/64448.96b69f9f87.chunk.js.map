{"version":3,"file":"static/js/64448.96b69f9f87.chunk.js","mappings":"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","sources":["webpack://web/../../packages/kit/src/hooks/useFormatDate.ts","webpack://web/../../packages/kit/src/views/Swap/components/SwapTxHistoryListCell.tsx","webpack://web/../../packages/kit/src/views/Swap/pages/modal/SwapHistoryListModal.tsx","webpack://web/../../node_modules/date-fns/esm/formatDuration/index.js"],"sourcesContent":["import{useCallback,useMemo}from'react';import{format as fnsFormat,formatDistanceStrict as fnsFormatDistanceStrict,formatDistanceToNow as fnsFormatDistanceToNow,formatDuration as fnsFormatDuration,parseISO}from'date-fns';import{parseToDateFnsLocale}from'@onekeyhq/shared/src/utils/dateUtils';import{useLocaleVariant}from\"./useLocaleVariant\";export default function useFormatDate(){var locale=useLocaleVariant();var format=useCallback(function(date,_format){var parsedDate;if(typeof date==='string'){parsedDate=parseISO(date);}else{parsedDate=date;}try{return fnsFormat(parsedDate,_format!=null?_format:'PPp',{locale:parseToDateFnsLocale(locale)});}catch(error){return'-';}},[locale]);var formatDate=useCallback(function(date,options){var _format2;var parsedDate;if(typeof date==='string'){parsedDate=parseISO(date);}else{parsedDate=date;}var currentYear=new Date().getFullYear();var currentMonth=new Date().getMonth();var formatTemplate='yyyy/LL/dd, HH:mm';if(['de','es','en-US','fr-FR','it-IT','uk-UA'].includes(locale)){formatTemplate='LL/dd/yyyy, HH:mm';}if(currentYear===parsedDate.getFullYear()&&options?.hideTheYear||options?.hideYear){formatTemplate=formatTemplate.replace('yyyy/','');formatTemplate=formatTemplate.replace('/yyyy','');}if(currentMonth===parsedDate.getMonth()&&options?.hideTheMonth||options?.hideMonth){formatTemplate=formatTemplate.replace('LL/','');}if(options?.hideTimeForever){formatTemplate=formatTemplate.replace(', HH:mm','');}if(options?.onlyTime){formatTemplate='HH:mm';}return(_format2=format(parsedDate,formatTemplate))!=null?_format2:'';},[format,locale]);var formatMonth=useCallback(function(date,options){var _format4;var parsedDate;if(typeof date==='string'){parsedDate=parseISO(date);}else{parsedDate=date;}var currentYear=new Date().getFullYear();if(currentYear===parsedDate.getFullYear()&&options?.hideTheYear||options?.hideYear){var _format3;return(_format3=format(parsedDate,'MMMM'))!=null?_format3:'';}return(_format4=format(parsedDate,'MMMM, yyyy'))!=null?_format4:'';},[format]);var formatDistanceStrict=useCallback(function(date,baseDate){var _fnsFormatDistanceStr;return(_fnsFormatDistanceStr=fnsFormatDistanceStrict(date,baseDate,{locale:parseToDateFnsLocale(locale)}))!=null?_fnsFormatDistanceStr:'';},[locale]);var formatDistanceToNow=useCallback(function(date){var _fnsFormatDistanceToN;return(_fnsFormatDistanceToN=fnsFormatDistanceToNow(date,{addSuffix:true,locale:parseToDateFnsLocale(locale)}))!=null?_fnsFormatDistanceToN:'';},[locale]);var formatDuration=useCallback(function(duration){var _fnsFormatDuration;return(_fnsFormatDuration=fnsFormatDuration(duration,{locale:parseToDateFnsLocale(locale)}))!=null?_fnsFormatDuration:'';},[locale]);return useMemo(function(){return{format,formatDate,formatMonth,formatDistanceToNow,formatDuration,formatDistanceStrict};},[format,formatDate,formatMonth,formatDistanceToNow,formatDuration,formatDistanceStrict]);}","import{useMemo}from'react';import BigNumber from'bignumber.js';import{useIntl}from'react-intl';import{Badge,Icon,NumberSizeableText,SizableText,Stack,XStack}from'@onekeyhq/components';import{ETranslations}from'@onekeyhq/shared/src/locale';import{equalTokenNoCaseSensitive}from'@onekeyhq/shared/src/utils/tokenUtils';import{ESwapTxHistoryStatus}from'@onekeyhq/shared/types/swap/types';import{ListItem}from\"../../../components/ListItem\";import{Token}from\"../../../components/Token\";import useFormatDate from\"../../../hooks/useFormatDate\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SwapTxHistoryAvatar=function({fromUri,toUri}){return _jsxs(Stack,{w:\"$10\",h:\"$10\",alignItems:\"flex-end\",justifyContent:\"flex-end\",\"data-sentry-element\":\"Stack\",\"data-sentry-component\":\"SwapTxHistoryAvatar\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/components/SwapTxHistoryListCell.tsx\",children:[_jsx(Stack,{position:\"absolute\",left:\"$0\",top:\"$0\",\"data-sentry-element\":\"Stack\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/components/SwapTxHistoryListCell.tsx\",children:_jsx(Token,{size:\"sm\",tokenImageUri:fromUri,\"data-sentry-element\":\"Token\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/components/SwapTxHistoryListCell.tsx\"})}),_jsx(Stack,{borderWidth:2,borderColor:\"$bgApp\",borderRadius:\"$full\",zIndex:1,\"data-sentry-element\":\"Stack\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/components/SwapTxHistoryListCell.tsx\",children:_jsx(Token,{size:\"sm\",tokenImageUri:toUri,\"data-sentry-element\":\"Token\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/components/SwapTxHistoryListCell.tsx\"})})]});};var SwapTxHistoryListCell=function({item,onClickCell}){var _item$baseInfo$fromTo,_item$baseInfo$toToke;var intl=useIntl();var{formatDate}=useFormatDate();var statusBadge=useMemo(function(){if(item.status===ESwapTxHistoryStatus.FAILED){return _jsx(Badge,{badgeType:\"critical\",badgeSize:\"lg\",children:intl.formatMessage({id:ETranslations.swap_history_status_failed})});}if(item.status===ESwapTxHistoryStatus.CANCELED){return _jsx(Badge,{badgeType:\"warning\",badgeSize:\"lg\",children:intl.formatMessage({id:ETranslations.swap_history_status_canceled})});}if(item.status===ESwapTxHistoryStatus.CANCELING){return _jsx(Badge,{badgeType:\"warning\",badgeSize:\"lg\",children:intl.formatMessage({id:ETranslations.swap_history_status_cancelling})});}return null;},[intl,item.status]);var subContent=useMemo(function(){var{created}=item.date;var dateStr=formatDate(new Date(created),{hideYear:true,onlyTime:item.status!==ESwapTxHistoryStatus.PENDING&&item.status!==ESwapTxHistoryStatus.CANCELING});return _jsxs(XStack,{gap:\"$2\",children:[_jsx(SizableText,{size:\"$bodyMd\",color:\"$textSubdued\",children:dateStr}),statusBadge]});},[formatDate,item.date,item.status,statusBadge]);var title=useMemo(function(){return _jsxs(XStack,{alignItems:\"center\",gap:\"$1\",flex:1,flexWrap:\"wrap\",children:[_jsx(SizableText,{size:\"$bodyLgMedium\",flexShrink:1,numberOfLines:1,children:item.baseInfo.fromToken.symbol.toUpperCase()}),_jsx(Icon,{name:\"ArrowRightOutline\",size:\"$5\",color:\"$iconSubdued\"}),_jsx(SizableText,{size:\"$bodyLgMedium\",flexShrink:1,numberOfLines:1,children:item.baseInfo.toToken.symbol.toUpperCase()})]});},[item.baseInfo.fromToken.symbol,item.baseInfo.toToken.symbol]);var fromTokenAmountFinal=useMemo(function(){var extraAmount=item.swapInfo.otherFeeInfos?.find(function(extraItem){return equalTokenNoCaseSensitive({token1:extraItem.token,token2:item.baseInfo.fromToken});})?.amount;return new BigNumber(item.baseInfo.fromAmount).plus(extraAmount!=null?extraAmount:0).toFixed();},[item.baseInfo.fromAmount,item.baseInfo.fromToken,item.swapInfo.otherFeeInfos]);return _jsxs(ListItem,{onPress:onClickCell,userSelect:\"none\",renderAvatar:_jsx(SwapTxHistoryAvatar,{fromUri:(_item$baseInfo$fromTo=item.baseInfo.fromToken.logoURI)!=null?_item$baseInfo$fromTo:'',toUri:(_item$baseInfo$toToke=item.baseInfo.toToken.logoURI)!=null?_item$baseInfo$toToke:''}),\"data-sentry-element\":\"ListItem\",\"data-sentry-component\":\"SwapTxHistoryListCell\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/components/SwapTxHistoryListCell.tsx\",children:[_jsx(ListItem.Text,{flex:1,primary:title,secondary:subContent,\"data-sentry-element\":\"unknown\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/components/SwapTxHistoryListCell.tsx\"}),_jsx(ListItem.Text,{align:\"right\",flexShrink:0,primary:_jsxs(SizableText,{color:\"$textSuccess\",textAlign:\"right\",children:[\"+\",_jsx(NumberSizeableText,{color:\"$textSuccess\",formatter:\"balance\",children:item.baseInfo.toAmount}),' ',_jsx(SizableText,{color:\"$textSuccess\",children:item.baseInfo.toToken.symbol.toUpperCase()})]}),primaryTextProps:{color:'$textSuccess'},secondary:_jsxs(SizableText,{textAlign:\"right\",size:\"$bodyMd\",color:\"$textSubdued\",children:[\"-\",_jsx(NumberSizeableText,{formatter:\"balance\",size:\"$bodyMd\",color:\"$textSubdued\",children:fromTokenAmountFinal}),' ',_jsx(SizableText,{size:\"$bodyMd\",color:\"$textSubdued\",children:item.baseInfo.fromToken.symbol.toUpperCase()})]}),\"data-sentry-element\":\"unknown\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/components/SwapTxHistoryListCell.tsx\"})]});};export default SwapTxHistoryListCell;","import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import{useCallback,useMemo}from'react';import{useIntl}from'react-intl';import{ActionList,Button,Dialog,Empty,Heading,Page,SectionList,Skeleton,Stack,XStack,YStack}from'@onekeyhq/components';import backgroundApiProxy from'@onekeyhq/kit/src/background/instance/backgroundApiProxy';import{ListItem}from'@onekeyhq/kit/src/components/ListItem';import useAppNavigation from'@onekeyhq/kit/src/hooks/useAppNavigation';import useFormatDate from'@onekeyhq/kit/src/hooks/useFormatDate';import{usePromiseResult}from'@onekeyhq/kit/src/hooks/usePromiseResult';import{useInAppNotificationAtom}from'@onekeyhq/kit-bg/src/states/jotai/atoms';import{ETranslations}from'@onekeyhq/shared/src/locale';import{EModalSwapRoutes}from'@onekeyhq/shared/src/routes/swap';import{ESwapTxHistoryStatus}from'@onekeyhq/shared/types/swap/types';import SwapTxHistoryListCell from\"../../components/SwapTxHistoryListCell\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SwapHistoryListModal=function(){var intl=useIntl();var[{swapHistoryPendingList}]=useInAppNotificationAtom();var{result:swapTxHistoryList,isLoading}=usePromiseResult(_asyncToGenerator(function*(){var histories=yield backgroundApiProxy.serviceSwap.fetchSwapHistoryListFromSimple();return histories;}),[swapHistoryPendingList],{watchLoading:true});var navigation=useAppNavigation();var{formatDate}=useFormatDate();var sectionData=useMemo(function(){var _swapTxHistoryList$fi,_swapTxHistoryList$fi2;var pendingData=(_swapTxHistoryList$fi=swapTxHistoryList?.filter(function(item){return item.status===ESwapTxHistoryStatus.PENDING||item.status===ESwapTxHistoryStatus.CANCELING;}))!=null?_swapTxHistoryList$fi:[];var otherData=(_swapTxHistoryList$fi2=swapTxHistoryList?.filter(function(item){return item.status!==ESwapTxHistoryStatus.PENDING&&item.status!==ESwapTxHistoryStatus.CANCELING;}))!=null?_swapTxHistoryList$fi2:[];var groupByDay=otherData.reduce(function(acc,item){var date=new Date(item.date.created);var monthDay=formatDate(date,{hideTimeForever:true,hideYear:true});if(!acc[monthDay]){acc[monthDay]=[];}acc[monthDay].push(item);return acc;},{});var result=Object.entries(groupByDay).map(function([title,data]){return{title,data};});if(pendingData.length>0){result=[{title:intl.formatMessage({id:ETranslations.swap_history_status_pending}),status:ESwapTxHistoryStatus.PENDING,data:pendingData},...result];}return result;},[formatDate,intl,swapTxHistoryList]);var onDeleteHistory=useCallback(function(){if(!swapTxHistoryList?.length)return;Dialog.show({icon:'BroomOutline',title:intl.formatMessage({id:ETranslations.swap_history_all_history_title}),onConfirm:function(){var _ref2=_asyncToGenerator(function*(){yield backgroundApiProxy.serviceSwap.cleanSwapHistoryItems();void backgroundApiProxy.serviceApp.showToast({method:'success',title:intl.formatMessage({id:ETranslations.settings_clear_successful})});});return function onConfirm(){return _ref2.apply(this,arguments);};}(),onConfirmText:intl.formatMessage({id:ETranslations.global_clear}),onCancelText:intl.formatMessage({id:ETranslations.global_cancel})});},[intl,swapTxHistoryList?.length]);var onDeletePendingHistory=useCallback(function(){if(!swapTxHistoryList?.some(function(item){return item.status===ESwapTxHistoryStatus.PENDING;}))return;Dialog.show({icon:'BroomOutline',description:intl.formatMessage({id:ETranslations.swap_history_pending_history_content}),title:intl.formatMessage({id:ETranslations.swap_history_pending_history_title}),onConfirm:function(){void backgroundApiProxy.serviceSwap.cleanSwapHistoryItems([ESwapTxHistoryStatus.PENDING]);},onConfirmText:intl.formatMessage({id:ETranslations.global_clear}),onCancelText:intl.formatMessage({id:ETranslations.global_cancel})});},[intl,swapTxHistoryList]);var deleteButton=useCallback(function(){return _jsx(ActionList,{title:intl.formatMessage({id:ETranslations.global_clear}),items:[{label:intl.formatMessage({id:ETranslations.swap_history_pending_history}),onPress:onDeletePendingHistory},{label:intl.formatMessage({id:ETranslations.swap_history_all_history}),onPress:onDeleteHistory}],renderTrigger:_jsx(Button,{variant:\"tertiary\",children:intl.formatMessage({id:ETranslations.global_clear})})});},[intl,onDeleteHistory,onDeletePendingHistory]);var renderItem=useCallback(function({item}){return _jsx(SwapTxHistoryListCell,{item:item,onClickCell:function(){navigation.push(EModalSwapRoutes.SwapHistoryDetail,{txHistory:item});}});},[navigation]);return _jsxs(Page,{\"data-sentry-element\":\"Page\",\"data-sentry-component\":\"SwapHistoryListModal\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/pages/modal/SwapHistoryListModal.tsx\",children:[_jsx(Page.Header,{headerRight:deleteButton,\"data-sentry-element\":\"unknown\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/pages/modal/SwapHistoryListModal.tsx\"}),isLoading?Array.from({length:5}).map(function(_,index){return _jsxs(ListItem,{children:[_jsx(Skeleton,{w:\"$10\",h:\"$10\",radius:\"round\"}),_jsxs(YStack,{children:[_jsx(YStack,{py:\"$1\",children:_jsx(Skeleton,{h:\"$4\",w:\"$32\"})}),_jsx(YStack,{py:\"$1\",children:_jsx(Skeleton,{h:\"$3\",w:\"$24\"})})]})]},index);}):_jsx(SectionList,{renderItem:renderItem,sections:sectionData,py:\"$1\",renderSectionHeader:function({section:{title,status}}){return _jsxs(XStack,{px:\"$5\",py:\"$2\",gap:\"$3\",alignItems:\"center\",children:[status===ESwapTxHistoryStatus.PENDING?_jsx(Stack,{w:\"$2\",h:\"$2\",backgroundColor:\"$textCaution\",borderRadius:\"$full\"}):null,_jsx(Heading,{size:\"$headingSm\",color:status===ESwapTxHistoryStatus.PENDING?'$textCaution':'$textSubdued',children:title})]});},estimatedItemSize:\"$10\",ListEmptyComponent:_jsx(Empty,{icon:\"InboxOutline\",title:intl.formatMessage({id:ETranslations.global_no_results})})})]});};export default SwapHistoryListModal;","import { getDefaultOptions } from \"../_lib/defaultOptions/index.js\";\nimport defaultLocale from \"../_lib/defaultLocale/index.js\";\nvar defaultFormat = ['years', 'months', 'weeks', 'days', 'hours', 'minutes', 'seconds'];\n\n/**\n * @name formatDuration\n * @category Common Helpers\n * @summary Formats a duration in human-readable format\n *\n * @description\n * Return human-readable duration string i.e. \"9 months 2 days\"\n *\n * @param {Duration} duration - the duration to format\n * @param {Object} [options] - an object with options.\n * @param {string[]} [options.format=['years', 'months', 'weeks', 'days', 'hours', 'minutes', 'seconds']] - the array of units to format\n * @param {boolean} [options.zero=false] - should zeros be included in the output?\n * @param {string} [options.delimiter=' '] - delimiter string\n * @param {Locale} [options.locale=defaultLocale] - the locale object. See [Locale]{@link https://date-fns.org/docs/Locale}\n * @returns {string} the formatted date string\n * @throws {TypeError} 1 argument required\n *\n * @example\n * // Format full duration\n * formatDuration({\n *   years: 2,\n *   months: 9,\n *   weeks: 1,\n *   days: 7,\n *   hours: 5,\n *   minutes: 9,\n *   seconds: 30\n * })\n * //=> '2 years 9 months 1 week 7 days 5 hours 9 minutes 30 seconds'\n *\n * @example\n * // Format partial duration\n * formatDuration({ months: 9, days: 2 })\n * //=> '9 months 2 days'\n *\n * @example\n * // Customize the format\n * formatDuration(\n *   {\n *     years: 2,\n *     months: 9,\n *     weeks: 1,\n *     days: 7,\n *     hours: 5,\n *     minutes: 9,\n *     seconds: 30\n *   },\n *   { format: ['months', 'weeks'] }\n * ) === '9 months 1 week'\n *\n * @example\n * // Customize the zeros presence\n * formatDuration({ years: 0, months: 9 })\n * //=> '9 months'\n * formatDuration({ years: 0, months: 9 }, { zero: true })\n * //=> '0 years 9 months'\n *\n * @example\n * // Customize the delimiter\n * formatDuration({ years: 2, months: 9, weeks: 3 }, { delimiter: ', ' })\n * //=> '2 years, 9 months, 3 weeks'\n */\nexport default function formatDuration(duration, options) {\n  var _ref, _options$locale, _options$format, _options$zero, _options$delimiter;\n  if (arguments.length < 1) {\n    throw new TypeError(\"1 argument required, but only \".concat(arguments.length, \" present\"));\n  }\n  var defaultOptions = getDefaultOptions();\n  var locale = (_ref = (_options$locale = options === null || options === void 0 ? void 0 : options.locale) !== null && _options$locale !== void 0 ? _options$locale : defaultOptions.locale) !== null && _ref !== void 0 ? _ref : defaultLocale;\n  var format = (_options$format = options === null || options === void 0 ? void 0 : options.format) !== null && _options$format !== void 0 ? _options$format : defaultFormat;\n  var zero = (_options$zero = options === null || options === void 0 ? void 0 : options.zero) !== null && _options$zero !== void 0 ? _options$zero : false;\n  var delimiter = (_options$delimiter = options === null || options === void 0 ? void 0 : options.delimiter) !== null && _options$delimiter !== void 0 ? _options$delimiter : ' ';\n  if (!locale.formatDistance) {\n    return '';\n  }\n  var result = format.reduce(function (acc, unit) {\n    var token = \"x\".concat(unit.replace(/(^.)/, function (m) {\n      return m.toUpperCase();\n    }));\n    var value = duration[unit];\n    if (typeof value === 'number' && (zero || duration[unit])) {\n      return acc.concat(locale.formatDistance(token, value));\n    }\n    return acc;\n  }, []).join(delimiter);\n  return result;\n}"],"names":["useFormatDate","locale","format","useCallback","date","_format","parsedDate","error","formatDate","options","_format2","currentYear","Date","getFullYear","currentMonth","getMonth","formatTemplate","includes","hideTheYear","hideYear","replace","hideTheMonth","hideMonth","hideTimeForever","onlyTime","formatMonth","_format4","_format3","formatDistanceStrict","baseDate","_fnsFormatDistanceStr","formatDistanceToNow","_fnsFormatDistanceToN","addSuffix","formatDuration","duration","_fnsFormatDuration","useMemo","SwapTxHistoryAvatar","fromUri","toUri","Stack","w","h","alignItems","justifyContent","children","position","left","top","Token","size","tokenImageUri","borderWidth","borderColor","borderRadius","zIndex","item","onClickCell","_item$baseInfo$fromTo","_item$baseInfo$toToke","intl","useIntl","statusBadge","status","FAILED","Badge","badgeType","badgeSize","formatMessage","id","ETranslations","swap_history_status_failed","CANCELED","swap_history_status_canceled","CANCELING","swap_history_status_cancelling","subContent","created","dateStr","PENDING","XStack","gap","SizableText","color","title","flex","flexWrap","flexShrink","numberOfLines","baseInfo","fromToken","symbol","toUpperCase","Icon","name","toToken","fromTokenAmountFinal","extraAmount","swapInfo","otherFeeInfos","find","extraItem","token1","token","token2","amount","fromAmount","plus","toFixed","ListItem","onPress","userSelect","renderAvatar","logoURI","Text","primary","secondary","align","textAlign","NumberSizeableText","formatter","toAmount","primaryTextProps","swapHistoryPendingList","useInAppNotificationAtom","result","swapTxHistoryList","isLoading","usePromiseResult","backgroundApiProxy","serviceSwap","fetchSwapHistoryListFromSimple","watchLoading","navigation","useAppNavigation","sectionData","_swapTxHistoryList$fi","_swapTxHistoryList$fi2","pendingData","filter","groupByDay","reduce","acc","monthDay","push","Object","entries","map","data","length","swap_history_status_pending","onDeleteHistory","_ref2","Dialog","show","icon","swap_history_all_history_title","onConfirm","cleanSwapHistoryItems","serviceApp","showToast","method","settings_clear_successful","apply","this","arguments","onConfirmText","global_clear","onCancelText","global_cancel","onDeletePendingHistory","some","description","swap_history_pending_history_content","swap_history_pending_history_title","deleteButton","ActionList","items","label","swap_history_pending_history","swap_history_all_history","renderTrigger","Button","variant","renderItem","SwapHistoryDetail","txHistory","Page","Header","headerRight","Array","from","_","index","Skeleton","radius","YStack","py","SectionList","sections","renderSectionHeader","section","px","backgroundColor","Heading","estimatedItemSize","ListEmptyComponent","Empty","global_no_results","defaultFormat","_ref","_options$locale","_options$format","_options$zero","_options$delimiter","TypeError","concat","defaultOptions","zero","delimiter","formatDistance","unit","m","value","join"],"sourceRoot":""}