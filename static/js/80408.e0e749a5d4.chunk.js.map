{"version":3,"file":"static/js/80408.e0e749a5d4.chunk.js","mappings":"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","sources":["webpack://web/../../packages/kit/src/hooks/useDebounce.ts","webpack://web/../../packages/kit/src/views/DAppConnection/components/DAppAccountList/DAppAccountListItem.tsx","webpack://web/../../packages/kit/src/views/DAppConnection/hooks/useHandleAccountChanged.ts","webpack://web/../../packages/kit/src/views/DAppConnection/pages/DappOpenModalPage.tsx","webpack://web/../../packages/kit/src/views/LightningNetwork/components/LNSendPaymentForm.tsx","webpack://web/../../packages/kit/src/views/LightningNetwork/pages/Webln/WeblnSendPaymentModal.tsx"],"sourcesContent":["import{useDebounce as useDebounceOriginal}from'use-debounce';export function useDebounce(value,delay,options){var[debounce]=useDebounceOriginal(value,delay,options);return debounce;}export{useDebouncedCallback}from'use-debounce';","import _isNumber from\"lodash/isNumber\";import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}import{useEffect}from'react';import{useIntl}from'react-intl';import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import{Divider,SizableText,Stack,YGroup,YStack}from'@onekeyhq/components';import backgroundApiProxy from'@onekeyhq/kit/src/background/instance/backgroundApiProxy';import{AccountSelectorProviderMirror,NetworkSelectorTriggerDappConnection}from'@onekeyhq/kit/src/components/AccountSelector';import{AccountSelectorTriggerDappConnection}from'@onekeyhq/kit/src/components/AccountSelector/AccountSelectorTrigger/AccountSelectorTriggerDApp';import useDappQuery from'@onekeyhq/kit/src/hooks/useDappQuery';import{usePromiseResult}from'@onekeyhq/kit/src/hooks/usePromiseResult';import{useAccountSelectorActions,useAccountSelectorSyncLoadingAtom}from'@onekeyhq/kit/src/states/jotai/contexts/accountSelector';import{getNetworkImplsFromDappScope}from'@onekeyhq/shared/src/background/backgroundUtils';import{ETranslations}from'@onekeyhq/shared/src/locale';import platformEnv from'@onekeyhq/shared/src/platformEnv';import timerUtils from'@onekeyhq/shared/src/utils/timerUtils';import{EAccountSelectorSceneName}from'@onekeyhq/shared/types';import{useHandleDiscoveryAccountChanged}from\"../../hooks/useHandleAccountChanged\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function DAppAccountListInitFromHome({num,shouldSyncFromHome}){var[,setSyncLoading]=useAccountSelectorSyncLoadingAtom();var actions=useAccountSelectorActions();useEffect(function(){void _asyncToGenerator(function*(){try{setSyncLoading(function(v){return _objectSpread(_objectSpread({},v),{},{[num]:{isLoading:true}});});yield timerUtils.wait(600);if(shouldSyncFromHome){yield actions.current.syncFromScene({from:{sceneName:EAccountSelectorSceneName.home,sceneNum:0},num});}}finally{if(shouldSyncFromHome){yield timerUtils.wait(300);}setSyncLoading(function(v){return _objectSpread(_objectSpread({},v),{},{[num]:{isLoading:false}});});}})();return function(){setSyncLoading(function(v){return _objectSpread(_objectSpread({},v),{},{[num]:{isLoading:false}});});};},[actions,num,setSyncLoading,shouldSyncFromHome]);return null;}var getLoadingDuration=function({skeletonRenderDuration,shouldSyncFromHome}){if(skeletonRenderDuration){return skeletonRenderDuration;}var syncFromHomeDuration=false?1200:1000;var normalLoadingDuration=false?800:500;return shouldSyncFromHome?syncFromHomeDuration:normalLoadingDuration;};function DAppAccountListItem({num,handleAccountChanged,readonly,networkReadonly,compressionUiMode,initFromHome,beforeShowTrigger,skeletonRenderDuration}){useHandleDiscoveryAccountChanged({num,handleAccountChanged});var shouldSyncFromHome=Boolean(initFromHome&&!readonly);var loadingDuration=0;return _jsxs(_Fragment,{children:[_jsxs(YGroup,{bg:\"$bg\",borderRadius:\"$3\",borderColor:\"$borderSubdued\",borderWidth:StyleSheet.hairlineWidth,separator:_jsx(Divider,{}),disabled:readonly,\"data-sentry-element\":\"YGroup\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/DAppConnection/components/DAppAccountList/DAppAccountListItem.tsx\",children:[_jsx(YGroup.Item,{\"data-sentry-element\":\"unknown\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/DAppConnection/components/DAppAccountList/DAppAccountListItem.tsx\",children:_jsx(NetworkSelectorTriggerDappConnection,{num:num,beforeShowTrigger:beforeShowTrigger,disabled:networkReadonly||readonly,loadingDuration:loadingDuration,\"data-sentry-element\":\"NetworkSelectorTriggerDappConnection\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/DAppConnection/components/DAppAccountList/DAppAccountListItem.tsx\"})}),_jsx(YGroup.Item,{\"data-sentry-element\":\"unknown\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/DAppConnection/components/DAppAccountList/DAppAccountListItem.tsx\",children:_jsx(AccountSelectorTriggerDappConnection,{num:num,compressionUiMode:compressionUiMode,beforeShowTrigger:beforeShowTrigger,loadingDuration:loadingDuration,\"data-sentry-element\":\"AccountSelectorTriggerDappConnection\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/DAppConnection/components/DAppAccountList/DAppAccountListItem.tsx\"})})]}),_jsx(DAppAccountListInitFromHome,{num:num,shouldSyncFromHome:shouldSyncFromHome,\"data-sentry-element\":\"DAppAccountListInitFromHome\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/DAppConnection/components/DAppAccountList/DAppAccountListItem.tsx\"})]});}function DAppAccountListStandAloneItem({readonly,handleAccountChanged,onConnectedAccountInfoChanged}){var intl=useIntl();var{serviceDApp,serviceNetwork}=backgroundApiProxy;var{$sourceInfo}=useDappQuery();var{result}=usePromiseResult(_asyncToGenerator(function*(){var _$sourceInfo$scope,_$sourceInfo$scope2;if(!$sourceInfo?.origin||!$sourceInfo.scope){return{accountSelectorNum:null,networkIds:null};}var impls=getNetworkImplsFromDappScope($sourceInfo.scope);var networkIds=impls?(yield serviceNetwork.getNetworkIdsByImpls({impls})).networkIds:null;var accountsInfo=yield serviceDApp.getConnectedAccountsInfo({origin:$sourceInfo.origin,scope:(_$sourceInfo$scope=$sourceInfo.scope)!=null?_$sourceInfo$scope:'',isWalletConnectRequest:$sourceInfo.isWalletConnectRequest});if(Array.isArray(accountsInfo)&&accountsInfo.length>0&&typeof accountsInfo[0]?.num==='number'){return{accountSelectorNum:accountsInfo[0].num,networkIds,existConnectedAccount:true};}var accountSelectorNum=yield serviceDApp.getAccountSelectorNum({origin:$sourceInfo.origin,scope:(_$sourceInfo$scope2=$sourceInfo.scope)!=null?_$sourceInfo$scope2:'',isWalletConnectRequest:$sourceInfo.isWalletConnectRequest});return{accountSelectorNum,networkIds,existConnectedAccount:false};}),[$sourceInfo?.origin,$sourceInfo?.scope,$sourceInfo?.isWalletConnectRequest,serviceDApp,serviceNetwork]);useEffect(function(){if(_isNumber(result?.accountSelectorNum)&&onConnectedAccountInfoChanged){onConnectedAccountInfoChanged({num:result.accountSelectorNum,existConnectedAccount:result.existConnectedAccount});}},[result?.accountSelectorNum,result?.existConnectedAccount,onConnectedAccountInfoChanged]);return _jsxs(YStack,{gap:\"$2\",testID:\"DAppAccountListStandAloneItem\",\"data-sentry-element\":\"YStack\",\"data-sentry-component\":\"DAppAccountListStandAloneItem\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/DAppConnection/components/DAppAccountList/DAppAccountListItem.tsx\",children:[_jsx(SizableText,{size:\"$headingMd\",color:\"$text\",\"data-sentry-element\":\"SizableText\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/DAppConnection/components/DAppAccountList/DAppAccountListItem.tsx\",children:intl.formatMessage({id:ETranslations.global_accounts})}),typeof result?.accountSelectorNum==='number'&&Array.isArray(result?.networkIds)?_jsx(AccountSelectorProviderMirror,{config:{sceneName:EAccountSelectorSceneName.discover,sceneUrl:$sourceInfo?.origin},enabledNum:[result.accountSelectorNum],availableNetworksMap:{[result.accountSelectorNum]:{networkIds:result.networkIds}},children:_jsx(DAppAccountListItem,{initFromHome:!result?.existConnectedAccount,num:result?.accountSelectorNum,handleAccountChanged:handleAccountChanged,readonly:readonly})}):null]});}function DAppAccountListStandAloneItemForHomeScene(){var intl=useIntl();return _jsxs(YStack,{gap:\"$2\",testID:\"DAppAccountListStandAloneItem\",\"data-sentry-element\":\"YStack\",\"data-sentry-component\":\"DAppAccountListStandAloneItemForHomeScene\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/DAppConnection/components/DAppAccountList/DAppAccountListItem.tsx\",children:[_jsx(SizableText,{size:\"$headingMd\",color:\"$text\",\"data-sentry-element\":\"SizableText\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/DAppConnection/components/DAppAccountList/DAppAccountListItem.tsx\",children:intl.formatMessage({id:ETranslations.global_accounts})}),_jsx(AccountSelectorProviderMirror,{config:{sceneName:EAccountSelectorSceneName.home},enabledNum:[0],\"data-sentry-element\":\"AccountSelectorProviderMirror\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/DAppConnection/components/DAppAccountList/DAppAccountListItem.tsx\",children:_jsx(DAppAccountListItem,{initFromHome:false,num:0,readonly:true,\"data-sentry-element\":\"DAppAccountListItem\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/DAppConnection/components/DAppAccountList/DAppAccountListItem.tsx\"})})]});}function WalletConnectAccountTriggerList({sceneUrl,sessionAccountsInfo,handleAccountChanged}){var enabledNum=sessionAccountsInfo.map(function(i){return i.accountSelectorNum;});var availableNetworksMap=sessionAccountsInfo.reduce(function(acc,accountInfo){var networkIds=accountInfo.networkIds.filter(Boolean);acc[accountInfo.accountSelectorNum]={networkIds,defaultNetworkId:networkIds[0]};return acc;},{});return _jsxs(YStack,{gap:\"$2\",\"data-sentry-element\":\"YStack\",\"data-sentry-component\":\"WalletConnectAccountTriggerList\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/DAppConnection/components/DAppAccountList/DAppAccountListItem.tsx\",children:[_jsx(SizableText,{size:\"$headingMd\",color:\"$text\",\"data-sentry-element\":\"SizableText\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/DAppConnection/components/DAppAccountList/DAppAccountListItem.tsx\",children:\"Accounts\"}),Array.isArray(sessionAccountsInfo)&&sessionAccountsInfo.length?_jsx(AccountSelectorProviderMirror,{config:{sceneName:EAccountSelectorSceneName.discover,sceneUrl},enabledNum:enabledNum,availableNetworksMap:availableNetworksMap,children:_jsx(YStack,{gap:\"$2\",children:sessionAccountsInfo.map(function(i){return _jsx(Stack,{children:_jsx(DAppAccountListItem,{initFromHome:true,num:i.accountSelectorNum,handleAccountChanged:handleAccountChanged})},i.accountSelectorNum);})})}):null]});}export{DAppAccountListItem,DAppAccountListStandAloneItem,DAppAccountListStandAloneItemForHomeScene,WalletConnectAccountTriggerList};","import{useEffect,useRef}from'react';import{useActiveAccount,useSelectedAccount}from'@onekeyhq/kit/src/states/jotai/contexts/accountSelector';import{useDebounce}from\"../../../hooks/useDebounce\";export function useHandleDiscoveryAccountChanged({num,handleAccountChanged}){var{activeAccount}=useActiveAccount({num});var{selectedAccount}=useSelectedAccount({num});var debouncedActiveAccount=useDebounce(activeAccount,200);var debouncedSelectedAccount=useDebounce(selectedAccount,200);var activeAccountRef=useRef(activeAccount);var selectedAccountRef=useRef(selectedAccount);useEffect(function(){activeAccountRef.current=activeAccount;selectedAccountRef.current=selectedAccount;},[activeAccount,selectedAccount]);useEffect(function(){if(handleAccountChanged){if(debouncedActiveAccount.isOthersWallet&&debouncedActiveAccount.account?.id===debouncedSelectedAccount.othersWalletAccountId||debouncedActiveAccount.indexedAccount?.id===debouncedSelectedAccount.indexedAccountId){handleAccountChanged({activeAccount:activeAccountRef.current,selectedAccount:selectedAccountRef.current},num);}}},[debouncedActiveAccount,debouncedSelectedAccount,handleAccountChanged,num]);}","import{Page}from'@onekeyhq/components';import{EDAppModalPageStatus}from'@onekeyhq/shared/types/dappConnection';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export function useDappCloseHandler(dappApprove,onClose){var handleOnClose=function(extra){if(extra?.flag!==EDAppModalPageStatus.Confirmed){dappApprove.reject();}if(typeof onClose==='function'){onClose(extra);}};return handleOnClose;}function DappOpenModalPage({children,onClose,dappApprove}){var handleOnClose=useDappCloseHandler(dappApprove,onClose);return _jsxs(Page,{scrollEnabled:true,onClose:handleOnClose,\"data-sentry-element\":\"Page\",\"data-sentry-component\":\"DappOpenModalPage\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/DAppConnection/pages/DappOpenModalPage.tsx\",children:[_jsx(Page.Header,{headerShown:false,\"data-sentry-element\":\"unknown\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/DAppConnection/pages/DappOpenModalPage.tsx\"}),children]});}export default DappOpenModalPage;","import{useMemo}from'react';import BigNumber from'bignumber.js';import{useIntl}from'react-intl';import{Form,Input,TextArea}from'@onekeyhq/components';import{ETranslations}from'@onekeyhq/shared/src/locale';import backgroundApiProxy from\"../../../background/instance/backgroundApiProxy\";import{usePromiseResult}from\"../../../hooks/usePromiseResult\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function LNSendPaymentForm(props){var{networkId,useFormReturn,amount,minimumAmount,maximumAmount,descriptionLabelId,commentAllowedLength,metadata:originMetadata,amountReadOnly,commentReadOnly}=props;var intl=useIntl();var{result:invoiceConfig}=usePromiseResult(function(){return backgroundApiProxy.serviceLightning.getInvoiceConfig({networkId});},[networkId]);var minAmount=new BigNumber(minimumAmount!=null?minimumAmount:0).toNumber();var maxAmount=new BigNumber(maximumAmount!=null?maximumAmount:0).toNumber();var amountRules=useMemo(function(){var max;if(maxAmount&&maxAmount>0&&maxAmount>minAmount&&maxAmount<Number(invoiceConfig?.maxSendAmount)){max=maxAmount;}return{min:{value:minAmount,message:intl.formatMessage({id:ETranslations.dapp_connect_amount_should_be_at_least},{0:minAmount})},max:max?{value:max,message:intl.formatMessage({id:ETranslations.dapp_connect_amount_should_not_exceed},{0:max})}:undefined,pattern:{value:/^[0-9]*$/,message:intl.formatMessage({id:ETranslations.send_field_only_integer})},validate:function(value){if(minAmount<=0&&!value)return;var valueBN=new BigNumber(value);if(!valueBN.isInteger()){return intl.formatMessage({id:ETranslations.send_field_only_integer});}if(invoiceConfig?.maxSendAmount&&valueBN.isGreaterThan(invoiceConfig?.maxSendAmount)){return intl.formatMessage({id:ETranslations.dapp_connect_amount_should_not_exceed},{0:invoiceConfig?.maxSendAmount});}}};},[minAmount,maxAmount,intl,invoiceConfig?.maxSendAmount]);var amountLabelAddon=useMemo(function(){if(Number(amount)>0||minAmount>0&&minAmount===maxAmount){return;}if(minAmount>0&&maxAmount>0){return intl.formatMessage({id:ETranslations.dapp_connect_sats_between},{min:minAmount,max:maxAmount<minAmount?invoiceConfig?.maxSendAmount:Math.min(maxAmount,Number(invoiceConfig?.maxSendAmount))});}},[amount,minAmount,maxAmount,intl,invoiceConfig]);var renderMetadataText=useMemo(function(){if(!originMetadata||!originMetadata.length)return null;try{var metadata=JSON.parse(originMetadata);return metadata.map(function([type,content],index){if(type==='text/plain'||type==='text/long-desc'){var name=`metadataDescription-${index}`;useFormReturn.setValue(name,content);return _jsx(Form.Field,{label:intl.formatMessage({id:ETranslations.global_description}),name:name,children:_jsx(TextArea,{editable:false,disabled:true,numberOfLines:2})},content);}return undefined;}).filter(Boolean);}catch(e){}return[];},[intl,originMetadata,useFormReturn]);return _jsxs(Form,{form:useFormReturn,\"data-sentry-element\":\"Form\",\"data-sentry-component\":\"LNSendPaymentForm\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/LightningNetwork/components/LNSendPaymentForm.tsx\",children:[renderMetadataText,_jsx(Form.Field,{label:intl.formatMessage({id:ETranslations.dapp_connect_amount}),name:\"amount\",rules:amountRules,labelAddon:amountLabelAddon,\"data-sentry-element\":\"unknown\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/LightningNetwork/components/LNSendPaymentForm.tsx\",children:_jsx(Input,{editable:!amountReadOnly,readonly:amountReadOnly,placeholder:intl.formatMessage({id:ETranslations.dapp_connect_enter_amount}),flex:1,addOns:[{label:intl.formatMessage({id:ETranslations.global_sats})}],\"data-sentry-element\":\"Input\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/LightningNetwork/components/LNSendPaymentForm.tsx\"})}),Number(commentAllowedLength)>0?_jsx(Form.Field,{label:intl.formatMessage({id:descriptionLabelId!=null?descriptionLabelId:ETranslations.dapp_connect_description_optional}),name:\"comment\",rules:{maxLength:{value:Number(commentAllowedLength),message:intl.formatMessage({id:ETranslations.dapp_connect_msg_description_can_be_up_to_int_characters},{number:commentAllowedLength})}},defaultValue:\"\",children:_jsx(TextArea,{editable:!commentReadOnly,disabled:commentReadOnly})}):null]});}export default LNSendPaymentForm;","import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}import{useCallback,useEffect,useMemo,useState}from'react';import BigNumber from'bignumber.js';import{useIntl}from'react-intl';import{Page,useForm}from'@onekeyhq/components';import backgroundApiProxy from'@onekeyhq/kit/src/background/instance/backgroundApiProxy';import useDappApproveAction from'@onekeyhq/kit/src/hooks/useDappApproveAction';import useDappQuery from'@onekeyhq/kit/src/hooks/useDappQuery';import{usePromiseResult}from'@onekeyhq/kit/src/hooks/usePromiseResult';import{useSendConfirm}from'@onekeyhq/kit/src/hooks/useSendConfirm';import DappOpenModalPage from'@onekeyhq/kit/src/views/DAppConnection/pages/DappOpenModalPage';import{OneKeyError}from'@onekeyhq/shared/src/errors';import{ETranslations}from'@onekeyhq/shared/src/locale';import{EDAppModalPageStatus}from'@onekeyhq/shared/types/dappConnection';import{DAppAccountListStandAloneItem}from\"../../../DAppConnection/components/DAppAccountList\";import{DAppRequestFooter,DAppRequestLayout}from\"../../../DAppConnection/components/DAppRequestLayout\";import{useRiskDetection}from\"../../../DAppConnection/hooks/useRiskDetection\";import LNSendPaymentForm from\"../../components/LNSendPaymentForm\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function WeblnSendPaymentModal(){var _$sourceInfo$id,_$sourceInfo$origin,_$sourceInfo$origin2;var intl=useIntl();var{$sourceInfo,paymentRequest,accountId,networkId}=useDappQuery();var dappApprove=useDappApproveAction({id:(_$sourceInfo$id=$sourceInfo?.id)!=null?_$sourceInfo$id:'',closeWindowAfterResolved:true});var[isLoading,setIsLoading]=useState(false);var sendConfirm=useSendConfirm({accountId,networkId});var{showContinueOperate,continueOperate,setContinueOperate,riskLevel,urlSecurityInfo}=useRiskDetection({origin:(_$sourceInfo$origin=$sourceInfo?.origin)!=null?_$sourceInfo$origin:''});var{result:decodedInvoice}=usePromiseResult(function(){return backgroundApiProxy.serviceLightning.decodedInvoice({paymentRequest,networkId,accountId});},[paymentRequest,networkId,accountId]);var amount=useMemo(function(){var _decodedInvoice$satos;return decodedInvoice?.millisatoshis?new BigNumber(decodedInvoice?.millisatoshis).dividedBy(1000):new BigNumber((_decodedInvoice$satos=decodedInvoice?.satoshis)!=null?_decodedInvoice$satos:'0');},[decodedInvoice]);var description=useMemo(function(){var memo=decodedInvoice?.tags.find(function(tag){return tag.tagName==='description';});return memo?.data;},[decodedInvoice]);var paymentHash=useMemo(function(){var hash=decodedInvoice?.tags.find(function(tag){return tag.tagName==='payment_hash';});return hash?.data;},[decodedInvoice]);var useFormReturn=useForm({defaultValues:{amount:'',comment:''}});useEffect(function(){useFormReturn.setValue('amount',amount.toFixed());useFormReturn.setValue('comment',description);},[amount,description,useFormReturn]);var onConfirm=useCallback(function(){var _ref=_asyncToGenerator(function*(close){if(isLoading)return;var isValid=yield useFormReturn.trigger();if(!isValid){return;}setIsLoading(true);var formValue=useFormReturn.getValues();try{var transferInfo={accountId,networkId,from:'',to:paymentRequest,amount:formValue.amount};var transfersInfo=[_objectSpread({},transferInfo)];yield sendConfirm.normalizeSendConfirm({transfersInfo,sameModal:true,onSuccess:function(){void dappApprove.resolve({close:function(){close?.({flag:EDAppModalPageStatus.Confirmed});},result:paymentHash});},onFail:function(){void dappApprove.reject();},onCancel:function(){void dappApprove.reject();}});}catch(e){var _message;dappApprove.reject();var message=(_message=e?.message)!=null?_message:e;throw new OneKeyError({message,autoToast:true});}finally{setIsLoading(false);}});return function(_x){return _ref.apply(this,arguments);};}(),[accountId,networkId,isLoading,dappApprove,useFormReturn,sendConfirm,paymentRequest,paymentHash]);return _jsx(DappOpenModalPage,{dappApprove:dappApprove,\"data-sentry-element\":\"DappOpenModalPage\",\"data-sentry-component\":\"WeblnSendPaymentModal\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/LightningNetwork/pages/Webln/WeblnSendPaymentModal.tsx\",children:_jsxs(_Fragment,{children:[_jsx(Page.Header,{headerShown:false,\"data-sentry-element\":\"unknown\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/LightningNetwork/pages/Webln/WeblnSendPaymentModal.tsx\"}),_jsx(Page.Body,{\"data-sentry-element\":\"unknown\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/LightningNetwork/pages/Webln/WeblnSendPaymentModal.tsx\",children:_jsxs(DAppRequestLayout,{title:intl.formatMessage({id:ETranslations.dapp_connect_invoice_payment_request}),subtitleShown:false,origin:(_$sourceInfo$origin2=$sourceInfo?.origin)!=null?_$sourceInfo$origin2:'',urlSecurityInfo:urlSecurityInfo,\"data-sentry-element\":\"DAppRequestLayout\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/LightningNetwork/pages/Webln/WeblnSendPaymentModal.tsx\",children:[_jsx(DAppAccountListStandAloneItem,{readonly:true,\"data-sentry-element\":\"DAppAccountListStandAloneItem\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/LightningNetwork/pages/Webln/WeblnSendPaymentModal.tsx\"}),_jsx(LNSendPaymentForm,{isWebln:true,accountId:accountId,networkId:networkId,useFormReturn:useFormReturn,amount:amount.toNumber(),amountReadOnly:amount.toNumber()!==0,commentAllowedLength:Number.MAX_SAFE_INTEGER,commentReadOnly:true,\"data-sentry-element\":\"LNSendPaymentForm\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/LightningNetwork/pages/Webln/WeblnSendPaymentModal.tsx\"})]})}),_jsx(Page.Footer,{\"data-sentry-element\":\"unknown\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/LightningNetwork/pages/Webln/WeblnSendPaymentModal.tsx\",children:_jsx(DAppRequestFooter,{confirmText:intl.formatMessage({id:ETranslations.global_continue}),continueOperate:continueOperate,setContinueOperate:function(checked){setContinueOperate(!!checked);},onConfirm:onConfirm,onCancel:function(){return dappApprove.reject();},confirmButtonProps:{loading:isLoading,disabled:!continueOperate},showContinueOperateCheckbox:showContinueOperate,riskLevel:riskLevel,\"data-sentry-element\":\"DAppRequestFooter\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/LightningNetwork/pages/Webln/WeblnSendPaymentModal.tsx\"})})]})});}export default WeblnSendPaymentModal;"],"names":["useDebounce","value","delay","options","debounce","ownKeys","e","r","t","Object","keys","getOwnPropertySymbols","o","filter","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","arguments","length","forEach","getOwnPropertyDescriptors","defineProperties","defineProperty","DAppAccountListInitFromHome","num","shouldSyncFromHome","setSyncLoading","actions","useEffect","v","isLoading","timerUtils","wait","current","syncFromScene","from","sceneName","home","sceneNum","DAppAccountListItem","handleAccountChanged","readonly","networkReadonly","compressionUiMode","initFromHome","beforeShowTrigger","skeletonRenderDuration","useHandleDiscoveryAccountChanged","activeAccount","selectedAccount","debouncedActiveAccount","debouncedSelectedAccount","activeAccountRef","useRef","selectedAccountRef","isOthersWallet","account","id","othersWalletAccountId","indexedAccount","indexedAccountId","Boolean","children","YGroup","bg","borderRadius","borderColor","borderWidth","StyleSheet","hairlineWidth","separator","Divider","disabled","Item","loadingDuration","DAppAccountListStandAloneItem","onConnectedAccountInfoChanged","intl","useIntl","serviceDApp","serviceNetwork","backgroundApiProxy","$sourceInfo","useDappQuery","result","usePromiseResult","_$sourceInfo$scope","_$sourceInfo$scope2","origin","scope","accountSelectorNum","networkIds","impls","getNetworkIdsByImpls","accountsInfo","getConnectedAccountsInfo","isWalletConnectRequest","Array","isArray","existConnectedAccount","getAccountSelectorNum","YStack","gap","testID","SizableText","size","color","formatMessage","ETranslations","global_accounts","AccountSelector","config","discover","sceneUrl","enabledNum","availableNetworksMap","DAppAccountListStandAloneItemForHomeScene","WalletConnectAccountTriggerList","sessionAccountsInfo","map","i","reduce","acc","accountInfo","defaultNetworkId","Stack","useDappCloseHandler","dappApprove","onClose","extra","flag","Confirmed","reject","DappOpenModalPage","handleOnClose","Page","scrollEnabled","Header","headerShown","LNSendPaymentForm","props","networkId","useFormReturn","amount","minimumAmount","maximumAmount","descriptionLabelId","commentAllowedLength","metadata","originMetadata","amountReadOnly","commentReadOnly","invoiceConfig","serviceLightning","getInvoiceConfig","minAmount","toNumber","maxAmount","amountRules","useMemo","max","Number","maxSendAmount","min","message","dapp_connect_amount_should_be_at_least","dapp_connect_amount_should_not_exceed","undefined","pattern","send_field_only_integer","validate","valueBN","isInteger","isGreaterThan","amountLabelAddon","dapp_connect_sats_between","Math","renderMetadataText","JSON","parse","type","content","index","name","setValue","Form","Field","label","global_description","TextArea","editable","numberOfLines","form","dapp_connect_amount","rules","labelAddon","Input","placeholder","dapp_connect_enter_amount","flex","addOns","global_sats","dapp_connect_description_optional","maxLength","dapp_connect_msg_description_can_be_up_to_int_characters","number","defaultValue","WeblnSendPaymentModal","_$sourceInfo$id","_$sourceInfo$origin","_$sourceInfo$origin2","paymentRequest","accountId","closeWindowAfterResolved","setIsLoading","useState","sendConfirm","showContinueOperate","continueOperate","setContinueOperate","riskLevel","urlSecurityInfo","decodedInvoice","_decodedInvoice$satos","millisatoshis","dividedBy","satoshis","description","memo","tags","find","tag","tagName","data","paymentHash","hash","useForm","defaultValues","comment","toFixed","_ref","onConfirm","useCallback","close","trigger","formValue","getValues","transfersInfo","to","normalizeSendConfirm","sameModal","onSuccess","resolve","onFail","onCancel","_message","autoToast","_x","this","Body","title","dapp_connect_invoice_payment_request","subtitleShown","isWebln","MAX_SAFE_INTEGER","Footer","confirmText","global_continue","checked","confirmButtonProps","loading","showContinueOperateCheckbox"],"sourceRoot":""}