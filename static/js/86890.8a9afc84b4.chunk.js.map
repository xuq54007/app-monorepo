{"version":3,"file":"static/js/86890.8a9afc84b4.chunk.js","mappings":"4oBAAmgE,IAAIA,GAAc,IAAAC,OAAxyD,SAASC,oBAAmB,IAACC,EAAG,KAACC,EAAI,aAACC,EAAa,OAAO,OAAIF,GAA2E,UAAM,EAAAG,MAAM,CAACF,KAAKA,EAAKC,aAAaA,EAAaE,YAAY,IAAWC,cAAcC,YAAY,iBAAiBC,YAAY,aAAa,sBAAsB,QAAQ,wBAAwB,qBAAqB,0BAA0B,4GAA4GC,SAAS,EAAC,SAAK,EAAAL,MAAMM,OAAO,CAACC,OAAO,CAACV,IAAIW,mBAAmBX,IAAM,sBAAsB,UAAU,0BAA0B,+GAA8G,SAAK,EAAAG,MAAMS,SAAS,CAAC,sBAAsB,UAAU,0BAA0B,4GAA4GJ,UAAS,SAAK,EAAAK,MAAM,CAACC,GAAG,YAAYC,GAAG,SAASC,GAAG,SAASC,MAAM,OAAOC,OAAO,OAAO,sBAAsB,QAAQ,0BAA0B,4GAA4GV,UAAS,SAAK,EAAAW,KAAK,CAACC,KAAK,gBAAgBH,MAAM,OAAOC,OAAO,OAAO,sBAAsB,OAAO,0BAA0B,mHAAkH,SAAK,EAAAf,MAAMkB,QAAQ,CAAC,sBAAsB,UAAU,0BAA0B,4GAA4Gb,UAAS,SAAK,EAAAc,SAAS,CAACL,MAAM,OAAOC,OAAO,OAAO,sBAAsB,WAAW,0BAA0B,oHAAjlD,SAAK,EAAAI,SAAS,CAACL,MAAMhB,EAAKiB,OAAOjB,EAAKsB,OAAO,SAAupD,G,wRCA7wD,SAASC,8BAA6B,MAACC,EAAK,YAACC,IAAc,IAAIC,GAAK,EAAAC,EAAA,KAAU,OAAO,UAAM,EAAAC,OAAO,CAACC,GAAG,KAAKC,GAAG,KAAKC,WAAW,SAASC,eAAe,gBAAgB,sBAAsB,SAAS,wBAAwB,+BAA+B,0BAA0B,kIAAkIzB,SAAS,EAAC,SAAK,EAAA0B,QAAQ,CAACjC,KAAK,aAAa,sBAAsB,UAAU,0BAA0B,kIAAkIO,SAASiB,KAAQ,SAAK,EAAAU,OAAO,CAACC,QAAQ,WAAWnC,KAAK,SAASoC,QAAQX,EAAY,sBAAsB,SAAS,0BAA0B,kIAAkIlB,SAASmB,EAAKW,cAAc,CAACC,GAAG,EAAAC,cAAcC,sBAAuB,CCAgM,IAAIC,EAAe,iBAAqBC,GAAgB,SAAK,EAAAxC,MAAMkB,QAAQ,CAACb,UAAS,SAAK,EAAAc,SAAS,CAACL,MAAM,OAAOC,OAAO,WAAuhO,SAAe,QAA3hO,SAAS0B,cAAc,IAAIC,EAAcC,EAAsBC,EAA0BpB,GAAK,EAAAC,EAAA,KAAcoB,GAAW,EAAAC,EAAA,KAAuBC,GAAM,WAAc,iBAACC,EAAgB,MAACC,EAAK,IAACC,EAAI,IAAkC,OAA7BR,EAAcK,EAAMI,QAAcT,EAAc,CAAC,GAAMU,EAAYC,IAAgB,IAAAC,UAASJ,IAAQ,KAACK,IAAM,IAAAC,aAAc,kBAACC,IAAmB,UAAmBC,SAAW,iBAACC,GAAkBC,EAAA,GAAuBC,OAAOC,EAAUC,IAAIC,IAAkB,EAAAC,EAAA,KAAiB,QAAkB,YAA8O,MAAM,CAACC,mBAAlNP,EAAiBQ,gBAAgB,CAACC,cAAa,EAAKC,WAAW,IAAgKC,kBAAtIX,EAAiBY,eAAe,CAACH,cAAa,EAAKC,WAAW,EAAEG,QAAqB,MAAbpB,EAAkBA,OAAYqB,IAA6C,IAAG,CAACd,EAAiBP,KAAkBS,OAAOa,IAAc,EAAAT,EAAA,KAAiB,QAAkB,YAAmE,aAAzCN,EAAiBgB,WAAWvB,EAAwB,IAAG,CAACA,EAAYO,IAAuBiB,GAAY,IAAAC,SAAO,IAAO,SAAe,WAAcD,EAAYlB,UAASoB,YAAW,WAAgBd,GAAmB,GAAE,KAAKY,EAAYlB,SAAQ,EAAO,IAAG,IAAIqB,EAAWC,IAAe,IAAA1B,UAAS,KAAI,IAAA2B,YAAU,YAAgB,QAAkB,YAAY,GAAI7B,EAAJ,CAA2C,IAAI8B,QAAWtB,EAAA,EAAmBD,iBAAiBwB,oBAAoB,sBAAsBH,EAAc,CAAC,CAACI,OAAO7C,EAAetB,KAAK,GAAGO,EAAKW,cAAc,CAACC,GAAG,EAAAC,cAAcgD,iCAAiCjC,KAAeF,IAAI,GAAGgC,WAAwB,MAAdR,EAAmBA,EAAa,IAAlR,MAAzBM,EAAc,GAAmS,GAAhW,EAAqW,GAAE,CAAC5B,EAAYsB,EAAalD,IAAO,IAAI8D,EAAkBC,MAAMC,QAAQT,IAAaA,EAAWU,OAAO,EAAMC,GAAsE,OAAhD/C,EAAsBmB,GAAWI,cAAoBvB,EAAsB,IAAI8C,OAAO,IAAIH,EAAsBK,GAAoE,OAA/C/C,EAAsBkB,GAAWQ,aAAmB1B,EAAsB,IAAI6C,OAAO,EAAMG,GAAW,IAAAC,cAAY,SAASC,GAAM,OAAOA,EAAKC,KAAI,SAASC,EAAKC,GAAO,OAAO,SAAKC,EAAA,EAAS,CAACC,YAAY,CAACC,IAAIJ,EAAKd,MAAMc,EAAKK,WAAWC,QAAQ9D,EAAgB+D,cAAc,CAAC5F,GAAG,YAAYmB,eAAe,SAASD,WAAW,SAASxB,UAAS,SAAK,EAAAW,KAAK,CAACC,KAAK,mBAAmBhB,YAAYuG,EAAA,EAAWtG,cAAcC,YAAY,kBAAkBsG,eAAe,WAAW,OAAO,SAAK,EAAAC,iBAAiB,CAACC,SAAS,CAACC,EAAE,CAAC1D,SAAIuB,EAAUoC,OAAO,SAASC,cAAc,EAAEhH,KAAK,gBAAgBiH,KAAK,EAAE1G,SAAS2F,GAAMxB,QAAQwB,EAAK/E,KAAK+F,QAAQ,IAAIC,OAAOjB,EAAKxB,QAAQ,MAAM,MAAMwB,EAAKxB,eAAewB,EAAK/E,MAAO,EAAEiG,cAAc,CAACJ,cAAc,GAAG5E,QAAQ,WAAc8D,EAAKZ,SAAS7C,GAAgBkB,EAAkB,CAAC0D,wBAAwB5D,EAAKV,aAAWG,mBAAiBC,QAAMmE,QAAQ,CAAClE,IAAIE,EAAY9B,MAAM8B,KAAe,IAAciE,UAAUC,KAAKC,UAAU,CAACC,WAAWpE,EAAYqE,SAASrE,EAAYsE,YAAY,IAAaC,WAAelE,EAAkB,CAAC0D,wBAAwB5D,EAAKV,aAAWG,mBAAiBC,QAAM2E,KAAK5B,IAAO,IAAcqB,UAAUC,KAAKC,UAAU,CAACC,WAAWxB,EAAK/E,KAAKwG,SAASzB,EAAK9C,IAAIwE,YAAY,IAAaC,SAAU,EAAEE,OAAO,cAAc5B,KAASA,EAAO,GAAG,GAAE,CAAC1C,EAAKE,EAAkBZ,EAAWO,EAAYH,EAAMD,IAAmB,OAAO,UAAM,EAAA8E,KAAK,CAACC,iBAAgB,EAAK,sBAAsB,OAAO,wBAAwB,cAAc,0BAA0B,2GAA2G1H,SAAS,EAAC,SAAK,EAAAyH,KAAKE,OAAO,CAACC,YAAYzG,EAAKW,cAAc,CAACC,GAAG,EAAAC,cAAcgD,6BAA6B,sBAAsB,UAAU,0BAA0B,8GAA6G,UAAM,EAAAyC,KAAKI,KAAK,CAAC,sBAAsB,UAAU,0BAA0B,2GAA2G7H,SAAS,EAAC,SAAK,EAAAK,MAAM,CAACyH,GAAG,KAAK,sBAAsB,QAAQ,0BAA0B,2GAA2G9H,UAAS,SAAK,EAAA+H,UAAU,CAACC,WAAU,EAAKC,OAAO,GAAGC,mBAAkB,EAAKC,MAAMpF,EAAYqF,mBAAmBpF,EAAeqF,YAAYlH,EAAKW,cAAc,CAACC,GAAG,EAAAC,cAAcsG,mCAAmCC,gBAAgB,WAAexF,GAAoCK,EAAkB,CAAC0D,wBAAwB5D,EAAKV,aAAWG,mBAAiBC,QAAMmE,QAAQ,CAAClE,IAAIE,EAAY9B,MAAM8B,KAAe,IAAciE,UAAUC,KAAKC,UAAU,CAACC,WAAWpE,EAAYqE,SAASrE,EAAYsE,YAAY,IAAamB,cAApQhG,EAAWiG,KAAuQ,EAAE,sBAAsB,YAAY,0BAA0B,gHAA+G,UAAM,EAAAC,WAAW,CAACC,GAAG,KAAKpH,GAAG,KAAKqH,oBAAoB,OAAOC,0BAA0B,UAAUC,kBAAkBC,EAAA,EAASC,QAAQ,sBAAsB,aAAa,0BAA0B,2GAA2GhJ,SAAS,CAACiF,EAAkBM,EAAWb,GAAY,KAAKW,GAAoB,UAAM,EAAAhF,MAAM,CAACL,SAAS,EAAC,SAAKgB,6BAA6B,CAACC,MAAME,EAAKW,cAAc,CAACC,GAAG,EAAAC,cAAciH,oBAAoB/H,YAAY,WAAWqD,EAAYlB,SAAQ,EAAKb,EAAW0G,UAAU,KAAaC,eAAe,CAACC,OAAO,KAAsBC,mBAAoB,KAAI,SAAK,EAAAhI,OAAO,CAACrB,SAASyD,GAAWI,cAAc6B,KAAI,SAASC,EAAKC,GAAO,OAAO,UAAM,EAAAvF,MAAM,CAACiJ,UAAU,MAAM9H,WAAW,SAAS+H,GAAG,KAAKC,MAAM,CAACF,UAAU,gBAAgBzH,QAAQ,WAAWuB,EAAkB,CAAC0D,wBAAwB5D,EAAKV,aAAWG,mBAAiBC,QAAMmE,QAAQ,CAAClE,IAAI8C,EAAK9C,IAAI5B,MAAM0E,EAAK1E,SAAS,IAAc+F,UAAUC,KAAKC,UAAU,CAACC,WAAWxB,EAAK9C,IAAIuE,SAASzB,EAAK1E,MAAMoG,YAAY,IAAaoC,kBAAmB,EAAEzJ,SAAS,EAAC,SAAKX,EAAA,EAAc,CAACG,IAAImG,EAAKd,KAAKpF,KAAK,MAAMC,aAAa,QAAO,SAAK,EAAAgK,YAAY,CAACC,GAAG,KAAKrI,GAAG,KAAK7B,KAAK,gBAAgBmK,UAAU,SAASJ,MAAM,CAAC/J,KAAK,iBAAiBgH,cAAc,EAAEzG,SAAS2F,EAAK1E,UAAU2E,EAAO,SAAQ,KAAKN,GAAmB,UAAM,EAAAjF,MAAM,CAACsI,GAAG,KAAK3I,SAAS,EAAC,SAAKgB,6BAA6B,CAACC,MAAME,EAAKW,cAAc,CAACC,GAAG,EAAAC,cAAc6H,kBAAkB3I,YAAY,WAAWqD,EAAYlB,SAAQ,EAAKb,EAAW0G,UAAU,KAAaC,eAAe,CAACC,OAAO,KAAsBU,kBAAmB,IAAIrG,GAAWQ,YAAYyB,KAAI,SAASC,EAAKC,GAAO,OAAO,SAAKC,EAAA,EAAS,CAACC,YAAY,CAACC,IAAIJ,EAAKd,KAAKoB,QAAQ9D,EAAgB+D,cAAc,CAAC5F,GAAG,YAAYmB,eAAe,SAASD,WAAW,SAASxB,UAAS,SAAK,EAAAW,KAAK,CAACC,KAAK,mBAAmBhB,YAAYuG,EAAA,EAAWtG,cAAcC,YAAY,kBAAkBmB,MAAM0E,EAAK1E,MAAM8I,WAAWpE,EAAKoE,WAAWC,WAAW,CAACvD,cAAc,GAAGwD,SAAStE,EAAK9C,IAAIqH,cAAcvE,EAAKwE,SAAStD,cAAc,CAACJ,cAAc,GAAGe,OAAO,gBAAgB7B,EAAK1E,MAAMmJ,gBAAgBvI,QAAQ,WAAWuB,EAAkB,CAAC0D,wBAAwB5D,EAAKV,aAAWG,mBAAiBC,QAAMmE,QAAQ,CAAClE,IAAI8C,EAAK9C,IAAI5B,MAAM0E,EAAK1E,SAAS,IAAc+F,UAAUC,KAAKC,UAAU,CAACC,WAAWxB,EAAK9C,IAAIuE,SAASzB,EAAK1E,MAAMoG,YAAY,IAAagD,iBAAkB,GAAGzE,EAAO,OAAM,aAAc,G","sources":["webpack://web/../../packages/kit/src/views/Discovery/components/DiscoveryIcon.tsx","webpack://web/../../packages/kit/src/views/Discovery/pages/SearchModal/DappSearchModalSectionHeader.tsx","webpack://web/../../packages/kit/src/views/Discovery/pages/SearchModal/index.tsx"],"sourcesContent":["import{memo}from'react';import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import{Icon,Image,Skeleton,Stack}from'@onekeyhq/components';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function BasicDiscoveryIcon({uri,size,borderRadius='$2'}){if(!uri){return _jsx(Skeleton,{width:size,height:size,radius:\"round\"});}return _jsxs(Image,{size:size,borderRadius:borderRadius,borderWidth:StyleSheet.hairlineWidth,borderColor:\"$borderSubdued\",borderCurve:\"continuous\",\"data-sentry-element\":\"Image\",\"data-sentry-component\":\"BasicDiscoveryIcon\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Discovery/components/DiscoveryIcon.tsx\",children:[_jsx(Image.Source,{source:{uri:decodeURIComponent(uri)},\"data-sentry-element\":\"unknown\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Discovery/components/DiscoveryIcon.tsx\"}),_jsx(Image.Fallback,{\"data-sentry-element\":\"unknown\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Discovery/components/DiscoveryIcon.tsx\",children:_jsx(Stack,{bg:\"$bgStrong\",ai:\"center\",jc:\"center\",width:\"100%\",height:\"100%\",\"data-sentry-element\":\"Stack\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Discovery/components/DiscoveryIcon.tsx\",children:_jsx(Icon,{name:\"GlobusOutline\",width:\"100%\",height:\"100%\",\"data-sentry-element\":\"Icon\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Discovery/components/DiscoveryIcon.tsx\"})})}),_jsx(Image.Loading,{\"data-sentry-element\":\"unknown\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Discovery/components/DiscoveryIcon.tsx\",children:_jsx(Skeleton,{width:\"100%\",height:\"100%\",\"data-sentry-element\":\"Skeleton\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Discovery/components/DiscoveryIcon.tsx\"})})]});}export var DiscoveryIcon=memo(BasicDiscoveryIcon);","import{useIntl}from'react-intl';import{Button,Heading,XStack}from'@onekeyhq/components';import{ETranslations}from'@onekeyhq/shared/src/locale';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export function DappSearchModalSectionHeader({title,onMorePress}){var intl=useIntl();return _jsxs(XStack,{px:\"$5\",pb:\"$2\",alignItems:\"center\",justifyContent:\"space-between\",\"data-sentry-element\":\"XStack\",\"data-sentry-component\":\"DappSearchModalSectionHeader\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Discovery/pages/SearchModal/DappSearchModalSectionHeader.tsx\",children:[_jsx(Heading,{size:\"$headingMd\",\"data-sentry-element\":\"Heading\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Discovery/pages/SearchModal/DappSearchModalSectionHeader.tsx\",children:title}),_jsx(Button,{variant:\"tertiary\",size:\"medium\",onPress:onMorePress,\"data-sentry-element\":\"Button\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Discovery/pages/SearchModal/DappSearchModalSectionHeader.tsx\",children:intl.formatMessage({id:ETranslations.explore_see_all})})]});}","import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import{useCallback,useEffect,useRef,useState}from'react';import{useFocusEffect,useRoute}from'@react-navigation/core';import{useIntl}from'react-intl';import Keyboard from\"react-native-web/dist/exports/Keyboard\";import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import{Icon,Image,Page,RichSizeableText,ScrollView,SearchBar,SizableText,Skeleton,Stack,XStack,useMedia}from'@onekeyhq/components';import backgroundApiProxy from'@onekeyhq/kit/src/background/instance/backgroundApiProxy';import{ListItem}from'@onekeyhq/kit/src/components/ListItem';import useAppNavigation from'@onekeyhq/kit/src/hooks/useAppNavigation';import{usePromiseResult}from'@onekeyhq/kit/src/hooks/usePromiseResult';import{useBrowserAction}from'@onekeyhq/kit/src/states/jotai/contexts/discovery';import{ETranslations}from'@onekeyhq/shared/src/locale';import{defaultLogger}from'@onekeyhq/shared/src/logger/logger';import{EEnterMethod}from'@onekeyhq/shared/src/logger/scopes/discovery/scenes/dapp';import{EDiscoveryModalRoutes,EModalRoutes}from'@onekeyhq/shared/src/routes';import{DiscoveryIcon}from\"../../components/DiscoveryIcon\";import{withBrowserProvider}from\"../Browser/WithBrowserProvider\";import{DappSearchModalSectionHeader}from\"./DappSearchModalSectionHeader\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SEARCH_ITEM_ID='SEARCH_ITEM_ID';var LoadingSkeleton=_jsx(Image.Loading,{children:_jsx(Skeleton,{width:\"100%\",height:\"100%\"})});function SearchModal(){var _route$params,_localData$bookmarkDa,_localData$historyDat;var intl=useIntl();var navigation=useAppNavigation();var route=useRoute();var{useCurrentWindow,tabId,url=''}=(_route$params=route.params)!=null?_route$params:{};var[searchValue,setSearchValue]=useState(url);var{gtMd}=useMedia();var{handleOpenWebSite}=useBrowserAction().current;var{serviceDiscovery}=backgroundApiProxy;var{result:localData,run:refreshLocalData}=usePromiseResult(_asyncToGenerator(function*(){var bookmarkData=yield serviceDiscovery.getBookmarkData({generateIcon:true,sliceCount:8});var historyData=yield serviceDiscovery.getHistoryData({generateIcon:true,sliceCount:8,keyword:searchValue!=null?searchValue:undefined});return{bookmarkData,historyData};}),[serviceDiscovery,searchValue]);var{result:searchResult}=usePromiseResult(_asyncToGenerator(function*(){var res=yield serviceDiscovery.searchDApp(searchValue);return res;}),[searchValue,serviceDiscovery]);var jumpPageRef=useRef(false);useFocusEffect(function(){if(jumpPageRef.current){setTimeout(function(){void refreshLocalData();},300);jumpPageRef.current=false;}});var[searchList,setSearchList]=useState([]);useEffect(function(){void _asyncToGenerator(function*(){if(!searchValue){setSearchList([]);return;}var logo=yield backgroundApiProxy.serviceDiscovery.buildWebsiteIconUrl('https://google.com');setSearchList([{dappId:SEARCH_ITEM_ID,name:`${intl.formatMessage({id:ETranslations.explore_search_placeholder})} \"${searchValue}\"`,url:'',logo},...(searchResult!=null?searchResult:[])]);})();},[searchValue,searchResult,intl]);var displaySearchList=Array.isArray(searchList)&&searchList.length>0;var displayBookmarkList=((_localData$bookmarkDa=localData?.bookmarkData)!=null?_localData$bookmarkDa:[]).length>0&&!displaySearchList;var displayHistoryList=((_localData$historyDat=localData?.historyData)!=null?_localData$historyDat:[]).length>0;var renderList=useCallback(function(list){return list.map(function(item,index){return _jsx(ListItem,{avatarProps:{src:item.logo||item.originLogo,loading:LoadingSkeleton,fallbackProps:{bg:'$bgStrong',justifyContent:'center',alignItems:'center',children:_jsx(Icon,{name:\"GlobusOutline\"})},borderWidth:StyleSheet.hairlineWidth,borderColor:'$borderSubdued'},renderItemText:function(){return _jsx(RichSizeableText,{linkList:{a:{url:undefined,cursor:'auto'}},numberOfLines:1,size:\"$bodyLgMedium\",flex:1,children:item?.keyword?item.name.replace(new RegExp(item.keyword,'ig'),`<a>${item.keyword}</a>`):item.name});},subtitleProps:{numberOfLines:1},onPress:function(){if(item.dappId===SEARCH_ITEM_ID){handleOpenWebSite({switchToMultiTabBrowser:gtMd,navigation,useCurrentWindow,tabId,webSite:{url:searchValue,title:searchValue}});defaultLogger.discovery.dapp.enterDapp({dappDomain:searchValue,dappName:searchValue,enterMethod:EEnterMethod.search});}else{handleOpenWebSite({switchToMultiTabBrowser:gtMd,navigation,useCurrentWindow,tabId,dApp:item});defaultLogger.discovery.dapp.enterDapp({dappDomain:item.name,dappName:item.url,enterMethod:EEnterMethod.search});}},testID:`dapp-search${index}`},index);});},[gtMd,handleOpenWebSite,navigation,searchValue,tabId,useCurrentWindow]);return _jsxs(Page,{safeAreaEnabled:true,\"data-sentry-element\":\"Page\",\"data-sentry-component\":\"SearchModal\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Discovery/pages/SearchModal/index.tsx\",children:[_jsx(Page.Header,{headerTitle:intl.formatMessage({id:ETranslations.explore_search_placeholder}),\"data-sentry-element\":\"unknown\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Discovery/pages/SearchModal/index.tsx\"}),_jsxs(Page.Body,{\"data-sentry-element\":\"unknown\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Discovery/pages/SearchModal/index.tsx\",children:[_jsx(Stack,{mx:\"$4\",\"data-sentry-element\":\"Stack\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Discovery/pages/SearchModal/index.tsx\",children:_jsx(SearchBar,{autoFocus:true,zIndex:20,selectTextOnFocus:true,value:searchValue,onSearchTextChange:setSearchValue,placeholder:intl.formatMessage({id:ETranslations.browser_search_dapp_or_enter_url}),onSubmitEditing:function(){if(!searchValue){navigation.pop();}else{handleOpenWebSite({switchToMultiTabBrowser:gtMd,navigation,useCurrentWindow,tabId,webSite:{url:searchValue,title:searchValue}});defaultLogger.discovery.dapp.enterDapp({dappDomain:searchValue,dappName:searchValue,enterMethod:EEnterMethod.addressBar});}},\"data-sentry-element\":\"SearchBar\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Discovery/pages/SearchModal/index.tsx\"})}),_jsxs(ScrollView,{pt:\"$2\",pb:\"$5\",keyboardDismissMode:\"none\",keyboardShouldPersistTaps:\"handled\",onScrollBeginDrag:Keyboard.dismiss,\"data-sentry-element\":\"ScrollView\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Discovery/pages/SearchModal/index.tsx\",children:[displaySearchList?renderList(searchList):null,displayBookmarkList?_jsxs(Stack,{children:[_jsx(DappSearchModalSectionHeader,{title:intl.formatMessage({id:ETranslations.explore_bookmarks}),onMorePress:function(){jumpPageRef.current=true;navigation.pushModal(EModalRoutes.DiscoveryModal,{screen:EDiscoveryModalRoutes.BookmarkListModal});}}),_jsx(XStack,{children:localData?.bookmarkData?.map(function(item,index){return _jsxs(Stack,{flexBasis:\"25%\",alignItems:\"center\",py:\"$2\",$gtMd:{flexBasis:'16.66666667%'},onPress:function(){handleOpenWebSite({switchToMultiTabBrowser:gtMd,navigation,useCurrentWindow,tabId,webSite:{url:item.url,title:item.title}});defaultLogger.discovery.dapp.enterDapp({dappDomain:item.url,dappName:item.title,enterMethod:EEnterMethod.bookmarkInSearch});},children:[_jsx(DiscoveryIcon,{uri:item.logo,size:\"$14\",borderRadius:\"$3\"}),_jsx(SizableText,{mt:\"$2\",px:\"$2\",size:\"$bodyLgMedium\",textAlign:\"center\",$gtMd:{size:'$bodyMdMedium'},numberOfLines:1,children:item.title})]},index);})})]}):null,displayHistoryList?_jsxs(Stack,{pt:\"$5\",children:[_jsx(DappSearchModalSectionHeader,{title:intl.formatMessage({id:ETranslations.explore_history}),onMorePress:function(){jumpPageRef.current=true;navigation.pushModal(EModalRoutes.DiscoveryModal,{screen:EDiscoveryModalRoutes.HistoryListModal});}}),localData?.historyData.map(function(item,index){return _jsx(ListItem,{avatarProps:{src:item.logo,loading:LoadingSkeleton,fallbackProps:{bg:'$bgStrong',justifyContent:'center',alignItems:'center',children:_jsx(Icon,{name:\"GlobusOutline\"})},borderWidth:StyleSheet.hairlineWidth,borderColor:'$borderSubdued'},title:item.title,titleMatch:item.titleMatch,titleProps:{numberOfLines:1},subtitle:item.url,subTitleMatch:item.urlMatch,subtitleProps:{numberOfLines:1},testID:`search-modal-${item.title.toLowerCase()}`,onPress:function(){handleOpenWebSite({switchToMultiTabBrowser:gtMd,navigation,useCurrentWindow,tabId,webSite:{url:item.url,title:item.title}});defaultLogger.discovery.dapp.enterDapp({dappDomain:item.url,dappName:item.title,enterMethod:EEnterMethod.historyInSearch});}},index);})]}):null]})]})]});}export default withBrowserProvider(SearchModal);"],"names":["DiscoveryIcon","memo","BasicDiscoveryIcon","uri","size","borderRadius","Image","borderWidth","hairlineWidth","borderColor","borderCurve","children","Source","source","decodeURIComponent","Fallback","Stack","bg","ai","jc","width","height","Icon","name","Loading","Skeleton","radius","DappSearchModalSectionHeader","title","onMorePress","intl","useIntl","XStack","px","pb","alignItems","justifyContent","Heading","Button","variant","onPress","formatMessage","id","ETranslations","explore_see_all","SEARCH_ITEM_ID","LoadingSkeleton","SearchModal","_route$params","_localData$bookmarkDa","_localData$historyDat","navigation","useAppNavigation","route","useCurrentWindow","tabId","url","params","searchValue","setSearchValue","useState","gtMd","useMedia","handleOpenWebSite","current","serviceDiscovery","backgroundApiProxy","result","localData","run","refreshLocalData","usePromiseResult","bookmarkData","getBookmarkData","generateIcon","sliceCount","historyData","getHistoryData","keyword","undefined","searchResult","searchDApp","jumpPageRef","useRef","setTimeout","searchList","setSearchList","useEffect","logo","buildWebsiteIconUrl","dappId","explore_search_placeholder","displaySearchList","Array","isArray","length","displayBookmarkList","displayHistoryList","renderList","useCallback","list","map","item","index","ListItem","avatarProps","src","originLogo","loading","fallbackProps","StyleSheet","renderItemText","RichSizeableText","linkList","a","cursor","numberOfLines","flex","replace","RegExp","subtitleProps","switchToMultiTabBrowser","webSite","discovery","dapp","enterDapp","dappDomain","dappName","enterMethod","search","dApp","testID","Page","safeAreaEnabled","Header","headerTitle","Body","mx","SearchBar","autoFocus","zIndex","selectTextOnFocus","value","onSearchTextChange","placeholder","browser_search_dapp_or_enter_url","onSubmitEditing","addressBar","pop","ScrollView","pt","keyboardDismissMode","keyboardShouldPersistTaps","onScrollBeginDrag","Keyboard","dismiss","explore_bookmarks","pushModal","DiscoveryModal","screen","BookmarkListModal","flexBasis","py","$gtMd","bookmarkInSearch","SizableText","mt","textAlign","explore_history","HistoryListModal","titleMatch","titleProps","subtitle","subTitleMatch","urlMatch","toLowerCase","historyInSearch"],"sourceRoot":""}