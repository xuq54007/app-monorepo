!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="d26a57e4-028f-43f7-96f1-c8810660c0de",e._sentryDebugIdIdentifier="sentry-dbid-d26a57e4-028f-43f7-96f1-c8810660c0de")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"5.5.0 (2024121652)"},(self.webpackChunkweb=self.webpackChunkweb||[]).push([[57972,93281],{714718:(e,t,n)=>{n.d(t,{A:()=>useFormatDate});var r=n(514041),o=n(243915),s=n(152111),a=n(724726),i=n(584941),l=n(121684),c=n(567807),d=n(886738);function useFormatDate(){var e=(0,d.L)(),t=(0,r.useCallback)((function(t,n){var r;r="string"==typeof t?(0,o.A)(t):t;try{return(0,s.A)(r,null!=n?n:"PPp",{locale:(0,c.mw)(e)})}catch(e){return"-"}}),[e]),n=(0,r.useCallback)((function(n,r){var s,a;a="string"==typeof n?(0,o.A)(n):n;var i=(new Date).getFullYear(),l=(new Date).getMonth(),c="yyyy/LL/dd, HH:mm";return["de","es","en-US","fr-FR","it-IT","uk-UA"].includes(e)&&(c="LL/dd/yyyy, HH:mm"),(i===a.getFullYear()&&r?.hideTheYear||r?.hideYear)&&(c=(c=c.replace("yyyy/","")).replace("/yyyy","")),(l===a.getMonth()&&r?.hideTheMonth||r?.hideMonth)&&(c=c.replace("LL/","")),r?.hideTimeForever&&(c=c.replace(", HH:mm","")),r?.onlyTime&&(c="HH:mm"),null!=(s=t(a,c))?s:""}),[t,e]),u=(0,r.useCallback)((function(e,n){var r,s,a;return s="string"==typeof e?(0,o.A)(e):e,(new Date).getFullYear()===s.getFullYear()&&n?.hideTheYear||n?.hideYear?null!=(a=t(s,"MMMM"))?a:"":null!=(r=t(s,"MMMM, yyyy"))?r:""}),[t]),p=(0,r.useCallback)((function(t,n){var r;return null!=(r=(0,a.A)(t,n,{locale:(0,c.mw)(e)}))?r:""}),[e]),f=(0,r.useCallback)((function(t){var n;return null!=(n=(0,i.A)(t,{addSuffix:!0,locale:(0,c.mw)(e)}))?n:""}),[e]),m=(0,r.useCallback)((function(t){var n;return null!=(n=(0,l.A)(t,{locale:(0,c.mw)(e)}))?n:""}),[e]);return(0,r.useMemo)((function(){return{format:t,formatDate:n,formatMonth:u,formatDistanceToNow:f,formatDuration:m,formatDistanceStrict:p}}),[t,n,u,f,m,p])}},623973:(e,t,n)=>{n.d(t,{Y:()=>useReplaceTx});var r=n(586330),o=n(514041),s=n(908867),a=n(490343),i=n(334439),l=n(193068),c=n(491180),d=n(232471),u=n(643087),p=n(498356),f=n(911998);function useReplaceTx({historyTx:e,onSuccess:t,isConfirmed:n}){var m,x=(0,p.A)(),y=(0,s.A)(),b=(0,f.yk)((0,r.A)((function*(){if(!e)return!1;var{accountId:t,networkId:r,status:o,encodedTx:s}=e.decodedTx;return!n&&(!!s&&(o===d.Y1.Pending&&(!!(yield u.A.serviceNetwork.getVaultSettings({networkId:r})).replaceTxEnabled&&u.A.serviceHistory.isEarliestLocalPendingTx({accountId:t,networkId:r,encodedTx:s}))))})),[e,n]).result,g=!!e&&e.replacedType!==d.It.Cancel,w=(0,o.useCallback)((m=(0,r.A)((function*({replaceType:n}){if(e){var{decodedTx:r}=e,{accountId:o,networkId:s}=r;if(b)if(c.A.isExternalAccount({accountId:o}))a.Toast.error({title:y.formatMessage({id:i.ETranslations.feedback_connected_accounts_speed_up_or_cancel})});else{var d=yield u.A.serviceSend.buildReplaceEncodedTx({accountId:o,networkId:s,decodedTx:r,replaceType:n});d&&x.pushModal(l.ry.SendModal,{screen:l.j$.SendReplaceTx,params:{accountId:o,networkId:s,replaceType:n,replaceEncodedTx:d,historyTx:e,onSuccess:t}})}}})),function(e){return m.apply(this,arguments)}),[b,e,y,x,t]);return{canReplaceTx:b,canCancelTx:g,handleReplaceTx:w}}},639563:(e,t,n)=>{n.d(t,{HM:()=>c,V8:()=>u,oV:()=>d});var r,o,s,a=n(586330),i=n(117746),l=n(643087),c=(r=(0,a.A)((function*({networkId:e,address:t}){if(e&&t){var n={networkId:e,param:t,type:"address"},r=yield l.A.serviceExplorer.buildExplorerUrl(n);(0,i.GE)(r)}})),function openExplorerAddressUrl(e){return r.apply(this,arguments)}),d=(o=(0,a.A)((function*({networkId:e,txid:t}){if(e&&t){var n={networkId:e,param:t,type:"transaction"},r=yield l.A.serviceExplorer.buildExplorerUrl(n);(0,i.GE)(r)}})),function openTransactionDetailsUrl(e){return o.apply(this,arguments)}),u=(s=(0,a.A)((function*({networkId:e,tokenAddress:t}){if(e&&t){var n={networkId:e,param:t,type:"token"},r=yield l.A.serviceExplorer.buildExplorerUrl(n);(0,i.GE)(r)}})),function openTokenDetailsUrl(e){return s.apply(this,arguments)})},193281:(e,t,n)=>{n.r(t),n.d(t,{AssetItem:()=>AssetItem,default:()=>P});var r=n(324586),o=n(603514),s=n.n(o),a=n(586330),i=n(503668),l=n.n(i),c=n(514041),d=n(654266),u=n(241440),p=n(908867),f=n(490343),m=n(643087),x=n(906315),y=n(791088),b=n(827037),g=n(391944),w=n(298254),I=n(498356),k=n(911998),T=n(623973),h=n(639563),v=n(471169),j=n(227428),_=n(928557),A=n(318822),S=n(334439),C=n(982269),M=n(469365),E=n(369387),D=n(276360),O=n(232471),F=n(332362),N=n(831085);function AdaTxFlow({decodedTx:e}){var t=(0,p.A)(),{networkId:n,accountId:r}=e;return e.signer&&e.to?(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(F.W,{label:t.formatMessage({id:S.ETranslations.global_from}),renderContent:e.signer,showCopy:!0,description:(0,N.jsx)(x.l,{address:e.signer,accountId:r,networkId:n})}),(0,N.jsx)(F.W,{label:t.formatMessage({id:S.ETranslations.global_to}),showCopy:!0,renderContent:e.to,description:(0,N.jsx)(x.l,{address:e.to,accountId:r,networkId:n})})]}):null}var $=n(901048).Buffer;function AlgoTxAttributes({decodedTx:e}){var t=(0,p.A)(),n=e.extraInfo;return n?(0,N.jsx)(N.Fragment,{children:l()(n?.note)?null:(0,N.jsx)(F.W,{label:t.formatMessage({id:S.ETranslations.global_Note}),renderContent:`${n.note}(${$.from(n.note).toString("base64")})`})}):null}function DnxFlow({decodedTx:e}){var t=(0,p.A)(),{networkId:n,accountId:r}=e;return e.signer&&e.to?(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(F.W,{label:t.formatMessage({id:S.ETranslations.global_from}),renderContent:e.signer,showCopy:!0,description:(0,N.jsx)(x.l,{address:e.signer,accountId:r,networkId:n})}),(0,N.jsx)(F.W,{label:t.formatMessage({id:S.ETranslations.global_to}),showCopy:!0,renderContent:e.to,description:(0,N.jsx)(x.l,{address:e.to,accountId:r,networkId:n})})]}):null}function DnxAttributes({decodedTx:e}){var t=e.extraInfo;return(0,N.jsx)(N.Fragment,{children:t?.paymentId?(0,N.jsx)(F.W,{label:"Payment ID",renderContent:t.paymentId}):null})}function LightningTxAttributes({decodedTx:e,txDetails:t}){var n=(0,p.A)(),r=e.extraInfo;if(!r)return null;var o=r.preImage||t?.preimage;return(0,N.jsxs)(N.Fragment,{children:[r?.description?(0,N.jsx)(F.W,{label:n.formatMessage({id:S.ETranslations.global_description}),renderContent:r.description}):null,o?(0,N.jsx)(F.W,{label:"Preimage",renderContent:o}):null]})}function LightningTxFlow({decodedTx:e}){var t,n,r=(0,p.A)(),o=e.actions[0],{networkId:s,accountId:a}=e,{account:i}=(0,w.b)({accountId:a,networkId:s});return o&&o.type===O.kF.ASSET_TRANSFER?Array.isArray(o.assetTransfer?.receives)&&o.assetTransfer.receives.length?(0,N.jsx)(F.W,{label:r.formatMessage({id:S.ETranslations.global_to}),renderContent:(0,N.jsx)(x.l,{address:null!=(n=i?.addressDetail.normalizedAddress)?n:"",accountId:a,networkId:s})}):(0,N.jsx)(F.W,{label:r.formatMessage({id:S.ETranslations.global_from}),renderContent:(0,N.jsx)(x.l,{address:null!=(t=i?.addressDetail.normalizedAddress)?t:"",accountId:a,networkId:s})}):null}function TronAttributes({txDetails:e}){var t,n=(0,p.A)(),r=(0,c.useMemo)((function(){var t=e?.receipt?.netUsage,n=e?.receipt?.netFee,r=e?.receipt?.netFeeCost;return!l()(n)&&!l()(r)&&new u.A(n).isGreaterThan(0)&&new u.A(r).isGreaterThan(0)?new u.A(n).div(r).toFixed():l()(t)?"0":t}),[e?.receipt]);return(0,N.jsx)(N.Fragment,{children:e&&e.receipt?(0,N.jsx)(F.W,{label:n.formatMessage({id:S.ETranslations.global_resources}),renderContent:n.formatMessage({id:S.ETranslations.global_energy_bandwidth_num},{num_1:null!=(t=e.receipt.energyUsageTotal)?t:"0",num_2:r})}):null})}function XrpTxAttributes({decodedTx:e}){var t=(0,p.A)(),n=e.extraInfo;return n?(0,N.jsxs)(N.Fragment,{children:[n?.ledgerIndex?(0,N.jsx)(F.W,{label:t.formatMessage({id:S.ETranslations.wallet_ledger_index}),renderContent:`${n.ledgerIndex}`}):null,n?.lastLedgerSequence?(0,N.jsx)(F.W,{label:t.formatMessage({id:S.ETranslations.wallet_last_ledger_sequence}),renderContent:`${n.lastLedgerSequence}`}):null,n?.destinationTag?(0,N.jsx)(F.W,{label:t.formatMessage({id:S.ETranslations.wallet_destination_tag}),renderContent:`${n.destinationTag}`}):null]}):null}function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function AssetItem({asset:e,index:t,direction:n,amount:r,networkIcon:o,currencySymbol:s,isApprove:a,isApproveUnlimited:i,isAllNetworks:c,networkId:d}){var m=(0,p.A)(),x=null,w=null,I=new u.A(r).abs().toFixed();if(a)x=new u.A(I).eq(0)?(0,N.jsx)(f.SizableText,{textAlign:"right",size:"$bodyLgMedium",color:"$textSuccess",children:m.formatMessage({id:S.ETranslations.global_revoke_approve},{symbol:e.symbol})}):(0,N.jsx)(b.A,{hideValue:!0,textAlign:"right",size:"$bodyLgMedium",color:"$textSuccess",formatter:"value",children:i?m.formatMessage({id:S.ETranslations.swap_page_button_approve_unlimited}):m.formatMessage({id:S.ETranslations.form__approve_str},{amount:I,symbol:e.symbol})});else if(r){var k;x=(0,N.jsx)(b.A,{hideValue:!0,numberOfLines:1,textAlign:"right",size:"$bodyLgMedium",color:n===O.z.IN?"$textSuccess":"$text",formatter:"balance",formatterOptions:{tokenSymbol:e.isNFT?"":e.symbol,showPlusMinusSigns:!0},children:`${n===O.z.IN?"+":"-"}${I}`}),w=l()(e.price)?null:(0,N.jsx)(b.A,{hideValue:!0,textAlign:"right",size:"$bodyMd",color:"$textSubdued",formatter:"value",formatterOptions:{currency:s},children:new u.A(I).times(null!=(k=e.price)?k:0).toString()})}else w=x=(0,N.jsx)(b.A,{hideValue:!0,formatter:"value",textAlign:"right",size:"$bodyLgMedium",color:"$text",children:"-"});return(0,N.jsxs)(y.c,{"data-sentry-element":"ListItem","data-sentry-component":"AssetItem","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/AssetDetails/pages/HistoryDetails/HistoryDetails.tsx",children:[(0,N.jsx)(g.o,{isNFT:e.isNFT,tokenImageUri:e.icon,networkImageUri:c?o:void 0,showNetworkIcon:c,networkId:d,"data-sentry-element":"Token","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/AssetDetails/pages/HistoryDetails/HistoryDetails.tsx"}),(0,N.jsx)(y.c.Text,{flexGrow:1,flexBasis:0,minWidth:96,primary:e.isNFT?e.name:e.symbol,primaryTextProps:{numberOfLines:1},secondary:e.name,"data-sentry-element":"unknown","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/AssetDetails/pages/HistoryDetails/HistoryDetails.tsx"}),(0,N.jsx)(y.c.Text,{flexShrink:1,primary:x,secondary:w,align:"right","data-sentry-element":"unknown","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/AssetDetails/pages/HistoryDetails/HistoryDetails.tsx"})]},t)}function NotificationAccountInfo({notificationAccountId:e,networkId:t,allowClickAccountNameSwitch:n}){var{account:r}=(0,w.b)({networkId:t,accountId:e}),o=(0,c.useMemo)((function(){return r?.addressDetail?.normalizedAddress||r?.address}),[r]),s=(0,p.A)();return o?(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(f.Divider,{mx:"$5","data-sentry-element":"Divider","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/AssetDetails/pages/HistoryDetails/HistoryDetails.tsx"}),(0,N.jsx)(F.d,{"data-sentry-element":"InfoItemGroup","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/AssetDetails/pages/HistoryDetails/HistoryDetails.tsx",children:(0,N.jsx)(F.W,{label:s.formatMessage({id:S.ETranslations.history_notification_receiver_label}),renderContent:o,compact:!0,description:o?(0,N.jsx)(x.l,{address:o,accountId:r?.id,networkId:t,allowClickAccountNameSwitch:n}):null,"data-sentry-element":"InfoItem","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/AssetDetails/pages/HistoryDetails/HistoryDetails.tsx"})})]}):null}const P=function HistoryDetails(){var e=(0,p.A)(),t=(0,d.lq)(),{accountId:n,networkId:r,transactionHash:o,notificationId:i,notificationAccountId:y,allowClickAccountNameSwitch:g,historyTx:$,isAllNetworks:P,checkIsFocused:U=!0}=t.params,R=(0,c.useRef)(!1),H=(0,c.useRef)(!1),z=(0,I.A)(),[W]=(0,v.useSettingsPersistAtom)(),{account:L,network:B,vaultSettings:V}=(0,w.b)({networkId:r,accountId:n}),Y=t.params?.accountAddress||L?.address,q=o||$?.decodedTx.txid||"",G=(0,k.yk)((function(){return m.A.serviceToken.getNativeToken({accountId:n,networkId:r})}),[n,r]).result,{result:X,isLoading:K}=(0,k.yk)((0,a.A)((function*(){if(Y){var e=yield m.A.serviceHistory.fetchHistoryTxDetails({accountId:n,networkId:r,accountAddress:Y,txid:q,fixConfirmedTxStatus:V?.fixConfirmedTxEnabled});R.current=!0,e?.data&&e?.data.status!==E.uU.Pending&&$?.decodedTx.status===O.Y1.Pending&&(H.current=!0,A.iL.emit(A.Tu.HistoryTxStatusChanged,void 0));var t=$;return!t&&e?.data&&(t=yield m.A.serviceHistory.decodeOnChainHistoryTx({accountId:n,networkId:r,accountAddress:Y,tx:e.data,tokens:e.tokens,nfts:e.nfts})),{txDetails:e?.data,decodedOnChainTx:t}}})),[Y,n,r,q,V?.fixConfirmedTxEnabled,$],{watchLoading:!0,pollingInterval:j.fu,checkIsFocused:U,overrideIsFocused:function(e){return e&&(!R.current||$?.decodedTx.status===O.Y1.Pending&&!H.current)}}),{txDetails:Z,decodedOnChainTx:Q}=X||{},J=null!=$?$:Q;(0,c.useEffect)((function(){Z&&i&&m.A.serviceNotification.ackNotificationMessage({msgId:i,action:D.hS.readed})}),[Z,i]);var ee=(0,c.useCallback)((function(){z.popStack()}),[z]),{handleReplaceTx:te,canReplaceTx:ne,canCancelTx:re}=(0,T.Y)({historyTx:J,onSuccess:ee,isConfirmed:Z&&Z.status!==E.uU.Pending}),oe=(0,c.useCallback)((function(){z.push(C.k.UTXODetails,{accountId:n,networkId:r,txId:q,inputs:J?.decodedTx.actions[0]?.assetTransfer?.utxoFrom,outputs:J?.decodedTx.actions[0]?.assetTransfer?.utxoTo})}),[z,n,r,q,J?.decodedTx.actions]),se=(0,c.useMemo)((function(){var t,n,r,o,s;if(J){var{decodedTx:a}=J,i=null!=(t=J.decodedTx.actions[0]?.assetTransfer?.sends)?t:[],l=null!=(n=J.decodedTx.actions[0]?.assetTransfer?.receives)?n:[];if(V?.isUtxo){var c,d,p,f,m,x,y,b=i.filter((function(e){return e.from!==Y})),g=l.filter((function(e){return e.to!==Y})),w=b.length>1?e.formatMessage({id:S.ETranslations.explore_addresses_count},{number:b.length}):null!=(c=null!=(d=b[0]?.from)?d:i[0]?.from)?c:a.signer,I=g.length>1?e.formatMessage({id:S.ETranslations.explore_addresses_count},{number:g.length}):null!=(p=null!=(f=null!=(m=g[0]?.to)?m:l[0]?.to)?f:a.to)?p:a.actions[0]?.assetTransfer?.to;return{from:w,to:I,isSingleTransfer:w===I||new u.A(null!=(x=b.length)?x:0).plus(null!=(y=g.length)?y:0).isLessThanOrEqualTo(1)}}var k=a.signer,T=null!=(r=a.actions[0]?.assetTransfer?.to)?r:a.to;return V?.impl!==_.Zx||T||(T=Z?.to),{from:k,to:T,isSingleTransfer:k===T||new u.A(null!=(o=i?.length)?o:0).plus(null!=(s=l?.length)?s:0).eq(1)}}}),[Y,J,e,Z?.to,V?.impl,V?.isUtxo]),ae=(0,c.useCallback)((function({transfers:e,approve:t,direction:n}){if(t){var o,s,a={name:t.name,symbol:t.symbol,icon:null!=(o=t.icon)?o:""};return(0,N.jsx)(AssetItem,{index:0,asset:a,direction:n,isApprove:!0,isApproveUnlimited:t.isInfiniteAmount,amount:t.amount,networkIcon:null!=(s=B?.logoURI)?s:"",currencySymbol:W.currencyInfo.symbol,isAllNetworks:P,networkId:r})}return e?.map((function(e,t){var o,s={name:e.name,symbol:e.symbol,icon:e.icon,isNFT:e.isNFT,isNative:e.isNative,price:e.price};return(0,N.jsx)(AssetItem,{index:t,asset:s,direction:n,amount:e.amount,networkIcon:null!=(o=B?.logoURI)?o:"",currencySymbol:W.currencyInfo.symbol,isAllNetworks:P,networkId:r},t)}))}),[P,B?.logoURI,r,W.currencyInfo.symbol]),ie=(0,c.useMemo)((function(){return!(!(se&&se.isSingleTransfer&&se.from&&se.to&&se.from===se.to)||s()(J?.decodedTx.actions[0]?.assetTransfer?.sends)||J?.decodedTx.actions[0]?.assetTransfer?.sends[0]?.tokenIdOnNetwork!==J?.decodedTx.actions[0]?.assetTransfer?.receives[0]?.tokenIdOnNetwork)}),[J?.decodedTx.actions,se]),le=(0,c.useMemo)((function(){if(!J)return"";var{decodedTx:t}=J,n=J.decodedTx.payload?.label,r=n,o=J.decodedTx.payload?.type,a=t.actions[0]?.assetTransfer?.sends,i=t.actions[0]?.assetTransfer?.receives;return ie||!s()(a)&&s()(i)?r=e.formatMessage({id:S.ETranslations.global_send}):s()(a)&&!s()(i)?r=e.formatMessage({id:S.ETranslations.global_receive}):o===E.mz.Send?r=e.formatMessage({id:S.ETranslations.global_send}):o===E.mz.Receive&&(r=e.formatMessage({id:S.ETranslations.global_receive})),(!J.isLocalCreated||t.status!==O.Y1.Pending&&n)&&(r=n),!r&&t.actions[0]?.assetTransfer?.isInternalSwap&&(r=e.formatMessage({id:S.ETranslations.global_swap})),r}),[J,e,ie]),ce=(0,c.useMemo)((function(){if(J){var{decodedTx:e}=J,t=e.actions[0]?.assetTransfer?.sends,n=e.actions[0]?.assetTransfer?.receives;V?.impl===_.Zx&&(t=e.actions[0]?.assetTransfer?.sends.map((function(e,t){return _objectSpread(_objectSpread({},e),Z?.sends?.[t])})),n=e.actions[0]?.assetTransfer?.receives.map((function(e,t){return _objectSpread(_objectSpread({},e),Z?.receives?.[t])})));var r=J.decodedTx.payload;if(V?.isUtxo&&(t=t?.filter((function(e){return!!l()(e.isOwn)||e.isOwn})),n=n?.filter((function(e){return!!l()(e.isOwn)||e.isOwn}))),ie&&r&&t&&!s()(t)&&!V?.isUtxo)n=[];else if(r){var o,a;if(r.type===E.mz.Send&&t&&!s()(t))t=[_objectSpread(_objectSpread({},t[0]),{},{from:e.signer,to:null!=(o=null!=(a=e.to)?a:e.actions[0]?.assetTransfer?.to)?o:"",amount:r.value})],n=[];else if(r.type===E.mz.Receive&&n&&!s()(n)){var i,c;n=[_objectSpread(_objectSpread({},n[0]),{},{from:e.signer,to:null!=(i=null!=(c=e.to)?c:e.actions[0]?.assetTransfer?.to)?i:"",amount:r.value})],t=[]}}var d=J.decodedTx.actions[0]?.tokenApprove;return[{transfers:t,direction:O.z.OUT},{transfers:n,direction:O.z.IN},{approve:d}].filter(Boolean)}}),[J,ie,Z?.receives,Z?.sends,V?.impl,V?.isUtxo]),de=(0,c.useCallback)((function(){return ne?(0,N.jsx)(f.XStack,{ml:"$5",children:re?(0,N.jsxs)(f.XStack,{gap:"$2",children:[(0,N.jsx)(f.Button,{size:"small",variant:"primary",onPress:function(){return te({replaceType:O.It.SpeedUp})},children:e.formatMessage({id:S.ETranslations.global_speed_up})}),(0,N.jsx)(f.Button,{size:"small",variant:"secondary",onPress:function(){return te({replaceType:O.It.Cancel})},children:e.formatMessage({id:S.ETranslations.global_cancel})})]}):(0,N.jsx)(f.Button,{size:"small",variant:"primary",onPress:function(){return te({replaceType:O.It.SpeedUp})},children:e.formatMessage({id:S.ETranslations.speed_up_cancellation})})}):null}),[re,ne,te,e]),ue=(0,c.useCallback)((function(){var t,{key:n,color:r}=function getTxStatusTextProps(e){return e===O.Y1.Pending||e===E.uU.Pending?{key:S.ETranslations.global_pending,color:"$textCaution"}:e===O.Y1.Confirmed||e===E.uU.Success?{key:S.ETranslations.global_success,color:"$textSuccess"}:e===O.Y1.Dropped||e===O.Y1.Removed||e===O.Y1.Failed||e===E.uU.Failed?{key:S.ETranslations.global_failed,color:"$textCritical"}:{key:S.ETranslations.global_pending,color:"$textCaution"}}(null!=(t=Z?.status)?t:J?.decodedTx.status);return(0,N.jsxs)(f.XStack,{minHeight:"$5",alignItems:"center",children:[(0,N.jsx)(f.SizableText,{size:"$bodyMdMedium",color:r,children:e.formatMessage({id:n})}),de()]})}),[J?.decodedTx.status,e,de,Z?.status]),pe=(0,c.useCallback)((function(){var t=J?.decodedTx.actions[0];if(t?.assetTransfer?.isInternalSwap){var{from:o,to:s,swapReceivedAddress:a,swapReceivedNetworkId:i}=t.assetTransfer;return(0,N.jsxs)(N.Fragment,{children:[s?(0,N.jsx)(F.W,{label:e.formatMessage({id:S.ETranslations.interact_with_contract}),renderContent:s,showCopy:!0,description:(0,N.jsx)(x.l,{address:s,networkId:r,accountId:n,allowClickAccountNameSwitch:g})}):null,(0,N.jsx)(F.W,{label:e.formatMessage({id:S.ETranslations.swap_history_detail_pay_address}),renderContent:o,showCopy:!0,description:(0,N.jsx)(x.l,{address:o,networkId:r,accountId:n,allowClickAccountNameSwitch:g})}),(0,N.jsx)(F.W,{label:e.formatMessage({id:S.ETranslations.swap_history_detail_received_address}),renderContent:a,showCopy:!0,description:(0,N.jsx)(x.l,{address:null!=a?a:"",networkId:null!=i?i:"",accountId:n,allowClickAccountNameSwitch:g})})]})}return V?.isUtxo&&!se?.isSingleTransfer?null:se?.from&&se?.to&&se?.isSingleTransfer?(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(F.W,{label:e.formatMessage({id:S.ETranslations.global_from}),renderContent:se.from,showCopy:!0,description:(0,N.jsx)(x.l,{address:se.from,networkId:r,accountId:n,allowClickAccountNameSwitch:g})}),(0,N.jsx)(F.W,{label:e.formatMessage({id:S.ETranslations.global_to}),renderContent:se.to,showCopy:!0,description:(0,N.jsx)(x.l,{address:se.to,networkId:r,accountId:n,allowClickAccountNameSwitch:g})})]}):se?.to?(0,N.jsx)(F.W,{label:e.formatMessage({id:S.ETranslations.interact_with_contract}),renderContent:se.to,showCopy:!0}):void 0}),[J?.decodedTx.actions,V?.isUtxo,se?.isSingleTransfer,se?.from,se?.to,e,r,n,g]),fe=(0,c.useCallback)((function(){var t=J?.decodedTx.actions[0]?.tokenApprove;if(t)return(0,N.jsx)(F.W,{label:e.formatMessage({id:S.ETranslations.global_for}),renderContent:t.spender,showCopy:!0})}),[J?.decodedTx.actions,e]),me=(0,c.useCallback)((function(){var e,t=function getHistoryTxMeta({impl:e}){var t={};switch(e){case _.g8:case _.gM:t={[E.RF.Flow]:LightningTxFlow,[E.RF.Attributes]:LightningTxAttributes};break;case _.wO:t={[E.RF.Attributes]:XrpTxAttributes};break;case _.SO:t={[E.RF.Flow]:AdaTxFlow};break;case _.iL:t={[E.RF.Flow]:DnxFlow,[E.RF.Attributes]:DnxAttributes};break;case _.bO:t={[E.RF.Attributes]:AlgoTxAttributes};break;case _.d1:t={[E.RF.Attributes]:TronAttributes}}return t}({impl:null!=(e=B?.impl)?e:""}),n=t?.[E.RF.Flow],r=t?.[E.RF.Attributes];return(0,N.jsxs)(N.Fragment,{children:[n&&J?.decodedTx?(0,N.jsx)(n,{decodedTx:J?.decodedTx}):pe(),fe(),r&&J?.decodedTx?(0,N.jsx)(r,{decodedTx:J?.decodedTx,txDetails:Z}):null]})}),[J?.decodedTx,B?.impl,fe,pe,Z]),xe=(0,M._6)({txDetails:Z,historyTx:J}),ye=(0,c.useCallback)((function(){var e;return(0,N.jsxs)(f.XStack,{alignItems:"center",children:[(0,N.jsx)(b.A,{formatter:"balance",size:"$bodyMd",color:"$textSubdued",formatterOptions:{tokenSymbol:G?.symbol},children:xe?.gasFee}),l()(xe?.gasFeeFiatValue)?null:(0,N.jsxs)(f.SizableText,{size:"$bodyMd",color:"$textSubdued",ml:"$1",children:["(",(0,N.jsx)(b.A,{formatter:"value",formatterOptions:{currency:W.currencyInfo.symbol},size:"$bodyMd",color:"$textSubdued",children:null!=(e=xe?.gasFeeFiatValue)?e:"0"}),")"]})]})}),[G?.symbol,W.currencyInfo.symbol,xe?.gasFee,xe?.gasFeeFiatValue]),be=(0,c.useCallback)((function(){var t,n;return K&&!R.current?(0,N.jsx)(f.Stack,{pt:240,justifyContent:"center",alignItems:"center",children:(0,N.jsx)(f.Spinner,{size:"large"})}):(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(f.Stack,{testID:"history-details-what-assets-change",children:ce?.map((function(e){return ae({transfers:e.transfers,approve:e.approve,direction:e.direction})}))}),(0,N.jsxs)(f.Stack,{testID:"history-details-main-content",children:[(0,N.jsxs)(F.d,{children:[(0,N.jsx)(F.W,{label:e.formatMessage({id:S.ETranslations.global_status}),renderContent:ue(),compact:!0}),(0,N.jsx)(F.W,{label:e.formatMessage({id:S.ETranslations.global_time}),renderContent:xe?.date,compact:!0})]}),y?(0,N.jsx)(NotificationAccountInfo,{notificationAccountId:y,networkId:r,allowClickAccountNameSwitch:g}):null,(0,N.jsx)(f.Divider,{mx:"$5"}),(0,N.jsxs)(F.d,{children:[me(),(0,N.jsx)(F.W,{label:e.formatMessage({id:S.ETranslations.global_transaction_id}),renderContent:q,showCopy:!0,openWithUrl:V?.hideBlockExplorer?void 0:function(){(0,h.oV)({networkId:B?.id,txid:q})}}),(0,N.jsx)(F.W,{label:e.formatMessage({id:S.ETranslations.swap_history_detail_network_fee}),renderContent:ye(),compact:!0}),(0,N.jsx)(F.W,{label:e.formatMessage({id:S.ETranslations.global_network}),renderContent:B?.name||"--",compact:!0}),new u.A(null!=(t=xe?.blockHeight)?t:0).isGreaterThan(0)?(0,N.jsx)(F.W,{label:e.formatMessage({id:S.ETranslations.global_block_height}),renderContent:String(xe?.blockHeight),compact:!0}):null,V?.nonceRequired&&!l()(xe?.nonce)?(0,N.jsx)(F.W,{label:"Nonce",renderContent:String(xe?.nonce),compact:!0}):null,new u.A(null!=(n=xe?.confirmations)?n:0).isGreaterThan(0)?(0,N.jsx)(F.W,{label:e.formatMessage({id:S.ETranslations.global_confirmations}),renderContent:String(xe?.confirmations),compact:!0}):null,!V?.isUtxo||J?.decodedTx.status===O.Y1.Pending&&V.hideTxUtxoListWhenPending?null:(0,N.jsx)(F.W,{renderContent:(0,N.jsxs)(f.Button,{size:"medium",onPress:oe,variant:"secondary",iconAfter:"ChevronRightSmallOutline",children:[e.formatMessage({id:S.ETranslations.global_inputs})," ","&"," ",e.formatMessage({id:S.ETranslations.global_outputs})]})})]})]})]})}),[K,ce,e,ue,xe?.date,xe?.blockHeight,xe?.nonce,xe?.confirmations,y,r,g,me,q,V?.hideBlockExplorer,V?.nonceRequired,V?.isUtxo,V?.hideTxUtxoListWhenPending,ye,B?.name,B?.id,J?.decodedTx.status,oe,ae]);return(0,N.jsxs)(f.Page,{scrollEnabled:!0,"data-sentry-element":"Page","data-sentry-component":"HistoryDetails","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/AssetDetails/pages/HistoryDetails/HistoryDetails.tsx",children:[(0,N.jsx)(f.Page.Header,{headerTitle:le,"data-sentry-element":"unknown","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/AssetDetails/pages/HistoryDetails/HistoryDetails.tsx"}),(0,N.jsx)(f.Page.Body,{testID:"history-details-body","data-sentry-element":"unknown","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/AssetDetails/pages/HistoryDetails/HistoryDetails.tsx",children:be()})]})}},957972:(e,t,n)=>{n.r(t),n.d(t,{default:()=>modal_SwapHistoryDetailModal});var r=n(586330),o=n(503668),s=n.n(o),a=n(324586),i=n(514041),l=n(654266),c=n(241440),d=n(908867),u=n(490343),p=n(643087),f=n(906315),m=n(498356),x=n(714718),y=n(471169),b=n(334439),g=n(117746),w=n(734818),I=n(232471),k=n(193281),T=n(332362),h=n(619390),v=n(911998),j=n(831085);function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){(0,a.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _=function(e){return e.PROVIDER="provider",e.FROM="from",e.TO="to",e}(_||{}),ExplorersList=function({data:e,onPressItem:t}){var n=(0,d.A)(),r=(0,i.useCallback)((function(e){switch(e){case _.FROM:return n.formatMessage({id:b.ETranslations.swap_history_detail_from});case _.TO:return n.formatMessage({id:b.ETranslations.swap_history_detail_to});case _.PROVIDER:return n.formatMessage({id:b.ETranslations.swap_history_detail_provider});default:return""}}),[n]),o=(0,i.useCallback)((function({item:o,index:s}){return(0,j.jsxs)(u.YStack,_objectSpread(_objectSpread({gap:"$4",px:"$5",pb:"$5",cursor:"pointer"},!o.url&&{opacity:.5}),{},{onPress:function(){o.url&&t(o)},children:[(0,j.jsx)(u.SizableText,{size:"$headingSm",children:r(o.type)}),(0,j.jsxs)(u.XStack,{justifyContent:"space-between",children:[(0,j.jsxs)(u.XStack,{gap:"$2",children:[(0,j.jsxs)(u.Image,{height:"$6",width:"$6",borderRadius:"$full",children:[(0,j.jsx)(u.Image.Source,{source:{uri:o.logo}}),(0,j.jsx)(u.Image.Fallback,{alignItems:"center",justifyContent:"center",bg:"$bgStrong",delayMs:1e3,children:(0,j.jsx)(u.Icon,{size:"$5",name:"CoinOutline",color:"$iconDisabled"})})]}),(0,j.jsx)(u.SizableText,{size:"$bodyLg",children:o.name})]}),o.status!==h.lr.PENDING&&o.status!==h.lr.CANCELING||o.type!==_.TO?null:(0,j.jsx)(u.Badge,{badgeType:"info",badgeSize:"lg",children:n.formatMessage({id:b.ETranslations.swap_history_detail_status_pending})})]}),e?.length&&s===e.length-1?null:(0,j.jsx)(u.Divider,{})]}))}),[e?.length,n,t,r]);return(0,j.jsx)(u.ListView,{pt:"$5",estimatedItemSize:"$10",data:e,renderItem:o,"data-sentry-element":"ListView","data-sentry-component":"ExplorersList","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/components/SwapHistoryTxViewInBrowser.tsx"})};const SwapHistoryTxViewInBrowser=function({item:e,onViewInBrowser:t}){var n=(0,d.A)(),o=(0,i.useMemo)((function(){return e.baseInfo.fromNetwork?.networkId===e.baseInfo.toNetwork?.networkId}),[e.baseInfo.fromNetwork?.networkId,e.baseInfo.toNetwork?.networkId]),s=(0,i.useMemo)((function(){return!!e.swapInfo.socketBridgeScanUrl}),[e.swapInfo.socketBridgeScanUrl]),a=(0,i.useCallback)((0,r.A)((function*(){var t,n=e.baseInfo.fromNetwork?.logoURI,r="";return e.baseInfo.fromNetwork?.networkId&&(r=yield p.A.serviceExplorer.buildExplorerUrl({networkId:e.baseInfo.fromNetwork?.networkId,type:"transaction",param:e.txInfo.txId})),{name:null!=(t=e.baseInfo.fromNetwork?.name)?t:"-",url:r,logo:n,status:e.status,type:_.FROM}})),[e.baseInfo.fromNetwork?.logoURI,e.baseInfo.fromNetwork?.name,e.baseInfo.fromNetwork?.networkId,e.status,e.txInfo.txId]),l=(0,i.useCallback)((0,r.A)((function*(){var t,n=e.baseInfo.toNetwork?.logoURI,r="";return e.txInfo.receiverTransactionId&&e.baseInfo.toNetwork?.networkId&&e.status===h.lr.SUCCESS&&(r=yield p.A.serviceExplorer.buildExplorerUrl({networkId:e.baseInfo.toNetwork?.networkId,type:"transaction",param:e.txInfo.receiverTransactionId})),{name:null!=(t=e.baseInfo.toNetwork?.name)?t:"-",url:r,logo:n,status:e.status,type:_.TO}})),[e.baseInfo.toNetwork?.logoURI,e.baseInfo.toNetwork?.name,e.baseInfo.toNetwork?.networkId,e.status,e.txInfo.receiverTransactionId]),c=(0,i.useMemo)((function(){var t=e.swapInfo.provider?.providerLogo,n=e.swapInfo.socketBridgeScanUrl?`${e.swapInfo.socketBridgeScanUrl}${e.txInfo.txId}`:"";return{name:e.swapInfo.provider.providerName,url:n,logo:t,status:e.status,type:_.PROVIDER}}),[e.status,e.swapInfo.provider?.providerLogo,e.swapInfo.provider.providerName,e.swapInfo.socketBridgeScanUrl,e.txInfo.txId]),f=(0,i.useCallback)((function(e){e.url&&t(e.url)}),[t]),m=(0,i.useCallback)((0,r.A)((function*(){var e=[yield a(),yield l()];return s&&(e=[c,...e]),e})),[a,s,c,l]),x=(0,v.yk)(m,[m],{}),y=(0,i.useMemo)((function(){return(0,j.jsx)(u.Button,{onPress:(0,r.A)((function*(){o&&f(yield a())})),size:"small",variant:"secondary",iconAfter:"OpenOutline",iconColor:"$iconSubdued",children:n.formatMessage({id:b.ETranslations.swap_history_detail_view_in_browser})})}),[a,n,o,f]);return o?y:(0,j.jsx)(u.Popover,{title:n.formatMessage({id:b.ETranslations.swap_history_detail_view_in_browser}),renderTrigger:y,renderContent:(0,j.jsx)(ExplorersList,{data:x.result,onPressItem:f}),"data-sentry-element":"Popover","data-sentry-component":"SwapTxHistoryViewInBrowser","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/components/SwapHistoryTxViewInBrowser.tsx"})};var A=n(403144);const components_SwapRateInfoItem=function({rate:e,fromToken:t,toToken:n}){var[r,o]=(0,i.useState)(!1),s=(0,i.useCallback)((function(){o((function(e){return!e}))}),[]),a=(0,i.useMemo)((function(){var o=new c.A(null!=e?e:0),s=new c.A(1).div(o),a=(0,A.jq)(r?s.toFixed():o.toFixed(),{formatter:"balance"});return r?`1 ${n.symbol.toUpperCase()} = ${a} ${t.symbol.toUpperCase()}`:`1 ${t.symbol.toUpperCase()} = ${a} ${n.symbol.toUpperCase()}`}),[t,e,r,n]);return(0,j.jsx)(u.XStack,{alignItems:"center",gap:"$2",cursor:"pointer",onPress:s,"data-sentry-element":"XStack","data-sentry-component":"SwapRateInfoItem","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/components/SwapRateInfoItem.tsx",children:(0,j.jsx)(u.SizableText,{color:"$textSubdued",size:"$bodyMd","data-sentry-element":"SizableText","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/components/SwapRateInfoItem.tsx",children:a})})};var S=n(100009);function SwapHistoryDetailModal_ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function SwapHistoryDetailModal_objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?SwapHistoryDetailModal_ownKeys(Object(n),!0).forEach((function(t){(0,a.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SwapHistoryDetailModal_ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const modal_SwapHistoryDetailModal=function(){var e,t=(0,m.A)(),n=(0,l.lq)(),o=(0,d.A)(),{txHistory:a}=null!=(e=n.params)?e:{},[h]=(0,y.useSettingsPersistAtom)(),{formatDate:v}=(0,x.A)(),_=(0,i.useCallback)((function(e){(0,g.Dr)(e)}),[]),{md:A}=(0,u.useMedia)(),C=(0,i.useCallback)((function(){var e,t,n,r,o,s,i,l,d,u,p={name:null!=(e=a.baseInfo.fromToken.name)?e:"",symbol:a.baseInfo.fromToken.symbol,icon:null!=(t=a.baseInfo.fromToken.logoURI)?t:"",isNFT:!1,isNative:!!a.baseInfo.fromToken.isNative,price:null!=(n=a.baseInfo.fromToken?.price)?n:"0"},f={name:null!=(r=a.baseInfo.toToken.name)?r:"",symbol:a.baseInfo.toToken.symbol,icon:null!=(o=a.baseInfo.toToken.logoURI)?o:"",isNFT:!1,isNative:!!a.baseInfo.toToken.isNative,price:null!=(s=a.baseInfo.toToken?.price)?s:"0"},m=a.baseInfo.fromAmount,x=[];return a.swapInfo.otherFeeInfos?.length&&a.swapInfo.otherFeeInfos.forEach((function(e){var t,n,r,o,s;(0,w.BQ)({token1:e.token,token2:a.baseInfo.fromToken})?m=new c.A(m).plus(null!=(t=e.amount)?t:0).toFixed():x=[...x,{name:null!=(n=e.token?.name)?n:"",symbol:null!=(r=e.token?.symbol)?r:"",icon:null!=(o=e.token?.logoURI)?o:"",isNFT:!1,isNative:!!e.token?.isNative,price:null!=(s=e.token?.price)?s:"0",amount:e.amount}]})),(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(k.AssetItem,{index:0,direction:I.z.IN,asset:f,isAllNetworks:!0,amount:a.baseInfo.toAmount,networkIcon:null!=(i=a.baseInfo.toNetwork?.logoURI)?i:"",currencySymbol:null!=(l=a.currency)?l:h.currencyInfo.symbol}),(0,j.jsx)(k.AssetItem,{index:1,direction:I.z.OUT,asset:p,isAllNetworks:!0,amount:m,networkIcon:null!=(d=a.baseInfo.fromNetwork?.logoURI)?d:"",currencySymbol:null!=(u=a.currency)?u:h.currencyInfo.symbol}),x.map((function(e,t){var n,r,o;return(0,j.jsx)(k.AssetItem,{index:t+2,direction:I.z.OUT,asset:e,isAllNetworks:!0,amount:null!=(n=e.amount)?n:"0",networkIcon:null!=(r=a.baseInfo.fromNetwork?.logoURI)?r:"",currencySymbol:null!=(o=a.currency)?o:h.currencyInfo.symbol},t)}))]})}),[h.currencyInfo.symbol,a]),M=(0,i.useCallback)((function(){var{status:e}=a,{key:t,color:n}=(0,S.xG)(e);return(0,j.jsxs)(u.Stack,SwapHistoryDetailModal_objectSpread(SwapHistoryDetailModal_objectSpread({flexDirection:A?"row":"column"},A?{alignItems:"center",justifyContent:"space-between"}:{alignItems:"flex-start",gap:"$2"}),{},{children:[(0,j.jsx)(u.SizableText,{size:16,color:n,children:o.formatMessage({id:t})}),(0,j.jsx)(SwapHistoryTxViewInBrowser,{item:a,onViewInBrowser:_})]}))}),[o,A,_,a]),E=(0,i.useCallback)((function(){var{created:e}=a.date,t=new Date(e),n=v(t);return(0,j.jsx)(u.SizableText,{size:14,color:"$textSubdued",children:n})}),[v,a.date]),D=(0,i.useCallback)((function(){return(0,j.jsxs)(u.XStack,{alignItems:"center",gap:"$1",children:[(0,j.jsx)(u.Image,{source:{uri:a.swapInfo.provider.providerLogo},w:"$5",h:"$5",borderRadius:"$1"}),(0,j.jsx)(u.SizableText,{size:"$bodyLg",color:"$textSubdued",children:a.swapInfo.provider.providerName})]})}),[a.swapInfo.provider.providerName,a.swapInfo.provider.providerLogo]),O=(0,i.useCallback)((function(){var e,t,{gasFeeFiatValue:n,gasFeeInNative:r}=a.txInfo,o=new c.A(null!=r?r:0).toFixed();return(0,j.jsxs)(u.SizableText,{size:"$bodyMd",color:"$textSubdued",children:[(0,j.jsx)(u.NumberSizeableText,{size:"$bodyMd",color:"$textSubdued",formatter:"balance",children:o}),` ${null!=(e=a.baseInfo.fromNetwork?.symbol)?e:""}`,"(",(0,j.jsx)(u.NumberSizeableText,{color:"$textSubdued",size:"$bodyMd",formatter:"value",formatterOptions:{currency:null!=(t=a.currency)?t:h.currencyInfo.symbol},children:null!=n?n:0}),")"]})}),[h.currencyInfo.symbol,a.baseInfo.fromNetwork?.symbol,a.currency,a.txInfo]),F=(0,i.useCallback)((function(){return(0,j.jsx)(components_SwapRateInfoItem,{rate:a.swapInfo.instantRate,fromToken:a.baseInfo.fromToken,toToken:a.baseInfo.toToken})}),[a.baseInfo.fromToken,a.baseInfo.toToken,a.swapInfo.instantRate]),N=(0,i.useCallback)((function(){var e;return a?(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(u.Stack,{children:C()}),(0,j.jsxs)(u.Stack,{children:[(0,j.jsxs)(T.d,{children:[(0,j.jsx)(T.W,{label:o.formatMessage({id:b.ETranslations.swap_history_detail_order_status}),renderContent:M(),compact:!0}),(0,j.jsx)(T.W,{label:o.formatMessage({id:b.ETranslations.swap_history_detail_date}),renderContent:E(),compact:!0})]}),(0,j.jsx)(u.Divider,{mx:"$5"}),(0,j.jsxs)(T.d,{children:[(0,j.jsx)(T.W,{label:o.formatMessage({id:b.ETranslations.swap_history_detail_pay_address}),renderContent:a.txInfo.sender,showCopy:!0,description:(0,j.jsx)(f.l,{address:a.txInfo.sender,networkId:a.accountInfo?.sender.networkId,accountId:a.accountInfo?.sender.accountId})}),(0,j.jsx)(T.W,{label:o.formatMessage({id:b.ETranslations.swap_history_detail_received_address}),renderContent:a.txInfo.receiver,description:(0,j.jsx)(f.l,{address:a.txInfo.receiver,networkId:a.accountInfo?.receiver.networkId,accountId:a.accountInfo?.receiver.accountId}),showCopy:!0}),(0,j.jsx)(T.W,{label:o.formatMessage({id:b.ETranslations.swap_history_detail_transaction_hash}),renderContent:a.txInfo.txId,showCopy:!0}),(0,j.jsx)(T.W,{label:o.formatMessage({id:b.ETranslations.swap_history_detail_network_fee}),renderContent:O()})]}),(0,j.jsx)(u.Divider,{mx:"$5"}),(0,j.jsxs)(T.d,{children:[(0,j.jsx)(T.W,{disabledCopy:!0,label:o.formatMessage({id:b.ETranslations.swap_history_detail_provider}),renderContent:D()}),a.txInfo.orderId?(0,j.jsx)(T.W,{label:"Order ID",renderContent:a.txInfo.orderId,showCopy:!0}):null,(0,j.jsx)(T.W,{disabledCopy:!0,label:o.formatMessage({id:b.ETranslations.swap_history_detail_rate}),renderContent:F()}),s()(a.swapInfo.protocolFee)?null:(0,j.jsx)(T.W,{disabledCopy:!0,label:o.formatMessage({id:b.ETranslations.swap_history_detail_protocol_fee}),renderContent:(0,j.jsx)(u.NumberSizeableText,{size:"$bodyMd",color:"$textSubdued",formatter:"value",formatterOptions:{currency:null!=(e=a.currency)?e:h.currencyInfo.symbol},children:a.swapInfo.protocolFee.toString()})})]})]})]}):null}),[o,O,F,C,E,M,D,h.currencyInfo.symbol,a]),$=(0,i.useCallback)((function(){var e;u.Dialog.show({title:o.formatMessage({id:b.ETranslations.swap_history_detail_clear_title}),onConfirm:(e=(0,r.A)((function*(){yield p.A.serviceSwap.cleanOneSwapHistory(a.txInfo.txId),p.A.serviceApp.showToast({method:"success",title:o.formatMessage({id:b.ETranslations.settings_clear_successful})}),t.pop()})),function onConfirm(){return e.apply(this,arguments)}),onConfirmText:o.formatMessage({id:b.ETranslations.global_clear}),onCancelText:o.formatMessage({id:b.ETranslations.global_cancel})})}),[o,t,a.txInfo.txId]),P=(0,i.useCallback)((function(){return(0,j.jsx)(u.Button,{variant:"tertiary",onPress:$,children:o.formatMessage({id:b.ETranslations.global_clear})})}),[o,$]);return(0,j.jsxs)(u.Page,{scrollEnabled:!0,"data-sentry-element":"Page","data-sentry-component":"SwapHistoryDetailModal","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/pages/modal/SwapHistoryDetailModal.tsx",children:[(0,j.jsx)(u.Page.Header,{headerTitle:o.formatMessage({id:b.ETranslations.swap_history_detail_title}),headerRight:P,"data-sentry-element":"unknown","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/pages/modal/SwapHistoryDetailModal.tsx"}),(0,j.jsx)(u.Page.Body,{"data-sentry-element":"unknown","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/pages/modal/SwapHistoryDetailModal.tsx",children:N()}),a.swapInfo.supportUrl?(0,j.jsx)(u.Page.Footer,{onConfirmText:o.formatMessage({id:b.ETranslations.global_support}),confirmButtonProps:{icon:"BubbleAnnotationOutline",variant:"secondary"},onConfirm:function(){var e;_(null!=(e=a.swapInfo.supportUrl)?e:"")}}):null]})}},121684:(e,t,n)=>{n.d(t,{A:()=>formatDuration});var r=n(766017),o=n(372231),s=["years","months","weeks","days","hours","minutes","seconds"];function formatDuration(e,t){var n,a,i,l,c;if(arguments.length<1)throw new TypeError("1 argument required, but only ".concat(arguments.length," present"));var d=(0,r.q)(),u=null!==(n=null!==(a=null==t?void 0:t.locale)&&void 0!==a?a:d.locale)&&void 0!==n?n:o.A,p=null!==(i=null==t?void 0:t.format)&&void 0!==i?i:s,f=null!==(l=null==t?void 0:t.zero)&&void 0!==l&&l,m=null!==(c=null==t?void 0:t.delimiter)&&void 0!==c?c:" ";return u.formatDistance?p.reduce((function(t,n){var r="x".concat(n.replace(/(^.)/,(function(e){return e.toUpperCase()}))),o=e[n];return"number"==typeof o&&(f||e[n])?t.concat(u.formatDistance(r,o)):t}),[]).join(m):""}}}]);
//# sourceMappingURL=57972.6377800e1a.chunk.js.map