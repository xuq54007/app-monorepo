{"version":3,"file":"static/js/72300.3cf85a807d.chunk.js","mappings":"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","sources":["webpack://web/../../packages/kit/src/views/Onboarding/pages/V4Migration/V4MigrationDone.tsx","webpack://web/../../packages/kit/src/views/Onboarding/pages/V4Migration/components/V4MigrationLogCopy.tsx","webpack://web/../../packages/kit/src/views/Onboarding/pages/V4Migration/components/V4MigrationModalPage.tsx","webpack://web/../../packages/kit/src/views/Onboarding/pages/V4Migration/hooks/useV4MigrationExitPrevent.tsx","webpack://web/../../node_modules/expo-keep-awake/build/KeepAwake.types.js","webpack://web/../../node_modules/expo-keep-awake/build/ExpoKeepAwake.web.js","webpack://web/../../node_modules/expo-keep-awake/build/index.js"],"sourcesContent":["import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import{useState}from'react';import{useIntl}from'react-intl';import{Button,Icon,Page,SizableText}from'@onekeyhq/components';import backgroundApiProxy from'@onekeyhq/kit/src/background/instance/backgroundApiProxy';import useAppNavigation from'@onekeyhq/kit/src/hooks/useAppNavigation';import{ETranslations}from'@onekeyhq/shared/src/locale';import{ERootRoutes,ETabRoutes}from'@onekeyhq/shared/src/routes';import timerUtils from'@onekeyhq/shared/src/utils/timerUtils';import{V4MigrationLogCopy}from\"./components/V4MigrationLogCopy\";import{V4MigrationModalPage}from\"./components/V4MigrationModalPage\";import{EModalExitPreventMode}from\"./hooks/useV4MigrationExitPrevent\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export function V4MigrationDone({route}){var navigation=useAppNavigation();var intl=useIntl();var[preventClose,setPreventClose]=useState(true);return _jsxs(V4MigrationModalPage,{scrollEnabled:false,exitPreventMode:preventClose?EModalExitPreventMode.always:EModalExitPreventMode.disabled,\"data-sentry-element\":\"V4MigrationModalPage\",\"data-sentry-component\":\"V4MigrationDone\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Onboarding/pages/V4Migration/V4MigrationDone.tsx\",children:[_jsx(Page.Header,{headerShown:false,\"data-sentry-element\":\"unknown\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Onboarding/pages/V4Migration/V4MigrationDone.tsx\"}),_jsxs(Page.Body,{flex:1,justifyContent:\"center\",alignItems:\"center\",gap:\"$5\",p:\"$5\",\"data-sentry-element\":\"unknown\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Onboarding/pages/V4Migration/V4MigrationDone.tsx\",children:[_jsx(V4MigrationLogCopy,{\"data-sentry-element\":\"V4MigrationLogCopy\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Onboarding/pages/V4Migration/V4MigrationDone.tsx\",children:_jsx(Icon,{name:\"CheckRadioSolid\",size:\"$24\",$gtMd:{size:'$20'},color:\"$iconSuccess\",\"data-sentry-element\":\"Icon\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Onboarding/pages/V4Migration/V4MigrationDone.tsx\"})}),_jsx(SizableText,{textAlign:\"center\",size:\"$heading2xl\",\"data-sentry-element\":\"SizableText\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Onboarding/pages/V4Migration/V4MigrationDone.tsx\",children:intl.formatMessage({id:ETranslations.v4_migration_completed_title})}),_jsx(SizableText,{textAlign:\"center\",color:\"$textSubdued\",\"data-sentry-element\":\"SizableText\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Onboarding/pages/V4Migration/V4MigrationDone.tsx\",children:intl.formatMessage({id:ETranslations.v4_migration_completed_desc})}),_jsx(Button,{size:\"large\",$gtMd:{size:'medium'},variant:\"primary\",onPress:_asyncToGenerator(function*(){setPreventClose(false);yield timerUtils.wait(300);navigation.popStack();yield timerUtils.wait(300);navigation.navigate(ERootRoutes.Main,{screen:ETabRoutes.Home});setTimeout(function(){void backgroundApiProxy.serviceCloudBackup.requestAutoBackup();},3000);}),\"data-sentry-element\":\"Button\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Onboarding/pages/V4Migration/V4MigrationDone.tsx\",children:intl.formatMessage({id:ETranslations.global_explore_now})})]})]});}export default V4MigrationDone;","import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _objectWithoutProperties from\"@babel/runtime/helpers/objectWithoutProperties\";var _excluded=[\"children\"];function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}import{Stack}from'@onekeyhq/components';import{MultipleClickStack}from'@onekeyhq/kit/src/components/MultipleClickStack';import platformEnv from'@onekeyhq/shared/src/platformEnv';import{useV4MigrationActions}from\"../hooks/useV4MigrationActions\";import{jsx as _jsx}from\"react/jsx-runtime\";export function V4MigrationLogCopy(_ref){var{children}=_ref,others=_objectWithoutProperties(_ref,_excluded);var actions=useV4MigrationActions();return _jsx(MultipleClickStack,_objectSpread(_objectSpread({},others),{},{onPress:function(){void actions.copyV4MigrationLogs();},\"data-sentry-element\":\"MultipleClickStack\",\"data-sentry-component\":\"V4MigrationLogCopy\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Onboarding/pages/V4Migration/components/V4MigrationLogCopy.tsx\",children:children}));}export function V4MigrationLogCopyHeaderRight(){return _jsx(V4MigrationLogCopy,{\"data-sentry-element\":\"V4MigrationLogCopy\",\"data-sentry-component\":\"V4MigrationLogCopyHeaderRight\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Onboarding/pages/V4Migration/components/V4MigrationLogCopy.tsx\",children:_jsx(Stack,{w:\"$8\",h:\"$8\",backgroundColor:false?'$bgCriticalSubdued':undefined,\"data-sentry-element\":\"Stack\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Onboarding/pages/V4Migration/components/V4MigrationLogCopy.tsx\"})});}","import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _objectWithoutProperties from\"@babel/runtime/helpers/objectWithoutProperties\";var _excluded=[\"children\",\"onMounted\",\"exitPreventMode\",\"isAutoStartOnMount\"];function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}import{useEffect,useRef}from'react';import{Page}from'@onekeyhq/components';import{useRouteIsFocused as useIsFocused}from'@onekeyhq/kit/src/hooks/useRouteIsFocused';import{v4migrationAtom}from'@onekeyhq/kit-bg/src/states/jotai/atoms';import{EModalExitPreventMode,useV4MigrationExitPrevent}from\"../hooks/useV4MigrationExitPrevent\";import{jsx as _jsx}from\"react/jsx-runtime\";export function V4MigrationModalPage(_ref){var{children,onMounted,exitPreventMode=EModalExitPreventMode.confirm,isAutoStartOnMount}=_ref,rest=_objectWithoutProperties(_ref,_excluded);var timer=useRef(null);var isFocused=useIsFocused();useV4MigrationExitPrevent({exitPreventMode,isAutoStartOnMount});useEffect(function(){if(isFocused){clearTimeout(timer.current);}},[isFocused]);return _jsx(Page,_objectSpread(_objectSpread({scrollEnabled:true,onMounted:_asyncToGenerator(function*(){yield v4migrationAtom.set(function(v){return _objectSpread(_objectSpread({},v),{},{isMigrationModalOpen:true});});onMounted?.();}),onUnmounted:function(){},onClose:function(){}},rest),{},{\"data-sentry-element\":\"Page\",\"data-sentry-component\":\"V4MigrationModalPage\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Onboarding/pages/V4Migration/components/V4MigrationModalPage.tsx\",children:children}));}","import _defineProperty from\"@babel/runtime/helpers/defineProperty\";function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}import{useCallback,useEffect,useState}from'react';import{useKeepAwake}from'expo-keep-awake';import{useIntl}from'react-intl';import Alert from\"react-native-web/dist/exports/Alert\";import BackHandler from\"react-native-web/dist/exports/BackHandler\";import{Checkbox,Dialog,SizableText,Stack,usePreventRemove}from'@onekeyhq/components';import useAppNavigation from'@onekeyhq/kit/src/hooks/useAppNavigation';import{useRouteIsFocused as useIsFocused}from'@onekeyhq/kit/src/hooks/useRouteIsFocused';import{useV4migrationPersistAtom}from'@onekeyhq/kit-bg/src/states/jotai/atoms';import{ETranslations}from'@onekeyhq/shared/src/locale';import platformEnv from'@onekeyhq/shared/src/platformEnv';import{useV4MigrationActions}from\"./useV4MigrationActions\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var isNavExitConfirmShow=false;export var EModalExitPreventMode=function(EModalExitPreventMode){EModalExitPreventMode[\"always\"]=\"always\";EModalExitPreventMode[\"confirm\"]=\"confirm\";EModalExitPreventMode[\"disabled\"]=\"disabled\";return EModalExitPreventMode;}({});function ModalExitPreventDialogContent({message,onCancelText,onConfirmText,preventRemoveData,isAutoStartOnMount}){var intl=useIntl();var navigation=useAppNavigation();var[v4MigrationPersistData,setV4MigrationPersistData]=useV4migrationPersistAtom();var[dontShowAgain,setDontShowAgain]=useState(false);return _jsxs(Stack,{\"data-sentry-element\":\"Stack\",\"data-sentry-component\":\"ModalExitPreventDialogContent\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Onboarding/pages/V4Migration/hooks/useV4MigrationExitPrevent.tsx\",children:[_jsx(SizableText,{\"data-sentry-element\":\"SizableText\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Onboarding/pages/V4Migration/hooks/useV4MigrationExitPrevent.tsx\",children:message}),isAutoStartOnMount&&(v4MigrationPersistData?.v4migrationAutoStartCount||0)>=3?_jsx(Stack,{children:_jsx(Checkbox,{value:dontShowAgain,onChange:function(){return setDontShowAgain(!dontShowAgain);},label:intl.formatMessage({id:ETranslations.v4_migration_exit_migration_checkbox_label})})}):null,_jsx(Dialog.Footer,{onConfirmText:onConfirmText,onConfirm:function(){navigation.dispatch(preventRemoveData.action);if(dontShowAgain){setV4MigrationPersistData(function(v){return _objectSpread(_objectSpread({},v),{},{v4migrationAutoStartDisabled:true});});}},onCancelText:onCancelText,\"data-sentry-element\":\"unknown\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Onboarding/pages/V4Migration/hooks/useV4MigrationExitPrevent.tsx\"})]});}export function useModalExitPrevent({exitPreventMode,isAutoStartOnMount,title,message,onConfirmText,onCancelText}){var isFocused=useIsFocused();var navPreventRemoveCallback=useCallback(function({data}){if(isNavExitConfirmShow){return;}isNavExitConfirmShow=true;Dialog.show({title,renderContent:_jsx(ModalExitPreventDialogContent,{onCancelText:onCancelText,onConfirmText:onConfirmText,preventRemoveData:data,message:message,isAutoStartOnMount:isAutoStartOnMount}),onClose:function(){isNavExitConfirmShow=false;}});},[isAutoStartOnMount,message,onCancelText,onConfirmText,title]);var shouldPreventRemove=exitPreventMode!==EModalExitPreventMode.disabled&&isFocused;var preventRemoveCallback=exitPreventMode===EModalExitPreventMode.confirm?navPreventRemoveCallback:function(){return null;};usePreventRemove(shouldPreventRemove,preventRemoveCallback);}export function useAppExitPrevent({message,title}){var intl=useIntl();useEffect(function(){if(platformEnv.isRuntimeBrowser&&!platformEnv.isExtensionUiPopup){var fn=function(event){event.preventDefault();event.returnValue=true;return message;};window.addEventListener('beforeunload',fn);return function(){window.removeEventListener('beforeunload',fn);};}},[message]);useEffect(function(){var onBackPress=function(){Alert.alert(title,message,[{text:intl.formatMessage({id:ETranslations.global_cancel}),onPress:function(){},style:'cancel'},{text:intl.formatMessage({id:ETranslations.global_quit}),onPress:function(){return BackHandler.exitApp();}}],{cancelable:false});return true;};var backHandler=BackHandler.addEventListener('hardwareBackPress',onBackPress);return function(){return backHandler.remove();};},[message,title,intl]);}export function useExtensionV4MigrationFromExpandTab(){var actions=useV4MigrationActions();useEffect(function(){if(platformEnv.isExtensionUiPopup){void actions.openV4MigrationOfExtension();window.close();}},[actions]);}export function useIsV4MigrationAutoStartFirstTime(){var[v4migrationPersistData]=useV4migrationPersistAtom();var isAutoStartInFirstTime=!v4migrationPersistData.v4migrationAutoStartDisabled&&(!v4migrationPersistData?.v4migrationAutoStartCount||v4migrationPersistData?.v4migrationAutoStartCount<=1);return isAutoStartInFirstTime;}export function useV4MigrationExitPrevent({exitPreventMode,isAutoStartOnMount}){var intl=useIntl();var title=intl.formatMessage({id:ETranslations.confirm_exit_dialog_title});var message=intl.formatMessage({id:ETranslations.confirm_exit_dialog_desc});var onConfirmText=intl.formatMessage({id:ETranslations.global_exit});var onCancelText=intl.formatMessage({id:ETranslations.global_cancel});var isAutoStartInFirstTime=useIsV4MigrationAutoStartFirstTime();useKeepAwake();var shouldAlwaysPreventExit=isAutoStartInFirstTime&&exitPreventMode===EModalExitPreventMode.confirm;useModalExitPrevent({exitPreventMode:shouldAlwaysPreventExit?EModalExitPreventMode.always:exitPreventMode,isAutoStartOnMount,title,message,onConfirmText,onCancelText});useAppExitPrevent({title,message});useExtensionV4MigrationFromExpandTab();}","export var KeepAwakeEventState;(function(KeepAwakeEventState){KeepAwakeEventState[\"RELEASE\"]=\"release\";})(KeepAwakeEventState||(KeepAwakeEventState={}));","import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import{CodedError,Platform}from'expo-modules-core';import{KeepAwakeEventState}from\"./KeepAwake.types\";var wakeLockMap={};export default{isAvailableAsync(){return _asyncToGenerator(function*(){if(Platform.isDOMAvailable){return'wakeLock'in navigator;}return false;})();},activate(tag){return _asyncToGenerator(function*(){if(!Platform.isDOMAvailable){return;}var wakeLock=yield navigator.wakeLock.request('screen');wakeLockMap[tag]=wakeLock;})();},deactivate(tag){return _asyncToGenerator(function*(){if(!Platform.isDOMAvailable){return;}if(wakeLockMap[tag]){wakeLockMap[tag].release?.();delete wakeLockMap[tag];}else{throw new CodedError('ERR_KEEP_AWAKE_TAG_INVALID',`The wake lock with tag ${tag} has not activated yet`);}})();},addListenerForTag(tag,listener){var eventListener=function(){listener({state:KeepAwakeEventState.RELEASE});};var sentinel=wakeLockMap[tag];if(sentinel){if('addEventListener'in sentinel){sentinel.addEventListener?.('release',eventListener);}else{sentinel.onrelease=eventListener;}}return{remove:function(){var sentinel=wakeLockMap[tag];if(sentinel){if(sentinel.removeEventListener){sentinel.removeEventListener('release',eventListener);}else{sentinel.onrelease=null;}}}};}};","import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import{UnavailabilityError}from'expo-modules-core';import{useEffect}from'react';import ExpoKeepAwake from\"./ExpoKeepAwake\";export var ExpoKeepAwakeTag='ExpoKeepAwakeDefaultTag';export function isAvailableAsync(){return _isAvailableAsync.apply(this,arguments);}function _isAvailableAsync(){_isAvailableAsync=_asyncToGenerator(function*(){if(ExpoKeepAwake.isAvailableAsync){return yield ExpoKeepAwake.isAvailableAsync();}return true;});return _isAvailableAsync.apply(this,arguments);}export function useKeepAwake(tag=ExpoKeepAwakeTag,options){useEffect(function(){var isMounted=true;activateKeepAwakeAsync(tag).then(function(){if(isMounted&&ExpoKeepAwake.addListenerForTag&&options?.listener){addListener(tag,options.listener);}});return function(){isMounted=false;if(options?.suppressDeactivateWarnings){deactivateKeepAwake(tag).catch(function(){});}else{deactivateKeepAwake(tag);}};},[tag]);}export function activateKeepAwake(tag=ExpoKeepAwakeTag){return activateKeepAwakeAsync(tag);}export function activateKeepAwakeAsync(){return _activateKeepAwakeAsync.apply(this,arguments);}function _activateKeepAwakeAsync(){_activateKeepAwakeAsync=_asyncToGenerator(function*(tag=ExpoKeepAwakeTag){yield ExpoKeepAwake.activate?.(tag);});return _activateKeepAwakeAsync.apply(this,arguments);}export function deactivateKeepAwake(){return _deactivateKeepAwake.apply(this,arguments);}function _deactivateKeepAwake(){_deactivateKeepAwake=_asyncToGenerator(function*(tag=ExpoKeepAwakeTag){yield ExpoKeepAwake.deactivate?.(tag);});return _deactivateKeepAwake.apply(this,arguments);}export function addListener(tagOrListener,listener){if(!ExpoKeepAwake.addListenerForTag){throw new UnavailabilityError('ExpoKeepAwake','addListenerForTag');}var tag=typeof tagOrListener==='string'?tagOrListener:ExpoKeepAwakeTag;var _listener=typeof tagOrListener==='function'?tagOrListener:listener;return ExpoKeepAwake.addListenerForTag(tag,_listener);}export*from\"./KeepAwake.types\";"],"names":["V4MigrationDone","route","navigation","intl","preventClose","setPreventClose","useState","scrollEnabled","exitPreventMode","always","disabled","children","Page","Header","headerShown","Body","flex","justifyContent","alignItems","gap","p","Icon","name","size","$gtMd","color","SizableText","textAlign","formatMessage","id","ETranslations","v4_migration_completed_title","v4_migration_completed_desc","Button","variant","onPress","wait","popStack","navigate","Main","screen","Home","setTimeout","serviceCloudBackup","requestAutoBackup","global_explore_now","_excluded","ownKeys","e","r","t","Object","keys","getOwnPropertySymbols","o","filter","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","arguments","length","forEach","getOwnPropertyDescriptors","defineProperties","defineProperty","V4MigrationLogCopy","_ref","others","actions","copyV4MigrationLogs","V4MigrationLogCopyHeaderRight","Stack","w","h","backgroundColor","undefined","V4MigrationModalPage","onMounted","confirm","isAutoStartOnMount","rest","timer","useRef","isFocused","useEffect","clearTimeout","current","v4migrationAtom","set","v","isMigrationModalOpen","onUnmounted","onClose","isNavExitConfirmShow","EModalExitPreventMode","ModalExitPreventDialogContent","message","onCancelText","onConfirmText","preventRemoveData","v4MigrationPersistData","setV4MigrationPersistData","useV4migrationPersistAtom","dontShowAgain","setDontShowAgain","v4migrationAutoStartCount","Checkbox","value","onChange","label","v4_migration_exit_migration_checkbox_label","Dialog","Footer","onConfirm","dispatch","action","v4migrationAutoStartDisabled","useIsV4MigrationAutoStartFirstTime","v4migrationPersistData","useV4MigrationExitPrevent","title","confirm_exit_dialog_title","confirm_exit_dialog_desc","global_exit","global_cancel","isAutoStartInFirstTime","useModalExitPrevent","navPreventRemoveCallback","useCallback","data","show","renderContent","shouldPreventRemove","preventRemoveCallback","usePreventRemove","useAppExitPrevent","isRuntimeBrowser","fn","event","preventDefault","returnValue","window","addEventListener","removeEventListener","backHandler","A","alert","text","style","global_quit","exitApp","cancelable","remove","useExtensionV4MigrationFromExpandTab","openV4MigrationOfExtension","close","KeepAwakeEventState","wakeLockMap","isAvailableAsync","Platform","isDOMAvailable","navigator","activate","tag","wakeLock","request","deactivate","CodedError","release","addListenerForTag","listener","eventListener","state","RELEASE","sentinel","onrelease","ExpoKeepAwakeTag","useKeepAwake","options","isMounted","activateKeepAwakeAsync","then","addListener","tagOrListener","UnavailabilityError","_listener","suppressDeactivateWarnings","deactivateKeepAwake","catch","_activateKeepAwakeAsync","this","_deactivateKeepAwake"],"sourceRoot":""}