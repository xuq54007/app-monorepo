!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},r=(new e.Error).stack;r&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[r]="83d7019c-db44-46ee-b0af-8681b765e1f6",e._sentryDebugIdIdentifier="sentry-dbid-83d7019c-db44-46ee-b0af-8681b765e1f6")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"5.5.0 (2024121652)"},(self.webpackChunkweb=self.webpackChunkweb||[]).push([[86890],{183259:(e,r,o)=>{o.d(r,{U:()=>i});var a=o(514041),n=o(17617),t=o(490343),s=o(831085);var i=(0,a.memo)((function BasicDiscoveryIcon({uri:e,size:r,borderRadius:o="$2"}){return e?(0,s.jsxs)(t.Image,{size:r,borderRadius:o,borderWidth:n.A.hairlineWidth,borderColor:"$borderSubdued",borderCurve:"continuous","data-sentry-element":"Image","data-sentry-component":"BasicDiscoveryIcon","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Discovery/components/DiscoveryIcon.tsx",children:[(0,s.jsx)(t.Image.Source,{source:{uri:decodeURIComponent(e)},"data-sentry-element":"unknown","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Discovery/components/DiscoveryIcon.tsx"}),(0,s.jsx)(t.Image.Fallback,{"data-sentry-element":"unknown","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Discovery/components/DiscoveryIcon.tsx",children:(0,s.jsx)(t.Stack,{bg:"$bgStrong",ai:"center",jc:"center",width:"100%",height:"100%","data-sentry-element":"Stack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Discovery/components/DiscoveryIcon.tsx",children:(0,s.jsx)(t.Icon,{name:"GlobusOutline",width:"100%",height:"100%","data-sentry-element":"Icon","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Discovery/components/DiscoveryIcon.tsx"})})}),(0,s.jsx)(t.Image.Loading,{"data-sentry-element":"unknown","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Discovery/components/DiscoveryIcon.tsx",children:(0,s.jsx)(t.Skeleton,{width:"100%",height:"100%","data-sentry-element":"Skeleton","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Discovery/components/DiscoveryIcon.tsx"})})]}):(0,s.jsx)(t.Skeleton,{width:r,height:r,radius:"round"})}))},186890:(e,r,o)=>{o.r(r),o.d(r,{default:()=>D});var a=o(586330),n=o(514041),t=o(654266),s=o(908867),i=o(728046),c=o(17617),d=o(490343),l=o(643087),p=o(791088),u=o(498356),m=o(911998),h=o(657412),y=o(334439),g=o(296827),k=o(899035),b=o(193068),f=o(183259),w=o(564452),v=o(831085);function DappSearchModalSectionHeader({title:e,onMorePress:r}){var o=(0,s.A)();return(0,v.jsxs)(d.XStack,{px:"$5",pb:"$2",alignItems:"center",justifyContent:"space-between","data-sentry-element":"XStack","data-sentry-component":"DappSearchModalSectionHeader","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Discovery/pages/SearchModal/DappSearchModalSectionHeader.tsx",children:[(0,v.jsx)(d.Heading,{size:"$headingMd","data-sentry-element":"Heading","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Discovery/pages/SearchModal/DappSearchModalSectionHeader.tsx",children:e}),(0,v.jsx)(d.Button,{variant:"tertiary",size:"medium",onPress:r,"data-sentry-element":"Button","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Discovery/pages/SearchModal/DappSearchModalSectionHeader.tsx",children:o.formatMessage({id:y.ETranslations.explore_see_all})})]})}var x="SEARCH_ITEM_ID",S=(0,v.jsx)(d.Image.Loading,{children:(0,v.jsx)(d.Skeleton,{width:"100%",height:"100%"})});const D=(0,w.k)((function SearchModal(){var e,r,o,w=(0,s.A)(),D=(0,u.A)(),M=(0,t.lq)(),{useCurrentWindow:I,tabId:j,url:$=""}=null!=(e=M.params)?e:{},[T,C]=(0,n.useState)($),{gtMd:_}=(0,d.useMedia)(),{handleOpenWebSite:A}=(0,h.yZ)().current,{serviceDiscovery:P}=l.A,{result:B,run:E}=(0,m.yk)((0,a.A)((function*(){return{bookmarkData:yield P.getBookmarkData({generateIcon:!0,sliceCount:8}),historyData:yield P.getHistoryData({generateIcon:!0,sliceCount:8,keyword:null!=T?T:void 0})}})),[P,T]),{result:z}=(0,m.yk)((0,a.A)((function*(){return yield P.searchDApp(T)})),[T,P]),L=(0,n.useRef)(!1);(0,t.xK)((function(){L.current&&(setTimeout((function(){E()}),300),L.current=!1)}));var[W,H]=(0,n.useState)([]);(0,n.useEffect)((function(){(0,a.A)((function*(){if(T){var e=yield l.A.serviceDiscovery.buildWebsiteIconUrl("https://google.com");H([{dappId:x,name:`${w.formatMessage({id:y.ETranslations.explore_search_placeholder})} "${T}"`,url:"",logo:e},...null!=z?z:[]])}else H([])}))()}),[T,z,w]);var O=Array.isArray(W)&&W.length>0,R=(null!=(r=B?.bookmarkData)?r:[]).length>0&&!O,U=(null!=(o=B?.historyData)?o:[]).length>0,N=(0,n.useCallback)((function(e){return e.map((function(e,r){return(0,v.jsx)(p.c,{avatarProps:{src:e.logo||e.originLogo,loading:S,fallbackProps:{bg:"$bgStrong",justifyContent:"center",alignItems:"center",children:(0,v.jsx)(d.Icon,{name:"GlobusOutline"})},borderWidth:c.A.hairlineWidth,borderColor:"$borderSubdued"},renderItemText:function(){return(0,v.jsx)(d.RichSizeableText,{linkList:{a:{url:void 0,cursor:"auto"}},numberOfLines:1,size:"$bodyLgMedium",flex:1,children:e?.keyword?e.name.replace(new RegExp(e.keyword,"ig"),`<a>${e.keyword}</a>`):e.name})},subtitleProps:{numberOfLines:1},onPress:function(){e.dappId===x?(A({switchToMultiTabBrowser:_,navigation:D,useCurrentWindow:I,tabId:j,webSite:{url:T,title:T}}),g.U.discovery.dapp.enterDapp({dappDomain:T,dappName:T,enterMethod:k.z.search})):(A({switchToMultiTabBrowser:_,navigation:D,useCurrentWindow:I,tabId:j,dApp:e}),g.U.discovery.dapp.enterDapp({dappDomain:e.name,dappName:e.url,enterMethod:k.z.search}))},testID:`dapp-search${r}`},r)}))}),[_,A,D,T,j,I]);return(0,v.jsxs)(d.Page,{safeAreaEnabled:!0,"data-sentry-element":"Page","data-sentry-component":"SearchModal","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Discovery/pages/SearchModal/index.tsx",children:[(0,v.jsx)(d.Page.Header,{headerTitle:w.formatMessage({id:y.ETranslations.explore_search_placeholder}),"data-sentry-element":"unknown","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Discovery/pages/SearchModal/index.tsx"}),(0,v.jsxs)(d.Page.Body,{"data-sentry-element":"unknown","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Discovery/pages/SearchModal/index.tsx",children:[(0,v.jsx)(d.Stack,{mx:"$4","data-sentry-element":"Stack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Discovery/pages/SearchModal/index.tsx",children:(0,v.jsx)(d.SearchBar,{autoFocus:!0,zIndex:20,selectTextOnFocus:!0,value:T,onSearchTextChange:C,placeholder:w.formatMessage({id:y.ETranslations.browser_search_dapp_or_enter_url}),onSubmitEditing:function(){T?(A({switchToMultiTabBrowser:_,navigation:D,useCurrentWindow:I,tabId:j,webSite:{url:T,title:T}}),g.U.discovery.dapp.enterDapp({dappDomain:T,dappName:T,enterMethod:k.z.addressBar})):D.pop()},"data-sentry-element":"SearchBar","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Discovery/pages/SearchModal/index.tsx"})}),(0,v.jsxs)(d.ScrollView,{pt:"$2",pb:"$5",keyboardDismissMode:"none",keyboardShouldPersistTaps:"handled",onScrollBeginDrag:i.A.dismiss,"data-sentry-element":"ScrollView","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Discovery/pages/SearchModal/index.tsx",children:[O?N(W):null,R?(0,v.jsxs)(d.Stack,{children:[(0,v.jsx)(DappSearchModalSectionHeader,{title:w.formatMessage({id:y.ETranslations.explore_bookmarks}),onMorePress:function(){L.current=!0,D.pushModal(b.ry.DiscoveryModal,{screen:b.v1.BookmarkListModal})}}),(0,v.jsx)(d.XStack,{children:B?.bookmarkData?.map((function(e,r){return(0,v.jsxs)(d.Stack,{flexBasis:"25%",alignItems:"center",py:"$2",$gtMd:{flexBasis:"16.66666667%"},onPress:function(){A({switchToMultiTabBrowser:_,navigation:D,useCurrentWindow:I,tabId:j,webSite:{url:e.url,title:e.title}}),g.U.discovery.dapp.enterDapp({dappDomain:e.url,dappName:e.title,enterMethod:k.z.bookmarkInSearch})},children:[(0,v.jsx)(f.U,{uri:e.logo,size:"$14",borderRadius:"$3"}),(0,v.jsx)(d.SizableText,{mt:"$2",px:"$2",size:"$bodyLgMedium",textAlign:"center",$gtMd:{size:"$bodyMdMedium"},numberOfLines:1,children:e.title})]},r)}))})]}):null,U?(0,v.jsxs)(d.Stack,{pt:"$5",children:[(0,v.jsx)(DappSearchModalSectionHeader,{title:w.formatMessage({id:y.ETranslations.explore_history}),onMorePress:function(){L.current=!0,D.pushModal(b.ry.DiscoveryModal,{screen:b.v1.HistoryListModal})}}),B?.historyData.map((function(e,r){return(0,v.jsx)(p.c,{avatarProps:{src:e.logo,loading:S,fallbackProps:{bg:"$bgStrong",justifyContent:"center",alignItems:"center",children:(0,v.jsx)(d.Icon,{name:"GlobusOutline"})},borderWidth:c.A.hairlineWidth,borderColor:"$borderSubdued"},title:e.title,titleMatch:e.titleMatch,titleProps:{numberOfLines:1},subtitle:e.url,subTitleMatch:e.urlMatch,subtitleProps:{numberOfLines:1},testID:`search-modal-${e.title.toLowerCase()}`,onPress:function(){A({switchToMultiTabBrowser:_,navigation:D,useCurrentWindow:I,tabId:j,webSite:{url:e.url,title:e.title}}),g.U.discovery.dapp.enterDapp({dappDomain:e.url,dappName:e.title,enterMethod:k.z.historyInSearch})}},r)}))]}):null]})]})]})}))}}]);
//# sourceMappingURL=86890.8a9afc84b4.chunk.js.map