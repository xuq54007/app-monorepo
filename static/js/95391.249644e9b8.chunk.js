!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="df7b3584-9b6c-45f9-99dc-edb5da111a26",e._sentryDebugIdIdentifier="sentry-dbid-df7b3584-9b6c-45f9-99dc-edb5da111a26")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"5.5.0 (2024121652)"},(self.webpackChunkweb=self.webpackChunkweb||[]).push([[95391],{451661:e=>{var t=10,r=41,n=107,i=9,s=25,a=10;function inputBytes(e){return r+(e.script?e.script.length:n)}function outputBytes(e){return e.script?a+e.script.length+(e.script.length>=74?2:1):i+(e.script?e.script.length:s)}function dustThreshold(e,t){return inputBytes({})*t}function transactionBytes(e,r){return t+e.reduce((function(e,t){return e+inputBytes(t)}),0)+r.reduce((function(e,t){return e+outputBytes(t)}),0)}function uintOrNaN(e){return"number"!=typeof e?NaN:isFinite(e)?Math.floor(e)!==e||e<0?NaN:e:NaN}function sumOrNaN(e){return e.reduce((function(e,t){return e+uintOrNaN(t.value)}),0)}var o=outputBytes({});e.exports={dustThreshold,finalize:function finalize(e,t,r){var n=transactionBytes(e,t),i=r*(n+o),s=sumOrNaN(e)-(sumOrNaN(t)+i);s>dustThreshold(0,r)&&(t=t.concat({value:s}));var a=sumOrNaN(e)-sumOrNaN(t);return isFinite(a)?{inputs:e,outputs:t,fee:a}:{fee:r*n}},inputBytes,outputBytes,sumOrNaN,sumForgiving:function sumForgiving(e){return e.reduce((function(e,t){return e+(isFinite(t.value)?t.value:0)}),0)},transactionBytes,uintOrNaN}},940916:(e,t,r)=>{"use strict";r.d(t,{G:()=>v});var n=r(482451),i=r.n(n),s=r(324586),a=r(586330),o=r(230414),c=r(507140),u=r(606777),d=r(401349),l=r(404727),f=r(180556),h=r(929296),y=r(195309),p=r(972715),g=r(901048).Buffer;function _createSuper(e){var t=_isNativeReflectConstruct();return function _createSuperInternal(){var r,n=(0,p.A)(e);if(t){var i=(0,p.A)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,y.A)(this,r)}}function _isNativeReflectConstruct(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(_isNativeReflectConstruct=function(){return!!e})()}var b=function(e){(0,h.A)(ChainSigner,e);var t=_createSuper(ChainSigner);function ChainSigner(e,r,n){var i,s=(0,d.N)(n,{key:e,chainCode:g.alloc(32)},r).key.toString("hex");return(i=t.call(this,s,n)).encryptedPrivateKey=e,i.password=r,i.curve=n,i}var r,n=ChainSigner.prototype;return n.getPrvkey=function getPrvkey(){return Promise.resolve((0,d.Yc)(this.password,this.encryptedPrivateKey))},n.getPrvkeyHex=(r=(0,a.A)((function*(){return u.A.bytesToHex(yield this.getPrvkey())})),function getPrvkeyHex(){return r.apply(this,arguments)}),n.sign=function sign(e){var t=(0,d._S)(this.curve,this.encryptedPrivateKey,e,this.password);return"secp256k1"===this.curve?Promise.resolve([t.slice(0,-1),t[t.length-1]]):Promise.resolve([t,0])},(0,o.A)(ChainSigner)}(function(){function Verifier(e,t){this.curve=t,this.compressedPublicKey=g.from(e,"hex"),this.uncompressedPublicKey=(0,d.sA)(t,this.compressedPublicKey)}var e,t=Verifier.prototype;return t.getPubkey=function getPubkey(e){return Promise.resolve(e?this.compressedPublicKey:this.uncompressedPublicKey)},t.getPubkeyHex=(e=(0,a.A)((function*(e){return u.A.bytesToHex(yield this.getPubkey(e))})),function getPubkeyHex(t){return e.apply(this,arguments)}),t.verify=function verify(){return Promise.resolve(g.from([]))},t.verifySignature=function verifySignature({publicKey:e,digest:t,signature:r}){var n=u.A.toBuffer(e),i=u.A.toBuffer(t),s=u.A.toBuffer(r),{curve:a}=this,o=(0,d.MX)(a,n,i,s);return Promise.resolve(o)},(0,o.A)(Verifier)}());function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach((function(t){(0,s.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var v=function(){function CoreChainApiBase(){}var e,t,r,n,s,h,y,p,g=CoreChainApiBase.prototype;return g.baseGetCurve=function baseGetCurve(e){switch(e){case"ed25519":return d.ev;case"secp256k1":return d.bI;case"nistp256":return d.OX;default:throw new c.He("Unsupported curve")}},g.baseCreateSigner=(e=(0,a.A)((function*({curve:e,privateKey:t,password:r}){if(void 0===r)throw new c.He("Software signing requires a password.");var n=u.A.toBuffer(t);return Promise.resolve(new b(n,r,e))})),function baseCreateSigner(t){return e.apply(this,arguments)}),g.baseGetSingleSigner=(t=(0,a.A)((function*({payload:e,curve:t}){var r=yield this.getPrivateKeys(e),n=e.account.path,i=r[n],s=e?.relPaths?.[0];if(!i&&s&&(i=r[[n,s].join("/")]),!i)throw new Error(`No private key found: ${n}`);return this.baseCreateSigner({curve:t,privateKey:i,password:e.password})})),function baseGetSingleSigner(e){return t.apply(this,arguments)}),g.baseGetPrivateKeys=(r=(0,a.A)((function*({payload:e,curve:t}){var{credentials:r,account:n,password:i,relPaths:s}=e,a={};if(r.hd&&r.imported)throw new c.He("getPrivateKeys ERROR: hd and imported credentials can NOT both set.");if(r.hd&&(a=yield this.baseGetPrivateKeysHd({curve:t,account:n,hdCredential:r.hd,password:i,relPaths:s})),r.imported){var{privateKey:o}=(0,d.VV)({password:i,credential:r.imported}),l=u.A.bytesToHex((0,d.w)(i,o));a[n.path]=l,a[""]=l}if(!Object.keys(a).length)throw new Error("No private keys found");return a})),function baseGetPrivateKeys(e){return r.apply(this,arguments)}),g.baseGetPrivateKeysHd=(n=(0,a.A)((function*({curve:e,password:t,account:r,relPaths:n,hdCredential:i}){var{path:s}=r,a=s.split("/"),o=n||[a.pop()],l=a.join("/");if(0===o.length)throw new c.He("getPrivateKeysHd ERROR: relPaths is empty.");return(0,d.Wu)(e,i,t,l,o).reduce((function(e,t){return _objectSpread(_objectSpread({},e),{},{[t.path]:u.A.bytesToHex(t.extendedKey.key)})}),{})})),function baseGetPrivateKeysHd(e){return n.apply(this,arguments)}),g.baseGetAddressesFromHd=(s=(0,a.A)((function*(e,t){var r=this,{curve:n,generateFrom:s}=t,{template:o,hdCredential:l,password:h,indexes:y}=e,{pathPrefix:p,pathSuffix:g}=(0,f.Ah)(o),b=y.map((function(e){return g.replace("{index}",e.toString())})),v="privateKey"===s,w=[],S=[];v?S=(0,d.Wu)(n,l,h,p,b):w=yield(0,d.MJ)({curveName:n,hdCredential:l,password:h,prefix:p,relPaths:b});var A=v?S:w;if(A.length!==y.length)throw new c.He("Unable to get publick key.");var x,m=yield Promise.all(A.map((x=(0,a.A)((function*(t){var n,s,{path:a,extendedKey:{key:o}}=t;if(v){var c=u.A.bytesToHex((0,d.Yc)(h,o));s=yield r.getAddressFromPrivate({networkInfo:e.networkInfo,privateKeyRaw:c,privateKeyInfo:t})}else n=o.toString("hex"),s=yield r.getAddressFromPublic({networkInfo:e.networkInfo,publicKey:n,publicKeyInfo:t});return i()({publicKey:n,path:a},s)})),function(e){return x.apply(this,arguments)})));return{addresses:m}})),function baseGetAddressesFromHd(e,t){return s.apply(this,arguments)}),g.baseGetCredentialsType=function baseGetCredentialsType({credentials:e}){if(e.hd&&e.imported)throw new c.He("getCredentialsType ERROR: hd and imported credentials can NOT both set.");if(e.hd)return l.ECoreCredentialType.hd;if(e.imported)return l.ECoreCredentialType.imported;throw new c.He("getCredentialsType ERROR: no credentials found")},g.baseGetDefaultPrivateKey=(h=(0,a.A)((function*(e){var t=yield this.getPrivateKeys(e),[r]=Object.values(t);return{privateKeyRaw:r}})),function baseGetDefaultPrivateKey(e){return h.apply(this,arguments)}),g.validateXpub=(y=(0,a.A)((function*(e){throw new c.MS})),function validateXpub(e){return y.apply(this,arguments)}),g.validateXprvt=(p=(0,a.A)((function*(e){throw new c.MS})),function validateXprvt(e){return p.apply(this,arguments)}),(0,o.A)(CoreChainApiBase)}()},295391:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var n=r(230414),i=r(929296),s=r(195309),a=r(972715);function _createSuper(e){var t=_isNativeReflectConstruct();return function _createSuperInternal(){var r,n=(0,a.A)(e);if(t){var i=(0,a.A)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,s.A)(this,r)}}function _isNativeReflectConstruct(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(_isNativeReflectConstruct=function(){return!!e})()}var o=function(e){(0,i.A)(CoreChainHd,e);var t=_createSuper(CoreChainHd);function CoreChainHd(){return t.apply(this,arguments)}return(0,n.A)(CoreChainHd)}(r(896243).A)},896243:(e,t,r)=>{"use strict";r.d(t,{A:()=>T,h:()=>handleSignData});var n=r(586330),i=r(230414),s=r(929296),a=r(195309),o=r(972715),c=r(243878),u=r(775500),d=r(882926),l=r(614555),f=r(146586),h=r(773481),y=r(478261),p=r(443618);const g="benfenprivkey";class Signer{async signWithIntent(e,t){const r=(0,c.ib)(t,e),n=(0,l.S)(r,{dkLen:32});return{signature:(0,u.C)({signature:await this.sign(n),signatureScheme:this.getKeyScheme(),publicKey:this.getPublicKey()}),bytes:(0,y.o)(e)}}async signTransactionBlock(e){return this.signWithIntent(e,c.fn.TransactionData)}async signPersonalMessage(e){return this.signWithIntent(h.jy.vector(h.jy.u8()).serialize(e).toBytes(),c.fn.PersonalMessage)}toHexAddress(){return this.getPublicKey().toHexAddress()}}class Keypair extends Signer{export(){return{schema:this.getKeyScheme(),privateKey:this.getSecretKey()}}}var b=r(887971),v=r(715460);function nfkd(e){if("string"!=typeof e)throw new TypeError("Invalid mnemonic type: "+typeof e);return e.normalize("NFKD")}function normalize(e){const t=nfkd(e),r=t.split(" ");if(![12,15,18,21,24].includes(r.length))throw new Error("Invalid mnemonic");return{nfkd:t,words:r}}const salt=e=>nfkd(`mnemonic${e}`);var w=r(821944);function isValidHardenedPath(e){return!!new RegExp("^m\\/44'\\/728'\\/[0-9]+'\\/[0-9]+'\\/[0-9]+'+$").test(e)}function mnemonics_mnemonicToSeed(e){return function mnemonicToSeedSync(e,t=""){return(0,b.A)(v.Zf,normalize(e).nfkd,salt(t),{c:2048,dkLen:64})}(e,"")}var S=r(97713);const A=new RegExp("^m(\\/[0-9]+')+$"),replaceDerive=e=>e.replace("'",""),derivePath=(e,t,r=2147483648)=>{if(!(e=>!!A.test(e)&&!e.split("/").slice(1).map(replaceDerive).some(isNaN))(e))throw new Error("Invalid derivation path");const{key:n,chainCode:i}=(e=>{const t=S.w.create(v.Zf,"ed25519 seed").update((0,w.i)(e)).digest();return{key:t.slice(0,32),chainCode:t.slice(32)}})(t);return e.split("/").slice(1).map(replaceDerive).map((e=>parseInt(e,10))).reduce(((e,t)=>(({key:e,chainCode:t},r)=>{const n=new ArrayBuffer(4);new DataView(n).setUint32(0,r);const i=new Uint8Array(1+e.length+n.byteLength);i.set(new Uint8Array(1).fill(0)),i.set(e,1),i.set(new Uint8Array(n,0,n.byteLength),e.length+1);const s=S.w.create(v.Zf,t).update(i).digest();return{key:s.slice(0,32),chainCode:s.slice(32)}})(e,t+r)),{key:n,chainCode:i})};var x=r(322998);const m="m/44'/728'/0'/0'/0'";class Ed25519Keypair extends Keypair{constructor(e){super(),this.keypair=e||d.sign.keyPair()}getKeyScheme(){return"ED25519"}static generate(){return new Ed25519Keypair(d.sign.keyPair())}static fromSecretKey(e,t){const r=e.length;if(32!==r)throw new Error(`Wrong secretKey size. Expected 32 bytes, got ${r}.`);const n=d.sign.keyPair.fromSeed(e);if(!t||!t.skipValidation){const e=(new TextEncoder).encode("benfen validation"),t=d.sign.detached(e,n.secretKey);if(!d.sign.detached.verify(e,t,n.publicKey))throw new Error("provided secretKey is invalid")}return new Ed25519Keypair(n)}getPublicKey(){return new x.G(this.keypair.publicKey)}getSecretKey(){return function encodeBenfenPrivateKey(e,t){if(32!==e.length)throw new Error("Invalid bytes length");const r=p.uD[t],n=new Uint8Array(e.length+1);return n.set([r]),n.set(e,1),f.bech32.encode(g,f.bech32.toWords(n))}(this.keypair.secretKey.slice(0,32),this.getKeyScheme())}async sign(e){return this.signData(e)}signData(e){return d.sign.detached(e,this.keypair.secretKey)}static deriveKeypair(e,t){if(null==t&&(t=m),!isValidHardenedPath(t))throw new Error("Invalid derivation path");const{key:r}=derivePath(t,function mnemonicToSeedHex(e){return(0,w.J)(mnemonics_mnemonicToSeed(e))}(e));return Ed25519Keypair.fromSecretKey(r)}static deriveKeypairFromSeed(e,t){if(null==t&&(t=m),!isValidHardenedPath(t))throw new Error("Invalid derivation path");const{key:r}=derivePath(t,e);return Ed25519Keypair.fromSecretKey(r)}}var P=r(327042),k=r(825145),K=r(606777),B=r(424754),E=r(940916),C=r(401349),H=r(404727);function _createSuper(e){var t=_isNativeReflectConstruct();return function _createSuperInternal(){var r,n=(0,o.A)(e);if(t){var i=(0,o.A)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,a.A)(this,r)}}function _isNativeReflectConstruct(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(_isNativeReflectConstruct=function(){return!!e})()}var I="ed25519";function handleSignData(e){return(0,c.ib)(c.fn.TransactionData,e)}var T=function(e){(0,s.A)(CoreChainSoftware,e);var t=_createSuper(CoreChainSoftware);function CoreChainSoftware(){return t.apply(this,arguments)}var r,a,o,c,d,f,h,p=CoreChainSoftware.prototype;return p.getExportedSecretKey=(r=(0,n.A)((function*(e){var{password:t,keyType:r,credentials:n}=e,{privateKeyRaw:i}=yield this.baseGetDefaultPrivateKey(e);if(!i)throw new Error("privateKeyRaw is required");if(r===H.ECoreApiExportedSecretKeyType.privateKey)return`0x${(0,C.Yc)(t,i).toString("hex")}`;throw new Error(`SecretKey type not support: ${r}`)})),function getExportedSecretKey(e){return r.apply(this,arguments)}),p.getPrivateKeys=(a=(0,n.A)((function*(e){return this.baseGetPrivateKeys({payload:e,curve:I})})),function getPrivateKeys(e){return a.apply(this,arguments)}),p.signTransaction=(o=(0,n.A)((function*(e){var{unsignedTx:t,account:{pub:r}}=e,n=yield this.baseGetSingleSigner({payload:e,curve:I});if(!t.rawTxUnsigned)throw new Error("unsignedTx.rawTxUnsigned is undefined");var i=yield n.getPrvkey(),s=Ed25519Keypair.fromSecretKey(i),a=K.A.toBuffer(t.rawTxUnsigned),o=handleSignData(a),c=(0,l.S)(o,{dkLen:32}),d=s.getPublicKey(),f=s.signData(c),h=s.getKeyScheme(),p=(0,u.C)({signature:f,signatureScheme:h,publicKey:d});return{txid:"",rawTx:(0,y.o)(a),signatureScheme:"ed25519",signature:p,publicKey:B.A.addHexPrefix((0,k.wT)(r)),encodedTx:t.encodedTx}})),function signTransaction(e){return o.apply(this,arguments)}),p.signMessage=(c=(0,n.A)((function*(e){var t=e.unsignedMsg,r=yield this.baseGetSingleSigner({payload:e,curve:I}),n=yield r.getPrvkey(),i=Ed25519Keypair.fromSecretKey(n),s=K.A.toBuffer(t.message);return(yield i.signPersonalMessage(s)).signature})),function signMessage(e){return c.apply(this,arguments)}),p.getAddressFromPrivate=(d=(0,n.A)((function*(e){var t,{privateKeyRaw:r}=e;if(B.A.isHexString(r)&&(t=K.A.toBuffer(r,"hex")),!t)throw new Error("Invalid private key");var n=this.baseGetCurve(I).publicFromPrivate(t);return this.getAddressFromPublic({publicKey:K.A.bytesToHex(n),networkInfo:e.networkInfo})})),function getAddressFromPrivate(e){return d.apply(this,arguments)}),p.getAddressFromPublic=(f=(0,n.A)((function*(e){var{publicKey:t}=e,r=new x.G(K.A.toBuffer(t)).toHexAddress(),n=(0,P.$u)(r);return Promise.resolve({address:n,publicKey:t})})),function getAddressFromPublic(e){return f.apply(this,arguments)}),p.getAddressesFromHd=(h=(0,n.A)((function*(e){return this.baseGetAddressesFromHd(e,{curve:I})})),function getAddressesFromHd(e){return h.apply(this,arguments)}),(0,i.A)(CoreChainSoftware)}(E.G)},180556:(e,t,r)=>{"use strict";r.d(t,{Ac:()=>estimateTxSize,Ah:()=>slicePathTemplate,vN:()=>getUtxoAccountPrefixPath,zf:()=>getBIP44Path});var n=r(451661),i=r.n(n),s=r(491180);function slicePathTemplate(e){return s.A.slicePathTemplate(e)}function getUtxoAccountPrefixPath({fullPath:e}){var t=e.split("/");return t.pop(),t.pop(),t.join("/")}function getBIP44Path(e,t){var r="";for(var[n,i]of Object.entries(e.addresses))if(i===t){r=n;break}return`${e.path}/${r}`}function estimateTxSize(e,t){return i().transactionBytes(e,t)}},243878:(e,t,r)=>{"use strict";r.d(t,{fn:()=>n,ib:()=>messageWithIntent});var n=(e=>(e[e.TransactionData=0]="TransactionData",e[e.TransactionEffects=1]="TransactionEffects",e[e.CheckpointSummary=2]="CheckpointSummary",e[e.PersonalMessage=3]="PersonalMessage",e))(n||{});function messageWithIntent(e,t){const r=function intentWithScope(e){return[e,0,0]}(e),n=new Uint8Array(r.length+t.length);return n.set(r),n.set(t,r.length),n}},496050:(e,t,r)=>{"use strict";r.d(t,{J:()=>PublicKey,O:()=>bytesEqual});var n=r(614555),i=r(830036),s=r(773481),a=r(478261),o=r(310349),c=r(243878);function bytesEqual(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}class PublicKey{equals(e){return bytesEqual(this.toRawBytes(),e.toRawBytes())}toBase64(){return(0,a.o)(this.toRawBytes())}toString(){throw new Error("`toString` is not implemented on public keys. Use `toBase64()` or `toRawBytes()` instead.")}toBenfenPublicKey(){const e=this.toBenfenBytes();return(0,a.o)(e)}verifyWithIntent(e,t,r){const i=(0,c.ib)(r,e),s=(0,n.S)(i,{dkLen:32});return this.verify(s,t)}verifyPersonalMessage(e,t){return this.verifyWithIntent(s.jy.vector(s.jy.u8()).serialize(e).toBytes(),t,c.fn.PersonalMessage)}verifyTransactionBlock(e,t){return this.verifyWithIntent(e,t,c.fn.TransactionData)}toBenfenBytes(){const e=this.toRawBytes(),t=new Uint8Array(e.length+1);return t.set([this.flag()]),t.set(e,1),t}toHexAddress(){return(0,o.Tu)((0,i.My)((0,n.S)(this.toBenfenBytes(),{dkLen:32})).slice(0,2*o.jb))}}},443618:(e,t,r)=>{"use strict";r.d(t,{Pz:()=>i,uD:()=>n,y3:()=>s});const n={ED25519:0,Secp256k1:1,Secp256r1:2,MultiSig:3,ZkLogin:5},i={ED25519:32,Secp256k1:33,Secp256r1:33},s={0:"ED25519",1:"Secp256k1",2:"Secp256r1",3:"MultiSig",5:"ZkLogin"}},775500:(e,t,r)=>{"use strict";r.d(t,{Y:()=>parseSerializedSignature,C:()=>toSerializedSignature});var n=r(773481),i=r(478261),s=r(496050),a=r(443618);function base64UrlCharTo6Bits(e){if(1!==e.length)throw new Error("Invalid base64Url character: "+e);const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".indexOf(e);if(-1===t)throw new Error("Invalid base64Url character: "+e);const r=t.toString(2).padStart(6,"0");return Array.from(r).map(Number)}function decodeBase64URL(e,t){if(e.length<2)throw new Error(`Input (s = ${e}) is not tightly packed because s.length < 2`);let r=function base64UrlStringToBitVector(e){let t=[];for(let r=0;r<e.length;r++){const n=base64UrlCharTo6Bits(e.charAt(r));t=t.concat(n)}return t}(e);const n=t%4;if(0===n);else if(1===n)r=r.slice(2);else{if(2!==n)throw new Error(`Input (s = ${e}) is not tightly packed because i%4 = 3 (i = ${t}))`);r=r.slice(4)}const i=(t+e.length-1)%4;if(3===i);else if(2===i)r=r.slice(0,r.length-2);else{if(1!==i)throw new Error(`Input (s = ${e}) is not tightly packed because (i + s.length - 1)%4 = 0 (i = ${t}))`);r=r.slice(0,r.length-4)}if(r.length%8!=0)throw new Error("We should never reach here...");const s=new Uint8Array(Math.floor(r.length/8));let a=0;for(let e=0;e<r.length;e+=8){const t=r.slice(e,e+8),n=parseInt(t.join(""),2);s[a++]=n}return(new TextDecoder).decode(s)}function extractClaimValue(e,t){const r=decodeBase64URL(e.value,e.indexMod4),[n,i]=function verifyExtendedClaim(e){if("}"!==e.slice(-1)&&","!==e.slice(-1))throw new Error("Invalid claim");const t=JSON.parse("{"+e.slice(0,-1)+"}");if(1!==Object.keys(t).length)throw new Error("Invalid claim");const r=Object.keys(t)[0];return[r,t[r]]}(r);if(n!==t)throw new Error(`Invalid field name: found ${n} expected ${t}`);return i}const o=n.jy.struct("ZkLoginSignature",{inputs:n.jy.struct("ZkLoginSignatureInputs",{proofPoints:n.jy.struct("ZkLoginSignatureInputsProofPoints",{a:n.jy.vector(n.jy.string()),b:n.jy.vector(n.jy.vector(n.jy.string())),c:n.jy.vector(n.jy.string())}),issBase64Details:n.jy.struct("ZkLoginSignatureInputsClaim",{value:n.jy.string(),indexMod4:n.jy.u8()}),headerBase64:n.jy.string(),addressSeed:n.jy.string()}),maxEpoch:n.jy.u64(),userSignature:n.jy.vector(n.jy.u8())});var c=r(830036);function toPaddedBigEndianBytes(e,t){const r=e.toString(16);return(0,c.aT)(r.padStart(2*t,"0").slice(2*-t))}var u,__accessCheck=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)},__privateSet=(e,t,r,n)=>(__accessCheck(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r);class ZkLoginPublicIdentifier extends s.J{constructor(e){super(),((e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)})(this,u,void 0),"string"==typeof e?__privateSet(this,u,(0,i.Z)(e)):e instanceof Uint8Array?__privateSet(this,u,e):__privateSet(this,u,Uint8Array.from(e))}equals(e){return super.equals(e)}toRawBytes(){return __accessCheck(e=this,t=u,"read from private field"),r?r.call(e):t.get(e);var e,t,r}flag(){return a.uD.ZkLogin}async verify(e,t){throw Error("does not support")}verifyPersonalMessage(e,t){return Promise.resolve(!0)}verifyTransactionBlock(e,t){return Promise.resolve(!0)}}function parseSerializedZkLoginSignature(e){const t="string"==typeof e?(0,i.Z)(e):e;if(t[0]!==a.uD.ZkLogin)throw new Error("Invalid signature scheme");const r=t.slice(1),{inputs:n,maxEpoch:s,userSignature:c}=function parseZkLoginSignature(e){return o.parse("string"==typeof e?(0,i.Z)(e):e)}(r),{issBase64Details:u,addressSeed:d}=n,l=extractClaimValue(u,"iss"),f=function toZkLoginPublicIdentifier(e,t){const r=toPaddedBigEndianBytes(e,32),n=(new TextEncoder).encode(t),i=new Uint8Array(1+n.length+r.length);return i.set([n.length],0),i.set(n,1),i.set(r,1+n.length),new ZkLoginPublicIdentifier(i)}(BigInt(d),l),h=f.toHexAddress();return{serializedSignature:(0,i.o)(t),signatureScheme:"ZkLogin",zkLogin:{inputs:n,maxEpoch:s,userSignature:c,iss:l,address:h,addressSeed:BigInt(d)},signature:t,publicKey:f.toRawBytes()}}function toSerializedSignature({signature:e,signatureScheme:t,publicKey:r}){if(!r)throw new Error("`publicKey` is required");const n=r.toRawBytes(),s=new Uint8Array(1+e.length+n.length);return s.set([a.uD[t]]),s.set(e,1),s.set(n,1+e.length),(0,i.o)(s)}function parseSerializedSignature(e){const t=(0,i.Z)(e),r=a.y3[t[0]];switch(r){case"MultiSig":return{serializedSignature:e,signatureScheme:r,multisig:n.jy.MultiSig.parse(t.slice(1)),bytes:t};case"ZkLogin":return parseSerializedZkLoginSignature(e);case"ED25519":case"Secp256k1":case"Secp256r1":const i=a.Pz[r],s=t.slice(1,t.length-i);return{serializedSignature:e,signatureScheme:r,signature:s,publicKey:t.slice(1+s.length),bytes:t};default:throw new Error("Unsupported signature scheme")}}u=new WeakMap},322998:(e,t,r)=>{"use strict";r.d(t,{G:()=>Ed25519PublicKey});var n=r(882926),i=r(478261),s=r(496050),a=r(443618),o=r(775500);class Ed25519PublicKey extends s.J{constructor(e){if(super(),"string"==typeof e?this.data=(0,i.Z)(e):e instanceof Uint8Array?this.data=e:this.data=Uint8Array.from(e),32!==this.data.length)throw new Error(`Invalid public key input. Expected 32 bytes, got ${this.data.length}`)}equals(e){return super.equals(e)}toRawBytes(){return this.data}flag(){return a.uD.ED25519}async verify(e,t){let r;if("string"==typeof t){const e=(0,o.Y)(t);if("ED25519"!==e.signatureScheme)throw new Error("Invalid signature scheme");if(!(0,s.O)(this.toRawBytes(),e.publicKey))throw new Error("Signature does not match public key");r=e.signature}else r=t;return n.sign.detached.verify(e,r,this.toRawBytes())}}Ed25519PublicKey.SIZE=32},887971:(e,t,r)=>{"use strict";r.d(t,{A:()=>pbkdf2});var n=r(226879),i=r(97713),s=r(830036);function pbkdf2Init(e,t,r,a){(0,n.tW)(e);const o=(0,s.tY)({dkLen:32,asyncTick:10},a),{c,dkLen:u,asyncTick:d}=o;if((0,n.ai)(c),(0,n.ai)(u),(0,n.ai)(d),c<1)throw new Error("PBKDF2: iterations (c) should be >= 1");const l=(0,s.ZJ)(t),f=(0,s.ZJ)(r),h=new Uint8Array(u),y=i.w.create(e,l),p=y._cloneInto().update(f);return{c,dkLen:u,asyncTick:d,DK:h,PRF:y,PRFSalt:p}}function pbkdf2Output(e,t,r,n,i){return e.destroy(),t.destroy(),n&&n.destroy(),i.fill(0),r}function pbkdf2(e,t,r,n){const{c:i,dkLen:a,DK:o,PRF:c,PRFSalt:u}=pbkdf2Init(e,t,r,n);let d;const l=new Uint8Array(4),f=(0,s.O8)(l),h=new Uint8Array(c.outputLen);for(let e=1,t=0;t<a;e++,t+=c.outputLen){const r=o.subarray(t,t+c.outputLen);f.setInt32(0,e,!1),(d=u._cloneInto(d)).update(l).digestInto(h),r.set(h.subarray(0,r.length));for(let e=1;e<i;e++){c._cloneInto(d).update(h).digestInto(h);for(let e=0;e<r.length;e++)r[e]^=h[e]}}return pbkdf2Output(c,u,o,d,h)}},715460:(e,t,r)=>{"use strict";r.d(t,{Zf:()=>d});var n=r(831193),i=r(249964),s=r(830036);const[a,o]=(()=>i.Ay.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map((e=>BigInt(e)))))(),c=new Uint32Array(80),u=new Uint32Array(80);class SHA512 extends n.D{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:r,Bl:n,Ch:i,Cl:s,Dh:a,Dl:o,Eh:c,El:u,Fh:d,Fl:l,Gh:f,Gl:h,Hh:y,Hl:p}=this;return[e,t,r,n,i,s,a,o,c,u,d,l,f,h,y,p]}set(e,t,r,n,i,s,a,o,c,u,d,l,f,h,y,p){this.Ah=0|e,this.Al=0|t,this.Bh=0|r,this.Bl=0|n,this.Ch=0|i,this.Cl=0|s,this.Dh=0|a,this.Dl=0|o,this.Eh=0|c,this.El=0|u,this.Fh=0|d,this.Fl=0|l,this.Gh=0|f,this.Gl=0|h,this.Hh=0|y,this.Hl=0|p}process(e,t){for(let r=0;r<16;r++,t+=4)c[r]=e.getUint32(t),u[r]=e.getUint32(t+=4);for(let e=16;e<80;e++){const t=0|c[e-15],r=0|u[e-15],n=i.Ay.rotrSH(t,r,1)^i.Ay.rotrSH(t,r,8)^i.Ay.shrSH(t,r,7),s=i.Ay.rotrSL(t,r,1)^i.Ay.rotrSL(t,r,8)^i.Ay.shrSL(t,r,7),a=0|c[e-2],o=0|u[e-2],d=i.Ay.rotrSH(a,o,19)^i.Ay.rotrBH(a,o,61)^i.Ay.shrSH(a,o,6),l=i.Ay.rotrSL(a,o,19)^i.Ay.rotrBL(a,o,61)^i.Ay.shrSL(a,o,6),f=i.Ay.add4L(s,l,u[e-7],u[e-16]),h=i.Ay.add4H(f,n,d,c[e-7],c[e-16]);c[e]=0|h,u[e]=0|f}let{Ah:r,Al:n,Bh:s,Bl:d,Ch:l,Cl:f,Dh:h,Dl:y,Eh:p,El:g,Fh:b,Fl:v,Gh:w,Gl:S,Hh:A,Hl:x}=this;for(let e=0;e<80;e++){const t=i.Ay.rotrSH(p,g,14)^i.Ay.rotrSH(p,g,18)^i.Ay.rotrBH(p,g,41),m=i.Ay.rotrSL(p,g,14)^i.Ay.rotrSL(p,g,18)^i.Ay.rotrBL(p,g,41),P=p&b^~p&w,k=g&v^~g&S,K=i.Ay.add5L(x,m,k,o[e],u[e]),B=i.Ay.add5H(K,A,t,P,a[e],c[e]),E=0|K,C=i.Ay.rotrSH(r,n,28)^i.Ay.rotrBH(r,n,34)^i.Ay.rotrBH(r,n,39),H=i.Ay.rotrSL(r,n,28)^i.Ay.rotrBL(r,n,34)^i.Ay.rotrBL(r,n,39),I=r&s^r&l^s&l,T=n&d^n&f^d&f;A=0|w,x=0|S,w=0|b,S=0|v,b=0|p,v=0|g,({h:p,l:g}=i.Ay.add(0|h,0|y,0|B,0|E)),h=0|l,y=0|f,l=0|s,f=0|d,s=0|r,d=0|n;const D=i.Ay.add3L(E,H,T);r=i.Ay.add3H(D,B,C,I),n=0|D}({h:r,l:n}=i.Ay.add(0|this.Ah,0|this.Al,0|r,0|n)),({h:s,l:d}=i.Ay.add(0|this.Bh,0|this.Bl,0|s,0|d)),({h:l,l:f}=i.Ay.add(0|this.Ch,0|this.Cl,0|l,0|f)),({h,l:y}=i.Ay.add(0|this.Dh,0|this.Dl,0|h,0|y)),({h:p,l:g}=i.Ay.add(0|this.Eh,0|this.El,0|p,0|g)),({h:b,l:v}=i.Ay.add(0|this.Fh,0|this.Fl,0|b,0|v)),({h:w,l:S}=i.Ay.add(0|this.Gh,0|this.Gl,0|w,0|S)),({h:A,l:x}=i.Ay.add(0|this.Hh,0|this.Hl,0|A,0|x)),this.set(r,n,s,d,l,f,h,y,p,g,b,v,w,S,A,x)}roundClean(){c.fill(0),u.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const d=(0,s.ld)((()=>new SHA512))}}]);
//# sourceMappingURL=95391.249644e9b8.chunk.js.map