{"version":3,"file":"static/js/87050.44aca2675b.chunk.js","mappings":"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","sources":["webpack://web/../../node_modules/@onekeyfe/coinselect/utils.js","webpack://web/../../packages/core/src/chains/kaspa/sdkKaspa/clientRestApi.ts","webpack://web/../../packages/core/src/chains/kaspa/sdkKaspa/constant.ts","webpack://web/../../packages/core/src/chains/kaspa/sdkKaspa/address.ts","webpack://web/../../packages/core/src/chains/kaspa/sdkKaspa/privatekey.ts","webpack://web/../../packages/core/src/chains/kaspa/sdkKaspa/publickey.ts","webpack://web/../../packages/core/src/consts/index.ts","webpack://web/../../packages/core/src/chains/kaspa/sdkKaspa/utxo.ts","webpack://web/../../packages/core/src/chains/kaspa/sdkKaspa/transaction.ts","webpack://web/../../packages/core/src/chains/kaspa/sdkKaspa/types/utxo.ts","webpack://web/../../packages/core/src/utils/index.ts","webpack://web/../../packages/kit-bg/src/vaults/base/KeyringBase.ts","webpack://web/../../packages/kit-bg/src/vaults/base/KeyringExternalBase.ts","webpack://web/../../packages/kit-bg/src/vaults/base/KeyringHardwareBase.ts","webpack://web/../../packages/kit-bg/src/vaults/base/KeyringHdBase.ts","webpack://web/../../packages/kit-bg/src/vaults/base/KeyringImportedBase.ts","webpack://web/../../packages/kit-bg/src/vaults/base/KeyringSoftwareBase.ts","webpack://web/../../packages/kit-bg/src/vaults/base/KeyringWatchingBase.ts","webpack://web/../../packages/kit-bg/src/vaults/base/VaultBase.ts","webpack://web/../../packages/kit-bg/src/vaults/base/VaultContext.ts","webpack://web/../../packages/kit-bg/src/vaults/impls/kaspa/KeyringExternal.ts","webpack://web/../../packages/kit-bg/src/vaults/impls/kaspa/KeyringHardware.ts","webpack://web/../../packages/kit-bg/src/vaults/impls/kaspa/KeyringHd.ts","webpack://web/../../packages/kit-bg/src/vaults/impls/kaspa/KeyringImported.ts","webpack://web/../../packages/kit-bg/src/vaults/impls/kaspa/KeyringWatching.ts","webpack://web/../../packages/kit-bg/src/vaults/impls/kaspa/Vault.ts","webpack://web/../../packages/kit-bg/src/vaults/types.ts"],"sourcesContent":["// baseline estimates, used to improve performance\nvar TX_EMPTY_SIZE = 4 + 1 + 1 + 4\nvar TX_INPUT_BASE = 32 + 4 + 1 + 4\nvar TX_INPUT_PUBKEYHASH = 107\nvar TX_OUTPUT_BASE = 8 + 1\nvar TX_OUTPUT_PUBKEYHASH = 25\nvar OP_RETURN_OVERHEAD = 1 + 8 + 1\n\nfunction inputBytes (input) {\n  return TX_INPUT_BASE + (input.script ? input.script.length : TX_INPUT_PUBKEYHASH)\n}\n\nfunction outputBytes (output) {\n  if (output.script) {\n    return OP_RETURN_OVERHEAD + output.script.length + (output.script.length >= 74 ? 2 : 1)\n  }\n  return TX_OUTPUT_BASE + (output.script ? output.script.length : TX_OUTPUT_PUBKEYHASH)\n}\n\nfunction dustThreshold (output, feeRate) {\n  /* ... classify the output for input estimate  */\n  return inputBytes({}) * feeRate\n}\n\nfunction transactionBytes (inputs, outputs) {\n  return TX_EMPTY_SIZE +\n    inputs.reduce(function (a, x) { return a + inputBytes(x) }, 0) +\n    outputs.reduce(function (a, x) { return a + outputBytes(x) }, 0)\n}\n\nfunction uintOrNaN (v) {\n  if (typeof v !== 'number') return NaN\n  if (!isFinite(v)) return NaN\n  if (Math.floor(v) !== v) return NaN\n  if (v < 0) return NaN\n  return v\n}\n\nfunction sumForgiving (range) {\n  return range.reduce(function (a, x) { return a + (isFinite(x.value) ? x.value : 0) }, 0)\n}\n\nfunction sumOrNaN (range) {\n  return range.reduce(function (a, x) { return a + uintOrNaN(x.value) }, 0)\n}\n\nvar BLANK_OUTPUT = outputBytes({})\n\nfunction finalize (inputs, outputs, feeRate) {\n  var bytesAccum = transactionBytes(inputs, outputs)\n  var feeAfterExtraOutput = feeRate * (bytesAccum + BLANK_OUTPUT)\n  var remainderAfterExtraOutput = sumOrNaN(inputs) - (sumOrNaN(outputs) + feeAfterExtraOutput)\n\n  // is it worth a change output?\n  if (remainderAfterExtraOutput > dustThreshold({}, feeRate)) {\n    outputs = outputs.concat({ value: remainderAfterExtraOutput })\n  }\n\n  var fee = sumOrNaN(inputs) - sumOrNaN(outputs)\n  if (!isFinite(fee)) return { fee: feeRate * bytesAccum }\n\n  return {\n    inputs: inputs,\n    outputs: outputs,\n    fee: fee\n  }\n}\n\nmodule.exports = {\n  dustThreshold: dustThreshold,\n  finalize: finalize,\n  inputBytes: inputBytes,\n  outputBytes: outputBytes,\n  sumOrNaN: sumOrNaN,\n  sumForgiving: sumForgiving,\n  transactionBytes: transactionBytes,\n  uintOrNaN: uintOrNaN\n}\n","import _get from\"lodash/get\";import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import Axios from'axios';import{OneKeyInternalError}from'@onekeyhq/shared/src/errors';import{ETranslations}from'@onekeyhq/shared/src/locale';import{submitTransactionFromString}from\"./transaction\";export var RestAPIClient=function(){function RestAPIClient(url){this.axios=Axios.create({baseURL:url,timeout:30*1000});}var _proto=RestAPIClient.prototype;_proto.getBlockdag=function(){var _getBlockdag=_asyncToGenerator(function*(){try{var resp=yield this.axios.get('/info/blockdag',{headers:{'Content-Type':'application/json'}});return resp.data;}catch(error){return{networkName:'',blockCount:'0',headerCount:'0',virtualDaaScore:'0'};}});function getBlockdag(){return _getBlockdag.apply(this,arguments);}return getBlockdag;}();_proto.getNetworkInfo=function(){var _getNetworkInfo=_asyncToGenerator(function*(){try{var resp=yield this.axios.get('/info/network',{headers:{'Content-Type':'application/json'}});return resp.data;}catch(error){return{networkName:'',blockCount:'0',headerCount:'0',virtualDaaScore:'0'};}});function getNetworkInfo(){return _getNetworkInfo.apply(this,arguments);}return getNetworkInfo;}();_proto.queryBalance=function(){var _queryBalance=_asyncToGenerator(function*(address){try{var resp=yield this.axios.get(`/addresses/${address}/balance`,{headers:{'Content-Type':'application/json'}});return resp.data.balance;}catch(error){return 0n;}});function queryBalance(_x){return _queryBalance.apply(this,arguments);}return queryBalance;}();_proto.queryUtxos=function(){var _queryUtxos=_asyncToGenerator(function*(address){try{var resp=yield this.axios.get(`/addresses/${address}/utxos`,{headers:{'Content-Type':'application/json'}});return resp.data;}catch(error){return[];}});function queryUtxos(_x2){return _queryUtxos.apply(this,arguments);}return queryUtxos;}();_proto.sendRawTransaction=function(){var _sendRawTransaction=_asyncToGenerator(function*(rawTx){var transaction=submitTransactionFromString(rawTx);return this.axios.post(`/transactions`,transaction,{headers:{'Content-Type':'application/json'}}).then(function(resp){return resp.data.transactionId;}).catch(function(error){var message=_get(error,'response.data.error','');if(message.match(/payment of \\d+ is dust/)){throw new OneKeyInternalError({message,key:ETranslations.send_amount_too_small});}if(message.toLowerCase().indexOf('insufficient balance')!==-1){throw new OneKeyInternalError({message,key:ETranslations.earn_insufficient_balance});}throw new OneKeyInternalError(message);});});function sendRawTransaction(_x3){return _sendRawTransaction.apply(this,arguments);}return sendRawTransaction;}();_proto.getTransaction=function(){var _getTransaction=_asyncToGenerator(function*(transactionId){var resp=yield this.axios.get(`/transactions/${transactionId}?inputs=true&outputs=true&resolve_previous_outpoints=light`,{headers:{'Content-Type':'application/json'}});return resp.data;});function getTransaction(_x4){return _getTransaction.apply(this,arguments);}return getTransaction;}();_proto.getTransactions=function(){var _getTransactions=_asyncToGenerator(function*(txIds){var resp=yield this.axios.post(`/transactions/search?resolve_previous_outpoints=light`,{transactionIds:[...txIds]},{headers:{'Content-Type':'application/json'}});return resp.data;});function getTransactions(_x5){return _getTransactions.apply(this,arguments);}return getTransactions;}();_proto.getTransactionsByAddress=function(){var _getTransactionsByAddress=_asyncToGenerator(function*(address){var resp=yield this.axios.get(`/addresses/${address}/full-transactions?limit=50&offset=0&resolve_previous_outpoints=light`,{headers:{'Content-Type':'application/json'}});return resp.data;});function getTransactionsByAddress(_x6){return _getTransactionsByAddress.apply(this,arguments);}return getTransactionsByAddress;}();return _createClass(RestAPIClient);}();","export var DEFAULT_FEE=1000;export var CONFIRMATION_COUNT=10;export var DUST_AMOUNT=20_000_000;export var MAX_BLOCK_SIZE=1_000_000;export var MAX_ORPHAN_TX_MASS=100_000;export var SOMPI_PER_KASPA=100_000_000;export var MAX_SOMPI=21_000_000*SOMPI_PER_KASPA;export var MINIMUM_RELAY_TRANSACTION_FEE=DEFAULT_FEE;export var DEFAULT_FEE_RATE=1;export var DEFAULT_SEQNUMBER=0;","import{Address}from'@onekeyfe/kaspa-core-lib';export var EKaspaAddressType=function(EKaspaAddressType){EKaspaAddressType[\"PayToPublicKey\"]=\"pubkey\";EKaspaAddressType[\"PayToScriptHash\"]=\"scripthash\";return EKaspaAddressType;}({});export function addressFromPublicKeyBuffer(pubKey,chainId){return Address.fromPublicKeyBuffer(pubKey,chainId).toString();}export function addressFromPublicKey(pubKey,chainId){return Address.fromPublicKey(pubKey,chainId).toString();}export function fromString(address,chainId,addressType=EKaspaAddressType.PayToPublicKey){return Address.fromString(address,chainId,addressType);}export function isValidAddress(address,chainId,addressType=EKaspaAddressType.PayToPublicKey){return Address.isValid(address,chainId,addressType);}","import{bytesToHex}from'@noble/hashes/utils';import{PrivateKey}from'@onekeyfe/kaspa-core-lib';import{tapTweakHash}from'@onekeyhq/core/src/secret/bip340';import ecc from\"../../../secret/nobleSecp256k1Wrapper\";export function privateKeyFromWIF(wif){return PrivateKey.fromWIF(wif);}export function privateKeyFromBuffer(pri,chainId){return PrivateKey.fromBuffer(pri,chainId);}export function privateKeyFromOriginPrivateKey(pri,pub,chainId){var privateKey=new Uint8Array(pri);var publicKey=pub;if(publicKey[0]===3){privateKey=ecc.privateNegate(privateKey);}if(!privateKey){throw new Error('Private key is required for tweaking signer!');}var tweakedPrivateKey=ecc.privateAdd(privateKey,tapTweakHash(publicKey.slice(1),undefined));return new PrivateKey(bytesToHex(tweakedPrivateKey),chainId);}","import{bytesToHex}from'@noble/hashes/utils';import{PublicKey}from'@onekeyfe/kaspa-core-lib';import{tweakPublicKey}from'@onekeyhq/core/src/secret/bip340';export var EKaspaSignType=function(EKaspaSignType){EKaspaSignType[\"Schnorr\"]=\"schnorr\";EKaspaSignType[\"ECDSA\"]=\"ecdsa\";return EKaspaSignType;}({});export function publicKeyFromDER(der){return PublicKey.fromString(der);}export function publicKeyFromX(odd,x){var pub=odd?`02${x}`:`03${x}`;return PublicKey.fromString(pub);}export function publicKeyFromOriginPubkey(pubkey){var tweakPublic=tweakPublicKey(Buffer.from(pubkey.slice(1)));if(!tweakPublic)throw new Error('Public key tweak failed');var{parity,x:xOnlyPubkey}=tweakPublic;return publicKeyFromX(parity===0,bytesToHex(xOnlyPubkey));}","import BigNumber from'bignumber.js';export var MAX_UINT64_VALUE=new BigNumber('18446744073709551615');","import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import{BigNumber}from'bignumber.js';import{MAX_UINT64_VALUE}from'@onekeyhq/core/src/consts';import{LowerTransactionAmountError}from'@onekeyhq/shared/src/errors';import{CONFIRMATION_COUNT}from\"./constant\";import{UnspentOutput}from\"./types\";function sortUXTO(utxos){return utxos.sort(function(a,b){return a.blockDaaScore-b.blockDaaScore||new BigNumber(b.satoshis).minus(a.satoshis).toNumber()||a.txid.localeCompare(b.txid)||a.vout-b.vout;});}function formatUtxo(entries){var result=[];for(var entry of entries){var _scriptPublicKey$vers;var{transactionId,index}=entry.outpoint;var{address,utxoEntry}=entry;var{amount,scriptPublicKey,blockDaaScore}=utxoEntry;var item={txid:transactionId,address,vout:index,scriptPubKey:scriptPublicKey.scriptPublicKey,scriptPublicKeyVersion:(_scriptPublicKey$vers=scriptPublicKey.version)!=null?_scriptPublicKey$vers:0,satoshis:Array.isArray(amount)?amount[0]:amount,blockDaaScore:parseInt(blockDaaScore,10)};result.push(item);}return result;}export function queryConfirmUTXOs(_x,_x2){return _queryConfirmUTXOs.apply(this,arguments);}function _queryConfirmUTXOs(){_queryConfirmUTXOs=_asyncToGenerator(function*(client,address){var networkInfo=yield client.getNetworkInfo();var utxos=yield client.queryUtxos(address);var blueScore=new BigNumber(networkInfo.virtualDaaScore);var confirmedUtxos=utxos.filter(function(u){return blueScore.minus(u.utxoEntry.blockDaaScore).isGreaterThanOrEqualTo(CONFIRMATION_COUNT);});return Promise.resolve(formatUtxo(confirmedUtxos));});return _queryConfirmUTXOs.apply(this,arguments);}export function selectUTXOs(confirmUtxos,txAmount,prioritys){var sortedUtxos=sortUXTO(confirmUtxos);var selectedUtxos=[];var utxoIds=[];var totalVal=new BigNumber(0);var mass=0;for(var info of sortedUtxos){var utxo=new UnspentOutput(info);utxoIds.push(utxo.id);selectedUtxos.push(info);mass+=utxo.mass;totalVal=totalVal.plus(utxo.satoshis);if(totalVal.isGreaterThanOrEqualTo(txAmount))break;}if(totalVal.isLessThan(txAmount))throw new LowerTransactionAmountError();if(totalVal.isGreaterThan(MAX_UINT64_VALUE)){throw new Error('utxo amount is too large');}return{utxoIds,utxos:selectedUtxos,mass};}","import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import{bytesToHex}from'@noble/hashes/utils';import*as necc from'@noble/secp256k1';import{Transaction,crypto}from'@onekeyfe/kaspa-core-lib';import BigNumber from'bignumber.js';import{OneKeyInternalError}from'@onekeyhq/shared/src/errors';import{ETranslations}from'@onekeyhq/shared/src/locale';import hexUtils from'@onekeyhq/shared/src/utils/hexUtils';import ecc from\"../../../secret/nobleSecp256k1Wrapper\";import{DEFAULT_FEE_RATE,DEFAULT_SEQNUMBER}from\"./constant\";import{UnspentOutput}from\"./types\";export var SignatureType=function(SignatureType){SignatureType[SignatureType[\"SIGHASH_ALL\"]=1]=\"SIGHASH_ALL\";SignatureType[SignatureType[\"SIGHASH_NONE\"]=2]=\"SIGHASH_NONE\";SignatureType[SignatureType[\"SIGHASH_SINGLE\"]=3]=\"SIGHASH_SINGLE\";SignatureType[SignatureType[\"SIGHASH_FORKID\"]=64]=\"SIGHASH_FORKID\";SignatureType[SignatureType[\"SIGHASH_ANYONECANPAY\"]=128]=\"SIGHASH_ANYONECANPAY\";return SignatureType;}({});export var SigningMethodType=function(SigningMethodType){SigningMethodType[\"ECDSA\"]=\"ecdsa\";SigningMethodType[\"Schnorr\"]=\"schnorr\";return SigningMethodType;}({});export function toTransaction(tx){var _tx$feeInfo$price;var{inputs,outputs,mass}=tx;var{address:from}=inputs[0]||{};var{address:to,value}=outputs[0];var sendAmount=new BigNumber(value);var fee=new BigNumber((_tx$feeInfo$price=tx.feeInfo?.price)!=null?_tx$feeInfo$price:DEFAULT_FEE_RATE).multipliedBy(mass).toFixed();if(tx.hasMaxSend){sendAmount=sendAmount.minus(fee);}if(sendAmount.isLessThan(0)){throw new OneKeyInternalError({message:'Insufficient Balance.',key:ETranslations.swap_page_button_insufficient_balance});}var txn=new Transaction().from(inputs.map(function(input){return new UnspentOutput(input);})).to(to,sendAmount.toFixed()).setVersion(0).fee(parseInt(fee,10)).change(from?.toString());txn.inputs.forEach(function(input){input.sequenceNumber=DEFAULT_SEQNUMBER;});return txn;}function sign(_x,_x2,_x3,_x4,_x5,_x6,_x7,_x8){return _sign2.apply(this,arguments);}function _sign2(){_sign2=_asyncToGenerator(function*(transaction,signer,sighashType,inputIndex,subscript,satoshisBN,flags,signingMethod){var hashbuf=Transaction.Sighash.sighash(transaction,sighashType,inputIndex,subscript,satoshisBN,flags);if(signingMethod==='schnorr'){var privateKey=(yield signer.getPrivateKey()).toBuffer();var signatureBuffer=ecc.signSchnorr(hashbuf,privateKey);var signature=bytesToHex(signatureBuffer);var sig=crypto.Signature.fromString(hexUtils.stripHexPrefix(signature));var b=sig.toBuffer('schnorr').toString('hex');if(b.length<128)throw new Error(`Invalid Signature\\nsecp256k1 sig:${hexUtils.hexlify(signature)}\\nSignature.fromString:${b}`);sig.compressed=true;sig.nhashtype=sighashType;return sig;}if(signingMethod==='ecdsa'){var _signatureBuffer=yield necc.sign(hashbuf,(yield signer.getPrivateKey()).toBuffer());var _signature=hexUtils.hexlify(_signatureBuffer);var _sig=crypto.Signature.fromString(hexUtils.stripHexPrefix(_signature));_sig.compressed=true;_sig.nhashtype=sighashType;return _sig;}});return _sign2.apply(this,arguments);}function getSignaturesWithInput(_x9,_x10,_x11,_x12){return _getSignaturesWithInput.apply(this,arguments);}function _getSignaturesWithInput(){_getSignaturesWithInput=_asyncToGenerator(function*(transaction,input,index,signer,sigtype=SignatureType.SIGHASH_ALL|SignatureType.SIGHASH_FORKID,signingMethod=SigningMethodType.Schnorr){if(input instanceof Transaction.Input.PublicKey){var publicKey=signer.getPublicKey();if(publicKey.toString()===hexUtils.hexlify(input?.output?.script?.getPublicKey(),{noPrefix:true})){var txSign=yield sign(transaction,signer,sigtype,index,input.output?.script,input.output?.satoshis,undefined,signingMethod);return[new Transaction.Signature({publicKey,prevTxId:input.prevTxId,outputIndex:input.outputIndex,inputIndex:index,signature:txSign,sigtype})];}return[];}});return _getSignaturesWithInput.apply(this,arguments);}function getSignatures(_x13,_x14,_x15){return _getSignatures.apply(this,arguments);}function _getSignatures(){_getSignatures=_asyncToGenerator(function*(signer,list,transaction,sigtype=SignatureType.SIGHASH_ALL|SignatureType.SIGHASH_FORKID,signingMethod=SigningMethodType.Schnorr){var results=[];var sigs;for(var{input,index}of list){sigs=(yield getSignaturesWithInput(transaction,input,index,signer,sigtype,signingMethod))||[];results.push(...sigs);}return results;});return _getSignatures.apply(this,arguments);}function _sign(_x16,_x17,_x18,_x19){return _sign3.apply(this,arguments);}function _sign3(){_sign3=_asyncToGenerator(function*(signer,list,transaction,sigtype,signingMethod=SigningMethodType.ECDSA){var signatures=(yield getSignatures(signer,list,transaction,sigtype,signingMethod))||[];for(var signature of signatures){transaction.inputs[signature.inputIndex].addSignature(transaction,signature,signingMethod);}return transaction.toBuffer().toString('hex');});return _sign3.apply(this,arguments);}export function signTransaction(transaction,signer){var list=[];for(var i=0;i<transaction.inputs.length;i+=1){var input=transaction.inputs[i];list.push({input,index:i});}return _sign(signer,list,transaction,SignatureType.SIGHASH_ALL,SigningMethodType.Schnorr);}export function transactionFromString(hex){return new Transaction(hex);}export function submitTransactionFromString(hex){var tx=new Transaction(hex);var{nLockTime:lockTime,version}=tx;var inputs=tx.inputs.map(function(input){return{previousOutpoint:{transactionId:input.prevTxId.toString('hex'),index:input.outputIndex},signatureScript:input.script.toBuffer().toString('hex'),sequence:DEFAULT_SEQNUMBER,sigOpCount:1};});var outputs=tx.outputs.map(function(output){return{amount:new BigNumber(output.satoshis).toFixed(),scriptPublicKey:{scriptPublicKey:output.script.toBuffer().toString('hex'),version:0}};});return{transaction:{version,inputs,outputs,lockTime,fee:tx.fee,subnetworkId:'0000000000000000000000000000000000000000'}};}","import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import{Transaction}from'@onekeyfe/kaspa-core-lib';export var UnspentOutput=function(_Transaction$UnspentO){_inherits(UnspentOutput,_Transaction$UnspentO);var _super=_createSuper(UnspentOutput);function UnspentOutput(o){var _this;_this=_super.call(this,o);_this.blockDaaScore=o.blockDaaScore;_this.scriptPublicKeyVersion=o.scriptPublicKeyVersion;_this.id=`${_this.txId}${_this.outputIndex}`;_this.signatureOPCount=_this.script.getSignatureOperationsCount();_this.mass=_this.signatureOPCount*Transaction.MassPerSigOp;_this.mass+=151*Transaction.MassPerTxByte;_this.scriptPubKey=o.scriptPubKey;return _this;}var _proto=UnspentOutput.prototype;_proto.toJSON=function toJSON(){return{txid:this.txId,address:this.address.toString(),vout:this.outputIndex,scriptPubKey:this.scriptPubKey,satoshis:this.satoshis,blockDaaScore:this.blockDaaScore,scriptPublicKeyVersion:this.scriptPublicKeyVersion};};UnspentOutput.fromJSON=function fromJSON(json){return new UnspentOutput(json);};return _createClass(UnspentOutput);}(Transaction.UnspentOutput);","import coinselectUtils from'@onekeyfe/coinselect/utils';import accountUtils from'@onekeyhq/shared/src/utils/accountUtils';export function slicePathTemplate(template){return accountUtils.slicePathTemplate(template);}export function getUtxoAccountPrefixPath({fullPath}){var pathComponent=fullPath.split('/');pathComponent.pop();pathComponent.pop();var prefixPath=pathComponent.join('/');return prefixPath;}export function getBIP44Path(account,address){var realPath='';for(var[key,value]of Object.entries(account.addresses)){if(value===address){realPath=key;break;}}return`${account.path}/${realPath}`;}export function estimateTxSize(inputsForCoinSelect,outputsForCoinSelect){return coinselectUtils.transactionBytes(inputsForCoinSelect,outputsForCoinSelect);}","import _isNil from\"lodash/isNil\";import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import{NotImplemented}from'@onekeyhq/shared/src/errors';import{defaultLogger}from'@onekeyhq/shared/src/logger/logger';import accountUtils from'@onekeyhq/shared/src/utils/accountUtils';import timerUtils from'@onekeyhq/shared/src/utils/timerUtils';import{EDBAccountType}from\"../../dbs/local/consts\";import{EVaultKeyringTypes}from\"../types\";import{VaultContext}from\"./VaultContext\";export var KeyringBase=function(_VaultContext){_inherits(KeyringBase,_VaultContext);var _super=_createSuper(KeyringBase);function KeyringBase(vault){var _this;_this=_super.call(this,vault.options);_this.vault=vault;if(_this.vault.networkId!==vault.options.networkId){throw new Error('KeyringBase ERROR: networkId not match1');}if(_this.networkId!==vault.options.networkId){throw new Error('KeyringBase ERROR: networkId not match2');}return _this;}var _proto=KeyringBase.prototype;_proto.isKeyringImported=function isKeyringImported(){return this.keyringType===EVaultKeyringTypes.imported;};_proto.isKeyringHd=function isKeyringHd(){return this.keyringType===EVaultKeyringTypes.hd;};_proto.isKeyringHardware=function isKeyringHardware(){return this.keyringType===EVaultKeyringTypes.hardware;};_proto.isKeyringWatching=function isKeyringWatching(){return this.keyringType===EVaultKeyringTypes.watching;};_proto.basePrepareHdNormalAccounts=function(){var _basePrepareHdNormalAccounts=_asyncToGenerator(function*(params,options){var{walletId}=this;if(!walletId){throw new Error('walletId is not defined');}var{names,deriveInfo,indexes}=params;var{coinType,template,namePrefix,idSuffix}=deriveInfo;if(!coinType){throw new Error('coinType is not defined');}var settings=yield this.getVaultSettings();var{accountType}=settings;var{buildAddressesInfo}=options;var usedIndexes=indexes;var addressInfos=yield buildAddressesInfo({usedIndexes});var ret=[];for(var idx=0;idx<addressInfos.length;idx+=1){var{path,publicKey,address,addresses,relPath}=addressInfos[idx];if(!path){throw new Error('KeyringHD prepareAccounts ERROR: path not found');}if(accountType===EDBAccountType.VARIANT&&!addresses){throw new Error('addresses is required for variant account');}if(accountType===EDBAccountType.VARIANT&&address){throw new Error('address should not set for variant account');}var pathIndex=usedIndexes[idx];var name=names?.[idx]||accountUtils.buildHDAccountName({pathIndex,namePrefix});var id=accountUtils.buildHDAccountId({walletId,path,idSuffix});var indexedAccountId=accountUtils.buildIndexedAccountId({walletId,index:pathIndex});ret.push({id,name,type:accountType,path,pathIndex,relPath,indexedAccountId,coinType,impl:settings.impl,pub:publicKey,address,addresses,template});}return ret;});function basePrepareHdNormalAccounts(_x,_x2){return _basePrepareHdNormalAccounts.apply(this,arguments);}return basePrepareHdNormalAccounts;}();_proto.basePrepareHdUtxoAccounts=function(){var _basePrepareHdUtxoAccounts=_asyncToGenerator(function*(params,options){var{walletId}=this;if(!walletId){throw new Error('walletId is undefined');}var{indexes,deriveInfo,names,skipCheckAccountExist=true}=params;var{coinType,template,namePrefix}=deriveInfo;if(!coinType){throw new Error('coinType is not defined');}var settings=yield this.getVaultSettings();var{accountType}=settings;if(accountType!==EDBAccountType.UTXO){throw new Error('accountType is not utxo');}var{checkIsAccountUsed,buildAddressesInfo}=options;var ignoreFirst=false;var usedIndexes=[...(ignoreFirst?[indexes[0]-1]:[]),...indexes];defaultLogger.account.accountCreatePerf.utxoBuildAddressesInfo();var addressesInfo=yield buildAddressesInfo({usedIndexes});defaultLogger.account.accountCreatePerf.utxoBuildAddressesInfoDone();defaultLogger.account.accountCreatePerf.buildDBUtxoAccounts();var ret=[];var idx=0;for(var{path,relPath,publicKey,xpub,xpubSegwit,address,addresses}of addressesInfo){if(!path||_isNil(xpub)||!addresses){throw new Error('basePrepareHdUtxoAccounts ERROR: path or xpub or addresses is undefined');}if(!relPath){throw new Error('basePrepareHdUtxoAccounts ERROR: relPath is undefined');}var prefix=namePrefix;var pathIndex=usedIndexes[idx];var name=names?.[idx]||`${prefix} #${pathIndex+1}`;var id=`${this.walletId}--${path}`;if(!ignoreFirst||idx>0){var indexedAccountId=accountUtils.buildIndexedAccountId({walletId:this.walletId,index:pathIndex});ret.push({id,name,type:accountType,path,pathIndex,indexedAccountId,relPath,coinType,impl:settings.impl,pub:publicKey,xpub,xpubSegwit,address,addresses,template});}var isLast=idx===addressesInfo.length-1;if(!skipCheckAccountExist&&!isLast&&checkIsAccountUsed){var{isUsed}=yield checkIsAccountUsed({xpub,xpubSegwit,address});if(!isUsed){break;}yield timerUtils.wait(200);}idx+=1;}defaultLogger.account.accountCreatePerf.buildDBUtxoAccountsDone();return ret;});function basePrepareHdUtxoAccounts(_x3,_x4){return _basePrepareHdUtxoAccounts.apply(this,arguments);}return basePrepareHdUtxoAccounts;}();_proto.batchGetAddresses=function(){var _batchGetAddresses=_asyncToGenerator(function*(params){return[];});function batchGetAddresses(_x5){return _batchGetAddresses.apply(this,arguments);}return batchGetAddresses;}();_proto.exportAccountSecretKeys=function(){var _exportAccountSecretKeys=_asyncToGenerator(function*(params){throw new NotImplemented();});function exportAccountSecretKeys(_x6){return _exportAccountSecretKeys.apply(this,arguments);}return exportAccountSecretKeys;}();_proto.buildHwAllNetworkPrepareAccountsParams=function(){var _buildHwAllNetworkPrepareAccountsParams=_asyncToGenerator(function*(params){return undefined;});function buildHwAllNetworkPrepareAccountsParams(_x7){return _buildHwAllNetworkPrepareAccountsParams.apply(this,arguments);}return buildHwAllNetworkPrepareAccountsParams;}();_proto.buildPrepareAccountsPrefixedPath=function buildPrepareAccountsPrefixedPath(params){throw new NotImplemented();};return _createClass(KeyringBase);}(VaultContext);export var KeyringBaseMock=function(_KeyringBase){_inherits(KeyringBaseMock,_KeyringBase);var _super2=_createSuper(KeyringBaseMock);function KeyringBaseMock(){return _super2.apply(this,arguments);}return _createClass(KeyringBaseMock);}(KeyringBase);","import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import{OneKeyInternalError}from'@onekeyhq/shared/src/errors';import{EVaultKeyringTypes}from\"../types\";import{KeyringBase}from\"./KeyringBase\";export var KeyringExternalBase=function(_KeyringBase){_inherits(KeyringExternalBase,_KeyringBase);var _super=_createSuper(KeyringExternalBase);function KeyringExternalBase(...args){var _this;_this=_super.call(this,...args);_this.keyringType=EVaultKeyringTypes.external;return _this;}var _proto=KeyringExternalBase.prototype;_proto.baseSignMessageByExternalWallet=function(){var _baseSignMessageByExternalWallet=_asyncToGenerator(function*(params){return this.backgroundApi.serviceDappSide.signMessage({account:yield this.vault.getAccount(),networkId:this.networkId,params});});function baseSignMessageByExternalWallet(_x){return _baseSignMessageByExternalWallet.apply(this,arguments);}return baseSignMessageByExternalWallet;}();_proto.baseSendTransactionByExternalWallet=function(){var _baseSendTransactionByExternalWallet=_asyncToGenerator(function*(params){return this.backgroundApi.serviceDappSide.sendTransaction({account:yield this.vault.getAccount(),networkId:this.networkId,params});});function baseSendTransactionByExternalWallet(_x2){return _baseSendTransactionByExternalWallet.apply(this,arguments);}return baseSendTransactionByExternalWallet;}();_proto.prepareAccounts=function prepareAccounts(params){throw new OneKeyInternalError('prepareAccounts is not supported for external accounts, use serviceAccount directly');};_proto.basePrepareExternalAccounts=function(){var _basePrepareExternalAccounts=_asyncToGenerator(function*(params){return[];});function basePrepareExternalAccounts(_x3){return _basePrepareExternalAccounts.apply(this,arguments);}return basePrepareExternalAccounts;}();return _createClass(KeyringExternalBase);}(KeyringBase);","import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import{slicePathTemplate}from'@onekeyhq/core/src/utils';import appGlobals from'@onekeyhq/shared/src/appGlobals';import{OneKeyInternalError,UnsupportedAddressTypeError}from'@onekeyhq/shared/src/errors';import{convertDeviceError,convertDeviceResponse}from'@onekeyhq/shared/src/errors/utils/deviceErrorUtils';import{HardwareSDK}from'@onekeyhq/shared/src/hardware/instance';import{defaultLogger}from'@onekeyhq/shared/src/logger/logger';import{EConfirmOnDeviceType}from'@onekeyhq/shared/types/device';import{EVaultKeyringTypes}from\"../types\";import{KeyringBase}from\"./KeyringBase\";export var KeyringHardwareBase=function(_KeyringBase){_inherits(KeyringHardwareBase,_KeyringBase);var _super=_createSuper(KeyringHardwareBase);function KeyringHardwareBase(...args){var _this;_this=_super.call(this,...args);_this.keyringType=EVaultKeyringTypes.hardware;return _this;}var _proto=KeyringHardwareBase.prototype;_proto.getHardwareSDKInstance=function(){var _getHardwareSDKInstance=_asyncToGenerator(function*(){var _ref;defaultLogger.account.accountCreatePerf.getHardwareSDKInstance();var sdk=yield appGlobals?.$backgroundApiProxy?.backgroundApi?.serviceHardware?.getSDKInstance?.();var r=(_ref=sdk)!=null?_ref:HardwareSDK;defaultLogger.account.accountCreatePerf.getHardwareSDKInstanceDone();return r;});function getHardwareSDKInstance(){return _getHardwareSDKInstance.apply(this,arguments);}return getHardwareSDKInstance;}();_proto.baseGetDeviceAccountData=function(){var _baseGetDeviceAccountData=_asyncToGenerator(function*({params,usedIndexes,sdkGetDataFn,errorMessage}){var{deriveInfo,deviceParams}=params;var{dbDevice,confirmOnDevice}=deviceParams;var{connectId,deviceId}=dbDevice;var{template,coinName}=deriveInfo;var{pathPrefix,pathSuffix}=slicePathTemplate(template);var showOnOnekeyFn=function(arrIndex){if(confirmOnDevice===EConfirmOnDeviceType.EveryItem){return true;}if(confirmOnDevice===EConfirmOnDeviceType.LastItem){return arrIndex===usedIndexes[usedIndexes.length-1];}return false;};var result=yield convertDeviceResponse(_asyncToGenerator(function*(){return sdkGetDataFn({connectId,deviceId,pathPrefix,pathSuffix,template,coinName,showOnOnekeyFn});}));if(!result||result.length!==usedIndexes.length){throw new OneKeyInternalError(errorMessage);}return result;});function baseGetDeviceAccountData(_x){return _baseGetDeviceAccountData.apply(this,arguments);}return baseGetDeviceAccountData;}();_proto.baseGetDeviceAccountPublicKeys=function(){var _baseGetDeviceAccountPublicKeys=_asyncToGenerator(function*({params,usedIndexes,sdkGetPublicKeysFn}){return this.baseGetDeviceAccountData({params,usedIndexes,sdkGetDataFn:sdkGetPublicKeysFn,errorMessage:'Unable to get public keys.'});});function baseGetDeviceAccountPublicKeys(_x2){return _baseGetDeviceAccountPublicKeys.apply(this,arguments);}return baseGetDeviceAccountPublicKeys;}();_proto.baseGetDeviceAccountAddresses=function(){var _baseGetDeviceAccountAddresses=_asyncToGenerator(function*({params,usedIndexes,sdkGetAddressFn}){return this.baseGetDeviceAccountData({params,usedIndexes,sdkGetDataFn:sdkGetAddressFn,errorMessage:'Unable to get addresses.'});});function baseGetDeviceAccountAddresses(_x3){return _baseGetDeviceAccountAddresses.apply(this,arguments);}return baseGetDeviceAccountAddresses;}();_proto.getAllNetworkPrepareAccounts=function(){var _getAllNetworkPrepareAccounts=_asyncToGenerator(function*({hwSdkNetwork,params,usedIndexes,buildPath,buildResultAccount}){if(!hwSdkNetwork){return undefined;}var{hwAllNetworkPrepareAccountsResponse}=params;if(hwAllNetworkPrepareAccountsResponse?.length){var resultAccounts=[];var _loop=function*(){var path=yield buildPath({index});var account=hwAllNetworkPrepareAccountsResponse?.find(function(item){return item.network&&item.path===path&&item.network===hwSdkNetwork;});if(account&&account.success){resultAccounts.push(buildResultAccount({account,index}));}};for(var index of usedIndexes){yield*_loop();}if(resultAccounts.length===usedIndexes.length){return{success:true,payload:resultAccounts};}var hasErrorItem=hwAllNetworkPrepareAccountsResponse?.find(function(item){return!item.success&&!!item.payload?.error;});if(!hasErrorItem?.success&&hasErrorItem?.payload?.error){if(hasErrorItem?.payload?.error?.indexOf('Failure_DataError,Forbidden key path')!==-1){throw new UnsupportedAddressTypeError();}throw convertDeviceError(hasErrorItem.payload);}throw new OneKeyInternalError('SDK GetAllNetworkAccounts Failed');}});function getAllNetworkPrepareAccounts(_x4){return _getAllNetworkPrepareAccounts.apply(this,arguments);}return getAllNetworkPrepareAccounts;}();return _createClass(KeyringHardwareBase);}(KeyringBase);","import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import{EVaultKeyringTypes}from\"../types\";import{KeyringSoftwareBase}from\"./KeyringSoftwareBase\";export var KeyringHdBase=function(_KeyringSoftwareBase){_inherits(KeyringHdBase,_KeyringSoftwareBase);var _super=_createSuper(KeyringHdBase);function KeyringHdBase(...args){var _this;_this=_super.call(this,...args);_this.keyringType=EVaultKeyringTypes.hd;return _this;}return _createClass(KeyringHdBase);}(KeyringSoftwareBase);","import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import{EVaultKeyringTypes}from\"../types\";import{KeyringSoftwareBase}from\"./KeyringSoftwareBase\";export var KeyringImportedBase=function(_KeyringSoftwareBase){_inherits(KeyringImportedBase,_KeyringSoftwareBase);var _super=_createSuper(KeyringImportedBase);function KeyringImportedBase(...args){var _this;_this=_super.call(this,...args);_this.keyringType=EVaultKeyringTypes.imported;return _this;}return _createClass(KeyringImportedBase);}(KeyringSoftwareBase);","import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _isNil from\"lodash/isNil\";import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import{decryptImportedCredential}from'@onekeyhq/core/src/secret';import{OneKeyInternalError}from'@onekeyhq/shared/src/errors';import{defaultLogger}from'@onekeyhq/shared/src/logger/logger';import accountUtils from'@onekeyhq/shared/src/utils/accountUtils';import{checkIsDefined}from'@onekeyhq/shared/src/utils/assertUtils';import{noopObject}from'@onekeyhq/shared/src/utils/miscUtils';import localDb from\"../../dbs/local/localDb\";import{KeyringBase}from\"./KeyringBase\";export var KeyringSoftwareBase=function(_KeyringBase){_inherits(KeyringSoftwareBase,_KeyringBase);var _super=_createSuper(KeyringSoftwareBase);function KeyringSoftwareBase(){return _super.apply(this,arguments);}var _proto=KeyringSoftwareBase.prototype;_proto.baseGetCredentialsInfo=function(){var _baseGetCredentialsInfo=_asyncToGenerator(function*({password}){noopObject(password);var hd;var imported;if(this.isKeyringHd()){var credential=yield localDb.getCredential(checkIsDefined(this.walletId));hd=credential.credential;}if(this.isKeyringImported()){var _credential=yield localDb.getCredential(this.accountId);imported=_credential.credential;}return{hd,imported};});function baseGetCredentialsInfo(_x){return _baseGetCredentialsInfo.apply(this,arguments);}return baseGetCredentialsInfo;}();_proto.baseSignTransactionBtc=function(){var _baseSignTransactionBtc=_asyncToGenerator(function*(params){if(!this.coreApi){throw new Error('coreApi is not defined');}var vault=this.vault;var{password,unsignedTx,signOnly}=params;var credentials=yield this.baseGetCredentialsInfo(params);var networkInfo=yield this.getCoreApiNetworkInfo();var{account,btcExtraInfo,relPaths}=yield vault.prepareBtcSignExtraInfo({unsignedTx});var result=yield this.coreApi.signTransaction({networkInfo,unsignedTx,account,relPaths,password,credentials,btcExtraInfo,signOnly});return result;});function baseSignTransactionBtc(_x2){return _baseSignTransactionBtc.apply(this,arguments);}return baseSignTransactionBtc;}();_proto.baseSignTransaction=function(){var _baseSignTransaction=_asyncToGenerator(function*(params){if(!this.coreApi){throw new Error('coreApi is not defined');}var{password,unsignedTx}=params;var account=yield this.vault.getAccount();var credentials=yield this.baseGetCredentialsInfo(params);var networkInfo=yield this.getCoreApiNetworkInfo();var result=yield this.coreApi.signTransaction({networkInfo,password,account,credentials,unsignedTx});return result;});function baseSignTransaction(_x3){return _baseSignTransaction.apply(this,arguments);}return baseSignTransaction;}();_proto.baseSignMessage=function(){var _baseSignMessage=_asyncToGenerator(function*(params){var _this=this;if(!this.coreApi){throw new Error('coreApi is not defined');}var{password,messages}=params;var account=yield this.vault.getAccount();var credentials=yield this.baseGetCredentialsInfo(params);var networkInfo=yield this.getCoreApiNetworkInfo();var result=yield Promise.all(messages.map(function(msg){return checkIsDefined(_this.coreApi).signMessage({networkInfo,unsignedMsg:msg,account,password,credentials});}));return result;});function baseSignMessage(_x4){return _baseSignMessage.apply(this,arguments);}return baseSignMessage;}();_proto.baseSignMessageBtc=function(){var _baseSignMessageBtc=_asyncToGenerator(function*(params){var _this2=this;if(!this.coreApi){throw new Error('coreApi is not defined');}var vault=this.vault;var{password,messages}=params;var credentials=yield this.baseGetCredentialsInfo(params);var networkInfo=yield this.getCoreApiNetworkInfo();var result=yield Promise.all(messages.map(function(){var _ref=_asyncToGenerator(function*(msg){var{account,btcExtraInfo,relPaths}=yield vault.prepareBtcSignExtraInfo({unsignedMessage:msg});return checkIsDefined(_this2.coreApi).signMessage({networkInfo,unsignedMsg:msg,account,relPaths,password,credentials,btcExtraInfo});});return function(_x6){return _ref.apply(this,arguments);};}()));return result;});function baseSignMessageBtc(_x5){return _baseSignMessageBtc.apply(this,arguments);}return baseSignMessageBtc;}();_proto.basePrepareAccountsImported=function(){var _basePrepareAccountsImported=_asyncToGenerator(function*(params,options={}){if(!this.coreApi){throw new Error('coreApi is not defined');}var{name,importedCredential,password,networks,createAtNetwork}=params;var{privateKey}=decryptImportedCredential({credential:importedCredential,password});var settings=yield this.getVaultSettings();var{onlyAvailableOnCertainNetworks}=options;var accountType=options.accountType||settings.accountType;var impl=options.impl||settings.impl;var coinType=options.coinType||params.deriveInfo?.coinType||settings.coinTypeDefault;var networkInfo=yield this.getCoreApiNetworkInfo();var privateKeyRaw=privateKey;var{address,addresses,publicKey}=yield this.coreApi.getAddressFromPrivate({networkInfo,privateKeyRaw,addressEncoding:params.deriveInfo?.addressEncoding});var addressUsed='';if(onlyAvailableOnCertainNetworks){addressUsed=addresses?.[createAtNetwork]||'';if(!addressUsed){throw new Error(`imported account address is empty of network: ${createAtNetwork}`);}}var accountId=accountUtils.buildImportedAccountId({coinType,pub:publicKey,address:addressUsed,addressEncoding:params.deriveInfo?.addressEncoding});return Promise.resolve([{id:accountId,name:name||'',type:accountType,path:'',coinType,impl,networks:onlyAvailableOnCertainNetworks?networks:undefined,createAtNetwork,pub:publicKey,address,addresses}]);});function basePrepareAccountsImported(_x7){return _basePrepareAccountsImported.apply(this,arguments);}return basePrepareAccountsImported;}();_proto.basePrepareAccountsImportedUtxo=function(){var _basePrepareAccountsImportedUtxo=_asyncToGenerator(function*(params){if(!this.coreApi){throw new Error('coreApi is not defined');}var{name,importedCredential,password,createAtNetwork,deriveInfo}=params;var{privateKey}=decryptImportedCredential({credential:importedCredential,password});var addressEncoding=deriveInfo?.addressEncoding;var settings=yield this.getVaultSettings();var{coinTypeDefault:coinType,accountType}=settings;var networkInfo=yield this.getCoreApiNetworkInfo();var privateKeyRaw=privateKey;var{address,addresses,publicKey,xpub,relPath,xpubSegwit,path}=yield this.coreApi.getAddressFromPrivate({networkInfo,privateKeyRaw,addressEncoding});if(_isNil(xpub)||!addresses){throw new Error('xpub or addresses is undefined');}var accountId=accountUtils.buildImportedAccountId({coinType,xpub:xpub||publicKey,addressEncoding});return Promise.resolve([{id:accountId,name:name||'',type:accountType,path:path||'',relPath,coinType,impl:settings.impl,xpub,xpubSegwit,pub:publicKey,address,addresses,createAtNetwork}]);});function basePrepareAccountsImportedUtxo(_x8){return _basePrepareAccountsImportedUtxo.apply(this,arguments);}return basePrepareAccountsImportedUtxo;}();_proto.basePrepareAccountsHd=function(){var _basePrepareAccountsHd=_asyncToGenerator(function*(params){var _this3=this;var{template,addressEncoding}=params.deriveInfo;var{password}=params;var networkInfo=yield this.getCoreApiNetworkInfo();return this.basePrepareHdNormalAccounts(params,{buildAddressesInfo:function(){var _ref2=_asyncToGenerator(function*({usedIndexes}){if(!_this3.coreApi){throw new Error('coreApi is not defined');}var credentials=yield _this3.baseGetCredentialsInfo({password});var{addresses:addressInfos}=yield _this3.coreApi.getAddressesFromHd({networkInfo,template,hdCredential:checkIsDefined(credentials.hd),password,indexes:usedIndexes,addressEncoding});return addressInfos;});return function buildAddressesInfo(_x10){return _ref2.apply(this,arguments);};}()});});function basePrepareAccountsHd(_x9){return _basePrepareAccountsHd.apply(this,arguments);}return basePrepareAccountsHd;}();_proto.basePrepareAccountsHdUtxo=function(){var _basePrepareAccountsHdUtxo=_asyncToGenerator(function*(params,options){var _this4=this;var{password,indexes,deriveInfo,names,skipCheckAccountExist}=params;var addressEncoding=params?.deriveInfo?.addressEncoding;return this.basePrepareHdUtxoAccounts(params,_objectSpread(_objectSpread({},options),{},{buildAddressesInfo:function(){var _ref3=_asyncToGenerator(function*({usedIndexes}){var{coinType,template,namePrefix}=deriveInfo;defaultLogger.account.accountCreatePerf.getCredentialsInfo();var credentials=yield _this4.baseGetCredentialsInfo({password});if(!_this4.coreApi){throw new Error('coreApi is undefined');}defaultLogger.account.accountCreatePerf.getAddressesFromHd();var{addresses:addressesInfo}=yield _this4.coreApi.getAddressesFromHd({networkInfo:yield _this4.getCoreApiNetworkInfo(),template,hdCredential:checkIsDefined(credentials.hd),password,indexes:usedIndexes,addressEncoding});if(addressesInfo.length!==usedIndexes.length){throw new OneKeyInternalError('Unable to get address');}defaultLogger.account.accountCreatePerf.getAddressesFromHdDone();return addressesInfo;});return function buildAddressesInfo(_x13){return _ref3.apply(this,arguments);};}()}));});function basePrepareAccountsHdUtxo(_x11,_x12){return _basePrepareAccountsHdUtxo.apply(this,arguments);}return basePrepareAccountsHdUtxo;}();_proto.baseExportAccountSecretKeys=function(){var _baseExportAccountSecretKeys=_asyncToGenerator(function*(params){var{password,keyType,relPaths}=params;var account=yield this.vault.getAccount();var networkInfo=yield this.getCoreApiNetworkInfo();var credentials=yield this.baseGetCredentialsInfo({password});var{deriveInfo}=yield this.backgroundApi.serviceNetwork.getDeriveTypeByTemplate({networkId:this.networkId,template:account.template});var addressEncoding=deriveInfo?.addressEncoding;if(!this.coreApi){throw new Error('coreApi is not defined');}return this.coreApi.getExportedSecretKey({networkInfo,password,credentials,account,relPaths,keyType,addressEncoding});});function baseExportAccountSecretKeys(_x14){return _baseExportAccountSecretKeys.apply(this,arguments);}return baseExportAccountSecretKeys;}();_proto.baseGetPrivateKeys=function(){var _baseGetPrivateKeys=_asyncToGenerator(function*(params){var{password,relPaths}=params;if(!this.coreApi){throw new Error('coreApi is not defined');}var account=yield this.vault.getAccount();var credentials=yield this.baseGetCredentialsInfo({password});var networkInfo=yield this.getCoreApiNetworkInfo();var privateKeys=yield this.coreApi.getPrivateKeys({networkInfo,password,account,relPaths,credentials});return privateKeys;});function baseGetPrivateKeys(_x15){return _baseGetPrivateKeys.apply(this,arguments);}return baseGetPrivateKeys;}();return _createClass(KeyringSoftwareBase);}(KeyringBase);","import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import{InvalidAddress,OneKeyInternalError}from'@onekeyhq/shared/src/errors';import{ETranslations}from'@onekeyhq/shared/src/locale';import{appLocale}from'@onekeyhq/shared/src/locale/appLocale';import accountUtils from'@onekeyhq/shared/src/utils/accountUtils';import{checkIsDefined}from'@onekeyhq/shared/src/utils/assertUtils';import{EDBAccountType}from\"../../dbs/local/consts\";import{EVaultKeyringTypes}from\"../types\";import{KeyringBase}from\"./KeyringBase\";export var KeyringWatchingBase=function(_KeyringBase){_inherits(KeyringWatchingBase,_KeyringBase);var _super=_createSuper(KeyringWatchingBase);function KeyringWatchingBase(...args){var _this;_this=_super.call(this,...args);_this.keyringType=EVaultKeyringTypes.watching;return _this;}var _proto=KeyringWatchingBase.prototype;_proto.signTransaction=function(){var _signTransaction=_asyncToGenerator(function*(){throw new OneKeyInternalError(appLocale.intl.formatMessage({id:ETranslations.wallet_error_trade_with_watched_acocunt}));});function signTransaction(){return _signTransaction.apply(this,arguments);}return signTransaction;}();_proto.signMessage=function(){var _signMessage=_asyncToGenerator(function*(){throw new OneKeyInternalError(appLocale.intl.formatMessage({id:ETranslations.wallet_error_trade_with_watched_acocunt}));});function signMessage(){return _signMessage.apply(this,arguments);}return signMessage;}();_proto.basePrepareUtxoWatchingAccounts=function(){var _basePrepareUtxoWatchingAccounts=_asyncToGenerator(function*(params){var{address,xpub,networks,createAtNetwork,name,deriveInfo,isUrlAccount,addresses}=params;if(!address&&!xpub){throw new Error('basePrepareUtxoWatchingAccounts ERROR: address and xpub are not defined');}var networkInfo=yield this.getCoreApiNetworkInfo();var settings=yield this.getVaultSettings();var coinType=settings.coinTypeDefault;var addressEncoding=deriveInfo?.addressEncoding;var id=accountUtils.buildWatchingAccountId({coinType,address,xpub,addressEncoding,isUrlAccount});var addressFromXpub='';var xpubSegwit=xpub;if(!address&&xpub){checkIsDefined(this.coreApi);var result=yield this.coreApi?.getAddressFromPublic({publicKey:xpub,addressEncoding,networkInfo});addressFromXpub=result?.address||'';xpubSegwit=result?.xpubSegwit||xpubSegwit||xpub;}var account={id,name,type:EDBAccountType.UTXO,relPath:'0/0',coinType,impl:settings.impl,networks,createAtNetwork,address:addressFromXpub||address||'',xpub:xpub||'',xpubSegwit,path:'',addresses:addresses||{}};return[account];});function basePrepareUtxoWatchingAccounts(_x){return _basePrepareUtxoWatchingAccounts.apply(this,arguments);}return basePrepareUtxoWatchingAccounts;}();_proto.basePrepareSimpleWatchingAccounts=function(){var _basePrepareSimpleWatchingAccounts=_asyncToGenerator(function*(params,options={}){var{address,name,networks,createAtNetwork,isUrlAccount}=params;if(!address){throw new InvalidAddress();}if(!createAtNetwork){throw new Error('basePrepareSimpleWatchingAccounts ERROR: createAtNetwork is not defined');}var{onlyAvailableOnCertainNetworks=false}=options;var settings=yield this.getVaultSettings();var coinType=options.coinType||settings.coinTypeDefault;var impl=options.impl||settings.impl;var id=accountUtils.buildWatchingAccountId({coinType,address,isUrlAccount});var account={id,name:name||'',type:EDBAccountType.SIMPLE,coinType,impl,networks:onlyAvailableOnCertainNetworks?networks:undefined,createAtNetwork,address,pub:'',path:''};return Promise.resolve([account]);});function basePrepareSimpleWatchingAccounts(_x2){return _basePrepareSimpleWatchingAccounts.apply(this,arguments);}return basePrepareSimpleWatchingAccounts;}();return _createClass(KeyringWatchingBase);}(KeyringBase);","import _objectWithoutProperties from\"@babel/runtime/helpers/objectWithoutProperties\";import _omitBy from\"lodash/omitBy\";import _isEmpty from\"lodash/isEmpty\";import _isNil from\"lodash/isNil\";import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _omit from\"lodash/omit\";import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";var _excluded=[\"accountId\"],_excluded2=[\"accountId\"];function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import qs from'querystring';import{Semaphore}from'async-mutex';import BigNumber from'bignumber.js';import{decodeSensitiveText,encodeSensitiveText}from'@onekeyhq/core/src/secret';import{getNetworkIdsMap}from'@onekeyhq/shared/src/config/networkIds';import{NotImplemented}from'@onekeyhq/shared/src/errors';import platformEnv from'@onekeyhq/shared/src/platformEnv';import accountUtils from'@onekeyhq/shared/src/utils/accountUtils';import chainValueUtils from'@onekeyhq/shared/src/utils/chainValueUtils';import hexUtils from'@onekeyhq/shared/src/utils/hexUtils';import{getOnChainHistoryTxAssetInfo,getOnChainHistoryTxStatus}from'@onekeyhq/shared/src/utils/historyUtils';import{generateUUID}from'@onekeyhq/shared/src/utils/miscUtils';import{buildTxActionDirection,getStakingActionLabel}from'@onekeyhq/shared/src/utils/txActionUtils';import{addressIsEnsFormat}from'@onekeyhq/shared/src/utils/uriUtils';import{EServiceEndpointEnum}from'@onekeyhq/shared/types/endpoint';import{EOnChainHistoryTxType}from'@onekeyhq/shared/types/history';import{EDecodedTxActionType,EDecodedTxDirection}from'@onekeyhq/shared/types/tx';import{VaultContext}from\"./VaultContext\";if(platformEnv.isExtensionUi){debugger;throw new Error('engine/VaultBase is not allowed imported from ui');}export var VaultBaseChainOnly=function(_VaultContext){_inherits(VaultBaseChainOnly,_VaultContext);var _super=_createSuper(VaultBaseChainOnly);function VaultBaseChainOnly(){return _super.apply(this,arguments);}var _proto=VaultBaseChainOnly.prototype;_proto.getXpubFromAccount=function(){var _getXpubFromAccount=_asyncToGenerator(function*(networkAccount){return networkAccount.xpub;});function getXpubFromAccount(_x){return _getXpubFromAccount.apply(this,arguments);}return getXpubFromAccount;}();_proto.proxyJsonRPCCall=function(){var _proxyJsonRPCCall=_asyncToGenerator(function*(request){throw new NotImplemented();});function proxyJsonRPCCall(_x2){return _proxyJsonRPCCall.apply(this,arguments);}return proxyJsonRPCCall;}();_proto.addressFromBase=function(){var _addressFromBase=_asyncToGenerator(function*(account){throw new NotImplemented();});function addressFromBase(_x3){return _addressFromBase.apply(this,arguments);}return addressFromBase;}();_proto.addressToBase=function(){var _addressToBase=_asyncToGenerator(function*(address){throw new NotImplemented();});function addressToBase(_x4){return _addressToBase.apply(this,arguments);}return addressToBase;}();_proto.baseValidatePrivateKey=function(){var _baseValidatePrivateKey=_asyncToGenerator(function*(privateKey){if(!this.coreApi){throw new Error('coreApi not defined in Vault');}try{var networkInfo=yield this.getCoreApiNetworkInfo();var result=yield this.coreApi.getAddressFromPrivate({networkInfo,privateKeyRaw:privateKey});if(result.publicKey){return{isValid:true};}}catch(error){}return{isValid:false};});function baseValidatePrivateKey(_x5){return _baseValidatePrivateKey.apply(this,arguments);}return baseValidatePrivateKey;}();_proto.baseValidateGeneralInput=function(){var _baseValidateGeneralInput=_asyncToGenerator(function*(params){var input=decodeSensitiveText({encodedText:params.input});var{validateAddress,validateXprvt,validateXpub,validatePrivateKey}=params;var result={isValid:false};var isValid=false;var addressResult;var xpubResult;var xprvtResult;var privateKeyResult;if(validateAddress&&!isValid){try{addressResult=yield this.validateAddress(input);result.addressResult=addressResult;isValid=isValid||addressResult?.isValid;}catch(error){}}if(validateXpub&&!isValid){try{xpubResult=yield this.validateXpub(input);result.xpubResult=xpubResult;isValid=isValid||xpubResult?.isValid;}catch(error){}}if(validateXprvt&&!isValid){try{xprvtResult=yield this.validateXprvt(input);result.xprvtResult=xprvtResult;isValid=isValid||xprvtResult?.isValid;}catch(error){}}if(validatePrivateKey&&!isValid){try{privateKeyResult=yield this.validatePrivateKey(input);result.privateKeyResult=privateKeyResult;isValid=isValid||privateKeyResult?.isValid;}catch(error){}}result.isValid=Boolean(isValid);return{result,inputDecoded:input};});function baseValidateGeneralInput(_x6){return _baseValidateGeneralInput.apply(this,arguments);}return baseValidateGeneralInput;}();_proto.baseGetPrivateKeyFromImported=function(){var _baseGetPrivateKeyFromImported=_asyncToGenerator(function*(params){var input=decodeSensitiveText({encodedText:params.input});var privateKey=hexUtils.stripHexPrefix(input);privateKey=encodeSensitiveText({text:privateKey});return{privateKey};});function baseGetPrivateKeyFromImported(_x7){return _baseGetPrivateKeyFromImported.apply(this,arguments);}return baseGetPrivateKeyFromImported;}();_proto.validateAmountInputShown=function(){var _validateAmountInputShown=_asyncToGenerator(function*({toAddress}){return Promise.resolve({isValid:true});});function validateAmountInputShown(_x8){return _validateAmountInputShown.apply(this,arguments);}return validateAmountInputShown;}();_proto.checkIsDomainName=function(){var _checkIsDomainName=_asyncToGenerator(function*({name}){return addressIsEnsFormat(name);});function checkIsDomainName(_x9){return _checkIsDomainName.apply(this,arguments);}return checkIsDomainName;}();_proto.resolveDomainName=function(){var _resolveDomainName=_asyncToGenerator(function*({name}){return null;});function resolveDomainName(_x10){return _resolveDomainName.apply(this,arguments);}return resolveDomainName;}();_proto.getCustomRpcEndpointStatus=function(){var _getCustomRpcEndpointStatus=_asyncToGenerator(function*(params){throw new NotImplemented();});function getCustomRpcEndpointStatus(_x11){return _getCustomRpcEndpointStatus.apply(this,arguments);}return getCustomRpcEndpointStatus;}();_proto.checkFeeSupportInfo=function(){var _checkFeeSupportInfo=_asyncToGenerator(function*(params){throw new NotImplemented();});function checkFeeSupportInfo(_x12){return _checkFeeSupportInfo.apply(this,arguments);}return checkFeeSupportInfo;}();_proto.fetchTokenDetails=function(){var _fetchTokenDetails=_asyncToGenerator(function*(params){var isCustomNetwork=yield this.backgroundApi.serviceNetwork.isCustomNetwork({networkId:this.networkId});if(isCustomNetwork){return this.fetchTokenDetailsByRpc(params);}return this.fetchTokenDetailsByApi(params);});function fetchTokenDetails(_x13){return _fetchTokenDetails.apply(this,arguments);}return fetchTokenDetails;}();_proto.fetchTokenDetailsByApi=function(){var _fetchTokenDetailsByApi=_asyncToGenerator(function*(params){var _params$signal;var client=yield this.backgroundApi.serviceToken.getClient(EServiceEndpointEnum.Wallet);var resp=yield client.post('/wallet/v1/account/token/search',_omit(params,['walletId','accountId','signal']),{headers:yield this.backgroundApi.serviceAccountProfile._getWalletTypeHeader({accountId:params.accountId,walletId:params.walletId}),signal:(_params$signal=params.signal)!=null?_params$signal:undefined});return resp;});function fetchTokenDetailsByApi(_x14){return _fetchTokenDetailsByApi.apply(this,arguments);}return fetchTokenDetailsByApi;}();_proto.fetchTokenDetailsByRpc=function(){var _fetchTokenDetailsByRpc=_asyncToGenerator(function*(params){throw new NotImplemented();});function fetchTokenDetailsByRpc(_x15){return _fetchTokenDetailsByRpc.apply(this,arguments);}return fetchTokenDetailsByRpc;}();return _createClass(VaultBaseChainOnly);}(VaultContext);export var VaultBase=function(_VaultBaseChainOnly){_inherits(VaultBase,_VaultBaseChainOnly);var _super2=_createSuper(VaultBase);function VaultBase(...args){var _this;_this=_super2.call(this,...args);_this.uuid=generateUUID();_this.mutexBuildOnChainHistoryTxGetDBAccount=new Semaphore(1);return _this;}var _proto2=VaultBase.prototype;_proto2.init=function(){var _init=_asyncToGenerator(function*(config){yield this.initKeyring(config);});function init(_x16){return _init.apply(this,arguments);}return init;}();_proto2.initKeyring=function(){var _initKeyring=_asyncToGenerator(function*(config){if(!this.options.isChainOnly){this.keyring=yield config.keyringCreator(this);}});function initKeyring(_x17){return _initKeyring.apply(this,arguments);}return initKeyring;}();_proto2.broadcastTransaction=function(){var _broadcastTransaction=_asyncToGenerator(function*(params){var{signedTx}=params;var txid=yield this.backgroundApi.serviceSend.broadcastTransaction(params);return _objectSpread(_objectSpread({},signedTx),{},{txid,encodedTx:signedTx.encodedTx});});function broadcastTransaction(_x18){return _broadcastTransaction.apply(this,arguments);}return broadcastTransaction;}();_proto2.broadcastTransactionFromCustomRpc=function(){var _broadcastTransactionFromCustomRpc=_asyncToGenerator(function*(params){throw new NotImplemented();});function broadcastTransactionFromCustomRpc(_x19){return _broadcastTransactionFromCustomRpc.apply(this,arguments);}return broadcastTransactionFromCustomRpc;}();_proto2.validateSendAmount=function(){var _validateSendAmount=_asyncToGenerator(function*(params){return Promise.resolve(true);});function validateSendAmount(_x20){return _validateSendAmount.apply(this,arguments);}return validateSendAmount;}();_proto2.buildOnChainHistoryTxExtraInfo=function(){var _buildOnChainHistoryTxExtraInfo=_asyncToGenerator(function*({onChainHistoryTx}){return null;});function buildOnChainHistoryTxExtraInfo(_x21){return _buildOnChainHistoryTxExtraInfo.apply(this,arguments);}return buildOnChainHistoryTxExtraInfo;}();_proto2.precheckUnsignedTx=function(){var _precheckUnsignedTx=_asyncToGenerator(function*(params){return Promise.resolve(true);});function precheckUnsignedTx(_x22){return _precheckUnsignedTx.apply(this,arguments);}return precheckUnsignedTx;}();_proto2.buildEstimateFeeParams=function(){var _buildEstimateFeeParams=_asyncToGenerator(function*({encodedTx}){return Promise.resolve({encodedTx});});function buildEstimateFeeParams(_x23){return _buildEstimateFeeParams.apply(this,arguments);}return buildEstimateFeeParams;}();_proto2.buildParseTransactionParams=function(){var _buildParseTransactionParams=_asyncToGenerator(function*({encodedTx}){return Promise.resolve({encodedTx});});function buildParseTransactionParams(_x24){return _buildParseTransactionParams.apply(this,arguments);}return buildParseTransactionParams;}();_proto2.buildFetchHistoryListParams=function(){var _buildFetchHistoryListParams=_asyncToGenerator(function*(params){return Promise.resolve({});});function buildFetchHistoryListParams(_x25){return _buildFetchHistoryListParams.apply(this,arguments);}return buildFetchHistoryListParams;}();_proto2.buildHistoryTx=function(){var _buildHistoryTx=_asyncToGenerator(function*(params){var{historyTxToMerge,decodedTx,signedTx,isSigner,isLocalCreated,dbAccount}=params;var accountAddress=params.accountAddress||'';var xpub=params.xpub;var txid=signedTx?.txid||decodedTx?.txid||'';if(!txid){throw new Error('buildHistoryTx txid not found');}var{accountId,networkId}=decodedTx;try{var[a,x]=yield Promise.all([this.backgroundApi.serviceAccount.getAccountAddressForApi({dbAccount,accountId,networkId}),this.backgroundApi.serviceAccount.getAccountXpub({dbAccount,accountId,networkId})]);accountAddress=a;xpub=x;}catch(e){}decodedTx.txid=txid||decodedTx.txid;decodedTx.owner=accountAddress;decodedTx.xpub=xpub;if(isSigner){decodedTx.signer=accountAddress;}var historyId=accountUtils.buildLocalHistoryId({networkId,txid,accountAddress,xpub});var historyTx=_objectSpread(_objectSpread({id:historyId,isLocalCreated:Boolean(isLocalCreated)},historyTxToMerge),{},{decodedTx});return Promise.resolve(historyTx);});function buildHistoryTx(_x26){return _buildHistoryTx.apply(this,arguments);}return buildHistoryTx;}();_proto2.fixOnChainHistoryAccountData=function fixOnChainHistoryAccountData(params){var{accountId:originAccountId,networkId:originNetworkId,accountAddress:originAccountAddress,xpub:originXpub,onChainHistoryTx,allNetworkHistoryExtraItems}=params;var accountId=originAccountId;var networkId=originNetworkId;var accountAddress=originAccountAddress;var xpub=originXpub;if(originNetworkId===getNetworkIdsMap().onekeyall){var allNetworkAccount=allNetworkHistoryExtraItems?.find(function(i){var[_,txXpub]=onChainHistoryTx.key.split('_');if(!_isNil(i.accountXpub)){return i.networkId===onChainHistoryTx.networkId&&i.accountXpub===txXpub;}return i.networkId===onChainHistoryTx.networkId;});if(allNetworkAccount){accountId=allNetworkAccount.accountId;networkId=allNetworkAccount.networkId;accountAddress=allNetworkAccount.accountAddress;xpub=allNetworkAccount.accountXpub;}}return{accountId,networkId,accountAddress,xpub};};_proto2.buildOnChainHistoryTx=function(){var _buildOnChainHistoryTx=_asyncToGenerator(function*(params){var _this2=this;var{onChainHistoryTx,tokens,nfts,allNetworkHistoryExtraItems,dbAccountCache}=params;var{accountId,networkId,accountAddress,xpub}=this.fixOnChainHistoryAccountData({accountId:params.accountId,networkId:params.networkId,accountAddress:params.accountAddress,xpub:params.xpub,onChainHistoryTx,allNetworkHistoryExtraItems});if(params.accountId!==accountId){}var key=`${accountId}`;var dbAccount;if(dbAccountCache){yield this.mutexBuildOnChainHistoryTxGetDBAccount.runExclusive(_asyncToGenerator(function*(){dbAccount=dbAccountCache?.[key];if(!dbAccount){dbAccount=yield _this2.backgroundApi.serviceAccount.getDBAccountSafe({accountId});if(dbAccount){dbAccountCache[key]=dbAccount;}}}));}var vaultSettings=yield this.backgroundApi.serviceNetwork.getVaultSettings({networkId});try{var action=yield this.buildHistoryTxAction({tx:onChainHistoryTx,tokens,nfts});var decodedTx={txid:onChainHistoryTx.tx,owner:accountAddress,signer:onChainHistoryTx.from,to:onChainHistoryTx.to,nonce:onChainHistoryTx.nonce,actions:[action],status:getOnChainHistoryTxStatus(onChainHistoryTx.status),networkId,accountId,xpub,totalFeeInNative:onChainHistoryTx.gasFee,totalFeeFiatValue:onChainHistoryTx.gasFeeFiatValue,nativeAmount:vaultSettings.isUtxo?onChainHistoryTx.value:undefined,extraInfo:yield this.buildOnChainHistoryTxExtraInfo({onChainHistoryTx}),payload:{type:onChainHistoryTx.type,value:onChainHistoryTx.value,label:onChainHistoryTx.label}};decodedTx.updatedAt=new Date(onChainHistoryTx.timestamp*1000).getTime();decodedTx.createdAt=decodedTx.updatedAt;decodedTx.isFinal=true;return yield this.buildHistoryTx({dbAccount,decodedTx,accountAddress,xpub});}catch(e){return null;}});function buildOnChainHistoryTx(_x27){return _buildOnChainHistoryTx.apply(this,arguments);}return buildOnChainHistoryTx;}();_proto2.buildHistoryTxAction=function(){var _buildHistoryTxAction=_asyncToGenerator(function*({tx,tokens,nfts}){if(tx.type===EOnChainHistoryTxType.Approve&&tx.tokenApprove){return this.buildHistoryTxApproveAction({tx,tokens,nfts,tokenApprove:tx.tokenApprove});}if(_isEmpty(tx.sends)&&_isEmpty(tx.receives)){if(tx.type)return this.buildHistoryTxFunctionCallAction({tx});return this.buildHistoryTxUnknownAction({tx});}return this.buildHistoryTransferAction({tx,tokens,nfts});});function buildHistoryTxAction(_x28){return _buildHistoryTxAction.apply(this,arguments);}return buildHistoryTxAction;}();_proto2.buildHistoryTxFunctionCallAction=function(){var _buildHistoryTxFunctionCallAction=_asyncToGenerator(function*({tx}){var network=yield this.getNetwork();return{type:EDecodedTxActionType.FUNCTION_CALL,functionCall:{from:tx.from,to:tx.to,functionName:tx.label,functionHash:tx.functionCode,args:tx.params}};});function buildHistoryTxFunctionCallAction(_x29){return _buildHistoryTxFunctionCallAction.apply(this,arguments);}return buildHistoryTxFunctionCallAction;}();_proto2.buildHistoryTxUnknownAction=function(){var _buildHistoryTxUnknownAction=_asyncToGenerator(function*({tx}){var network=yield this.getNetwork();return{type:EDecodedTxActionType.UNKNOWN,unknownAction:{from:tx.from,to:tx.to,label:tx.label}};});function buildHistoryTxUnknownAction(_x30){return _buildHistoryTxUnknownAction.apply(this,arguments);}return buildHistoryTxUnknownAction;}();_proto2.buildHistoryTransferAction=function(){var _buildHistoryTransferAction=_asyncToGenerator(function*({tx,tokens,nfts}){var _this3=this;return{type:EDecodedTxActionType.ASSET_TRANSFER,assetTransfer:{from:tx.from,to:tx.to,label:tx.label,sends:tx.sends.map(function(send){return _this3.buildHistoryTransfer({transfer:send,tokens,nfts});}),receives:tx.receives.map(function(receive){return _this3.buildHistoryTransfer({transfer:receive,tokens,nfts});})}};});function buildHistoryTransferAction(_x31){return _buildHistoryTransferAction.apply(this,arguments);}return buildHistoryTransferAction;}();_proto2.buildHistoryTransfer=function buildHistoryTransfer({transfer,tokens,nfts}){var{icon,symbol,name,isNFT,isNative,price}=getOnChainHistoryTxAssetInfo({key:transfer.key,tokenAddress:transfer.token,tokens,nfts});return{from:transfer.from,to:transfer.to,tokenIdOnNetwork:transfer.token,amount:transfer.amount,label:transfer.label,isOwn:transfer.isOwn,icon,name,symbol,isNFT,isNative,price};};_proto2.buildHistoryTxApproveAction=function buildHistoryTxApproveAction({tx,tokens,nfts,tokenApprove}){var{icon,symbol,name,decimals}=getOnChainHistoryTxAssetInfo({key:tokenApprove.key,tokenAddress:tokenApprove.token,tokens,nfts});return{type:EDecodedTxActionType.TOKEN_APPROVE,tokenApprove:{from:tx.from,to:tx.to,spender:tokenApprove.spender,icon,name,symbol,decimals,label:tx.label,tokenIdOnNetwork:tokenApprove.token,amount:new BigNumber(tokenApprove.amount).shiftedBy(-decimals).toFixed(),isInfiniteAmount:tokenApprove.isInfiniteAmount}};};_proto2.buildTxTransferAssetAction=function(){var _buildTxTransferAssetAction=_asyncToGenerator(function*(params){var{from,to,transfers,data,application,isInternalSwap,isInternalStaking,internalStakingLabel,swapReceivedAddress,swapReceivedNetworkId}=params;var[accountAddress,network]=yield Promise.all([this.getAccountAddress(),this.getNetwork()]);var sendNativeTokenAmountBN=new BigNumber(0);var assetTransfer={from,to,sends:[],receives:[],application,isInternalSwap,isInternalStaking,internalStakingLabel,swapReceivedAddress,swapReceivedNetworkId};transfers.forEach(function(transfer){if(buildTxActionDirection({from:transfer.from,to:transfer.to,accountAddress})===EDecodedTxDirection.OUT){assetTransfer.sends.push(transfer);if(transfer.isNative){sendNativeTokenAmountBN=sendNativeTokenAmountBN.plus(new BigNumber(transfer.amount));}}else{assetTransfer.receives.push(transfer);}});assetTransfer.nativeAmount=sendNativeTokenAmountBN.toFixed();assetTransfer.nativeAmountValue=chainValueUtils.convertAmountToChainValue({value:sendNativeTokenAmountBN,network});return{type:EDecodedTxActionType.ASSET_TRANSFER,data,assetTransfer};});function buildTxTransferAssetAction(_x32){return _buildTxTransferAssetAction.apply(this,arguments);}return buildTxTransferAssetAction;}();_proto2.buildInternalSwapAction=function(){var _buildInternalSwapAction=_asyncToGenerator(function*(params){var _swapSendToken$logoUR,_swapSendToken$name,_swapReceiveToken$log,_swapReceiveToken$nam,_providerInfo$provide;var{swapData,swapInfo,swapToAddress}=params;var swapSendToken=swapInfo.sender.token;var swapReceiveToken=swapInfo.receiver.token;var providerInfo=swapInfo.swapBuildResData.result.info;var otherFeeInfos=swapInfo.swapBuildResData.result.fee?.otherFeeInfos;var otherFeeInfoTransfers=[];var transfers=[{from:swapInfo.accountAddress,to:'',tokenIdOnNetwork:swapSendToken.contractAddress,icon:(_swapSendToken$logoUR=swapSendToken.logoURI)!=null?_swapSendToken$logoUR:'',name:(_swapSendToken$name=swapSendToken.name)!=null?_swapSendToken$name:'',symbol:swapSendToken.symbol,amount:swapInfo.sender.amount,isNFT:false,isNative:swapSendToken.isNative,networkId:swapInfo.sender.accountInfo.networkId},{from:'',to:swapInfo.receivingAddress,tokenIdOnNetwork:swapReceiveToken.contractAddress,icon:(_swapReceiveToken$log=swapReceiveToken.logoURI)!=null?_swapReceiveToken$log:'',name:(_swapReceiveToken$nam=swapReceiveToken.name)!=null?_swapReceiveToken$nam:'',symbol:swapReceiveToken.symbol,amount:swapInfo.receiver.amount,isNFT:false,isNative:swapReceiveToken.isNative,networkId:swapInfo.receiver.accountInfo.networkId}];if(otherFeeInfos){otherFeeInfos.forEach(function(feeInfo){if(feeInfo.token.contractAddress===transfers[0].tokenIdOnNetwork){transfers[0].amount=new BigNumber(transfers[0].amount).plus(feeInfo.amount).toFixed();}else{var _feeInfo$token$logoUR,_feeInfo$token$name;otherFeeInfoTransfers.push({from:swapInfo.accountAddress,to:'',tokenIdOnNetwork:feeInfo.token.contractAddress,icon:(_feeInfo$token$logoUR=feeInfo.token.logoURI)!=null?_feeInfo$token$logoUR:'',name:(_feeInfo$token$name=feeInfo.token.name)!=null?_feeInfo$token$name:'',symbol:feeInfo.token.symbol,amount:feeInfo.amount,isNFT:false,isNative:feeInfo.token.isNative,networkId:swapInfo.sender.accountInfo.networkId});}});}transfers=[...otherFeeInfoTransfers,...transfers];var action=yield this.buildTxTransferAssetAction({from:swapInfo.accountAddress,to:swapToAddress!=null?swapToAddress:'',data:swapData,application:{name:providerInfo.providerName,icon:(_providerInfo$provide=providerInfo.providerLogo)!=null?_providerInfo$provide:''},isInternalSwap:true,swapReceivedAddress:swapInfo.receivingAddress,swapReceivedNetworkId:swapInfo.receiver.token.networkId,transfers});return action;});function buildInternalSwapAction(_x33){return _buildInternalSwapAction.apply(this,arguments);}return buildInternalSwapAction;}();_proto2.buildInternalStakingAction=function(){var _buildInternalStakingAction=_asyncToGenerator(function*(params){var _send$token$logoURI,_send$token$name,_receive$token$logoUR,_receive$token$name;var{stakingInfo,stakingData,accountAddress,stakingToAddress}=params;var{protocol,protocolLogoURI,send,receive}=stakingInfo;var transfers=[send&&{from:accountAddress,to:'',tokenIdOnNetwork:send.token.address,icon:(_send$token$logoURI=send.token.logoURI)!=null?_send$token$logoURI:'',name:(_send$token$name=send.token.name)!=null?_send$token$name:'',symbol:send.token.symbol,amount:send.amount,isNFT:false,isNative:send.token.isNative},receive&&{from:'',to:accountAddress,tokenIdOnNetwork:receive.token.address,icon:(_receive$token$logoUR=receive.token.logoURI)!=null?_receive$token$logoUR:'',name:(_receive$token$name=receive.token.name)!=null?_receive$token$name:'',symbol:receive.token.symbol,amount:receive.amount,isNFT:false,isNative:receive.token.isNative}].filter(Boolean);var action=yield this.buildTxTransferAssetAction({from:accountAddress,to:stakingToAddress!=null?stakingToAddress:'',data:stakingData,application:{name:protocol,icon:protocolLogoURI!=null?protocolLogoURI:''},isInternalStaking:true,internalStakingLabel:getStakingActionLabel({stakingInfo}),transfers});return action;});function buildInternalStakingAction(_x34){return _buildInternalStakingAction.apply(this,arguments);}return buildInternalStakingAction;}();_proto2.signTransaction=function(){var _signTransaction=_asyncToGenerator(function*(params){var _params$signOnly,_signedTx$encodedTx;var{unsignedTx}=params;params.signOnly=(_params$signOnly=params.signOnly)!=null?_params$signOnly:true;var signedTx=yield this.keyring.signTransaction(params);return _objectSpread(_objectSpread({},signedTx),{},{encodedTx:(_signedTx$encodedTx=signedTx.encodedTx)!=null?_signedTx$encodedTx:unsignedTx.encodedTx});});function signTransaction(_x35){return _signTransaction.apply(this,arguments);}return signTransaction;}();_proto2.getAccount=function(){var _getAccount=_asyncToGenerator(function*({dbAccount}={}){var account=dbAccount;if(!account||account?.id!==this.accountId){account=yield this.backgroundApi.serviceAccount.getDBAccount({accountId:this.accountId});}if(!accountUtils.isAccountCompatibleWithNetwork({account,networkId:this.networkId})){throw new Error(`account impl not matched to network: ${this.networkId} ${account.id?.slice(0,30)}`);}var networkInfo=yield this.getNetworkInfo();var externalAccount=account;var externalAccountAddress='';if(externalAccount.connectedAddresses){var buildExternalAccountAddress=function({key,fallbackIndex}){var _externalAccount$sele;if(!key){return'';}var index=(_externalAccount$sele=externalAccount.selectedAddress?.[key])!=null?_externalAccount$sele:fallbackIndex;var addresses=externalAccount.connectedAddresses?.[key]?.split(',').filter(Boolean)||[];return addresses?.[index]||addresses?.[fallbackIndex]||'';};externalAccountAddress=buildExternalAccountAddress({key:this.networkId,fallbackIndex:-1});if(!externalAccountAddress){var impl=yield this.getNetworkImpl();externalAccountAddress=buildExternalAccountAddress({key:impl,fallbackIndex:0});}if(!externalAccountAddress){externalAccountAddress=buildExternalAccountAddress({key:this.networkId,fallbackIndex:0});}}var addressDetail=yield this.buildAccountAddressDetail({networkInfo,account,networkId:this.networkId,externalAccountAddress});var address=addressDetail?.address||'';if(!address&&!addressDetail.allowEmptyAddress||!addressDetail.isValid){throw new Error('VaultBase.getAccount ERROR: address is invalid');}return _objectSpread(_objectSpread({},account),{},{addressDetail,address});});function getAccount(){return _getAccount.apply(this,arguments);}return getAccount;}();_proto2.getAccountAddress=function(){var _getAccountAddress=_asyncToGenerator(function*(){return(yield this.getAccount()).address;});function getAccountAddress(){return _getAccountAddress.apply(this,arguments);}return getAccountAddress;}();_proto2.getAccountPath=function(){var _getAccountPath=_asyncToGenerator(function*(){return(yield this.getAccount()).path;});function getAccountPath(){return _getAccountPath.apply(this,arguments);}return getAccountPath;}();_proto2.getAccountXpub=function(){var _getAccountXpub=_asyncToGenerator(function*({dbAccount}={}){var networkAccount=yield this.getAccount({dbAccount});return this.getXpubFromAccount(networkAccount);});function getAccountXpub(){return _getAccountXpub.apply(this,arguments);}return getAccountXpub;}();_proto2.fillTokensDetails=function(){var _fillTokensDetails=_asyncToGenerator(function*({tokensDetails}){return Promise.resolve(tokensDetails);});function fillTokensDetails(_x36){return _fillTokensDetails.apply(this,arguments);}return fillTokensDetails;}();_proto2.fillAccountDetails=function(){var _fillAccountDetails=_asyncToGenerator(function*({accountDetails}){return Promise.resolve(accountDetails);});function fillAccountDetails(_x37){return _fillAccountDetails.apply(this,arguments);}return fillAccountDetails;}();_proto2.isEarliestLocalPendingTx=function(){var _isEarliestLocalPendingTx=_asyncToGenerator(function*({encodedTx}){return true;});function isEarliestLocalPendingTx(_x38){return _isEarliestLocalPendingTx.apply(this,arguments);}return isEarliestLocalPendingTx;}();_proto2.buildReplaceEncodedTx=function(){var _buildReplaceEncodedTx=_asyncToGenerator(function*({decodedTx,replaceType}){return Promise.resolve(decodedTx.encodedTx);});function buildReplaceEncodedTx(_x39){return _buildReplaceEncodedTx.apply(this,arguments);}return buildReplaceEncodedTx;}();_proto2.attachFeeInfoToDAppEncodedTx=function(){var _attachFeeInfoToDAppEncodedTx=_asyncToGenerator(function*(params){return Promise.resolve(params.encodedTx);});function attachFeeInfoToDAppEncodedTx(_x40){return _attachFeeInfoToDAppEncodedTx.apply(this,arguments);}return attachFeeInfoToDAppEncodedTx;}();_proto2.activateToken=function(){var _activateToken=_asyncToGenerator(function*(params){throw new NotImplemented();});function activateToken(_x41){return _activateToken.apply(this,arguments);}return activateToken;}();_proto2.getAddressType=function(){var _getAddressType=_asyncToGenerator(function*({address}){return Promise.resolve({});});function getAddressType(_x42){return _getAddressType.apply(this,arguments);}return getAddressType;}();_proto2.buildStakeEncodedTx=function buildStakeEncodedTx(params){return Promise.resolve(params);};_proto2.fetchAccountDetails=function(){var _fetchAccountDetails=_asyncToGenerator(function*(params){var isCustomNetwork=yield this.backgroundApi.serviceNetwork.isCustomNetwork({networkId:this.networkId});if(isCustomNetwork){return this.fetchAccountDetailsByRpc(params);}return this.fetchAccountDetailsByApi(params);});function fetchAccountDetails(_x43){return _fetchAccountDetails.apply(this,arguments);}return fetchAccountDetails;}();_proto2.fetchAccountDetailsByApi=function(){var _fetchAccountDetailsByApi=_asyncToGenerator(function*(params){var queryParams=_objectSpread({},_omit(params,['accountId','signal']));var client=yield this.backgroundApi.serviceAccountProfile.getClient(EServiceEndpointEnum.Wallet);var resp=yield client.get(`/wallet/v1/account/get-account?${qs.stringify(_omitBy(queryParams,_isNil))}`,{headers:yield this.backgroundApi.serviceAccountProfile._getWalletTypeHeader({accountId:params.accountId}),signal:params.signal});return resp;});function fetchAccountDetailsByApi(_x44){return _fetchAccountDetailsByApi.apply(this,arguments);}return fetchAccountDetailsByApi;}();_proto2.fetchAccountDetailsByRpc=function(){var _fetchAccountDetailsByRpc=_asyncToGenerator(function*(params){throw new NotImplemented();});function fetchAccountDetailsByRpc(_x45){return _fetchAccountDetailsByRpc.apply(this,arguments);}return fetchAccountDetailsByRpc;}();_proto2.fetchTokenList=function(){var _fetchTokenList=_asyncToGenerator(function*(params){var isCustomNetwork=yield this.backgroundApi.serviceNetwork.isCustomNetwork({networkId:this.networkId});if(isCustomNetwork){return this.fetchTokenListByRpc(params);}return this.fetchTokenListByApi(params);});function fetchTokenList(_x46){return _fetchTokenList.apply(this,arguments);}return fetchTokenList;}();_proto2.fetchTokenListByApi=function(){var _fetchTokenListByApi=_asyncToGenerator(function*(params){var{serviceToken,serviceAccountProfile}=this.backgroundApi;var{requestApiParams,flag,signal,accountId}=params;if(requestApiParams.contractList){requestApiParams.contractList=requestApiParams.contractList.filter(function(contract){return contract!==null&&typeof contract==='string';});}var client=yield serviceToken.getClient(EServiceEndpointEnum.Wallet);var resp=yield client.post(`/wallet/v1/account/token/list?flag=${flag||''}`,requestApiParams,{signal,headers:yield serviceAccountProfile._getWalletTypeHeader({accountId})});return resp;});function fetchTokenListByApi(_x47){return _fetchTokenListByApi.apply(this,arguments);}return fetchTokenListByApi;}();_proto2.fetchTokenListByRpc=function(){var _fetchTokenListByRpc=_asyncToGenerator(function*(params){throw new NotImplemented();});function fetchTokenListByRpc(_x48){return _fetchTokenListByRpc.apply(this,arguments);}return fetchTokenListByRpc;}();_proto2.estimateFee=function(){var _estimateFee=_asyncToGenerator(function*(params){var isCustomNetwork=yield this.backgroundApi.serviceNetwork.isCustomNetwork({networkId:this.networkId});if(isCustomNetwork){return this.estimateFeeByRpc(params);}return this.estimateFeeByApi(params);});function estimateFee(_x49){return _estimateFee.apply(this,arguments);}return estimateFee;}();_proto2.estimateFeeByApi=function(){var _estimateFeeByApi=_asyncToGenerator(function*(params){var{accountId}=params,rest=_objectWithoutProperties(params,_excluded);var client=yield this.backgroundApi.serviceGas.getClient(EServiceEndpointEnum.Wallet);var resp=yield client.post('/wallet/v1/account/estimate-fee',rest,{headers:yield this.backgroundApi.serviceAccountProfile._getWalletTypeHeader({accountId})});return resp;});function estimateFeeByApi(_x50){return _estimateFeeByApi.apply(this,arguments);}return estimateFeeByApi;}();_proto2.estimateFeeByRpc=function(){var _estimateFeeByRpc=_asyncToGenerator(function*(params){throw new NotImplemented();});function estimateFeeByRpc(_x51){return _estimateFeeByRpc.apply(this,arguments);}return estimateFeeByRpc;}();_proto2.fetchAccountHistoryDetail=function(){var _fetchAccountHistoryDetail=_asyncToGenerator(function*(params){var isCustomNetwork=yield this.backgroundApi.serviceNetwork.isCustomNetwork({networkId:this.networkId});if(isCustomNetwork){return this.fetchAccountHistoryDetailByRpc(params);}return this.fetchAccountHistoryDetailByApi(params);});function fetchAccountHistoryDetail(_x52){return _fetchAccountHistoryDetail.apply(this,arguments);}return fetchAccountHistoryDetail;}();_proto2.fetchAccountHistoryDetailByApi=function(){var _fetchAccountHistoryDetailByApi=_asyncToGenerator(function*(params){var{accountId}=params,rest=_objectWithoutProperties(params,_excluded2);var client=yield this.backgroundApi.serviceGas.getClient(EServiceEndpointEnum.Wallet);var resp=yield client.get('/wallet/v1/account/history/detail',{params:rest,headers:yield this.backgroundApi.serviceAccountProfile._getWalletTypeHeader({accountId})});return resp;});function fetchAccountHistoryDetailByApi(_x53){return _fetchAccountHistoryDetailByApi.apply(this,arguments);}return fetchAccountHistoryDetailByApi;}();_proto2.fetchAccountHistoryDetailByRpc=function(){var _fetchAccountHistoryDetailByRpc=_asyncToGenerator(function*(params){throw new NotImplemented();});function fetchAccountHistoryDetailByRpc(_x54){return _fetchAccountHistoryDetailByRpc.apply(this,arguments);}return fetchAccountHistoryDetailByRpc;}();_proto2.buildOkxSwapEncodedTx=function(){var _buildOkxSwapEncodedTx=_asyncToGenerator(function*(params){throw new NotImplemented();});function buildOkxSwapEncodedTx(_x55){return _buildOkxSwapEncodedTx.apply(this,arguments);}return buildOkxSwapEncodedTx;}();return _createClass(VaultBase);}(VaultBaseChainOnly);","import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import accountUtils from'@onekeyhq/shared/src/utils/accountUtils';import networkUtils from'@onekeyhq/shared/src/utils/networkUtils';import{getVaultSettings as _getVaultSettings,getVaultSettingsNetworkInfo}from\"../settings\";export var VaultContext=function(){function VaultContext(options){this.options=options;this.networkId=options.networkId||'';this.accountId=options.accountId||'';this.backgroundApi=options.backgroundApi;this.walletId=options.walletId||(this.accountId?accountUtils.getWalletIdFromAccountId({accountId:this.accountId}):'');if(!this.walletId&&!this.options.isChainOnly){throw new Error('can not get correct walletId');}}var _proto=VaultContext.prototype;_proto.getNetworkId=function(){var _getNetworkId=_asyncToGenerator(function*(){return this.networkId;});function getNetworkId(){return _getNetworkId.apply(this,arguments);}return getNetworkId;}();_proto.getNetwork=function(){var _getNetwork=_asyncToGenerator(function*({cached}={}){if(!cached||!this._network||this._network.id!==this.networkId){var network=yield this.backgroundApi.serviceNetwork.getNetwork({networkId:this.networkId});this._network=network;}return this._network;});function getNetwork(){return _getNetwork.apply(this,arguments);}return getNetwork;}();_proto.getNetworkChainId=function(){var _getNetworkChainId=_asyncToGenerator(function*({hex=false}={}){return networkUtils.getNetworkChainId({networkId:this.networkId,hex});});function getNetworkChainId(){return _getNetworkChainId.apply(this,arguments);}return getNetworkChainId;}();_proto.getNetworkImpl=function(){var _getNetworkImpl=_asyncToGenerator(function*(){return networkUtils.getNetworkImpl({networkId:this.networkId});});function getNetworkImpl(){return _getNetworkImpl.apply(this,arguments);}return getNetworkImpl;}();_proto.getVaultSettings=function(){var _getVaultSettings2=_asyncToGenerator(function*(){return _getVaultSettings({networkId:this.networkId});});function getVaultSettings(){return _getVaultSettings2.apply(this,arguments);}return getVaultSettings;}();_proto.getNetworkInfo=function(){var _getNetworkInfo=_asyncToGenerator(function*(){return getVaultSettingsNetworkInfo({networkId:this.networkId});});function getNetworkInfo(){return _getNetworkInfo.apply(this,arguments);}return getNetworkInfo;}();_proto.getCoreApiNetworkInfo=function(){var _getCoreApiNetworkInfo=_asyncToGenerator(function*(){var network=yield this.getNetwork();var networkInfo=yield this.getNetworkInfo();var{addressPrefix,curve}=networkInfo;var networkImpl=yield this.getNetworkImpl();var chainId=yield this.getNetworkChainId({hex:false});var{isTestnet}=network;var{networkId}=this;return{isTestnet,networkChainCode:network.code,chainId,networkId,networkImpl,addressPrefix,curve};});function getCoreApiNetworkInfo(){return _getCoreApiNetworkInfo.apply(this,arguments);}return getCoreApiNetworkInfo;}();_proto.getRpcUrl=function(){var _getRpcUrl=_asyncToGenerator(function*(){return'';});function getRpcUrl(){return _getRpcUrl.apply(this,arguments);}return getRpcUrl;}();_proto.destroy=function(){var _destroy=_asyncToGenerator(function*(){});function destroy(){return _destroy.apply(this,arguments);}return destroy;}();return _createClass(VaultContext);}();","import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import{NotImplemented}from'@onekeyhq/shared/src/errors';import{KeyringExternalBase}from\"../../base/KeyringExternalBase\";export var KeyringExternal=function(_KeyringExternalBase){_inherits(KeyringExternal,_KeyringExternalBase);var _super=_createSuper(KeyringExternal);function KeyringExternal(){return _super.apply(this,arguments);}var _proto=KeyringExternal.prototype;_proto.signMessage=function signMessage(params){throw new NotImplemented();};_proto.signTransaction=function signTransaction(params){throw new NotImplemented();};return _createClass(KeyringExternal);}(KeyringExternalBase);","import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import{Transaction}from'@onekeyfe/kaspa-core-lib';import{EKaspaSignType,SignatureType,SigningMethodType,publicKeyFromX,toTransaction}from'@onekeyhq/core/src/chains/kaspa/sdkKaspa';import coreChainApi from'@onekeyhq/core/src/instance/coreChainApi';import{NotImplemented}from'@onekeyhq/shared/src/errors';import{convertDeviceError}from'@onekeyhq/shared/src/errors/utils/deviceErrorUtils';import accountUtils from'@onekeyhq/shared/src/utils/accountUtils';import{checkIsDefined}from'@onekeyhq/shared/src/utils/assertUtils';import bufferUtils from'@onekeyhq/shared/src/utils/bufferUtils';import{KeyringHardwareBase}from\"../../base/KeyringHardwareBase\";export var KeyringHardware=function(_KeyringHardwareBase){_inherits(KeyringHardware,_KeyringHardwareBase);var _super=_createSuper(KeyringHardware);function KeyringHardware(...args){var _this;_this=_super.call(this,...args);_this.coreApi=coreChainApi.kaspa.hd;_this.hwSdkNetwork='kaspa';return _this;}var _proto=KeyringHardware.prototype;_proto.buildHwAllNetworkPrepareAccountsParams=function(){var _buildHwAllNetworkPrepareAccountsParams=_asyncToGenerator(function*(params){var chainId=yield this.getNetworkChainId();return{network:this.hwSdkNetwork,path:params.path,showOnOneKey:false,prefix:chainId};});function buildHwAllNetworkPrepareAccountsParams(_x){return _buildHwAllNetworkPrepareAccountsParams.apply(this,arguments);}return buildHwAllNetworkPrepareAccountsParams;}();_proto.prepareAccounts=function prepareAccounts(params){var _this2=this;return this.basePrepareHdNormalAccounts(params,{buildAddressesInfo:function(){var _ref=_asyncToGenerator(function*({usedIndexes}){var addressesInfo=yield _this2.baseGetDeviceAccountAddresses({params,usedIndexes,sdkGetAddressFn:function(){var _ref2=_asyncToGenerator(function*({connectId,deviceId,pathPrefix,template,showOnOnekeyFn}){var buildFullPath=function(p){return accountUtils.buildPathFromTemplate({template,index:p.index});};var allNetworkAccounts=yield _this2.getAllNetworkPrepareAccounts({params,usedIndexes,buildPath:buildFullPath,buildResultAccount:function({account}){return{path:account.path,address:account.payload?.address||''};},hwSdkNetwork:_this2.hwSdkNetwork});if(allNetworkAccounts){return allNetworkAccounts;}throw new Error('use sdk allNetworkGetAddress instead');});return function sdkGetAddressFn(_x3){return _ref2.apply(this,arguments);};}()});var ret=[];for(var addressInfo of addressesInfo){var{address,path}=addressInfo;var item={address,path,publicKey:''};ret.push(item);}return ret;});return function buildAddressesInfo(_x2){return _ref.apply(this,arguments);};}()});};_proto.signTransaction=function(){var _signTransaction=_asyncToGenerator(function*(params){var sdk=yield this.getHardwareSDKInstance();var encodedTx=params.unsignedTx.encodedTx;var deviceParams=checkIsDefined(params.deviceParams);var{connectId,deviceId}=deviceParams.dbDevice;var dbAccount=yield this.vault.getAccount();var chainId=yield this.getNetworkChainId();var txn=toTransaction(encodedTx);var unSignTx={version:txn.version,inputs:txn.inputs.map(function(input){var _input$output$satoshi,_input$output$script$,_input$output$script$2;return{path:dbAccount.path,prevTxId:input.prevTxId.toString('hex'),outputIndex:input.outputIndex,sequenceNumber:input.sequenceNumber.toString(),output:{satoshis:(_input$output$satoshi=input?.output?.satoshis.toString())!=null?_input$output$satoshi:'',script:bufferUtils.bytesToHex((_input$output$script$=input?.output?.script?.toBuffer())!=null?_input$output$script$:Buffer.alloc(0))},sigOpCount:(_input$output$script$2=input?.output?.script?.getSignatureOperationsCount())!=null?_input$output$script$2:1};}),outputs:txn.outputs.map(function(output){return{satoshis:output.satoshis.toString(),script:bufferUtils.bytesToHex(output.script.toBuffer()),scriptVersion:0};}),lockTime:txn.nLockTime.toString(),sigHashType:SignatureType.SIGHASH_ALL,sigOpCount:1,scheme:EKaspaSignType.Schnorr,prefix:chainId};var response=yield sdk.kaspaSignTransaction(connectId,deviceId,_objectSpread(_objectSpread({},params.deviceParams?.deviceCommonParams),unSignTx));if(response.success){var signatures=response.payload;for(var signature of signatures){var input=txn.inputs[signature.index];var publicKeyBuf=input?.output?.script?.getPublicKey();var publicKey=publicKeyFromX(true,bufferUtils.bytesToHex(publicKeyBuf));txn.inputs[signature.index].addSignature(txn,new Transaction.Signature({publicKey,prevTxId:input.prevTxId,outputIndex:input.outputIndex,inputIndex:signature.index,signature:signature.signature,sigtype:SignatureType.SIGHASH_ALL}),SigningMethodType.Schnorr);}var rawTx=bufferUtils.bytesToHex(txn.toBuffer());return{txid:'',rawTx,encodedTx};}throw convertDeviceError(response.payload);});function signTransaction(_x4){return _signTransaction.apply(this,arguments);}return signTransaction;}();_proto.signMessage=function signMessage(params){throw new NotImplemented();};return _createClass(KeyringHardware);}(KeyringHardwareBase);","import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import coreChainApi from'@onekeyhq/core/src/instance/coreChainApi';import{KeyringHdBase}from\"../../base/KeyringHdBase\";export var KeyringHd=function(_KeyringHdBase){_inherits(KeyringHd,_KeyringHdBase);var _super=_createSuper(KeyringHd);function KeyringHd(...args){var _this;_this=_super.call(this,...args);_this.coreApi=coreChainApi.kaspa.hd;return _this;}var _proto=KeyringHd.prototype;_proto.getPrivateKeys=function(){var _getPrivateKeys=_asyncToGenerator(function*(params){return this.baseGetPrivateKeys(params);});function getPrivateKeys(_x){return _getPrivateKeys.apply(this,arguments);}return getPrivateKeys;}();_proto.exportAccountSecretKeys=function(){var _exportAccountSecretKeys=_asyncToGenerator(function*(params){return this.baseExportAccountSecretKeys(params);});function exportAccountSecretKeys(_x2){return _exportAccountSecretKeys.apply(this,arguments);}return exportAccountSecretKeys;}();_proto.prepareAccounts=function(){var _prepareAccounts=_asyncToGenerator(function*(params){return this.basePrepareAccountsHd(params);});function prepareAccounts(_x3){return _prepareAccounts.apply(this,arguments);}return prepareAccounts;}();_proto.signTransaction=function(){var _signTransaction=_asyncToGenerator(function*(params){return this.baseSignTransaction(params);});function signTransaction(_x4){return _signTransaction.apply(this,arguments);}return signTransaction;}();_proto.signMessage=function(){var _signMessage=_asyncToGenerator(function*(params){return this.baseSignMessage(params);});function signMessage(_x5){return _signMessage.apply(this,arguments);}return signMessage;}();return _createClass(KeyringHd);}(KeyringHdBase);","import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import coreChainApi from'@onekeyhq/core/src/instance/coreChainApi';import{KeyringImportedBase}from\"../../base/KeyringImportedBase\";export var KeyringImported=function(_KeyringImportedBase){_inherits(KeyringImported,_KeyringImportedBase);var _super=_createSuper(KeyringImported);function KeyringImported(...args){var _this;_this=_super.call(this,...args);_this.coreApi=coreChainApi.kaspa.imported;return _this;}var _proto=KeyringImported.prototype;_proto.getPrivateKeys=function(){var _getPrivateKeys=_asyncToGenerator(function*(params){return this.baseGetPrivateKeys(params);});function getPrivateKeys(_x){return _getPrivateKeys.apply(this,arguments);}return getPrivateKeys;}();_proto.exportAccountSecretKeys=function(){var _exportAccountSecretKeys=_asyncToGenerator(function*(params){return this.baseExportAccountSecretKeys(params);});function exportAccountSecretKeys(_x2){return _exportAccountSecretKeys.apply(this,arguments);}return exportAccountSecretKeys;}();_proto.prepareAccounts=function(){var _prepareAccounts=_asyncToGenerator(function*(params){return this.basePrepareAccountsImported(params);});function prepareAccounts(_x3){return _prepareAccounts.apply(this,arguments);}return prepareAccounts;}();_proto.signTransaction=function(){var _signTransaction=_asyncToGenerator(function*(params){return this.baseSignTransaction(params);});function signTransaction(_x4){return _signTransaction.apply(this,arguments);}return signTransaction;}();_proto.signMessage=function(){var _signMessage=_asyncToGenerator(function*(params){return this.baseSignMessage(params);});function signMessage(_x5){return _signMessage.apply(this,arguments);}return signMessage;}();return _createClass(KeyringImported);}(KeyringImportedBase);","import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import _get from\"@babel/runtime/helpers/get\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import{KeyringWatchingBase}from\"../../base/KeyringWatchingBase\";export var KeyringWatching=function(_KeyringWatchingBase){_inherits(KeyringWatching,_KeyringWatchingBase);var _super=_createSuper(KeyringWatching);function KeyringWatching(){return _super.apply(this,arguments);}var _proto=KeyringWatching.prototype;_proto.prepareAccounts=function(){var _prepareAccounts=_asyncToGenerator(function*(params){return _get(_getPrototypeOf(KeyringWatching.prototype),\"basePrepareSimpleWatchingAccounts\",this).call(this,params);});function prepareAccounts(_x){return _prepareAccounts.apply(this,arguments);}return prepareAccounts;}();return _createClass(KeyringWatching);}(KeyringWatchingBase);","import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _isEmpty from\"lodash/isEmpty\";import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import BigNumber from'bignumber.js';import{CONFIRMATION_COUNT,DEFAULT_FEE_RATE,DUST_AMOUNT,MAX_BLOCK_SIZE,MAX_ORPHAN_TX_MASS,isValidAddress,privateKeyFromWIF,selectUTXOs,toTransaction}from'@onekeyhq/core/src/chains/kaspa/sdkKaspa';import{RestAPIClient as ClientKaspa}from'@onekeyhq/core/src/chains/kaspa/sdkKaspa/clientRestApi';import{decodeSensitiveText,encodeSensitiveText}from'@onekeyhq/core/src/secret';import{NotImplemented,OneKeyInternalError}from'@onekeyhq/shared/src/errors';import{ETranslations}from'@onekeyhq/shared/src/locale';import{appLocale}from'@onekeyhq/shared/src/locale/appLocale';import{memoizee}from'@onekeyhq/shared/src/utils/cacheUtils';import timerUtils from'@onekeyhq/shared/src/utils/timerUtils';import{EDecodedTxActionType,EDecodedTxStatus}from'@onekeyhq/shared/types/tx';import{VaultBase}from\"../../base/VaultBase\";import{KeyringExternal}from\"./KeyringExternal\";import{KeyringHardware}from\"./KeyringHardware\";import{KeyringHd}from\"./KeyringHd\";import{KeyringImported}from\"./KeyringImported\";import{KeyringWatching}from\"./KeyringWatching\";var Vault=function(_VaultBase){_inherits(Vault,_VaultBase);var _super=_createSuper(Vault);function Vault(...args){var _this;_this=_super.call(this,...args);_this.keyringMap={hd:KeyringHd,qr:undefined,hw:KeyringHardware,imported:KeyringImported,watching:KeyringWatching,external:KeyringExternal};_this._collectUTXOsInfoByApi=memoizee(function(){var _ref=_asyncToGenerator(function*(params){try{var{utxoList:utxos}=yield _this.backgroundApi.serviceAccountProfile.fetchAccountDetails({networkId:_this.networkId,accountId:_this.accountId,withUTXOList:true});if(!utxos||_isEmpty(utxos)){throw new OneKeyInternalError(appLocale.intl.formatMessage({id:ETranslations.feedback_failed_to_get_utxos}));}var[networkInfo]=yield _this.backgroundApi.serviceAccountProfile.sendProxyRequest({networkId:_this.networkId,body:[{route:'rpc',params:{method:'GET',params:[],url:'/info/network'}}]});var blueScore=new BigNumber(networkInfo.virtualDaaScore);var confirmedUtxos=utxos.filter(function(utxo){return blueScore.minus(utxo.confirmations).isGreaterThanOrEqualTo(CONFIRMATION_COUNT);});return confirmedUtxos.map(function(utxo){var _utxo$scriptPublicKey,_utxo$scriptPublicKey2;return _objectSpread(_objectSpread({},utxo),{},{scriptPubKey:(_utxo$scriptPublicKey=utxo.scriptPublicKey?.scriptPublicKey)!=null?_utxo$scriptPublicKey:'',scriptPublicKeyVersion:(_utxo$scriptPublicKey2=utxo.scriptPublicKey?.version)!=null?_utxo$scriptPublicKey2:0,satoshis:utxo.value,blockDaaScore:new BigNumber(utxo.confirmations).toNumber()});});}catch(e){throw new OneKeyInternalError(appLocale.intl.formatMessage({id:ETranslations.feedback_failed_to_get_utxos}));}});return function(_x){return _ref.apply(this,arguments);};}(),{promise:true,max:1,maxAge:timerUtils.getTimeDurationMs({seconds:30})});return _this;}var _proto=Vault.prototype;_proto.buildAccountAddressDetail=function buildAccountAddressDetail(params){var{account,networkId}=params;var{address}=account;return Promise.resolve({networkId,normalizedAddress:address,displayAddress:address,address,baseAddress:address,isValid:true,allowEmptyAddress:false});};_proto.buildEncodedTx=function(){var _buildEncodedTx=_asyncToGenerator(function*(params){var{transfersInfo,specifiedFeeRate}=params;if(!transfersInfo||_isEmpty(transfersInfo)){throw new OneKeyInternalError('transfersInfo is required');}if(transfersInfo.length>1){throw new OneKeyInternalError('Batch transfer is not supported');}var transferInfo=transfersInfo[0];if(!transferInfo.to){throw new Error('buildEncodedTx ERROR: transferInfo.to is missing');}var dbAccount=yield this.getAccount();var confirmUtxos=yield this._collectUTXOsInfoByApi({address:dbAccount.address});var encodedTx=yield this.prepareAndBuildTx({confirmUtxos,transferInfo,specifiedFeeRate});var txn=toTransaction(encodedTx);var{mass,txSize}=txn.getMassAndSize();encodedTx.feeInfo.limit=mass.toString();encodedTx.mass=mass;if(mass>MAX_ORPHAN_TX_MASS||txSize>MAX_BLOCK_SIZE){encodedTx=yield this.prepareAndBuildTx({confirmUtxos,transferInfo,priority:{satoshis:true},specifiedFeeRate});txn=toTransaction(encodedTx);var massAndSize=txn.getMassAndSize();if(massAndSize.mass>MAX_ORPHAN_TX_MASS||massAndSize.txSize>MAX_BLOCK_SIZE){throw new OneKeyInternalError('Transaction size is too large');}encodedTx.feeInfo.limit=massAndSize.mass.toString();encodedTx.mass=massAndSize.mass;}return encodedTx;});function buildEncodedTx(_x2){return _buildEncodedTx.apply(this,arguments);}return buildEncodedTx;}();_proto.buildDecodedTx=function(){var _buildDecodedTx=_asyncToGenerator(function*(params){var _encodedTx$feeInfo$li,_feeInfo$price;var{unsignedTx}=params;var encodedTx=unsignedTx.encodedTx;var{outputs,feeInfo}=encodedTx;var{swapInfo}=unsignedTx;var network=yield this.getNetwork();var account=yield this.getAccount();var nativeToken=yield this.backgroundApi.serviceToken.getToken({accountId:this.accountId,networkId:this.networkId,tokenIdOnNetwork:''});var utxoTo=outputs.map(function(output){return{address:output.address,balance:new BigNumber(output.value).shiftedBy(-network.decimals).toFixed(),balanceValue:output.value.toString(),symbol:network.symbol,isMine:false};});var sendNativeTokenAmountBN=new BigNumber(0);var sendNativeTokenAmountValueBN=new BigNumber(0);var action={type:EDecodedTxActionType.UNKNOWN,unknownAction:{from:account.address,to:utxoTo[0].address}};if(swapInfo){var _providerInfo$provide,_swapSendToken$logoUR,_swapSendToken$name,_swapReceiveToken$log,_swapReceiveToken$nam;var swapSendToken=swapInfo.sender.token;var swapReceiveToken=swapInfo.receiver.token;var providerInfo=swapInfo.swapBuildResData.result.info;action=yield this.buildTxTransferAssetAction({from:swapInfo.accountAddress,to:utxoTo[0].address,application:{name:providerInfo.providerName,icon:(_providerInfo$provide=providerInfo.providerLogo)!=null?_providerInfo$provide:''},transfers:[{from:swapInfo.accountAddress,to:'',tokenIdOnNetwork:swapSendToken.contractAddress,icon:(_swapSendToken$logoUR=swapSendToken.logoURI)!=null?_swapSendToken$logoUR:'',name:(_swapSendToken$name=swapSendToken.name)!=null?_swapSendToken$name:'',symbol:swapSendToken.symbol,amount:swapInfo.sender.amount,isNFT:false,isNative:swapSendToken.isNative,networkId:swapInfo.sender.accountInfo.networkId},{from:'',to:swapInfo.receivingAddress,tokenIdOnNetwork:swapReceiveToken.contractAddress,icon:(_swapReceiveToken$log=swapReceiveToken.logoURI)!=null?_swapReceiveToken$log:'',name:(_swapReceiveToken$nam=swapReceiveToken.name)!=null?_swapReceiveToken$nam:'',symbol:swapReceiveToken.symbol,amount:swapInfo.receiver.amount,isNFT:false,isNative:swapReceiveToken.isNative,networkId:swapInfo.receiver.accountInfo.networkId}],isInternalSwap:true,swapReceivedAddress:swapInfo.receivingAddress,swapReceivedNetworkId:swapInfo.receiver.token.networkId});if(swapSendToken.isNative){sendNativeTokenAmountBN=new BigNumber(swapInfo.sender.amount);sendNativeTokenAmountValueBN=sendNativeTokenAmountBN.shiftedBy(swapSendToken.decimals);}}else if(nativeToken){var _nativeToken$logoURI;sendNativeTokenAmountBN=new BigNumber(utxoTo[0].balance);sendNativeTokenAmountValueBN=sendNativeTokenAmountBN.shiftedBy(nativeToken.decimals);var transfer={from:account.address,to:utxoTo[0].address,amount:new BigNumber(utxoTo[0].balance).toFixed(),tokenIdOnNetwork:nativeToken.address,icon:(_nativeToken$logoURI=nativeToken.logoURI)!=null?_nativeToken$logoURI:'',name:nativeToken.name,symbol:nativeToken.symbol,isNFT:false,isNative:true};action=yield this.buildTxTransferAssetAction({from:account.address,to:utxoTo[0].address,transfers:[transfer]});}return{txid:'',owner:account.address,signer:account.address,nonce:0,actions:[action],status:EDecodedTxStatus.Pending,networkId:this.networkId,accountId:this.accountId,extraInfo:null,encodedTx,totalFeeInNative:new BigNumber((_encodedTx$feeInfo$li=encodedTx.feeInfo?.limit)!=null?_encodedTx$feeInfo$li:'0').multipliedBy((_feeInfo$price=feeInfo?.price)!=null?_feeInfo$price:'0.00000001').toFixed(),nativeAmount:sendNativeTokenAmountBN.toFixed(),nativeAmountValue:sendNativeTokenAmountValueBN.toFixed()};});function buildDecodedTx(_x3){return _buildDecodedTx.apply(this,arguments);}return buildDecodedTx;}();_proto.buildUnsignedTx=function(){var _buildUnsignedTx=_asyncToGenerator(function*(params){var encodedTx=yield this.buildEncodedTx(params);if(encodedTx){return{encodedTx,transfersInfo:params.transfersInfo};}throw new NotImplemented();});function buildUnsignedTx(_x4){return _buildUnsignedTx.apply(this,arguments);}return buildUnsignedTx;}();_proto.updateUnsignedTx=function(){var _updateUnsignedTx=_asyncToGenerator(function*(params){var _feeInfo$gas;var{feeInfo,unsignedTx}=params;var encodedTx=unsignedTx.encodedTx;var{gasLimit,gasPrice}=(_feeInfo$gas=feeInfo?.gas)!=null?_feeInfo$gas:{};if(typeof gasLimit!=='string'||typeof gasPrice!=='string'){throw new Error('gasLimit or gasPrice is not a string.');}try{var bigNumberGasLimit=new BigNumber(gasLimit);var bigNumberGasPrice=new BigNumber(gasPrice);if(bigNumberGasLimit.isNaN()||bigNumberGasPrice.isNaN()){throw new Error('Fee is not a valid number.');}}catch(error){throw new Error(`Invalid fee value: ${error.message}`);}var mass=new BigNumber(gasLimit).toNumber();var newFeeInfo={price:gasPrice,limit:mass.toString()};if(feeInfo){var network=yield this.getNetwork();var specifiedFeeRate=new BigNumber(gasPrice).shiftedBy(network.feeMeta.decimals).toFixed();var newEncodedTx=yield this.buildEncodedTx({transfersInfo:unsignedTx.transfersInfo,specifiedFeeRate});return _objectSpread(_objectSpread({},params.unsignedTx),{},{encodedTx:_objectSpread(_objectSpread({},newEncodedTx),{},{mass})});}return _objectSpread(_objectSpread({},params.unsignedTx),{},{encodedTx:_objectSpread(_objectSpread({},encodedTx),{},{feeInfo:newFeeInfo,mass})});});function updateUnsignedTx(_x5){return _updateUnsignedTx.apply(this,arguments);}return updateUnsignedTx;}();_proto.validateAddress=function(){var _validateAddress=_asyncToGenerator(function*(address){var chainId=yield this.getNetworkChainId();var isValid=isValidAddress(address,chainId);return{isValid,normalizedAddress:address,displayAddress:address};});function validateAddress(_x6){return _validateAddress.apply(this,arguments);}return validateAddress;}();_proto.validateXpub=function validateXpub(){throw new NotImplemented();};_proto.getPrivateKeyFromImported=function getPrivateKeyFromImported(params){var input=decodeSensitiveText({encodedText:params.input});if(this.isHexPrivateKey(input)){var privateKey=input.startsWith('0x')?input.slice(2):input;privateKey=encodeSensitiveText({text:privateKey});return Promise.resolve({privateKey});}if(this.isWIFPrivateKey(input)){var privateKeyBuffer=privateKeyFromWIF(input);var wifPrivateKey=encodeSensitiveText({text:privateKeyBuffer.toString()});return Promise.resolve({privateKey:wifPrivateKey});}throw new Error('Invalid private key');};_proto.validateXprvt=function validateXprvt(){return Promise.resolve({isValid:false});};_proto.validatePrivateKey=function(){var _validatePrivateKey=_asyncToGenerator(function*(privateKey){var settings=yield this.getVaultSettings();var isValid=settings.importedAccountEnabled&&(this.isHexPrivateKey(privateKey)||this.isWIFPrivateKey(privateKey));return{isValid};});function validatePrivateKey(_x7){return _validatePrivateKey.apply(this,arguments);}return validatePrivateKey;}();_proto.isHexPrivateKey=function isHexPrivateKey(input){return /^(0x)?[0-9a-zA-Z]{64}$/.test(input);};_proto.isWIFPrivateKey=function isWIFPrivateKey(input){return /^[5KL][1-9A-HJ-NP-Za-km-z]{50,51}$/.test(input);};_proto.validateGeneralInput=function(){var _validateGeneralInput=_asyncToGenerator(function*(params){var{result}=yield this.baseValidateGeneralInput(params);return result;});function validateGeneralInput(_x8){return _validateGeneralInput.apply(this,arguments);}return validateGeneralInput;}();_proto._coinSelect=function _coinSelect({confirmUtxos,amountValue,priority,feeRate}){var{utxoIds,utxos,mass}=selectUTXOs(confirmUtxos,new BigNumber(amountValue),priority);var limit=new BigNumber(mass).toString();var hasMaxSend=false;if(utxos.length===confirmUtxos.length){hasMaxSend=utxos.reduce(function(v,{satoshis}){return v.plus(satoshis);},new BigNumber('0')).lte(amountValue);}if(!hasMaxSend&&utxos.reduce(function(v,{satoshis}){return v.plus(satoshis);},new BigNumber('0')).lte(new BigNumber(amountValue).plus(DUST_AMOUNT))){var fee=new BigNumber(mass).multipliedBy(feeRate).toFixed();var newSelectUtxo=selectUTXOs(confirmUtxos,new BigNumber(amountValue).plus(fee).plus(DUST_AMOUNT));utxoIds=newSelectUtxo.utxoIds;utxos=newSelectUtxo.utxos;mass=newSelectUtxo.mass;}return{utxoIds,utxos,mass,limit,hasMaxSend};};_proto.prepareAndBuildTx=function(){var _prepareAndBuildTx=_asyncToGenerator(function*({confirmUtxos,transferInfo,priority,specifiedFeeRate}){var network=yield this.getNetwork();var{to,amount}=transferInfo;var amountValue=new BigNumber(amount).shiftedBy(network.decimals).toFixed();if(new BigNumber(amountValue).isLessThan(DUST_AMOUNT)){throw new OneKeyInternalError('Amount is too small');}var feeRate=specifiedFeeRate!=null?specifiedFeeRate:DEFAULT_FEE_RATE.toString();var{utxoIds,utxos,limit,hasMaxSend}=this._coinSelect({confirmUtxos,amountValue,priority,feeRate});return{utxoIds,inputs:utxos,outputs:[{address:to,value:amountValue}],feeInfo:{price:feeRate,limit},hasMaxSend,mass:new BigNumber(limit).toNumber()};});function prepareAndBuildTx(_x9){return _prepareAndBuildTx.apply(this,arguments);}return prepareAndBuildTx;}();_proto.getCustomRpcEndpointStatus=function(){var _getCustomRpcEndpointStatus=_asyncToGenerator(function*(params){var client=new ClientKaspa(params.rpcUrl);var start=performance.now();var{virtualDaaScore:blockNumber}=yield client.getNetworkInfo();var bestBlockNumber=parseInt(blockNumber,10);return{responseTime:Math.floor(performance.now()-start),bestBlockNumber};});function getCustomRpcEndpointStatus(_x10){return _getCustomRpcEndpointStatus.apply(this,arguments);}return getCustomRpcEndpointStatus;}();_proto.broadcastTransactionFromCustomRpc=function(){var _broadcastTransactionFromCustomRpc=_asyncToGenerator(function*(params){var{customRpcInfo,signedTx}=params;var rpcUrl=customRpcInfo.rpc;if(!rpcUrl){throw new OneKeyInternalError('Invalid rpc url');}var client=new ClientKaspa(rpcUrl);var txId=yield client.sendRawTransaction(signedTx.rawTx);return _objectSpread(_objectSpread({},params.signedTx),{},{txid:txId});});function broadcastTransactionFromCustomRpc(_x11){return _broadcastTransactionFromCustomRpc.apply(this,arguments);}return broadcastTransactionFromCustomRpc;}();return _createClass(Vault);}(VaultBase);export{Vault as default};","export var EVaultKeyringTypes=function(EVaultKeyringTypes){EVaultKeyringTypes[\"hd\"]=\"hd\";EVaultKeyringTypes[\"qr\"]=\"qr\";EVaultKeyringTypes[\"hardware\"]=\"hardware\";EVaultKeyringTypes[\"imported\"]=\"imported\";EVaultKeyringTypes[\"watching\"]=\"watching\";EVaultKeyringTypes[\"external\"]=\"external\";return EVaultKeyringTypes;}({});export var EWrappedType=function(EWrappedType){EWrappedType[\"DEPOSIT\"]=\"deposit\";EWrappedType[\"WITHDRAW\"]=\"withdraw\";return EWrappedType;}({});"],"names":["TX_EMPTY_SIZE","TX_INPUT_BASE","TX_INPUT_PUBKEYHASH","TX_OUTPUT_BASE","TX_OUTPUT_PUBKEYHASH","OP_RETURN_OVERHEAD","inputBytes","input","script","length","outputBytes","output","dustThreshold","feeRate","transactionBytes","inputs","outputs","reduce","a","x","uintOrNaN","v","NaN","isFinite","Math","floor","sumOrNaN","range","value","BLANK_OUTPUT","module","exports","finalize","bytesAccum","feeAfterExtraOutput","remainderAfterExtraOutput","concat","fee","sumForgiving","RestAPIClient","url","this","axios","A","create","baseURL","timeout","_getBlockdag","_getNetworkInfo","_queryBalance","_queryUtxos","_sendRawTransaction","_getTransaction","_getTransactions","_getTransactionsByAddress","_proto","prototype","getBlockdag","get","headers","data","error","networkName","blockCount","headerCount","virtualDaaScore","apply","arguments","getNetworkInfo","queryBalance","address","balance","_x","queryUtxos","_x2","sendRawTransaction","rawTx","transaction","post","then","resp","transactionId","catch","message","match","key","ETranslations","send_amount_too_small","toLowerCase","indexOf","earn_insufficient_balance","_x3","getTransaction","_x4","getTransactions","txIds","transactionIds","_x5","getTransactionsByAddress","_x6","CONFIRMATION_COUNT","DUST_AMOUNT","MAX_BLOCK_SIZE","MAX_ORPHAN_TX_MASS","DEFAULT_FEE_RATE","DEFAULT_SEQNUMBER","EKaspaAddressType","addressFromPublicKey","pubKey","chainId","Address","fromPublicKey","toString","isValidAddress","addressType","PayToPublicKey","isValid","privateKeyFromWIF","wif","PrivateKey","fromWIF","privateKeyFromBuffer","pri","fromBuffer","privateKeyFromOriginPrivateKey","pub","privateKey","Uint8Array","publicKey","privateNegate","Error","tweakedPrivateKey","privateAdd","slice","undefined","EKaspaSignType","publicKeyFromX","odd","PublicKey","fromString","publicKeyFromOriginPubkey","pubkey","tweakPublic","Buffer","from","parity","xOnlyPubkey","MAX_UINT64_VALUE","selectUTXOs","confirmUtxos","txAmount","prioritys","sortedUtxos","sortUXTO","utxos","sort","b","blockDaaScore","satoshis","minus","toNumber","txid","localeCompare","vout","selectedUtxos","utxoIds","totalVal","mass","info","utxo","UnspentOutput","push","id","plus","isGreaterThanOrEqualTo","isLessThan","isGreaterThan","SignatureType","SigningMethodType","toTransaction","tx","_tx$feeInfo$price","to","sendAmount","feeInfo","price","multipliedBy","toFixed","hasMaxSend","swap_page_button_insufficient_balance","txn","Transaction","map","setVersion","parseInt","change","forEach","sequenceNumber","_sign2","signer","sighashType","inputIndex","subscript","satoshisBN","flags","signingMethod","hashbuf","Sighash","sighash","getPrivateKey","toBuffer","signatureBuffer","signSchnorr","signature","sig","crypto","Signature","stripHexPrefix","hexlify","compressed","nhashtype","_signatureBuffer","_signature","_sig","getSignaturesWithInput","_x9","_x10","_x11","_x12","_getSignaturesWithInput","index","sigtype","SIGHASH_ALL","SIGHASH_FORKID","Schnorr","Input","getPublicKey","noPrefix","txSign","sign","_x7","_x8","prevTxId","outputIndex","_getSignatures","list","sigs","results","_sign3","ECDSA","signatures","getSignatures","_x13","_x14","_x15","addSignature","signTransaction","i","_sign","_x16","_x17","_x18","_x19","submitTransactionFromString","hex","nLockTime","lockTime","version","previousOutpoint","signatureScript","sequence","sigOpCount","amount","scriptPublicKey","subnetworkId","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","result","Super","NewTarget","constructor","Reflect","construct","t","Boolean","valueOf","call","_Transaction$UnspentO","_super","o","_this","scriptPublicKeyVersion","txId","signatureOPCount","getSignatureOperationsCount","MassPerSigOp","MassPerTxByte","scriptPubKey","toJSON","fromJSON","json","slicePathTemplate","template","getUtxoAccountPrefixPath","fullPath","pathComponent","split","pop","join","getBIP44Path","account","realPath","Object","entries","addresses","path","estimateTxSize","inputsForCoinSelect","outputsForCoinSelect","KeyringBase","_VaultContext","vault","options","networkId","_basePrepareHdNormalAccounts","_basePrepareHdUtxoAccounts","_batchGetAddresses","_exportAccountSecretKeys","_buildHwAllNetworkPrepareAccountsParams","isKeyringImported","keyringType","imported","isKeyringHd","hd","isKeyringHardware","hardware","isKeyringWatching","watching","basePrepareHdNormalAccounts","params","walletId","names","deriveInfo","indexes","coinType","namePrefix","idSuffix","settings","getVaultSettings","accountType","buildAddressesInfo","usedIndexes","addressInfos","ret","idx","relPath","VARIANT","pathIndex","name","buildHDAccountName","buildHDAccountId","indexedAccountId","buildIndexedAccountId","type","impl","basePrepareHdUtxoAccounts","skipCheckAccountExist","UTXO","checkIsAccountUsed","accountCreatePerf","utxoBuildAddressesInfo","addressesInfo","utxoBuildAddressesInfoDone","buildDBUtxoAccounts","xpub","xpubSegwit","prefix","isLast","isUsed","wait","buildDBUtxoAccountsDone","batchGetAddresses","exportAccountSecretKeys","buildHwAllNetworkPrepareAccountsParams","buildPrepareAccountsPrefixedPath","_KeyringBase","KeyringBaseMock","_super2","KeyringExternalBase","args","external","_baseSignMessageByExternalWallet","_baseSendTransactionByExternalWallet","_basePrepareExternalAccounts","baseSignMessageByExternalWallet","backgroundApi","serviceDappSide","signMessage","getAccount","baseSendTransactionByExternalWallet","sendTransaction","prepareAccounts","basePrepareExternalAccounts","KeyringHardwareBase","_getHardwareSDKInstance","_baseGetDeviceAccountData","_baseGetDeviceAccountPublicKeys","_baseGetDeviceAccountAddresses","_getAllNetworkPrepareAccounts","getHardwareSDKInstance","_ref","r","$backgroundApiProxy","serviceHardware","getSDKInstance","getHardwareSDKInstanceDone","baseGetDeviceAccountData","sdkGetDataFn","errorMessage","deviceParams","dbDevice","confirmOnDevice","connectId","deviceId","coinName","pathPrefix","pathSuffix","showOnOnekeyFn","arrIndex","EveryItem","LastItem","baseGetDeviceAccountPublicKeys","sdkGetPublicKeysFn","baseGetDeviceAccountAddresses","sdkGetAddressFn","getAllNetworkPrepareAccounts","hwSdkNetwork","buildPath","buildResultAccount","hwAllNetworkPrepareAccountsResponse","resultAccounts","_loop","find","item","network","success","payload","hasErrorItem","KeyringHdBase","_KeyringSoftwareBase","KeyringImportedBase","ownKeys","e","keys","getOwnPropertySymbols","filter","getOwnPropertyDescriptor","enumerable","_objectSpread","getOwnPropertyDescriptors","defineProperties","defineProperty","KeyringSoftwareBase","_baseGetCredentialsInfo","_baseSignTransactionBtc","_baseSignTransaction","_baseSignMessage","_baseSignMessageBtc","_basePrepareAccountsImported","_basePrepareAccountsImportedUtxo","_basePrepareAccountsHd","_basePrepareAccountsHdUtxo","_baseExportAccountSecretKeys","_baseGetPrivateKeys","baseGetCredentialsInfo","password","getCredential","credential","accountId","baseSignTransactionBtc","coreApi","unsignedTx","signOnly","credentials","networkInfo","getCoreApiNetworkInfo","btcExtraInfo","relPaths","prepareBtcSignExtraInfo","baseSignTransaction","baseSignMessage","messages","Promise","all","msg","unsignedMsg","baseSignMessageBtc","_this2","unsignedMessage","basePrepareAccountsImported","importedCredential","networks","createAtNetwork","onlyAvailableOnCertainNetworks","coinTypeDefault","privateKeyRaw","getAddressFromPrivate","addressEncoding","addressUsed","buildImportedAccountId","resolve","basePrepareAccountsImportedUtxo","basePrepareAccountsHd","_ref2","_this3","getAddressesFromHd","hdCredential","basePrepareAccountsHdUtxo","_ref3","_this4","getCredentialsInfo","getAddressesFromHdDone","baseExportAccountSecretKeys","keyType","serviceNetwork","getDeriveTypeByTemplate","getExportedSecretKey","baseGetPrivateKeys","getPrivateKeys","KeyringWatchingBase","_signTransaction","_signMessage","_basePrepareUtxoWatchingAccounts","_basePrepareSimpleWatchingAccounts","intl","formatMessage","wallet_error_trade_with_watched_acocunt","basePrepareUtxoWatchingAccounts","isUrlAccount","buildWatchingAccountId","addressFromXpub","getAddressFromPublic","basePrepareSimpleWatchingAccounts","SIMPLE","_excluded","_excluded2","VaultBase","_VaultBaseChainOnly","uuid","mutexBuildOnChainHistoryTxGetDBAccount","_init","_initKeyring","_broadcastTransaction","_broadcastTransactionFromCustomRpc","_validateSendAmount","_buildOnChainHistoryTxExtraInfo","_precheckUnsignedTx","_buildEstimateFeeParams","_buildParseTransactionParams","_buildFetchHistoryListParams","_buildHistoryTx","_buildOnChainHistoryTx","_buildHistoryTxAction","_buildHistoryTxFunctionCallAction","_buildHistoryTxUnknownAction","_buildHistoryTransferAction","_buildTxTransferAssetAction","_buildInternalSwapAction","_buildInternalStakingAction","_getAccount","_getAccountAddress","_getAccountPath","_getAccountXpub","_fillTokensDetails","_fillAccountDetails","_isEarliestLocalPendingTx","_buildReplaceEncodedTx","_attachFeeInfoToDAppEncodedTx","_activateToken","_getAddressType","_fetchAccountDetails","_fetchAccountDetailsByApi","_fetchAccountDetailsByRpc","_fetchTokenList","_fetchTokenListByApi","_fetchTokenListByRpc","_estimateFee","_estimateFeeByApi","_estimateFeeByRpc","_fetchAccountHistoryDetail","_fetchAccountHistoryDetailByApi","_fetchAccountHistoryDetailByRpc","_buildOkxSwapEncodedTx","_proto2","init","config","initKeyring","isChainOnly","keyring","keyringCreator","broadcastTransaction","signedTx","serviceSend","encodedTx","broadcastTransactionFromCustomRpc","validateSendAmount","_x20","buildOnChainHistoryTxExtraInfo","onChainHistoryTx","_x21","precheckUnsignedTx","_x22","buildEstimateFeeParams","_x23","buildParseTransactionParams","_x24","buildFetchHistoryListParams","_x25","buildHistoryTx","historyTxToMerge","decodedTx","isSigner","isLocalCreated","dbAccount","accountAddress","serviceAccount","getAccountAddressForApi","getAccountXpub","owner","historyTx","buildLocalHistoryId","_x26","fixOnChainHistoryAccountData","originAccountId","originNetworkId","originAccountAddress","originXpub","allNetworkHistoryExtraItems","onekeyall","allNetworkAccount","_","txXpub","accountXpub","buildOnChainHistoryTx","tokens","nfts","dbAccountCache","runExclusive","getDBAccountSafe","vaultSettings","action","buildHistoryTxAction","nonce","actions","status","totalFeeInNative","gasFee","totalFeeFiatValue","gasFeeFiatValue","nativeAmount","isUtxo","extraInfo","label","updatedAt","Date","timestamp","getTime","createdAt","isFinal","_x27","Approve","tokenApprove","buildHistoryTxApproveAction","sends","receives","buildHistoryTxFunctionCallAction","buildHistoryTxUnknownAction","buildHistoryTransferAction","_x28","getNetwork","FUNCTION_CALL","functionCall","functionName","functionHash","functionCode","_x29","UNKNOWN","unknownAction","_x30","ASSET_TRANSFER","assetTransfer","send","buildHistoryTransfer","transfer","receive","_x31","icon","symbol","isNFT","isNative","tokenAddress","token","tokenIdOnNetwork","isOwn","decimals","TOKEN_APPROVE","spender","shiftedBy","isInfiniteAmount","buildTxTransferAssetAction","transfers","application","isInternalSwap","isInternalStaking","internalStakingLabel","swapReceivedAddress","swapReceivedNetworkId","getAccountAddress","sendNativeTokenAmountBN","OUT","nativeAmountValue","convertAmountToChainValue","_x32","buildInternalSwapAction","_swapSendToken$logoUR","_swapSendToken$name","_swapReceiveToken$log","_swapReceiveToken$nam","_providerInfo$provide","swapData","swapInfo","swapToAddress","swapSendToken","sender","swapReceiveToken","receiver","providerInfo","swapBuildResData","otherFeeInfos","otherFeeInfoTransfers","contractAddress","logoURI","accountInfo","receivingAddress","_feeInfo$token$logoUR","_feeInfo$token$name","providerName","providerLogo","_x33","buildInternalStakingAction","_send$token$logoURI","_send$token$name","_receive$token$logoUR","_receive$token$name","stakingInfo","stakingData","stakingToAddress","protocol","protocolLogoURI","_x34","_params$signOnly","_signedTx$encodedTx","_x35","getDBAccount","isAccountCompatibleWithNetwork","externalAccount","externalAccountAddress","connectedAddresses","buildExternalAccountAddress","fallbackIndex","_externalAccount$sele","selectedAddress","getNetworkImpl","addressDetail","buildAccountAddressDetail","allowEmptyAddress","getAccountPath","networkAccount","getXpubFromAccount","fillTokensDetails","tokensDetails","_x36","fillAccountDetails","accountDetails","_x37","isEarliestLocalPendingTx","_x38","buildReplaceEncodedTx","replaceType","_x39","attachFeeInfoToDAppEncodedTx","_x40","activateToken","_x41","getAddressType","_x42","buildStakeEncodedTx","fetchAccountDetails","isCustomNetwork","fetchAccountDetailsByRpc","fetchAccountDetailsByApi","_x43","queryParams","client","serviceAccountProfile","getClient","Wallet","_getWalletTypeHeader","signal","_x44","_x45","fetchTokenList","fetchTokenListByRpc","fetchTokenListByApi","_x46","serviceToken","requestApiParams","flag","contractList","contract","_x47","_x48","estimateFee","estimateFeeByRpc","estimateFeeByApi","_x49","rest","serviceGas","_x50","_x51","fetchAccountHistoryDetail","fetchAccountHistoryDetailByRpc","fetchAccountHistoryDetailByApi","_x52","_x53","_x54","buildOkxSwapEncodedTx","_x55","VaultBaseChainOnly","_getXpubFromAccount","_proxyJsonRPCCall","_addressFromBase","_addressToBase","_baseValidatePrivateKey","_baseValidateGeneralInput","_baseGetPrivateKeyFromImported","_validateAmountInputShown","_checkIsDomainName","_resolveDomainName","_getCustomRpcEndpointStatus","_checkFeeSupportInfo","_fetchTokenDetails","_fetchTokenDetailsByApi","_fetchTokenDetailsByRpc","proxyJsonRPCCall","request","addressFromBase","addressToBase","baseValidatePrivateKey","baseValidateGeneralInput","addressResult","xpubResult","xprvtResult","privateKeyResult","encodedText","validateAddress","validateXprvt","validateXpub","validatePrivateKey","inputDecoded","baseGetPrivateKeyFromImported","text","validateAmountInputShown","toAddress","checkIsDomainName","resolveDomainName","getCustomRpcEndpointStatus","checkFeeSupportInfo","fetchTokenDetails","fetchTokenDetailsByRpc","fetchTokenDetailsByApi","_params$signal","VaultContext","getWalletIdFromAccountId","_getNetworkId","_getNetwork","_getNetworkChainId","_getNetworkImpl","_getVaultSettings2","_getCoreApiNetworkInfo","_getRpcUrl","_destroy","getNetworkId","cached","_network","getNetworkChainId","addressPrefix","curve","networkImpl","isTestnet","networkChainCode","code","getRpcUrl","destroy","KeyringExternal","_KeyringExternalBase","KeyringHardware","_KeyringHardwareBase","coreChainApi","kaspa","showOnOneKey","allNetworkAccounts","p","accountUtils","buildPathFromTemplate","addressInfo","sdk","unSignTx","_input$output$satoshi","_input$output$script$","_input$output$script$2","bufferUtils","bytesToHex","alloc","scriptVersion","sigHashType","scheme","response","kaspaSignTransaction","deviceCommonParams","publicKeyBuf","KeyringHd","_KeyringHdBase","_getPrivateKeys","_prepareAccounts","KeyringImported","_KeyringImportedBase","KeyringWatching","_KeyringWatchingBase","Vault","_VaultBase","keyringMap","qr","hw","_collectUTXOsInfoByApi","utxoList","withUTXOList","appLocale","feedback_failed_to_get_utxos","sendProxyRequest","body","route","method","blueScore","confirmations","_utxo$scriptPublicKey","_utxo$scriptPublicKey2","promise","max","maxAge","timerUtils","getTimeDurationMs","seconds","_buildEncodedTx","_buildDecodedTx","_buildUnsignedTx","_updateUnsignedTx","_validateAddress","_validatePrivateKey","_validateGeneralInput","_prepareAndBuildTx","normalizedAddress","displayAddress","baseAddress","buildEncodedTx","transfersInfo","specifiedFeeRate","transferInfo","prepareAndBuildTx","txSize","getMassAndSize","limit","priority","massAndSize","buildDecodedTx","_encodedTx$feeInfo$li","_feeInfo$price","nativeToken","getToken","utxoTo","balanceValue","isMine","sendNativeTokenAmountValueBN","_nativeToken$logoURI","Pending","buildUnsignedTx","updateUnsignedTx","_feeInfo$gas","gasLimit","gasPrice","gas","bigNumberGasLimit","bigNumberGasPrice","isNaN","newFeeInfo","feeMeta","newEncodedTx","getPrivateKeyFromImported","isHexPrivateKey","startsWith","isWIFPrivateKey","privateKeyBuffer","wifPrivateKey","importedAccountEnabled","test","validateGeneralInput","_coinSelect","amountValue","lte","newSelectUtxo","rpcUrl","start","performance","now","blockNumber","bestBlockNumber","responseTime","customRpcInfo","rpc","EVaultKeyringTypes","EWrappedType"],"sourceRoot":""}