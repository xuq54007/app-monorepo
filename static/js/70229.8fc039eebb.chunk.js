!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="b7641c41-1f6b-48e5-bdf5-6a85f2823521",e._sentryDebugIdIdentifier="sentry-dbid-b7641c41-1f6b-48e5-bdf5-6a85f2823521")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"5.5.0 (2024121652)"},(self.webpackChunkweb=self.webpackChunkweb||[]).push([[70229],{98807:(e,t,a)=>{a.d(t,{Bc:()=>l,N:()=>BatchCreateAccountFormBase});var r=a(514041),n=a(241440),o=a(908867),c=a(490343),s=a(334439),i=a(553083),u=a(831085),l=15,p=100,d=2**31,m=d+1-15;function AdvancedSettingsFormField({form:e,isAllNetwork:t,alwaysShowAdvancedSettings:a}){var i=(0,o.A)(),l=(0,c.useMedia)(),[p,d]=(0,r.useState)(!a),g=(0,r.useCallback)((function(){d((function(e){return!e}))}),[]),f=e.watch("from"),h=e.watch("count"),w=e.formState.errors.from,v=(0,r.useMemo)((function(){if(!f||!h)return"";var e=parseInt(f,10),t=e+parseInt(h,10)-1;return`${i.formatMessage({id:s.ETranslations.global_serial_number_start_desc},{from:e,to:t})}`}),[h,f,i]);return(0,u.jsxs)(c.Stack,{"data-sentry-element":"Stack","data-sentry-component":"AdvancedSettingsFormField","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/AccountManagerStacks/pages/BatchCreateAccount/BatchCreateAccountFormBase.tsx",children:[a?null:(0,u.jsxs)(c.XStack,{gap:"$3",py:"$2",ai:"center",onPress:g,children:[(0,u.jsx)(c.Stack,{children:(0,u.jsx)(c.SizableText,{size:"$bodyMdMedium",color:"$textSubdued",children:i.formatMessage({id:s.ETranslations.global_advantage_settings})})}),(0,u.jsx)(c.IconButton,{icon:p?"ChevronDownSmallOutline":"ChevronTopSmallOutline",variant:"tertiary",onPress:g})]}),(0,u.jsx)(c.Stack,{width:p?0:void 0,height:p?0:void 0,opacity:p?0:void 0,overflow:p?"hidden":void 0,"data-sentry-element":"Stack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/AccountManagerStacks/pages/BatchCreateAccount/BatchCreateAccountFormBase.tsx",children:(0,u.jsx)(c.Stack,{mt:a?void 0:"$4","data-sentry-element":"Stack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/AccountManagerStacks/pages/BatchCreateAccount/BatchCreateAccountFormBase.tsx",children:(0,u.jsxs)(c.Form.Field,{label:i.formatMessage({id:s.ETranslations.global_serial_number_start}),name:"from",rules:{required:!0,validate:function(e){var t=new n.A(e);return!e||t.isNaN()?i.formatMessage({id:s.ETranslations.global_bulk_accounts_page_number_error}):!t.isLessThan(1)||"The minimum number of accounts is 1"},onChange:function(t){var a=(t?.target?.value||"").replace(/\D/g,""),r=new n.A(parseInt(a,10));a&&!r.isNaN()?r.isLessThan(1)?e.setValue("from","1"):r.isGreaterThanOrEqualTo(m)?e.setValue("from",m.toString()):e.setValue("from",r.toFixed()):e.setValue("from","")}},"data-sentry-element":"unknown","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/AccountManagerStacks/pages/BatchCreateAccount/BatchCreateAccountFormBase.tsx",children:[(0,u.jsx)(c.Input,{secureTextEntry:!1,placeholder:i.formatMessage({id:s.ETranslations.global_serial_number_start}),size:l.gtMd?"medium":"large","data-sentry-element":"Input","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/AccountManagerStacks/pages/BatchCreateAccount/BatchCreateAccountFormBase.tsx"}),w?null:(0,u.jsx)(c.Form.FieldDescription,{children:v})]})})})]})}function BatchCreateAccountFormBase({alwaysShowAdvancedSettings:e,networkReadyOnly:t,defaultCount:a,defaultDeriveType:m,defaultFrom:g,defaultNetworkId:f,onNetworkChanged:h,formRef:w}){var v=(0,o.A)(),k=(0,c.useMedia)(),y=(0,c.useForm)({values:{networkId:f,deriveType:m,from:g,count:a},mode:"onChange",reValidateMode:"onChange"});w&&(w.current=y);var b=y.watch("networkId"),A=(0,r.useMemo)((function(){return i.Ay.isAllNetwork({networkId:b})}),[b]);return(0,r.useEffect)((function(){h?.({networkId:b,isAllNetwork:A})}),[A,b,h]),(0,u.jsxs)(c.Form,{form:y,"data-sentry-element":"Form","data-sentry-component":"BatchCreateAccountFormBase","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/AccountManagerStacks/pages/BatchCreateAccount/BatchCreateAccountFormBase.tsx",children:[(0,u.jsx)(c.Form.Field,{label:v.formatMessage({id:s.ETranslations.global_generate_amount}),name:"count",rules:{required:!0,validate:function(e,t){var a=new n.A(e);if(!e||a.isNaN())return v.formatMessage({id:s.ETranslations.global_bulk_accounts_page_number_error});var r=A?l:p;if(t.from){var o=new n.A(t.from);if(!o.isNaN()){var c=d+1-o.toNumber();r=Math.min(r,c)}}return a.isGreaterThan(r)?v.formatMessage({id:s.ETranslations.global_generate_amount_information},{max:r}):!a.isLessThan(1)||"The minimum number of accounts is 1"},onChange:function(e){var t=(e?.target?.value||"").replace(/\D/g,""),a=new n.A(parseInt(t,10));t&&!a.isNaN()?a.isLessThan(1)?y.setValue("count","1"):y.setValue("count",a.toFixed()):y.setValue("count","")}},"data-sentry-element":"unknown","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/AccountManagerStacks/pages/BatchCreateAccount/BatchCreateAccountFormBase.tsx",children:(0,u.jsx)(c.Input,{secureTextEntry:!1,testID:"account-generate-amount-input",placeholder:v.formatMessage({id:s.ETranslations.global_generate_amount}),size:k.gtMd?"medium":"large","data-sentry-element":"Input","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/AccountManagerStacks/pages/BatchCreateAccount/BatchCreateAccountFormBase.tsx"})}),(0,u.jsx)(AdvancedSettingsFormField,{form:y,alwaysShowAdvancedSettings:e,isAllNetwork:A,"data-sentry-element":"AdvancedSettingsFormField","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/AccountManagerStacks/pages/BatchCreateAccount/BatchCreateAccountFormBase.tsx"})]})}},670229:(e,t,a)=>{a.r(t),a.d(t,{default:()=>BatchCreateAccountPreview});var r=a(324586),n=a(503668),o=a.n(n),c=a(586330),s=a(514041),i=a(908867),u=a(578104),l=a(490343),p=a(643087),d=a(325809),m=a(575995),g=a(498356),f=a(911998),h=a(162616),w=a(625931),v=a(334439),k=a(296827),y=(a(663522),a(491180)),b=a(825145),A=a(553083),x=a(584186),C=a(714191),S=a(98807),B=a(839850),P=a(849726),j=a(831085),I=["networkId","defaultDeriveType","defaultFrom","defaultCount","onSubmit"];function ownKeys(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function DialogContentView({defaultDeriveType:e,defaultFrom:t,defaultCount:a,networkId:r,onSubmit:n}){var o,i=(0,s.useRef)(void 0);return(0,j.jsxs)(l.Stack,{"data-sentry-element":"Stack","data-sentry-component":"DialogContentView","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/AccountManagerStacks/pages/BatchCreateAccount/PreviewAdvancedDialog.tsx",children:[(0,j.jsx)(S.N,{networkReadyOnly:!0,alwaysShowAdvancedSettings:!0,defaultNetworkId:r,defaultDeriveType:e,defaultFrom:t,defaultCount:a||String(S.Bc),formRef:i,"data-sentry-element":"BatchCreateAccountFormBase","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/AccountManagerStacks/pages/BatchCreateAccount/PreviewAdvancedDialog.tsx"}),(0,j.jsx)(l.Dialog.Footer,{showCancelButton:!1,onConfirm:(o=(0,c.A)((function*({preventClose:e,close:t}){var a;e(),Object.keys(i?.current?.formState?.errors||{}).length>0||(yield i?.current?.handleSubmit((a=(0,c.A)((function*(e){yield n?.(e),yield t()})),function(e){return a.apply(this,arguments)}))())})),function(e){return o.apply(this,arguments)}),"data-sentry-element":"unknown","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/AccountManagerStacks/pages/BatchCreateAccount/PreviewAdvancedDialog.tsx"})]})}function showBatchCreateAccountPreviewAdvancedDialog(e){var{networkId:t,defaultDeriveType:a,defaultFrom:n,defaultCount:o,onSubmit:c}=e,s=(0,B.A)(e,I);l.Dialog.show(function _objectSpread(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(a),!0).forEach((function(t){(0,r.A)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ownKeys(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({title:P.a.intl.formatMessage({id:v.ETranslations.global_advanced}),renderContent:(0,j.jsx)(DialogContentView,{defaultDeriveType:a,defaultFrom:n,defaultCount:o,networkId:t,onSubmit:c})},s))}var M=["page","onSubmit"];function PreviewPageNumberDialog_ownKeys(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function DialogInput({testID:e,value:t,onChange:a,placeholder:r}){return(0,j.jsx)(l.Input,{size:"large",testID:e,$gtMd:{size:"medium"},autoFocus:!0,selectTextOnFocus:!0,value:t,placeholder:r,onChangeText:a,"data-sentry-element":"Input","data-sentry-component":"DialogInput","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/AccountManagerStacks/pages/BatchCreateAccount/PreviewPageNumberDialog.tsx"})}function showBatchCreateAccountPreviewPageNumberDialog(e){var t,{page:a,onSubmit:n}=e,o=(0,B.A)(e,M);l.Dialog.show(function PreviewPageNumberDialog_objectSpread(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?PreviewPageNumberDialog_ownKeys(Object(a),!0).forEach((function(t){(0,r.A)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):PreviewPageNumberDialog_ownKeys(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({title:P.a.intl.formatMessage({id:v.ETranslations.global_bulk_accounts_page_number}),renderContent:(0,j.jsx)(l.Dialog.Form,{formProps:{values:{page:a}},children:(0,j.jsx)(l.Dialog.FormField,{name:"page",rules:{required:!0},children:(0,j.jsx)(DialogInput,{testID:"batch-create-account-preview-page-number-input",placeholder:String(a)})})}),onConfirm:(t=(0,c.A)((function*({getForm:e,close:t}){var a=e();yield n(a?.getValues()),yield t()})),function onConfirm(e){return t.apply(this,arguments)})},o))}var D=a(107442);function BatchCreateAccountPreview_ownKeys(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function BatchCreateAccountPreview_objectSpread(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?BatchCreateAccountPreview_ownKeys(Object(a),!0).forEach((function(t){(0,r.A)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):BatchCreateAccountPreview_ownKeys(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function DeriveTypeTrigger({onPress:e}){return(0,j.jsx)(l.XStack,{role:"button",userSelect:"none",alignItems:"center",px:"$2",py:"$2",borderRadius:"$full",hoverStyle:{bg:"$bgHover"},pressStyle:{bg:"$bgActive"},onPress:e,"data-sentry-element":"XStack","data-sentry-component":"DeriveTypeTrigger","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/AccountManagerStacks/pages/BatchCreateAccount/BatchCreateAccountPreview.tsx",children:(0,j.jsx)(l.Icon,{name:"BranchesOutline",color:"$iconSubdued",size:"$6","data-sentry-element":"Icon","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/AccountManagerStacks/pages/BatchCreateAccount/BatchCreateAccountPreview.tsx"})})}var T=(0,s.memo)(DeriveTypeTrigger);function BatchCreateAccountPreviewPage({walletId:e,defaultNetworkId:t,defaultFrom:a,defaultCount:r,defaultIsAdvancedMode:n}){var[C,B]=(0,s.useState)(""),[,P]=(0,h.UZ)(),{result:I}=(0,f.yk)((0,c.A)((function*(){var{networkIdsCompatible:t}=yield p.A.serviceNetwork.getNetworkIdsCompatibleWithWalletId({walletId:e});return t})),[e],{initResult:void 0}),[M,O]=(0,s.useState)(t),[_,$]=(0,s.useState)(null!=n&&n),[F,E]=(0,s.useState)(null!=a?a:"1"),[N,z]=(0,s.useState)(null!=r?r:String(S.Bc)),R=(0,s.useMemo)((function(){return _?parseInt(F,10):1}),[F,_]),L=(0,s.useMemo)((function(){return _?parseInt(N,10):2**31}),[N,_]),[V,K]=(0,s.useState)({}),[G,W]=(0,s.useState)({}),H=(0,s.useMemo)((function(){return Object.values(G).filter(Boolean).length}),[G]),[U,q]=(0,s.useState)(1),X=(0,s.useMemo)((function(){return Math.ceil(L/10)}),[L]),[Y,Z]=(0,s.useState)(),[Q,J]=(0,s.useState)(),ee=(0,s.useMemo)((function(){return!A.Ay.getDefaultDeriveTypeVisibleNetworks().includes(M)}),[M]),te=(0,s.useMemo)((function(){if(Q)return Q.find((function(e){return e.value===Y}))}),[Y,Q]),ae=(0,i.A)(),re=(0,l.useMedia)(),ne=(0,g.A)(),oe=(0,s.useCallback)((function(e){if(e=parseInt(String(e),10),Number.isInteger(e))return q(e<1?1:e>X?X:e);l.Toast.error({title:ae.formatMessage({id:v.ETranslations.global_bulk_accounts_page_number_error})})}),[ae,X]),ce=(0,s.useCallback)((function(e){q(1),K({}),W({}),E(e.from),z(e.count),Z(e.deriveType),$(!0)}),[]),se=R-1,ie=se+L-1,ue=(0,s.useRef)(0),{result:le}=(0,f.yk)((function(){return p.A.serviceNetwork.getNetwork({networkId:M})}),[M]),[pe,de]=(0,s.useState)({}),me=(0,s.useRef)(pe);me.current=pe;var ge=(0,s.useRef)(!1),{result:fe=[],isLoading:he,setResult:we}=(0,f.yk)((0,c.A)((function*(){try{if(B(""),k.U.account.accountCreatePerf.createAddressRunStart(),!Y)return[];ue.current+=1;var t=R-1+10*(U-1),a=Math.min(ie,t+10-1),r=yield p.A.serviceBatchCreateAccount.buildIndexesByFromAndTo({fromIndex:t,toIndex:a});y.A.isHwWallet({walletId:e})&&!ge.current&&(ge.current=!0);var{accountsForCreate:n}=yield p.A.serviceBatchCreateAccount.previewBatchBuildAccounts({walletId:e,networkId:M,deriveType:Y,indexes:r,saveToCache:!0});return n}catch(e){throw ue.current,B(e?.message||"Error"),e}finally{k.U.account.accountCreatePerf.createAddressRunFinished()}})),[Y,ie,R,M,U,e],{watchLoading:!0,debounced:300});(0,s.useEffect)((function(){M&&(Z(void 0),we([]))}),[M,we]);var ve=(0,s.useCallback)((function({account:e}){return`${M}--${e.displayAddress||e.address}--${e.xpub}`}),[M]),ke=(0,u.YQ)((0,c.A)((function*(){var e,t=[];for(var a of fe){var r=ve({account:a});o()(me.current[r])&&t.push(a)}if(t.length){var n={};yield Promise.all(t.map((e=(0,c.A)((function*(e){try{var t=yield p.A.serviceAccountProfile.fetchAccountNativeBalance({account:e,networkId:M});n[ve({account:e})]=t.balanceParsed}catch(e){}})),function(t){return e.apply(this,arguments)}))),Object.keys(n).length&&de((function(e){return BatchCreateAccountPreview_objectSpread(BatchCreateAccountPreview_objectSpread({},e),n)}))}})),600);(0,s.useEffect)((function(){fe&&ve&&M&&ke()}),[fe,ve,M,ke]);var ye=(0,s.useCallback)((function({val:e,accountsToSelect:t}){_?(!0===e&&K((function(e){for(var a of t){var r;if(!a.existsInDb)delete e[null!=(r=a.pathIndex)?r:-1]}return BatchCreateAccountPreview_objectSpread({},e)})),!1===e&&K((function(e){var a=BatchCreateAccountPreview_objectSpread({},e);for(var r of t){var n;if(!r.existsInDb)a[null!=(n=r.pathIndex)?n:-1]=!0}return a}))):W((function(a){var r=BatchCreateAccountPreview_objectSpread({},a);for(var n of t){var o;if(!n.existsInDb)r[null!=(o=n.pathIndex)?o:-1]=!!e}return r}))}),[_]),be=(0,s.useCallback)((function(){return(0,j.jsxs)(l.Stack,{flexDirection:"row",alignItems:"center",children:[ee&&te&&Q&&Q?.length>1?(0,j.jsx)(l.Popover,{title:ae.formatMessage({id:v.ETranslations.derivation_path}),renderContent:(0,j.jsxs)(l.Stack,{px:"$4",py:"$5",pt:0,$gtMd:{pt:"$5"},children:[(0,j.jsx)(l.SizableText,{size:"$bodyLg",mb:"$5",children:ae.formatMessage({id:v.ETranslations.global_generate_amount_select_path})}),(0,j.jsx)(l.Divider,{}),(0,j.jsx)(l.Stack,{mt:"$5",children:(0,j.jsx)(l.Select.Item,{label:te.label,description:te.description})})]}),renderTrigger:(0,j.jsx)(T,{})}):null,(0,j.jsx)(m.l$,{visibleOnNetworks:A.Ay.getDefaultDeriveTypeVisibleNetworks(),hideIfItemsLTEOne:!0,value:Y,onItemsChange:J,onChange:function(e){Y!==e&&Z(e)},networkId:M||"",defaultTriggerInputProps:{size:re.gtMd?"medium":"large"},renderTrigger:DeriveTypeTrigger}),(0,j.jsx)(d.YS,{value:M,networkIds:I,onChange:O,excludeAllNetworkItem:!0,miniMode:!0,borderWidth:0,hitSlop:{left:8,top:8,right:8,bottom:8},mr:"$-2",px:"$2",py:"$2",borderRadius:"$full",hoverStyle:{bg:"$bgHover"},pressStyle:{bg:"$bgActive"},$gtMd:{borderRadius:"$full",py:"$2"}})]})}),[te,Y,Q,ae,re.gtMd,M,ee,I]),Ae=(0,s.useMemo)((function(){return _?L-Object.values(V).filter(Boolean).length:H}),[V,L,_,H]),xe=(0,s.useMemo)((function(){return Ae>0?` (${Ae})`:""}),[Ae]),Ce=(0,s.useCallback)((function(e){return M===(0,w.V)().dnx?"":e.relPath?`/${e.relPath.replace(/^\/+/,"")}`:""}),[M]),Se=(0,s.useCallback)((function(e){var t,a,r=null!=(t=e.pathIndex)?t:-1,n=!1;_?(n=!0,!0===V?.[r]&&(n=!1)):n=null!=(a=G[r])&&a;return e.existsInDb&&(n="indeterminate"),n}),[V,_,G]),Be=(0,s.useMemo)((function(){return[{title:ae.formatMessage({id:v.ETranslations.global_generate_amount_number}),titleProps:{size:"$bodyMd",color:"$textDisabled"},columnProps:{flexGrow:2,flexBasis:0},dataIndex:"checkBox",columnWidth:22,render:function(e,t){var a,r=Se(t);return(0,j.jsx)(l.Checkbox,{testID:`batch-create-account-checkbox-${t.pathIndex||""}`,containerProps:{flex:1},disabled:t.existsInDb,value:r,onChange:function(e){ye({val:e,accountsToSelect:[t]})},label:String((null!=(a=t.pathIndex)?a:0)+1),labelProps:{size:"$bodyMd",numberOfLines:10}})}},{title:ae.formatMessage({id:v.ETranslations.global_generate_amount_address}),titleProps:{size:"$bodyMd",color:"$textDisabled"},align:"left",dataIndex:"address",columnProps:{flexGrow:6,flexBasis:0},render:function(e,t){return(0,j.jsxs)(l.YStack,{py:"$1",children:[(0,j.jsx)(l.SizableText,{size:"$bodyMd",children:y.A.shortenAddress({address:t.displayAddress||t.address})}),(0,j.jsxs)(l.SizableText,{size:"$bodyMd",color:"$textSubdued",children:[t.path,Ce(t)]})]})}},{title:ae.formatMessage({id:v.ETranslations.global_generate_amount_balance}),titleProps:{size:"$bodyMd",color:"$textDisabled"},align:"right",dataIndex:"balance",columnProps:{flexGrow:2,flexBasis:0},render:function(e,t){var a;return(0,j.jsx)(l.NumberSizeableText,{size:"$bodyMd",formatter:"balance",style:{textAlign:"right",wordBreak:"break-all"},formatterOptions:{tokenSymbol:le?.symbol},children:null!=(a=pe[ve({account:t})])?a:"-"})}}]}),[pe,ve,Ce,Se,ae,le?.symbol,ye]),Pe=(0,s.useCallback)((function(e){return{onPress:function(){var t=Se(e);"indeterminate"!==t&&ye({val:!t,accountsToSelect:[e]})}}}),[Se,ye]),je=(0,s.useMemo)((function(){return[H,pe]}),[H,pe]);return(0,j.jsxs)(l.Page,{scrollEnabled:!0,safeAreaEnabled:!0,"data-sentry-element":"Page","data-sentry-component":"BatchCreateAccountPreviewPage","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/AccountManagerStacks/pages/BatchCreateAccount/BatchCreateAccountPreview.tsx",children:[(0,j.jsx)(l.Page.Header,{title:ae.formatMessage({id:v.ETranslations.send_preview_button}),dismissOnOverlayPress:!1,headerRight:be,"data-sentry-element":"unknown","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/AccountManagerStacks/pages/BatchCreateAccount/BatchCreateAccountPreview.tsx"}),(0,j.jsx)(l.Page.Body,{"data-sentry-element":"unknown","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/AccountManagerStacks/pages/BatchCreateAccount/BatchCreateAccountPreview.tsx",children:(0,j.jsx)(l.Table,{onRow:Pe,rowProps:{gap:"$4",px:"$3",mx:"$2",minHeight:"$12"},estimatedItemSize:"$12",headerRowProps:{py:"$2",minHeight:36},dataSource:he?[]:fe,columns:Be,TableEmptyComponent:(0,j.jsx)(l.Stack,{testID:"batch-create-account-preview-loading-icon",py:"$20",flexDirection:"column",justifyContent:"center",alignItems:"center",children:C?(0,j.jsx)(l.SizableText,{color:"$textCaution",children:C}):(0,j.jsx)(l.Spinner,{size:"large"})}),extraData:je,"data-sentry-element":"Table","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/AccountManagerStacks/pages/BatchCreateAccount/BatchCreateAccountPreview.tsx"})}),(0,j.jsx)(l.Page.Footer,{"data-sentry-element":"unknown","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/AccountManagerStacks/pages/BatchCreateAccount/BatchCreateAccountPreview.tsx",children:(0,j.jsx)(l.Page.FooterActions,{onConfirmText:`${ae.formatMessage({id:v.ETranslations.global_confirm})}${xe}`,confirmButtonProps:{disabled:!!he||Ae<=0},onConfirm:(0,c.A)((function*(){if(Y){var t,a;if(B(""),_?t={walletId:e,networkId:M,deriveType:Y,fromIndex:se,toIndex:ie,excludedIndexes:V,saveToDb:!0,hideCheckingDeviceLoading:!0,showUIProgress:!0}:a={walletId:e,networkId:M,deriveType:Y,indexes:Object.entries(G).filter((function([,e]){return e})).map((function([e]){return parseInt(e,10)})),saveToDb:!0,hideCheckingDeviceLoading:!0,showUIProgress:!0},!a&&!t)throw new Error("startBatchCreateAccountsFlow params is undefined");(0,D.g)({navigation:ne}),yield x.A.wait(600);try{var r=yield p.A.serviceBatchCreateAccount.startBatchCreateAccountsFlow(_?{mode:"advanced",saveToCache:!0,params:(0,b.wT)(t)}:{mode:"normal",saveToCache:!0,params:(0,b.wT)(a)});r?.accountsForCreate&&P(!1)}catch(e){throw e}}})),"data-sentry-element":"unknown","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/AccountManagerStacks/pages/BatchCreateAccount/BatchCreateAccountPreview.tsx",children:(0,j.jsxs)(l.Stack,{$gtMd:{mr:"$3",flex:1},$md:{mb:"$3"},flexDirection:"row",alignItems:"center","data-sentry-element":"Stack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/AccountManagerStacks/pages/BatchCreateAccount/BatchCreateAccountPreview.tsx",children:[(0,j.jsx)(l.Stack,{"data-sentry-element":"Stack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/AccountManagerStacks/pages/BatchCreateAccount/BatchCreateAccountPreview.tsx",children:(0,j.jsx)(l.Checkbox,{onChange:function(e){ye({val:e,accountsToSelect:fe})},label:ae.formatMessage({id:v.ETranslations.global_generate_amount_select}),value:function(){var e=fe.filter((function(e){return!e.existsInDb}));if(0===e.length)return"indeterminate";if(_){var t=e.filter((function(e){var t;return!0===V?.[null!=(t=e.pathIndex)?t:-1]}));return 0===t.length||t.length!==e.length&&"indeterminate"}var a=e.filter((function(e){var t;return!0===G[null!=(t=e.pathIndex)?t:-1]}));return 0!==a.length&&(a.length===e.length||"indeterminate")}(),"data-sentry-element":"Checkbox","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/AccountManagerStacks/pages/BatchCreateAccount/BatchCreateAccountPreview.tsx"})}),(0,j.jsx)(l.Stack,{flex:1,"data-sentry-element":"Stack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/AccountManagerStacks/pages/BatchCreateAccount/BatchCreateAccountPreview.tsx"}),(0,j.jsx)(l.IconButton,{icon:"SliderThreeOutline",mr:"$3",borderRadius:"$2",onPress:(0,c.A)((function*(){showBatchCreateAccountPreviewAdvancedDialog({networkId:M,defaultFrom:F,defaultCount:N,defaultDeriveType:Y,onSubmit:e=>(0,c.A)((function*(){e&&ce(e)}))()})})),"data-sentry-element":"IconButton","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/AccountManagerStacks/pages/BatchCreateAccount/BatchCreateAccountPreview.tsx"}),(0,j.jsxs)(l.ButtonGroup,{disabled:he,"data-sentry-element":"ButtonGroup","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/AccountManagerStacks/pages/BatchCreateAccount/BatchCreateAccountPreview.tsx",children:[(0,j.jsx)(l.ButtonGroup.Item,{testID:"batch-create-account-preview-page-prev",opacity:1,onPress:function(){oe(Math.max(1,U-1))},maxWidth:42,disabled:U<2,"data-sentry-element":"unknown","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/AccountManagerStacks/pages/BatchCreateAccount/BatchCreateAccountPreview.tsx",children:(0,j.jsx)(l.Icon,{name:"ChevronLeftSmallOutline",ml:"$1",size:"$5",style:{transform:"scale(1.4)"},opacity:U<2||he?.5:void 0,"data-sentry-element":"Icon","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/AccountManagerStacks/pages/BatchCreateAccount/BatchCreateAccountPreview.tsx"})}),(0,j.jsx)(l.ButtonGroup.Item,{testID:"batch-create-account-preview-page-number",opacity:1,onPress:function(){var e;showBatchCreateAccountPreviewPageNumberDialog({page:U,confirmButtonProps:{testID:"batch-create-account-preview-page-number-confirm-button"},onSubmit:(e=(0,c.A)((function*(e){o()(e?.page)||oe(e.page)})),function onSubmit(t){return e.apply(this,arguments)})})},"data-sentry-element":"unknown","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/AccountManagerStacks/pages/BatchCreateAccount/BatchCreateAccountPreview.tsx",children:(0,j.jsx)(l.Stack,{height:38,justifyContent:"center","data-sentry-element":"Stack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/AccountManagerStacks/pages/BatchCreateAccount/BatchCreateAccountPreview.tsx",children:(0,j.jsx)(l.SizableText,{lineHeight:38,opacity:he?.5:void 0,size:"$bodyLgMedium","data-sentry-element":"SizableText","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/AccountManagerStacks/pages/BatchCreateAccount/BatchCreateAccountPreview.tsx",children:U})})}),(0,j.jsx)(l.ButtonGroup.Item,{testID:"batch-create-account-preview-page-next",opacity:1,onPress:function(){oe(U+1)},maxWidth:42,"data-sentry-element":"unknown","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/AccountManagerStacks/pages/BatchCreateAccount/BatchCreateAccountPreview.tsx",children:(0,j.jsx)(l.Icon,{style:{transform:"scale(1.4)"},name:"ChevronRightSmallOutline",mr:"$1",opacity:he?.5:void 0,"data-sentry-element":"Icon","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/AccountManagerStacks/pages/BatchCreateAccount/BatchCreateAccountPreview.tsx"})})]})]})})})]})}function BatchCreateAccountPreview({route:e}){var{walletId:t,networkId:a,from:r,count:n}=e.params;return(0,j.jsx)(d.b8,{enabledNum:[0],config:{sceneName:C.Zs.home,sceneUrl:""},"data-sentry-element":"AccountSelectorProviderMirror","data-sentry-component":"BatchCreateAccountPreview","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/AccountManagerStacks/pages/BatchCreateAccount/BatchCreateAccountPreview.tsx",children:(0,j.jsx)(BatchCreateAccountPreviewPage,{walletId:t,defaultNetworkId:a,defaultCount:n,defaultFrom:r,"data-sentry-element":"BatchCreateAccountPreviewPage","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/AccountManagerStacks/pages/BatchCreateAccount/BatchCreateAccountPreview.tsx"})})}},107442:(e,t,a)=>{a.d(t,{g:()=>showBatchCreateAccountProcessingDialog});var r=a(324586),n=a(839850),o=a(586330),c=a(514041),s=a(908867),i=a(490343),u=a(643087),l=a(318822),p=a(334439),d=(a(663522),a(831085)),m=["navigation","allNetworkInfo"];function ownKeys(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function ProcessingDialogContent({navigation:e,allNetworkInfo:t}){var a,r,n,m,g=(0,s.A)(),[f,h]=(0,c.useState)(void 0),w=(0,c.useMemo)((function(){return Boolean(f&&f?.progressCurrent===f?.progressTotal)}),[f]),v=(0,c.useMemo)((function(){return Boolean(f&&!!f?.error)}),[f]),[k,y]=(0,c.useState)(!1);(0,c.useEffect)((function(){var cb=function(e){h(e)};return l.iL.on(l.Tu.BatchCreateAccount,cb),function(){l.iL.off(l.Tu.BatchCreateAccount,cb)}}),[]);var b,A=w||k||v;return(0,d.jsxs)(i.Stack,{"data-sentry-element":"Stack","data-sentry-component":"ProcessingDialogContent","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/AccountManagerStacks/pages/BatchCreateAccount/ProcessingDialog.tsx",children:[(0,d.jsx)(i.Stack,{py:"$2.5",px:"$5",gap:"$5",flex:1,alignItems:"center",justifyContent:"center","data-sentry-element":"Stack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/AccountManagerStacks/pages/BatchCreateAccount/ProcessingDialog.tsx",children:(0,d.jsxs)(i.Stack,{flex:1,alignItems:"center",justifyContent:"center",alignSelf:"center",w:"100%",maxWidth:"$80","data-sentry-element":"Stack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/AccountManagerStacks/pages/BatchCreateAccount/ProcessingDialog.tsx",children:[w?(0,d.jsx)(i.Icon,{name:"CheckRadioSolid",size:"$12",color:"$iconSuccess"}):null,!k&&!v||w?null:(0,d.jsx)(i.Icon,{name:"XCircleSolid",size:"$12",color:"$iconCritical"}),A?null:(0,d.jsx)(i.Progress,{mt:"$4",w:"100%",size:"medium",value:Math.ceil((null!=(a=f?.progressCurrent)?a:0)/(null!=(r=f?.progressTotal)?r:1)*100)}),(0,d.jsx)(i.SizableText,{mt:"$5",size:"$bodyLg",textAlign:"center","data-sentry-element":"SizableText","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/AccountManagerStacks/pages/BatchCreateAccount/ProcessingDialog.tsx",children:g.formatMessage({id:p.ETranslations.global_bulk_accounts_loading},{amount:null!=(n=f?.progressCurrent)?n:0})}),t?(0,d.jsx)(i.SizableText,{size:"$bodyLg",textAlign:"center",children:g.formatMessage({id:p.ETranslations.global_bulk_accounts_loading_subtitle},{amount:null!=(m=t.count)?m:0})}):null,null]})}),(0,d.jsx)(i.Dialog.Footer,{showCancelButton:!1,showConfirmButton:!0,confirmButtonProps:{variant:A?"primary":"secondary",testID:"process-dialog-confirm-button"},onConfirmText:A?g.formatMessage({id:p.ETranslations.global_done}):g.formatMessage({id:p.ETranslations.global_cancel}),onConfirm:A?(0,o.A)((function*(){k||e?.popStack(),yield u.A.serviceBatchCreateAccount.cancelBatchCreateAccountsFlow()})):(b=(0,o.A)((function*({preventClose:e}){e(),y(!0),yield u.A.serviceBatchCreateAccount.cancelBatchCreateAccountsFlow()})),function(e){return b.apply(this,arguments)}),"data-sentry-element":"unknown","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/AccountManagerStacks/pages/BatchCreateAccount/ProcessingDialog.tsx"})]})}function showBatchCreateAccountProcessingDialog(e){var{navigation:t,allNetworkInfo:a}=e,o=(0,n.A)(e,m);i.Dialog.show(function _objectSpread(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(a),!0).forEach((function(t){(0,r.A)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ownKeys(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({showExitButton:!1,dismissOnOverlayPress:!1,onCancel(){u.A.serviceBatchCreateAccount.cancelBatchCreateAccountsFlow()},onClose(){u.A.serviceBatchCreateAccount.cancelBatchCreateAccountsFlow()},renderContent:(0,d.jsx)(ProcessingDialogContent,{allNetworkInfo:a,navigation:t})},o))}}}]);
//# sourceMappingURL=70229.8fc039eebb.chunk.js.map