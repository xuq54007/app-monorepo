{"version":3,"file":"static/js/58462.c8993e19ec.chunk.js","mappings":"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","sources":["webpack://web/../../node_modules/@onekeyfe/coinselect/utils.js","webpack://web/../../packages/core/src/base/ChainSigner.ts","webpack://web/../../packages/core/src/base/CoreChainApiBase.ts","webpack://web/../../node_modules/@benfen/bfc.js/dist/esm/cryptography/keypair.js","webpack://web/../../node_modules/@benfen/bfc.js/node_modules/@scure/bip39/esm/index.js","webpack://web/../../node_modules/@benfen/bfc.js/dist/esm/cryptography/mnemonics.js","webpack://web/../../node_modules/@benfen/bfc.js/dist/esm/keypairs/ed25519/ed25519-hd-key.js","webpack://web/../../node_modules/@benfen/bfc.js/dist/esm/keypairs/ed25519/keypair.js","webpack://web/../../packages/core/src/chains/bfc/CoreChainSoftware.ts","webpack://web/../../packages/core/src/utils/index.ts","webpack://web/../../packages/kit-bg/src/vaults/base/KeyringBase.ts","webpack://web/../../packages/kit-bg/src/vaults/base/KeyringExternalBase.ts","webpack://web/../../packages/kit-bg/src/vaults/base/KeyringHardwareBase.ts","webpack://web/../../packages/kit-bg/src/vaults/base/KeyringHdBase.ts","webpack://web/../../packages/kit-bg/src/vaults/base/KeyringImportedBase.ts","webpack://web/../../packages/kit-bg/src/vaults/base/KeyringSoftwareBase.ts","webpack://web/../../packages/kit-bg/src/vaults/base/KeyringWatchingBase.ts","webpack://web/../../packages/kit-bg/src/vaults/base/VaultBase.ts","webpack://web/../../packages/kit-bg/src/vaults/base/VaultContext.ts","webpack://web/../../packages/kit-bg/src/vaults/impls/bfc/KeyringExternal.ts","webpack://web/../../packages/kit-bg/src/vaults/impls/bfc/sdkBfc/utils.ts","webpack://web/../../packages/kit-bg/src/vaults/impls/bfc/sdkBfc/transactions.ts","webpack://web/../../packages/kit-bg/src/vaults/impls/bfc/KeyringHardware.ts","webpack://web/../../packages/kit-bg/src/vaults/impls/bfc/KeyringHd.ts","webpack://web/../../packages/kit-bg/src/vaults/impls/bfc/KeyringImported.ts","webpack://web/../../packages/kit-bg/src/vaults/impls/bfc/KeyringWatching.ts","webpack://web/../../packages/kit-bg/src/vaults/impls/bfc/sdkBfc/BFCTransport.ts","webpack://web/../../node_modules/@benfen/bfc.js/dist/esm/utils/benfenns.js","webpack://web/../../node_modules/@benfen/bfc.js/dist/esm/version.js","webpack://web/../../node_modules/@benfen/bfc.js/dist/esm/client/errors.js","webpack://web/../../node_modules/@benfen/bfc.js/dist/esm/client/rpc-websocket-client.js","webpack://web/../../node_modules/@benfen/bfc.js/dist/esm/client/http-transport.js","webpack://web/../../node_modules/@benfen/bfc.js/dist/esm/client/client.js","webpack://web/../../packages/kit-bg/src/vaults/impls/bfc/sdkBfc/ClientBfc.ts","webpack://web/../../packages/kit-bg/src/vaults/impls/bfc/Vault.ts","webpack://web/../../packages/kit-bg/src/vaults/types.ts","webpack://web/../../node_modules/@benfen/bfc.js/dist/esm/cryptography/intent.js","webpack://web/../../node_modules/@benfen/bfc.js/dist/esm/cryptography/publickey.js","webpack://web/../../node_modules/@benfen/bfc.js/dist/esm/cryptography/signature-scheme.js","webpack://web/../../node_modules/@benfen/bfc.js/dist/esm/zklogin/helper/jwt-utils.js","webpack://web/../../node_modules/@benfen/bfc.js/dist/esm/zklogin/helper/bcs.js","webpack://web/../../node_modules/@benfen/bfc.js/dist/esm/zklogin/helper/utils.js","webpack://web/../../node_modules/@benfen/bfc.js/dist/esm/zklogin/helper/publickey.js","webpack://web/../../node_modules/@benfen/bfc.js/dist/esm/zklogin/helper/signature.js","webpack://web/../../node_modules/@benfen/bfc.js/dist/esm/cryptography/signature.js","webpack://web/../../node_modules/@benfen/bfc.js/dist/esm/keypairs/ed25519/publickey.js","webpack://web/../../node_modules/@noble/hashes/esm/pbkdf2.js","webpack://web/../../node_modules/@noble/hashes/esm/sha512.js"],"sourcesContent":["// baseline estimates, used to improve performance\nvar TX_EMPTY_SIZE = 4 + 1 + 1 + 4\nvar TX_INPUT_BASE = 32 + 4 + 1 + 4\nvar TX_INPUT_PUBKEYHASH = 107\nvar TX_OUTPUT_BASE = 8 + 1\nvar TX_OUTPUT_PUBKEYHASH = 25\nvar OP_RETURN_OVERHEAD = 1 + 8 + 1\n\nfunction inputBytes (input) {\n  return TX_INPUT_BASE + (input.script ? input.script.length : TX_INPUT_PUBKEYHASH)\n}\n\nfunction outputBytes (output) {\n  if (output.script) {\n    return OP_RETURN_OVERHEAD + output.script.length + (output.script.length >= 74 ? 2 : 1)\n  }\n  return TX_OUTPUT_BASE + (output.script ? output.script.length : TX_OUTPUT_PUBKEYHASH)\n}\n\nfunction dustThreshold (output, feeRate) {\n  /* ... classify the output for input estimate  */\n  return inputBytes({}) * feeRate\n}\n\nfunction transactionBytes (inputs, outputs) {\n  return TX_EMPTY_SIZE +\n    inputs.reduce(function (a, x) { return a + inputBytes(x) }, 0) +\n    outputs.reduce(function (a, x) { return a + outputBytes(x) }, 0)\n}\n\nfunction uintOrNaN (v) {\n  if (typeof v !== 'number') return NaN\n  if (!isFinite(v)) return NaN\n  if (Math.floor(v) !== v) return NaN\n  if (v < 0) return NaN\n  return v\n}\n\nfunction sumForgiving (range) {\n  return range.reduce(function (a, x) { return a + (isFinite(x.value) ? x.value : 0) }, 0)\n}\n\nfunction sumOrNaN (range) {\n  return range.reduce(function (a, x) { return a + uintOrNaN(x.value) }, 0)\n}\n\nvar BLANK_OUTPUT = outputBytes({})\n\nfunction finalize (inputs, outputs, feeRate) {\n  var bytesAccum = transactionBytes(inputs, outputs)\n  var feeAfterExtraOutput = feeRate * (bytesAccum + BLANK_OUTPUT)\n  var remainderAfterExtraOutput = sumOrNaN(inputs) - (sumOrNaN(outputs) + feeAfterExtraOutput)\n\n  // is it worth a change output?\n  if (remainderAfterExtraOutput > dustThreshold({}, feeRate)) {\n    outputs = outputs.concat({ value: remainderAfterExtraOutput })\n  }\n\n  var fee = sumOrNaN(inputs) - sumOrNaN(outputs)\n  if (!isFinite(fee)) return { fee: feeRate * bytesAccum }\n\n  return {\n    inputs: inputs,\n    outputs: outputs,\n    fee: fee\n  }\n}\n\nmodule.exports = {\n  dustThreshold: dustThreshold,\n  finalize: finalize,\n  inputBytes: inputBytes,\n  outputBytes: outputBytes,\n  sumOrNaN: sumOrNaN,\n  sumForgiving: sumForgiving,\n  transactionBytes: transactionBytes,\n  uintOrNaN: uintOrNaN\n}\n","import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import bufferUtils from'@onekeyhq/shared/src/utils/bufferUtils';import{N,decrypt,sign as _sign,uncompressPublicKey,verify}from\"../secret\";export var Verifier=function(){function Verifier(pub,curve){this.curve=curve;this.compressedPublicKey=Buffer.from(pub,'hex');this.uncompressedPublicKey=uncompressPublicKey(curve,this.compressedPublicKey);}var _proto=Verifier.prototype;_proto.getPubkey=function getPubkey(compressed){return Promise.resolve(compressed?this.compressedPublicKey:this.uncompressedPublicKey);};_proto.getPubkeyHex=function(){var _getPubkeyHex=_asyncToGenerator(function*(compressed){return bufferUtils.bytesToHex(yield this.getPubkey(compressed));});function getPubkeyHex(_x){return _getPubkeyHex.apply(this,arguments);}return getPubkeyHex;}();_proto.verify=function verify(){return Promise.resolve(Buffer.from([]));};_proto.verifySignature=function verifySignature({publicKey,digest,signature}){var p=bufferUtils.toBuffer(publicKey);var d=bufferUtils.toBuffer(digest);var s=bufferUtils.toBuffer(signature);var{curve}=this;var result=verify(curve,p,d,s);return Promise.resolve(result);};return _createClass(Verifier);}();export var ChainSigner=function(_Verifier){_inherits(ChainSigner,_Verifier);var _super=_createSuper(ChainSigner);function ChainSigner(encryptedPrivateKey,password,curve){var _this;var pub=N(curve,{key:encryptedPrivateKey,chainCode:Buffer.alloc(32)},password).key.toString('hex');_this=_super.call(this,pub,curve);_this.encryptedPrivateKey=encryptedPrivateKey;_this.password=password;_this.curve=curve;return _this;}var _proto2=ChainSigner.prototype;_proto2.getPrvkey=function getPrvkey(){return Promise.resolve(decrypt(this.password,this.encryptedPrivateKey));};_proto2.getPrvkeyHex=function(){var _getPrvkeyHex=_asyncToGenerator(function*(){return bufferUtils.bytesToHex(yield this.getPrvkey());});function getPrvkeyHex(){return _getPrvkeyHex.apply(this,arguments);}return getPrvkeyHex;}();_proto2.sign=function sign(digest){var signature=_sign(this.curve,this.encryptedPrivateKey,digest,this.password);if(this.curve==='secp256k1'){return Promise.resolve([signature.slice(0,-1),signature[signature.length-1]]);}return Promise.resolve([signature,0]);};return _createClass(ChainSigner);}(Verifier);","import _merge from\"lodash/merge\";import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}import{NotImplemented,OneKeyInternalError}from'@onekeyhq/shared/src/errors';import bufferUtils from'@onekeyhq/shared/src/utils/bufferUtils';import{batchGetPrivateKeys,batchGetPublicKeysAsync,decrypt,decryptImportedCredential,ed25519,encrypt,nistp256,secp256k1}from\"../secret\";import{ECoreCredentialType}from\"../types\";import{slicePathTemplate}from\"../utils\";import{ChainSigner}from\"./ChainSigner\";export var CoreChainApiBase=function(){function CoreChainApiBase(){}var _proto=CoreChainApiBase.prototype;_proto.baseGetCurve=function baseGetCurve(curveName){switch(curveName){case'ed25519':return ed25519;case'secp256k1':return secp256k1;case'nistp256':return nistp256;default:throw new OneKeyInternalError('Unsupported curve');}};_proto.baseCreateSigner=function(){var _baseCreateSigner=_asyncToGenerator(function*({curve,privateKey,password}){if(typeof password==='undefined'){throw new OneKeyInternalError('Software signing requires a password.');}var privateKeyBuffer=bufferUtils.toBuffer(privateKey);return Promise.resolve(new ChainSigner(privateKeyBuffer,password,curve));});function baseCreateSigner(_x){return _baseCreateSigner.apply(this,arguments);}return baseCreateSigner;}();_proto.baseGetSingleSigner=function(){var _baseGetSingleSigner=_asyncToGenerator(function*({payload,curve}){var privateKeys=yield this.getPrivateKeys(payload);var accountPath=payload.account.path;var privateKey=privateKeys[accountPath];var firstRelPath=payload?.relPaths?.[0];if(!privateKey&&firstRelPath){var fullPath=[accountPath,firstRelPath].join('/');privateKey=privateKeys[fullPath];}if(!privateKey){throw new Error(`No private key found: ${accountPath}`);}return this.baseCreateSigner({curve,privateKey,password:payload.password});});function baseGetSingleSigner(_x2){return _baseGetSingleSigner.apply(this,arguments);}return baseGetSingleSigner;}();_proto.baseGetPrivateKeys=function(){var _baseGetPrivateKeys=_asyncToGenerator(function*({payload,curve}){var{credentials,account,password,relPaths}=payload;var privateKeys={};if(credentials.hd&&credentials.imported){throw new OneKeyInternalError('getPrivateKeys ERROR: hd and imported credentials can NOT both set.');}if(credentials.hd){privateKeys=yield this.baseGetPrivateKeysHd({curve,account,hdCredential:credentials.hd,password,relPaths});}if(credentials.imported){var{privateKey:p}=decryptImportedCredential({password,credential:credentials.imported});var encryptPrivateKey=bufferUtils.bytesToHex(encrypt(password,p));privateKeys[account.path]=encryptPrivateKey;privateKeys['']=encryptPrivateKey;}if(!Object.keys(privateKeys).length){throw new Error('No private keys found');}return privateKeys;});function baseGetPrivateKeys(_x3){return _baseGetPrivateKeys.apply(this,arguments);}return baseGetPrivateKeys;}();_proto.baseGetPrivateKeysHd=function(){var _baseGetPrivateKeysHd=_asyncToGenerator(function*({curve,password,account,relPaths,hdCredential}){var{path}=account;var pathComponents=path.split('/');var usedRelativePaths=relPaths||[pathComponents.pop()];var basePath=pathComponents.join('/');if(usedRelativePaths.length===0){throw new OneKeyInternalError('getPrivateKeysHd ERROR: relPaths is empty.');}var keys=batchGetPrivateKeys(curve,hdCredential,password,basePath,usedRelativePaths);var map=keys.reduce(function(ret,key){var result=_objectSpread(_objectSpread({},ret),{},{[key.path]:bufferUtils.bytesToHex(key.extendedKey.key)});return result;},{});return map;});function baseGetPrivateKeysHd(_x4){return _baseGetPrivateKeysHd.apply(this,arguments);}return baseGetPrivateKeysHd;}();_proto.baseGetAddressesFromHd=function(){var _baseGetAddressesFromHd=_asyncToGenerator(function*(query,options){var _this=this;var{curve,generateFrom}=options;var{template,hdCredential,password,indexes}=query;var{pathPrefix,pathSuffix}=slicePathTemplate(template);var indexFormatted=indexes.map(function(index){return pathSuffix.replace('{index}',index.toString());});var isPrivateKeyMode=generateFrom==='privateKey';var pubkeyInfos=[];var pvtkeyInfos=[];if(isPrivateKeyMode){pvtkeyInfos=batchGetPrivateKeys(curve,hdCredential,password,pathPrefix,indexFormatted);}else{pubkeyInfos=yield batchGetPublicKeysAsync({curveName:curve,hdCredential,password,prefix:pathPrefix,relPaths:indexFormatted});}var infos=isPrivateKeyMode?pvtkeyInfos:pubkeyInfos;if(infos.length!==indexes.length){throw new OneKeyInternalError('Unable to get publick key.');}var addresses=yield Promise.all(infos.map(function(){var _ref=_asyncToGenerator(function*(info){var{path,extendedKey:{key}}=info;var publicKey;var result;if(isPrivateKeyMode){var privateKeyRaw=bufferUtils.bytesToHex(decrypt(password,key));result=yield _this.getAddressFromPrivate({networkInfo:query.networkInfo,privateKeyRaw,privateKeyInfo:info});}else{publicKey=key.toString('hex');result=yield _this.getAddressFromPublic({networkInfo:query.networkInfo,publicKey,publicKeyInfo:info});}return _merge({publicKey,path},result);});return function(_x7){return _ref.apply(this,arguments);};}()));return{addresses};});function baseGetAddressesFromHd(_x5,_x6){return _baseGetAddressesFromHd.apply(this,arguments);}return baseGetAddressesFromHd;}();_proto.baseGetCredentialsType=function baseGetCredentialsType({credentials}){if(credentials.hd&&credentials.imported){throw new OneKeyInternalError('getCredentialsType ERROR: hd and imported credentials can NOT both set.');}if(credentials.hd){return ECoreCredentialType.hd;}if(credentials.imported){return ECoreCredentialType.imported;}throw new OneKeyInternalError('getCredentialsType ERROR: no credentials found');};_proto.baseGetDefaultPrivateKey=function(){var _baseGetDefaultPrivateKey=_asyncToGenerator(function*(params){var privateKeysMap=yield this.getPrivateKeys(params);var[encryptedPrivateKey]=Object.values(privateKeysMap);return{privateKeyRaw:encryptedPrivateKey};});function baseGetDefaultPrivateKey(_x8){return _baseGetDefaultPrivateKey.apply(this,arguments);}return baseGetDefaultPrivateKey;}();_proto.validateXpub=function(){var _validateXpub=_asyncToGenerator(function*(params){throw new NotImplemented();});function validateXpub(_x9){return _validateXpub.apply(this,arguments);}return validateXpub;}();_proto.validateXprvt=function(){var _validateXprvt=_asyncToGenerator(function*(params){throw new NotImplemented();});function validateXprvt(_x10){return _validateXprvt.apply(this,arguments);}return validateXprvt;}();return _createClass(CoreChainApiBase);}();","import { blake2b } from \"@noble/hashes/blake2b\";\nimport { bech32 } from \"bech32\";\nimport { bcs } from \"../bcs/index.js\";\nimport { toB64 } from \"../bcs/src/index.js\";\nimport { IntentScope, messageWithIntent } from \"./intent.js\";\nimport { SIGNATURE_FLAG_TO_SCHEME, SIGNATURE_SCHEME_TO_FLAG } from \"./signature-scheme.js\";\nimport { toSerializedSignature } from \"./signature.js\";\nconst PRIVATE_KEY_SIZE = 32;\nconst LEGACY_PRIVATE_KEY_SIZE = 64;\nconst BENFEN_PRIVATE_KEY_PREFIX = \"benfenprivkey\";\nclass Signer {\n  /**\n   * Sign messages with a specific intent. By combining the message bytes with the intent before hashing and signing,\n   * it ensures that a signed message is tied to a specific purpose and domain separator is provided\n   */\n  async signWithIntent(bytes, intent) {\n    const intentMessage = messageWithIntent(intent, bytes);\n    const digest = blake2b(intentMessage, { dkLen: 32 });\n    const signature = toSerializedSignature({\n      signature: await this.sign(digest),\n      signatureScheme: this.getKeyScheme(),\n      publicKey: this.getPublicKey()\n    });\n    return {\n      signature,\n      bytes: toB64(bytes)\n    };\n  }\n  /**\n   * Signs provided transaction block by calling `signWithIntent()` with a `TransactionData` provided as intent scope\n   */\n  async signTransactionBlock(bytes) {\n    return this.signWithIntent(bytes, IntentScope.TransactionData);\n  }\n  /**\n   * Signs provided personal message by calling `signWithIntent()` with a `PersonalMessage` provided as intent scope\n   */\n  async signPersonalMessage(bytes) {\n    return this.signWithIntent(\n      bcs.vector(bcs.u8()).serialize(bytes).toBytes(),\n      IntentScope.PersonalMessage\n    );\n  }\n  toHexAddress() {\n    return this.getPublicKey().toHexAddress();\n  }\n}\nclass Keypair extends Signer {\n  /**\n   * @deprecated use {@link Keypair.getSecretKey} instead\n   * This returns an exported keypair object, schema is the signature\n   * scheme name, and the private key field is a Bech32 encoded string\n   * of 33-byte `flag || private_key` that starts with `benfenprivkey`.\n   */\n  export() {\n    return {\n      schema: this.getKeyScheme(),\n      privateKey: this.getSecretKey()\n    };\n  }\n}\nfunction decodeBenfenPrivateKey(value) {\n  const { prefix, words } = bech32.decode(value);\n  if (prefix !== BENFEN_PRIVATE_KEY_PREFIX) {\n    throw new Error(\"invalid private key prefix\");\n  }\n  const extendedSecretKey = new Uint8Array(bech32.fromWords(words));\n  const secretKey = extendedSecretKey.slice(1);\n  const signatureScheme = SIGNATURE_FLAG_TO_SCHEME[extendedSecretKey[0]];\n  return {\n    schema: signatureScheme,\n    secretKey\n  };\n}\nfunction encodeBenfenPrivateKey(bytes, scheme) {\n  if (bytes.length !== PRIVATE_KEY_SIZE) {\n    throw new Error(\"Invalid bytes length\");\n  }\n  const flag = SIGNATURE_SCHEME_TO_FLAG[scheme];\n  const privKeyBytes = new Uint8Array(bytes.length + 1);\n  privKeyBytes.set([flag]);\n  privKeyBytes.set(bytes, 1);\n  return bech32.encode(BENFEN_PRIVATE_KEY_PREFIX, bech32.toWords(privKeyBytes));\n}\nexport {\n  BENFEN_PRIVATE_KEY_PREFIX,\n  Keypair,\n  LEGACY_PRIVATE_KEY_SIZE,\n  PRIVATE_KEY_SIZE,\n  Signer,\n  decodeBenfenPrivateKey,\n  encodeBenfenPrivateKey\n};\n//# sourceMappingURL=keypair.js.map\n","/*! scure-bip39 - MIT License (c) 2022 Patricio Palladino, Paul Miller (paulmillr.com) */\nimport { bytes as assertBytes, number as assertNumber } from '@noble/hashes/_assert';\nimport { pbkdf2, pbkdf2Async } from '@noble/hashes/pbkdf2';\nimport { sha256 } from '@noble/hashes/sha256';\nimport { sha512 } from '@noble/hashes/sha512';\nimport { randomBytes } from '@noble/hashes/utils';\nimport { utils as baseUtils } from '@scure/base';\n// Japanese wordlist\nconst isJapanese = (wordlist) => wordlist[0] === '\\u3042\\u3044\\u3053\\u304f\\u3057\\u3093';\n// Normalization replaces equivalent sequences of characters\n// so that any two texts that are equivalent will be reduced\n// to the same sequence of code points, called the normal form of the original text.\n// https://tonsky.me/blog/unicode/#why-is-a----\nfunction nfkd(str) {\n    if (typeof str !== 'string')\n        throw new TypeError(`Invalid mnemonic type: ${typeof str}`);\n    return str.normalize('NFKD');\n}\nfunction normalize(str) {\n    const norm = nfkd(str);\n    const words = norm.split(' ');\n    if (![12, 15, 18, 21, 24].includes(words.length))\n        throw new Error('Invalid mnemonic');\n    return { nfkd: norm, words };\n}\nfunction assertEntropy(entropy) {\n    assertBytes(entropy, 16, 20, 24, 28, 32);\n}\n/**\n * Generate x random words. Uses Cryptographically-Secure Random Number Generator.\n * @param wordlist imported wordlist for specific language\n * @param strength mnemonic strength 128-256 bits\n * @example\n * generateMnemonic(wordlist, 128)\n * // 'legal winner thank year wave sausage worth useful legal winner thank yellow'\n */\nexport function generateMnemonic(wordlist, strength = 128) {\n    assertNumber(strength);\n    if (strength % 32 !== 0 || strength > 256)\n        throw new TypeError('Invalid entropy');\n    return entropyToMnemonic(randomBytes(strength / 8), wordlist);\n}\nconst calcChecksum = (entropy) => {\n    // Checksum is ent.length/4 bits long\n    const bitsLeft = 8 - entropy.length / 4;\n    // Zero rightmost \"bitsLeft\" bits in byte\n    // For example: bitsLeft=4 val=10111101 -> 10110000\n    return new Uint8Array([(sha256(entropy)[0] >> bitsLeft) << bitsLeft]);\n};\nfunction getCoder(wordlist) {\n    if (!Array.isArray(wordlist) || wordlist.length !== 2048 || typeof wordlist[0] !== 'string')\n        throw new Error('Wordlist: expected array of 2048 strings');\n    wordlist.forEach((i) => {\n        if (typeof i !== 'string')\n            throw new Error(`Wordlist: non-string element: ${i}`);\n    });\n    return baseUtils.chain(baseUtils.checksum(1, calcChecksum), baseUtils.radix2(11, true), baseUtils.alphabet(wordlist));\n}\n/**\n * Reversible: Converts mnemonic string to raw entropy in form of byte array.\n * @param mnemonic 12-24 words\n * @param wordlist imported wordlist for specific language\n * @example\n * const mnem = 'legal winner thank year wave sausage worth useful legal winner thank yellow';\n * mnemonicToEntropy(mnem, wordlist)\n * // Produces\n * new Uint8Array([\n *   0x7f, 0x7f, 0x7f, 0x7f, 0x7f, 0x7f, 0x7f, 0x7f,\n *   0x7f, 0x7f, 0x7f, 0x7f, 0x7f, 0x7f, 0x7f, 0x7f\n * ])\n */\nexport function mnemonicToEntropy(mnemonic, wordlist) {\n    const { words } = normalize(mnemonic);\n    const entropy = getCoder(wordlist).decode(words);\n    assertEntropy(entropy);\n    return entropy;\n}\n/**\n * Reversible: Converts raw entropy in form of byte array to mnemonic string.\n * @param entropy byte array\n * @param wordlist imported wordlist for specific language\n * @returns 12-24 words\n * @example\n * const ent = new Uint8Array([\n *   0x7f, 0x7f, 0x7f, 0x7f, 0x7f, 0x7f, 0x7f, 0x7f,\n *   0x7f, 0x7f, 0x7f, 0x7f, 0x7f, 0x7f, 0x7f, 0x7f\n * ]);\n * entropyToMnemonic(ent, wordlist);\n * // 'legal winner thank year wave sausage worth useful legal winner thank yellow'\n */\nexport function entropyToMnemonic(entropy, wordlist) {\n    assertEntropy(entropy);\n    const words = getCoder(wordlist).encode(entropy);\n    return words.join(isJapanese(wordlist) ? '\\u3000' : ' ');\n}\n/**\n * Validates mnemonic for being 12-24 words contained in `wordlist`.\n */\nexport function validateMnemonic(mnemonic, wordlist) {\n    try {\n        mnemonicToEntropy(mnemonic, wordlist);\n    }\n    catch (e) {\n        return false;\n    }\n    return true;\n}\nconst salt = (passphrase) => nfkd(`mnemonic${passphrase}`);\n/**\n * Irreversible: Uses KDF to derive 64 bytes of key data from mnemonic + optional password.\n * @param mnemonic 12-24 words\n * @param passphrase string that will additionally protect the key\n * @returns 64 bytes of key data\n * @example\n * const mnem = 'legal winner thank year wave sausage worth useful legal winner thank yellow';\n * await mnemonicToSeed(mnem, 'password');\n * // new Uint8Array([...64 bytes])\n */\nexport function mnemonicToSeed(mnemonic, passphrase = '') {\n    return pbkdf2Async(sha512, normalize(mnemonic).nfkd, salt(passphrase), { c: 2048, dkLen: 64 });\n}\n/**\n * Irreversible: Uses KDF to derive 64 bytes of key data from mnemonic + optional password.\n * @param mnemonic 12-24 words\n * @param passphrase string that will additionally protect the key\n * @returns 64 bytes of key data\n * @example\n * const mnem = 'legal winner thank year wave sausage worth useful legal winner thank yellow';\n * mnemonicToSeedSync(mnem, 'password');\n * // new Uint8Array([...64 bytes])\n */\nexport function mnemonicToSeedSync(mnemonic, passphrase = '') {\n    return pbkdf2(sha512, normalize(mnemonic).nfkd, salt(passphrase), { c: 2048, dkLen: 64 });\n}\n","import { mnemonicToSeedSync as bip39MnemonicToSeedSync } from \"@scure/bip39\";\nimport { toHEX } from \"../bcs/src/index.js\";\nfunction isValidHardenedPath(path) {\n  if (!new RegExp(\"^m\\\\/44'\\\\/728'\\\\/[0-9]+'\\\\/[0-9]+'\\\\/[0-9]+'+$\").test(path)) {\n    return false;\n  }\n  return true;\n}\nfunction isValidBIP32Path(path) {\n  if (!new RegExp(\"^m\\\\/(54|74)'\\\\/728'\\\\/[0-9]+'\\\\/[0-9]+\\\\/[0-9]+$\").test(path)) {\n    return false;\n  }\n  return true;\n}\nfunction mnemonicToSeed(mnemonics) {\n  return bip39MnemonicToSeedSync(mnemonics, \"\");\n}\nfunction mnemonicToSeedHex(mnemonics) {\n  return toHEX(mnemonicToSeed(mnemonics));\n}\nexport {\n  isValidBIP32Path,\n  isValidHardenedPath,\n  mnemonicToSeed,\n  mnemonicToSeedHex\n};\n//# sourceMappingURL=mnemonics.js.map\n","import { hmac } from \"@noble/hashes/hmac\";\nimport { sha512 } from \"@noble/hashes/sha512\";\nimport nacl from \"tweetnacl\";\nimport { fromHEX } from \"../../bcs/index.js\";\nconst ED25519_CURVE = \"ed25519 seed\";\nconst HARDENED_OFFSET = 2147483648;\nconst pathRegex = new RegExp(\"^m(\\\\/[0-9]+')+$\");\nconst replaceDerive = (val) => val.replace(\"'\", \"\");\nconst getMasterKeyFromSeed = (seed) => {\n  const h = hmac.create(sha512, ED25519_CURVE);\n  const I = h.update(fromHEX(seed)).digest();\n  const IL = I.slice(0, 32);\n  const IR = I.slice(32);\n  return {\n    key: IL,\n    chainCode: IR\n  };\n};\nconst CKDPriv = ({ key, chainCode }, index) => {\n  const indexBuffer = new ArrayBuffer(4);\n  const cv = new DataView(indexBuffer);\n  cv.setUint32(0, index);\n  const data = new Uint8Array(1 + key.length + indexBuffer.byteLength);\n  data.set(new Uint8Array(1).fill(0));\n  data.set(key, 1);\n  data.set(new Uint8Array(indexBuffer, 0, indexBuffer.byteLength), key.length + 1);\n  const I = hmac.create(sha512, chainCode).update(data).digest();\n  const IL = I.slice(0, 32);\n  const IR = I.slice(32);\n  return {\n    key: IL,\n    chainCode: IR\n  };\n};\nconst getPublicKey = (privateKey, withZeroByte = true) => {\n  const keyPair = nacl.sign.keyPair.fromSeed(privateKey);\n  const signPk = keyPair.secretKey.subarray(32);\n  const newArr = new Uint8Array(signPk.length + 1);\n  newArr.set([0]);\n  newArr.set(signPk, 1);\n  return withZeroByte ? newArr : signPk;\n};\nconst isValidPath = (path) => {\n  if (!pathRegex.test(path)) {\n    return false;\n  }\n  return !path.split(\"/\").slice(1).map(replaceDerive).some(\n    isNaN\n    /* ts T_T*/\n  );\n};\nconst derivePath = (path, seed, offset = HARDENED_OFFSET) => {\n  if (!isValidPath(path)) {\n    throw new Error(\"Invalid derivation path\");\n  }\n  const { key, chainCode } = getMasterKeyFromSeed(seed);\n  const segments = path.split(\"/\").slice(1).map(replaceDerive).map((el) => parseInt(el, 10));\n  return segments.reduce((parentKeys, segment) => CKDPriv(parentKeys, segment + offset), {\n    key,\n    chainCode\n  });\n};\nexport {\n  derivePath,\n  getMasterKeyFromSeed,\n  getPublicKey,\n  isValidPath,\n  pathRegex,\n  replaceDerive\n};\n//# sourceMappingURL=ed25519-hd-key.js.map\n","import nacl from \"tweetnacl\";\nimport { encodeBenfenPrivateKey, Keypair, PRIVATE_KEY_SIZE } from \"../../cryptography/keypair.js\";\nimport { isValidHardenedPath, mnemonicToSeedHex } from \"../../cryptography/mnemonics.js\";\nimport { derivePath } from \"./ed25519-hd-key.js\";\nimport { Ed25519PublicKey } from \"./publickey.js\";\nconst DEFAULT_ED25519_DERIVATION_PATH = \"m/44'/728'/0'/0'/0'\";\nclass Ed25519Keypair extends Keypair {\n  /**\n   * Create a new Ed25519 keypair instance.\n   * Generate random keypair if no {@link Ed25519Keypair} is provided.\n   *\n   * @param keypair Ed25519 keypair\n   */\n  constructor(keypair) {\n    super();\n    if (keypair) {\n      this.keypair = keypair;\n    } else {\n      this.keypair = nacl.sign.keyPair();\n    }\n  }\n  /**\n   * Get the key scheme of the keypair ED25519\n   */\n  getKeyScheme() {\n    return \"ED25519\";\n  }\n  /**\n   * Generate a new random Ed25519 keypair\n   */\n  static generate() {\n    return new Ed25519Keypair(nacl.sign.keyPair());\n  }\n  /**\n   * Create a Ed25519 keypair from a raw secret key byte array, also known as seed.\n   * This is NOT the private scalar which is result of hashing and bit clamping of\n   * the raw secret key.\n   *\n   * @throws error if the provided secret key is invalid and validation is not skipped.\n   *\n   * @param secretKey secret key byte array\n   * @param options: skip secret key validation\n   */\n  static fromSecretKey(secretKey, options) {\n    const secretKeyLength = secretKey.length;\n    if (secretKeyLength !== PRIVATE_KEY_SIZE) {\n      throw new Error(\n        `Wrong secretKey size. Expected ${PRIVATE_KEY_SIZE} bytes, got ${secretKeyLength}.`\n      );\n    }\n    const keypair = nacl.sign.keyPair.fromSeed(secretKey);\n    if (!options || !options.skipValidation) {\n      const encoder = new TextEncoder();\n      const signData = encoder.encode(\"benfen validation\");\n      const signature = nacl.sign.detached(signData, keypair.secretKey);\n      if (!nacl.sign.detached.verify(signData, signature, keypair.publicKey)) {\n        throw new Error(\"provided secretKey is invalid\");\n      }\n    }\n    return new Ed25519Keypair(keypair);\n  }\n  /**\n   * The public key for this Ed25519 keypair\n   */\n  getPublicKey() {\n    return new Ed25519PublicKey(this.keypair.publicKey);\n  }\n  /**\n   * The Bech32 secret key string for this Ed25519 keypair\n   */\n  getSecretKey() {\n    return encodeBenfenPrivateKey(\n      this.keypair.secretKey.slice(0, PRIVATE_KEY_SIZE),\n      this.getKeyScheme()\n    );\n  }\n  async sign(data) {\n    return this.signData(data);\n  }\n  /**\n   * Return the signature for the provided data using Ed25519.\n   */\n  signData(data) {\n    return nacl.sign.detached(data, this.keypair.secretKey);\n  }\n  /**\n   * Derive Ed25519 keypair from mnemonics and path. The mnemonics must be normalized\n   * and validated against the english wordlist.\n   *\n   * If path is none, it will default to m/44'/728'/0'/0'/0', otherwise the path must\n   * be compliant to SLIP-0010 in form m/44'/728'/{account_index}'/{change_index}'/{address_index}'.\n   */\n  static deriveKeypair(mnemonics, path) {\n    if (path == null) {\n      path = DEFAULT_ED25519_DERIVATION_PATH;\n    }\n    if (!isValidHardenedPath(path)) {\n      throw new Error(\"Invalid derivation path\");\n    }\n    const { key } = derivePath(path, mnemonicToSeedHex(mnemonics));\n    return Ed25519Keypair.fromSecretKey(key);\n  }\n  /**\n   * Derive Ed25519 keypair from mnemonicSeed and path.\n   *\n   * If path is none, it will default to m/44'/728'/0'/0'/0', otherwise the path must\n   * be compliant to SLIP-0010 in form m/44'/728'/{account_index}'/{change_index}'/{address_index}'.\n   */\n  static deriveKeypairFromSeed(seedHex, path) {\n    if (path == null) {\n      path = DEFAULT_ED25519_DERIVATION_PATH;\n    }\n    if (!isValidHardenedPath(path)) {\n      throw new Error(\"Invalid derivation path\");\n    }\n    const { key } = derivePath(path, seedHex);\n    return Ed25519Keypair.fromSecretKey(key);\n  }\n}\nexport {\n  DEFAULT_ED25519_DERIVATION_PATH,\n  Ed25519Keypair\n};\n//# sourceMappingURL=keypair.js.map\n","import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import{IntentScope,messageWithIntent,toSerializedSignature}from'@benfen/bfc.js/cryptography';import{Ed25519Keypair,Ed25519PublicKey}from'@benfen/bfc.js/keypairs/ed25519';import{hex2BfcAddress,toB64}from'@benfen/bfc.js/utils';import{blake2b}from'@noble/hashes/blake2b';import{checkIsDefined}from'@onekeyhq/shared/src/utils/assertUtils';import bufferUtils from'@onekeyhq/shared/src/utils/bufferUtils';import hexUtils from'@onekeyhq/shared/src/utils/hexUtils';import{CoreChainApiBase}from\"../../base/CoreChainApiBase\";import{decrypt}from\"../../secret\";import{ECoreApiExportedSecretKeyType}from\"../../types\";var curve='ed25519';export function handleSignData(txnBytes){var serializeTxn=messageWithIntent(IntentScope.TransactionData,txnBytes);return serializeTxn;}var CoreChainSoftware=function(_CoreChainApiBase){_inherits(CoreChainSoftware,_CoreChainApiBase);var _super=_createSuper(CoreChainSoftware);function CoreChainSoftware(){return _super.apply(this,arguments);}var _proto=CoreChainSoftware.prototype;_proto.getExportedSecretKey=function(){var _getExportedSecretKey=_asyncToGenerator(function*(query){var{password,keyType,credentials}=query;var{privateKeyRaw}=yield this.baseGetDefaultPrivateKey(query);if(!privateKeyRaw){throw new Error('privateKeyRaw is required');}if(keyType===ECoreApiExportedSecretKeyType.privateKey){return`0x${decrypt(password,privateKeyRaw).toString('hex')}`;}throw new Error(`SecretKey type not support: ${keyType}`);});function getExportedSecretKey(_x){return _getExportedSecretKey.apply(this,arguments);}return getExportedSecretKey;}();_proto.getPrivateKeys=function(){var _getPrivateKeys=_asyncToGenerator(function*(payload){return this.baseGetPrivateKeys({payload,curve});});function getPrivateKeys(_x2){return _getPrivateKeys.apply(this,arguments);}return getPrivateKeys;}();_proto.signTransaction=function(){var _signTransaction=_asyncToGenerator(function*(payload){var{unsignedTx,account:{pub}}=payload;var signer=yield this.baseGetSingleSigner({payload,curve});if(!unsignedTx.rawTxUnsigned){throw new Error('unsignedTx.rawTxUnsigned is undefined');}var prvKey=yield signer.getPrvkey();var keypair=Ed25519Keypair.fromSecretKey(prvKey);var txnBytes=bufferUtils.toBuffer(unsignedTx.rawTxUnsigned);var intentMessage=handleSignData(txnBytes);var digest=blake2b(intentMessage,{dkLen:32});var pubkey=keypair.getPublicKey();var signature=keypair.signData(digest);var signatureScheme=keypair.getKeyScheme();var serializeSignature=toSerializedSignature({signature,signatureScheme,publicKey:pubkey});return{txid:'',rawTx:toB64(txnBytes),signatureScheme:'ed25519',signature:serializeSignature,publicKey:hexUtils.addHexPrefix(checkIsDefined(pub)),encodedTx:unsignedTx.encodedTx};});function signTransaction(_x3){return _signTransaction.apply(this,arguments);}return signTransaction;}();_proto.signMessage=function(){var _signMessage=_asyncToGenerator(function*(payload){var unsignedMsg=payload.unsignedMsg;var signer=yield this.baseGetSingleSigner({payload,curve});var prvKey=yield signer.getPrvkey();var keypair=Ed25519Keypair.fromSecretKey(prvKey);var messageBytes=bufferUtils.toBuffer(unsignedMsg.message);var signature=yield keypair.signPersonalMessage(messageBytes);return signature.signature;});function signMessage(_x4){return _signMessage.apply(this,arguments);}return signMessage;}();_proto.getAddressFromPrivate=function(){var _getAddressFromPrivate=_asyncToGenerator(function*(query){var{privateKeyRaw}=query;var privateKey;if(hexUtils.isHexString(privateKeyRaw)){privateKey=bufferUtils.toBuffer(privateKeyRaw,'hex');}else{}if(!privateKey){throw new Error('Invalid private key');}var pub=this.baseGetCurve(curve).publicFromPrivate(privateKey);return this.getAddressFromPublic({publicKey:bufferUtils.bytesToHex(pub),networkInfo:query.networkInfo});});function getAddressFromPrivate(_x5){return _getAddressFromPrivate.apply(this,arguments);}return getAddressFromPrivate;}();_proto.getAddressFromPublic=function(){var _getAddressFromPublic=_asyncToGenerator(function*(query){var{publicKey}=query;var pub=new Ed25519PublicKey(bufferUtils.toBuffer(publicKey));var hexAddress=pub.toHexAddress();var address=hex2BfcAddress(hexAddress);return Promise.resolve({address,publicKey});});function getAddressFromPublic(_x6){return _getAddressFromPublic.apply(this,arguments);}return getAddressFromPublic;}();_proto.getAddressesFromHd=function(){var _getAddressesFromHd=_asyncToGenerator(function*(query){return this.baseGetAddressesFromHd(query,{curve});});function getAddressesFromHd(_x7){return _getAddressesFromHd.apply(this,arguments);}return getAddressesFromHd;}();return _createClass(CoreChainSoftware);}(CoreChainApiBase);export{CoreChainSoftware as default};","import coinselectUtils from'@onekeyfe/coinselect/utils';import accountUtils from'@onekeyhq/shared/src/utils/accountUtils';export function slicePathTemplate(template){return accountUtils.slicePathTemplate(template);}export function getUtxoAccountPrefixPath({fullPath}){var pathComponent=fullPath.split('/');pathComponent.pop();pathComponent.pop();var prefixPath=pathComponent.join('/');return prefixPath;}export function getBIP44Path(account,address){var realPath='';for(var[key,value]of Object.entries(account.addresses)){if(value===address){realPath=key;break;}}return`${account.path}/${realPath}`;}export function estimateTxSize(inputsForCoinSelect,outputsForCoinSelect){return coinselectUtils.transactionBytes(inputsForCoinSelect,outputsForCoinSelect);}","import _isNil from\"lodash/isNil\";import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import{NotImplemented}from'@onekeyhq/shared/src/errors';import{defaultLogger}from'@onekeyhq/shared/src/logger/logger';import accountUtils from'@onekeyhq/shared/src/utils/accountUtils';import timerUtils from'@onekeyhq/shared/src/utils/timerUtils';import{EDBAccountType}from\"../../dbs/local/consts\";import{EVaultKeyringTypes}from\"../types\";import{VaultContext}from\"./VaultContext\";export var KeyringBase=function(_VaultContext){_inherits(KeyringBase,_VaultContext);var _super=_createSuper(KeyringBase);function KeyringBase(vault){var _this;_this=_super.call(this,vault.options);_this.vault=vault;if(_this.vault.networkId!==vault.options.networkId){throw new Error('KeyringBase ERROR: networkId not match1');}if(_this.networkId!==vault.options.networkId){throw new Error('KeyringBase ERROR: networkId not match2');}return _this;}var _proto=KeyringBase.prototype;_proto.isKeyringImported=function isKeyringImported(){return this.keyringType===EVaultKeyringTypes.imported;};_proto.isKeyringHd=function isKeyringHd(){return this.keyringType===EVaultKeyringTypes.hd;};_proto.isKeyringHardware=function isKeyringHardware(){return this.keyringType===EVaultKeyringTypes.hardware;};_proto.isKeyringWatching=function isKeyringWatching(){return this.keyringType===EVaultKeyringTypes.watching;};_proto.basePrepareHdNormalAccounts=function(){var _basePrepareHdNormalAccounts=_asyncToGenerator(function*(params,options){var{walletId}=this;if(!walletId){throw new Error('walletId is not defined');}var{names,deriveInfo,indexes}=params;var{coinType,template,namePrefix,idSuffix}=deriveInfo;if(!coinType){throw new Error('coinType is not defined');}var settings=yield this.getVaultSettings();var{accountType}=settings;var{buildAddressesInfo}=options;var usedIndexes=indexes;var addressInfos=yield buildAddressesInfo({usedIndexes});var ret=[];for(var idx=0;idx<addressInfos.length;idx+=1){var{path,publicKey,address,addresses,relPath}=addressInfos[idx];if(!path){throw new Error('KeyringHD prepareAccounts ERROR: path not found');}if(accountType===EDBAccountType.VARIANT&&!addresses){throw new Error('addresses is required for variant account');}if(accountType===EDBAccountType.VARIANT&&address){throw new Error('address should not set for variant account');}var pathIndex=usedIndexes[idx];var name=names?.[idx]||accountUtils.buildHDAccountName({pathIndex,namePrefix});var id=accountUtils.buildHDAccountId({walletId,path,idSuffix});var indexedAccountId=accountUtils.buildIndexedAccountId({walletId,index:pathIndex});ret.push({id,name,type:accountType,path,pathIndex,relPath,indexedAccountId,coinType,impl:settings.impl,pub:publicKey,address,addresses,template});}return ret;});function basePrepareHdNormalAccounts(_x,_x2){return _basePrepareHdNormalAccounts.apply(this,arguments);}return basePrepareHdNormalAccounts;}();_proto.basePrepareHdUtxoAccounts=function(){var _basePrepareHdUtxoAccounts=_asyncToGenerator(function*(params,options){var{walletId}=this;if(!walletId){throw new Error('walletId is undefined');}var{indexes,deriveInfo,names,skipCheckAccountExist=true}=params;var{coinType,template,namePrefix}=deriveInfo;if(!coinType){throw new Error('coinType is not defined');}var settings=yield this.getVaultSettings();var{accountType}=settings;if(accountType!==EDBAccountType.UTXO){throw new Error('accountType is not utxo');}var{checkIsAccountUsed,buildAddressesInfo}=options;var ignoreFirst=false;var usedIndexes=[...(ignoreFirst?[indexes[0]-1]:[]),...indexes];defaultLogger.account.accountCreatePerf.utxoBuildAddressesInfo();var addressesInfo=yield buildAddressesInfo({usedIndexes});defaultLogger.account.accountCreatePerf.utxoBuildAddressesInfoDone();defaultLogger.account.accountCreatePerf.buildDBUtxoAccounts();var ret=[];var idx=0;for(var{path,relPath,publicKey,xpub,xpubSegwit,address,addresses}of addressesInfo){if(!path||_isNil(xpub)||!addresses){throw new Error('basePrepareHdUtxoAccounts ERROR: path or xpub or addresses is undefined');}if(!relPath){throw new Error('basePrepareHdUtxoAccounts ERROR: relPath is undefined');}var prefix=namePrefix;var pathIndex=usedIndexes[idx];var name=names?.[idx]||`${prefix} #${pathIndex+1}`;var id=`${this.walletId}--${path}`;if(!ignoreFirst||idx>0){var indexedAccountId=accountUtils.buildIndexedAccountId({walletId:this.walletId,index:pathIndex});ret.push({id,name,type:accountType,path,pathIndex,indexedAccountId,relPath,coinType,impl:settings.impl,pub:publicKey,xpub,xpubSegwit,address,addresses,template});}var isLast=idx===addressesInfo.length-1;if(!skipCheckAccountExist&&!isLast&&checkIsAccountUsed){var{isUsed}=yield checkIsAccountUsed({xpub,xpubSegwit,address});if(!isUsed){break;}yield timerUtils.wait(200);}idx+=1;}defaultLogger.account.accountCreatePerf.buildDBUtxoAccountsDone();return ret;});function basePrepareHdUtxoAccounts(_x3,_x4){return _basePrepareHdUtxoAccounts.apply(this,arguments);}return basePrepareHdUtxoAccounts;}();_proto.batchGetAddresses=function(){var _batchGetAddresses=_asyncToGenerator(function*(params){return[];});function batchGetAddresses(_x5){return _batchGetAddresses.apply(this,arguments);}return batchGetAddresses;}();_proto.exportAccountSecretKeys=function(){var _exportAccountSecretKeys=_asyncToGenerator(function*(params){throw new NotImplemented();});function exportAccountSecretKeys(_x6){return _exportAccountSecretKeys.apply(this,arguments);}return exportAccountSecretKeys;}();_proto.buildHwAllNetworkPrepareAccountsParams=function(){var _buildHwAllNetworkPrepareAccountsParams=_asyncToGenerator(function*(params){return undefined;});function buildHwAllNetworkPrepareAccountsParams(_x7){return _buildHwAllNetworkPrepareAccountsParams.apply(this,arguments);}return buildHwAllNetworkPrepareAccountsParams;}();_proto.buildPrepareAccountsPrefixedPath=function buildPrepareAccountsPrefixedPath(params){throw new NotImplemented();};return _createClass(KeyringBase);}(VaultContext);export var KeyringBaseMock=function(_KeyringBase){_inherits(KeyringBaseMock,_KeyringBase);var _super2=_createSuper(KeyringBaseMock);function KeyringBaseMock(){return _super2.apply(this,arguments);}return _createClass(KeyringBaseMock);}(KeyringBase);","import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import{OneKeyInternalError}from'@onekeyhq/shared/src/errors';import{EVaultKeyringTypes}from\"../types\";import{KeyringBase}from\"./KeyringBase\";export var KeyringExternalBase=function(_KeyringBase){_inherits(KeyringExternalBase,_KeyringBase);var _super=_createSuper(KeyringExternalBase);function KeyringExternalBase(...args){var _this;_this=_super.call(this,...args);_this.keyringType=EVaultKeyringTypes.external;return _this;}var _proto=KeyringExternalBase.prototype;_proto.baseSignMessageByExternalWallet=function(){var _baseSignMessageByExternalWallet=_asyncToGenerator(function*(params){return this.backgroundApi.serviceDappSide.signMessage({account:yield this.vault.getAccount(),networkId:this.networkId,params});});function baseSignMessageByExternalWallet(_x){return _baseSignMessageByExternalWallet.apply(this,arguments);}return baseSignMessageByExternalWallet;}();_proto.baseSendTransactionByExternalWallet=function(){var _baseSendTransactionByExternalWallet=_asyncToGenerator(function*(params){return this.backgroundApi.serviceDappSide.sendTransaction({account:yield this.vault.getAccount(),networkId:this.networkId,params});});function baseSendTransactionByExternalWallet(_x2){return _baseSendTransactionByExternalWallet.apply(this,arguments);}return baseSendTransactionByExternalWallet;}();_proto.prepareAccounts=function prepareAccounts(params){throw new OneKeyInternalError('prepareAccounts is not supported for external accounts, use serviceAccount directly');};_proto.basePrepareExternalAccounts=function(){var _basePrepareExternalAccounts=_asyncToGenerator(function*(params){return[];});function basePrepareExternalAccounts(_x3){return _basePrepareExternalAccounts.apply(this,arguments);}return basePrepareExternalAccounts;}();return _createClass(KeyringExternalBase);}(KeyringBase);","import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import{slicePathTemplate}from'@onekeyhq/core/src/utils';import appGlobals from'@onekeyhq/shared/src/appGlobals';import{OneKeyInternalError,UnsupportedAddressTypeError}from'@onekeyhq/shared/src/errors';import{convertDeviceError,convertDeviceResponse}from'@onekeyhq/shared/src/errors/utils/deviceErrorUtils';import{HardwareSDK}from'@onekeyhq/shared/src/hardware/instance';import{defaultLogger}from'@onekeyhq/shared/src/logger/logger';import{EConfirmOnDeviceType}from'@onekeyhq/shared/types/device';import{EVaultKeyringTypes}from\"../types\";import{KeyringBase}from\"./KeyringBase\";export var KeyringHardwareBase=function(_KeyringBase){_inherits(KeyringHardwareBase,_KeyringBase);var _super=_createSuper(KeyringHardwareBase);function KeyringHardwareBase(...args){var _this;_this=_super.call(this,...args);_this.keyringType=EVaultKeyringTypes.hardware;return _this;}var _proto=KeyringHardwareBase.prototype;_proto.getHardwareSDKInstance=function(){var _getHardwareSDKInstance=_asyncToGenerator(function*(){var _ref;defaultLogger.account.accountCreatePerf.getHardwareSDKInstance();var sdk=yield appGlobals?.$backgroundApiProxy?.backgroundApi?.serviceHardware?.getSDKInstance?.();var r=(_ref=sdk)!=null?_ref:HardwareSDK;defaultLogger.account.accountCreatePerf.getHardwareSDKInstanceDone();return r;});function getHardwareSDKInstance(){return _getHardwareSDKInstance.apply(this,arguments);}return getHardwareSDKInstance;}();_proto.baseGetDeviceAccountData=function(){var _baseGetDeviceAccountData=_asyncToGenerator(function*({params,usedIndexes,sdkGetDataFn,errorMessage}){var{deriveInfo,deviceParams}=params;var{dbDevice,confirmOnDevice}=deviceParams;var{connectId,deviceId}=dbDevice;var{template,coinName}=deriveInfo;var{pathPrefix,pathSuffix}=slicePathTemplate(template);var showOnOnekeyFn=function(arrIndex){if(confirmOnDevice===EConfirmOnDeviceType.EveryItem){return true;}if(confirmOnDevice===EConfirmOnDeviceType.LastItem){return arrIndex===usedIndexes[usedIndexes.length-1];}return false;};var result=yield convertDeviceResponse(_asyncToGenerator(function*(){return sdkGetDataFn({connectId,deviceId,pathPrefix,pathSuffix,template,coinName,showOnOnekeyFn});}));if(!result||result.length!==usedIndexes.length){throw new OneKeyInternalError(errorMessage);}return result;});function baseGetDeviceAccountData(_x){return _baseGetDeviceAccountData.apply(this,arguments);}return baseGetDeviceAccountData;}();_proto.baseGetDeviceAccountPublicKeys=function(){var _baseGetDeviceAccountPublicKeys=_asyncToGenerator(function*({params,usedIndexes,sdkGetPublicKeysFn}){return this.baseGetDeviceAccountData({params,usedIndexes,sdkGetDataFn:sdkGetPublicKeysFn,errorMessage:'Unable to get public keys.'});});function baseGetDeviceAccountPublicKeys(_x2){return _baseGetDeviceAccountPublicKeys.apply(this,arguments);}return baseGetDeviceAccountPublicKeys;}();_proto.baseGetDeviceAccountAddresses=function(){var _baseGetDeviceAccountAddresses=_asyncToGenerator(function*({params,usedIndexes,sdkGetAddressFn}){return this.baseGetDeviceAccountData({params,usedIndexes,sdkGetDataFn:sdkGetAddressFn,errorMessage:'Unable to get addresses.'});});function baseGetDeviceAccountAddresses(_x3){return _baseGetDeviceAccountAddresses.apply(this,arguments);}return baseGetDeviceAccountAddresses;}();_proto.getAllNetworkPrepareAccounts=function(){var _getAllNetworkPrepareAccounts=_asyncToGenerator(function*({hwSdkNetwork,params,usedIndexes,buildPath,buildResultAccount}){if(!hwSdkNetwork){return undefined;}var{hwAllNetworkPrepareAccountsResponse}=params;if(hwAllNetworkPrepareAccountsResponse?.length){var resultAccounts=[];var _loop=function*(){var path=yield buildPath({index});var account=hwAllNetworkPrepareAccountsResponse?.find(function(item){return item.network&&item.path===path&&item.network===hwSdkNetwork;});if(account&&account.success){resultAccounts.push(buildResultAccount({account,index}));}};for(var index of usedIndexes){yield*_loop();}if(resultAccounts.length===usedIndexes.length){return{success:true,payload:resultAccounts};}var hasErrorItem=hwAllNetworkPrepareAccountsResponse?.find(function(item){return!item.success&&!!item.payload?.error;});if(!hasErrorItem?.success&&hasErrorItem?.payload?.error){if(hasErrorItem?.payload?.error?.indexOf('Failure_DataError,Forbidden key path')!==-1){throw new UnsupportedAddressTypeError();}throw convertDeviceError(hasErrorItem.payload);}throw new OneKeyInternalError('SDK GetAllNetworkAccounts Failed');}});function getAllNetworkPrepareAccounts(_x4){return _getAllNetworkPrepareAccounts.apply(this,arguments);}return getAllNetworkPrepareAccounts;}();return _createClass(KeyringHardwareBase);}(KeyringBase);","import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import{EVaultKeyringTypes}from\"../types\";import{KeyringSoftwareBase}from\"./KeyringSoftwareBase\";export var KeyringHdBase=function(_KeyringSoftwareBase){_inherits(KeyringHdBase,_KeyringSoftwareBase);var _super=_createSuper(KeyringHdBase);function KeyringHdBase(...args){var _this;_this=_super.call(this,...args);_this.keyringType=EVaultKeyringTypes.hd;return _this;}return _createClass(KeyringHdBase);}(KeyringSoftwareBase);","import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import{EVaultKeyringTypes}from\"../types\";import{KeyringSoftwareBase}from\"./KeyringSoftwareBase\";export var KeyringImportedBase=function(_KeyringSoftwareBase){_inherits(KeyringImportedBase,_KeyringSoftwareBase);var _super=_createSuper(KeyringImportedBase);function KeyringImportedBase(...args){var _this;_this=_super.call(this,...args);_this.keyringType=EVaultKeyringTypes.imported;return _this;}return _createClass(KeyringImportedBase);}(KeyringSoftwareBase);","import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _isNil from\"lodash/isNil\";import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import{decryptImportedCredential}from'@onekeyhq/core/src/secret';import{OneKeyInternalError}from'@onekeyhq/shared/src/errors';import{defaultLogger}from'@onekeyhq/shared/src/logger/logger';import accountUtils from'@onekeyhq/shared/src/utils/accountUtils';import{checkIsDefined}from'@onekeyhq/shared/src/utils/assertUtils';import{noopObject}from'@onekeyhq/shared/src/utils/miscUtils';import localDb from\"../../dbs/local/localDb\";import{KeyringBase}from\"./KeyringBase\";export var KeyringSoftwareBase=function(_KeyringBase){_inherits(KeyringSoftwareBase,_KeyringBase);var _super=_createSuper(KeyringSoftwareBase);function KeyringSoftwareBase(){return _super.apply(this,arguments);}var _proto=KeyringSoftwareBase.prototype;_proto.baseGetCredentialsInfo=function(){var _baseGetCredentialsInfo=_asyncToGenerator(function*({password}){noopObject(password);var hd;var imported;if(this.isKeyringHd()){var credential=yield localDb.getCredential(checkIsDefined(this.walletId));hd=credential.credential;}if(this.isKeyringImported()){var _credential=yield localDb.getCredential(this.accountId);imported=_credential.credential;}return{hd,imported};});function baseGetCredentialsInfo(_x){return _baseGetCredentialsInfo.apply(this,arguments);}return baseGetCredentialsInfo;}();_proto.baseSignTransactionBtc=function(){var _baseSignTransactionBtc=_asyncToGenerator(function*(params){if(!this.coreApi){throw new Error('coreApi is not defined');}var vault=this.vault;var{password,unsignedTx,signOnly}=params;var credentials=yield this.baseGetCredentialsInfo(params);var networkInfo=yield this.getCoreApiNetworkInfo();var{account,btcExtraInfo,relPaths}=yield vault.prepareBtcSignExtraInfo({unsignedTx});var result=yield this.coreApi.signTransaction({networkInfo,unsignedTx,account,relPaths,password,credentials,btcExtraInfo,signOnly});return result;});function baseSignTransactionBtc(_x2){return _baseSignTransactionBtc.apply(this,arguments);}return baseSignTransactionBtc;}();_proto.baseSignTransaction=function(){var _baseSignTransaction=_asyncToGenerator(function*(params){if(!this.coreApi){throw new Error('coreApi is not defined');}var{password,unsignedTx}=params;var account=yield this.vault.getAccount();var credentials=yield this.baseGetCredentialsInfo(params);var networkInfo=yield this.getCoreApiNetworkInfo();var result=yield this.coreApi.signTransaction({networkInfo,password,account,credentials,unsignedTx});return result;});function baseSignTransaction(_x3){return _baseSignTransaction.apply(this,arguments);}return baseSignTransaction;}();_proto.baseSignMessage=function(){var _baseSignMessage=_asyncToGenerator(function*(params){var _this=this;if(!this.coreApi){throw new Error('coreApi is not defined');}var{password,messages}=params;var account=yield this.vault.getAccount();var credentials=yield this.baseGetCredentialsInfo(params);var networkInfo=yield this.getCoreApiNetworkInfo();var result=yield Promise.all(messages.map(function(msg){return checkIsDefined(_this.coreApi).signMessage({networkInfo,unsignedMsg:msg,account,password,credentials});}));return result;});function baseSignMessage(_x4){return _baseSignMessage.apply(this,arguments);}return baseSignMessage;}();_proto.baseSignMessageBtc=function(){var _baseSignMessageBtc=_asyncToGenerator(function*(params){var _this2=this;if(!this.coreApi){throw new Error('coreApi is not defined');}var vault=this.vault;var{password,messages}=params;var credentials=yield this.baseGetCredentialsInfo(params);var networkInfo=yield this.getCoreApiNetworkInfo();var result=yield Promise.all(messages.map(function(){var _ref=_asyncToGenerator(function*(msg){var{account,btcExtraInfo,relPaths}=yield vault.prepareBtcSignExtraInfo({unsignedMessage:msg});return checkIsDefined(_this2.coreApi).signMessage({networkInfo,unsignedMsg:msg,account,relPaths,password,credentials,btcExtraInfo});});return function(_x6){return _ref.apply(this,arguments);};}()));return result;});function baseSignMessageBtc(_x5){return _baseSignMessageBtc.apply(this,arguments);}return baseSignMessageBtc;}();_proto.basePrepareAccountsImported=function(){var _basePrepareAccountsImported=_asyncToGenerator(function*(params,options={}){if(!this.coreApi){throw new Error('coreApi is not defined');}var{name,importedCredential,password,networks,createAtNetwork}=params;var{privateKey}=decryptImportedCredential({credential:importedCredential,password});var settings=yield this.getVaultSettings();var{onlyAvailableOnCertainNetworks}=options;var accountType=options.accountType||settings.accountType;var impl=options.impl||settings.impl;var coinType=options.coinType||params.deriveInfo?.coinType||settings.coinTypeDefault;var networkInfo=yield this.getCoreApiNetworkInfo();var privateKeyRaw=privateKey;var{address,addresses,publicKey}=yield this.coreApi.getAddressFromPrivate({networkInfo,privateKeyRaw,addressEncoding:params.deriveInfo?.addressEncoding});var addressUsed='';if(onlyAvailableOnCertainNetworks){addressUsed=addresses?.[createAtNetwork]||'';if(!addressUsed){throw new Error(`imported account address is empty of network: ${createAtNetwork}`);}}var accountId=accountUtils.buildImportedAccountId({coinType,pub:publicKey,address:addressUsed,addressEncoding:params.deriveInfo?.addressEncoding});return Promise.resolve([{id:accountId,name:name||'',type:accountType,path:'',coinType,impl,networks:onlyAvailableOnCertainNetworks?networks:undefined,createAtNetwork,pub:publicKey,address,addresses}]);});function basePrepareAccountsImported(_x7){return _basePrepareAccountsImported.apply(this,arguments);}return basePrepareAccountsImported;}();_proto.basePrepareAccountsImportedUtxo=function(){var _basePrepareAccountsImportedUtxo=_asyncToGenerator(function*(params){if(!this.coreApi){throw new Error('coreApi is not defined');}var{name,importedCredential,password,createAtNetwork,deriveInfo}=params;var{privateKey}=decryptImportedCredential({credential:importedCredential,password});var addressEncoding=deriveInfo?.addressEncoding;var settings=yield this.getVaultSettings();var{coinTypeDefault:coinType,accountType}=settings;var networkInfo=yield this.getCoreApiNetworkInfo();var privateKeyRaw=privateKey;var{address,addresses,publicKey,xpub,relPath,xpubSegwit,path}=yield this.coreApi.getAddressFromPrivate({networkInfo,privateKeyRaw,addressEncoding});if(_isNil(xpub)||!addresses){throw new Error('xpub or addresses is undefined');}var accountId=accountUtils.buildImportedAccountId({coinType,xpub:xpub||publicKey,addressEncoding});return Promise.resolve([{id:accountId,name:name||'',type:accountType,path:path||'',relPath,coinType,impl:settings.impl,xpub,xpubSegwit,pub:publicKey,address,addresses,createAtNetwork}]);});function basePrepareAccountsImportedUtxo(_x8){return _basePrepareAccountsImportedUtxo.apply(this,arguments);}return basePrepareAccountsImportedUtxo;}();_proto.basePrepareAccountsHd=function(){var _basePrepareAccountsHd=_asyncToGenerator(function*(params){var _this3=this;var{template,addressEncoding}=params.deriveInfo;var{password}=params;var networkInfo=yield this.getCoreApiNetworkInfo();return this.basePrepareHdNormalAccounts(params,{buildAddressesInfo:function(){var _ref2=_asyncToGenerator(function*({usedIndexes}){if(!_this3.coreApi){throw new Error('coreApi is not defined');}var credentials=yield _this3.baseGetCredentialsInfo({password});var{addresses:addressInfos}=yield _this3.coreApi.getAddressesFromHd({networkInfo,template,hdCredential:checkIsDefined(credentials.hd),password,indexes:usedIndexes,addressEncoding});return addressInfos;});return function buildAddressesInfo(_x10){return _ref2.apply(this,arguments);};}()});});function basePrepareAccountsHd(_x9){return _basePrepareAccountsHd.apply(this,arguments);}return basePrepareAccountsHd;}();_proto.basePrepareAccountsHdUtxo=function(){var _basePrepareAccountsHdUtxo=_asyncToGenerator(function*(params,options){var _this4=this;var{password,indexes,deriveInfo,names,skipCheckAccountExist}=params;var addressEncoding=params?.deriveInfo?.addressEncoding;return this.basePrepareHdUtxoAccounts(params,_objectSpread(_objectSpread({},options),{},{buildAddressesInfo:function(){var _ref3=_asyncToGenerator(function*({usedIndexes}){var{coinType,template,namePrefix}=deriveInfo;defaultLogger.account.accountCreatePerf.getCredentialsInfo();var credentials=yield _this4.baseGetCredentialsInfo({password});if(!_this4.coreApi){throw new Error('coreApi is undefined');}defaultLogger.account.accountCreatePerf.getAddressesFromHd();var{addresses:addressesInfo}=yield _this4.coreApi.getAddressesFromHd({networkInfo:yield _this4.getCoreApiNetworkInfo(),template,hdCredential:checkIsDefined(credentials.hd),password,indexes:usedIndexes,addressEncoding});if(addressesInfo.length!==usedIndexes.length){throw new OneKeyInternalError('Unable to get address');}defaultLogger.account.accountCreatePerf.getAddressesFromHdDone();return addressesInfo;});return function buildAddressesInfo(_x13){return _ref3.apply(this,arguments);};}()}));});function basePrepareAccountsHdUtxo(_x11,_x12){return _basePrepareAccountsHdUtxo.apply(this,arguments);}return basePrepareAccountsHdUtxo;}();_proto.baseExportAccountSecretKeys=function(){var _baseExportAccountSecretKeys=_asyncToGenerator(function*(params){var{password,keyType,relPaths}=params;var account=yield this.vault.getAccount();var networkInfo=yield this.getCoreApiNetworkInfo();var credentials=yield this.baseGetCredentialsInfo({password});var{deriveInfo}=yield this.backgroundApi.serviceNetwork.getDeriveTypeByTemplate({networkId:this.networkId,template:account.template});var addressEncoding=deriveInfo?.addressEncoding;if(!this.coreApi){throw new Error('coreApi is not defined');}return this.coreApi.getExportedSecretKey({networkInfo,password,credentials,account,relPaths,keyType,addressEncoding});});function baseExportAccountSecretKeys(_x14){return _baseExportAccountSecretKeys.apply(this,arguments);}return baseExportAccountSecretKeys;}();_proto.baseGetPrivateKeys=function(){var _baseGetPrivateKeys=_asyncToGenerator(function*(params){var{password,relPaths}=params;if(!this.coreApi){throw new Error('coreApi is not defined');}var account=yield this.vault.getAccount();var credentials=yield this.baseGetCredentialsInfo({password});var networkInfo=yield this.getCoreApiNetworkInfo();var privateKeys=yield this.coreApi.getPrivateKeys({networkInfo,password,account,relPaths,credentials});return privateKeys;});function baseGetPrivateKeys(_x15){return _baseGetPrivateKeys.apply(this,arguments);}return baseGetPrivateKeys;}();return _createClass(KeyringSoftwareBase);}(KeyringBase);","import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import{InvalidAddress,OneKeyInternalError}from'@onekeyhq/shared/src/errors';import{ETranslations}from'@onekeyhq/shared/src/locale';import{appLocale}from'@onekeyhq/shared/src/locale/appLocale';import accountUtils from'@onekeyhq/shared/src/utils/accountUtils';import{checkIsDefined}from'@onekeyhq/shared/src/utils/assertUtils';import{EDBAccountType}from\"../../dbs/local/consts\";import{EVaultKeyringTypes}from\"../types\";import{KeyringBase}from\"./KeyringBase\";export var KeyringWatchingBase=function(_KeyringBase){_inherits(KeyringWatchingBase,_KeyringBase);var _super=_createSuper(KeyringWatchingBase);function KeyringWatchingBase(...args){var _this;_this=_super.call(this,...args);_this.keyringType=EVaultKeyringTypes.watching;return _this;}var _proto=KeyringWatchingBase.prototype;_proto.signTransaction=function(){var _signTransaction=_asyncToGenerator(function*(){throw new OneKeyInternalError(appLocale.intl.formatMessage({id:ETranslations.wallet_error_trade_with_watched_acocunt}));});function signTransaction(){return _signTransaction.apply(this,arguments);}return signTransaction;}();_proto.signMessage=function(){var _signMessage=_asyncToGenerator(function*(){throw new OneKeyInternalError(appLocale.intl.formatMessage({id:ETranslations.wallet_error_trade_with_watched_acocunt}));});function signMessage(){return _signMessage.apply(this,arguments);}return signMessage;}();_proto.basePrepareUtxoWatchingAccounts=function(){var _basePrepareUtxoWatchingAccounts=_asyncToGenerator(function*(params){var{address,xpub,networks,createAtNetwork,name,deriveInfo,isUrlAccount,addresses}=params;if(!address&&!xpub){throw new Error('basePrepareUtxoWatchingAccounts ERROR: address and xpub are not defined');}var networkInfo=yield this.getCoreApiNetworkInfo();var settings=yield this.getVaultSettings();var coinType=settings.coinTypeDefault;var addressEncoding=deriveInfo?.addressEncoding;var id=accountUtils.buildWatchingAccountId({coinType,address,xpub,addressEncoding,isUrlAccount});var addressFromXpub='';var xpubSegwit=xpub;if(!address&&xpub){checkIsDefined(this.coreApi);var result=yield this.coreApi?.getAddressFromPublic({publicKey:xpub,addressEncoding,networkInfo});addressFromXpub=result?.address||'';xpubSegwit=result?.xpubSegwit||xpubSegwit||xpub;}var account={id,name,type:EDBAccountType.UTXO,relPath:'0/0',coinType,impl:settings.impl,networks,createAtNetwork,address:addressFromXpub||address||'',xpub:xpub||'',xpubSegwit,path:'',addresses:addresses||{}};return[account];});function basePrepareUtxoWatchingAccounts(_x){return _basePrepareUtxoWatchingAccounts.apply(this,arguments);}return basePrepareUtxoWatchingAccounts;}();_proto.basePrepareSimpleWatchingAccounts=function(){var _basePrepareSimpleWatchingAccounts=_asyncToGenerator(function*(params,options={}){var{address,name,networks,createAtNetwork,isUrlAccount}=params;if(!address){throw new InvalidAddress();}if(!createAtNetwork){throw new Error('basePrepareSimpleWatchingAccounts ERROR: createAtNetwork is not defined');}var{onlyAvailableOnCertainNetworks=false}=options;var settings=yield this.getVaultSettings();var coinType=options.coinType||settings.coinTypeDefault;var impl=options.impl||settings.impl;var id=accountUtils.buildWatchingAccountId({coinType,address,isUrlAccount});var account={id,name:name||'',type:EDBAccountType.SIMPLE,coinType,impl,networks:onlyAvailableOnCertainNetworks?networks:undefined,createAtNetwork,address,pub:'',path:''};return Promise.resolve([account]);});function basePrepareSimpleWatchingAccounts(_x2){return _basePrepareSimpleWatchingAccounts.apply(this,arguments);}return basePrepareSimpleWatchingAccounts;}();return _createClass(KeyringWatchingBase);}(KeyringBase);","import _objectWithoutProperties from\"@babel/runtime/helpers/objectWithoutProperties\";import _omitBy from\"lodash/omitBy\";import _isEmpty from\"lodash/isEmpty\";import _isNil from\"lodash/isNil\";import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _omit from\"lodash/omit\";import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";var _excluded=[\"accountId\"],_excluded2=[\"accountId\"];function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import qs from'querystring';import{Semaphore}from'async-mutex';import BigNumber from'bignumber.js';import{decodeSensitiveText,encodeSensitiveText}from'@onekeyhq/core/src/secret';import{getNetworkIdsMap}from'@onekeyhq/shared/src/config/networkIds';import{NotImplemented}from'@onekeyhq/shared/src/errors';import platformEnv from'@onekeyhq/shared/src/platformEnv';import accountUtils from'@onekeyhq/shared/src/utils/accountUtils';import chainValueUtils from'@onekeyhq/shared/src/utils/chainValueUtils';import hexUtils from'@onekeyhq/shared/src/utils/hexUtils';import{getOnChainHistoryTxAssetInfo,getOnChainHistoryTxStatus}from'@onekeyhq/shared/src/utils/historyUtils';import{generateUUID}from'@onekeyhq/shared/src/utils/miscUtils';import{buildTxActionDirection,getStakingActionLabel}from'@onekeyhq/shared/src/utils/txActionUtils';import{addressIsEnsFormat}from'@onekeyhq/shared/src/utils/uriUtils';import{EServiceEndpointEnum}from'@onekeyhq/shared/types/endpoint';import{EOnChainHistoryTxType}from'@onekeyhq/shared/types/history';import{EDecodedTxActionType,EDecodedTxDirection}from'@onekeyhq/shared/types/tx';import{VaultContext}from\"./VaultContext\";if(platformEnv.isExtensionUi){debugger;throw new Error('engine/VaultBase is not allowed imported from ui');}export var VaultBaseChainOnly=function(_VaultContext){_inherits(VaultBaseChainOnly,_VaultContext);var _super=_createSuper(VaultBaseChainOnly);function VaultBaseChainOnly(){return _super.apply(this,arguments);}var _proto=VaultBaseChainOnly.prototype;_proto.getXpubFromAccount=function(){var _getXpubFromAccount=_asyncToGenerator(function*(networkAccount){return networkAccount.xpub;});function getXpubFromAccount(_x){return _getXpubFromAccount.apply(this,arguments);}return getXpubFromAccount;}();_proto.proxyJsonRPCCall=function(){var _proxyJsonRPCCall=_asyncToGenerator(function*(request){throw new NotImplemented();});function proxyJsonRPCCall(_x2){return _proxyJsonRPCCall.apply(this,arguments);}return proxyJsonRPCCall;}();_proto.addressFromBase=function(){var _addressFromBase=_asyncToGenerator(function*(account){throw new NotImplemented();});function addressFromBase(_x3){return _addressFromBase.apply(this,arguments);}return addressFromBase;}();_proto.addressToBase=function(){var _addressToBase=_asyncToGenerator(function*(address){throw new NotImplemented();});function addressToBase(_x4){return _addressToBase.apply(this,arguments);}return addressToBase;}();_proto.baseValidatePrivateKey=function(){var _baseValidatePrivateKey=_asyncToGenerator(function*(privateKey){if(!this.coreApi){throw new Error('coreApi not defined in Vault');}try{var networkInfo=yield this.getCoreApiNetworkInfo();var result=yield this.coreApi.getAddressFromPrivate({networkInfo,privateKeyRaw:privateKey});if(result.publicKey){return{isValid:true};}}catch(error){}return{isValid:false};});function baseValidatePrivateKey(_x5){return _baseValidatePrivateKey.apply(this,arguments);}return baseValidatePrivateKey;}();_proto.baseValidateGeneralInput=function(){var _baseValidateGeneralInput=_asyncToGenerator(function*(params){var input=decodeSensitiveText({encodedText:params.input});var{validateAddress,validateXprvt,validateXpub,validatePrivateKey}=params;var result={isValid:false};var isValid=false;var addressResult;var xpubResult;var xprvtResult;var privateKeyResult;if(validateAddress&&!isValid){try{addressResult=yield this.validateAddress(input);result.addressResult=addressResult;isValid=isValid||addressResult?.isValid;}catch(error){}}if(validateXpub&&!isValid){try{xpubResult=yield this.validateXpub(input);result.xpubResult=xpubResult;isValid=isValid||xpubResult?.isValid;}catch(error){}}if(validateXprvt&&!isValid){try{xprvtResult=yield this.validateXprvt(input);result.xprvtResult=xprvtResult;isValid=isValid||xprvtResult?.isValid;}catch(error){}}if(validatePrivateKey&&!isValid){try{privateKeyResult=yield this.validatePrivateKey(input);result.privateKeyResult=privateKeyResult;isValid=isValid||privateKeyResult?.isValid;}catch(error){}}result.isValid=Boolean(isValid);return{result,inputDecoded:input};});function baseValidateGeneralInput(_x6){return _baseValidateGeneralInput.apply(this,arguments);}return baseValidateGeneralInput;}();_proto.baseGetPrivateKeyFromImported=function(){var _baseGetPrivateKeyFromImported=_asyncToGenerator(function*(params){var input=decodeSensitiveText({encodedText:params.input});var privateKey=hexUtils.stripHexPrefix(input);privateKey=encodeSensitiveText({text:privateKey});return{privateKey};});function baseGetPrivateKeyFromImported(_x7){return _baseGetPrivateKeyFromImported.apply(this,arguments);}return baseGetPrivateKeyFromImported;}();_proto.validateAmountInputShown=function(){var _validateAmountInputShown=_asyncToGenerator(function*({toAddress}){return Promise.resolve({isValid:true});});function validateAmountInputShown(_x8){return _validateAmountInputShown.apply(this,arguments);}return validateAmountInputShown;}();_proto.checkIsDomainName=function(){var _checkIsDomainName=_asyncToGenerator(function*({name}){return addressIsEnsFormat(name);});function checkIsDomainName(_x9){return _checkIsDomainName.apply(this,arguments);}return checkIsDomainName;}();_proto.resolveDomainName=function(){var _resolveDomainName=_asyncToGenerator(function*({name}){return null;});function resolveDomainName(_x10){return _resolveDomainName.apply(this,arguments);}return resolveDomainName;}();_proto.getCustomRpcEndpointStatus=function(){var _getCustomRpcEndpointStatus=_asyncToGenerator(function*(params){throw new NotImplemented();});function getCustomRpcEndpointStatus(_x11){return _getCustomRpcEndpointStatus.apply(this,arguments);}return getCustomRpcEndpointStatus;}();_proto.checkFeeSupportInfo=function(){var _checkFeeSupportInfo=_asyncToGenerator(function*(params){throw new NotImplemented();});function checkFeeSupportInfo(_x12){return _checkFeeSupportInfo.apply(this,arguments);}return checkFeeSupportInfo;}();_proto.fetchTokenDetails=function(){var _fetchTokenDetails=_asyncToGenerator(function*(params){var isCustomNetwork=yield this.backgroundApi.serviceNetwork.isCustomNetwork({networkId:this.networkId});if(isCustomNetwork){return this.fetchTokenDetailsByRpc(params);}return this.fetchTokenDetailsByApi(params);});function fetchTokenDetails(_x13){return _fetchTokenDetails.apply(this,arguments);}return fetchTokenDetails;}();_proto.fetchTokenDetailsByApi=function(){var _fetchTokenDetailsByApi=_asyncToGenerator(function*(params){var _params$signal;var client=yield this.backgroundApi.serviceToken.getClient(EServiceEndpointEnum.Wallet);var resp=yield client.post('/wallet/v1/account/token/search',_omit(params,['walletId','accountId','signal']),{headers:yield this.backgroundApi.serviceAccountProfile._getWalletTypeHeader({accountId:params.accountId,walletId:params.walletId}),signal:(_params$signal=params.signal)!=null?_params$signal:undefined});return resp;});function fetchTokenDetailsByApi(_x14){return _fetchTokenDetailsByApi.apply(this,arguments);}return fetchTokenDetailsByApi;}();_proto.fetchTokenDetailsByRpc=function(){var _fetchTokenDetailsByRpc=_asyncToGenerator(function*(params){throw new NotImplemented();});function fetchTokenDetailsByRpc(_x15){return _fetchTokenDetailsByRpc.apply(this,arguments);}return fetchTokenDetailsByRpc;}();return _createClass(VaultBaseChainOnly);}(VaultContext);export var VaultBase=function(_VaultBaseChainOnly){_inherits(VaultBase,_VaultBaseChainOnly);var _super2=_createSuper(VaultBase);function VaultBase(...args){var _this;_this=_super2.call(this,...args);_this.uuid=generateUUID();_this.mutexBuildOnChainHistoryTxGetDBAccount=new Semaphore(1);return _this;}var _proto2=VaultBase.prototype;_proto2.init=function(){var _init=_asyncToGenerator(function*(config){yield this.initKeyring(config);});function init(_x16){return _init.apply(this,arguments);}return init;}();_proto2.initKeyring=function(){var _initKeyring=_asyncToGenerator(function*(config){if(!this.options.isChainOnly){this.keyring=yield config.keyringCreator(this);}});function initKeyring(_x17){return _initKeyring.apply(this,arguments);}return initKeyring;}();_proto2.broadcastTransaction=function(){var _broadcastTransaction=_asyncToGenerator(function*(params){var{signedTx}=params;var txid=yield this.backgroundApi.serviceSend.broadcastTransaction(params);return _objectSpread(_objectSpread({},signedTx),{},{txid,encodedTx:signedTx.encodedTx});});function broadcastTransaction(_x18){return _broadcastTransaction.apply(this,arguments);}return broadcastTransaction;}();_proto2.broadcastTransactionFromCustomRpc=function(){var _broadcastTransactionFromCustomRpc=_asyncToGenerator(function*(params){throw new NotImplemented();});function broadcastTransactionFromCustomRpc(_x19){return _broadcastTransactionFromCustomRpc.apply(this,arguments);}return broadcastTransactionFromCustomRpc;}();_proto2.validateSendAmount=function(){var _validateSendAmount=_asyncToGenerator(function*(params){return Promise.resolve(true);});function validateSendAmount(_x20){return _validateSendAmount.apply(this,arguments);}return validateSendAmount;}();_proto2.buildOnChainHistoryTxExtraInfo=function(){var _buildOnChainHistoryTxExtraInfo=_asyncToGenerator(function*({onChainHistoryTx}){return null;});function buildOnChainHistoryTxExtraInfo(_x21){return _buildOnChainHistoryTxExtraInfo.apply(this,arguments);}return buildOnChainHistoryTxExtraInfo;}();_proto2.precheckUnsignedTx=function(){var _precheckUnsignedTx=_asyncToGenerator(function*(params){return Promise.resolve(true);});function precheckUnsignedTx(_x22){return _precheckUnsignedTx.apply(this,arguments);}return precheckUnsignedTx;}();_proto2.buildEstimateFeeParams=function(){var _buildEstimateFeeParams=_asyncToGenerator(function*({encodedTx}){return Promise.resolve({encodedTx});});function buildEstimateFeeParams(_x23){return _buildEstimateFeeParams.apply(this,arguments);}return buildEstimateFeeParams;}();_proto2.buildParseTransactionParams=function(){var _buildParseTransactionParams=_asyncToGenerator(function*({encodedTx}){return Promise.resolve({encodedTx});});function buildParseTransactionParams(_x24){return _buildParseTransactionParams.apply(this,arguments);}return buildParseTransactionParams;}();_proto2.buildFetchHistoryListParams=function(){var _buildFetchHistoryListParams=_asyncToGenerator(function*(params){return Promise.resolve({});});function buildFetchHistoryListParams(_x25){return _buildFetchHistoryListParams.apply(this,arguments);}return buildFetchHistoryListParams;}();_proto2.buildHistoryTx=function(){var _buildHistoryTx=_asyncToGenerator(function*(params){var{historyTxToMerge,decodedTx,signedTx,isSigner,isLocalCreated,dbAccount}=params;var accountAddress=params.accountAddress||'';var xpub=params.xpub;var txid=signedTx?.txid||decodedTx?.txid||'';if(!txid){throw new Error('buildHistoryTx txid not found');}var{accountId,networkId}=decodedTx;try{var[a,x]=yield Promise.all([this.backgroundApi.serviceAccount.getAccountAddressForApi({dbAccount,accountId,networkId}),this.backgroundApi.serviceAccount.getAccountXpub({dbAccount,accountId,networkId})]);accountAddress=a;xpub=x;}catch(e){}decodedTx.txid=txid||decodedTx.txid;decodedTx.owner=accountAddress;decodedTx.xpub=xpub;if(isSigner){decodedTx.signer=accountAddress;}var historyId=accountUtils.buildLocalHistoryId({networkId,txid,accountAddress,xpub});var historyTx=_objectSpread(_objectSpread({id:historyId,isLocalCreated:Boolean(isLocalCreated)},historyTxToMerge),{},{decodedTx});return Promise.resolve(historyTx);});function buildHistoryTx(_x26){return _buildHistoryTx.apply(this,arguments);}return buildHistoryTx;}();_proto2.fixOnChainHistoryAccountData=function fixOnChainHistoryAccountData(params){var{accountId:originAccountId,networkId:originNetworkId,accountAddress:originAccountAddress,xpub:originXpub,onChainHistoryTx,allNetworkHistoryExtraItems}=params;var accountId=originAccountId;var networkId=originNetworkId;var accountAddress=originAccountAddress;var xpub=originXpub;if(originNetworkId===getNetworkIdsMap().onekeyall){var allNetworkAccount=allNetworkHistoryExtraItems?.find(function(i){var[_,txXpub]=onChainHistoryTx.key.split('_');if(!_isNil(i.accountXpub)){return i.networkId===onChainHistoryTx.networkId&&i.accountXpub===txXpub;}return i.networkId===onChainHistoryTx.networkId;});if(allNetworkAccount){accountId=allNetworkAccount.accountId;networkId=allNetworkAccount.networkId;accountAddress=allNetworkAccount.accountAddress;xpub=allNetworkAccount.accountXpub;}}return{accountId,networkId,accountAddress,xpub};};_proto2.buildOnChainHistoryTx=function(){var _buildOnChainHistoryTx=_asyncToGenerator(function*(params){var _this2=this;var{onChainHistoryTx,tokens,nfts,allNetworkHistoryExtraItems,dbAccountCache}=params;var{accountId,networkId,accountAddress,xpub}=this.fixOnChainHistoryAccountData({accountId:params.accountId,networkId:params.networkId,accountAddress:params.accountAddress,xpub:params.xpub,onChainHistoryTx,allNetworkHistoryExtraItems});if(params.accountId!==accountId){}var key=`${accountId}`;var dbAccount;if(dbAccountCache){yield this.mutexBuildOnChainHistoryTxGetDBAccount.runExclusive(_asyncToGenerator(function*(){dbAccount=dbAccountCache?.[key];if(!dbAccount){dbAccount=yield _this2.backgroundApi.serviceAccount.getDBAccountSafe({accountId});if(dbAccount){dbAccountCache[key]=dbAccount;}}}));}var vaultSettings=yield this.backgroundApi.serviceNetwork.getVaultSettings({networkId});try{var action=yield this.buildHistoryTxAction({tx:onChainHistoryTx,tokens,nfts});var decodedTx={txid:onChainHistoryTx.tx,owner:accountAddress,signer:onChainHistoryTx.from,to:onChainHistoryTx.to,nonce:onChainHistoryTx.nonce,actions:[action],status:getOnChainHistoryTxStatus(onChainHistoryTx.status),networkId,accountId,xpub,totalFeeInNative:onChainHistoryTx.gasFee,totalFeeFiatValue:onChainHistoryTx.gasFeeFiatValue,nativeAmount:vaultSettings.isUtxo?onChainHistoryTx.value:undefined,extraInfo:yield this.buildOnChainHistoryTxExtraInfo({onChainHistoryTx}),payload:{type:onChainHistoryTx.type,value:onChainHistoryTx.value,label:onChainHistoryTx.label}};decodedTx.updatedAt=new Date(onChainHistoryTx.timestamp*1000).getTime();decodedTx.createdAt=decodedTx.updatedAt;decodedTx.isFinal=true;return yield this.buildHistoryTx({dbAccount,decodedTx,accountAddress,xpub});}catch(e){return null;}});function buildOnChainHistoryTx(_x27){return _buildOnChainHistoryTx.apply(this,arguments);}return buildOnChainHistoryTx;}();_proto2.buildHistoryTxAction=function(){var _buildHistoryTxAction=_asyncToGenerator(function*({tx,tokens,nfts}){if(tx.type===EOnChainHistoryTxType.Approve&&tx.tokenApprove){return this.buildHistoryTxApproveAction({tx,tokens,nfts,tokenApprove:tx.tokenApprove});}if(_isEmpty(tx.sends)&&_isEmpty(tx.receives)){if(tx.type)return this.buildHistoryTxFunctionCallAction({tx});return this.buildHistoryTxUnknownAction({tx});}return this.buildHistoryTransferAction({tx,tokens,nfts});});function buildHistoryTxAction(_x28){return _buildHistoryTxAction.apply(this,arguments);}return buildHistoryTxAction;}();_proto2.buildHistoryTxFunctionCallAction=function(){var _buildHistoryTxFunctionCallAction=_asyncToGenerator(function*({tx}){var network=yield this.getNetwork();return{type:EDecodedTxActionType.FUNCTION_CALL,functionCall:{from:tx.from,to:tx.to,functionName:tx.label,functionHash:tx.functionCode,args:tx.params}};});function buildHistoryTxFunctionCallAction(_x29){return _buildHistoryTxFunctionCallAction.apply(this,arguments);}return buildHistoryTxFunctionCallAction;}();_proto2.buildHistoryTxUnknownAction=function(){var _buildHistoryTxUnknownAction=_asyncToGenerator(function*({tx}){var network=yield this.getNetwork();return{type:EDecodedTxActionType.UNKNOWN,unknownAction:{from:tx.from,to:tx.to,label:tx.label}};});function buildHistoryTxUnknownAction(_x30){return _buildHistoryTxUnknownAction.apply(this,arguments);}return buildHistoryTxUnknownAction;}();_proto2.buildHistoryTransferAction=function(){var _buildHistoryTransferAction=_asyncToGenerator(function*({tx,tokens,nfts}){var _this3=this;return{type:EDecodedTxActionType.ASSET_TRANSFER,assetTransfer:{from:tx.from,to:tx.to,label:tx.label,sends:tx.sends.map(function(send){return _this3.buildHistoryTransfer({transfer:send,tokens,nfts});}),receives:tx.receives.map(function(receive){return _this3.buildHistoryTransfer({transfer:receive,tokens,nfts});})}};});function buildHistoryTransferAction(_x31){return _buildHistoryTransferAction.apply(this,arguments);}return buildHistoryTransferAction;}();_proto2.buildHistoryTransfer=function buildHistoryTransfer({transfer,tokens,nfts}){var{icon,symbol,name,isNFT,isNative,price}=getOnChainHistoryTxAssetInfo({key:transfer.key,tokenAddress:transfer.token,tokens,nfts});return{from:transfer.from,to:transfer.to,tokenIdOnNetwork:transfer.token,amount:transfer.amount,label:transfer.label,isOwn:transfer.isOwn,icon,name,symbol,isNFT,isNative,price};};_proto2.buildHistoryTxApproveAction=function buildHistoryTxApproveAction({tx,tokens,nfts,tokenApprove}){var{icon,symbol,name,decimals}=getOnChainHistoryTxAssetInfo({key:tokenApprove.key,tokenAddress:tokenApprove.token,tokens,nfts});return{type:EDecodedTxActionType.TOKEN_APPROVE,tokenApprove:{from:tx.from,to:tx.to,spender:tokenApprove.spender,icon,name,symbol,decimals,label:tx.label,tokenIdOnNetwork:tokenApprove.token,amount:new BigNumber(tokenApprove.amount).shiftedBy(-decimals).toFixed(),isInfiniteAmount:tokenApprove.isInfiniteAmount}};};_proto2.buildTxTransferAssetAction=function(){var _buildTxTransferAssetAction=_asyncToGenerator(function*(params){var{from,to,transfers,data,application,isInternalSwap,isInternalStaking,internalStakingLabel,swapReceivedAddress,swapReceivedNetworkId}=params;var[accountAddress,network]=yield Promise.all([this.getAccountAddress(),this.getNetwork()]);var sendNativeTokenAmountBN=new BigNumber(0);var assetTransfer={from,to,sends:[],receives:[],application,isInternalSwap,isInternalStaking,internalStakingLabel,swapReceivedAddress,swapReceivedNetworkId};transfers.forEach(function(transfer){if(buildTxActionDirection({from:transfer.from,to:transfer.to,accountAddress})===EDecodedTxDirection.OUT){assetTransfer.sends.push(transfer);if(transfer.isNative){sendNativeTokenAmountBN=sendNativeTokenAmountBN.plus(new BigNumber(transfer.amount));}}else{assetTransfer.receives.push(transfer);}});assetTransfer.nativeAmount=sendNativeTokenAmountBN.toFixed();assetTransfer.nativeAmountValue=chainValueUtils.convertAmountToChainValue({value:sendNativeTokenAmountBN,network});return{type:EDecodedTxActionType.ASSET_TRANSFER,data,assetTransfer};});function buildTxTransferAssetAction(_x32){return _buildTxTransferAssetAction.apply(this,arguments);}return buildTxTransferAssetAction;}();_proto2.buildInternalSwapAction=function(){var _buildInternalSwapAction=_asyncToGenerator(function*(params){var _swapSendToken$logoUR,_swapSendToken$name,_swapReceiveToken$log,_swapReceiveToken$nam,_providerInfo$provide;var{swapData,swapInfo,swapToAddress}=params;var swapSendToken=swapInfo.sender.token;var swapReceiveToken=swapInfo.receiver.token;var providerInfo=swapInfo.swapBuildResData.result.info;var otherFeeInfos=swapInfo.swapBuildResData.result.fee?.otherFeeInfos;var otherFeeInfoTransfers=[];var transfers=[{from:swapInfo.accountAddress,to:'',tokenIdOnNetwork:swapSendToken.contractAddress,icon:(_swapSendToken$logoUR=swapSendToken.logoURI)!=null?_swapSendToken$logoUR:'',name:(_swapSendToken$name=swapSendToken.name)!=null?_swapSendToken$name:'',symbol:swapSendToken.symbol,amount:swapInfo.sender.amount,isNFT:false,isNative:swapSendToken.isNative,networkId:swapInfo.sender.accountInfo.networkId},{from:'',to:swapInfo.receivingAddress,tokenIdOnNetwork:swapReceiveToken.contractAddress,icon:(_swapReceiveToken$log=swapReceiveToken.logoURI)!=null?_swapReceiveToken$log:'',name:(_swapReceiveToken$nam=swapReceiveToken.name)!=null?_swapReceiveToken$nam:'',symbol:swapReceiveToken.symbol,amount:swapInfo.receiver.amount,isNFT:false,isNative:swapReceiveToken.isNative,networkId:swapInfo.receiver.accountInfo.networkId}];if(otherFeeInfos){otherFeeInfos.forEach(function(feeInfo){if(feeInfo.token.contractAddress===transfers[0].tokenIdOnNetwork){transfers[0].amount=new BigNumber(transfers[0].amount).plus(feeInfo.amount).toFixed();}else{var _feeInfo$token$logoUR,_feeInfo$token$name;otherFeeInfoTransfers.push({from:swapInfo.accountAddress,to:'',tokenIdOnNetwork:feeInfo.token.contractAddress,icon:(_feeInfo$token$logoUR=feeInfo.token.logoURI)!=null?_feeInfo$token$logoUR:'',name:(_feeInfo$token$name=feeInfo.token.name)!=null?_feeInfo$token$name:'',symbol:feeInfo.token.symbol,amount:feeInfo.amount,isNFT:false,isNative:feeInfo.token.isNative,networkId:swapInfo.sender.accountInfo.networkId});}});}transfers=[...otherFeeInfoTransfers,...transfers];var action=yield this.buildTxTransferAssetAction({from:swapInfo.accountAddress,to:swapToAddress!=null?swapToAddress:'',data:swapData,application:{name:providerInfo.providerName,icon:(_providerInfo$provide=providerInfo.providerLogo)!=null?_providerInfo$provide:''},isInternalSwap:true,swapReceivedAddress:swapInfo.receivingAddress,swapReceivedNetworkId:swapInfo.receiver.token.networkId,transfers});return action;});function buildInternalSwapAction(_x33){return _buildInternalSwapAction.apply(this,arguments);}return buildInternalSwapAction;}();_proto2.buildInternalStakingAction=function(){var _buildInternalStakingAction=_asyncToGenerator(function*(params){var _send$token$logoURI,_send$token$name,_receive$token$logoUR,_receive$token$name;var{stakingInfo,stakingData,accountAddress,stakingToAddress}=params;var{protocol,protocolLogoURI,send,receive}=stakingInfo;var transfers=[send&&{from:accountAddress,to:'',tokenIdOnNetwork:send.token.address,icon:(_send$token$logoURI=send.token.logoURI)!=null?_send$token$logoURI:'',name:(_send$token$name=send.token.name)!=null?_send$token$name:'',symbol:send.token.symbol,amount:send.amount,isNFT:false,isNative:send.token.isNative},receive&&{from:'',to:accountAddress,tokenIdOnNetwork:receive.token.address,icon:(_receive$token$logoUR=receive.token.logoURI)!=null?_receive$token$logoUR:'',name:(_receive$token$name=receive.token.name)!=null?_receive$token$name:'',symbol:receive.token.symbol,amount:receive.amount,isNFT:false,isNative:receive.token.isNative}].filter(Boolean);var action=yield this.buildTxTransferAssetAction({from:accountAddress,to:stakingToAddress!=null?stakingToAddress:'',data:stakingData,application:{name:protocol,icon:protocolLogoURI!=null?protocolLogoURI:''},isInternalStaking:true,internalStakingLabel:getStakingActionLabel({stakingInfo}),transfers});return action;});function buildInternalStakingAction(_x34){return _buildInternalStakingAction.apply(this,arguments);}return buildInternalStakingAction;}();_proto2.signTransaction=function(){var _signTransaction=_asyncToGenerator(function*(params){var _params$signOnly,_signedTx$encodedTx;var{unsignedTx}=params;params.signOnly=(_params$signOnly=params.signOnly)!=null?_params$signOnly:true;var signedTx=yield this.keyring.signTransaction(params);return _objectSpread(_objectSpread({},signedTx),{},{encodedTx:(_signedTx$encodedTx=signedTx.encodedTx)!=null?_signedTx$encodedTx:unsignedTx.encodedTx});});function signTransaction(_x35){return _signTransaction.apply(this,arguments);}return signTransaction;}();_proto2.getAccount=function(){var _getAccount=_asyncToGenerator(function*({dbAccount}={}){var account=dbAccount;if(!account||account?.id!==this.accountId){account=yield this.backgroundApi.serviceAccount.getDBAccount({accountId:this.accountId});}if(!accountUtils.isAccountCompatibleWithNetwork({account,networkId:this.networkId})){throw new Error(`account impl not matched to network: ${this.networkId} ${account.id?.slice(0,30)}`);}var networkInfo=yield this.getNetworkInfo();var externalAccount=account;var externalAccountAddress='';if(externalAccount.connectedAddresses){var buildExternalAccountAddress=function({key,fallbackIndex}){var _externalAccount$sele;if(!key){return'';}var index=(_externalAccount$sele=externalAccount.selectedAddress?.[key])!=null?_externalAccount$sele:fallbackIndex;var addresses=externalAccount.connectedAddresses?.[key]?.split(',').filter(Boolean)||[];return addresses?.[index]||addresses?.[fallbackIndex]||'';};externalAccountAddress=buildExternalAccountAddress({key:this.networkId,fallbackIndex:-1});if(!externalAccountAddress){var impl=yield this.getNetworkImpl();externalAccountAddress=buildExternalAccountAddress({key:impl,fallbackIndex:0});}if(!externalAccountAddress){externalAccountAddress=buildExternalAccountAddress({key:this.networkId,fallbackIndex:0});}}var addressDetail=yield this.buildAccountAddressDetail({networkInfo,account,networkId:this.networkId,externalAccountAddress});var address=addressDetail?.address||'';if(!address&&!addressDetail.allowEmptyAddress||!addressDetail.isValid){throw new Error('VaultBase.getAccount ERROR: address is invalid');}return _objectSpread(_objectSpread({},account),{},{addressDetail,address});});function getAccount(){return _getAccount.apply(this,arguments);}return getAccount;}();_proto2.getAccountAddress=function(){var _getAccountAddress=_asyncToGenerator(function*(){return(yield this.getAccount()).address;});function getAccountAddress(){return _getAccountAddress.apply(this,arguments);}return getAccountAddress;}();_proto2.getAccountPath=function(){var _getAccountPath=_asyncToGenerator(function*(){return(yield this.getAccount()).path;});function getAccountPath(){return _getAccountPath.apply(this,arguments);}return getAccountPath;}();_proto2.getAccountXpub=function(){var _getAccountXpub=_asyncToGenerator(function*({dbAccount}={}){var networkAccount=yield this.getAccount({dbAccount});return this.getXpubFromAccount(networkAccount);});function getAccountXpub(){return _getAccountXpub.apply(this,arguments);}return getAccountXpub;}();_proto2.fillTokensDetails=function(){var _fillTokensDetails=_asyncToGenerator(function*({tokensDetails}){return Promise.resolve(tokensDetails);});function fillTokensDetails(_x36){return _fillTokensDetails.apply(this,arguments);}return fillTokensDetails;}();_proto2.fillAccountDetails=function(){var _fillAccountDetails=_asyncToGenerator(function*({accountDetails}){return Promise.resolve(accountDetails);});function fillAccountDetails(_x37){return _fillAccountDetails.apply(this,arguments);}return fillAccountDetails;}();_proto2.isEarliestLocalPendingTx=function(){var _isEarliestLocalPendingTx=_asyncToGenerator(function*({encodedTx}){return true;});function isEarliestLocalPendingTx(_x38){return _isEarliestLocalPendingTx.apply(this,arguments);}return isEarliestLocalPendingTx;}();_proto2.buildReplaceEncodedTx=function(){var _buildReplaceEncodedTx=_asyncToGenerator(function*({decodedTx,replaceType}){return Promise.resolve(decodedTx.encodedTx);});function buildReplaceEncodedTx(_x39){return _buildReplaceEncodedTx.apply(this,arguments);}return buildReplaceEncodedTx;}();_proto2.attachFeeInfoToDAppEncodedTx=function(){var _attachFeeInfoToDAppEncodedTx=_asyncToGenerator(function*(params){return Promise.resolve(params.encodedTx);});function attachFeeInfoToDAppEncodedTx(_x40){return _attachFeeInfoToDAppEncodedTx.apply(this,arguments);}return attachFeeInfoToDAppEncodedTx;}();_proto2.activateToken=function(){var _activateToken=_asyncToGenerator(function*(params){throw new NotImplemented();});function activateToken(_x41){return _activateToken.apply(this,arguments);}return activateToken;}();_proto2.getAddressType=function(){var _getAddressType=_asyncToGenerator(function*({address}){return Promise.resolve({});});function getAddressType(_x42){return _getAddressType.apply(this,arguments);}return getAddressType;}();_proto2.buildStakeEncodedTx=function buildStakeEncodedTx(params){return Promise.resolve(params);};_proto2.fetchAccountDetails=function(){var _fetchAccountDetails=_asyncToGenerator(function*(params){var isCustomNetwork=yield this.backgroundApi.serviceNetwork.isCustomNetwork({networkId:this.networkId});if(isCustomNetwork){return this.fetchAccountDetailsByRpc(params);}return this.fetchAccountDetailsByApi(params);});function fetchAccountDetails(_x43){return _fetchAccountDetails.apply(this,arguments);}return fetchAccountDetails;}();_proto2.fetchAccountDetailsByApi=function(){var _fetchAccountDetailsByApi=_asyncToGenerator(function*(params){var queryParams=_objectSpread({},_omit(params,['accountId','signal']));var client=yield this.backgroundApi.serviceAccountProfile.getClient(EServiceEndpointEnum.Wallet);var resp=yield client.get(`/wallet/v1/account/get-account?${qs.stringify(_omitBy(queryParams,_isNil))}`,{headers:yield this.backgroundApi.serviceAccountProfile._getWalletTypeHeader({accountId:params.accountId}),signal:params.signal});return resp;});function fetchAccountDetailsByApi(_x44){return _fetchAccountDetailsByApi.apply(this,arguments);}return fetchAccountDetailsByApi;}();_proto2.fetchAccountDetailsByRpc=function(){var _fetchAccountDetailsByRpc=_asyncToGenerator(function*(params){throw new NotImplemented();});function fetchAccountDetailsByRpc(_x45){return _fetchAccountDetailsByRpc.apply(this,arguments);}return fetchAccountDetailsByRpc;}();_proto2.fetchTokenList=function(){var _fetchTokenList=_asyncToGenerator(function*(params){var isCustomNetwork=yield this.backgroundApi.serviceNetwork.isCustomNetwork({networkId:this.networkId});if(isCustomNetwork){return this.fetchTokenListByRpc(params);}return this.fetchTokenListByApi(params);});function fetchTokenList(_x46){return _fetchTokenList.apply(this,arguments);}return fetchTokenList;}();_proto2.fetchTokenListByApi=function(){var _fetchTokenListByApi=_asyncToGenerator(function*(params){var{serviceToken,serviceAccountProfile}=this.backgroundApi;var{requestApiParams,flag,signal,accountId}=params;if(requestApiParams.contractList){requestApiParams.contractList=requestApiParams.contractList.filter(function(contract){return contract!==null&&typeof contract==='string';});}var client=yield serviceToken.getClient(EServiceEndpointEnum.Wallet);var resp=yield client.post(`/wallet/v1/account/token/list?flag=${flag||''}`,requestApiParams,{signal,headers:yield serviceAccountProfile._getWalletTypeHeader({accountId})});return resp;});function fetchTokenListByApi(_x47){return _fetchTokenListByApi.apply(this,arguments);}return fetchTokenListByApi;}();_proto2.fetchTokenListByRpc=function(){var _fetchTokenListByRpc=_asyncToGenerator(function*(params){throw new NotImplemented();});function fetchTokenListByRpc(_x48){return _fetchTokenListByRpc.apply(this,arguments);}return fetchTokenListByRpc;}();_proto2.estimateFee=function(){var _estimateFee=_asyncToGenerator(function*(params){var isCustomNetwork=yield this.backgroundApi.serviceNetwork.isCustomNetwork({networkId:this.networkId});if(isCustomNetwork){return this.estimateFeeByRpc(params);}return this.estimateFeeByApi(params);});function estimateFee(_x49){return _estimateFee.apply(this,arguments);}return estimateFee;}();_proto2.estimateFeeByApi=function(){var _estimateFeeByApi=_asyncToGenerator(function*(params){var{accountId}=params,rest=_objectWithoutProperties(params,_excluded);var client=yield this.backgroundApi.serviceGas.getClient(EServiceEndpointEnum.Wallet);var resp=yield client.post('/wallet/v1/account/estimate-fee',rest,{headers:yield this.backgroundApi.serviceAccountProfile._getWalletTypeHeader({accountId})});return resp;});function estimateFeeByApi(_x50){return _estimateFeeByApi.apply(this,arguments);}return estimateFeeByApi;}();_proto2.estimateFeeByRpc=function(){var _estimateFeeByRpc=_asyncToGenerator(function*(params){throw new NotImplemented();});function estimateFeeByRpc(_x51){return _estimateFeeByRpc.apply(this,arguments);}return estimateFeeByRpc;}();_proto2.fetchAccountHistoryDetail=function(){var _fetchAccountHistoryDetail=_asyncToGenerator(function*(params){var isCustomNetwork=yield this.backgroundApi.serviceNetwork.isCustomNetwork({networkId:this.networkId});if(isCustomNetwork){return this.fetchAccountHistoryDetailByRpc(params);}return this.fetchAccountHistoryDetailByApi(params);});function fetchAccountHistoryDetail(_x52){return _fetchAccountHistoryDetail.apply(this,arguments);}return fetchAccountHistoryDetail;}();_proto2.fetchAccountHistoryDetailByApi=function(){var _fetchAccountHistoryDetailByApi=_asyncToGenerator(function*(params){var{accountId}=params,rest=_objectWithoutProperties(params,_excluded2);var client=yield this.backgroundApi.serviceGas.getClient(EServiceEndpointEnum.Wallet);var resp=yield client.get('/wallet/v1/account/history/detail',{params:rest,headers:yield this.backgroundApi.serviceAccountProfile._getWalletTypeHeader({accountId})});return resp;});function fetchAccountHistoryDetailByApi(_x53){return _fetchAccountHistoryDetailByApi.apply(this,arguments);}return fetchAccountHistoryDetailByApi;}();_proto2.fetchAccountHistoryDetailByRpc=function(){var _fetchAccountHistoryDetailByRpc=_asyncToGenerator(function*(params){throw new NotImplemented();});function fetchAccountHistoryDetailByRpc(_x54){return _fetchAccountHistoryDetailByRpc.apply(this,arguments);}return fetchAccountHistoryDetailByRpc;}();_proto2.buildOkxSwapEncodedTx=function(){var _buildOkxSwapEncodedTx=_asyncToGenerator(function*(params){throw new NotImplemented();});function buildOkxSwapEncodedTx(_x55){return _buildOkxSwapEncodedTx.apply(this,arguments);}return buildOkxSwapEncodedTx;}();return _createClass(VaultBase);}(VaultBaseChainOnly);","import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import accountUtils from'@onekeyhq/shared/src/utils/accountUtils';import networkUtils from'@onekeyhq/shared/src/utils/networkUtils';import{getVaultSettings as _getVaultSettings,getVaultSettingsNetworkInfo}from\"../settings\";export var VaultContext=function(){function VaultContext(options){this.options=options;this.networkId=options.networkId||'';this.accountId=options.accountId||'';this.backgroundApi=options.backgroundApi;this.walletId=options.walletId||(this.accountId?accountUtils.getWalletIdFromAccountId({accountId:this.accountId}):'');if(!this.walletId&&!this.options.isChainOnly){throw new Error('can not get correct walletId');}}var _proto=VaultContext.prototype;_proto.getNetworkId=function(){var _getNetworkId=_asyncToGenerator(function*(){return this.networkId;});function getNetworkId(){return _getNetworkId.apply(this,arguments);}return getNetworkId;}();_proto.getNetwork=function(){var _getNetwork=_asyncToGenerator(function*({cached}={}){if(!cached||!this._network||this._network.id!==this.networkId){var network=yield this.backgroundApi.serviceNetwork.getNetwork({networkId:this.networkId});this._network=network;}return this._network;});function getNetwork(){return _getNetwork.apply(this,arguments);}return getNetwork;}();_proto.getNetworkChainId=function(){var _getNetworkChainId=_asyncToGenerator(function*({hex=false}={}){return networkUtils.getNetworkChainId({networkId:this.networkId,hex});});function getNetworkChainId(){return _getNetworkChainId.apply(this,arguments);}return getNetworkChainId;}();_proto.getNetworkImpl=function(){var _getNetworkImpl=_asyncToGenerator(function*(){return networkUtils.getNetworkImpl({networkId:this.networkId});});function getNetworkImpl(){return _getNetworkImpl.apply(this,arguments);}return getNetworkImpl;}();_proto.getVaultSettings=function(){var _getVaultSettings2=_asyncToGenerator(function*(){return _getVaultSettings({networkId:this.networkId});});function getVaultSettings(){return _getVaultSettings2.apply(this,arguments);}return getVaultSettings;}();_proto.getNetworkInfo=function(){var _getNetworkInfo=_asyncToGenerator(function*(){return getVaultSettingsNetworkInfo({networkId:this.networkId});});function getNetworkInfo(){return _getNetworkInfo.apply(this,arguments);}return getNetworkInfo;}();_proto.getCoreApiNetworkInfo=function(){var _getCoreApiNetworkInfo=_asyncToGenerator(function*(){var network=yield this.getNetwork();var networkInfo=yield this.getNetworkInfo();var{addressPrefix,curve}=networkInfo;var networkImpl=yield this.getNetworkImpl();var chainId=yield this.getNetworkChainId({hex:false});var{isTestnet}=network;var{networkId}=this;return{isTestnet,networkChainCode:network.code,chainId,networkId,networkImpl,addressPrefix,curve};});function getCoreApiNetworkInfo(){return _getCoreApiNetworkInfo.apply(this,arguments);}return getCoreApiNetworkInfo;}();_proto.getRpcUrl=function(){var _getRpcUrl=_asyncToGenerator(function*(){return'';});function getRpcUrl(){return _getRpcUrl.apply(this,arguments);}return getRpcUrl;}();_proto.destroy=function(){var _destroy=_asyncToGenerator(function*(){});function destroy(){return _destroy.apply(this,arguments);}return destroy;}();return _createClass(VaultContext);}();","import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import{NotImplemented}from'@onekeyhq/shared/src/errors';import{KeyringExternalBase}from\"../../base/KeyringExternalBase\";export var KeyringExternal=function(_KeyringExternalBase){_inherits(KeyringExternal,_KeyringExternalBase);var _super=_createSuper(KeyringExternal);function KeyringExternal(){return _super.apply(this,arguments);}var _proto=KeyringExternal.prototype;_proto.signMessage=function signMessage(params){throw new NotImplemented();};_proto.signTransaction=function signTransaction(params){throw new NotImplemented();};return _createClass(KeyringExternal);}(KeyringExternalBase);","import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}import{TransactionBlock}from'@benfen/bfc.js/transactions';import{BFC_TYPE_ARG,normalizeHexAddress}from'@benfen/bfc.js/utils';import{OneKeyError}from'@onekeyhq/shared/src/errors';export function normalizeBfcCoinType(coinType){if(coinType!==BFC_TYPE_ARG){var[normalAddress,module,name]=coinType.split('::');if(module&&name){try{return`${normalizeHexAddress(normalAddress).toLowerCase()}::${module}::${name}`;}catch{}}}return coinType;}export function toTransaction(_x,_x2,_x3){return _toTransaction.apply(this,arguments);}function _toTransaction(){_toTransaction=_asyncToGenerator(function*(client,sender,tx){var transactionBytes;if(tx instanceof Uint8Array){transactionBytes=tx;}else{var transaction=TransactionBlock.from(tx.rawTx);transaction.setSenderIfNotSet(sender);transactionBytes=yield transaction.build({client});}return transactionBytes;});return _toTransaction.apply(this,arguments);}var POLL_INTERVAL=2000;export function waitPendingTransaction(client,txId,options,right=true,retryCount=10){var retry=0;var poll=function(){var _ref=_asyncToGenerator(function*(time=POLL_INTERVAL){retry+=1;var transaction;try{transaction=yield client.getTransactionBlock({digest:txId,options:_objectSpread(_objectSpread({},options),{},{showEffects:true})});}catch(error){if(right){if(error.code!==-32_000&&error.code!==-32_602){return Promise.reject(new OneKeyError(error));}}}var success=transaction?.effects?.status?.status==='success';if(success===true){return Promise.resolve(transaction);}if(retry>retryCount){return Promise.reject(new OneKeyError('transaction timeout'));}return new Promise(function(resolve){return setTimeout(function(){return resolve(poll(time));},time);});});return function poll(){return _ref.apply(this,arguments);};}();return poll();}export function objectTypeToCoinType(objectType){if(!objectType){throw new Error('objectType cannot be empty');}var genericMatch=objectType.match(/0x2::coin::Coin<(.+)>/);if(genericMatch){return genericMatch[1];}return objectType;}","import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import{TransactionBlock}from'@benfen/bfc.js/transactions';import{BFC_TYPE_ARG}from'@benfen/bfc.js/utils';import BigNumber from'bignumber.js';import timerUtils from'@onekeyhq/shared/src/utils/timerUtils';import{normalizeBfcCoinType,objectTypeToCoinType}from\"./utils\";export var EBfcTransactionType=function(EBfcTransactionType){EBfcTransactionType[\"ContractInteraction\"]=\"ContractInteraction\";EBfcTransactionType[\"TokenTransfer\"]=\"Token Transfer\";EBfcTransactionType[\"Unknown\"]=\"UNKNOWN\";return EBfcTransactionType;}({});function getAllCoinsByCoinType(_x){return _getAllCoinsByCoinType.apply(this,arguments);}function _getAllCoinsByCoinType(){_getAllCoinsByCoinType=_asyncToGenerator(function*({client,address,coinType}){var cursor=null;var allCoins=[];var hasNextPage=true;var maxRetries=5;var retries=0;while(hasNextPage&&retries<maxRetries){try{var resp=yield client.getCoins({owner:address,coinType,cursor,limit:50});var{data,nextCursor,hasNextPage:nextPageExists}=resp;if(data&&data.length){allCoins.push(...data);}cursor=nextCursor;hasNextPage=nextPageExists;retries=0;}catch(error){retries+=1;if(retries>=maxRetries){throw new Error('Failed to fetch coins, maximum retry attempts reached');}yield timerUtils.wait(300);}}return allCoins;});return _getAllCoinsByCoinType.apply(this,arguments);}function createTokenTransaction(_x2){return _createTokenTransaction.apply(this,arguments);}function _createTokenTransaction(){_createTokenTransaction=_asyncToGenerator(function*({client,sender,recipient,amount,coinType,maxSendNativeToken=false}){var tx=new TransactionBlock();var allCoins=yield getAllCoinsByCoinType({client,address:sender,coinType});var totalBalance=allCoins.reduce(function(sum,coin){return sum.plus(coin.balance);},new BigNumber(0));if(totalBalance.lt(amount)){throw new Error('Insufficient balance');}if(maxSendNativeToken&&coinType===BFC_TYPE_ARG){tx.transferObjects([tx.gas],recipient);tx.setGasPayment(allCoins.filter(function(coin){return normalizeBfcCoinType(coin.coinType)===normalizeBfcCoinType(coinType);}).map(function(coin){return{objectId:coin.coinObjectId,digest:coin.digest,version:coin.version};}));return tx;}if(coinType===BFC_TYPE_ARG){var coin=tx.splitCoins(tx.gas,[amount]);tx.transferObjects([coin],recipient);}else{var[primaryCoin,...mergeCoins]=allCoins.filter(function(coin){return normalizeBfcCoinType(coin.coinType)===normalizeBfcCoinType(coinType);});var primaryCoinInput=tx.object(primaryCoin.coinObjectId);if(mergeCoins.length){tx.mergeCoins(primaryCoinInput,mergeCoins.map(function(coin){return tx.object(coin.coinObjectId);}));}var _coin=tx.splitCoins(primaryCoinInput,[amount]);tx.transferObjects([_coin],recipient);}return tx;});return _createTokenTransaction.apply(this,arguments);}function analyzeTransactionType(tx){var transactions=tx.blockData.transactions;var hasMoveCall=transactions.some(function(i){return i.kind==='MoveCall';});if(hasMoveCall){return EBfcTransactionType.ContractInteraction;}var transferCommands=transactions.filter(function(cmd){return cmd.kind==='TransferObjects';});if(transferCommands.length){return EBfcTransactionType.TokenTransfer;}return EBfcTransactionType.Unknown;}function parseTransferDetails({balanceChanges}){var transfers=[];var changesByCoinType=new Map();balanceChanges.forEach(function(change){var changes=changesByCoinType.get(change.coinType)||[];changes.push(change);changesByCoinType.set(change.coinType,changes);});var _loop=function(tokenType){var negativeChanges=changes.filter(function(c){return new BigNumber(c.amount).isLessThan(0);});var positiveChanges=changes.filter(function(c){return new BigNumber(c.amount).isGreaterThan(0);});if(tokenType===BFC_TYPE_ARG){if(negativeChanges.length===1&&positiveChanges.length===0){var change=negativeChanges[0];transfers.push({from:change.owner.AddressOwner,to:change.owner.AddressOwner,amount:new BigNumber(0).toString(),tokenAddress:tokenType,gasFee:new BigNumber(change.amount).abs().toString()});}else if(positiveChanges.length>0){positiveChanges.forEach(function(posChange){var sender=negativeChanges.sort(function(a,b){return new BigNumber(b.amount).minus(a.amount).toNumber();})[0];if(sender){var transferAmount=new BigNumber(posChange.amount);var negativeAmount=new BigNumber(sender.amount).abs();var gasFee=negativeAmount.minus(transferAmount);transfers.push({from:sender.owner.AddressOwner,to:posChange.owner.AddressOwner,amount:transferAmount.toString(),tokenAddress:tokenType,gasFee:gasFee.toString()});}});}}else if(positiveChanges.length>0){positiveChanges.forEach(function(posChange){var sender=negativeChanges.sort(function(a,b){return new BigNumber(b.amount).minus(a.amount).toNumber();})[0];if(sender){transfers.push({from:sender.owner.AddressOwner,to:posChange.owner.AddressOwner,amount:new BigNumber(posChange.amount).toString(),tokenAddress:tokenType});}});}};for(var[tokenType,changes]of changesByCoinType.entries()){_loop(tokenType);}return transfers;}function parseMoveCall(transaction){if(!transaction.blockData.transactions?.length){return null;}var transactions=transaction.blockData.transactions;var firstMoveCallCommand=transactions.find(function(i){return i.kind==='MoveCall';});if(!firstMoveCallCommand){return null;}var target=firstMoveCallCommand.target;if(!target){return null;}var parts=target.split('::');if(parts.length!==3){return null;}var[_,moduleName,functionName]=parts;return{contractName:functionName,contractTo:`${moduleName}::${functionName}`};}function getCoinTypeForHardwareTransfer(_x3){return _getCoinTypeForHardwareTransfer.apply(this,arguments);}function _getCoinTypeForHardwareTransfer(){_getCoinTypeForHardwareTransfer=_asyncToGenerator(function*({client,txBytes}){var tx=TransactionBlock.from(txBytes);var transactions=tx.blockData.transactions;var hasMoveCall=transactions.some(function(cmd){return cmd.kind==='MoveCall';});if(hasMoveCall){return null;}var transferCommands=transactions.filter(function(cmd){return cmd.kind==='TransferObjects';});if(transferCommands.length!==1){return null;}var transferCommand=transferCommands[0];var resultObj=transferCommand?.objects?.[0];if(resultObj.kind==='GasCoin'){return BFC_TYPE_ARG;}if(resultObj?.kind!=='Result'||typeof resultObj.index!=='number'){return null;}var sourceCommand=transactions[resultObj.index];if(sourceCommand?.kind==='SplitCoins'){if(sourceCommand.coin?.kind==='GasCoin'){return BFC_TYPE_ARG;}if(sourceCommand.coin?.kind==='Input'){var inputIndex=sourceCommand.coin.index;var input=tx.blockData.inputs[inputIndex];var objectId=input?.value?.Object?.ImmOrOwned?.objectId;if(objectId){var objectInfo=yield client.getObject({id:objectId,options:{showType:true,showOwner:true,showPreviousTransaction:true,showDisplay:false}});try{var objectType=objectInfo.data?.type;if(!objectType){return null;}return objectTypeToCoinType(objectType);}catch{return null;}}}}return null;});return _getCoinTypeForHardwareTransfer.apply(this,arguments);}export default{createTokenTransaction,analyzeTransactionType,parseTransferDetails,parseMoveCall,getCoinTypeForHardwareTransfer};","import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import{toSerializedSignature}from'@benfen/bfc.js/cryptography';import{Ed25519PublicKey}from'@benfen/bfc.js/keypairs/ed25519';import{toB64}from'@benfen/bfc.js/utils';import{handleSignData}from'@onekeyhq/core/src/chains/bfc/CoreChainSoftware';import coreChainApi from'@onekeyhq/core/src/instance/coreChainApi';import{OneKeyHardwareError}from'@onekeyhq/shared/src/errors';import{convertDeviceError}from'@onekeyhq/shared/src/errors/utils/deviceErrorUtils';import accountUtils from'@onekeyhq/shared/src/utils/accountUtils';import{checkIsDefined}from'@onekeyhq/shared/src/utils/assertUtils';import bufferUtils from'@onekeyhq/shared/src/utils/bufferUtils';import hexUtils from'@onekeyhq/shared/src/utils/hexUtils';import{KeyringHardwareBase}from\"../../base/KeyringHardwareBase\";import transactionUtils from\"./sdkBfc/transactions\";import{toTransaction}from\"./sdkBfc/utils\";export var KeyringHardware=function(_KeyringHardwareBase){_inherits(KeyringHardware,_KeyringHardwareBase);var _super=_createSuper(KeyringHardware);function KeyringHardware(...args){var _this;_this=_super.call(this,...args);_this.coreApi=coreChainApi.bfc.hd;_this.hwSdkNetwork='benfen';return _this;}var _proto=KeyringHardware.prototype;_proto.buildHwAllNetworkPrepareAccountsParams=function(){var _buildHwAllNetworkPrepareAccountsParams=_asyncToGenerator(function*(params){return{network:this.hwSdkNetwork,path:params.path,showOnOneKey:false};});function buildHwAllNetworkPrepareAccountsParams(_x){return _buildHwAllNetworkPrepareAccountsParams.apply(this,arguments);}return buildHwAllNetworkPrepareAccountsParams;}();_proto.prepareAccounts=function prepareAccounts(params){var _this2=this;return this.basePrepareHdNormalAccounts(params,{buildAddressesInfo:function(){var _ref=_asyncToGenerator(function*({usedIndexes}){var addressesInfo=yield _this2.baseGetDeviceAccountAddresses({params,usedIndexes,sdkGetAddressFn:function(){var _ref2=_asyncToGenerator(function*({template}){var buildFullPath=function(p){return accountUtils.buildPathFromTemplate({template,index:p.index});};var allNetworkAccounts=yield _this2.getAllNetworkPrepareAccounts({params,usedIndexes,hwSdkNetwork:_this2.hwSdkNetwork,buildPath:buildFullPath,buildResultAccount:function({account}){return{path:account.path,address:account.payload?.address||'',publicKey:account.payload?.pub||''};}});if(allNetworkAccounts){return allNetworkAccounts;}throw new Error('use sdk allNetworkGetAddress instead');});return function sdkGetAddressFn(_x3){return _ref2.apply(this,arguments);};}()});var ret=[];for(var addressInfo of addressesInfo){var{address,path,publicKey}=addressInfo;if(!address){throw new OneKeyHardwareError('Address is empty');}var item={address,path,publicKey:publicKey||''};ret.push(item);}return ret;});return function buildAddressesInfo(_x2){return _ref.apply(this,arguments);};}()});};_proto.signTransaction=function(){var _signTransaction=_asyncToGenerator(function*(params){var sdk=yield this.getHardwareSDKInstance();var encodedTx=params.unsignedTx.encodedTx;var deviceParams=checkIsDefined(params.deviceParams);var{connectId,deviceId}=deviceParams.dbDevice;var dbAccount=yield this.vault.getAccount();var senderPublicKey=checkIsDefined(dbAccount.pub);var client=yield this.vault.getClient();var initialTransaction=yield toTransaction(client,encodedTx.sender,encodedTx);var coinType=yield transactionUtils.getCoinTypeForHardwareTransfer({client,txBytes:initialTransaction});var signData=handleSignData(initialTransaction);var response=yield sdk.benfenSignTransaction(connectId,deviceId,_objectSpread({path:dbAccount.path,rawTx:hexUtils.hexlify(Buffer.from(signData)),coinType:coinType!=null?coinType:undefined},params.deviceParams?.deviceCommonParams));if(response.success){var{signature}=response.payload;var serializeSignature=toSerializedSignature({signatureScheme:'ED25519',signature:bufferUtils.hexToBytes(signature),publicKey:new Ed25519PublicKey(bufferUtils.hexToBytes(senderPublicKey))});return{txid:'',rawTx:toB64(initialTransaction),signatureScheme:'ed25519',signature:serializeSignature,publicKey:hexUtils.addHexPrefix(senderPublicKey),encodedTx:params.unsignedTx.encodedTx};}throw convertDeviceError(response.payload);});function signTransaction(_x4){return _signTransaction.apply(this,arguments);}return signTransaction;}();_proto.signMessage=function(){var _signMessage=_asyncToGenerator(function*(params){var HardwareSDK=yield this.getHardwareSDKInstance();var deviceParams=checkIsDefined(params.deviceParams);var{connectId,deviceId}=deviceParams.dbDevice;var dbAccount=yield this.vault.getAccount();var result=yield Promise.all(params.messages.map(function(){var _ref3=_asyncToGenerator(function*(payload){var response=yield HardwareSDK.benfenSignMessage(connectId,deviceId,_objectSpread(_objectSpread({},params.deviceParams?.deviceCommonParams),{},{messageHex:hexUtils.hexlify(bufferUtils.hexToBytes(payload.message)),path:dbAccount.path}));if(!response.success){throw convertDeviceError(response.payload);}return toSerializedSignature({signatureScheme:'ED25519',signature:bufferUtils.hexToBytes(response.payload.signature),publicKey:new Ed25519PublicKey(bufferUtils.hexToBytes(checkIsDefined(dbAccount.pub)))});});return function(_x6){return _ref3.apply(this,arguments);};}()));return result;});function signMessage(_x5){return _signMessage.apply(this,arguments);}return signMessage;}();return _createClass(KeyringHardware);}(KeyringHardwareBase);","import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import coreChainApi from'@onekeyhq/core/src/instance/coreChainApi';import{KeyringHdBase}from\"../../base/KeyringHdBase\";import{toTransaction}from\"./sdkBfc/utils\";export var KeyringHd=function(_KeyringHdBase){_inherits(KeyringHd,_KeyringHdBase);var _super=_createSuper(KeyringHd);function KeyringHd(...args){var _this;_this=_super.call(this,...args);_this.coreApi=coreChainApi.bfc.hd;return _this;}var _proto=KeyringHd.prototype;_proto.getPrivateKeys=function(){var _getPrivateKeys=_asyncToGenerator(function*(params){return this.baseGetPrivateKeys(params);});function getPrivateKeys(_x){return _getPrivateKeys.apply(this,arguments);}return getPrivateKeys;}();_proto.exportAccountSecretKeys=function(){var _exportAccountSecretKeys=_asyncToGenerator(function*(params){return this.baseExportAccountSecretKeys(params);});function exportAccountSecretKeys(_x2){return _exportAccountSecretKeys.apply(this,arguments);}return exportAccountSecretKeys;}();_proto.prepareAccounts=function(){var _prepareAccounts=_asyncToGenerator(function*(params){return this.basePrepareAccountsHd(params);});function prepareAccounts(_x3){return _prepareAccounts.apply(this,arguments);}return prepareAccounts;}();_proto.signTransaction=function(){var _signTransaction=_asyncToGenerator(function*(params){var{unsignedTx}=params;var encodedTx=unsignedTx.encodedTx;var client=yield this.vault.getClient();var initialTransaction=yield toTransaction(client,encodedTx.sender,encodedTx);var rawTxUnsigned=Buffer.from(initialTransaction).toString('hex');return this.baseSignTransaction(_objectSpread(_objectSpread({},params),{},{unsignedTx:_objectSpread(_objectSpread({},params.unsignedTx),{},{rawTxUnsigned})}));});function signTransaction(_x4){return _signTransaction.apply(this,arguments);}return signTransaction;}();_proto.signMessage=function(){var _signMessage=_asyncToGenerator(function*(params){return this.baseSignMessage(params);});function signMessage(_x5){return _signMessage.apply(this,arguments);}return signMessage;}();return _createClass(KeyringHd);}(KeyringHdBase);","import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import coreChainApi from'@onekeyhq/core/src/instance/coreChainApi';import{KeyringImportedBase}from\"../../base/KeyringImportedBase\";import{toTransaction}from\"./sdkBfc/utils\";export var KeyringImported=function(_KeyringImportedBase){_inherits(KeyringImported,_KeyringImportedBase);var _super=_createSuper(KeyringImported);function KeyringImported(...args){var _this;_this=_super.call(this,...args);_this.coreApi=coreChainApi.bfc.imported;return _this;}var _proto=KeyringImported.prototype;_proto.getPrivateKeys=function(){var _getPrivateKeys=_asyncToGenerator(function*(params){return this.baseGetPrivateKeys(params);});function getPrivateKeys(_x){return _getPrivateKeys.apply(this,arguments);}return getPrivateKeys;}();_proto.exportAccountSecretKeys=function(){var _exportAccountSecretKeys=_asyncToGenerator(function*(params){return this.baseExportAccountSecretKeys(params);});function exportAccountSecretKeys(_x2){return _exportAccountSecretKeys.apply(this,arguments);}return exportAccountSecretKeys;}();_proto.prepareAccounts=function(){var _prepareAccounts=_asyncToGenerator(function*(params){return this.basePrepareAccountsImported(params);});function prepareAccounts(_x3){return _prepareAccounts.apply(this,arguments);}return prepareAccounts;}();_proto.signTransaction=function(){var _signTransaction=_asyncToGenerator(function*(params){var{unsignedTx}=params;var encodedTx=unsignedTx.encodedTx;var client=yield this.vault.getClient();var initialTransaction=yield toTransaction(client,encodedTx.sender,encodedTx);var rawTxUnsigned=Buffer.from(initialTransaction).toString('hex');return this.baseSignTransaction(_objectSpread(_objectSpread({},params),{},{unsignedTx:_objectSpread(_objectSpread({},params.unsignedTx),{},{rawTxUnsigned})}));});function signTransaction(_x4){return _signTransaction.apply(this,arguments);}return signTransaction;}();_proto.signMessage=function(){var _signMessage=_asyncToGenerator(function*(params){return this.baseSignMessage(params);});function signMessage(_x5){return _signMessage.apply(this,arguments);}return signMessage;}();return _createClass(KeyringImported);}(KeyringImportedBase);","import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import _get from\"@babel/runtime/helpers/get\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import{KeyringWatchingBase}from\"../../base/KeyringWatchingBase\";export var KeyringWatching=function(_KeyringWatchingBase){_inherits(KeyringWatching,_KeyringWatchingBase);var _super=_createSuper(KeyringWatching);function KeyringWatching(){return _super.apply(this,arguments);}var _proto=KeyringWatching.prototype;_proto.prepareAccounts=function(){var _prepareAccounts=_asyncToGenerator(function*(params){return _get(_getPrototypeOf(KeyringWatching.prototype),\"basePrepareSimpleWatchingAccounts\",this).call(this,params);});function prepareAccounts(_x){return _prepareAccounts.apply(this,arguments);}return prepareAccounts;}();return _createClass(KeyringWatching);}(KeyringWatchingBase);","import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";export var OneKeyBenfenTransport=function(){function OneKeyBenfenTransport({backgroundApi,networkId}){this.backgroundApi=backgroundApi;this.networkId=networkId;}var _proto=OneKeyBenfenTransport.prototype;_proto.request=function(){var _request=_asyncToGenerator(function*(input){var res=yield this.backgroundApi.serviceAccountProfile.sendProxyRequest({networkId:this.networkId,body:[{route:'rpc',params:{method:input.method,params:input.params}}]});var response=res?.[0];if(!response){throw new Error('No response received from the proxy');}return response;});function request(_x){return _request.apply(this,arguments);}return request;}();_proto.subscribe=function(){var _subscribe=_asyncToGenerator(function*(){throw new Error('Subscription not implemented');});function subscribe(){return _subscribe.apply(this,arguments);}return subscribe;}();return _createClass(OneKeyBenfenTransport);}();","const BENFEN_NS_NAME_REGEX = /^(?:[a-z0-9][a-z0-9-]{0,62}(?:\\.[a-z0-9][a-z0-9-]{0,62})*)?@[a-z0-9][a-z0-9-]{0,62}$/i;\nconst BENFEN_NS_DOMAIN_REGEX = /^(?:[a-z0-9][a-z0-9-]{0,62}\\.)+benfen$/i;\nconst MAX_BENFEN_NS_NAME_LENGTH = 235;\nfunction isValidBenfenNSName(name) {\n  if (name.length > MAX_BENFEN_NS_NAME_LENGTH) {\n    return false;\n  }\n  if (name.includes(\"@\")) {\n    return BENFEN_NS_NAME_REGEX.test(name);\n  }\n  return BENFEN_NS_DOMAIN_REGEX.test(name);\n}\nfunction normalizeBenfenNSName(name, format = \"at\") {\n  const lowerCase = name.toLowerCase();\n  let parts;\n  if (lowerCase.includes(\"@\")) {\n    if (!BENFEN_NS_NAME_REGEX.test(lowerCase)) {\n      throw new Error(`Invalid BenfenNS name ${name}`);\n    }\n    const [labels, domain] = lowerCase.split(\"@\");\n    parts = [...labels ? labels.split(\".\") : [], domain];\n  } else {\n    if (!BENFEN_NS_DOMAIN_REGEX.test(lowerCase)) {\n      throw new Error(`Invalid BenfenNS name ${name}`);\n    }\n    parts = lowerCase.split(\".\").slice(0, -1);\n  }\n  if (format === \"dot\") {\n    return `${parts.join(\".\")}.benfen`;\n  }\n  return `${parts.slice(0, -1).join(\".\")}@${parts[parts.length - 1]}`;\n}\nexport {\n  isValidBenfenNSName,\n  normalizeBenfenNSName\n};\n//# sourceMappingURL=benfenns.js.map\n","const PACKAGE_VERSION = \"0.2.7\";\nconst TARGETED_RPC_VERSION = \"1.20.1\";\nexport {\n  PACKAGE_VERSION,\n  TARGETED_RPC_VERSION\n};\n//# sourceMappingURL=version.js.map\n","const CODE_TO_ERROR_TYPE = {\n  \"-32700\": \"ParseError\",\n  \"-32600\": \"InvalidRequest\",\n  \"-32601\": \"MethodNotFound\",\n  \"-32602\": \"InvalidParams\",\n  \"-32603\": \"InternalError\"\n};\nclass BenfenHTTPTransportError extends Error {\n}\nclass JsonRpcError extends BenfenHTTPTransportError {\n  constructor(message, code) {\n    super(message);\n    this.code = code;\n    this.type = CODE_TO_ERROR_TYPE[code] ?? \"ServerError\";\n  }\n}\nclass BenfenHTTPStatusError extends BenfenHTTPTransportError {\n  constructor(message, status, statusText) {\n    super(message);\n    this.status = status;\n    this.statusText = statusText;\n  }\n}\nexport {\n  BenfenHTTPStatusError,\n  BenfenHTTPTransportError,\n  JsonRpcError\n};\n//# sourceMappingURL=errors.js.map\n","var __accessCheck = (obj, member, msg) => {\n  if (!member.has(obj))\n    throw TypeError(\"Cannot \" + msg);\n};\nvar __privateGet = (obj, member, getter) => {\n  __accessCheck(obj, member, \"read from private field\");\n  return getter ? getter.call(obj) : member.get(obj);\n};\nvar __privateAdd = (obj, member, value) => {\n  if (member.has(obj))\n    throw TypeError(\"Cannot add the same private member more than once\");\n  member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n};\nvar __privateSet = (obj, member, value, setter) => {\n  __accessCheck(obj, member, \"write to private field\");\n  setter ? setter.call(obj, value) : member.set(obj, value);\n  return value;\n};\nvar __privateWrapper = (obj, member, setter, getter) => ({\n  set _(value) {\n    __privateSet(obj, member, value, setter);\n  },\n  get _() {\n    return __privateGet(obj, member, getter);\n  }\n});\nvar __privateMethod = (obj, member, method) => {\n  __accessCheck(obj, member, \"access private method\");\n  return method;\n};\nvar _requestId, _disconnects, _webSocket, _connectionPromise, _subscriptions, _pendingRequests, _setupWebSocket, setupWebSocket_fn, _reconnect, reconnect_fn;\nimport { JsonRpcError } from \"./errors.js\";\nfunction getWebsocketUrl(httpUrl) {\n  const url = new URL(httpUrl);\n  url.protocol = url.protocol.replace(\"http\", \"ws\");\n  return url.toString();\n}\nconst DEFAULT_CLIENT_OPTIONS = {\n  // We fudge the typing because we also check for undefined in the constructor:\n  WebSocketConstructor: typeof WebSocket !== \"undefined\" ? WebSocket : void 0,\n  callTimeout: 3e4,\n  reconnectTimeout: 3e3,\n  maxReconnects: 5\n};\nclass WebsocketClient {\n  constructor(endpoint, options = {}) {\n    __privateAdd(this, _setupWebSocket);\n    __privateAdd(this, _reconnect);\n    __privateAdd(this, _requestId, 0);\n    __privateAdd(this, _disconnects, 0);\n    __privateAdd(this, _webSocket, null);\n    __privateAdd(this, _connectionPromise, null);\n    __privateAdd(this, _subscriptions, /* @__PURE__ */ new Set());\n    __privateAdd(this, _pendingRequests, /* @__PURE__ */ new Map());\n    this.endpoint = endpoint;\n    this.options = { ...DEFAULT_CLIENT_OPTIONS, ...options };\n    if (!this.options.WebSocketConstructor) {\n      throw new Error(\"Missing WebSocket constructor\");\n    }\n    if (this.endpoint.startsWith(\"http\")) {\n      this.endpoint = getWebsocketUrl(this.endpoint);\n    }\n  }\n  async makeRequest(method, params) {\n    const webSocket = await __privateMethod(this, _setupWebSocket, setupWebSocket_fn).call(this);\n    return new Promise((resolve, reject) => {\n      __privateSet(this, _requestId, __privateGet(this, _requestId) + 1);\n      __privateGet(this, _pendingRequests).set(__privateGet(this, _requestId), {\n        resolve,\n        reject,\n        timeout: setTimeout(() => {\n          __privateGet(this, _pendingRequests).delete(__privateGet(this, _requestId));\n          reject(new Error(`Request timeout: ${method}`));\n        }, this.options.callTimeout)\n      });\n      webSocket.send(JSON.stringify({ jsonrpc: \"2.0\", id: __privateGet(this, _requestId), method, params }));\n    }).then(({ error, result }) => {\n      if (error) {\n        throw new JsonRpcError(error.message, error.code);\n      }\n      return result;\n    });\n  }\n  async subscribe(input) {\n    const subscription = new RpcSubscription(input);\n    __privateGet(this, _subscriptions).add(subscription);\n    await subscription.subscribe(this);\n    return () => subscription.unsubscribe(this);\n  }\n}\n_requestId = new WeakMap();\n_disconnects = new WeakMap();\n_webSocket = new WeakMap();\n_connectionPromise = new WeakMap();\n_subscriptions = new WeakMap();\n_pendingRequests = new WeakMap();\n_setupWebSocket = new WeakSet();\nsetupWebSocket_fn = function() {\n  if (__privateGet(this, _connectionPromise)) {\n    return __privateGet(this, _connectionPromise);\n  }\n  __privateSet(this, _connectionPromise, new Promise((resolve) => {\n    __privateGet(this, _webSocket)?.close();\n    __privateSet(this, _webSocket, new this.options.WebSocketConstructor(this.endpoint));\n    __privateGet(this, _webSocket).addEventListener(\"open\", () => {\n      __privateSet(this, _disconnects, 0);\n      resolve(__privateGet(this, _webSocket));\n    });\n    __privateGet(this, _webSocket).addEventListener(\"close\", () => {\n      __privateWrapper(this, _disconnects)._++;\n      if (__privateGet(this, _disconnects) <= this.options.maxReconnects) {\n        setTimeout(() => {\n          __privateMethod(this, _reconnect, reconnect_fn).call(this);\n        }, this.options.reconnectTimeout);\n      }\n    });\n    __privateGet(this, _webSocket).addEventListener(\"message\", ({ data }) => {\n      let json;\n      try {\n        json = JSON.parse(data);\n      } catch (error) {\n        console.error(new Error(`Failed to parse RPC message: ${data}`, { cause: error }));\n        return;\n      }\n      if (\"id\" in json && json.id != null && __privateGet(this, _pendingRequests).has(json.id)) {\n        const { resolve: resolve2, timeout } = __privateGet(this, _pendingRequests).get(json.id);\n        clearTimeout(timeout);\n        resolve2(json);\n      } else if (\"params\" in json) {\n        const { params } = json;\n        __privateGet(this, _subscriptions).forEach((subscription) => {\n          if (subscription.subscriptionId === params.subscription) {\n            if (params.subscription === subscription.subscriptionId) {\n              subscription.onMessage(params.result);\n            }\n          }\n        });\n      }\n    });\n  }));\n  return __privateGet(this, _connectionPromise);\n};\n_reconnect = new WeakSet();\nreconnect_fn = async function() {\n  __privateGet(this, _webSocket)?.close();\n  __privateSet(this, _connectionPromise, null);\n  return Promise.allSettled(\n    [...__privateGet(this, _subscriptions)].map((subscription) => subscription.subscribe(this))\n  );\n};\nclass RpcSubscription {\n  constructor(input) {\n    this.subscriptionId = null;\n    this.subscribed = false;\n    this.input = input;\n  }\n  onMessage(message) {\n    if (this.subscribed) {\n      this.input.onMessage(message);\n    }\n  }\n  async unsubscribe(client) {\n    const { subscriptionId } = this;\n    this.subscribed = false;\n    if (subscriptionId == null)\n      return false;\n    this.subscriptionId = null;\n    return client.makeRequest(this.input.unsubscribe, [subscriptionId]);\n  }\n  async subscribe(client) {\n    this.subscriptionId = null;\n    this.subscribed = true;\n    const newSubscriptionId = await client.makeRequest(\n      this.input.method,\n      this.input.params\n    );\n    if (this.subscribed) {\n      this.subscriptionId = newSubscriptionId;\n    }\n  }\n}\nexport {\n  DEFAULT_CLIENT_OPTIONS,\n  WebsocketClient\n};\n//# sourceMappingURL=rpc-websocket-client.js.map\n","var __accessCheck = (obj, member, msg) => {\n  if (!member.has(obj))\n    throw TypeError(\"Cannot \" + msg);\n};\nvar __privateGet = (obj, member, getter) => {\n  __accessCheck(obj, member, \"read from private field\");\n  return getter ? getter.call(obj) : member.get(obj);\n};\nvar __privateAdd = (obj, member, value) => {\n  if (member.has(obj))\n    throw TypeError(\"Cannot add the same private member more than once\");\n  member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n};\nvar __privateSet = (obj, member, value, setter) => {\n  __accessCheck(obj, member, \"write to private field\");\n  setter ? setter.call(obj, value) : member.set(obj, value);\n  return value;\n};\nvar __privateMethod = (obj, member, method) => {\n  __accessCheck(obj, member, \"access private method\");\n  return method;\n};\nvar _requestId, _options, _websocketClient, _getWebsocketClient, getWebsocketClient_fn;\nimport { PACKAGE_VERSION, TARGETED_RPC_VERSION } from \"../version.js\";\nimport { BenfenHTTPStatusError, JsonRpcError } from \"./errors.js\";\nimport { WebsocketClient } from \"./rpc-websocket-client.js\";\nclass BenfenHTTPTransport {\n  constructor(options) {\n    __privateAdd(this, _getWebsocketClient);\n    __privateAdd(this, _requestId, 0);\n    __privateAdd(this, _options, void 0);\n    __privateAdd(this, _websocketClient, void 0);\n    __privateSet(this, _options, options);\n  }\n  fetch(input, init) {\n    const fetch = __privateGet(this, _options).fetch ?? globalThis.fetch;\n    if (!fetch) {\n      throw new Error(\n        \"The current environment does not support fetch, you can provide a fetch implementation in the options for BenfenHTTPTransport.\"\n      );\n    }\n    return fetch(input, init);\n  }\n  async request(input) {\n    __privateSet(this, _requestId, __privateGet(this, _requestId) + 1);\n    const res = await this.fetch(__privateGet(this, _options).rpc?.url ?? __privateGet(this, _options).url, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Client-Sdk-Type\": \"typescript\",\n        \"Client-Sdk-Version\": PACKAGE_VERSION,\n        \"Client-Target-Api-Version\": TARGETED_RPC_VERSION,\n        ...__privateGet(this, _options).rpc?.headers\n      },\n      body: JSON.stringify({\n        jsonrpc: \"2.0\",\n        id: __privateGet(this, _requestId),\n        method: input.method,\n        params: input.params\n      })\n    });\n    if (!res.ok) {\n      throw new BenfenHTTPStatusError(\n        `Unexpected status code: ${res.status}`,\n        res.status,\n        res.statusText\n      );\n    }\n    const data = await res.json();\n    if (\"error\" in data && data.error != null) {\n      throw new JsonRpcError(data.error.message, data.error.code);\n    }\n    return data.result;\n  }\n  async subscribe(input) {\n    const unsubscribe = await __privateMethod(this, _getWebsocketClient, getWebsocketClient_fn).call(this).subscribe(input);\n    return async () => !!await unsubscribe();\n  }\n}\n_requestId = new WeakMap();\n_options = new WeakMap();\n_websocketClient = new WeakMap();\n_getWebsocketClient = new WeakSet();\ngetWebsocketClient_fn = function() {\n  if (!__privateGet(this, _websocketClient)) {\n    const WebSocketConstructor = __privateGet(this, _options).WebSocketConstructor ?? globalThis.WebSocket;\n    if (!WebSocketConstructor) {\n      throw new Error(\n        \"The current environment does not support WebSocket, you can provide a WebSocketConstructor in the options for BenfenHTTPTransport.\"\n      );\n    }\n    __privateSet(this, _websocketClient, new WebsocketClient(\n      __privateGet(this, _options).websocket?.url ?? __privateGet(this, _options).url,\n      {\n        WebSocketConstructor,\n        ...__privateGet(this, _options).websocket\n      }\n    ));\n  }\n  return __privateGet(this, _websocketClient);\n};\nexport {\n  BenfenHTTPTransport\n};\n//# sourceMappingURL=http-transport.js.map\n","import { fromB58, toB64, toHEX } from \"../bcs/src/index.js\";\nimport { isTransactionBlock } from \"../transactions/TransactionBlock.js\";\nimport { normalizeBenfenNSName } from \"../utils/benfenns.js\";\nimport {\n  isValidBenfenAddress,\n  isValidBenfenObjectId,\n  isValidTransactionDigest,\n  normalizeHexAddress\n} from \"../utils/bf-types.js\";\nimport { hex2BfcAddress } from \"../utils/format.js\";\nimport { BenfenHTTPTransport } from \"./http-transport.js\";\nconst BENFEN_CLIENT_BRAND = Symbol.for(\"@benfen/BenfenClient\");\nfunction isBenfenClient(client) {\n  return typeof client === \"object\" && client !== null && client[BENFEN_CLIENT_BRAND] === true;\n}\nclass BenfenClient {\n  get [BENFEN_CLIENT_BRAND]() {\n    return true;\n  }\n  /**\n   * Establish a connection to a Benfen RPC endpoint\n   *\n   * @param options configuration options for the API Client\n   */\n  constructor(options) {\n    this.transport = options.transport ?? new BenfenHTTPTransport({ url: options.url });\n  }\n  async getRpcApiVersion() {\n    const resp = await this.transport.request({\n      method: \"rpc.discover\",\n      params: []\n    });\n    return resp.info.version;\n  }\n  /**\n   * Get all Coin<`coin_type`> objects owned by an address.\n   */\n  async getCoins(input) {\n    if (!input.owner || !isValidBenfenAddress(normalizeHexAddress(input.owner))) {\n      throw new Error(\"Invalid Benfen address\");\n    }\n    return await this.transport.request({\n      method: \"bfcx_getCoins\",\n      params: [input.owner, input.coinType, input.cursor, input.limit]\n    });\n  }\n  /**\n   * Get all Coin objects owned by an address.\n   */\n  async getAllCoins(input) {\n    if (!input.owner || !isValidBenfenAddress(normalizeHexAddress(input.owner))) {\n      throw new Error(\"Invalid Benfen address\");\n    }\n    return await this.transport.request({\n      method: \"bfcx_getAllCoins\",\n      params: [input.owner, input.cursor, input.limit]\n    });\n  }\n  /**\n   * Get the total coin balance for one coin type, owned by the address owner.\n   */\n  async getBalance(input) {\n    if (!input.owner || !isValidBenfenAddress(normalizeHexAddress(input.owner))) {\n      throw new Error(\"Invalid Benfen address\");\n    }\n    return await this.transport.request({\n      method: \"bfcx_getBalance\",\n      params: [input.owner, input.coinType]\n    });\n  }\n  /**\n   * Get the total coin balance for all coin types, owned by the address owner.\n   */\n  async getAllBalances(input) {\n    if (!input.owner || !isValidBenfenAddress(normalizeHexAddress(input.owner))) {\n      throw new Error(\"Invalid Benfen address\");\n    }\n    return await this.transport.request({ method: \"bfcx_getAllBalances\", params: [input.owner] });\n  }\n  /**\n   * Fetch CoinMetadata for a given coin type\n   */\n  async getCoinMetadata(input) {\n    return await this.transport.request({\n      method: \"bfcx_getCoinMetadata\",\n      params: [input.coinType]\n    });\n  }\n  /**\n   *  Fetch total supply for a coin\n   */\n  async getTotalSupply(input) {\n    return await this.transport.request({\n      method: \"bfcx_getTotalSupply\",\n      params: [input.coinType]\n    });\n  }\n  /**\n   * Invoke any RPC method\n   * @param method the method to be invoked\n   * @param args the arguments to be passed to the RPC request\n   */\n  async call(method, params) {\n    return await this.transport.request({ method, params });\n  }\n  /**\n   * Get Move function argument types like read, write and full access\n   */\n  async getMoveFunctionArgTypes(input) {\n    return await this.transport.request({\n      method: \"bfc_getMoveFunctionArgTypes\",\n      params: [input.package, input.module, input.function]\n    });\n  }\n  /**\n   * Get a map from module name to\n   * structured representations of Move modules\n   */\n  async getNormalizedMoveModulesByPackage(input) {\n    return await this.transport.request({\n      method: \"bfc_getNormalizedMoveModulesByPackage\",\n      params: [input.package]\n    });\n  }\n  /**\n   * Get a structured representation of Move module\n   */\n  async getNormalizedMoveModule(input) {\n    return await this.transport.request({\n      method: \"bfc_getNormalizedMoveModule\",\n      params: [input.package, input.module]\n    });\n  }\n  /**\n   * Get a structured representation of Move function\n   */\n  async getNormalizedMoveFunction(input) {\n    return await this.transport.request({\n      method: \"bfc_getNormalizedMoveFunction\",\n      params: [input.package, input.module, input.function]\n    });\n  }\n  /**\n   * Get a structured representation of Move struct\n   */\n  async getNormalizedMoveStruct(input) {\n    return await this.transport.request({\n      method: \"bfc_getNormalizedMoveStruct\",\n      params: [input.package, input.module, input.struct]\n    });\n  }\n  /**\n   * Get all objects owned by an address\n   */\n  async getOwnedObjects(input) {\n    if (!input.owner || !isValidBenfenAddress(normalizeHexAddress(input.owner))) {\n      throw new Error(\"Invalid Benfen address\");\n    }\n    return await this.transport.request({\n      method: \"bfcx_getOwnedObjects\",\n      params: [\n        input.owner,\n        {\n          filter: input.filter,\n          options: input.options\n        },\n        input.cursor,\n        input.limit\n      ]\n    });\n  }\n  /**\n   * Get details about an object\n   */\n  async getObject(input) {\n    if (!input.id || !isValidBenfenObjectId(hex2BfcAddress(input.id))) {\n      throw new Error(\"Invalid Benfen Object id\");\n    }\n    return await this.transport.request({\n      method: \"bfc_getObject\",\n      params: [input.id, input.options]\n    });\n  }\n  async tryGetPastObject(input) {\n    return await this.transport.request({\n      method: \"bfc_tryGetPastObject\",\n      params: [input.id, input.version, input.options]\n    });\n  }\n  /**\n   * Batch get details about a list of objects. If any of the object ids are duplicates the call will fail\n   */\n  async multiGetObjects(input) {\n    input.ids.forEach((id) => {\n      if (!id || !isValidBenfenObjectId(hex2BfcAddress(id))) {\n        throw new Error(`Invalid Benfen Object id ${id}`);\n      }\n    });\n    const hasDuplicates = input.ids.length !== new Set(input.ids).size;\n    if (hasDuplicates) {\n      throw new Error(`Duplicate object ids in batch call ${input.ids}`);\n    }\n    return await this.transport.request({\n      method: \"bfc_multiGetObjects\",\n      params: [input.ids, input.options]\n    });\n  }\n  /**\n   * Get transaction blocks for a given query criteria\n   */\n  async queryTransactionBlocks(input) {\n    return await this.transport.request({\n      method: \"bfcx_queryTransactionBlocks\",\n      params: [\n        {\n          filter: input.filter,\n          options: input.options\n        },\n        input.cursor,\n        input.limit,\n        (input.order || \"descending\") === \"descending\"\n      ]\n    });\n  }\n  async getTransactionBlock(input) {\n    if (!isValidTransactionDigest(input.digest)) {\n      throw new Error(\"Invalid Transaction digest\");\n    }\n    return await this.transport.request({\n      method: \"bfc_getTransactionBlock\",\n      params: [input.digest, input.options]\n    });\n  }\n  async multiGetTransactionBlocks(input) {\n    input.digests.forEach((d) => {\n      if (!isValidTransactionDigest(d)) {\n        throw new Error(`Invalid Transaction digest ${d}`);\n      }\n    });\n    const hasDuplicates = input.digests.length !== new Set(input.digests).size;\n    if (hasDuplicates) {\n      throw new Error(`Duplicate digests in batch call ${input.digests}`);\n    }\n    return await this.transport.request({\n      method: \"bfc_multiGetTransactionBlocks\",\n      params: [input.digests, input.options]\n    });\n  }\n  async executeTransactionBlock(input) {\n    return await this.transport.request({\n      method: \"bfc_executeTransactionBlock\",\n      params: [\n        typeof input.transactionBlock === \"string\" ? input.transactionBlock : toB64(input.transactionBlock),\n        Array.isArray(input.signature) ? input.signature : [input.signature],\n        input.options,\n        input.requestType\n      ]\n    });\n  }\n  async signAndExecuteTransactionBlock({\n    transactionBlock,\n    signer,\n    ...input\n  }) {\n    let transactionBytes;\n    if (transactionBlock instanceof Uint8Array) {\n      transactionBytes = transactionBlock;\n    } else {\n      transactionBlock.setSenderIfNotSet(signer.toHexAddress());\n      transactionBytes = await transactionBlock.build({ client: this });\n    }\n    const { signature, bytes } = await signer.signTransactionBlock(transactionBytes);\n    return this.executeTransactionBlock({\n      transactionBlock: bytes,\n      signature,\n      ...input\n    });\n  }\n  /**\n   * Get total number of transactions\n   */\n  async getTotalTransactionBlocks() {\n    const resp = await this.transport.request({\n      method: \"bfc_getTotalTransactionBlocks\",\n      params: []\n    });\n    return BigInt(resp);\n  }\n  /**\n   * Getting the reference gas price for the network\n   */\n  async getReferenceGasPrice() {\n    const resp = await this.transport.request({\n      method: \"bfcx_getReferenceGasPrice\",\n      params: []\n    });\n    return BigInt(resp);\n  }\n  /**\n   * Getting the stable rate for a coin type\n   */\n  async getStableRate(coinType) {\n    const resp = await this.transport.request({\n      method: \"bfcx_getStableRate\",\n      params: [coinType.replace(/^0x/, \"\")]\n    });\n    return resp;\n  }\n  /**\n   * Return the delegated stakes for an address\n   */\n  async getStakes(input) {\n    if (!input.owner || !isValidBenfenAddress(normalizeHexAddress(input.owner))) {\n      throw new Error(\"Invalid Benfen address\");\n    }\n    return await this.transport.request({ method: \"bfcx_getStakes\", params: [input.owner] });\n  }\n  /**\n   * Return the delegated stakes queried by id.\n   */\n  async getStakesByIds(input) {\n    input.stakedBfcIds.forEach((id) => {\n      if (!id || !isValidBenfenObjectId(hex2BfcAddress(id))) {\n        throw new Error(`Invalid Bfc Stake id ${id}`);\n      }\n    });\n    return await this.transport.request({\n      method: \"bfcx_getStakesByIds\",\n      params: [input.stakedBfcIds]\n    });\n  }\n  /**\n   * Return the latest system state content.\n   */\n  async getLatestBenfeSystemState() {\n    return await this.transport.request({ method: \"bfcx_getLatestSuiSystemState\", params: [] });\n  }\n  /**\n   * Getting the overview for the network\n   */\n  async getNetworkOverview() {\n    const resp = await this.transport.request({\n      method: \"bfcx_getNetworkOverview\",\n      params: []\n    });\n    return resp;\n  }\n  /**\n   * Getting inner dao info\n   */\n  async getInnerDao() {\n    return await this.transport.request({\n      method: \"bfc_getInnerDaoInfo\",\n      params: []\n    });\n  }\n  /**\n   * Getting dao Proposal with voter\n   */\n  async getDaoProposalWithVoter(voter) {\n    return await this.transport.request({\n      method: \"bfcx_getDaoProposals\",\n      params: [voter]\n    });\n  }\n  /**\n   * Get events for a given query criteria\n   */\n  async queryEvents(input) {\n    return await this.transport.request({\n      method: \"bfcx_queryEvents\",\n      params: [\n        input.query,\n        input.cursor,\n        input.limit,\n        (input.order || \"descending\") === \"descending\"\n      ]\n    });\n  }\n  /**\n   * Subscribe to get notifications whenever an event matching the filter occurs\n   */\n  async subscribeEvent(input) {\n    return this.transport.subscribe({\n      method: \"bfcx_subscribeEvent\",\n      unsubscribe: \"bfcx_unsubscribeEvent\",\n      params: [input.filter],\n      onMessage: input.onMessage\n    });\n  }\n  async subscribeTransaction(input) {\n    return this.transport.subscribe({\n      method: \"bfcx_subscribeTransaction\",\n      unsubscribe: \"bfcx_unsubscribeTransaction\",\n      params: [input.filter],\n      onMessage: input.onMessage\n    });\n  }\n  /**\n   * Runs the transaction block in dev-inspect mode. Which allows for nearly any\n   * transaction (or Move call) with any arguments. Detailed results are\n   * provided, including both the transaction effects and any return values.\n   */\n  async devInspectTransactionBlock(input) {\n    let devInspectTxBytes;\n    if (isTransactionBlock(input.transactionBlock)) {\n      input.transactionBlock.setSenderIfNotSet(input.sender);\n      devInspectTxBytes = toB64(\n        await input.transactionBlock.build({\n          client: this,\n          onlyTransactionKind: true\n        })\n      );\n    } else if (typeof input.transactionBlock === \"string\") {\n      devInspectTxBytes = input.transactionBlock;\n    } else if (input.transactionBlock instanceof Uint8Array) {\n      devInspectTxBytes = toB64(input.transactionBlock);\n    } else {\n      throw new Error(\"Unknown transaction block format.\");\n    }\n    return await this.transport.request({\n      method: \"bfc_devInspectTransactionBlock\",\n      params: [input.sender, devInspectTxBytes, input.gasPrice?.toString(), input.epoch]\n    });\n  }\n  /**\n   * Dry run a transaction block and return the result.\n   */\n  async dryRunTransactionBlock(input) {\n    return await this.transport.request({\n      method: \"bfc_dryRunTransactionBlock\",\n      params: [\n        typeof input.transactionBlock === \"string\" ? input.transactionBlock : toB64(input.transactionBlock)\n      ]\n    });\n  }\n  /**\n   * Return the list of dynamic field objects owned by an object\n   */\n  async getDynamicFields(input) {\n    if (!input.parentId || !isValidBenfenObjectId(hex2BfcAddress(input.parentId))) {\n      throw new Error(\"Invalid Benfen Object id\");\n    }\n    return await this.transport.request({\n      method: \"bfcx_getDynamicFields\",\n      params: [input.parentId, input.cursor, input.limit]\n    });\n  }\n  /**\n   * Return the dynamic field object information for a specified object\n   */\n  async getDynamicFieldObject(input) {\n    return await this.transport.request({\n      method: \"bfcx_getDynamicFieldObject\",\n      params: [input.parentId, input.name]\n    });\n  }\n  /**\n   * Get the sequence number of the latest checkpoint that has been executed\n   */\n  async getLatestCheckpointSequenceNumber() {\n    const resp = await this.transport.request({\n      method: \"bfc_getLatestCheckpointSequenceNumber\",\n      params: []\n    });\n    return String(resp);\n  }\n  /**\n   * Returns information about a given checkpoint\n   */\n  async getCheckpoint(input) {\n    return await this.transport.request({ method: \"bfc_getCheckpoint\", params: [input.id] });\n  }\n  /**\n   * Returns historical checkpoints paginated\n   */\n  async getCheckpoints(input) {\n    return await this.transport.request({\n      method: \"bfc_getCheckpoints\",\n      params: [input.cursor, input?.limit, input.descendingOrder]\n    });\n  }\n  /**\n   * Return the committee information for the asked epoch\n   */\n  async getCommitteeInfo(input) {\n    return await this.transport.request({\n      method: \"bfcx_getCommitteeInfo\",\n      params: [input?.epoch]\n    });\n  }\n  async getNetworkMetrics() {\n    return await this.transport.request({ method: \"bfcx_getNetworkMetrics\", params: [] });\n  }\n  async getAddressMetrics() {\n    return await this.transport.request({ method: \"bfcx_getLatestAddressMetrics\", params: [] });\n  }\n  async getEpochMetrics(input) {\n    return await this.transport.request({\n      method: \"bfcx_getEpochMetrics\",\n      params: [input?.cursor, input?.limit, input?.descendingOrder]\n    });\n  }\n  async getAllEpochAddressMetrics(input) {\n    return await this.transport.request({\n      method: \"bfcx_getAllEpochAddressMetrics\",\n      params: [input?.descendingOrder]\n    });\n  }\n  /**\n   * Return the committee information for the asked epoch\n   */\n  async getEpochs(input) {\n    return await this.transport.request({\n      method: \"bfcx_getEpochs\",\n      params: [input?.cursor, input?.limit, input?.descendingOrder]\n    });\n  }\n  /**\n   * Returns list of top move calls by usage\n   */\n  async getMoveCallMetrics() {\n    return await this.transport.request({ method: \"bfcx_getMoveCallMetrics\", params: [] });\n  }\n  /**\n   * Return the committee information for the asked epoch\n   */\n  async getCurrentEpoch() {\n    return await this.transport.request({ method: \"bfcx_getCurrentEpoch\", params: [] });\n  }\n  /**\n   * Return the Validators APYs\n   */\n  async getValidatorsApy() {\n    return await this.transport.request({ method: \"bfcx_getValidatorsApy\", params: [] });\n  }\n  // TODO: Migrate this to `bfc_getChainIdentifier` once it is widely available.\n  async getChainIdentifier() {\n    const checkpoint = await this.getCheckpoint({ id: \"0\" });\n    const bytes = fromB58(checkpoint.digest);\n    return toHEX(bytes.slice(0, 4));\n  }\n  async resolveNameServiceAddress(input) {\n    return await this.transport.request({\n      method: \"bfcx_resolveNameServiceAddress\",\n      params: [input.name]\n    });\n  }\n  async resolveNameServiceNames({\n    format = \"dot\",\n    ...input\n  }) {\n    const { nextCursor, hasNextPage, data } = await this.transport.request({\n      method: \"bfcx_resolveNameServiceNames\",\n      params: [input.address, input.cursor, input.limit]\n    });\n    return {\n      hasNextPage,\n      nextCursor,\n      data: data.map((name) => normalizeBenfenNSName(name, format))\n    };\n  }\n  async getProtocolConfig(input) {\n    return await this.transport.request({\n      method: \"bfc_getProtocolConfig\",\n      params: [input?.version]\n    });\n  }\n  /**\n   * Wait for a transaction block result to be available over the API.\n   * This can be used in conjunction with `executeTransactionBlock` to wait for the transaction to\n   * be available via the API.\n   * This currently polls the `getTransactionBlock` API to check for the transaction.\n   */\n  async waitForTransactionBlock({\n    signal,\n    timeout = 60 * 1e3,\n    pollInterval = 2 * 1e3,\n    ...input\n  }) {\n    const timeoutSignal = AbortSignal.timeout(timeout);\n    const timeoutPromise = new Promise((_, reject) => {\n      timeoutSignal.addEventListener(\"abort\", () => reject(timeoutSignal.reason));\n    });\n    timeoutPromise.catch(() => {\n    });\n    while (!timeoutSignal.aborted) {\n      signal?.throwIfAborted();\n      try {\n        return await this.getTransactionBlock(input);\n      } catch (e) {\n        await Promise.race([\n          new Promise((resolve) => setTimeout(resolve, pollInterval)),\n          timeoutPromise\n        ]);\n      }\n    }\n    timeoutSignal.throwIfAborted();\n    throw new Error(\"Unexpected error while waiting for transaction block.\");\n  }\n}\nexport {\n  BENFEN_CLIENT_BRAND,\n  BenfenClient,\n  isBenfenClient\n};\n//# sourceMappingURL=client.js.map\n","import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import{BenfenClient}from'@benfen/bfc.js/client';export var OneKeyBfcClient=function(_BenfenClient){_inherits(OneKeyBfcClient,_BenfenClient);var _super=_createSuper(OneKeyBfcClient);function OneKeyBfcClient(){return _super.apply(this,arguments);}return _createClass(OneKeyBfcClient);}(BenfenClient);","import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _isEmpty from\"lodash/isEmpty\";import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import _get from\"@babel/runtime/helpers/get\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import{TransactionBlock}from'@benfen/bfc.js/transactions';import{BFC_TYPE_ARG,isValidBenfenAddress}from'@benfen/bfc.js/utils';import BigNumber from'bignumber.js';import coreChainApi from'@onekeyhq/core/src/instance/coreChainApi';import{OneKeyInternalError}from'@onekeyhq/shared/src/errors';import{memoizee}from'@onekeyhq/shared/src/utils/cacheUtils';import timerUtils from'@onekeyhq/shared/src/utils/timerUtils';import{EDecodedTxActionType,EDecodedTxStatus}from'@onekeyhq/shared/types/tx';import{VaultBase}from\"../../base/VaultBase\";import{KeyringExternal}from\"./KeyringExternal\";import{KeyringHardware}from\"./KeyringHardware\";import{KeyringHd}from\"./KeyringHd\";import{KeyringImported}from\"./KeyringImported\";import{KeyringWatching}from\"./KeyringWatching\";import{OneKeyBenfenTransport}from\"./sdkBfc/BFCTransport\";import{OneKeyBfcClient}from\"./sdkBfc/ClientBfc\";import transactionUtils,{EBfcTransactionType}from\"./sdkBfc/transactions\";import{waitPendingTransaction as _waitPendingTransaction}from\"./sdkBfc/utils\";var Vault=function(_VaultBase){_inherits(Vault,_VaultBase);var _super=_createSuper(Vault);function Vault(...args){var _this;_this=_super.call(this,...args);_this.coreApi=coreChainApi.bfc.hd;_this.keyringMap={hd:KeyringHd,qr:undefined,hw:KeyringHardware,imported:KeyringImported,watching:KeyringWatching,external:KeyringExternal};_this.getClientCache=memoizee(_asyncToGenerator(function*(){return _this.getBfcClient();}),{promise:true,max:1,maxAge:timerUtils.getTimeDurationMs({minute:3})});return _this;}var _proto=Vault.prototype;_proto.getClient=function(){var _getClient=_asyncToGenerator(function*(){return this.getClientCache();});function getClient(){return _getClient.apply(this,arguments);}return getClient;}();_proto.getBfcClient=function getBfcClient(){var transport=new OneKeyBenfenTransport({backgroundApi:this.backgroundApi,networkId:this.networkId});return new OneKeyBfcClient({transport});};_proto.buildAccountAddressDetail=function buildAccountAddressDetail(params){var{account,networkId}=params;var{address}=account;return Promise.resolve({networkId,normalizedAddress:address,displayAddress:address,address,baseAddress:address,isValid:true,allowEmptyAddress:false});};_proto.buildEncodedTx=function(){var _buildEncodedTx=_asyncToGenerator(function*(params){var{transfersInfo}=params;if(!transfersInfo||_isEmpty(transfersInfo)){throw new OneKeyInternalError('transfersInfo is required');}if(transfersInfo.length>1){throw new OneKeyInternalError('Batch transfer is not supported');}var transferInfo=transfersInfo[0];if(!transferInfo.to){throw new Error('buildEncodedTx ERROR: transferInfo.to is missing');}var{to,amount,tokenInfo}=transferInfo;var account=yield this.getAccount();var recipient=to;var sender=account.address;if(!tokenInfo||typeof tokenInfo.decimals!=='number'||tokenInfo.decimals<0){throw new OneKeyInternalError('Token decimals is required');}var amountValue=new BigNumber(amount).shiftedBy(tokenInfo.decimals).toFixed();var client=yield this.getClient();var transaction=yield transactionUtils.createTokenTransaction({client,sender,recipient,amount:amountValue,coinType:tokenInfo.address});return{rawTx:transaction.serialize(),sender:account.address};});function buildEncodedTx(_x){return _buildEncodedTx.apply(this,arguments);}return buildEncodedTx;}();_proto.buildDecodedTx=function(){var _buildDecodedTx=_asyncToGenerator(function*(params){var _tx$blockData$sender,_this2=this;var{unsignedTx}=params;var encodedTx=unsignedTx?.encodedTx;var{swapInfo}=unsignedTx;var tx=TransactionBlock.from(encodedTx.rawTx);tx.setSender((_tx$blockData$sender=tx.blockData.sender)!=null?_tx$blockData$sender:yield this.getAccountAddress());var transactionType=transactionUtils.analyzeTransactionType(tx);var network=yield this.getNetwork();var account=yield this.getAccount();var actions=[];if(transactionType===EBfcTransactionType.TokenTransfer){if(unsignedTx.transfersInfo?.[0]){var _tokenInfo$address,_token$logoURI,_token$symbol,_token$name,_token$address;var{from,to,amount,tokenInfo}=unsignedTx.transfersInfo[0];var token=yield this.backgroundApi.serviceToken.getToken({networkId:this.networkId,accountId:this.accountId,tokenIdOnNetwork:(_tokenInfo$address=tokenInfo?.address)!=null?_tokenInfo$address:''});var action=yield this.buildTxTransferAssetAction({from,to,transfers:[{from,to,amount,icon:(_token$logoURI=token?.logoURI)!=null?_token$logoURI:'',symbol:(_token$symbol=token?.symbol)!=null?_token$symbol:'',name:(_token$name=token?.name)!=null?_token$name:'',tokenIdOnNetwork:(_token$address=token?.address)!=null?_token$address:'',isNative:token?.isNative}]});actions.push(action);}else{var client=yield this.getClient();var buildTx=yield tx.build({client});var dryRunResult=yield client.dryRunTransactionBlock({transactionBlock:buildTx});var transfers=transactionUtils.parseTransferDetails({balanceChanges:dryRunResult.balanceChanges});if(transfers.length>0){var _action=yield this.buildTxTransferAssetAction({from:transfers[0].from,to:transfers[0].to,transfers:(yield Promise.all(transfers.map(function(){var _ref2=_asyncToGenerator(function*(transfer){var _token$logoURI2,_token$symbol2,_token$name2,_token$address2;var token=yield _this2.backgroundApi.serviceToken.getToken({networkId:_this2.networkId,accountId:_this2.accountId,tokenIdOnNetwork:transfer.tokenAddress});if(token?.decimals===undefined||token?.decimals===null||Number.isNaN(token?.decimals)){return null;}return{from:transfer.from,to:transfer.to,amount:new BigNumber(transfer.amount).shiftedBy(-token.decimals).toString(),icon:(_token$logoURI2=token?.logoURI)!=null?_token$logoURI2:'',symbol:(_token$symbol2=token?.symbol)!=null?_token$symbol2:'',name:(_token$name2=token?.name)!=null?_token$name2:'',tokenIdOnNetwork:(_token$address2=token?.address)!=null?_token$address2:'',isNative:token?.isNative};});return function(_x3){return _ref2.apply(this,arguments);};}()))).filter(Boolean)});actions.push(_action);}}}else if(transactionType===EBfcTransactionType.ContractInteraction){var contractInfo=transactionUtils.parseMoveCall(tx);if(contractInfo){var _network$logoURI;actions.push({type:EDecodedTxActionType.FUNCTION_CALL,functionCall:{from:account.address,to:contractInfo.contractTo,functionName:contractInfo.contractName,icon:(_network$logoURI=network.logoURI)!=null?_network$logoURI:'',args:[]}});}}if(swapInfo){var toAddress=unsignedTx.transfersInfo?.[0]?.to||actions?.[0]?.assetTransfer?.to;actions=[yield this.buildInternalSwapAction({swapInfo,swapToAddress:toAddress})];}if(actions.length===0){var _network$logoURI2;actions.push({type:EDecodedTxActionType.UNKNOWN,unknownAction:{from:account.address,to:'',icon:(_network$logoURI2=network.logoURI)!=null?_network$logoURI2:''}});}var result={txid:'',owner:account.address,signer:account.address,nonce:0,actions,status:EDecodedTxStatus.Pending,networkId:this.networkId,accountId:this.accountId,extraInfo:null,encodedTx};return Promise.resolve(result);});function buildDecodedTx(_x2){return _buildDecodedTx.apply(this,arguments);}return buildDecodedTx;}();_proto.buildUnsignedTx=function(){var _buildUnsignedTx=_asyncToGenerator(function*(params){var _params$encodedTx;var encodedTx=(_params$encodedTx=params.encodedTx)!=null?_params$encodedTx:yield this.buildEncodedTx(params);if(encodedTx){return{encodedTx,transfersInfo:params.transfersInfo};}throw new OneKeyInternalError();});function buildUnsignedTx(_x4){return _buildUnsignedTx.apply(this,arguments);}return buildUnsignedTx;}();_proto.updateUnsignedTx=function(){var _updateUnsignedTx=_asyncToGenerator(function*(params){var client=yield this.getClient();var{unsignedTx,nativeAmountInfo,feeInfo}=params;var encodedTx=unsignedTx.encodedTx;if(nativeAmountInfo?.maxSendAmount){var _oldTx$blockData$send;var{rawTx}=encodedTx;var oldTx=TransactionBlock.from(rawTx);var transactionType=transactionUtils.analyzeTransactionType(oldTx);if(transactionType!==EBfcTransactionType.TokenTransfer){return Promise.resolve(unsignedTx);}if(!unsignedTx.transfersInfo?.[0]?.to){throw new OneKeyInternalError('Invalid transfer object');}var newTx=yield transactionUtils.createTokenTransaction({client,sender:(_oldTx$blockData$send=oldTx.blockData.sender)!=null?_oldTx$blockData$send:yield this.getAccountAddress(),recipient:unsignedTx.transfersInfo[0].to,amount:nativeAmountInfo.maxSendAmount,coinType:BFC_TYPE_ARG,maxSendNativeToken:true});var newEncodedTx=_objectSpread(_objectSpread({},encodedTx),{},{rawTx:newTx.serialize()});return _objectSpread(_objectSpread({},unsignedTx),{},{encodedTx:newEncodedTx});}if(feeInfo?.gas?.gasLimit&&feeInfo?.gas?.gasPrice){var _newTx=TransactionBlock.from(encodedTx.rawTx);_newTx.blockData.gasConfig.price=feeInfo.gas.gasPrice;_newTx.blockData.gasConfig.budget=feeInfo.gas.gasLimit;var _newEncodedTx=_objectSpread(_objectSpread({},encodedTx),{},{rawTx:_newTx.serialize()});return _objectSpread(_objectSpread({},unsignedTx),{},{encodedTx:_newEncodedTx});}return Promise.resolve(unsignedTx);});function updateUnsignedTx(_x5){return _updateUnsignedTx.apply(this,arguments);}return updateUnsignedTx;}();_proto.broadcastTransaction=function(){var _broadcastTransaction=_asyncToGenerator(function*(params){try{var{signature,publicKey,rawTx,encodedTx}=params.signedTx;if(!signature){throw new Error('signature is empty');}if(!publicKey){throw new Error('publicKey is empty');}var txid=yield this.backgroundApi.serviceSend.broadcastTransaction({accountId:this.accountId,networkId:this.networkId,signedTx:params.signedTx,accountAddress:(yield this.getAccount()).address,signature});return _objectSpread(_objectSpread({},params.signedTx),{},{txid});}catch(error){var{errorCode,message}=error||{};var errorMessage=`${errorCode!=null?errorCode:''} ${message}`;if(message.indexOf('Insufficient gas:')!==-1){throw new OneKeyInternalError('msg__broadcast_tx_Insufficient_fee');}else{throw new OneKeyInternalError(errorMessage);}}});function broadcastTransaction(_x6){return _broadcastTransaction.apply(this,arguments);}return broadcastTransaction;}();_proto.validateAddress=function validateAddress(address){var isValid=isValidBenfenAddress(address);return Promise.resolve({isValid,normalizedAddress:isValid?address:'',displayAddress:isValid?address:''});};_proto.validateXpub=function validateXpub(xpub){return Promise.resolve({isValid:false});};_proto.getPrivateKeyFromImported=function(){var _getPrivateKeyFromImported=_asyncToGenerator(function*(params){return _get(_getPrototypeOf(Vault.prototype),\"baseGetPrivateKeyFromImported\",this).call(this,params);});function getPrivateKeyFromImported(_x7){return _getPrivateKeyFromImported.apply(this,arguments);}return getPrivateKeyFromImported;}();_proto.validateXprvt=function validateXprvt(xprvt){return Promise.resolve({isValid:false});};_proto.validatePrivateKey=function(){var _validatePrivateKey=_asyncToGenerator(function*(privateKey){if(!/^(0x)?[0-9a-zA-Z]{64}$/.test(privateKey)){return{isValid:false};}return this.baseValidatePrivateKey(privateKey);});function validatePrivateKey(_x8){return _validatePrivateKey.apply(this,arguments);}return validatePrivateKey;}();_proto.validateGeneralInput=function(){var _validateGeneralInput=_asyncToGenerator(function*(params){var{result}=yield this.baseValidateGeneralInput(params);return result;});function validateGeneralInput(_x9){return _validateGeneralInput.apply(this,arguments);}return validateGeneralInput;}();_proto.waitPendingTransaction=function(){var _waitPendingTransaction2=_asyncToGenerator(function*(txId,options){var client=yield this.getClient();return _waitPendingTransaction(client,txId,options);});function waitPendingTransaction(_x10,_x11){return _waitPendingTransaction2.apply(this,arguments);}return waitPendingTransaction;}();_proto.getCustomRpcEndpointStatus=function(){var _getCustomRpcEndpointStatus=_asyncToGenerator(function*(params){var client=new OneKeyBfcClient({url:params.rpcUrl});var start=performance.now();var latestBlock=yield client.getTotalTransactionBlocks();return{responseTime:Math.floor(performance.now()-start),bestBlockNumber:Number(latestBlock)};});function getCustomRpcEndpointStatus(_x12){return _getCustomRpcEndpointStatus.apply(this,arguments);}return getCustomRpcEndpointStatus;}();_proto.broadcastTransactionFromCustomRpc=function(){var _broadcastTransactionFromCustomRpc=_asyncToGenerator(function*(params){try{var{customRpcInfo,signedTx}=params;var{signature,publicKey,rawTx,encodedTx}=signedTx;var rpcUrl=customRpcInfo.rpc;if(!rpcUrl){throw new OneKeyInternalError('Invalid rpc url');}if(!signature){throw new Error('signature is empty');}if(!publicKey){throw new Error('publicKey is empty');}var client=new OneKeyBfcClient({url:rpcUrl});var response=yield client.executeTransactionBlock({transactionBlock:rawTx,signature,requestType:signedTx.encodedTx.requestType});var txid=response.digest;return _objectSpread(_objectSpread({},params.signedTx),{},{txid});}catch(error){var{errorCode,message}=error||{};var errorMessage=`${errorCode!=null?errorCode:''} ${message}`;if(message.indexOf('Insufficient gas:')!==-1){throw new OneKeyInternalError('msg__broadcast_tx_Insufficient_fee');}else{throw new OneKeyInternalError(errorMessage);}}});function broadcastTransactionFromCustomRpc(_x13){return _broadcastTransactionFromCustomRpc.apply(this,arguments);}return broadcastTransactionFromCustomRpc;}();_proto.buildOkxSwapEncodedTx=function(){var _buildOkxSwapEncodedTx=_asyncToGenerator(function*(params){var accountAddress=yield this.getAccountAddress();if(params.okxTx.from!==accountAddress){throw new OneKeyInternalError('Invalid from address');}var encodedTx={rawTx:TransactionBlock.from(params.okxTx.data).serialize(),sender:params.okxTx.from};return Promise.resolve(encodedTx);});function buildOkxSwapEncodedTx(_x14){return _buildOkxSwapEncodedTx.apply(this,arguments);}return buildOkxSwapEncodedTx;}();return _createClass(Vault);}(VaultBase);export{Vault as default};","export var EVaultKeyringTypes=function(EVaultKeyringTypes){EVaultKeyringTypes[\"hd\"]=\"hd\";EVaultKeyringTypes[\"qr\"]=\"qr\";EVaultKeyringTypes[\"hardware\"]=\"hardware\";EVaultKeyringTypes[\"imported\"]=\"imported\";EVaultKeyringTypes[\"watching\"]=\"watching\";EVaultKeyringTypes[\"external\"]=\"external\";return EVaultKeyringTypes;}({});export var EWrappedType=function(EWrappedType){EWrappedType[\"DEPOSIT\"]=\"deposit\";EWrappedType[\"WITHDRAW\"]=\"withdraw\";return EWrappedType;}({});","var AppId = /* @__PURE__ */ ((AppId2) => {\n  AppId2[AppId2[\"Benfen\"] = 0] = \"Benfen\";\n  return AppId2;\n})(AppId || {});\nvar IntentVersion = /* @__PURE__ */ ((IntentVersion2) => {\n  IntentVersion2[IntentVersion2[\"V0\"] = 0] = \"V0\";\n  return IntentVersion2;\n})(IntentVersion || {});\nvar IntentScope = /* @__PURE__ */ ((IntentScope2) => {\n  IntentScope2[IntentScope2[\"TransactionData\"] = 0] = \"TransactionData\";\n  IntentScope2[IntentScope2[\"TransactionEffects\"] = 1] = \"TransactionEffects\";\n  IntentScope2[IntentScope2[\"CheckpointSummary\"] = 2] = \"CheckpointSummary\";\n  IntentScope2[IntentScope2[\"PersonalMessage\"] = 3] = \"PersonalMessage\";\n  return IntentScope2;\n})(IntentScope || {});\nfunction intentWithScope(scope) {\n  return [scope, 0 /* V0 */, 0 /* Benfen */];\n}\nfunction messageWithIntent(scope, message) {\n  const intent = intentWithScope(scope);\n  const intentMessage = new Uint8Array(intent.length + message.length);\n  intentMessage.set(intent);\n  intentMessage.set(message, intent.length);\n  return intentMessage;\n}\nexport {\n  AppId,\n  IntentScope,\n  IntentVersion,\n  messageWithIntent\n};\n//# sourceMappingURL=intent.js.map\n","import { blake2b } from \"@noble/hashes/blake2b\";\nimport { bytesToHex } from \"@noble/hashes/utils\";\nimport { bcs } from \"../bcs/index.js\";\nimport { toB64 } from \"../bcs/src/index.js\";\nimport { BENFEN_ADDRESS_LENGTH, normalizeHexAddress } from \"../utils/bf-types.js\";\nimport { IntentScope, messageWithIntent } from \"./intent.js\";\nfunction bytesEqual(a, b) {\n  if (a === b)\n    return true;\n  if (a.length !== b.length) {\n    return false;\n  }\n  for (let i = 0; i < a.length; i++) {\n    if (a[i] !== b[i]) {\n      return false;\n    }\n  }\n  return true;\n}\nclass PublicKey {\n  /**\n   * Checks if two public keys are equal\n   */\n  equals(publicKey) {\n    return bytesEqual(this.toRawBytes(), publicKey.toRawBytes());\n  }\n  /**\n   * Return the base-64 representation of the public key\n   */\n  toBase64() {\n    return toB64(this.toRawBytes());\n  }\n  toString() {\n    throw new Error(\n      \"`toString` is not implemented on public keys. Use `toBase64()` or `toRawBytes()` instead.\"\n    );\n  }\n  /**\n   * Return the Benfen representation of the public key encoded in\n   * base-64. A Benfen public key is formed by the concatenation\n   * of the scheme flag with the raw bytes of the public key\n   */\n  toBenfenPublicKey() {\n    const bytes = this.toBenfenBytes();\n    return toB64(bytes);\n  }\n  verifyWithIntent(bytes, signature, intent) {\n    const intentMessage = messageWithIntent(intent, bytes);\n    const digest = blake2b(intentMessage, { dkLen: 32 });\n    return this.verify(digest, signature);\n  }\n  /**\n   * Verifies that the signature is valid for for the provided PersonalMessage\n   */\n  verifyPersonalMessage(message, signature) {\n    return this.verifyWithIntent(\n      bcs.vector(bcs.u8()).serialize(message).toBytes(),\n      signature,\n      IntentScope.PersonalMessage\n    );\n  }\n  /**\n   * Verifies that the signature is valid for for the provided TransactionBlock\n   */\n  verifyTransactionBlock(transactionBlock, signature) {\n    return this.verifyWithIntent(transactionBlock, signature, IntentScope.TransactionData);\n  }\n  /**\n   * Returns the bytes representation of the public key\n   * prefixed with the signature scheme flag\n   */\n  toBenfenBytes() {\n    const rawBytes = this.toRawBytes();\n    const benfenBytes = new Uint8Array(rawBytes.length + 1);\n    benfenBytes.set([this.flag()]);\n    benfenBytes.set(rawBytes, 1);\n    return benfenBytes;\n  }\n  /**\n   * Return the Benfen address associated with this Ed25519 public key\n   */\n  toHexAddress() {\n    return normalizeHexAddress(\n      bytesToHex(blake2b(this.toBenfenBytes(), { dkLen: 32 })).slice(0, BENFEN_ADDRESS_LENGTH * 2)\n    );\n  }\n}\nexport {\n  PublicKey,\n  bytesEqual\n};\n//# sourceMappingURL=publickey.js.map\n","const SIGNATURE_SCHEME_TO_FLAG = {\n  ED25519: 0,\n  Secp256k1: 1,\n  Secp256r1: 2,\n  MultiSig: 3,\n  ZkLogin: 5\n};\nconst SIGNATURE_SCHEME_TO_SIZE = {\n  ED25519: 32,\n  Secp256k1: 33,\n  Secp256r1: 33\n};\nconst SIGNATURE_FLAG_TO_SCHEME = {\n  0: \"ED25519\",\n  1: \"Secp256k1\",\n  2: \"Secp256r1\",\n  3: \"MultiSig\",\n  5: \"ZkLogin\"\n};\nexport {\n  SIGNATURE_FLAG_TO_SCHEME,\n  SIGNATURE_SCHEME_TO_FLAG,\n  SIGNATURE_SCHEME_TO_SIZE\n};\n//# sourceMappingURL=signature-scheme.js.map\n","function base64UrlCharTo6Bits(base64UrlChar) {\n  if (base64UrlChar.length !== 1) {\n    throw new Error(\"Invalid base64Url character: \" + base64UrlChar);\n  }\n  const base64UrlCharacterSet = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_\";\n  const index = base64UrlCharacterSet.indexOf(base64UrlChar);\n  if (index === -1) {\n    throw new Error(\"Invalid base64Url character: \" + base64UrlChar);\n  }\n  const binaryString = index.toString(2).padStart(6, \"0\");\n  const bits = Array.from(binaryString).map(Number);\n  return bits;\n}\nfunction base64UrlStringToBitVector(base64UrlString) {\n  let bitVector = [];\n  for (let i = 0; i < base64UrlString.length; i++) {\n    const base64UrlChar = base64UrlString.charAt(i);\n    const bits = base64UrlCharTo6Bits(base64UrlChar);\n    bitVector = bitVector.concat(bits);\n  }\n  return bitVector;\n}\nfunction decodeBase64URL(s, i) {\n  if (s.length < 2) {\n    throw new Error(`Input (s = ${s}) is not tightly packed because s.length < 2`);\n  }\n  let bits = base64UrlStringToBitVector(s);\n  const firstCharOffset = i % 4;\n  if (firstCharOffset === 0) {\n  } else if (firstCharOffset === 1) {\n    bits = bits.slice(2);\n  } else if (firstCharOffset === 2) {\n    bits = bits.slice(4);\n  } else {\n    throw new Error(`Input (s = ${s}) is not tightly packed because i%4 = 3 (i = ${i}))`);\n  }\n  const lastCharOffset = (i + s.length - 1) % 4;\n  if (lastCharOffset === 3) {\n  } else if (lastCharOffset === 2) {\n    bits = bits.slice(0, bits.length - 2);\n  } else if (lastCharOffset === 1) {\n    bits = bits.slice(0, bits.length - 4);\n  } else {\n    throw new Error(\n      `Input (s = ${s}) is not tightly packed because (i + s.length - 1)%4 = 0 (i = ${i}))`\n    );\n  }\n  if (bits.length % 8 !== 0) {\n    throw new Error(`We should never reach here...`);\n  }\n  const bytes = new Uint8Array(Math.floor(bits.length / 8));\n  let currentByteIndex = 0;\n  for (let i2 = 0; i2 < bits.length; i2 += 8) {\n    const bitChunk = bits.slice(i2, i2 + 8);\n    const byte = parseInt(bitChunk.join(\"\"), 2);\n    bytes[currentByteIndex++] = byte;\n  }\n  return new TextDecoder().decode(bytes);\n}\nfunction verifyExtendedClaim(claim) {\n  if (!(claim.slice(-1) === \"}\" || claim.slice(-1) === \",\")) {\n    throw new Error(\"Invalid claim\");\n  }\n  const json = JSON.parse(\"{\" + claim.slice(0, -1) + \"}\");\n  if (Object.keys(json).length !== 1) {\n    throw new Error(\"Invalid claim\");\n  }\n  const key = Object.keys(json)[0];\n  return [key, json[key]];\n}\nfunction extractClaimValue(claim, claimName) {\n  const extendedClaim = decodeBase64URL(claim.value, claim.indexMod4);\n  const [name, value] = verifyExtendedClaim(extendedClaim);\n  if (name !== claimName) {\n    throw new Error(`Invalid field name: found ${name} expected ${claimName}`);\n  }\n  return value;\n}\nexport {\n  extractClaimValue\n};\n//# sourceMappingURL=jwt-utils.js.map\n","import { bcs } from \"../../bcs/index.js\";\nconst zkLoginSignature = bcs.struct(\"ZkLoginSignature\", {\n  inputs: bcs.struct(\"ZkLoginSignatureInputs\", {\n    proofPoints: bcs.struct(\"ZkLoginSignatureInputsProofPoints\", {\n      a: bcs.vector(bcs.string()),\n      b: bcs.vector(bcs.vector(bcs.string())),\n      c: bcs.vector(bcs.string())\n    }),\n    issBase64Details: bcs.struct(\"ZkLoginSignatureInputsClaim\", {\n      value: bcs.string(),\n      indexMod4: bcs.u8()\n    }),\n    headerBase64: bcs.string(),\n    addressSeed: bcs.string()\n  }),\n  maxEpoch: bcs.u64(),\n  userSignature: bcs.vector(bcs.u8())\n});\nexport {\n  zkLoginSignature\n};\n//# sourceMappingURL=bcs.js.map\n","import { hexToBytes } from \"@noble/hashes/utils\";\nfunction findFirstNonZeroIndex(bytes) {\n  for (let i = 0; i < bytes.length; i++) {\n    if (bytes[i] !== 0) {\n      return i;\n    }\n  }\n  return -1;\n}\nfunction toPaddedBigEndianBytes(num, width) {\n  const hex = num.toString(16);\n  return hexToBytes(hex.padStart(width * 2, \"0\").slice(-width * 2));\n}\nfunction toBigEndianBytes(num, width) {\n  const bytes = toPaddedBigEndianBytes(num, width);\n  const firstNonZeroIndex = findFirstNonZeroIndex(bytes);\n  if (firstNonZeroIndex === -1) {\n    return new Uint8Array([0]);\n  }\n  return bytes.slice(firstNonZeroIndex);\n}\nexport {\n  toBigEndianBytes,\n  toPaddedBigEndianBytes\n};\n//# sourceMappingURL=utils.js.map\n","var __accessCheck = (obj, member, msg) => {\n  if (!member.has(obj))\n    throw TypeError(\"Cannot \" + msg);\n};\nvar __privateGet = (obj, member, getter) => {\n  __accessCheck(obj, member, \"read from private field\");\n  return getter ? getter.call(obj) : member.get(obj);\n};\nvar __privateAdd = (obj, member, value) => {\n  if (member.has(obj))\n    throw TypeError(\"Cannot add the same private member more than once\");\n  member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n};\nvar __privateSet = (obj, member, value, setter) => {\n  __accessCheck(obj, member, \"write to private field\");\n  setter ? setter.call(obj, value) : member.set(obj, value);\n  return value;\n};\nvar _data;\nimport { fromB64, toB64 } from \"../../bcs/index.js\";\nimport { PublicKey } from \"../../cryptography/publickey.js\";\nimport { SIGNATURE_SCHEME_TO_FLAG } from \"../../cryptography/signature-scheme.js\";\nimport { extractClaimValue } from \"./jwt-utils.js\";\nimport { parseZkLoginSignature } from \"./signature.js\";\nimport { toPaddedBigEndianBytes } from \"./utils.js\";\nclass ZkLoginPublicIdentifier extends PublicKey {\n  /**\n   * Create a new ZkLoginPublicIdentifier object\n   * @param value zkLogin public identifier as buffer or base-64 encoded string\n   */\n  constructor(value) {\n    super();\n    __privateAdd(this, _data, void 0);\n    if (typeof value === \"string\") {\n      __privateSet(this, _data, fromB64(value));\n    } else if (value instanceof Uint8Array) {\n      __privateSet(this, _data, value);\n    } else {\n      __privateSet(this, _data, Uint8Array.from(value));\n    }\n  }\n  /**\n   * Checks if two zkLogin public identifiers are equal\n   */\n  equals(publicKey) {\n    return super.equals(publicKey);\n  }\n  /**\n   * Return the byte array representation of the zkLogin public identifier\n   */\n  toRawBytes() {\n    return __privateGet(this, _data);\n  }\n  /**\n   * Return the Benfen address associated with this ZkLogin public identifier\n   */\n  flag() {\n    return SIGNATURE_SCHEME_TO_FLAG[\"ZkLogin\"];\n  }\n  /**\n   * Verifies that the signature is valid for for the provided message\n   */\n  async verify(_message, _signature) {\n    throw Error(\"does not support\");\n  }\n  /**\n   * Verifies that the signature is valid for for the provided PersonalMessage\n   */\n  verifyPersonalMessage(message, signature) {\n    return Promise.resolve(true);\n  }\n  /**\n   * Verifies that the signature is valid for for the provided TransactionBlock\n   */\n  verifyTransactionBlock(transactionBlock, signature) {\n    return Promise.resolve(true);\n  }\n}\n_data = new WeakMap();\nfunction toZkLoginPublicIdentifier(addressSeed, iss) {\n  const addressSeedBytesBigEndian = toPaddedBigEndianBytes(addressSeed, 32);\n  const issBytes = new TextEncoder().encode(iss);\n  const tmp = new Uint8Array(1 + issBytes.length + addressSeedBytesBigEndian.length);\n  tmp.set([issBytes.length], 0);\n  tmp.set(issBytes, 1);\n  tmp.set(addressSeedBytesBigEndian, 1 + issBytes.length);\n  return new ZkLoginPublicIdentifier(tmp);\n}\nfunction parseSerializedZkLoginSignature(signature) {\n  const bytes = typeof signature === \"string\" ? fromB64(signature) : signature;\n  if (bytes[0] !== SIGNATURE_SCHEME_TO_FLAG.ZkLogin) {\n    throw new Error(\"Invalid signature scheme\");\n  }\n  const signatureBytes = bytes.slice(1);\n  const { inputs, maxEpoch, userSignature } = parseZkLoginSignature(signatureBytes);\n  const { issBase64Details, addressSeed } = inputs;\n  const iss = extractClaimValue(issBase64Details, \"iss\");\n  const publicIdentifer = toZkLoginPublicIdentifier(BigInt(addressSeed), iss);\n  const address = publicIdentifer.toHexAddress();\n  return {\n    serializedSignature: toB64(bytes),\n    signatureScheme: \"ZkLogin\",\n    zkLogin: {\n      inputs,\n      maxEpoch,\n      userSignature,\n      iss,\n      address,\n      addressSeed: BigInt(addressSeed)\n    },\n    signature: bytes,\n    publicKey: publicIdentifer.toRawBytes()\n  };\n}\nexport {\n  ZkLoginPublicIdentifier,\n  parseSerializedZkLoginSignature,\n  toZkLoginPublicIdentifier\n};\n//# sourceMappingURL=publickey.js.map\n","import { fromB64, toB64 } from \"../../bcs/index.js\";\nimport { SIGNATURE_SCHEME_TO_FLAG } from \"../../cryptography/signature-scheme.js\";\nimport { zkLoginSignature } from \"./bcs.js\";\nfunction getZkLoginSignatureBytes({ inputs, maxEpoch, userSignature }) {\n  return zkLoginSignature.serialize(\n    {\n      inputs,\n      maxEpoch,\n      userSignature: typeof userSignature === \"string\" ? fromB64(userSignature) : userSignature\n    },\n    { maxSize: 2048 }\n  ).toBytes();\n}\nfunction getZkLoginSignature({ inputs, maxEpoch, userSignature }) {\n  const bytes = getZkLoginSignatureBytes({ inputs, maxEpoch, userSignature });\n  const signatureBytes = new Uint8Array(bytes.length + 1);\n  signatureBytes.set([SIGNATURE_SCHEME_TO_FLAG.ZkLogin]);\n  signatureBytes.set(bytes, 1);\n  return toB64(signatureBytes);\n}\nfunction parseZkLoginSignature(signature) {\n  return zkLoginSignature.parse(typeof signature === \"string\" ? fromB64(signature) : signature);\n}\nexport {\n  getZkLoginSignature,\n  parseZkLoginSignature\n};\n//# sourceMappingURL=signature.js.map\n","import { bcs } from \"../bcs/index.js\";\nimport { fromB64, toB64 } from \"../bcs/src/index.js\";\nimport { parseSerializedZkLoginSignature } from \"../zklogin/helper/publickey.js\";\nimport {\n  SIGNATURE_FLAG_TO_SCHEME,\n  SIGNATURE_SCHEME_TO_FLAG,\n  SIGNATURE_SCHEME_TO_SIZE\n} from \"./signature-scheme.js\";\nfunction toSerializedSignature({\n  signature,\n  signatureScheme,\n  publicKey\n}) {\n  if (!publicKey) {\n    throw new Error(\"`publicKey` is required\");\n  }\n  const pubKeyBytes = publicKey.toRawBytes();\n  const serializedSignature = new Uint8Array(1 + signature.length + pubKeyBytes.length);\n  serializedSignature.set([SIGNATURE_SCHEME_TO_FLAG[signatureScheme]]);\n  serializedSignature.set(signature, 1);\n  serializedSignature.set(pubKeyBytes, 1 + signature.length);\n  return toB64(serializedSignature);\n}\nfunction parseSerializedSignature(serializedSignature) {\n  const bytes = fromB64(serializedSignature);\n  const signatureScheme = SIGNATURE_FLAG_TO_SCHEME[bytes[0]];\n  switch (signatureScheme) {\n    case \"MultiSig\":\n      const multisig = bcs.MultiSig.parse(bytes.slice(1));\n      return {\n        serializedSignature,\n        signatureScheme,\n        multisig,\n        bytes\n      };\n    case \"ZkLogin\":\n      return parseSerializedZkLoginSignature(serializedSignature);\n    case \"ED25519\":\n    case \"Secp256k1\":\n    case \"Secp256r1\":\n      const size = SIGNATURE_SCHEME_TO_SIZE[signatureScheme];\n      const signature = bytes.slice(1, bytes.length - size);\n      const publicKey = bytes.slice(1 + signature.length);\n      return {\n        serializedSignature,\n        signatureScheme,\n        signature,\n        publicKey,\n        bytes\n      };\n    default:\n      throw new Error(\"Unsupported signature scheme\");\n  }\n}\nexport {\n  parseSerializedSignature,\n  toSerializedSignature\n};\n//# sourceMappingURL=signature.js.map\n","import nacl from \"tweetnacl\";\nimport { fromB64 } from \"../../bcs/src/index.js\";\nimport { bytesEqual, PublicKey } from \"../../cryptography/publickey.js\";\nimport { SIGNATURE_SCHEME_TO_FLAG } from \"../../cryptography/signature-scheme.js\";\nimport { parseSerializedSignature } from \"../../cryptography/signature.js\";\nconst PUBLIC_KEY_SIZE = 32;\nclass Ed25519PublicKey extends PublicKey {\n  /**\n   * Create a new Ed25519PublicKey object\n   * @param value ed25519 public key as buffer or base-64 encoded string\n   */\n  constructor(value) {\n    super();\n    if (typeof value === \"string\") {\n      this.data = fromB64(value);\n    } else if (value instanceof Uint8Array) {\n      this.data = value;\n    } else {\n      this.data = Uint8Array.from(value);\n    }\n    if (this.data.length !== PUBLIC_KEY_SIZE) {\n      throw new Error(\n        `Invalid public key input. Expected ${PUBLIC_KEY_SIZE} bytes, got ${this.data.length}`\n      );\n    }\n  }\n  /**\n   * Checks if two Ed25519 public keys are equal\n   */\n  equals(publicKey) {\n    return super.equals(publicKey);\n  }\n  /**\n   * Return the byte array representation of the Ed25519 public key\n   */\n  toRawBytes() {\n    return this.data;\n  }\n  /**\n   * Return the benfen address associated with this Ed25519 public key\n   */\n  flag() {\n    return SIGNATURE_SCHEME_TO_FLAG[\"ED25519\"];\n  }\n  /**\n   * Verifies that the signature is valid for for the provided message\n   */\n  async verify(message, signature) {\n    let bytes;\n    if (typeof signature === \"string\") {\n      const parsed = parseSerializedSignature(signature);\n      if (parsed.signatureScheme !== \"ED25519\") {\n        throw new Error(\"Invalid signature scheme\");\n      }\n      if (!bytesEqual(this.toRawBytes(), parsed.publicKey)) {\n        throw new Error(\"Signature does not match public key\");\n      }\n      bytes = parsed.signature;\n    } else {\n      bytes = signature;\n    }\n    return nacl.sign.detached.verify(message, bytes, this.toRawBytes());\n  }\n}\nEd25519PublicKey.SIZE = PUBLIC_KEY_SIZE;\nexport {\n  Ed25519PublicKey\n};\n//# sourceMappingURL=publickey.js.map\n","import { hash as assertHash, number as assertNumber } from './_assert.js';\nimport { hmac } from './hmac.js';\nimport { createView, toBytes, checkOpts, asyncLoop } from './utils.js';\n// Common prologue and epilogue for sync/async functions\nfunction pbkdf2Init(hash, _password, _salt, _opts) {\n    assertHash(hash);\n    const opts = checkOpts({ dkLen: 32, asyncTick: 10 }, _opts);\n    const { c, dkLen, asyncTick } = opts;\n    assertNumber(c);\n    assertNumber(dkLen);\n    assertNumber(asyncTick);\n    if (c < 1)\n        throw new Error('PBKDF2: iterations (c) should be >= 1');\n    const password = toBytes(_password);\n    const salt = toBytes(_salt);\n    // DK = PBKDF2(PRF, Password, Salt, c, dkLen);\n    const DK = new Uint8Array(dkLen);\n    // U1 = PRF(Password, Salt + INT_32_BE(i))\n    const PRF = hmac.create(hash, password);\n    const PRFSalt = PRF._cloneInto().update(salt);\n    return { c, dkLen, asyncTick, DK, PRF, PRFSalt };\n}\nfunction pbkdf2Output(PRF, PRFSalt, DK, prfW, u) {\n    PRF.destroy();\n    PRFSalt.destroy();\n    if (prfW)\n        prfW.destroy();\n    u.fill(0);\n    return DK;\n}\n/**\n * PBKDF2-HMAC: RFC 2898 key derivation function\n * @param hash - hash function that would be used e.g. sha256\n * @param password - password from which a derived key is generated\n * @param salt - cryptographic salt\n * @param opts - {c, dkLen} where c is work factor and dkLen is output message size\n */\nexport function pbkdf2(hash, password, salt, opts) {\n    const { c, dkLen, DK, PRF, PRFSalt } = pbkdf2Init(hash, password, salt, opts);\n    let prfW; // Working copy\n    const arr = new Uint8Array(4);\n    const view = createView(arr);\n    const u = new Uint8Array(PRF.outputLen);\n    // DK = T1 + T2 + ⋯ + Tdklen/hlen\n    for (let ti = 1, pos = 0; pos < dkLen; ti++, pos += PRF.outputLen) {\n        // Ti = F(Password, Salt, c, i)\n        const Ti = DK.subarray(pos, pos + PRF.outputLen);\n        view.setInt32(0, ti, false);\n        // F(Password, Salt, c, i) = U1 ^ U2 ^ ⋯ ^ Uc\n        // U1 = PRF(Password, Salt + INT_32_BE(i))\n        (prfW = PRFSalt._cloneInto(prfW)).update(arr).digestInto(u);\n        Ti.set(u.subarray(0, Ti.length));\n        for (let ui = 1; ui < c; ui++) {\n            // Uc = PRF(Password, Uc−1)\n            PRF._cloneInto(prfW).update(u).digestInto(u);\n            for (let i = 0; i < Ti.length; i++)\n                Ti[i] ^= u[i];\n        }\n    }\n    return pbkdf2Output(PRF, PRFSalt, DK, prfW, u);\n}\nexport async function pbkdf2Async(hash, password, salt, opts) {\n    const { c, dkLen, asyncTick, DK, PRF, PRFSalt } = pbkdf2Init(hash, password, salt, opts);\n    let prfW; // Working copy\n    const arr = new Uint8Array(4);\n    const view = createView(arr);\n    const u = new Uint8Array(PRF.outputLen);\n    // DK = T1 + T2 + ⋯ + Tdklen/hlen\n    for (let ti = 1, pos = 0; pos < dkLen; ti++, pos += PRF.outputLen) {\n        // Ti = F(Password, Salt, c, i)\n        const Ti = DK.subarray(pos, pos + PRF.outputLen);\n        view.setInt32(0, ti, false);\n        // F(Password, Salt, c, i) = U1 ^ U2 ^ ⋯ ^ Uc\n        // U1 = PRF(Password, Salt + INT_32_BE(i))\n        (prfW = PRFSalt._cloneInto(prfW)).update(arr).digestInto(u);\n        Ti.set(u.subarray(0, Ti.length));\n        await asyncLoop(c - 1, asyncTick, () => {\n            // Uc = PRF(Password, Uc−1)\n            PRF._cloneInto(prfW).update(u).digestInto(u);\n            for (let i = 0; i < Ti.length; i++)\n                Ti[i] ^= u[i];\n        });\n    }\n    return pbkdf2Output(PRF, PRFSalt, DK, prfW, u);\n}\n//# sourceMappingURL=pbkdf2.js.map","import { SHA2 } from './_sha2.js';\nimport u64 from './_u64.js';\nimport { wrapConstructor } from './utils.js';\n// Round contants (first 32 bits of the fractional parts of the cube roots of the first 80 primes 2..409):\n// prettier-ignore\nconst [SHA512_Kh, SHA512_Kl] = /* @__PURE__ */ (() => u64.split([\n    '0x428a2f98d728ae22', '0x7137449123ef65cd', '0xb5c0fbcfec4d3b2f', '0xe9b5dba58189dbbc',\n    '0x3956c25bf348b538', '0x59f111f1b605d019', '0x923f82a4af194f9b', '0xab1c5ed5da6d8118',\n    '0xd807aa98a3030242', '0x12835b0145706fbe', '0x243185be4ee4b28c', '0x550c7dc3d5ffb4e2',\n    '0x72be5d74f27b896f', '0x80deb1fe3b1696b1', '0x9bdc06a725c71235', '0xc19bf174cf692694',\n    '0xe49b69c19ef14ad2', '0xefbe4786384f25e3', '0x0fc19dc68b8cd5b5', '0x240ca1cc77ac9c65',\n    '0x2de92c6f592b0275', '0x4a7484aa6ea6e483', '0x5cb0a9dcbd41fbd4', '0x76f988da831153b5',\n    '0x983e5152ee66dfab', '0xa831c66d2db43210', '0xb00327c898fb213f', '0xbf597fc7beef0ee4',\n    '0xc6e00bf33da88fc2', '0xd5a79147930aa725', '0x06ca6351e003826f', '0x142929670a0e6e70',\n    '0x27b70a8546d22ffc', '0x2e1b21385c26c926', '0x4d2c6dfc5ac42aed', '0x53380d139d95b3df',\n    '0x650a73548baf63de', '0x766a0abb3c77b2a8', '0x81c2c92e47edaee6', '0x92722c851482353b',\n    '0xa2bfe8a14cf10364', '0xa81a664bbc423001', '0xc24b8b70d0f89791', '0xc76c51a30654be30',\n    '0xd192e819d6ef5218', '0xd69906245565a910', '0xf40e35855771202a', '0x106aa07032bbd1b8',\n    '0x19a4c116b8d2d0c8', '0x1e376c085141ab53', '0x2748774cdf8eeb99', '0x34b0bcb5e19b48a8',\n    '0x391c0cb3c5c95a63', '0x4ed8aa4ae3418acb', '0x5b9cca4f7763e373', '0x682e6ff3d6b2b8a3',\n    '0x748f82ee5defb2fc', '0x78a5636f43172f60', '0x84c87814a1f0ab72', '0x8cc702081a6439ec',\n    '0x90befffa23631e28', '0xa4506cebde82bde9', '0xbef9a3f7b2c67915', '0xc67178f2e372532b',\n    '0xca273eceea26619c', '0xd186b8c721c0c207', '0xeada7dd6cde0eb1e', '0xf57d4f7fee6ed178',\n    '0x06f067aa72176fba', '0x0a637dc5a2c898a6', '0x113f9804bef90dae', '0x1b710b35131c471b',\n    '0x28db77f523047d84', '0x32caab7b40c72493', '0x3c9ebe0a15c9bebc', '0x431d67c49c100d4c',\n    '0x4cc5d4becb3e42b6', '0x597f299cfc657e2a', '0x5fcb6fab3ad6faec', '0x6c44198c4a475817'\n].map(n => BigInt(n))))();\n// Temporary buffer, not used to store anything between runs\nconst SHA512_W_H = /* @__PURE__ */ new Uint32Array(80);\nconst SHA512_W_L = /* @__PURE__ */ new Uint32Array(80);\nexport class SHA512 extends SHA2 {\n    constructor() {\n        super(128, 64, 16, false);\n        // We cannot use array here since array allows indexing by variable which means optimizer/compiler cannot use registers.\n        // Also looks cleaner and easier to verify with spec.\n        // Initial state (first 32 bits of the fractional parts of the square roots of the first 8 primes 2..19):\n        // h -- high 32 bits, l -- low 32 bits\n        this.Ah = 0x6a09e667 | 0;\n        this.Al = 0xf3bcc908 | 0;\n        this.Bh = 0xbb67ae85 | 0;\n        this.Bl = 0x84caa73b | 0;\n        this.Ch = 0x3c6ef372 | 0;\n        this.Cl = 0xfe94f82b | 0;\n        this.Dh = 0xa54ff53a | 0;\n        this.Dl = 0x5f1d36f1 | 0;\n        this.Eh = 0x510e527f | 0;\n        this.El = 0xade682d1 | 0;\n        this.Fh = 0x9b05688c | 0;\n        this.Fl = 0x2b3e6c1f | 0;\n        this.Gh = 0x1f83d9ab | 0;\n        this.Gl = 0xfb41bd6b | 0;\n        this.Hh = 0x5be0cd19 | 0;\n        this.Hl = 0x137e2179 | 0;\n    }\n    // prettier-ignore\n    get() {\n        const { Ah, Al, Bh, Bl, Ch, Cl, Dh, Dl, Eh, El, Fh, Fl, Gh, Gl, Hh, Hl } = this;\n        return [Ah, Al, Bh, Bl, Ch, Cl, Dh, Dl, Eh, El, Fh, Fl, Gh, Gl, Hh, Hl];\n    }\n    // prettier-ignore\n    set(Ah, Al, Bh, Bl, Ch, Cl, Dh, Dl, Eh, El, Fh, Fl, Gh, Gl, Hh, Hl) {\n        this.Ah = Ah | 0;\n        this.Al = Al | 0;\n        this.Bh = Bh | 0;\n        this.Bl = Bl | 0;\n        this.Ch = Ch | 0;\n        this.Cl = Cl | 0;\n        this.Dh = Dh | 0;\n        this.Dl = Dl | 0;\n        this.Eh = Eh | 0;\n        this.El = El | 0;\n        this.Fh = Fh | 0;\n        this.Fl = Fl | 0;\n        this.Gh = Gh | 0;\n        this.Gl = Gl | 0;\n        this.Hh = Hh | 0;\n        this.Hl = Hl | 0;\n    }\n    process(view, offset) {\n        // Extend the first 16 words into the remaining 64 words w[16..79] of the message schedule array\n        for (let i = 0; i < 16; i++, offset += 4) {\n            SHA512_W_H[i] = view.getUint32(offset);\n            SHA512_W_L[i] = view.getUint32((offset += 4));\n        }\n        for (let i = 16; i < 80; i++) {\n            // s0 := (w[i-15] rightrotate 1) xor (w[i-15] rightrotate 8) xor (w[i-15] rightshift 7)\n            const W15h = SHA512_W_H[i - 15] | 0;\n            const W15l = SHA512_W_L[i - 15] | 0;\n            const s0h = u64.rotrSH(W15h, W15l, 1) ^ u64.rotrSH(W15h, W15l, 8) ^ u64.shrSH(W15h, W15l, 7);\n            const s0l = u64.rotrSL(W15h, W15l, 1) ^ u64.rotrSL(W15h, W15l, 8) ^ u64.shrSL(W15h, W15l, 7);\n            // s1 := (w[i-2] rightrotate 19) xor (w[i-2] rightrotate 61) xor (w[i-2] rightshift 6)\n            const W2h = SHA512_W_H[i - 2] | 0;\n            const W2l = SHA512_W_L[i - 2] | 0;\n            const s1h = u64.rotrSH(W2h, W2l, 19) ^ u64.rotrBH(W2h, W2l, 61) ^ u64.shrSH(W2h, W2l, 6);\n            const s1l = u64.rotrSL(W2h, W2l, 19) ^ u64.rotrBL(W2h, W2l, 61) ^ u64.shrSL(W2h, W2l, 6);\n            // SHA256_W[i] = s0 + s1 + SHA256_W[i - 7] + SHA256_W[i - 16];\n            const SUMl = u64.add4L(s0l, s1l, SHA512_W_L[i - 7], SHA512_W_L[i - 16]);\n            const SUMh = u64.add4H(SUMl, s0h, s1h, SHA512_W_H[i - 7], SHA512_W_H[i - 16]);\n            SHA512_W_H[i] = SUMh | 0;\n            SHA512_W_L[i] = SUMl | 0;\n        }\n        let { Ah, Al, Bh, Bl, Ch, Cl, Dh, Dl, Eh, El, Fh, Fl, Gh, Gl, Hh, Hl } = this;\n        // Compression function main loop, 80 rounds\n        for (let i = 0; i < 80; i++) {\n            // S1 := (e rightrotate 14) xor (e rightrotate 18) xor (e rightrotate 41)\n            const sigma1h = u64.rotrSH(Eh, El, 14) ^ u64.rotrSH(Eh, El, 18) ^ u64.rotrBH(Eh, El, 41);\n            const sigma1l = u64.rotrSL(Eh, El, 14) ^ u64.rotrSL(Eh, El, 18) ^ u64.rotrBL(Eh, El, 41);\n            //const T1 = (H + sigma1 + Chi(E, F, G) + SHA256_K[i] + SHA256_W[i]) | 0;\n            const CHIh = (Eh & Fh) ^ (~Eh & Gh);\n            const CHIl = (El & Fl) ^ (~El & Gl);\n            // T1 = H + sigma1 + Chi(E, F, G) + SHA512_K[i] + SHA512_W[i]\n            // prettier-ignore\n            const T1ll = u64.add5L(Hl, sigma1l, CHIl, SHA512_Kl[i], SHA512_W_L[i]);\n            const T1h = u64.add5H(T1ll, Hh, sigma1h, CHIh, SHA512_Kh[i], SHA512_W_H[i]);\n            const T1l = T1ll | 0;\n            // S0 := (a rightrotate 28) xor (a rightrotate 34) xor (a rightrotate 39)\n            const sigma0h = u64.rotrSH(Ah, Al, 28) ^ u64.rotrBH(Ah, Al, 34) ^ u64.rotrBH(Ah, Al, 39);\n            const sigma0l = u64.rotrSL(Ah, Al, 28) ^ u64.rotrBL(Ah, Al, 34) ^ u64.rotrBL(Ah, Al, 39);\n            const MAJh = (Ah & Bh) ^ (Ah & Ch) ^ (Bh & Ch);\n            const MAJl = (Al & Bl) ^ (Al & Cl) ^ (Bl & Cl);\n            Hh = Gh | 0;\n            Hl = Gl | 0;\n            Gh = Fh | 0;\n            Gl = Fl | 0;\n            Fh = Eh | 0;\n            Fl = El | 0;\n            ({ h: Eh, l: El } = u64.add(Dh | 0, Dl | 0, T1h | 0, T1l | 0));\n            Dh = Ch | 0;\n            Dl = Cl | 0;\n            Ch = Bh | 0;\n            Cl = Bl | 0;\n            Bh = Ah | 0;\n            Bl = Al | 0;\n            const All = u64.add3L(T1l, sigma0l, MAJl);\n            Ah = u64.add3H(All, T1h, sigma0h, MAJh);\n            Al = All | 0;\n        }\n        // Add the compressed chunk to the current hash value\n        ({ h: Ah, l: Al } = u64.add(this.Ah | 0, this.Al | 0, Ah | 0, Al | 0));\n        ({ h: Bh, l: Bl } = u64.add(this.Bh | 0, this.Bl | 0, Bh | 0, Bl | 0));\n        ({ h: Ch, l: Cl } = u64.add(this.Ch | 0, this.Cl | 0, Ch | 0, Cl | 0));\n        ({ h: Dh, l: Dl } = u64.add(this.Dh | 0, this.Dl | 0, Dh | 0, Dl | 0));\n        ({ h: Eh, l: El } = u64.add(this.Eh | 0, this.El | 0, Eh | 0, El | 0));\n        ({ h: Fh, l: Fl } = u64.add(this.Fh | 0, this.Fl | 0, Fh | 0, Fl | 0));\n        ({ h: Gh, l: Gl } = u64.add(this.Gh | 0, this.Gl | 0, Gh | 0, Gl | 0));\n        ({ h: Hh, l: Hl } = u64.add(this.Hh | 0, this.Hl | 0, Hh | 0, Hl | 0));\n        this.set(Ah, Al, Bh, Bl, Ch, Cl, Dh, Dl, Eh, El, Fh, Fl, Gh, Gl, Hh, Hl);\n    }\n    roundClean() {\n        SHA512_W_H.fill(0);\n        SHA512_W_L.fill(0);\n    }\n    destroy() {\n        this.buffer.fill(0);\n        this.set(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0);\n    }\n}\nclass SHA512_224 extends SHA512 {\n    constructor() {\n        super();\n        // h -- high 32 bits, l -- low 32 bits\n        this.Ah = 0x8c3d37c8 | 0;\n        this.Al = 0x19544da2 | 0;\n        this.Bh = 0x73e19966 | 0;\n        this.Bl = 0x89dcd4d6 | 0;\n        this.Ch = 0x1dfab7ae | 0;\n        this.Cl = 0x32ff9c82 | 0;\n        this.Dh = 0x679dd514 | 0;\n        this.Dl = 0x582f9fcf | 0;\n        this.Eh = 0x0f6d2b69 | 0;\n        this.El = 0x7bd44da8 | 0;\n        this.Fh = 0x77e36f73 | 0;\n        this.Fl = 0x04c48942 | 0;\n        this.Gh = 0x3f9d85a8 | 0;\n        this.Gl = 0x6a1d36c8 | 0;\n        this.Hh = 0x1112e6ad | 0;\n        this.Hl = 0x91d692a1 | 0;\n        this.outputLen = 28;\n    }\n}\nclass SHA512_256 extends SHA512 {\n    constructor() {\n        super();\n        // h -- high 32 bits, l -- low 32 bits\n        this.Ah = 0x22312194 | 0;\n        this.Al = 0xfc2bf72c | 0;\n        this.Bh = 0x9f555fa3 | 0;\n        this.Bl = 0xc84c64c2 | 0;\n        this.Ch = 0x2393b86b | 0;\n        this.Cl = 0x6f53b151 | 0;\n        this.Dh = 0x96387719 | 0;\n        this.Dl = 0x5940eabd | 0;\n        this.Eh = 0x96283ee2 | 0;\n        this.El = 0xa88effe3 | 0;\n        this.Fh = 0xbe5e1e25 | 0;\n        this.Fl = 0x53863992 | 0;\n        this.Gh = 0x2b0199fc | 0;\n        this.Gl = 0x2c85b8aa | 0;\n        this.Hh = 0x0eb72ddc | 0;\n        this.Hl = 0x81c52ca2 | 0;\n        this.outputLen = 32;\n    }\n}\nclass SHA384 extends SHA512 {\n    constructor() {\n        super();\n        // h -- high 32 bits, l -- low 32 bits\n        this.Ah = 0xcbbb9d5d | 0;\n        this.Al = 0xc1059ed8 | 0;\n        this.Bh = 0x629a292a | 0;\n        this.Bl = 0x367cd507 | 0;\n        this.Ch = 0x9159015a | 0;\n        this.Cl = 0x3070dd17 | 0;\n        this.Dh = 0x152fecd8 | 0;\n        this.Dl = 0xf70e5939 | 0;\n        this.Eh = 0x67332667 | 0;\n        this.El = 0xffc00b31 | 0;\n        this.Fh = 0x8eb44a87 | 0;\n        this.Fl = 0x68581511 | 0;\n        this.Gh = 0xdb0c2e0d | 0;\n        this.Gl = 0x64f98fa7 | 0;\n        this.Hh = 0x47b5481d | 0;\n        this.Hl = 0xbefa4fa4 | 0;\n        this.outputLen = 48;\n    }\n}\nexport const sha512 = /* @__PURE__ */ wrapConstructor(() => new SHA512());\nexport const sha512_224 = /* @__PURE__ */ wrapConstructor(() => new SHA512_224());\nexport const sha512_256 = /* @__PURE__ */ wrapConstructor(() => new SHA512_256());\nexport const sha384 = /* @__PURE__ */ wrapConstructor(() => new SHA384());\n//# sourceMappingURL=sha512.js.map"],"names":["TX_EMPTY_SIZE","TX_INPUT_BASE","TX_INPUT_PUBKEYHASH","TX_OUTPUT_BASE","TX_OUTPUT_PUBKEYHASH","OP_RETURN_OVERHEAD","inputBytes","input","script","length","outputBytes","output","dustThreshold","feeRate","transactionBytes","inputs","outputs","reduce","a","x","uintOrNaN","v","NaN","isFinite","Math","floor","sumOrNaN","range","value","BLANK_OUTPUT","module","exports","finalize","bytesAccum","feeAfterExtraOutput","remainderAfterExtraOutput","concat","fee","sumForgiving","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","result","Super","NewTarget","this","constructor","Reflect","construct","arguments","apply","t","Boolean","prototype","valueOf","call","ChainSigner","_Verifier","_super","encryptedPrivateKey","password","curve","_this","pub","N","key","chainCode","Buffer","alloc","toString","_getPrvkeyHex","_proto2","getPrvkey","Promise","resolve","getPrvkeyHex","bufferUtils","bytesToHex","sign","digest","signature","slice","Verifier","compressedPublicKey","from","uncompressedPublicKey","_getPubkeyHex","_proto","getPubkey","compressed","getPubkeyHex","_x","verify","verifySignature","publicKey","p","toBuffer","d","s","ownKeys","e","r","Object","keys","getOwnPropertySymbols","o","filter","getOwnPropertyDescriptor","enumerable","push","_objectSpread","forEach","getOwnPropertyDescriptors","defineProperties","defineProperty","CoreChainApiBase","_baseCreateSigner","_baseGetSingleSigner","_baseGetPrivateKeys","_baseGetPrivateKeysHd","_baseGetAddressesFromHd","_baseGetDefaultPrivateKey","_validateXpub","_validateXprvt","baseGetCurve","curveName","baseCreateSigner","privateKey","privateKeyBuffer","baseGetSingleSigner","payload","privateKeys","getPrivateKeys","accountPath","account","path","firstRelPath","relPaths","join","Error","_x2","baseGetPrivateKeys","credentials","hd","imported","baseGetPrivateKeysHd","hdCredential","credential","encryptPrivateKey","_x3","pathComponents","split","usedRelativePaths","pop","basePath","ret","extendedKey","_x4","baseGetAddressesFromHd","query","options","generateFrom","template","indexes","pathPrefix","pathSuffix","indexFormatted","map","index","replace","isPrivateKeyMode","pubkeyInfos","pvtkeyInfos","prefix","infos","_ref","addresses","all","info","privateKeyRaw","getAddressFromPrivate","networkInfo","privateKeyInfo","getAddressFromPublic","publicKeyInfo","_x7","_x5","_x6","baseGetCredentialsType","ECoreCredentialType","baseGetDefaultPrivateKey","params","privateKeysMap","values","_x8","validateXpub","_x9","validateXprvt","_x10","BENFEN_PRIVATE_KEY_PREFIX","Signer","signWithIntent","bytes","intent","intentMessage","blake2b","dkLen","signatureScheme","getKeyScheme","getPublicKey","signTransactionBlock","TransactionData","signPersonalMessage","bcs","vector","u8","serialize","toBytes","PersonalMessage","toHexAddress","Keypair","schema","getSecretKey","nfkd","str","TypeError","normalize","norm","words","includes","salt","passphrase","isValidHardenedPath","RegExp","test","mnemonics","mnemonicToSeedSync","mnemonic","pbkdf2","c","pathRegex","replaceDerive","val","derivePath","seed","offset","some","isNaN","isValidPath","I","hmac","create","update","getMasterKeyFromSeed","el","parseInt","parentKeys","segment","indexBuffer","ArrayBuffer","DataView","setUint32","data","Uint8Array","byteLength","set","fill","CKDPriv","DEFAULT_ED25519_DERIVATION_PATH","Ed25519Keypair","keypair","super","keyPair","generate","fromSecretKey","secretKey","secretKeyLength","fromSeed","skipValidation","signData","TextEncoder","encode","detached","encodeBenfenPrivateKey","scheme","flag","privKeyBytes","bech32","toWords","deriveKeypair","mnemonicToSeedHex","deriveKeypairFromSeed","seedHex","handleSignData","txnBytes","CoreChainSoftware","_CoreChainApiBase","_getExportedSecretKey","_getPrivateKeys","_signTransaction","_signMessage","_getAddressFromPrivate","_getAddressFromPublic","_getAddressesFromHd","getExportedSecretKey","keyType","ECoreApiExportedSecretKeyType","signTransaction","unsignedTx","signer","rawTxUnsigned","prvKey","pubkey","serializeSignature","txid","rawTx","hexUtils","addHexPrefix","encodedTx","signMessage","unsignedMsg","messageBytes","message","isHexString","publicFromPrivate","hexAddress","address","getAddressesFromHd","slicePathTemplate","getUtxoAccountPrefixPath","fullPath","pathComponent","getBIP44Path","realPath","entries","estimateTxSize","inputsForCoinSelect","outputsForCoinSelect","KeyringBase","_VaultContext","vault","networkId","_basePrepareHdNormalAccounts","_basePrepareHdUtxoAccounts","_batchGetAddresses","_exportAccountSecretKeys","_buildHwAllNetworkPrepareAccountsParams","isKeyringImported","keyringType","isKeyringHd","isKeyringHardware","hardware","isKeyringWatching","watching","basePrepareHdNormalAccounts","walletId","names","deriveInfo","coinType","namePrefix","idSuffix","settings","getVaultSettings","accountType","buildAddressesInfo","usedIndexes","addressInfos","idx","relPath","VARIANT","pathIndex","name","buildHDAccountName","id","buildHDAccountId","indexedAccountId","buildIndexedAccountId","type","impl","basePrepareHdUtxoAccounts","skipCheckAccountExist","UTXO","checkIsAccountUsed","accountCreatePerf","utxoBuildAddressesInfo","addressesInfo","utxoBuildAddressesInfoDone","buildDBUtxoAccounts","xpub","xpubSegwit","isLast","isUsed","wait","buildDBUtxoAccountsDone","batchGetAddresses","exportAccountSecretKeys","buildHwAllNetworkPrepareAccountsParams","buildPrepareAccountsPrefixedPath","_KeyringBase","KeyringBaseMock","_super2","KeyringExternalBase","args","external","_baseSignMessageByExternalWallet","_baseSendTransactionByExternalWallet","_basePrepareExternalAccounts","baseSignMessageByExternalWallet","backgroundApi","serviceDappSide","getAccount","baseSendTransactionByExternalWallet","sendTransaction","prepareAccounts","basePrepareExternalAccounts","KeyringHardwareBase","_getHardwareSDKInstance","_baseGetDeviceAccountData","_baseGetDeviceAccountPublicKeys","_baseGetDeviceAccountAddresses","_getAllNetworkPrepareAccounts","getHardwareSDKInstance","$backgroundApiProxy","serviceHardware","getSDKInstance","getHardwareSDKInstanceDone","baseGetDeviceAccountData","sdkGetDataFn","errorMessage","deviceParams","dbDevice","confirmOnDevice","connectId","deviceId","coinName","showOnOnekeyFn","arrIndex","EveryItem","LastItem","baseGetDeviceAccountPublicKeys","sdkGetPublicKeysFn","baseGetDeviceAccountAddresses","sdkGetAddressFn","getAllNetworkPrepareAccounts","hwSdkNetwork","buildPath","buildResultAccount","hwAllNetworkPrepareAccountsResponse","resultAccounts","_loop","find","item","network","success","hasErrorItem","error","indexOf","KeyringHdBase","_KeyringSoftwareBase","KeyringImportedBase","KeyringSoftwareBase","_baseGetCredentialsInfo","_baseSignTransactionBtc","_baseSignTransaction","_baseSignMessage","_baseSignMessageBtc","_basePrepareAccountsImported","_basePrepareAccountsImportedUtxo","_basePrepareAccountsHd","_basePrepareAccountsHdUtxo","_baseExportAccountSecretKeys","baseGetCredentialsInfo","getCredential","accountId","baseSignTransactionBtc","coreApi","signOnly","getCoreApiNetworkInfo","btcExtraInfo","prepareBtcSignExtraInfo","baseSignTransaction","baseSignMessage","messages","msg","baseSignMessageBtc","_this2","unsignedMessage","basePrepareAccountsImported","importedCredential","networks","createAtNetwork","onlyAvailableOnCertainNetworks","coinTypeDefault","addressEncoding","addressUsed","buildImportedAccountId","undefined","basePrepareAccountsImportedUtxo","basePrepareAccountsHd","_ref2","_this3","basePrepareAccountsHdUtxo","_ref3","_this4","getCredentialsInfo","getAddressesFromHdDone","_x13","_x11","_x12","baseExportAccountSecretKeys","serviceNetwork","getDeriveTypeByTemplate","_x14","_x15","KeyringWatchingBase","_basePrepareUtxoWatchingAccounts","_basePrepareSimpleWatchingAccounts","intl","formatMessage","ETranslations","wallet_error_trade_with_watched_acocunt","basePrepareUtxoWatchingAccounts","isUrlAccount","buildWatchingAccountId","addressFromXpub","basePrepareSimpleWatchingAccounts","SIMPLE","_excluded","_excluded2","VaultBase","_VaultBaseChainOnly","uuid","mutexBuildOnChainHistoryTxGetDBAccount","_init","_initKeyring","_broadcastTransaction","_broadcastTransactionFromCustomRpc","_validateSendAmount","_buildOnChainHistoryTxExtraInfo","_precheckUnsignedTx","_buildEstimateFeeParams","_buildParseTransactionParams","_buildFetchHistoryListParams","_buildHistoryTx","_buildOnChainHistoryTx","_buildHistoryTxAction","_buildHistoryTxFunctionCallAction","_buildHistoryTxUnknownAction","_buildHistoryTransferAction","_buildTxTransferAssetAction","_buildInternalSwapAction","_buildInternalStakingAction","_getAccount","_getAccountAddress","_getAccountPath","_getAccountXpub","_fillTokensDetails","_fillAccountDetails","_isEarliestLocalPendingTx","_buildReplaceEncodedTx","_attachFeeInfoToDAppEncodedTx","_activateToken","_getAddressType","_fetchAccountDetails","_fetchAccountDetailsByApi","_fetchAccountDetailsByRpc","_fetchTokenList","_fetchTokenListByApi","_fetchTokenListByRpc","_estimateFee","_estimateFeeByApi","_estimateFeeByRpc","_fetchAccountHistoryDetail","_fetchAccountHistoryDetailByApi","_fetchAccountHistoryDetailByRpc","_buildOkxSwapEncodedTx","init","config","initKeyring","_x16","isChainOnly","keyring","keyringCreator","_x17","broadcastTransaction","signedTx","serviceSend","_x18","broadcastTransactionFromCustomRpc","_x19","validateSendAmount","_x20","buildOnChainHistoryTxExtraInfo","onChainHistoryTx","_x21","precheckUnsignedTx","_x22","buildEstimateFeeParams","_x23","buildParseTransactionParams","_x24","buildFetchHistoryListParams","_x25","buildHistoryTx","historyTxToMerge","decodedTx","isSigner","isLocalCreated","dbAccount","accountAddress","serviceAccount","getAccountAddressForApi","getAccountXpub","owner","historyTx","buildLocalHistoryId","_x26","fixOnChainHistoryAccountData","originAccountId","originNetworkId","originAccountAddress","originXpub","allNetworkHistoryExtraItems","onekeyall","allNetworkAccount","i","_","txXpub","accountXpub","buildOnChainHistoryTx","tokens","nfts","dbAccountCache","runExclusive","getDBAccountSafe","vaultSettings","action","buildHistoryTxAction","tx","to","nonce","actions","status","totalFeeInNative","gasFee","totalFeeFiatValue","gasFeeFiatValue","nativeAmount","isUtxo","extraInfo","label","updatedAt","Date","timestamp","getTime","createdAt","isFinal","_x27","Approve","tokenApprove","buildHistoryTxApproveAction","sends","receives","buildHistoryTxFunctionCallAction","buildHistoryTxUnknownAction","buildHistoryTransferAction","_x28","getNetwork","FUNCTION_CALL","functionCall","functionName","functionHash","functionCode","_x29","UNKNOWN","unknownAction","_x30","ASSET_TRANSFER","assetTransfer","send","buildHistoryTransfer","transfer","receive","_x31","icon","symbol","isNFT","isNative","price","tokenAddress","token","tokenIdOnNetwork","amount","isOwn","decimals","TOKEN_APPROVE","spender","shiftedBy","toFixed","isInfiniteAmount","buildTxTransferAssetAction","transfers","application","isInternalSwap","isInternalStaking","internalStakingLabel","swapReceivedAddress","swapReceivedNetworkId","getAccountAddress","sendNativeTokenAmountBN","OUT","plus","nativeAmountValue","convertAmountToChainValue","_x32","buildInternalSwapAction","_swapSendToken$logoUR","_swapSendToken$name","_swapReceiveToken$log","_swapReceiveToken$nam","_providerInfo$provide","swapData","swapInfo","swapToAddress","swapSendToken","sender","swapReceiveToken","receiver","providerInfo","swapBuildResData","otherFeeInfos","otherFeeInfoTransfers","contractAddress","logoURI","accountInfo","receivingAddress","feeInfo","_feeInfo$token$logoUR","_feeInfo$token$name","providerName","providerLogo","_x33","buildInternalStakingAction","_send$token$logoURI","_send$token$name","_receive$token$logoUR","_receive$token$name","stakingInfo","stakingData","stakingToAddress","protocol","protocolLogoURI","_x34","_params$signOnly","_signedTx$encodedTx","_x35","getDBAccount","isAccountCompatibleWithNetwork","getNetworkInfo","externalAccount","externalAccountAddress","connectedAddresses","buildExternalAccountAddress","fallbackIndex","_externalAccount$sele","selectedAddress","getNetworkImpl","addressDetail","buildAccountAddressDetail","allowEmptyAddress","isValid","getAccountPath","networkAccount","getXpubFromAccount","fillTokensDetails","tokensDetails","_x36","fillAccountDetails","accountDetails","_x37","isEarliestLocalPendingTx","_x38","buildReplaceEncodedTx","replaceType","_x39","attachFeeInfoToDAppEncodedTx","_x40","activateToken","_x41","getAddressType","_x42","buildStakeEncodedTx","fetchAccountDetails","isCustomNetwork","fetchAccountDetailsByRpc","fetchAccountDetailsByApi","_x43","queryParams","client","serviceAccountProfile","getClient","Wallet","get","headers","_getWalletTypeHeader","signal","_x44","_x45","fetchTokenList","fetchTokenListByRpc","fetchTokenListByApi","_x46","serviceToken","requestApiParams","contractList","contract","post","_x47","_x48","estimateFee","estimateFeeByRpc","estimateFeeByApi","_x49","rest","serviceGas","_x50","_x51","fetchAccountHistoryDetail","fetchAccountHistoryDetailByRpc","fetchAccountHistoryDetailByApi","_x52","_x53","_x54","buildOkxSwapEncodedTx","_x55","VaultBaseChainOnly","_getXpubFromAccount","_proxyJsonRPCCall","_addressFromBase","_addressToBase","_baseValidatePrivateKey","_baseValidateGeneralInput","_baseGetPrivateKeyFromImported","_validateAmountInputShown","_checkIsDomainName","_resolveDomainName","_getCustomRpcEndpointStatus","_checkFeeSupportInfo","_fetchTokenDetails","_fetchTokenDetailsByApi","_fetchTokenDetailsByRpc","proxyJsonRPCCall","request","addressFromBase","addressToBase","baseValidatePrivateKey","baseValidateGeneralInput","addressResult","xpubResult","xprvtResult","privateKeyResult","encodedText","validateAddress","validatePrivateKey","inputDecoded","baseGetPrivateKeyFromImported","stripHexPrefix","text","validateAmountInputShown","toAddress","checkIsDomainName","resolveDomainName","getCustomRpcEndpointStatus","checkFeeSupportInfo","fetchTokenDetails","fetchTokenDetailsByRpc","fetchTokenDetailsByApi","_params$signal","VaultContext","getWalletIdFromAccountId","_getNetworkId","_getNetwork","_getNetworkChainId","_getNetworkImpl","_getVaultSettings2","_getNetworkInfo","_getCoreApiNetworkInfo","_getRpcUrl","_destroy","getNetworkId","cached","_network","getNetworkChainId","hex","addressPrefix","networkImpl","chainId","isTestnet","networkChainCode","code","getRpcUrl","destroy","KeyringExternal","_KeyringExternalBase","normalizeBfcCoinType","normalAddress","toLowerCase","toTransaction","_toTransaction","transaction","TransactionBlock","setSenderIfNotSet","build","EBfcTransactionType","_getAllCoinsByCoinType","cursor","allCoins","hasNextPage","retries","resp","getCoins","limit","nextCursor","nextPageExists","timerUtils","_createTokenTransaction","recipient","maxSendNativeToken","getAllCoinsByCoinType","totalBalance","sum","coin","balance","lt","transferObjects","gas","setGasPayment","objectId","coinObjectId","version","splitCoins","primaryCoin","mergeCoins","primaryCoinInput","object","_coin","_getCoinTypeForHardwareTransfer","txBytes","transactions","blockData","cmd","kind","transferCommands","transferCommand","resultObj","objects","sourceCommand","inputIndex","ImmOrOwned","objectInfo","getObject","showType","showOwner","showPreviousTransaction","showDisplay","objectType","objectTypeToCoinType","genericMatch","match","createTokenTransaction","analyzeTransactionType","ContractInteraction","TokenTransfer","Unknown","parseTransferDetails","balanceChanges","changesByCoinType","Map","change","changes","tokenType","negativeChanges","isLessThan","positiveChanges","isGreaterThan","AddressOwner","abs","posChange","sort","b","minus","toNumber","transferAmount","parseMoveCall","firstMoveCallCommand","target","parts","moduleName","contractName","contractTo","getCoinTypeForHardwareTransfer","KeyringHardware","_KeyringHardwareBase","coreChainApi","bfc","showOnOneKey","allNetworkAccounts","accountUtils","buildPathFromTemplate","addressInfo","sdk","senderPublicKey","initialTransaction","h","response","benfenSignTransaction","hexlify","deviceCommonParams","hexToBytes","HardwareSDK","benfenSignMessage","messageHex","KeyringHd","_KeyringHdBase","_prepareAccounts","KeyringImported","_KeyringImportedBase","KeyringWatching","_KeyringWatchingBase","OneKeyBenfenTransport","_request","_subscribe","res","sendProxyRequest","body","route","method","subscribe","BENFEN_NS_NAME_REGEX","BENFEN_NS_DOMAIN_REGEX","CODE_TO_ERROR_TYPE","BenfenHTTPTransportError","JsonRpcError","BenfenHTTPStatusError","statusText","_requestId","_disconnects","_webSocket","_connectionPromise","_subscriptions","_pendingRequests","_setupWebSocket","setupWebSocket_fn","_reconnect","reconnect_fn","__accessCheck","obj","member","has","__privateGet","getter","__privateAdd","WeakSet","add","__privateSet","setter","__privateMethod","DEFAULT_CLIENT_OPTIONS","WebSocketConstructor","WebSocket","callTimeout","reconnectTimeout","maxReconnects","WebsocketClient","endpoint","Set","startsWith","getWebsocketUrl","httpUrl","url","URL","makeRequest","webSocket","reject","timeout","setTimeout","delete","JSON","stringify","jsonrpc","then","subscription","RpcSubscription","unsubscribe","WeakMap","close","addEventListener","json","parse","console","cause","resolve2","clearTimeout","subscriptionId","onMessage","async","allSettled","subscribed","newSubscriptionId","_options","_websocketClient","_getWebsocketClient","getWebsocketClient_fn","BenfenHTTPTransport","fetch","globalThis","rpc","ok","websocket","BENFEN_CLIENT_BRAND","Symbol","for","OneKeyBfcClient","_BenfenClient","BenfenClient","transport","getRpcApiVersion","getAllCoins","getBalance","getAllBalances","getCoinMetadata","getTotalSupply","getMoveFunctionArgTypes","package","function","getNormalizedMoveModulesByPackage","getNormalizedMoveModule","getNormalizedMoveFunction","getNormalizedMoveStruct","struct","getOwnedObjects","tryGetPastObject","multiGetObjects","ids","size","queryTransactionBlocks","order","getTransactionBlock","multiGetTransactionBlocks","digests","executeTransactionBlock","transactionBlock","Array","isArray","requestType","signAndExecuteTransactionBlock","getTotalTransactionBlocks","BigInt","getReferenceGasPrice","getStableRate","getStakes","getStakesByIds","stakedBfcIds","getLatestBenfeSystemState","getNetworkOverview","getInnerDao","getDaoProposalWithVoter","voter","queryEvents","subscribeEvent","subscribeTransaction","devInspectTransactionBlock","devInspectTxBytes","onlyTransactionKind","gasPrice","epoch","dryRunTransactionBlock","getDynamicFields","parentId","getDynamicFieldObject","getLatestCheckpointSequenceNumber","String","getCheckpoint","getCheckpoints","descendingOrder","getCommitteeInfo","getNetworkMetrics","getAddressMetrics","getEpochMetrics","getAllEpochAddressMetrics","getEpochs","getMoveCallMetrics","getCurrentEpoch","getValidatorsApy","getChainIdentifier","checkpoint","resolveNameServiceAddress","resolveNameServiceNames","format","normalizeBenfenNSName","lowerCase","labels","domain","getProtocolConfig","waitForTransactionBlock","pollInterval","timeoutSignal","AbortSignal","timeoutPromise","reason","catch","aborted","throwIfAborted","race","Vault","_VaultBase","keyringMap","qr","hw","getClientCache","getBfcClient","promise","max","maxAge","getTimeDurationMs","minute","_getClient","_buildEncodedTx","_buildDecodedTx","_buildUnsignedTx","_updateUnsignedTx","_getPrivateKeyFromImported","_validatePrivateKey","_validateGeneralInput","_waitPendingTransaction2","normalizedAddress","displayAddress","baseAddress","buildEncodedTx","transfersInfo","transferInfo","tokenInfo","amountValue","buildDecodedTx","_tx$blockData$sender","setSender","_network$logoURI2","transactionType","_tokenInfo$address","_token$logoURI","_token$symbol","_token$name","_token$address","getToken","buildTx","dryRunResult","_action","_token$logoURI2","_token$symbol2","_token$name2","_token$address2","Number","_network$logoURI","contractInfo","Pending","buildUnsignedTx","_params$encodedTx","updateUnsignedTx","nativeAmountInfo","maxSendAmount","_oldTx$blockData$send","oldTx","newTx","newEncodedTx","gasLimit","_newTx","gasConfig","budget","_newEncodedTx","errorCode","getPrivateKeyFromImported","xprvt","validateGeneralInput","waitPendingTransaction","txId","right","retryCount","retry","poll","time","showEffects","effects","rpcUrl","start","performance","now","latestBlock","responseTime","bestBlockNumber","customRpcInfo","okxTx","EVaultKeyringTypes","EWrappedType","IntentScope","IntentScope2","messageWithIntent","scope","intentWithScope","bytesEqual","PublicKey","equals","toRawBytes","toBase64","toBenfenPublicKey","toBenfenBytes","verifyWithIntent","verifyPersonalMessage","verifyTransactionBlock","rawBytes","benfenBytes","SIGNATURE_SCHEME_TO_FLAG","ED25519","Secp256k1","Secp256r1","MultiSig","ZkLogin","SIGNATURE_SCHEME_TO_SIZE","SIGNATURE_FLAG_TO_SCHEME","base64UrlCharTo6Bits","base64UrlChar","binaryString","padStart","decodeBase64URL","bits","base64UrlStringToBitVector","base64UrlString","bitVector","charAt","firstCharOffset","lastCharOffset","currentByteIndex","i2","bitChunk","byte","TextDecoder","decode","extractClaimValue","claim","claimName","extendedClaim","indexMod4","verifyExtendedClaim","proofPoints","string","issBase64Details","headerBase64","addressSeed","maxEpoch","u64","userSignature","toPaddedBigEndianBytes","num","width","_data","ZkLoginPublicIdentifier","_message","_signature","parseSerializedZkLoginSignature","signatureBytes","parseZkLoginSignature","iss","publicIdentifer","toZkLoginPublicIdentifier","addressSeedBytesBigEndian","issBytes","tmp","serializedSignature","zkLogin","toSerializedSignature","pubKeyBytes","parseSerializedSignature","multisig","Ed25519PublicKey","parsed","SIZE","pbkdf2Init","hash","_password","_salt","_opts","opts","asyncTick","DK","PRF","PRFSalt","_cloneInto","pbkdf2Output","prfW","u","arr","view","outputLen","ti","pos","Ti","subarray","setInt32","digestInto","ui","SHA512_Kh","SHA512_Kl","n","SHA512_W_H","Uint32Array","SHA512_W_L","SHA512","Ah","Al","Bh","Bl","Ch","Cl","Dh","Dl","Eh","El","Fh","Fl","Gh","Gl","Hh","Hl","process","getUint32","W15h","W15l","s0h","s0l","W2h","W2l","s1h","s1l","SUMl","SUMh","sigma1h","sigma1l","CHIh","CHIl","T1ll","T1h","T1l","sigma0h","sigma0l","MAJh","MAJl","l","All","roundClean","buffer","sha512"],"sourceRoot":""}