!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="b7c4883e-aa6a-46f2-a519-56e74933bcb9",e._sentryDebugIdIdentifier="sentry-dbid-b7c4883e-aa6a-46f2-a519-56e74933bcb9")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"5.5.0 (2024121652)"},(self.webpackChunkweb=self.webpackChunkweb||[]).push([[987],{326745:(e,t,n)=>{n.d(t,{u:()=>useAppRoute});var o=n(654266);function useAppRoute(){return(0,o.lq)()}},925771:(e,t,n)=>{n.d(t,{$:()=>CalculationListItem,k:()=>CalculationList});var o=n(324586),r=n(839850),a=n(490343),i=n(831085),s=["children"],c=["children","tooltip"],l=["children"];function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){(0,o.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function CalculationList({children:e}){return(0,i.jsx)(a.YStack,{gap:"$4","data-sentry-element":"YStack","data-sentry-component":"CalculationList","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/components/CalculationList/index.tsx",children:e})}function CalculationListItem(e){var{children:t}=e,n=(0,r.A)(e,s);return(0,i.jsx)(a.XStack,_objectSpread(_objectSpread({animation:"quick",enterStyle:{opacity:0},justifyContent:"space-between",alignItems:"center"},n),{},{"data-sentry-element":"XStack","data-sentry-component":"CalculationListItem","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/components/CalculationList/index.tsx",children:t}))}CalculationList.Item=CalculationListItem,CalculationListItem.Label=function CalculationListItemLabel(e){var{children:t,tooltip:n}=e,o=(0,r.A)(e,c),s=(0,i.jsx)(a.SizableText,_objectSpread(_objectSpread({color:"$textSubdued"},o),{},{children:t}));return n?(0,i.jsxs)(a.XStack,{gap:"$1",ai:"center",children:[s,(0,i.jsx)(a.Popover.Tooltip,{iconSize:"$5",title:t,tooltip:n,placement:"top"})]}):s},CalculationListItem.Value=function CalculationListItemValue(e){var{children:t}=e,n=(0,r.A)(e,l);return(0,i.jsx)(a.SizableText,_objectSpread(_objectSpread({size:"$bodyLgMedium"},n),{},{"data-sentry-element":"SizableText","data-sentry-component":"CalculationListItemValue","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/components/CalculationList/index.tsx",children:t}))}},286192:(e,t,n)=>{n.d(t,{BA:()=>EstimateNetworkFee,QL:()=>useShowClaimEstimateGasAlert,fH:()=>calcDaysSpent,sM:()=>useShowStakeEstimateGasAlert});var o=n(514041),r=n(241440),a=n(908867),i=n(490343),s=n(471169),c=n(334439),l=n(925771),d=n(831085),useShowStakeEstimateGasAlert=function(){var e=(0,a.A)(),[{currencyInfo:{symbol:t}}]=(0,s.useSettingsPersistAtom)();return(0,o.useCallback)((function({daysConsumed:n,estFiatValue:o,onConfirm:r}){var a=n?e.formatMessage({id:c.ETranslations.earn_transaction_loss_when_stake},{number:(0,d.jsx)(i.SizableText,{size:"$bodyLgMedium",color:"$textCaution",children:n})}):void 0;i.Dialog.show({title:e.formatMessage({id:c.ETranslations.earn_transaction_loss}),icon:"InfoCircleOutline",description:a,renderContent:(0,d.jsxs)(i.XStack,{children:[(0,d.jsxs)(i.SizableText,{size:"$bodyLg",mr:"$1",children:[e.formatMessage({id:c.ETranslations.global_est_network_fee}),":"]}),(0,d.jsx)(i.NumberSizeableText,{size:"$bodyLgMedium",formatter:"value",formatterOptions:{currency:t},children:o})]}),onConfirm:r})}),[e,t])},useShowClaimEstimateGasAlert=function(){var e=(0,a.A)(),[{currencyInfo:{symbol:t}}]=(0,s.useSettingsPersistAtom)();return(0,o.useCallback)((function({claimTokenFiatValue:n,estFiatValue:o,onConfirm:a}){var s=(0,r.A)(n).minus(o).absoluteValue().toFixed(),l=e.formatMessage({id:c.ETranslations.earn_transaction_loss_when_claim},{number:(0,d.jsx)(i.NumberSizeableText,{size:"$bodyLgMedium",formatter:"value",color:"$textCaution",formatterOptions:{currency:t},children:s})});i.Dialog.show({title:e.formatMessage({id:c.ETranslations.earn_transaction_loss}),icon:"InfoCircleOutline",description:l,renderContent:(0,d.jsxs)(i.YStack,{children:[(0,d.jsxs)(i.XStack,{children:[(0,d.jsxs)(i.SizableText,{size:"$bodyLg",mr:"$1",children:[e.formatMessage({id:c.ETranslations.global_est_network_fee}),":"]}),(0,d.jsx)(i.NumberSizeableText,{size:"$bodyLgMedium",formatter:"value",formatterOptions:{currency:t},children:o})]}),(0,d.jsxs)(i.XStack,{children:[(0,d.jsxs)(i.SizableText,{size:"$bodyLg",mr:"$1",children:[e.formatMessage({id:c.ETranslations.earn_reward_value}),":"]}),(0,d.jsx)(i.NumberSizeableText,{size:"$bodyLgMedium",formatter:"value",formatterOptions:{currency:t},children:n})]})]}),onConfirm:a})}),[e,t])},EstimateNetworkFeeListItem=function({estFiatValue:e,onPress:t}){var n=(0,a.A)(),[{currencyInfo:{symbol:o}}]=(0,s.useSettingsPersistAtom)();return Number(e)>0?(0,d.jsxs)(l.$,{onPress:t,children:[(0,d.jsx)(l.$.Label,{children:n.formatMessage({id:c.ETranslations.global_est_network_fee})}),(0,d.jsxs)(i.XStack,{alignItems:"center",cursor:t?"pointer":void 0,mr:t?-6:void 0,children:[(0,d.jsx)(i.NumberSizeableText,{size:"$bodyLgMedium",formatter:"value",formatterOptions:{currency:o},children:e}),t?(0,d.jsx)(i.Icon,{name:"ChevronRightSmallOutline",size:24}):null]})]}):null},calcDaysSpent=function(e,t){var n=(0,r.A)(t).div(e).multipliedBy(365);return n.isNaN()?void 0:Math.ceil(n.toNumber())},EstimateNetworkFee=function({estimateFeeResp:e,onPress:t,isVisible:n}){return e&&n?(0,d.jsx)(EstimateNetworkFeeListItem,{estFiatValue:e.feeFiatValue,onPress:t}):null}},138584:(e,t,n)=>{n.d(t,{Py:()=>SimpleSpinnerSkeleton,am:()=>isLoadingState,bU:()=>PageFrame,o0:()=>isErrorState});var o=n(908867),r=n(490343),a=n(791088),i=n(334439),s=n(831085),PageErrOccurred=function({onPress:e}){var t=(0,o.A)();return(0,s.jsx)(r.Empty,{pt:"$32",icon:"ErrorOutline",title:t.formatMessage({id:i.ETranslations.global_an_error_occurred}),description:t.formatMessage({id:i.ETranslations.global_an_error_occurred_desc}),buttonProps:{onPress:e,children:t.formatMessage({id:i.ETranslations.global_refresh})},"data-sentry-element":"Empty","data-sentry-component":"PageErrOccurred","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/components/PageFrame/index.tsx"})},SimpleSpinnerSkeleton=function(){return(0,s.jsxs)(r.Stack,{"data-sentry-element":"Stack","data-sentry-component":"SimpleSpinnerSkeleton","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/components/PageFrame/index.tsx",children:[(0,s.jsx)(r.Stack,{px:"$5",py:"$2","data-sentry-element":"Stack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/components/PageFrame/index.tsx",children:(0,s.jsx)(r.Skeleton.HeadingSm,{"data-sentry-element":"unknown","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/components/PageFrame/index.tsx"})}),Array.from({length:3}).map((function(e,t){return(0,s.jsxs)(a.c,{children:[(0,s.jsx)(r.Skeleton,{h:"$10",w:"$10",radius:"round"}),(0,s.jsxs)(r.Stack,{children:[(0,s.jsx)(r.Skeleton.BodyLg,{}),(0,s.jsx)(r.Skeleton.BodyMd,{})]})]},t)}))]})},isLoadingState=function({result:e,isLoading:t}){return Boolean(void 0===e&&(void 0===t||!0===t))},isErrorState=function({result:e,isLoading:t}){return Boolean(void 0===e&&!1===t)},PageFrame=function({children:e,loading:t,LoadingSkeleton:n,error:o,onRefresh:r}){return t?n?(0,s.jsx)(n,{}):null:o?(0,s.jsx)(PageErrOccurred,{onPress:r}):(0,s.jsx)(s.Fragment,{children:e})}},812566:(e,t,n)=>{n.d(t,{Q:()=>formatStakingDistanceToNowStrict});var o=n(567807),r=82800,a=86400;function formatStakingDistanceToNowStrict(e){var t=Number(e);if(!(Number.isNaN(t)||t<=0)){var n=t>r&&t<a?a:t;return(0,o.Bo)(Date.now()+1e3*n,{addSuffix:!1})}}},653913:(e,t,n)=>{n.d(t,{B8:()=>useUniversalStake,D0:()=>useUniversalClaim,Pg:()=>useUniversalWithdraw});var o=n(586330),r=n(324586),a=n(514041),i=n(241440),s=n(643087),c=n(927799),l=n(553083),d=n(161024),p=n(286192);function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u,createStakeInfoWithOrderId=function({stakingInfo:e,orderId:t}){return _objectSpread(_objectSpread({},e),{},{orderId:t})},m=(u=(0,o.A)((function*({data:e,stakeInfo:t,networkId:n,onSuccess:o}){Array.isArray(e)&&1===e.length&&e[0].signedTx?.txid&&t.orderId&&(yield s.A.serviceStaking.addEarnOrder({orderId:t.orderId,networkId:n,txId:e[0].signedTx.txid,status:e[0].decodedTx.status})),o?.(e)})),function handleStakeSuccess(e){return u.apply(this,arguments)});function useUniversalStake({networkId:e,accountId:t}){var n,{navigationToSendConfirm:r}=(0,c.E)({accountId:t,networkId:e});return(0,a.useCallback)((n=(0,o.A)((function*({amount:n,symbol:a,term:i,feeRate:c,provider:d,stakingInfo:p,onSuccess:u,onFail:k}){var g,f,y=yield s.A.serviceStaking.buildStakeTransaction({amount:n,networkId:e,accountId:t,symbol:a,term:i,provider:d,feeRate:c}),S=yield s.A.serviceStaking.buildEarnTx({networkId:e,accountId:t,tx:y.tx});l.Ay.isBTCNetwork(e)&&S.fee&&(g=!0,f=!1);var b,x=createStakeInfoWithOrderId({stakingInfo:p,orderId:y.orderId});yield r({encodedTx:S,stakingInfo:x,onSuccess:(b=(0,o.A)((function*(t){yield m({data:t,stakeInfo:x,networkId:e,onSuccess:u})})),function onSuccess(e){return b.apply(this,arguments)}),onFail:k,useFeeInTx:g,feeInfoEditable:f})})),function(e){return n.apply(this,arguments)}),[r,t,e])}function useUniversalWithdraw({networkId:e,accountId:t}){var n,{navigationToSendConfirm:r}=(0,c.E)({accountId:t,networkId:e});return(0,a.useCallback)((n=(0,o.A)((function*({amount:n,symbol:a,provider:i,identity:c,stakingInfo:p,onSuccess:u,onFail:k}){var g,f=yield s.A.serviceStaking.getStakingConfigs({networkId:e,symbol:a,provider:i});if(!f)throw new Error("Staking config not found");if(f?.unstakeWithSignMessage){var y=yield s.A.serviceAccount.getAccount({accountId:t,networkId:e}),{message:S,deadline:b}=yield s.A.serviceStaking.buildLidoEthPermitMessageData({accountId:t,networkId:e,amount:n}),x=yield s.A.serviceDApp.openSignMessageModal({accountId:t,networkId:e,request:{origin:"https://lido.fi/",scope:"ethereum"},unsignedMessage:{type:d.$.TYPED_DATA_V4,message:S,payload:[y.address,S]},walletInternalSign:!0});g=yield s.A.serviceStaking.buildUnstakeTransaction({amount:n,networkId:e,accountId:t,symbol:a,provider:i,signature:x,deadline:b})}else g=yield s.A.serviceStaking.buildUnstakeTransaction({amount:n,identity:c,networkId:e,accountId:t,symbol:a,provider:i});var w,v,h=yield s.A.serviceStaking.buildEarnTx({networkId:e,accountId:t,tx:g.tx});l.Ay.isBTCNetwork(e)&&h.fee&&(w=!0,v=!1);var j,I=createStakeInfoWithOrderId({stakingInfo:p,orderId:g.orderId});yield r({encodedTx:h,stakingInfo:p,signOnly:f?.withdrawSignOnly,useFeeInTx:w,feeInfoEditable:v,onSuccess:(j=(0,o.A)((function*(n){if(f?.withdrawSignOnly){var o=n[0].signedTx.finalizedPsbtHex;o&&c&&(yield s.A.serviceStaking.unstakePush({txId:c,networkId:e,accountId:t,symbol:a,provider:i,unstakeTxHex:o}),u?.(n))}else yield m({data:n,stakeInfo:I,networkId:e,onSuccess:u})})),function onSuccess(e){return j.apply(this,arguments)}),onFail:k})})),function(e){return n.apply(this,arguments)}),[t,e,r])}function useUniversalClaim({networkId:e,accountId:t}){var n,{navigationToSendConfirm:r}=(0,c.E)({accountId:t,networkId:e}),d=(0,p.QL)();return(0,a.useCallback)((n=(0,o.A)((function*({identity:n,amount:a,provider:c,symbol:p,stakingInfo:u,onSuccess:k,onFail:g}){var f,y=(f=(0,o.A)((function*(){var i,d,f=yield s.A.serviceStaking.buildClaimTransaction({networkId:e,accountId:t,symbol:p,provider:c,amount:a,identity:n}),y=yield s.A.serviceStaking.buildEarnTx({networkId:e,accountId:t,tx:f.tx});l.Ay.isBTCNetwork(e)&&y.fee&&(i=!0,d=!1);var S,b=createStakeInfoWithOrderId({stakingInfo:u,orderId:f.orderId});yield r({encodedTx:y,stakingInfo:u,onSuccess:(S=(0,o.A)((function*(t){yield m({data:t,stakeInfo:b,networkId:e,onSuccess:k})})),function onSuccess(e){return S.apply(this,arguments)}),onFail:g,useFeeInTx:i,feeInfoEditable:d})})),function continueClaim(){return f.apply(this,arguments)});if(Number(a)>0){var S=yield s.A.serviceStaking.estimateFee({networkId:e,provider:c,symbol:p,action:"claim",amount:a}),b=(0,i.A)(S.token.price).multipliedBy(a);if(b.lt(S.feeFiatValue))return void d({claimTokenFiatValue:b.toFixed(),estFiatValue:S.feeFiatValue,onConfirm:y})}yield y()})),function(e){return n.apply(this,arguments)}),[r,t,e,d])}},800987:(e,t,n)=>{n.r(t),n.d(t,{default:()=>B});var o=n(586330),r=n(514041),a=n(908867),i=n(490343),s=n(643087),c=n(325809),l=n(498356),d=n(326745),p=n(911998),u=n(153763),m=n(334439),k=n(193068),g=n(553083),f=n(714191),y=n(73197),S=n(550082),b=n(324586),x=n(582438),w=n.n(x),v=n(584186),h=n(831085);function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){(0,b.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var BabylonTracking=function({networkId:e,accountId:t,symbol:n,provider:r,onRefresh:c}){var l=(0,a.A)();return(0,p.yk)((0,o.A)((function*(){var a,i=yield s.A.serviceStaking.getPortfolioList({accountId:t,networkId:e,symbol:n,provider:r}),l=yield s.A.serviceStaking.getBabylonTrackingItems({accountId:t,networkId:e}),d=l.filter((function(e){return"stake"===e.action})),p=l.filter((function(e){return"claim"===e.action})),u=Date.now(),m=l.filter((function(e){return u-e.createAt>v.A.getTimeDurationMs({day:3})})).map((function(e){return e.txId}));d.forEach((a=(0,o.A)((function*(e){var t=i.find((function(t){return t.txId===e.txId}));t&&m.push(t.txId)})),function(e){return a.apply(this,arguments)})),p.forEach((function(e){i.find((function(t){return t.txId===e.txId&&"claimed"===t.status}))&&m.push(e.txId)})),m.length>0&&(yield s.A.serviceStaking.removeBabylonTrackingItem({txIds:w()(m)}),c?.())})),[e,t,n,r,c],{pollingInterval:3e4}),(0,h.jsx)(i.Alert,{type:"info",title:l.formatMessage({id:m.ETranslations.earn_pending_transactions_data_out_of_sync}),"data-sentry-element":"Alert","data-sentry-component":"BabylonTracking","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/components/BabylonTrackingAlert/index.tsx"})},BabylonTrackingAlert=function(e){var{provider:t}=e;return t.toLowerCase()!==y.e.Babylon.toLowerCase()?null:(0,h.jsx)(BabylonTracking,_objectSpread(_objectSpread({},e),{},{"data-sentry-element":"BabylonTracking","data-sentry-component":"BabylonTrackingAlert","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/components/BabylonTrackingAlert/index.tsx"}))},j=n(138584);function FaqInfo({solutions:e}){var t=(0,a.A)();return(0,h.jsxs)(i.YStack,{gap:"$6","data-sentry-element":"YStack","data-sentry-component":"FaqInfo","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/components/ProtocolDetails/FaqSection.tsx",children:[(0,h.jsx)(i.SizableText,{size:"$headingLg","data-sentry-element":"SizableText","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/components/ProtocolDetails/FaqSection.tsx",children:t.formatMessage({id:m.ETranslations.global_faqs})}),(0,h.jsx)(i.YStack,{"data-sentry-element":"YStack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/components/ProtocolDetails/FaqSection.tsx",children:(0,h.jsx)(i.Accordion,{type:"multiple",gap:"$2","data-sentry-element":"Accordion","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/components/ProtocolDetails/FaqSection.tsx",children:e.map((function({question:e,answer:t},n){return(0,h.jsxs)(i.Accordion.Item,{value:String(n),children:[(0,h.jsx)(i.Accordion.Trigger,{unstyled:!0,flexDirection:"row",alignItems:"center",borderWidth:0,bg:"$transparent",px:"$2",py:"$1",mx:"$-2",my:"$-1",hoverStyle:{bg:"$bgHover"},pressStyle:{bg:"$bgActive"},borderRadius:"$2",children:function({open:t}){return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(i.SizableText,{textAlign:"left",flex:1,size:"$bodyLgMedium",color:t?"$text":"$textSubdued",children:e}),(0,h.jsx)(i.Stack,{animation:"quick",rotate:t?"180deg":"0deg",children:(0,h.jsx)(i.Icon,{name:"ChevronDownSmallOutline",color:t?"$iconActive":"$iconSubdued",size:"$5"})})]})}}),(0,h.jsx)(i.Accordion.HeightAnimator,{animation:"quick",children:(0,h.jsx)(i.Accordion.Content,{unstyled:!0,pt:"$2",pb:"$5",animation:"100ms",enterStyle:{opacity:0},exitStyle:{opacity:0},children:(0,h.jsx)(i.SizableText,{size:"$bodyMd",children:t})})})]},String(n))}))})})]})}var FaqSection=function({details:e}){var{result:t}=(0,p.yk)((0,o.A)((function*(){return e?s.A.serviceStaking.getFAQList({symbol:e.token.info.symbol,provider:e.provider.name}):Promise.resolve([])})),[e],{initResult:[]});return 0===t.length?null:(0,h.jsx)(FaqInfo,{solutions:t,"data-sentry-element":"FaqInfo","data-sentry-component":"FaqSection","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/components/ProtocolDetails/FaqSection.tsx"})},I=n(471169),P=n(812566),_=n(839850),A=n(117746),T=["title","children","tooltip","link"];function GridItem_ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function GridItem_objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?GridItem_ownKeys(Object(n),!0).forEach((function(t){(0,b.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GridItem_ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function GridItem(e){var{title:t,children:n,tooltip:o,link:a}=e,s=(0,_.A)(e,T),c=(0,r.useCallback)((function(){a&&(0,A.Dr)(a)}),[a]);return(0,h.jsxs)(i.YStack,GridItem_objectSpread(GridItem_objectSpread({p:"$3",flexBasis:"50%",$gtMd:{flexBasis:"33.33%"}},s),{},{"data-sentry-element":"YStack","data-sentry-component":"GridItem","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/components/ProtocolDetails/GridItem.tsx",children:[(0,h.jsxs)(i.XStack,{gap:"$1",mb:"$1","data-sentry-element":"XStack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/components/ProtocolDetails/GridItem.tsx",children:[(0,h.jsx)(i.SizableText,{size:"$bodyMd",color:"$textSubdued","data-sentry-element":"SizableText","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/components/ProtocolDetails/GridItem.tsx",children:t}),o?(0,h.jsx)(i.Popover,{placement:"top",title:t,renderTrigger:(0,h.jsx)(i.IconButton,{iconColor:"$iconSubdued",size:"small",icon:"InfoCircleOutline",variant:"tertiary"}),renderContent:(0,h.jsx)(i.Stack,{p:"$5",children:(0,h.jsx)(i.SizableText,{children:o})})}):null]}),(0,h.jsxs)(i.XStack,{gap:"$1",alignItems:"center","data-sentry-element":"XStack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/components/ProtocolDetails/GridItem.tsx",children:[(0,h.jsx)(i.SizableText,{size:"$bodyLgMedium","data-sentry-element":"SizableText","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/components/ProtocolDetails/GridItem.tsx",children:n}),a?(0,h.jsx)(i.Stack,{onPress:c,cursor:"pointer",children:(0,h.jsx)(i.Icon,{name:"OpenOutline",color:"$iconSubdued",size:"$5"})}):null]})]}))}function ProfitSection_ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function ProfitSection_objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ProfitSection_ownKeys(Object(n),!0).forEach((function(t){(0,b.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ProfitSection_ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ProfitInfo({apr:e,earningsIn24h:t,rewardToken:n,rewardTokens:o,updateFrequency:r,unstakingPeriod:s,stakingTime:c,nextLaunchLeft:l,earnPoints:d}){var p=(0,a.A)(),[{currencyInfo:{symbol:u}}]=(0,I.useSettingsPersistAtom)();return(0,h.jsxs)(i.YStack,{gap:"$6","data-sentry-element":"YStack","data-sentry-component":"ProfitInfo","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/components/ProtocolDetails/ProfitSection.tsx",children:[(0,h.jsx)(i.SizableText,{size:"$headingLg","data-sentry-element":"SizableText","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/components/ProtocolDetails/ProfitSection.tsx",children:p.formatMessage({id:m.ETranslations.global_profit})}),d?(0,h.jsx)(i.Alert,{title:p.formatMessage({id:m.ETranslations.earn_earn_points}),description:p.formatMessage({id:m.ETranslations.earn_earn_points_desc})}):(0,h.jsxs)(i.XStack,{flexWrap:"wrap",m:"$-5",p:"$2",children:[e&&Number(e)>0?(0,h.jsx)(GridItem,{title:p.formatMessage({id:m.ETranslations.earn_rewards_percentage}),children:(0,h.jsx)(i.SizableText,{size:"$bodyLgMedium",color:"$textSuccess",children:`${e}% ${p.formatMessage({id:m.ETranslations.global_apr})}`})}):null,t&&Number(t)>0?(0,h.jsx)(GridItem,{title:p.formatMessage({id:m.ETranslations.earn_24h_earnings}),tooltip:p.formatMessage({id:m.ETranslations.earn_24h_earnings_tooltip}),children:(0,h.jsx)(i.NumberSizeableText,{formatter:"value",color:"$textSuccess",size:"$bodyLgMedium",formatterOptions:{currency:u},children:t})}):null,o?(0,h.jsx)(GridItem,{title:p.formatMessage({id:m.ETranslations.earn_reward_tokens}),children:o}):null,r?(0,h.jsx)(GridItem,{title:p.formatMessage({id:m.ETranslations.earn_update_frequency}),children:r}):null,c?(0,h.jsx)(GridItem,{title:p.formatMessage({id:m.ETranslations.earn_earnings_start}),children:p.formatMessage({id:m.ETranslations.earn_in_number},{number:(0,P.Q)(c)})}):null,s?(0,h.jsx)(GridItem,{title:p.formatMessage({id:m.ETranslations.earn_unstaking_period}),tooltip:p.formatMessage({id:"APT"===n?m.ETranslations.earn_earn_during_unstaking_tooltip:m.ETranslations.earn_unstaking_period_tooltip}),children:p.formatMessage({id:m.ETranslations.earn_up_to_number_days},{number:s})}):null]})]})}var ProfitSection=function({details:e}){if(!e)return null;var t={apr:Number(e.provider?.apr)>0?e.provider.apr:void 0,earningsIn24h:e.earnings24h,rewardToken:e.rewardToken,rewardTokens:e.rewardToken,earnPoints:e.provider.earnPoints,unstakingPeriod:e.unstakingPeriod,stakingTime:e.provider.stakingTime,nextLaunchLeft:e.provider.nextLaunchLeft};return(0,h.jsx)(ProfitInfo,ProfitSection_objectSpread(ProfitSection_objectSpread({},t),{},{"data-sentry-element":"ProfitInfo","data-sentry-component":"ProfitSection","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/components/ProtocolDetails/ProfitSection.tsx"}))},O=n(241440),$=n(905817);function ProviderSection_ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function ProviderSection_objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ProviderSection_ownKeys(Object(n),!0).forEach((function(t){(0,b.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ProviderSection_ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ProviderInfo({validator:e,minOrMaxStaking:t,untilNextLaunch:n,network:o,babylonConfirmedCap:r,babylonStakingCap:s}){var c,l=(0,a.A)();if(t){var{minValue:d,maxValue:p}=t;p&&d?c={label:l.formatMessage({id:m.ETranslations.earn_min_max_staking}),value:`${d}/${p} ${t.token}`}:d&&(c={label:l.formatMessage({id:m.ETranslations.earn_min_staking}),value:`${d} ${t.token}`})}return(0,h.jsxs)(i.YStack,{gap:"$6","data-sentry-element":"YStack","data-sentry-component":"ProviderInfo","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/components/ProtocolDetails/ProviderSection.tsx",children:[(0,h.jsx)(i.SizableText,{size:"$headingLg","data-sentry-element":"SizableText","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/components/ProtocolDetails/ProviderSection.tsx",children:l.formatMessage({id:m.ETranslations.swap_history_detail_provider})}),(0,h.jsxs)(i.XStack,{flexWrap:"wrap",m:"$-5",p:"$2","data-sentry-element":"XStack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/components/ProtocolDetails/ProviderSection.tsx",children:[e?(0,h.jsx)(GridItem,{title:e.isProtocol?l.formatMessage({id:m.ETranslations.global_protocol}):l.formatMessage({id:m.ETranslations.earn_validator}),link:e.link,children:(0,$.c)(e.name)}):null,c?(0,h.jsx)(GridItem,{title:c.label,children:(0,h.jsx)(i.SizableText,{size:"$bodyLgMedium",children:c.value})}):null,n?(0,h.jsx)(GridItem,{title:l.formatMessage({id:m.ETranslations.earn_until_next_launch}),tooltip:l.formatMessage({id:m.ETranslations.earn_until_next_launch_tooltip}),children:(0,h.jsx)(i.SizableText,{size:"$bodyLgMedium",children:l.formatMessage({id:m.ETranslations.earn_number_symbol_left},{number:Number(n.value).toFixed(2),symbol:n.token})})}):null,o?.name?(0,h.jsx)(GridItem,{title:l.formatMessage({id:m.ETranslations.global_network}),children:o.name}):null,s?.value?(0,h.jsxs)(GridItem,{title:l.formatMessage({id:m.ETranslations.earn_staking_cap}),children:[s.value," BTC"]}):null,r?.value?(0,h.jsxs)(GridItem,{title:l.formatMessage({id:m.ETranslations.earn_confirmed_cap}),children:[r.value," BTC"]}):null]})]})}var ProviderSection=function({details:e}){if(!e)return null;var t={};return e.provider&&(t.validator={name:e.provider.name,link:e.provider.website,isProtocol:"everstake"!==e.provider.name.toLowerCase()},e.provider.minStakeAmount&&(t.minOrMaxStaking={minValue:Number(e.provider.minStakeAmount),maxValue:Number(e.provider.maxStakeAmount),token:e.token.info.symbol}),e.provider.nextLaunchLeft&&(t.untilNextLaunch={value:Number(e.provider.nextLaunchLeft),token:e.token.info.symbol}),"babylon"===e.provider.name&&(e.provider.stakingCap&&Number(e.provider.stakingCap)>0&&(t.babylonStakingCap={value:e.provider.stakingCap}),e.provider.totalStaked&&Number(e.provider.totalStaked)>0&&(t.babylonConfirmedCap={value:(0,O.A)(e.provider.totalStaked).decimalPlaces(4).toFixed()}))),e.network&&(t.network=e.network),0===Object.keys(t).length?null:(0,h.jsx)(ProviderInfo,ProviderSection_objectSpread(ProviderSection_objectSpread({},t),{},{"data-sentry-element":"ProviderInfo","data-sentry-component":"ProviderSection","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/components/ProtocolDetails/ProviderSection.tsx"}))};function ProtocolDetails({details:e,children:t}){return e?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(i.YStack,{gap:"$8","data-sentry-element":"YStack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/components/ProtocolDetails/index.tsx",children:t}),(0,h.jsx)(ProfitSection,{details:e,"data-sentry-element":"ProfitSection","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/components/ProtocolDetails/index.tsx"}),(0,h.jsx)(i.Divider,{"data-sentry-element":"Divider","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/components/ProtocolDetails/index.tsx"}),(0,h.jsx)(ProviderSection,{details:e,"data-sentry-element":"ProviderSection","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/components/ProtocolDetails/index.tsx"}),(0,h.jsx)(i.Divider,{"data-sentry-element":"Divider","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/components/ProtocolDetails/index.tsx"}),(0,h.jsx)(FaqSection,{details:e,"data-sentry-element":"FaqSection","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/components/ProtocolDetails/index.tsx"})]}):null}var D=n(353203),C=n(162616),E=n(491180);function NoAddressWarning({accountId:e,networkId:t,indexedAccountId:n,onCreateAddress:c}){var l=(0,a.A)(),[d,u]=(0,r.useState)(!1),{activeAccount:{wallet:k}}=(0,C.LH)({num:0}),{createAddress:f}=(0,D.m)(),y=(0,r.useCallback)((0,o.A)((function*(){u(!0);try{var e=yield s.A.serviceNetwork.getGlobalDeriveTypeOfNetwork({networkId:t});yield f({num:0,account:{walletId:k?.id,networkId:t,indexedAccountId:n,deriveType:g.Ay.isBTCNetwork(t)?"BIP86":e},selectAfterCreate:!1}),c()}finally{u(!1)}})),[k,n,t,f,c]),{result:S}=(0,p.yk)((0,o.A)((function*(){var{serviceAccount:o,serviceNetwork:r}=s.A,a="";try{a=(yield o.getAccount({accountId:e,networkId:t})).name}catch(e){if(n)a=(yield o.getIndexedAccount({id:n})).name}return{accountName:a,networkName:(yield r.getNetwork({networkId:t})).name}})),[e,n,t]),b=E.A.isOthersAccount({accountId:e}),x=(0,r.useMemo)((function(){var e,n;return b?{title:l.formatMessage({id:m.ETranslations.wallet_unsupported_network_title},{network:null!=(n=S?.networkName)?n:""}),description:l.formatMessage({id:m.ETranslations.wallet_unsupported_network_desc})}:{title:l.formatMessage({id:m.ETranslations.wallet_no_address}),description:l.formatMessage({id:m.ETranslations.global_private_key_error},{network:null!=(e=S?.networkName)?e:"",path:g.Ay.isBTCNetwork(t)?"(Taproot)":""})}}),[S,b,t,l]);return S?e||n?(0,h.jsx)(i.Alert,{type:"warning",title:x.title,description:x.description,action:b?void 0:{primary:l.formatMessage({id:m.ETranslations.dapp_connect_create}),onPrimaryPress:function(){return y()},isPrimaryLoading:d},"data-sentry-element":"Alert","data-sentry-component":"NoAddressWarning","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/components/ProtocolDetails/NoAddressWarning.tsx"}):(0,h.jsx)(i.Alert,{type:"critical",title:l.formatMessage({id:m.ETranslations.swap_page_button_no_connected_wallet})}):null}var L=n(17617),M=n(391944);function PortfolioSection_ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function PortfolioSection_objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?PortfolioSection_ownKeys(Object(n),!0).forEach((function(t){(0,b.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PortfolioSection_ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var PortfolioItem=function({tokenImageUri:e,tokenSymbol:t,amount:n,statusText:a,onPress:s,buttonText:c,tooltip:l,renderTooltipContent:d,disabled:p,useLoading:u}){var[m,k]=(0,r.useState)(!1),g=(0,r.useCallback)((0,o.A)((function*(){try{u&&k(!0),yield s?.()}finally{u&&k(!1)}})),[s,u]);return(0,h.jsxs)(i.XStack,{minHeight:30,alignItems:"center",justifyContent:"space-between","data-sentry-element":"XStack","data-sentry-component":"PortfolioItem","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/components/ProtocolDetails/PortfolioSection.tsx",children:[(0,h.jsxs)(i.XStack,{alignItems:"center",gap:"$1.5","data-sentry-element":"XStack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/components/ProtocolDetails/PortfolioSection.tsx",children:[(0,h.jsx)(M.o,{size:"sm",tokenImageUri:e,"data-sentry-element":"Token","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/components/ProtocolDetails/PortfolioSection.tsx"}),(0,h.jsx)(i.NumberSizeableText,{size:"$bodyLgMedium",formatter:"balance",formatterOptions:{tokenSymbol:t},"data-sentry-element":"NumberSizeableText","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/components/ProtocolDetails/PortfolioSection.tsx",children:n}),(0,h.jsx)(i.XStack,{gap:"$1",ai:"center","data-sentry-element":"XStack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/components/ProtocolDetails/PortfolioSection.tsx",children:(0,h.jsx)(i.SizableText,{size:"$bodyLg","data-sentry-element":"SizableText","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/components/ProtocolDetails/PortfolioSection.tsx",children:a})}),l||d?(0,h.jsx)(i.Popover,{placement:"top",title:a,renderTrigger:(0,h.jsx)(i.IconButton,{iconColor:"$iconSubdued",size:"small",icon:"InfoCircleOutline",variant:"tertiary"}),renderContent:l?(0,h.jsx)(i.Stack,{p:"$5",children:(0,h.jsx)(i.SizableText,{children:l})}):d||null}):null]}),c&&s?(0,h.jsx)(i.Button,{size:"small",disabled:p,variant:"primary",onPress:g,loading:m,children:c}):null]})};function PendingInactiveItem({pendingInactive:e,pendingInactivePeriod:t,tokenSymbol:n}){var o=(0,a.A)();return(0,h.jsxs)(i.XStack,{jc:"space-between","data-sentry-element":"XStack","data-sentry-component":"PendingInactiveItem","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/components/ProtocolDetails/PortfolioSection.tsx",children:[(0,h.jsx)(i.NumberSizeableText,{size:"$bodyLgMedium",formatter:"balance",formatterOptions:{tokenSymbol:n},"data-sentry-element":"NumberSizeableText","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/components/ProtocolDetails/PortfolioSection.tsx",children:e}),(0,h.jsx)(i.SizableText,{size:"$bodyLgMedium","data-sentry-element":"SizableText","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/components/ProtocolDetails/PortfolioSection.tsx",children:o.formatMessage({id:m.ETranslations.earn_number_days_left},{number:t})})]})}function PortfolioInfo({token:e,active:t,pendingInactive:n,pendingInactivePeriod:o,pendingActive:r,pendingActiveTooltip:s,claimable:c,rewards:l,tooltipForClaimable:d,labelForClaimable:p,minClaimableNum:u,babylonOverflow:k,onClaim:g,onWithdraw:f,onPortfolioDetails:y,showDetailWithdrawalRequested:S,unbondingDelegationList:b}){var x=(0,a.A)();if(Number(n)>0||Number(c)>0||Number(r)>0||Number(k)>0||Number(t)>0){var w=Boolean(u&&l&&Number(l)<Number(u));return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)(i.YStack,{gap:"$6",children:[(0,h.jsxs)(i.XStack,{justifyContent:"space-between",children:[(0,h.jsx)(i.SizableText,{size:"$headingLg",children:x.formatMessage({id:m.ETranslations.earn_portfolio})}),void 0!==y?(0,h.jsx)(i.Button,{variant:"tertiary",iconAfter:"ChevronRightOutline",onPress:y,children:x.formatMessage({id:m.ETranslations.global_details})}):null]}),(0,h.jsxs)(i.YStack,{gap:"$3",children:[r&&Number(r)?(0,h.jsx)(PortfolioItem,{tokenImageUri:e.logoURI,tokenSymbol:e.symbol,amount:r,tooltip:s,statusText:x.formatMessage({id:m.ETranslations.earn_pending_activation})}):null,t&&Number(t)?(0,h.jsx)(PortfolioItem,{tokenImageUri:e.logoURI,tokenSymbol:e.symbol,amount:t,statusText:x.formatMessage({id:m.ETranslations.earn_active})}):null,b?.length&&n?(0,h.jsx)(PortfolioItem,{tokenImageUri:e.logoURI,tokenSymbol:e.symbol,amount:n,statusText:x.formatMessage({id:m.ETranslations.earn_withdrawal_requested}),renderTooltipContent:(0,h.jsx)(i.YStack,{p:"$5",gap:"$4",children:S?(0,h.jsxs)(h.Fragment,{children:[b.map((function({amount:t,timestampLeft:n},o){return(0,h.jsx)(PendingInactiveItem,{tokenSymbol:e.symbol,pendingInactive:t,pendingInactivePeriod:n},o)})),(0,h.jsx)(i.SizableText,{size:"$bodySm",color:"$textSubdued",children:x.formatMessage({id:m.ETranslations.earn_staked_assets_available_after_period})})]}):(0,h.jsx)(i.SizableText,{size:"$bodyLg",children:x.formatMessage({id:m.ETranslations.earn_withdrawal_up_to_number_days},{number:b[0]?.timestampLeft||1})})})}):null,c&&Number(c)>0?(0,h.jsx)(PortfolioItem,{tokenImageUri:e.logoURI,tokenSymbol:e.symbol,amount:c,statusText:null!=p?p:x.formatMessage({id:m.ETranslations.earn_claimable}),useLoading:!0,onPress:g,buttonText:x.formatMessage({id:m.ETranslations.earn_claim}),tooltip:d}):null,l&&Number(l)>0?(0,h.jsx)(PortfolioItem,{tokenImageUri:e.logoURI,tokenSymbol:e.symbol,amount:l,statusText:x.formatMessage({id:m.ETranslations.earn_rewards}),onPress:function(){return g?.({isReward:!0})},useLoading:!0,buttonText:x.formatMessage({id:m.ETranslations.earn_claim}),tooltip:w?x.formatMessage({id:m.ETranslations.earn_minimum_claim_tooltip},{number:u,symbol:e.symbol}):void 0,disabled:w}):null,Number(k)>0?(0,h.jsx)(i.Alert,{fullBleed:!0,borderRadius:"$3",borderWidth:L.A.hairlineWidth,borderColor:"$borderCautionSubdued",type:"critical",title:x.formatMessage({id:m.ETranslations.earn_overflow_number_alert},{number:k}),action:{primary:x.formatMessage({id:m.ETranslations.global_withdraw}),onPrimaryPress:f}}):null]})]}),(0,h.jsx)(i.Divider,{})]})}return null}var PortfolioSection=function({details:e,onClaim:t,onWithdraw:n,onPortfolioDetails:o,unbondingDelegationList:r}){var i,s,c,l=(0,a.A)();if(!e)return null;e.provider.name.toLowerCase()===y.e.Everstake.toLowerCase()&&"eth"===e.token.info.symbol.toLowerCase()?i=l.formatMessage({id:m.ETranslations.earn_pending_activation_tooltip_eth}):e.pendingActive&&Number(e.pendingActive)&&(i=l.formatMessage({id:m.ETranslations.earn_pending_activation_tooltip},{number:(0,P.Q)(e?.provider?.stakingTime)||e.pendingActivatePeriod})),e.provider.name.toLowerCase()===y.e.Everstake.toLowerCase()&&"atom"===e.token.info.symbol.toLowerCase()&&(c=l.formatMessage({id:m.ETranslations.earn_claim_together_tooltip})),e.provider.name.toLowerCase()===y.e.Everstake.toLowerCase()&&"matic"===e.token.info.symbol.toLowerCase()&&(s=l.formatMessage({id:m.ETranslations.earn_withdrawn}));var d={pendingInactive:e.pendingInactive,pendingInactivePeriod:e.unstakingPeriod?String(e.unstakingPeriod):void 0,pendingActive:e.pendingActive,pendingActiveTooltip:i,claimable:e.claimable,rewards:e.rewards,active:e.active,minClaimableNum:e.provider.minClaimableAmount,babylonOverflow:Number(e?.staked)>0&&Number(e.overflow)>0?e.overflow:void 0,token:e.token.info,labelForClaimable:s,tooltipForClaimable:c,showDetailWithdrawalRequested:!1},p=[];return Array.isArray(r)&&r.length>0?(p=r.filter((function(e){return Number(e.timestampLeft)>0})).map((function({amount:e,timestampLeft:t}){var n=Number(t);return{amount:e,timestampLeft:Math.ceil(n/3600/24)}})),d.showDetailWithdrawalRequested=!0):d.pendingInactive&&Number(d.pendingInactive)&&d.pendingInactivePeriod&&Number(d.pendingInactivePeriod)&&p.push({amount:d.pendingInactive,timestampLeft:d.pendingInactivePeriod}),(0,h.jsx)(PortfolioInfo,PortfolioSection_objectSpread(PortfolioSection_objectSpread({},d),{},{unbondingDelegationList:p,onClaim:t,onPortfolioDetails:o,onWithdraw:n,"data-sentry-element":"PortfolioInfo","data-sentry-component":"PortfolioSection","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/components/ProtocolDetails/PortfolioSection.tsx"}))};function StakedValueSection_ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function StakedValueSection_objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?StakedValueSection_ownKeys(Object(n),!0).forEach((function(t){(0,b.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):StakedValueSection_ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function StakedValueInfo({value:e=0,stakedNumber:t=0,availableNumber:n=0,tokenSymbol:o,stakeButtonProps:r,withdrawButtonProps:s}){var c=(0,a.A)(),l=(0,i.useMedia)(),[{currencyInfo:{symbol:d}}]=(0,I.useSettingsPersistAtom)();return(0,h.jsx)(i.YStack,{gap:"$8","data-sentry-element":"YStack","data-sentry-component":"StakedValueInfo","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/components/ProtocolDetails/StakedValueSection.tsx",children:(0,h.jsxs)(i.YStack,{"data-sentry-element":"YStack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/components/ProtocolDetails/StakedValueSection.tsx",children:[(0,h.jsx)(i.SizableText,{size:"$headingLg",pt:"$2","data-sentry-element":"SizableText","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/components/ProtocolDetails/StakedValueSection.tsx",children:c.formatMessage({id:m.ETranslations.earn_staked_value})}),(0,h.jsxs)(i.XStack,{gap:"$2",pt:"$2",pb:"$1","data-sentry-element":"XStack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/components/ProtocolDetails/StakedValueSection.tsx",children:[(0,h.jsx)(i.NumberSizeableText,{flex:1,size:"$heading4xl",color:0===e?"$textDisabled":"$text",formatter:"value",formatterOptions:{currency:d},"data-sentry-element":"NumberSizeableText","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/components/ProtocolDetails/StakedValueSection.tsx",children:e||0}),l.gtMd?(0,h.jsxs)(i.XStack,{gap:"$2",children:[(0,h.jsx)(i.Button,StakedValueSection_objectSpread(StakedValueSection_objectSpread({},s),{},{children:c.formatMessage({id:m.ETranslations.global_withdraw})})),(0,h.jsx)(i.Button,StakedValueSection_objectSpread(StakedValueSection_objectSpread({},r),{},{children:c.formatMessage({id:m.ETranslations.earn_stake})}))]}):null]}),(0,h.jsx)(i.NumberSizeableText,{size:"$bodyLgMedium",formatter:"balance",color:"$textSubdued",formatterOptions:{tokenSymbol:o},"data-sentry-element":"NumberSizeableText","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/components/ProtocolDetails/StakedValueSection.tsx",children:t||0})]})})}var StakedValueSection=function({details:e,stakeButtonProps:t,withdrawButtonProps:n}){if(!e)return null;var o={value:Number(e.stakedFiatValue),stakedNumber:Number(e.staked),availableNumber:Number(e.available),tokenSymbol:e.token.info.symbol};return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(StakedValueInfo,StakedValueSection_objectSpread(StakedValueSection_objectSpread({},o),{},{stakeButtonProps:t,withdrawButtonProps:n,"data-sentry-element":"StakedValueInfo","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/components/ProtocolDetails/StakedValueSection.tsx"})),(0,h.jsx)(i.Divider,{"data-sentry-element":"Divider","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/components/ProtocolDetails/StakedValueSection.tsx"})]})},N=n(394764),PendingIndicator=function({num:e,onPress:t}){var n=(0,a.A)();return(0,h.jsx)(i.Stack,{cursor:t?"pointer":"default","data-sentry-element":"Stack","data-sentry-component":"PendingIndicator","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/components/StakingActivityIndicator/index.tsx",children:(0,h.jsxs)(i.Badge,{badgeType:"info",badgeSize:"lg",onPress:t,"data-sentry-element":"Badge","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/components/StakingActivityIndicator/index.tsx",children:[(0,h.jsx)(i.Stack,{borderRadius:"$full",p:3,bg:"$borderInfo","data-sentry-element":"Stack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/components/StakingActivityIndicator/index.tsx",children:(0,h.jsx)(i.Stack,{w:"$1.5",h:"$1.5",borderRadius:"$full",bg:"$iconInfo","data-sentry-element":"Stack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/components/StakingActivityIndicator/index.tsx"})}),(0,h.jsx)(i.Badge.Text,{pl:"$2","data-sentry-element":"unknown","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/components/StakingActivityIndicator/index.tsx",children:e>1?`${e} ${n.formatMessage({id:m.ETranslations.global_pending})} `:n.formatMessage({id:m.ETranslations.global_pending})})]})})},StakingActivityIndicator=function({num:e,onPress:t}){var n=(0,l.A)(),o=(0,r.useCallback)((function(){return e>0?(0,h.jsx)(PendingIndicator,{num:e,onPress:t}):t?(0,h.jsx)(i.IconButton,{variant:"tertiary",size:"medium",icon:"ClockTimeHistoryOutline",onPress:t}):null}),[e,t]);return(0,r.useEffect)((function(){n.setOptions({headerRight:o})}),[n,o,e]),null},StakingTransactionIndicator=function({accountId:e,networkId:t,stakeTag:n,onRefresh:a,onPress:i}){var{result:c,run:l}=(0,p.yk)((0,o.A)((function*(){return e?s.A.serviceStaking.fetchLocalStakingHistory({accountId:e,networkId:t,stakeTag:n}):[]})),[e,t,n],{initResult:[]}),d=c.length>0,m=(0,N.Z)(d),k=(0,u.E)();return(0,r.useEffect)((function(){k&&l()}),[k,l]),(0,p.yk)((0,o.A)((function*(){d&&(e&&(yield s.A.serviceHistory.fetchAccountHistory({accountId:e,networkId:t})),yield l())})),[e,d,t,l],{pollingInterval:v.A.getTimeDurationMs({seconds:50})}),(0,r.useEffect)((function(){!d&&m&&a?.()}),[m,d,a]),(0,h.jsx)(StakingActivityIndicator,{num:c.length,onPress:i,"data-sentry-element":"StakingActivityIndicator","data-sentry-component":"StakingTransactionIndicator","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/components/StakingActivityIndicator/index.tsx"})},OverviewSkeleton=function(){return(0,h.jsxs)(i.Stack,{gap:"$8","data-sentry-element":"Stack","data-sentry-component":"OverviewSkeleton","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/components/StakingSkeleton/index.tsx",children:[(0,h.jsxs)(i.YStack,{gap:"$6","data-sentry-element":"YStack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/components/StakingSkeleton/index.tsx",children:[(0,h.jsxs)(i.YStack,{gap:"$2","data-sentry-element":"YStack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/components/StakingSkeleton/index.tsx",children:[(0,h.jsx)(i.Skeleton.HeadingLg,{"data-sentry-element":"unknown","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/components/StakingSkeleton/index.tsx"}),(0,h.jsx)(i.Skeleton.Heading4Xl,{"data-sentry-element":"unknown","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/components/StakingSkeleton/index.tsx"})]}),(0,h.jsxs)(i.YStack,{gap:"$6","data-sentry-element":"YStack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/components/StakingSkeleton/index.tsx",children:[(0,h.jsx)(i.Skeleton.HeadingLg,{"data-sentry-element":"unknown","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/components/StakingSkeleton/index.tsx"}),(0,h.jsxs)(i.XStack,{gap:"$6","data-sentry-element":"XStack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/components/StakingSkeleton/index.tsx",children:[(0,h.jsxs)(i.YStack,{gap:"$0.5",flex:1,"data-sentry-element":"YStack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/components/StakingSkeleton/index.tsx",children:[(0,h.jsx)(i.Skeleton.BodyMd,{"data-sentry-element":"unknown","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/components/StakingSkeleton/index.tsx"}),(0,h.jsx)(i.Skeleton.BodyLg,{"data-sentry-element":"unknown","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/components/StakingSkeleton/index.tsx"})]}),(0,h.jsxs)(i.YStack,{gap:"$0.5",flex:1,"data-sentry-element":"YStack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/components/StakingSkeleton/index.tsx",children:[(0,h.jsx)(i.Skeleton.BodyMd,{"data-sentry-element":"unknown","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/components/StakingSkeleton/index.tsx"}),(0,h.jsx)(i.Skeleton.BodyLg,{"data-sentry-element":"unknown","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/components/StakingSkeleton/index.tsx"})]}),(0,h.jsxs)(i.YStack,{gap:"$0.5",flex:1,"data-sentry-element":"YStack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/components/StakingSkeleton/index.tsx",children:[(0,h.jsx)(i.Skeleton.BodyMd,{"data-sentry-element":"unknown","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/components/StakingSkeleton/index.tsx"}),(0,h.jsx)(i.Skeleton.BodyLg,{"data-sentry-element":"unknown","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/components/StakingSkeleton/index.tsx"})]})]})]})]}),(0,h.jsx)(i.Divider,{"data-sentry-element":"Divider","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/components/StakingSkeleton/index.tsx"}),(0,h.jsxs)(i.YStack,{gap:"$6","data-sentry-element":"YStack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/components/StakingSkeleton/index.tsx",children:[(0,h.jsx)(i.Skeleton.HeadingLg,{"data-sentry-element":"unknown","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/components/StakingSkeleton/index.tsx"}),(0,h.jsxs)(i.XStack,{"data-sentry-element":"XStack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/components/StakingSkeleton/index.tsx",children:[(0,h.jsxs)(i.YStack,{gap:"$0.5",flex:1,"data-sentry-element":"YStack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/components/StakingSkeleton/index.tsx",children:[(0,h.jsx)(i.Skeleton.BodyMd,{"data-sentry-element":"unknown","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/components/StakingSkeleton/index.tsx"}),(0,h.jsx)(i.Skeleton.BodyLg,{"data-sentry-element":"unknown","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/components/StakingSkeleton/index.tsx"})]}),(0,h.jsxs)(i.YStack,{gap:"$0.5",flex:1,"data-sentry-element":"YStack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/components/StakingSkeleton/index.tsx",children:[(0,h.jsx)(i.Skeleton.BodyMd,{"data-sentry-element":"unknown","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/components/StakingSkeleton/index.tsx"}),(0,h.jsx)(i.Skeleton.BodyLg,{"data-sentry-element":"unknown","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/components/StakingSkeleton/index.tsx"})]}),(0,h.jsxs)(i.YStack,{gap:"$0.5",flex:1,$md:{display:"none"},"data-sentry-element":"YStack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/components/StakingSkeleton/index.tsx",children:[(0,h.jsx)(i.Skeleton.BodyMd,{"data-sentry-element":"unknown","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/components/StakingSkeleton/index.tsx"}),(0,h.jsx)(i.Skeleton.BodyLg,{"data-sentry-element":"unknown","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/components/StakingSkeleton/index.tsx"})]})]})]})]})},z=n(653913),ProtocolDetailsPage=function(){var e,t=(0,d.u)(),{accountId:n,networkId:c,indexedAccountId:f,symbol:b,provider:x}=t.params,w=(0,l.A)(),[v,I]=(0,r.useState)(!1),{result:P,run:_}=(0,p.yk)((0,o.A)((function*(){return s.A.serviceStaking.getEarnAccount({accountId:n,networkId:c,indexedAccountId:f})})),[n,f,c]),{result:A,isLoading:T,run:O}=(0,p.yk)((function(){return s.A.serviceStaking.getProtocolDetails({accountId:n,networkId:c,indexedAccountId:f,symbol:b,provider:x})}),[n,c,f,b,x],{watchLoading:!0,revalidateOnFocus:!0}),{result:D}=(0,p.yk)((function(){return P?.accountAddress?s.A.serviceStaking.getUnbondingDelegationList({accountAddress:P?.accountAddress,symbol:b,networkId:c,provider:x}):Promise.resolve([])}),[P?.accountAddress,b,c,x],{watchLoading:!0,initResult:[],revalidateOnFocus:!0}),C=(0,r.useCallback)((0,o.A)((function*(){yield _(),O()})),[_,O]),E=function(){var e,t=(0,l.A)();return(0,r.useCallback)((e=(0,o.A)((function*({details:e,accountId:n,networkId:o,symbol:r,provider:a,onSuccess:i}){if(e&&n){var c=yield s.A.serviceStaking.getStakingConfigs({networkId:o,symbol:r,provider:a});if(!c)throw new Error("Staking config not found");c.withdrawWithTx?t.push(k.Ax.WithdrawOptions,{accountId:n,networkId:o,details:e,symbol:r,provider:a}):t.push(k.Ax.Withdraw,{accountId:n,networkId:o,details:e,onSuccess:i})}})),function(t){return e.apply(this,arguments)}),[t])}(),L=function(){var e,t=(0,l.A)();return(0,r.useCallback)((e=(0,o.A)((function*({details:e,accountId:n,networkId:o,setStakeLoading:r,onSuccess:a,indexedAccountId:i}){if(e&&n)if(e.approveTarget){r?.(!0);try{var{allowanceParsed:c}=yield s.A.serviceStaking.fetchTokenAllowance({accountId:n,networkId:o,spenderAddress:e.approveTarget,tokenAddress:e.token.info.address});t.push(k.Ax.ApproveBaseStake,{accountId:n,networkId:o,details:e,currentAllowance:c})}finally{r?.(!1)}}else t.push(k.Ax.Stake,{accountId:n,networkId:o,indexedAccountId:i,details:e,onSuccess:a})})),function(t){return e.apply(this,arguments)}),[t])}(),{result:M,run:N}=(0,p.yk)((0,o.A)((function*(){return x.toLowerCase()===y.e.Babylon.toLowerCase()&&P?yield s.A.serviceStaking.getBabylonTrackingItems({accountId:P.accountId,networkId:P.networkId}):[]})),[x,P],{initResult:[]}),B=(0,u.E)();(0,r.useEffect)((function(){B&&N()}),[B,N]);var F,Y=(0,r.useCallback)((0,o.A)((function*(){O(),N()})),[O,N]),V=(0,r.useCallback)((0,o.A)((function*(){var e;yield L({details:A,accountId:P?.accountId,networkId:c,indexedAccountId:f,symbol:b,provider:x,setStakeLoading:I,onSuccess:(e=(0,o.A)((function*(){g.Ay.isBTCNetwork(c)&&(yield O(),yield N())})),function onSuccess(){return e.apply(this,arguments)})})})),[L,A,P?.accountId,c,f,b,x,O,N]),R=(0,r.useCallback)((0,o.A)((function*(){var e;yield E({details:A,accountId:P?.accountId,networkId:c,symbol:b,provider:x,onSuccess:(e=(0,o.A)((function*(){g.Ay.isBTCNetwork(c)&&(yield O())})),function onSuccess(){return e.apply(this,arguments)})})})),[E,A,P,c,b,x,O]),X=function({accountId:e,networkId:t}){var n,a=(0,l.A)(),i=(0,z.D0)({networkId:t,accountId:null!=e?e:""});return(0,r.useCallback)((n=(0,o.A)((function*({details:n,symbol:o,provider:r,isReward:c,stakingInfo:l,onSuccess:d}){var p;if(n&&e){var u,m=yield s.A.serviceStaking.getStakingConfigs({networkId:t,symbol:o,provider:r});if(!m)throw new Error("Staking config not found");c?yield i({amount:null!=(u=n.rewards)?u:"0",symbol:o,provider:r,stakingInfo:l}):m.claimWithTx?a.push(k.Ax.ClaimOptions,{accountId:e,networkId:t,details:n,symbol:o,provider:r}):"everstake"!==r.toLowerCase()||"apt"!==o.toLowerCase()?yield i({amount:null!=(p=n.claimable)?p:"0",symbol:o,provider:r,stakingInfo:l}):a.push(k.Ax.Claim,{accountId:e,networkId:t,details:n,onSuccess:d,amount:m.claimWithAmount?n.claimable:void 0})}})),function(e){return n.apply(this,arguments)}),[a,e,t,i])}({accountId:P?.accountId,networkId:c}),U=(0,r.useCallback)((F=(0,o.A)((function*(e){if(A){var{isReward:t}=null!=e?e:{},n=t?A.rewards:A.claimable;yield X({details:A,isReward:t,symbol:b,provider:x,stakingInfo:{label:S.D.Claim,protocol:A.provider.name,protocolLogoURI:A.provider.logoURI,receive:{token:A.token.info,amount:null!=n?n:"0"},tags:[(0,$.Y)(A)]}})}})),function(e){return F.apply(this,arguments)}),[X,A,b,x]),G=(0,r.useMemo)((function(){return g.Ay.isBTCNetwork(c)&&P?.accountId?function(){w.push(k.Ax.PortfolioDetails,{accountId:P?.accountId,networkId:c,symbol:b,provider:x})}:void 0}),[w,P?.accountId,c,b,x]),W=(0,r.useMemo)((function(){if(A?.earnHistoryEnable&&P?.accountId)return function(){w.navigate(k.Ax.HistoryList,{accountId:P?.accountId,networkId:c,symbol:b,provider:x,stakeTag:(0,$.Y)(A)})}}),[w,P?.accountId,c,b,x,A]),q=(0,a.A)(),K=(0,i.useMedia)(),H=(0,r.useMemo)((function(){return{variant:"primary",loading:v,onPress:V,disabled:!P?.accountAddress}}),[v,P?.accountAddress,V]),Q=(0,r.useMemo)((function(){return{onPress:R,disabled:!P?.accountAddress||!(Number(A?.active)>0||Number(A?.overflow)>0)}}),[R,P?.accountAddress,A?.active,A?.overflow]);return(0,h.jsxs)(i.Page,{scrollEnabled:!0,"data-sentry-element":"Page","data-sentry-component":"ProtocolDetailsPage","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/pages/ProtocolDetails/index.tsx",children:[(0,h.jsx)(i.Page.Header,{title:q.formatMessage({id:m.ETranslations.earn_earn_symbol},{symbol:g.Ay.isBTCNetwork(c)?`${b} (Taproot)`:b}),"data-sentry-element":"unknown","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/pages/ProtocolDetails/index.tsx"}),(0,h.jsx)(i.Page.Body,{px:"$5",pb:"$5",gap:"$8","data-sentry-element":"unknown","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/pages/ProtocolDetails/index.tsx",children:(0,h.jsxs)(j.bU,{LoadingSkeleton:OverviewSkeleton,loading:(0,j.am)({result:A,isLoading:T}),error:(0,j.o0)({result:A,isLoading:T}),onRefresh:O,"data-sentry-element":"PageFrame","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/pages/ProtocolDetails/index.tsx",children:[(0,h.jsx)(ProtocolDetails,{details:A,"data-sentry-element":"ProtocolDetails","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/pages/ProtocolDetails/index.tsx",children:P?.accountAddress?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(StakedValueSection,{details:A,stakeButtonProps:H,withdrawButtonProps:Q}),(0,h.jsx)(PortfolioSection,{details:A,onClaim:U,onWithdraw:R,onPortfolioDetails:G,unbondingDelegationList:D}),M.length>0?(0,h.jsx)(BabylonTrackingAlert,{accountId:P.accountId,networkId:c,provider:x,symbol:b,onRefresh:Y}):null]}):(0,h.jsx)(NoAddressWarning,{accountId:n,networkId:c,indexedAccountId:f,onCreateAddress:C})}),K.gtMd?null:(0,h.jsx)(i.Page.Footer,{onConfirmText:q.formatMessage({id:m.ETranslations.earn_stake}),confirmButtonProps:H,onCancelText:q.formatMessage({id:m.ETranslations.global_withdraw}),cancelButtonProps:Q}),A?(0,h.jsx)(StakingTransactionIndicator,{accountId:null!=(e=P?.accountId)?e:"",networkId:c,stakeTag:(0,$.Y)(A),onRefresh:O,onPress:W}):null]})})]})};const B=function ProtocolDetailsPageWithProvider(){return(0,h.jsx)(c.b8,{config:{sceneName:f.Zs.home,sceneUrl:""},enabledNum:[0],"data-sentry-element":"AccountSelectorProviderMirror","data-sentry-component":"ProtocolDetailsPageWithProvider","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/pages/ProtocolDetails/index.tsx",children:(0,h.jsx)(ProtocolDetailsPage,{"data-sentry-element":"ProtocolDetailsPage","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/pages/ProtocolDetails/index.tsx"})})}},905817:(e,t,n)=>{n.d(t,{FZ:()=>countDecimalPlaces,Y:()=>buildLocalTxStatusSyncId,c:()=>capitalizeString});var o=n(241440),buildLocalTxStatusSyncId=function(e){return`${e.provider.name.toLowerCase()}-${e.token.info.symbol.toLowerCase()}`};function capitalizeString(e){return e?e.charAt(0).toUpperCase()+e.slice(1):e}function countDecimalPlaces(e){var t="string"==typeof e?Number(e):e;if(Number.isNaN(t))return 0;var n="string"==typeof e?e:(0,o.A)(e).toFixed(),r=n.indexOf(".");return-1===r?0:n.length-r-1}}}]);
//# sourceMappingURL=987.dfa0def007.chunk.js.map