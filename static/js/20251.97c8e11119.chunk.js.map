{"version":3,"file":"static/js/20251.97c8e11119.chunk.js","mappings":"ytBAAiI,SAASA,kBAAkBC,GAAU,OAAO,IAAaD,kBAAkBC,EAAU,CAAQ,SAASC,0BAAyB,SAACC,IAAW,IAAIC,EAAcD,EAASE,MAAM,KAAoF,OAA/ED,EAAcE,MAAMF,EAAcE,MAAqBF,EAAcG,KAAK,IAAuB,CAAQ,SAASC,aAAaC,EAAQC,GAAS,IAAIC,EAAS,GAAG,IAAI,IAAIC,EAAIC,KAASC,OAAOC,QAAQN,EAAQO,WAAY,GAAGH,IAAQH,EAAQ,CAACC,EAASC,EAAI,KAAM,CAAE,MAAM,GAAGH,EAAQQ,QAAQN,GAAW,CAAQ,SAASO,eAAeC,EAAoBC,GAAsB,OAAO,qBAAiCD,EAAoBC,EAAsB,C,iMCA3X,SAASC,aAAaC,GAAS,IAAIC,EAA0BC,4BAA4B,OAAO,SAASC,uBAAuB,IAAmCC,EAA/BC,GAAM,OAAgBL,GAAgB,GAAGC,EAA0B,CAAC,IAAIK,GAAU,OAAgBC,MAAMC,YAAYJ,EAAOK,QAAQC,UAAUL,EAAMM,UAAUL,EAAW,MAAMF,EAAOC,EAAMO,MAAML,KAAKI,WAAY,OAAO,OAA2BJ,KAAKH,EAAQ,CAAE,CAAC,SAASF,4BAA4B,IAAI,IAAIW,GAAGC,QAAQC,UAAUC,QAAQC,KAAKR,QAAQC,UAAUI,QAAQ,IAAG,WAAW,IAAI,CAAC,MAAMD,GAAG,CAAC,OAAOX,0BAA0B,WAAW,QAAQW,CAAE,IAAK,CAAmY,IAAIK,EAAY,SAASC,IAAe,OAAUD,YAAYC,GAAe,IAAIC,EAAOrB,aAAamB,aAAa,SAASA,YAAYG,GAAO,IAAIC,EAA8D,IAAxDA,EAAMF,EAAOH,KAAKV,KAAKc,EAAME,UAAeF,MAAMA,EAASC,EAAMD,MAAMG,YAAYH,EAAME,QAAQC,UAAW,MAAM,IAAIC,MAAM,2CAA4C,GAAGH,EAAME,YAAYH,EAAME,QAAQC,UAAW,MAAM,IAAIC,MAAM,2CAA4C,OAAOH,CAAM,CAAC,IAAyfI,EAA6+CC,EAAuhEC,EAA+NC,EAAwRC,EAAh/IC,EAAOb,YAAYH,UAAi2J,OAAv1JgB,EAAOC,kBAAkB,SAASA,oBAAoB,OAAOzB,KAAK0B,cAAc,IAAmBC,QAAS,EAAEH,EAAOI,YAAY,SAASA,cAAc,OAAO5B,KAAK0B,cAAc,IAAmBG,EAAG,EAAEL,EAAOM,kBAAkB,SAASA,oBAAoB,OAAO9B,KAAK0B,cAAc,IAAmBK,QAAS,EAAEP,EAAOQ,kBAAkB,SAASA,oBAAoB,OAAOhC,KAAK0B,cAAc,IAAmBO,QAAS,EAAET,EAAOU,6BAA2Cf,GAA6B,QAAkB,UAAUgB,EAAOnB,GAAS,IAAG,SAACoB,GAAUpC,KAAK,IAAIoC,EAAU,MAAM,IAAIlB,MAAM,2BAA4B,IAAG,MAACmB,EAAK,WAACC,EAAU,QAACC,GAASJ,GAAU,SAACK,EAAQ,SAACpE,EAAQ,WAACqE,EAAU,SAACC,GAAUJ,EAAW,IAAIE,EAAU,MAAM,IAAItB,MAAM,2BAA6N,IAAjM,IAAIyB,QAAe3C,KAAK4C,oBAAsB,YAACC,GAAaF,GAAY,mBAACG,GAAoB9B,EAAY+B,EAAYR,EAAYS,QAAmBF,EAAmB,CAACC,gBAAkBE,EAAI,GAAWC,EAAI,EAAEA,EAAIF,EAAaG,OAAOD,GAAK,EAAE,CAAC,IAAG,KAAC9D,EAAI,UAACgE,EAAS,QAACvE,EAAO,UAACM,EAAS,QAACkE,GAASL,EAAaE,GAAK,IAAI9D,EAAM,MAAM,IAAI8B,MAAM,mDAAoD,GAAG2B,IAAc,KAAeS,UAAUnE,EAAW,MAAM,IAAI+B,MAAM,6CAA8C,GAAG2B,IAAc,KAAeS,SAASzE,EAAS,MAAM,IAAIqC,MAAM,8CAA+C,IAAIqC,EAAUR,EAAYG,GAASM,EAAKnB,IAAQa,IAAM,IAAaO,mBAAmB,CAACF,YAAUd,eAAiBiB,EAAG,IAAaC,iBAAiB,CAACvB,WAAShD,OAAKsD,aAAekB,EAAiB,IAAaC,sBAAsB,CAACzB,WAAS0B,MAAMP,IAAYN,EAAIc,KAAK,CAACL,KAAGF,OAAKQ,KAAKnB,EAAYzD,OAAKmE,YAAUF,UAAQO,mBAAiBpB,WAASyB,KAAKtB,EAASsB,KAAKC,IAAId,EAAUvE,UAAQM,YAAUf,YAAW,CAAC,OAAO6E,CAAI,IAAG,SAASf,4BAA4BiC,EAAGC,GAAK,OAAOjD,EAA6Bd,MAAML,KAAKI,UAAW,GAAwCoB,EAAO6C,2BAAyCjD,GAA2B,QAAkB,UAAUe,EAAOnB,GAAS,IAAG,SAACoB,GAAUpC,KAAK,IAAIoC,EAAU,MAAM,IAAIlB,MAAM,yBAA0B,IAAG,QAACqB,EAAO,WAACD,EAAU,MAACD,EAAK,sBAACiC,GAAsB,GAAMnC,GAAU,SAACK,EAAQ,SAACpE,EAAQ,WAACqE,GAAYH,EAAW,IAAIE,EAAU,MAAM,IAAItB,MAAM,2BAA4B,IAAIyB,QAAe3C,KAAK4C,oBAAsB,YAACC,GAAaF,EAAS,GAAGE,IAAc,KAAe0B,KAAM,MAAM,IAAIrD,MAAM,2BAA4B,IAAG,mBAACsD,EAAkB,mBAAC1B,GAAoB9B,EAAkC+B,EAAY,IAAuCR,GAAS,IAAc3D,QAAQ6F,kBAAkBC,yBAAyB,IAAIC,QAAoB7B,EAAmB,CAACC,gBAAc,IAAcnE,QAAQ6F,kBAAkBG,6BAA6B,IAAchG,QAAQ6F,kBAAkBI,sBAAsB,IAAI5B,EAAI,GAAOC,EAAI,EAAE,IAAI,IAAG,KAAC9D,EAAI,QAACiE,EAAO,UAACD,EAAS,KAAC0B,EAAI,WAACC,EAAU,QAAClG,EAAO,UAACM,KAAawF,EAAc,CAAC,IAAIvF,GAAM,IAAO0F,KAAQ3F,EAAW,MAAM,IAAI+B,MAAM,2EAA4E,IAAImC,EAAS,MAAM,IAAInC,MAAM,yDAA0D,IAAI8D,EAAOvC,EAAec,EAAUR,EAAYG,GAASM,EAAKnB,IAAQa,IAAM,GAAG8B,MAAWzB,EAAU,IAAQG,EAAG,GAAG1D,KAAKoC,aAAahD,IAAmCwE,EAAiB,IAAaC,sBAAsB,CAACzB,SAASpC,KAAKoC,SAAS0B,MAAMP,IAAYN,EAAIc,KAAK,CAACL,KAAGF,OAAKQ,KAAKnB,EAAYzD,OAAKmE,YAAUK,mBAAiBP,UAAQb,WAASyB,KAAKtB,EAASsB,KAAKC,IAAId,EAAU0B,OAAKC,aAAWlG,UAAQM,YAAUf,aAAY,IAAI6G,EAAO/B,IAAMyB,EAAcxB,OAAO,EAAE,IAAImB,IAAwBW,GAAQT,EAAmB,CAAC,IAAG,OAACU,SAAcV,EAAmB,CAACM,OAAKC,aAAWlG,YAAU,IAAIqG,EAAQ,YAAa,IAAWC,KAAK,IAAK,CAACjC,GAAK,CAAE,CAAmE,OAAlE,IAActE,QAAQ6F,kBAAkBW,0BAAiCnC,CAAI,IAAG,SAASoB,0BAA0BgB,EAAIC,GAAK,OAAOlE,EAA2Bf,MAAML,KAAKI,UAAW,GAAsCoB,EAAO+D,mBAAiClE,GAAmB,QAAkB,UAAUc,GAAQ,MAAM,EAAG,IAAG,SAASoD,kBAAkBC,GAAK,OAAOnE,EAAmBhB,MAAML,KAAKI,UAAW,GAA8BoB,EAAOiE,yBAAuCnE,GAAyB,QAAkB,UAAUa,GAAQ,MAAM,IAAI,IAAiB,IAAG,SAASsD,wBAAwBC,GAAK,OAAOpE,EAAyBjB,MAAML,KAAKI,UAAW,GAAoCoB,EAAOmE,wCAAsDpE,GAAwC,QAAkB,UAAUY,GAAyB,IAAG,SAASwD,uCAAuCC,GAAK,OAAOrE,EAAwClB,MAAML,KAAKI,UAAW,GAAmDoB,EAAOqE,iCAAiC,SAASA,iCAAiC1D,GAAQ,MAAM,IAAI,IAAiB,GAAS,OAAaxB,YAAa,CAAj0K,C,UAAm0K,IAAyC,SAASmF,IAAc,OAAUC,gBAAgBD,GAAc,IAAIE,EAAQxG,aAAauG,iBAAiB,SAASA,kBAAkB,OAAOC,EAAQ3F,MAAML,KAAKI,UAAW,EAAQ,OAAa2F,gBAAiB,CAA/M,CAAiNpF,E,4HCA1jN,SAASnB,aAAaC,GAAS,IAAIC,EAA0BC,4BAA4B,OAAO,SAASC,uBAAuB,IAAmCC,EAA/BC,GAAM,OAAgBL,GAAgB,GAAGC,EAA0B,CAAC,IAAIK,GAAU,OAAgBC,MAAMC,YAAYJ,EAAOK,QAAQC,UAAUL,EAAMM,UAAUL,EAAW,MAAMF,EAAOC,EAAMO,MAAML,KAAKI,WAAY,OAAO,OAA2BJ,KAAKH,EAAQ,CAAE,CAAC,SAASF,4BAA4B,IAAI,IAAIW,GAAGC,QAAQC,UAAUC,QAAQC,KAAKR,QAAQC,UAAUI,QAAQ,IAAG,WAAW,IAAI,CAAC,MAAMD,GAAG,CAAC,OAAOX,0BAA0B,WAAW,QAAQW,CAAE,IAAK,CAAqJ,IAAI2F,EAAoB,SAASH,IAAc,OAAUG,oBAAoBH,GAAc,IAAIjF,EAAOrB,aAAayG,qBAAqB,SAASA,uBAAuBC,GAAM,IAAInF,EAAoF,OAA9EA,EAAMF,EAAOH,KAAKV,QAAQkG,IAAYxE,YAAY,IAAmByE,SAAgBpF,CAAM,CAAC,IAA+FqF,EAAwZC,EAAolBC,EAAvkC9E,EAAOyE,oBAAoBzF,UAAqwC,OAA3vCgB,EAAO+E,iCAA+CH,GAAiC,QAAkB,UAAUjE,GAAQ,OAAOnC,KAAKwG,cAAcC,gBAAgBC,YAAY,CAAC9H,cAAcoB,KAAKc,MAAM6F,aAAa1F,UAAUjB,KAAKiB,UAAUkB,UAAS,IAAG,SAASoE,gCAAgCpC,GAAI,OAAOiC,EAAiC/F,MAAML,KAAKI,UAAW,GAA4CoB,EAAOoF,qCAAmDP,GAAqC,QAAkB,UAAUlE,GAAQ,OAAOnC,KAAKwG,cAAcC,gBAAgBI,gBAAgB,CAACjI,cAAcoB,KAAKc,MAAM6F,aAAa1F,UAAUjB,KAAKiB,UAAUkB,UAAS,IAAG,SAASyE,oCAAoCxC,GAAK,OAAOiC,EAAqChG,MAAML,KAAKI,UAAW,GAAgDoB,EAAOsF,gBAAgB,SAASA,gBAAgB3E,GAAQ,MAAM,IAAI,KAAoB,sFAAuF,EAAEX,EAAOuF,6BAA2CT,GAA6B,QAAkB,UAAUnE,GAAQ,MAAM,EAAG,IAAG,SAAS4E,4BAA4B1B,GAAK,OAAOiB,EAA6BjG,MAAML,KAAKI,UAAW,IAA+C,OAAa6F,oBAAqB,CAAzkD,C,UAA2kD,E,mMCAj0E,SAASzG,aAAaC,GAAS,IAAIC,EAA0BC,4BAA4B,OAAO,SAASC,uBAAuB,IAAmCC,EAA/BC,GAAM,OAAgBL,GAAgB,GAAGC,EAA0B,CAAC,IAAIK,GAAU,OAAgBC,MAAMC,YAAYJ,EAAOK,QAAQC,UAAUL,EAAMM,UAAUL,EAAW,MAAMF,EAAOC,EAAMO,MAAML,KAAKI,WAAY,OAAO,OAA2BJ,KAAKH,EAAQ,CAAE,CAAC,SAASF,4BAA4B,IAAI,IAAIW,GAAGC,QAAQC,UAAUC,QAAQC,KAAKR,QAAQC,UAAUI,QAAQ,IAAG,WAAW,IAAI,CAAC,MAAMD,GAAG,CAAC,OAAOX,0BAA0B,WAAW,QAAQW,CAAE,IAAK,CAAwkB,IAAI0G,EAAoB,SAASlB,IAAc,OAAUkB,oBAAoBlB,GAAc,IAAIjF,EAAOrB,aAAawH,qBAAqB,SAASA,uBAAuBd,GAAM,IAAInF,EAAoF,OAA9EA,EAAMF,EAAOH,KAAKV,QAAQkG,IAAYxE,YAAY,IAAmBK,SAAgBhB,CAAM,CAAC,IAAsFkG,EAAogBC,EAA89BC,EAAsbC,EAAyaC,EAAn5E7F,EAAOwF,oBAAoBxG,UAAumH,OAA7lHgB,EAAO8F,wBAAsCL,GAAwB,QAAkB,YAAY,IAAIM,EAAK,IAAc3I,QAAQ6F,kBAAkB6C,yBAAyB,IAAsGE,EAAc,OAAXD,QAA3F,KAAYE,qBAAqBjB,eAAekB,iBAAiBC,oBAA0CJ,EAAK,KAAiF,OAArE,IAAc3I,QAAQ6F,kBAAkBmD,6BAAoCJ,CAAE,IAAG,SAASF,yBAAyB,OAAOL,EAAwB5G,MAAML,KAAKI,UAAW,GAAmCoB,EAAOqG,0BAAwCX,GAA0B,QAAkB,WAAU,OAAC/E,EAAM,YAACY,EAAW,aAAC+E,EAAY,aAACC,IAAe,IAAG,WAACzF,EAAU,aAAC0F,GAAc7F,GAAU,SAAC8F,EAAQ,gBAACC,GAAiBF,GAAgB,UAACG,EAAS,SAACC,GAAUH,GAAY,SAAC7J,EAAQ,SAACiK,GAAU/F,GAAc,WAACgG,EAAU,WAACC,IAAY,QAAkBnK,GAAcoK,eAAe,SAASC,GAAU,OAAGP,IAAkB,KAAqBQ,WAA2BR,IAAkB,KAAqBS,UAAiBF,IAAW1F,EAAYA,EAAYI,OAAO,EAAiB,EAAMtD,QAAa,SAAsB,QAAkB,YAAY,OAAOiI,EAAa,CAACK,YAAUC,WAASE,aAAWC,aAAWnK,WAASiK,WAASG,gBAAiB,KAAI,IAAI3I,GAAQA,EAAOsD,SAASJ,EAAYI,OAAQ,MAAM,IAAI,KAAoB4E,GAAe,OAAOlI,CAAO,IAAG,SAASgI,yBAAyB1D,GAAI,OAAO+C,EAA0B7G,MAAML,KAAKI,UAAW,GAAqCoB,EAAOoH,gCAA8CzB,GAAgC,QAAkB,WAAU,OAAChF,EAAM,YAACY,EAAW,mBAAC8F,IAAqB,OAAO7I,KAAK6H,yBAAyB,CAAC1F,SAAOY,cAAY+E,aAAae,EAAmBd,aAAa,8BAA+B,IAAG,SAASa,+BAA+BxE,GAAK,OAAO+C,EAAgC9G,MAAML,KAAKI,UAAW,GAA2CoB,EAAOsH,+BAA6C1B,GAA+B,QAAkB,WAAU,OAACjF,EAAM,YAACY,EAAW,gBAACgG,IAAkB,OAAO/I,KAAK6H,yBAAyB,CAAC1F,SAAOY,cAAY+E,aAAaiB,EAAgBhB,aAAa,4BAA6B,IAAG,SAASe,8BAA8BzD,GAAK,OAAO+B,EAA+B/G,MAAML,KAAKI,UAAW,GAA0CoB,EAAOwH,8BAA4C3B,GAA8B,QAAkB,WAAU,aAAC4B,EAAY,OAAC9G,EAAM,YAACY,EAAW,UAACmG,EAAS,mBAACC,IAAqB,GAAIF,EAAJ,CAAoC,IAAG,oCAACG,GAAqCjH,EAAO,GAAGiH,GAAqCjG,OAAO,CAAC,IAAIkG,EAAe,GAAOC,MAAM,YAAY,IAAIlK,QAAW8J,EAAU,CAACpF,UAAYlF,EAAQwK,GAAqCG,MAAK,SAASC,GAAM,OAAOA,EAAKC,SAASD,EAAKpK,OAAOA,GAAMoK,EAAKC,UAAUR,CAAa,IAAMrK,GAASA,EAAQ8K,SAASL,EAAetF,KAAKoF,EAAmB,CAACvK,UAAQkF,UAAU,EAAE,IAAI,IAAIA,KAASf,QAAmBuG,QAAS,GAAGD,EAAelG,SAASJ,EAAYI,OAAQ,MAAM,CAACuG,SAAQ,EAAKC,QAAQN,GAAiB,IAAIO,EAAaR,GAAqCG,MAAK,SAASC,GAAM,OAAOA,EAAKE,WAAWF,EAAKG,SAASE,KAAM,IAAG,IAAID,GAAcF,SAASE,GAAcD,SAASE,MAAM,CAAC,IAAoF,IAAjFD,GAAcD,SAASE,OAAOC,QAAQ,wCAA8C,MAAM,IAAI,KAA+B,MAAM,QAAmBF,EAAaD,QAAS,CAAC,MAAM,IAAI,KAAoB,mCAAoC,CAA/7B,CAAg8B,IAAG,SAASX,6BAA6B1D,GAAK,OAAO+B,EAA8BhH,MAAML,KAAKI,UAAW,IAAgD,OAAa4G,oBAAqB,CAA36H,C,UAA66H,E,oGCA7pK,SAASxH,aAAaC,GAAS,IAAIC,EAA0BC,4BAA4B,OAAO,SAASC,uBAAuB,IAAmCC,EAA/BC,GAAM,OAAgBL,GAAgB,GAAGC,EAA0B,CAAC,IAAIK,GAAU,OAAgBC,MAAMC,YAAYJ,EAAOK,QAAQC,UAAUL,EAAMM,UAAUL,EAAW,MAAMF,EAAOC,EAAMO,MAAML,KAAKI,WAAY,OAAO,OAA2BJ,KAAKH,EAAQ,CAAE,CAAC,SAASF,4BAA4B,IAAI,IAAIW,GAAGC,QAAQC,UAAUC,QAAQC,KAAKR,QAAQC,UAAUI,QAAQ,IAAG,WAAW,IAAI,CAAC,MAAMD,GAAG,CAAC,OAAOX,0BAA0B,WAAW,QAAQW,CAAE,IAAK,CAAwG,IAAIyJ,EAAc,SAASC,IAAsB,OAAUD,cAAcC,GAAsB,IAAInJ,EAAOrB,aAAauK,eAAe,SAASA,iBAAiB7D,GAAM,IAAInF,EAA8E,OAAxEA,EAAMF,EAAOH,KAAKV,QAAQkG,IAAYxE,YAAY,IAAmBG,GAAUd,CAAM,CAAC,OAAO,OAAagJ,cAAe,CAAvR,C,UAAyR,E,oGCA59B,SAASvK,aAAaC,GAAS,IAAIC,EAA0BC,4BAA4B,OAAO,SAASC,uBAAuB,IAAmCC,EAA/BC,GAAM,OAAgBL,GAAgB,GAAGC,EAA0B,CAAC,IAAIK,GAAU,OAAgBC,MAAMC,YAAYJ,EAAOK,QAAQC,UAAUL,EAAMM,UAAUL,EAAW,MAAMF,EAAOC,EAAMO,MAAML,KAAKI,WAAY,OAAO,OAA2BJ,KAAKH,EAAQ,CAAE,CAAC,SAASF,4BAA4B,IAAI,IAAIW,GAAGC,QAAQC,UAAUC,QAAQC,KAAKR,QAAQC,UAAUI,QAAQ,IAAG,WAAW,IAAI,CAAC,MAAMD,GAAG,CAAC,OAAOX,0BAA0B,WAAW,QAAQW,CAAE,IAAK,CAAwG,IAAI2J,EAAoB,SAASD,IAAsB,OAAUC,oBAAoBD,GAAsB,IAAInJ,EAAOrB,aAAayK,qBAAqB,SAASA,uBAAuB/D,GAAM,IAAInF,EAAoF,OAA9EA,EAAMF,EAAOH,KAAKV,QAAQkG,IAAYxE,YAAY,IAAmBC,SAAgBZ,CAAM,CAAC,OAAO,OAAakJ,oBAAqB,CAArT,C,UAAuT,E,yNCAr1B,SAASC,QAAQC,EAAE3C,GAAG,IAAIlH,EAAErB,OAAOmL,KAAKD,GAAG,GAAGlL,OAAOoL,sBAAsB,CAAC,IAAIC,EAAErL,OAAOoL,sBAAsBF,GAAG3C,IAAI8C,EAAEA,EAAEC,QAAO,SAAS/C,GAAG,OAAOvI,OAAOuL,yBAAyBL,EAAE3C,GAAGiD,UAAW,KAAInK,EAAEyD,KAAK1D,MAAMC,EAAEgK,EAAG,CAAC,OAAOhK,CAAE,CAAC,SAASoK,cAAcP,GAAG,IAAI,IAAI3C,EAAE,EAAEA,EAAEpH,UAAU+C,OAAOqE,IAAI,CAAC,IAAIlH,EAAE,MAAMF,UAAUoH,GAAGpH,UAAUoH,GAAG,CAAC,EAAEA,EAAE,EAAE0C,QAAQjL,OAAOqB,IAAG,GAAIqK,SAAQ,SAASnD,IAAG,OAAgB2C,EAAE3C,EAAElH,EAAEkH,GAAI,IAAGvI,OAAO2L,0BAA0B3L,OAAO4L,iBAAiBV,EAAElL,OAAO2L,0BAA0BtK,IAAI4J,QAAQjL,OAAOqB,IAAIqK,SAAQ,SAASnD,GAAGvI,OAAO6L,eAAeX,EAAE3C,EAAEvI,OAAOuL,yBAAyBlK,EAAEkH,GAAI,GAAG,CAAC,OAAO2C,CAAE,CAAC,SAAS3K,aAAaC,GAAS,IAAIC,EAA0BC,4BAA4B,OAAO,SAASC,uBAAuB,IAAmCC,EAA/BC,GAAM,OAAgBL,GAAgB,GAAGC,EAA0B,CAAC,IAAIK,GAAU,OAAgBC,MAAMC,YAAYJ,EAAOK,QAAQC,UAAUL,EAAMM,UAAUL,EAAW,MAAMF,EAAOC,EAAMO,MAAML,KAAKI,WAAY,OAAO,OAA2BJ,KAAKH,EAAQ,CAAE,CAAC,SAASF,4BAA4B,IAAI,IAAIW,GAAGC,QAAQC,UAAUC,QAAQC,KAAKR,QAAQC,UAAUI,QAAQ,IAAG,WAAW,IAAI,CAAC,MAAMD,GAAG,CAAC,OAAOX,0BAA0B,WAAW,QAAQW,CAAE,IAAK,CAA0d,IAAIyK,EAAoB,SAASjF,IAAc,OAAUiF,oBAAoBjF,GAAc,IAAIjF,EAAOrB,aAAauL,qBAAqB,SAASA,sBAAsB,OAAOlK,EAAOR,MAAML,KAAKI,UAAW,CAAC,IAAsF4K,EAA8hBC,EAAqrBC,EAA6jBC,EAAioBC,EAA41BC,EAAmgDC,EAAosCC,EAAk5BC,EAAm1CC,EAAoyBC,EAA/gSlK,EAAOuJ,oBAAoBvK,UAAihT,OAAvgTgB,EAAOmK,wBAAsCX,GAAwB,QAAkB,WAAU,SAACY,IAAgC,IAAI/J,EAAOF,EAA8P,OAA9R,QAAWiK,GAAiC5L,KAAK4B,gBAAyFC,SAArD,IAAQgK,eAAc,QAAe7L,KAAKoC,YAAyB0J,YAAe9L,KAAKyB,sBAAiFE,SAAtC,IAAQkK,cAAc7L,KAAK+L,YAAgCD,YAAkB,CAACjK,KAAGF,WAAU,IAAG,SAASgK,uBAAuBxH,GAAI,OAAO6G,EAAwB3K,MAAML,KAAKI,UAAW,GAAmCoB,EAAOwK,wBAAsCf,GAAwB,QAAkB,UAAU9I,GAAQ,IAAInC,KAAKiM,QAAS,MAAM,IAAI/K,MAAM,0BAA2B,IAAIJ,EAAMd,KAAKc,OAAS,SAAC8K,EAAQ,WAACM,EAAU,SAACC,GAAUhK,EAAWiK,QAAkBpM,KAAK2L,uBAAuBxJ,GAAYkK,QAAkBrM,KAAKsM,yBAA2B,QAAC1N,EAAO,aAAC2N,EAAY,SAACC,SAAgB1L,EAAM2L,wBAAwB,CAACP,eAAiJ,aAAnHlM,KAAKiM,QAAQS,gBAAgB,CAACL,cAAYH,aAAWtN,UAAQ4N,WAASZ,WAASQ,cAAYG,eAAaJ,YAAyB,IAAG,SAASH,uBAAuB5H,GAAK,OAAO6G,EAAwB5K,MAAML,KAAKI,UAAW,GAAmCoB,EAAOmL,qBAAmCzB,GAAqB,QAAkB,UAAU/I,GAAQ,IAAInC,KAAKiM,QAAS,MAAM,IAAI/K,MAAM,0BAA2B,IAAG,SAAC0K,EAAQ,WAACM,GAAY/J,EAAWvD,QAAcoB,KAAKc,MAAM6F,aAAiByF,QAAkBpM,KAAK2L,uBAAuBxJ,GAAYkK,QAAkBrM,KAAKsM,wBAA6H,aAApFtM,KAAKiM,QAAQS,gBAAgB,CAACL,cAAYT,WAAShN,UAAQwN,cAAYF,cAA2B,IAAG,SAASS,oBAAoBtH,GAAK,OAAO6F,EAAqB7K,MAAML,KAAKI,UAAW,GAAgCoB,EAAOoL,iBAA+BzB,GAAiB,QAAkB,UAAUhJ,GAAQ,IAAIpB,EAAMf,KAAK,IAAIA,KAAKiM,QAAS,MAAM,IAAI/K,MAAM,0BAA2B,IAAG,SAAC0K,EAAQ,SAACiB,GAAU1K,EAAWvD,QAAcoB,KAAKc,MAAM6F,aAAiByF,QAAkBpM,KAAK2L,uBAAuBxJ,GAAYkK,QAAkBrM,KAAKsM,wBAAiM,aAAxJQ,QAAQC,IAAIF,EAASG,KAAI,SAASC,GAAK,OAAO,QAAelM,EAAMkL,SAASvF,YAAY,CAAC2F,cAAYa,YAAYD,EAAIrO,UAAQgN,WAASQ,eAAc,IAAkB,IAAG,SAASQ,gBAAgBtH,GAAK,OAAO6F,EAAiB9K,MAAML,KAAKI,UAAW,GAA4BoB,EAAO2L,oBAAkC/B,GAAoB,QAAkB,UAAUjJ,GAAQ,IAAIiL,EAAOpN,KAAK,IAAIA,KAAKiM,QAAS,MAAM,IAAI/K,MAAM,0BAA2B,IAAyNqG,EAArNzG,EAAMd,KAAKc,OAAS,SAAC8K,EAAQ,SAACiB,GAAU1K,EAAWiK,QAAkBpM,KAAK2L,uBAAuBxJ,GAAYkK,QAAkBrM,KAAKsM,wBAA4BzM,QAAaiN,QAAQC,IAAIF,EAASG,KAAmBzF,GAAK,QAAkB,UAAU0F,GAAK,IAAG,QAACrO,EAAO,aAAC2N,EAAY,SAACC,SAAgB1L,EAAM2L,wBAAwB,CAACY,gBAAgBJ,IAAM,OAAO,QAAeG,EAAOnB,SAASvF,YAAY,CAAC2F,cAAYa,YAAYD,EAAIrO,UAAQ4N,WAASZ,WAASQ,cAAYG,gBAAe,IAAU,SAAS7G,GAAK,OAAO6B,EAAKlH,MAAML,KAAKI,UAAW,KAAQ,OAAOP,CAAO,IAAG,SAASsN,mBAAmB3H,GAAK,OAAO4F,EAAoB/K,MAAML,KAAKI,UAAW,GAA+BoB,EAAO8L,6BAA2CjC,GAA6B,QAAkB,UAAUlJ,EAAOnB,EAAQ,CAAC,GAAG,IAAIhB,KAAKiM,QAAS,MAAM,IAAI/K,MAAM,0BAA2B,IAAG,KAACsC,EAAI,mBAAC+J,EAAkB,SAAC3B,EAAQ,SAAC4B,EAAQ,gBAACC,GAAiBtL,GAAU,WAACuL,IAAY,QAA0B,CAAC5B,WAAWyB,EAAmB3B,aAAejJ,QAAe3C,KAAK4C,oBAAsB,+BAAC+K,GAAgC3M,EAAY6B,EAAY7B,EAAQ6B,aAAaF,EAASE,YAAgBoB,EAAKjD,EAAQiD,MAAMtB,EAASsB,KAASzB,EAASxB,EAAQwB,UAAUL,EAAOG,YAAYE,UAAUG,EAASiL,gBAAoBvB,QAAkBrM,KAAKsM,wBAA4BuB,EAAcH,GAAc,QAAC7O,EAAO,UAACM,EAAS,UAACiE,SAAiBpD,KAAKiM,QAAQ6B,sBAAsB,CAACzB,cAAYwB,gBAAcE,gBAAgB5L,EAAOG,YAAYyL,kBAAsBC,EAAY,GAAG,GAAGL,KAAgCK,EAAY7O,IAAYsO,IAAkB,IAAoB,MAAM,IAAIvM,MAAM,iDAAiDuM,KAAqB,IAAI1B,EAAU,IAAakC,uBAAuB,CAACzL,WAAS0B,IAAId,EAAUvE,QAAQmP,EAAYD,gBAAgB5L,EAAOG,YAAYyL,kBAAkB,OAAOjB,QAAQoB,QAAQ,CAAC,CAACxK,GAAGqI,EAAUvI,KAAKA,GAAM,GAAGQ,KAAKnB,EAAYzD,KAAK,GAAGoD,WAASyB,OAAKuJ,SAASG,EAA+BH,OAASW,EAAUV,kBAAgBvJ,IAAId,EAAUvE,UAAQM,cAAa,IAAG,SAASmO,4BAA4B1H,GAAK,OAAOyF,EAA6BhL,MAAML,KAAKI,UAAW,GAAwCoB,EAAO4M,iCAA+C9C,GAAiC,QAAkB,UAAUnJ,GAAQ,IAAInC,KAAKiM,QAAS,MAAM,IAAI/K,MAAM,0BAA2B,IAAG,KAACsC,EAAI,mBAAC+J,EAAkB,SAAC3B,EAAQ,gBAAC6B,EAAe,WAACnL,GAAYH,GAAU,WAACuL,IAAY,QAA0B,CAAC5B,WAAWyB,EAAmB3B,aAAemC,EAAgBzL,GAAYyL,gBAAoBpL,QAAe3C,KAAK4C,oBAAuBgL,gBAAgBpL,EAAQ,YAACK,GAAaF,EAAa0J,QAAkBrM,KAAKsM,wBAA4BuB,EAAcH,GAAc,QAAC7O,EAAO,UAACM,EAAS,UAACiE,EAAS,KAAC0B,EAAI,QAACzB,EAAO,WAAC0B,EAAU,KAAC3F,SAAYY,KAAKiM,QAAQ6B,sBAAsB,CAACzB,cAAYwB,gBAAcE,oBAAkB,GAAG,IAAOjJ,KAAQ3F,EAAW,MAAM,IAAI+B,MAAM,kCAAmC,IAAI6K,EAAU,IAAakC,uBAAuB,CAACzL,WAASsC,KAAKA,GAAM1B,EAAU2K,oBAAkB,OAAOjB,QAAQoB,QAAQ,CAAC,CAACxK,GAAGqI,EAAUvI,KAAKA,GAAM,GAAGQ,KAAKnB,EAAYzD,KAAKA,GAAM,GAAGiE,UAAQb,WAASyB,KAAKtB,EAASsB,KAAKa,OAAKC,aAAWb,IAAId,EAAUvE,UAAQM,YAAUsO,oBAAmB,IAAG,SAASW,gCAAgCC,GAAK,OAAO/C,EAAiCjL,MAAML,KAAKI,UAAW,GAA4CoB,EAAO8M,uBAAqC/C,GAAuB,QAAkB,UAAUpJ,GAAQ,IAA0NoM,EAAtNC,EAAOxO,MAAQ,SAAC5B,EAAQ,gBAAC2P,GAAiB5L,EAAOG,YAAc,SAACsJ,GAAUzJ,EAAWkK,QAAkBrM,KAAKsM,wBAAwB,OAAOtM,KAAKkC,4BAA4BC,EAAO,CAACW,oBAAkCyL,GAAM,QAAkB,WAAU,YAACxL,IAAc,IAAIyL,EAAOvC,QAAS,MAAM,IAAI/K,MAAM,0BAA2B,IAAIkL,QAAkBoC,EAAO7C,uBAAuB,CAACC,cAAezM,UAAU6D,SAAoBwL,EAAOvC,QAAQwC,mBAAmB,CAACpC,cAAYjO,WAASsQ,cAAa,QAAetC,EAAYvK,IAAI+J,WAASrJ,QAAQQ,EAAYgL,oBAAkB,OAAO/K,CAAa,IAAU,SAASF,mBAAmB6L,GAAM,OAAOJ,EAAMlO,MAAML,KAAKI,UAAW,IAAQ,IAAG,SAASkO,sBAAsBM,GAAK,OAAOrD,EAAuBlL,MAAML,KAAKI,UAAW,GAAkCoB,EAAOqN,2BAAyCrD,GAA2B,QAAkB,UAAUrJ,EAAOnB,GAAS,IAAuQ8N,EAAnQC,EAAO/O,MAAQ,SAAC4L,EAAQ,QAACrJ,EAAO,WAACD,EAAU,MAACD,EAAK,sBAACiC,GAAuBnC,EAAW4L,EAAgB5L,GAAQG,YAAYyL,gBAAgB,OAAO/N,KAAKqE,0BAA0BlC,EAAOuI,cAAcA,cAAc,CAAC,EAAE1J,GAAS,CAAC,EAAE,CAAC8B,oBAAkCgM,GAAM,QAAkB,WAAU,YAAC/L,IAAc,IAAG,SAACP,EAAQ,SAACpE,EAAQ,WAACqE,GAAYH,EAAW,IAAc1D,QAAQ6F,kBAAkBuK,qBAAqB,IAAI5C,QAAkB2C,EAAOpD,uBAAuB,CAACC,aAAW,IAAImD,EAAO9C,QAAS,MAAM,IAAI/K,MAAM,wBAAyB,IAActC,QAAQ6F,kBAAkBgK,qBAAqB,IAAItP,UAAUwF,SAAqBoK,EAAO9C,QAAQwC,mBAAmB,CAACpC,kBAAkB0C,EAAOzC,wBAAwBlO,WAASsQ,cAAa,QAAetC,EAAYvK,IAAI+J,WAASrJ,QAAQQ,EAAYgL,oBAAkB,GAAGpJ,EAAcxB,SAASJ,EAAYI,OAAQ,MAAM,IAAI,KAAoB,yBAA2F,OAAjE,IAAcvE,QAAQ6F,kBAAkBwK,yBAAgCtK,CAAc,IAAU,SAAS7B,mBAAmBoM,GAAM,OAAOJ,EAAMzO,MAAML,KAAKI,UAAW,KAAS,IAAG,SAASyO,0BAA0BM,EAAKC,GAAM,OAAO5D,EAA2BnL,MAAML,KAAKI,UAAW,GAAsCoB,EAAO6N,6BAA2C5D,GAA6B,QAAkB,UAAUtJ,GAAQ,IAAG,SAACyJ,EAAQ,QAAC0D,EAAO,SAAC9C,GAAUrK,EAAWvD,QAAcoB,KAAKc,MAAM6F,aAAiB0F,QAAkBrM,KAAKsM,wBAA4BF,QAAkBpM,KAAK2L,uBAAuB,CAACC,cAAc,WAACtJ,SAAkBtC,KAAKwG,cAAc+I,eAAeC,wBAAwB,CAACvO,UAAUjB,KAAKiB,UAAU7C,SAASQ,EAAQR,WAAe2P,EAAgBzL,GAAYyL,gBAAgB,IAAI/N,KAAKiM,QAAS,MAAM,IAAI/K,MAAM,0BAA2B,OAAOlB,KAAKiM,QAAQwD,qBAAqB,CAACpD,cAAYT,WAASQ,cAAYxN,UAAQ4N,WAAS8C,UAAQvB,mBAAkB,IAAG,SAASsB,4BAA4BK,GAAM,OAAOjE,EAA6BpL,MAAML,KAAKI,UAAW,GAAwCoB,EAAOmO,oBAAkCjE,GAAoB,QAAkB,UAAUvJ,GAAQ,IAAG,SAACyJ,EAAQ,SAACY,GAAUrK,EAAO,IAAInC,KAAKiM,QAAS,MAAM,IAAI/K,MAAM,0BAA2B,IAAItC,QAAcoB,KAAKc,MAAM6F,aAAiByF,QAAkBpM,KAAK2L,uBAAuB,CAACC,aAAeS,QAAkBrM,KAAKsM,wBAA+H,aAAjFtM,KAAKiM,QAAQ2D,eAAe,CAACvD,cAAYT,WAAShN,UAAQ4N,WAASJ,eAAiC,IAAG,SAASuD,mBAAmBE,GAAM,OAAOnE,EAAoBrL,MAAML,KAAKI,UAAW,IAAsC,OAAa2K,oBAAqB,CAA7wT,C,UAA+wT,E,sLCA1hX,SAASvL,aAAaC,GAAS,IAAIC,EAA0BC,4BAA4B,OAAO,SAASC,uBAAuB,IAAmCC,EAA/BC,GAAM,OAAgBL,GAAgB,GAAGC,EAA0B,CAAC,IAAIK,GAAU,OAAgBC,MAAMC,YAAYJ,EAAOK,QAAQC,UAAUL,EAAMM,UAAUL,EAAW,MAAMF,EAAOC,EAAMO,MAAML,KAAKI,WAAY,OAAO,OAA2BJ,KAAKH,EAAQ,CAAE,CAAC,SAASF,4BAA4B,IAAI,IAAIW,GAAGC,QAAQC,UAAUC,QAAQC,KAAKR,QAAQC,UAAUI,QAAQ,IAAG,WAAW,IAAI,CAAC,MAAMD,GAAG,CAAC,OAAOX,0BAA0B,WAAW,QAAQW,CAAE,IAAK,CAAgd,IAAIwP,EAAoB,SAAShK,IAAc,OAAUgK,oBAAoBhK,GAAc,IAAIjF,EAAOrB,aAAasQ,qBAAqB,SAASA,uBAAuB5J,GAAM,IAAInF,EAAoF,OAA9EA,EAAMF,EAAOH,KAAKV,QAAQkG,IAAYxE,YAAY,IAAmBO,SAAgBlB,CAAM,CAAC,IAA+EgP,EAAiTC,EAAqTC,EAAuuCC,EAAx5D1O,EAAOsO,oBAAoBtP,UAA2xF,OAAjxFgB,EAAOkL,iBAA+BqD,GAAiB,QAAkB,YAAY,MAAM,IAAI,KAAoB,EAAAI,EAAUC,KAAKC,cAAc,CAAC3M,GAAG,EAAA4M,cAAcC,0CAA2C,IAAG,SAAS7D,kBAAkB,OAAOqD,EAAiB1P,MAAML,KAAKI,UAAW,GAA4BoB,EAAOkF,aAA2BsJ,GAAa,QAAkB,YAAY,MAAM,IAAI,KAAoB,EAAAG,EAAUC,KAAKC,cAAc,CAAC3M,GAAG,EAAA4M,cAAcC,0CAA2C,IAAG,SAAS7J,cAAc,OAAOsJ,EAAa3P,MAAML,KAAKI,UAAW,GAAwBoB,EAAOgP,iCAA+CP,GAAiC,QAAkB,UAAU9N,GAAQ,IAAG,QAACtD,EAAO,KAACiG,EAAI,SAAC0I,EAAQ,gBAACC,EAAe,KAACjK,EAAI,WAAClB,EAAU,aAACmO,EAAY,UAACtR,GAAWgD,EAAO,IAAItD,IAAUiG,EAAM,MAAM,IAAI5D,MAAM,2EAA4E,IAAImL,QAAkBrM,KAAKsM,wBAA4B3J,QAAe3C,KAAK4C,mBAAuBJ,EAASG,EAASiL,gBAAoBG,EAAgBzL,GAAYyL,gBAAoBrK,EAAG,IAAagN,uBAAuB,CAAClO,WAAS3D,UAAQiG,OAAKiJ,kBAAgB0C,iBAAmBE,EAAgB,GAAO5L,EAAWD,EAAK,IAAIjG,GAASiG,EAAK,EAAC,QAAe9E,KAAKiM,SAAS,IAAIpM,QAAaG,KAAKiM,SAAS2E,qBAAqB,CAACxN,UAAU0B,EAAKiJ,kBAAgB1B,gBAAcsE,EAAgB9Q,GAAQhB,SAAS,GAAGkG,EAAWlF,GAAQkF,YAAYA,GAAYD,CAAK,CAAiN,MAAM,CAA1M,CAACpB,KAAGF,OAAKQ,KAAK,KAAeO,KAAKlB,QAAQ,MAAMb,WAASyB,KAAKtB,EAASsB,KAAKuJ,WAASC,kBAAgB5O,QAAQ8R,GAAiB9R,GAAS,GAAGiG,KAAKA,GAAM,GAAGC,aAAW3F,KAAK,GAAGD,UAAUA,GAAW,CAAC,GAAmB,IAAG,SAASqR,gCAAgCrM,GAAI,OAAO8L,EAAiC5P,MAAML,KAAKI,UAAW,GAA4CoB,EAAOqP,mCAAiDX,GAAmC,QAAkB,UAAU/N,EAAOnB,EAAQ,CAAC,GAAG,IAAG,QAACnC,EAAO,KAAC2E,EAAI,SAACgK,EAAQ,gBAACC,EAAe,aAACgD,GAActO,EAAO,IAAItD,EAAS,MAAM,IAAI,KAAkB,IAAI4O,EAAiB,MAAM,IAAIvM,MAAM,2EAA4E,IAAG,+BAACyM,GAA+B,GAAO3M,EAAY2B,QAAe3C,KAAK4C,mBAAuBJ,EAASxB,EAAQwB,UAAUG,EAASiL,gBAAoB3J,EAAKjD,EAAQiD,MAAMtB,EAASsB,KAAqFrF,EAAQ,CAAC8E,GAAlF,IAAagN,uBAAuB,CAAClO,WAAS3D,UAAQ4R,iBAA+BjN,KAAKA,GAAM,GAAGQ,KAAK,KAAe8M,OAAOtO,WAASyB,OAAKuJ,SAASG,EAA+BH,OAASW,EAAUV,kBAAgB5O,UAAQqF,IAAI,GAAG9E,KAAK,IAAI,OAAO0N,QAAQoB,QAAQ,CAACtP,GAAU,IAAG,SAASiS,kCAAkCzM,GAAK,OAAO8L,EAAmC7P,MAAML,KAAKI,UAAW,IAAqD,OAAa0P,oBAAqB,CAA/lG,C,UAAimG,E,oaCA92HiB,EAAU,CAAC,aAAaC,EAAW,CAAC,aAAa,SAAS9G,QAAQC,EAAE3C,GAAG,IAAIlH,EAAErB,OAAOmL,KAAKD,GAAG,GAAGlL,OAAOoL,sBAAsB,CAAC,IAAIC,EAAErL,OAAOoL,sBAAsBF,GAAG3C,IAAI8C,EAAEA,EAAEC,QAAO,SAAS/C,GAAG,OAAOvI,OAAOuL,yBAAyBL,EAAE3C,GAAGiD,UAAW,KAAInK,EAAEyD,KAAK1D,MAAMC,EAAEgK,EAAG,CAAC,OAAOhK,CAAE,CAAC,SAASoK,cAAcP,GAAG,IAAI,IAAI3C,EAAE,EAAEA,EAAEpH,UAAU+C,OAAOqE,IAAI,CAAC,IAAIlH,EAAE,MAAMF,UAAUoH,GAAGpH,UAAUoH,GAAG,CAAC,EAAEA,EAAE,EAAE0C,QAAQjL,OAAOqB,IAAG,GAAIqK,SAAQ,SAASnD,IAAG,OAAgB2C,EAAE3C,EAAElH,EAAEkH,GAAI,IAAGvI,OAAO2L,0BAA0B3L,OAAO4L,iBAAiBV,EAAElL,OAAO2L,0BAA0BtK,IAAI4J,QAAQjL,OAAOqB,IAAIqK,SAAQ,SAASnD,GAAGvI,OAAO6L,eAAeX,EAAE3C,EAAEvI,OAAOuL,yBAAyBlK,EAAEkH,GAAI,GAAG,CAAC,OAAO2C,CAAE,CAAC,SAAS3K,aAAaC,GAAS,IAAIC,EAA0BC,4BAA4B,OAAO,SAASC,uBAAuB,IAAmCC,EAA/BC,GAAM,OAAgBL,GAAgB,GAAGC,EAA0B,CAAC,IAAIK,GAAU,OAAgBC,MAAMC,YAAYJ,EAAOK,QAAQC,UAAUL,EAAMM,UAAUL,EAAW,MAAMF,EAAOC,EAAMO,MAAML,KAAKI,WAAY,OAAO,OAA2BJ,KAAKH,EAAQ,CAAE,CAAC,SAASF,4BAA4B,IAAI,IAAIW,GAAGC,QAAQC,UAAUC,QAAQC,KAAKR,QAAQC,UAAUI,QAAQ,IAAG,WAAW,IAAI,CAAC,MAAMD,GAAG,CAAC,OAAOX,0BAA0B,WAAW,QAAQW,CAAE,IAAK,CAA6nC,GAAG,mBAAoC,MAAM,IAAIY,MAAM,oDAA4D,IAA06L+P,EAAU,SAASC,IAAqB,OAAUD,UAAUC,GAAqB,IAAIlL,EAAQxG,aAAayR,WAAW,SAASA,aAAa/K,GAAM,IAAInF,EAA+H,OAAzHA,EAAMiF,EAAQtF,KAAKV,QAAQkG,IAAYiL,MAAK,UAAepQ,EAAMqQ,uCAAuC,IAAI,KAAU,GAAUrQ,CAAM,CAAC,IAA4DsQ,EAAuLC,EAA2QC,EAAsaC,EAA8SC,EAAgQC,EAA+RC,EAAwPC,EAAyRC,EAA6SC,EAAkRC,EAA2+DC,EAA42DC,EAAgmBC,EAAidC,EAAoYC,EAAggDC,EAAkvCC,EAAyiFC,EAA24CxC,EAAkiByC,EAA2uDC,EAA6OC,EAA8NC,EAA+SC,EAAkQC,EAA8QC,EAAmQC,EAA0SC,EAAmSC,GAA0NC,GAAwUC,GAAwbC,GAAmpBC,GAAsQC,GAAqZC,GAAuvBC,GAA+OC,GAAgYC,GAAmhBC,GAAiPC,GAAkeC,GAAkmBC,GAAqSC,GAAjzxBC,GAAQ/C,UAAUzQ,UAAm/xB,OAAz+xBwT,GAAQC,MAAoB5C,GAAM,QAAkB,UAAU6C,SAAclU,KAAKmU,YAAYD,EAAQ,IAAG,SAASD,KAAKG,GAAM,OAAO/C,EAAMhR,MAAML,KAAKI,UAAW,GAAiB4T,GAAQG,aAA2B7C,GAAa,QAAkB,UAAU4C,GAAYlU,KAAKgB,QAAQqT,cAAarU,KAAKsU,cAAcJ,EAAOK,eAAevU,MAAO,IAAG,SAASmU,YAAYK,GAAM,OAAOlD,EAAajR,MAAML,KAAKI,UAAW,GAAwB4T,GAAQS,sBAAoClD,GAAsB,QAAkB,UAAUpP,GAAQ,IAAG,SAACuS,GAAUvS,EAAWwS,QAAW3U,KAAKwG,cAAcoO,YAAYH,qBAAqBtS,GAAQ,OAAOuI,cAAcA,cAAc,CAAC,EAAEgK,GAAU,CAAC,EAAE,CAACC,OAAKE,UAAUH,EAASG,WAAY,IAAG,SAASJ,qBAAqBK,GAAM,OAAOvD,EAAsBlR,MAAML,KAAKI,UAAW,GAAiC4T,GAAQe,mCAAiDvD,GAAmC,QAAkB,UAAUrP,GAAQ,MAAM,IAAI,IAAiB,IAAG,SAAS4S,kCAAkCC,GAAM,OAAOxD,EAAmCnR,MAAML,KAAKI,UAAW,GAA8C4T,GAAQiB,oBAAkCxD,GAAoB,QAAkB,UAAUtP,GAAQ,OAAO2K,QAAQoB,SAAQ,EAAM,IAAG,SAAS+G,mBAAmBC,GAAM,OAAOzD,EAAoBpR,MAAML,KAAKI,UAAW,GAA+B4T,GAAQmB,gCAA8CzD,GAAgC,QAAkB,WAAU,iBAAC0D,IAAmB,OAAO,IAAK,IAAG,SAASD,+BAA+BE,GAAM,OAAO3D,EAAgCrR,MAAML,KAAKI,UAAW,GAA2C4T,GAAQsB,oBAAkC3D,GAAoB,QAAkB,UAAUxP,GAAQ,OAAO2K,QAAQoB,SAAQ,EAAM,IAAG,SAASoH,mBAAmBC,GAAM,OAAO5D,EAAoBtR,MAAML,KAAKI,UAAW,GAA+B4T,GAAQwB,wBAAsC5D,GAAwB,QAAkB,WAAU,UAACiD,IAAY,OAAO/H,QAAQoB,QAAQ,CAAC2G,aAAY,IAAG,SAASW,uBAAuBC,GAAM,OAAO7D,EAAwBvR,MAAML,KAAKI,UAAW,GAAmC4T,GAAQ0B,6BAA2C7D,GAA6B,QAAkB,WAAU,UAACgD,IAAY,OAAO/H,QAAQoB,QAAQ,CAAC2G,aAAY,IAAG,SAASa,4BAA4BC,GAAM,OAAO9D,EAA6BxR,MAAML,KAAKI,UAAW,GAAwC4T,GAAQ4B,6BAA2C9D,GAA6B,QAAkB,UAAU3P,GAAQ,OAAO2K,QAAQoB,QAAQ,CAAC,EAAG,IAAG,SAAS0H,4BAA4BC,GAAM,OAAO/D,EAA6BzR,MAAML,KAAKI,UAAW,GAAwC4T,GAAQ8B,gBAA8B/D,GAAgB,QAAkB,UAAU5P,GAAQ,IAAG,iBAAC4T,EAAgB,UAACC,EAAS,SAACtB,EAAQ,SAACuB,EAAQ,eAACC,EAAc,UAACC,GAAWhU,EAAWiU,EAAejU,EAAOiU,gBAAgB,GAAOtR,EAAK3C,EAAO2C,KAAS6P,EAAKD,GAAUC,MAAMqB,GAAWrB,MAAM,GAAG,IAAIA,EAAM,MAAM,IAAIzT,MAAM,iCAAkC,IAAG,UAAC6K,EAAS,UAAC9K,GAAW+U,EAAU,IAAI,IAAI7F,EAAEkG,SAASvJ,QAAQC,IAAI,CAAC/M,KAAKwG,cAAc8P,eAAeC,wBAAwB,CAACJ,YAAUpK,YAAU9K,cAAYjB,KAAKwG,cAAc8P,eAAeE,eAAe,CAACL,YAAUpK,YAAU9K,gBAAcmV,EAAejG,EAAErL,EAAKuR,CAAE,CAAC,MAAMlM,GAAG,CAAC6L,EAAUrB,KAAKA,GAAMqB,EAAUrB,KAAKqB,EAAUS,MAAML,EAAeJ,EAAUlR,KAAKA,EAAQmR,IAAUD,EAAUU,OAAON,GAAgB,IAAyFO,EAAUjM,cAAcA,cAAc,CAAChH,GAAlH,IAAakT,oBAAoB,CAAC3V,YAAU0T,OAAKyB,iBAAetR,SAA+DoR,eAAe3V,QAAQ2V,IAAiBH,GAAkB,CAAC,EAAE,CAACC,cAAY,OAAOlJ,QAAQoB,QAAQyI,EAAW,IAAG,SAASb,eAAee,GAAM,OAAO9E,EAAgB1R,MAAML,KAAKI,UAAW,GAA2B4T,GAAQ8C,6BAA6B,SAASA,6BAA6B3U,GAAQ,IAAI4J,UAAUgL,EAAgB9V,UAAU+V,EAAgBZ,eAAea,EAAqBnS,KAAKoS,EAAU,iBAAC9B,EAAgB,4BAAC+B,GAA6BhV,EAAW4J,EAAUgL,EAAoB9V,EAAU+V,EAAoBZ,EAAea,EAAyBnS,EAAKoS,EAAW,GAAGF,KAAkB,SAAmBI,UAAU,CAAC,IAAIC,EAAkBF,GAA6B5N,MAAK,SAAS+N,GAAG,IAAIC,EAAEC,GAAQpC,EAAiBrW,IAAIP,MAAM,KAAK,OAAI,IAAO8Y,EAAEG,aAA8FH,EAAErW,YAAYmU,EAAiBnU,UAAxGqW,EAAErW,YAAYmU,EAAiBnU,WAAWqW,EAAEG,cAAcD,CAAwD,IAAMH,IAAmBtL,EAAUsL,EAAkBtL,UAAU9K,EAAUoW,EAAkBpW,UAAUmV,EAAeiB,EAAkBjB,eAAetR,EAAKuS,EAAkBI,YAAa,CAAC,MAAM,CAAC1L,YAAU9K,YAAUmV,iBAAetR,OAAM,EAAEkP,GAAQ0D,uBAAqC1F,GAAuB,QAAkB,UAAU7P,GAAQ,IAAIiL,EAAOpN,MAAQ,iBAACoV,EAAgB,OAACuC,EAAM,KAACC,EAAI,4BAACT,EAA2B,eAACU,GAAgB1V,GAAU,UAAC4J,EAAS,UAAC9K,EAAS,eAACmV,EAAc,KAACtR,GAAM9E,KAAK8W,6BAA6B,CAAC/K,UAAU5J,EAAO4J,UAAU9K,UAAUkB,EAAOlB,UAAUmV,eAAejU,EAAOiU,eAAetR,KAAK3C,EAAO2C,KAAKsQ,mBAAiB+B,gCAAiChV,EAAO4J,UAAwB,IAA2BoK,EAAvBpX,EAAI,GAAGgN,IAA6B8L,UAAsB7X,KAAKoR,uCAAuC0G,cAAa,QAAkB,YAAY3B,EAAU0B,IAAiB9Y,GAASoX,IAAWA,QAAgB/I,EAAO5G,cAAc8P,eAAeyB,iBAAiB,CAAChM,iBAA0B8L,EAAe9Y,GAAKoX,EAAY,MAAK,IAAI6B,QAAoBhY,KAAKwG,cAAc+I,eAAe3M,iBAAiB,CAAC3B,cAAY,IAAI,IAAIgX,QAAajY,KAAKkY,qBAAqB,CAACC,GAAG/C,EAAiBuC,SAAOC,SAAW5B,EAAU,CAACrB,KAAKS,EAAiB+C,GAAG1B,MAAML,EAAeM,OAAOtB,EAAiBgD,KAAKC,GAAGjD,EAAiBiD,GAAGC,MAAMlD,EAAiBkD,MAAMC,QAAQ,CAACN,GAAQO,QAAO,QAA0BpD,EAAiBoD,QAAQvX,YAAU8K,YAAUjH,OAAK2T,iBAAiBrD,EAAiBsD,OAAOC,kBAAkBvD,EAAiBwD,gBAAgBC,aAAab,EAAcc,OAAO1D,EAAiBpW,WAAMmP,EAAU4K,gBAAgB/Y,KAAKmV,+BAA+B,CAACC,qBAAmBzL,QAAQ,CAAC3F,KAAKoR,EAAiBpR,KAAKhF,MAAMoW,EAAiBpW,MAAMga,MAAM5D,EAAiB4D,QAA+I,OAAvIhD,EAAUiD,UAAU,IAAIC,KAAgC,IAA3B9D,EAAiB+D,WAAgBC,UAAUpD,EAAUqD,UAAUrD,EAAUiD,UAAUjD,EAAUsD,SAAQ,QAAkBtZ,KAAK8V,eAAe,CAACK,YAAUH,YAAUI,iBAAetR,QAAO,CAAC,MAAMqF,GAAG,OAAO,IAAK,CAAC,IAAG,SAASuN,sBAAsB6B,GAAM,OAAOvH,EAAuB3R,MAAML,KAAKI,UAAW,GAAkC4T,GAAQkE,sBAAoCjG,GAAsB,QAAkB,WAAU,GAACkG,EAAE,OAACR,EAAM,KAACC,IAAO,OAAGO,EAAGnU,OAAO,KAAsBwV,SAASrB,EAAGsB,aAAqBzZ,KAAK0Z,4BAA4B,CAACvB,KAAGR,SAAOC,OAAK6B,aAAatB,EAAGsB,eAAmB,IAAStB,EAAGwB,QAAQ,IAASxB,EAAGyB,UAAczB,EAAGnU,KAAYhE,KAAK6Z,iCAAiC,CAAC1B,OAAYnY,KAAK8Z,4BAA4B,CAAC3B,OAAanY,KAAK+Z,2BAA2B,CAAC5B,KAAGR,SAAOC,QAAO,IAAG,SAASM,qBAAqB8B,GAAM,OAAO/H,EAAsB5R,MAAML,KAAKI,UAAW,GAAiC4T,GAAQ6F,kCAAgD3H,GAAkC,QAAkB,WAAU,GAACiG,IAAyC,aAAlBnY,KAAKia,aAAmB,CAACjW,KAAK,KAAqBkW,cAAcC,aAAa,CAAC/B,KAAKD,EAAGC,KAAKC,GAAGF,EAAGE,GAAG+B,aAAajC,EAAGa,MAAMqB,aAAalC,EAAGmC,aAAapU,KAAKiS,EAAGhW,QAAS,IAAG,SAAS0X,iCAAiCU,GAAM,OAAOrI,EAAkC7R,MAAML,KAAKI,UAAW,GAA6C4T,GAAQ8F,6BAA2C3H,GAA6B,QAAkB,WAAU,GAACgG,IAAyC,aAAlBnY,KAAKia,aAAmB,CAACjW,KAAK,KAAqBwW,QAAQC,cAAc,CAACrC,KAAKD,EAAGC,KAAKC,GAAGF,EAAGE,GAAGW,MAAMb,EAAGa,OAAQ,IAAG,SAASc,4BAA4BY,GAAM,OAAOvI,EAA6B9R,MAAML,KAAKI,UAAW,GAAwC4T,GAAQ+F,4BAA0C3H,GAA4B,QAAkB,WAAU,GAAC+F,EAAE,OAACR,EAAM,KAACC,IAAO,IAAIpJ,EAAOxO,KAAK,MAAM,CAACgE,KAAK,KAAqB2W,eAAeC,cAAc,CAACxC,KAAKD,EAAGC,KAAKC,GAAGF,EAAGE,GAAGW,MAAMb,EAAGa,MAAMW,MAAMxB,EAAGwB,MAAM3M,KAAI,SAAS6N,GAAM,OAAOrM,EAAOsM,qBAAqB,CAACC,SAASF,EAAKlD,SAAOC,QAAO,IAAGgC,SAASzB,EAAGyB,SAAS5M,KAAI,SAASgO,GAAS,OAAOxM,EAAOsM,qBAAqB,CAACC,SAASC,EAAQrD,SAAOC,QAAO,KAAK,IAAG,SAASmC,2BAA2BkB,GAAM,OAAO7I,EAA4B/R,MAAML,KAAKI,UAAW,GAAuC4T,GAAQ8G,qBAAqB,SAASA,sBAAqB,SAACC,EAAQ,OAACpD,EAAM,KAACC,IAAO,IAAG,KAACsD,EAAI,OAACC,EAAM,KAAC3X,EAAI,MAAC4X,EAAK,SAACC,EAAQ,MAACC,IAAO,QAA6B,CAACvc,IAAIgc,EAAShc,IAAIwc,aAAaR,EAASS,MAAM7D,SAAOC,SAAO,MAAM,CAACQ,KAAK2C,EAAS3C,KAAKC,GAAG0C,EAAS1C,GAAGoD,iBAAiBV,EAASS,MAAME,OAAOX,EAASW,OAAO1C,MAAM+B,EAAS/B,MAAM2C,MAAMZ,EAASY,MAAMT,OAAK1X,OAAK2X,SAAOC,QAAMC,WAASC,QAAO,EAAEtH,GAAQ0F,4BAA4B,SAASA,6BAA4B,GAACvB,EAAE,OAACR,EAAM,KAACC,EAAI,aAAC6B,IAAe,IAAG,KAACyB,EAAI,OAACC,EAAM,KAAC3X,EAAI,SAACoY,IAAU,QAA6B,CAAC7c,IAAI0a,EAAa1a,IAAIwc,aAAa9B,EAAa+B,MAAM7D,SAAOC,SAAO,MAAM,CAAC5T,KAAK,KAAqB6X,cAAcpC,aAAa,CAACrB,KAAKD,EAAGC,KAAKC,GAAGF,EAAGE,GAAGyD,QAAQrC,EAAaqC,QAAQZ,OAAK1X,OAAK2X,SAAOS,WAAS5C,MAAMb,EAAGa,MAAMyC,iBAAiBhC,EAAa+B,MAAME,OAAO,IAAI,IAAUjC,EAAaiC,QAAQK,WAAWH,GAAUI,UAAUC,iBAAiBxC,EAAawC,kBAAmB,EAAEjI,GAAQkI,4BAA0C7J,GAA4B,QAAkB,UAAUlQ,GAAQ,IAAG,KAACiW,EAAI,GAACC,EAAE,UAAC8D,EAAS,KAACC,EAAI,YAACC,EAAW,eAACC,EAAc,kBAACC,EAAiB,qBAACC,EAAoB,oBAACC,EAAmB,sBAACC,GAAuBva,GAAWiU,EAAe3M,SAAeqD,QAAQC,IAAI,CAAC/M,KAAK2c,oBAAoB3c,KAAKia,eAAmB2C,EAAwB,IAAI,IAAU,GAAOhC,EAAc,CAACxC,OAAKC,KAAGsB,MAAM,GAAGC,SAAS,GAAGyC,cAAYC,iBAAeC,oBAAkBC,uBAAqBC,sBAAoBC,yBAAohB,OAA7fP,EAAUxR,SAAQ,SAASoQ,IAAa,QAAuB,CAAC3C,KAAK2C,EAAS3C,KAAKC,GAAG0C,EAAS1C,GAAGjC,qBAAmB,IAAoByG,KAAKjC,EAAcjB,MAAM5V,KAAKgX,GAAaA,EAASM,WAAUuB,EAAwBA,EAAwBE,KAAK,IAAI,IAAU/B,EAASW,WAAgBd,EAAchB,SAAS7V,KAAKgX,EAAW,IAAGH,EAAc/B,aAAa+D,EAAwBZ,UAAUpB,EAAcmC,kBAAkB,IAAgBC,0BAA0B,CAAChe,MAAM4d,EAAwBnT,YAAgB,CAACzF,KAAK,KAAqB2W,eAAeyB,OAAKxB,gBAAe,IAAG,SAASsB,2BAA2Be,GAAM,OAAO5K,EAA4BhS,MAAML,KAAKI,UAAW,GAAuC4T,GAAQkJ,yBAAuC5K,GAAyB,QAAkB,UAAUnQ,GAAQ,IAAIgb,EAAsBC,EAAoBC,EAAsBC,EAAsBC,GAAyB,SAACC,EAAQ,SAACC,EAAQ,cAACC,GAAevb,EAAWwb,EAAcF,EAASG,OAAOpC,MAAUqC,EAAiBJ,EAASK,SAAStC,MAAUuC,EAAaN,EAASO,iBAAiBne,OAAOoe,KAASC,EAAcT,EAASO,iBAAiBne,OAAOse,KAAKD,cAAkBE,EAAsB,GAAOjC,EAAU,CAAC,CAAC/D,KAAKqF,EAASrH,eAAeiC,GAAG,GAAGoD,iBAAiBkC,EAAcU,gBAAgBnD,KAAoD,OAA9CiC,EAAsBQ,EAAcW,SAAenB,EAAsB,GAAG3Z,KAA+C,OAAzC4Z,EAAoBO,EAAcna,MAAY4Z,EAAoB,GAAGjC,OAAOwC,EAAcxC,OAAOO,OAAO+B,EAASG,OAAOlC,OAAON,OAAM,EAAMC,SAASsC,EAActC,SAASpa,UAAUwc,EAASG,OAAOW,YAAYtd,WAAW,CAACmX,KAAK,GAAGC,GAAGoF,EAASe,iBAAiB/C,iBAAiBoC,EAAiBQ,gBAAgBnD,KAAuD,OAAjDmC,EAAsBQ,EAAiBS,SAAejB,EAAsB,GAAG7Z,KAAoD,OAA9C8Z,EAAsBO,EAAiBra,MAAY8Z,EAAsB,GAAGnC,OAAO0C,EAAiB1C,OAAOO,OAAO+B,EAASK,SAASpC,OAAON,OAAM,EAAMC,SAASwC,EAAiBxC,SAASpa,UAAUwc,EAASK,SAASS,YAAYtd,YAAknC,OAAnmCid,GAAeA,EAAcvT,SAAQ,SAAS8T,GAAuK,IAAIC,EAAsBC,EAArLF,EAAQjD,MAAM6C,kBAAkBlC,EAAU,GAAGV,iBAAkBU,EAAU,GAAGT,OAAO,IAAI,IAAUS,EAAU,GAAGT,QAAQoB,KAAK2B,EAAQ/C,QAAQM,UAA8DoC,EAAsBra,KAAK,CAACqU,KAAKqF,EAASrH,eAAeiC,GAAG,GAAGoD,iBAAiBgD,EAAQjD,MAAM6C,gBAAgBnD,KAAoD,OAA9CwD,EAAsBD,EAAQjD,MAAM8C,SAAeI,EAAsB,GAAGlb,KAA+C,OAAzCmb,EAAoBF,EAAQjD,MAAMhY,MAAYmb,EAAoB,GAAGxD,OAAOsD,EAAQjD,MAAML,OAAOO,OAAO+C,EAAQ/C,OAAON,OAAM,EAAMC,SAASoD,EAAQjD,MAAMH,SAASpa,UAAUwc,EAASG,OAAOW,YAAYtd,WAAa,IAAIkb,EAAU,IAAIiC,KAAyBjC,SAA4Bnc,KAAKkc,2BAA2B,CAAC9D,KAAKqF,EAASrH,eAAeiC,GAAkB,MAAfqF,EAAoBA,EAAc,GAAGtB,KAAKoB,EAASnB,YAAY,CAAC7Y,KAAKua,EAAaa,aAAa1D,KAAwD,OAAlDqC,EAAsBQ,EAAac,cAAoBtB,EAAsB,IAAIjB,gBAAe,EAAKG,oBAAoBgB,EAASe,iBAAiB9B,sBAAsBe,EAASK,SAAStC,MAAMva,UAAUkb,aAA0B,IAAG,SAASe,wBAAwB4B,GAAM,OAAOxM,EAAyBjS,MAAML,KAAKI,UAAW,GAAoC4T,GAAQ+K,4BAA0CxM,GAA4B,QAAkB,UAAUpQ,GAAQ,IAAI6c,EAAoBC,EAAiBC,EAAsBC,GAAuB,YAACC,EAAW,YAACC,EAAW,eAACjJ,EAAc,iBAACkJ,GAAkBnd,GAAU,SAACod,EAAQ,gBAACC,EAAe,KAAC3E,EAAI,QAACG,GAASoE,EAAgBjD,EAAU,CAACtB,GAAM,CAACzC,KAAKhC,EAAeiC,GAAG,GAAGoD,iBAAiBZ,EAAKW,MAAM3c,QAAQqc,KAA+C,OAAzC8D,EAAoBnE,EAAKW,MAAM8C,SAAeU,EAAoB,GAAGxb,KAAyC,OAAnCyb,EAAiBpE,EAAKW,MAAMhY,MAAYyb,EAAiB,GAAG9D,OAAON,EAAKW,MAAML,OAAOO,OAAOb,EAAKa,OAAON,OAAM,EAAMC,SAASR,EAAKW,MAAMH,UAAUL,GAAS,CAAC5C,KAAK,GAAGC,GAAGjC,EAAeqF,iBAAiBT,EAAQQ,MAAM3c,QAAQqc,KAAoD,OAA9CgE,EAAsBlE,EAAQQ,MAAM8C,SAAeY,EAAsB,GAAG1b,KAA+C,OAAzC2b,EAAoBnE,EAAQQ,MAAMhY,MAAY2b,EAAoB,GAAGhE,OAAOH,EAAQQ,MAAML,OAAOO,OAAOV,EAAQU,OAAON,OAAM,EAAMC,SAASL,EAAQQ,MAAMH,WAAW9Q,OAAOhK,SAAqT,aAA3RP,KAAKkc,2BAA2B,CAAC9D,KAAKhC,EAAeiC,GAAqB,MAAlBiH,EAAuBA,EAAiB,GAAGlD,KAAKiD,EAAYhD,YAAY,CAAC7Y,KAAK+b,EAASrE,KAAsB,MAAjBsE,EAAsBA,EAAgB,IAAIjD,mBAAkB,EAAKC,sBAAqB,QAAsB,CAAC4C,gBAAcjD,aAA0B,IAAG,SAAS4C,2BAA2BU,GAAM,OAAOlN,EAA4BlS,MAAML,KAAKI,UAAW,GAAuC4T,GAAQtH,iBAA+BqD,GAAiB,QAAkB,UAAU5N,GAAQ,IAAIud,EAAiBC,GAAuB,WAACzT,GAAY/J,EAAOA,EAAOgK,SAA6C,OAAnCuT,EAAiBvd,EAAOgK,WAAgBuT,EAAsB,IAAIhL,QAAe1U,KAAKsU,QAAQ5H,gBAAgBvK,GAAQ,OAAOuI,cAAcA,cAAc,CAAC,EAAEgK,GAAU,CAAC,EAAE,CAACG,UAAoD,OAAzC8K,EAAoBjL,EAASG,WAAiB8K,EAAoBzT,EAAW2I,WAAY,IAAG,SAASnI,gBAAgBkT,GAAM,OAAO7P,EAAiB1P,MAAML,KAAKI,UAAW,GAA4B4T,GAAQrN,YAA0B6L,GAAY,QAAkB,WAAU,UAAC2D,GAAW,CAAC,GAAG,IAAIvX,EAAQuX,EAA+I,GAAjIvX,GAASA,GAAS8E,KAAK1D,KAAK+L,YAAWnN,QAAcoB,KAAKwG,cAAc8P,eAAeuJ,aAAa,CAAC9T,UAAU/L,KAAK+L,cAAiB,IAAa+T,+BAA+B,CAAClhB,UAAQqC,UAAUjB,KAAKiB,YAAa,MAAM,IAAIC,MAAM,wCAAwClB,KAAKiB,aAAarC,EAAQ8E,IAAIqc,MAAM,EAAE,OAAQ,IAAI1T,QAAkBrM,KAAKggB,iBAAqBC,EAAgBrhB,EAAYshB,EAAuB,GAAG,GAAGD,EAAgBE,mBAAmB,CAAC,IAAIC,4BAA4B,UAAS,IAACrhB,EAAG,cAACshB,IAAgB,IAAIC,EAAsB,IAAIvhB,EAAK,MAAM,GAAI,IAAI+E,EAAsE,OAA/Dwc,EAAsBL,EAAgBM,kBAAkBxhB,IAAYuhB,EAAsBD,EAAkBlhB,EAAU8gB,EAAgBE,qBAAqBphB,IAAMP,MAAM,KAAK+L,OAAOhK,UAAU,GAAG,OAAOpB,IAAY2E,IAAQ3E,IAAYkhB,IAAgB,EAAG,GAAEH,EAAuBE,4BAA4B,CAACrhB,IAAIiB,KAAKiB,UAAUof,eAAe,OAAqEH,EAAuBE,4BAA4B,CAACrhB,UAA1EiB,KAAKwgB,iBAA8EH,cAAc,KAASH,IAAwBA,EAAuBE,4BAA4B,CAACrhB,IAAIiB,KAAKiB,UAAUof,cAAc,IAAK,CAAC,IAAII,QAAoBzgB,KAAK0gB,0BAA0B,CAACrU,cAAYzN,UAAQqC,UAAUjB,KAAKiB,UAAUif,2BAA6BrhB,EAAQ4hB,GAAe5hB,SAAS,GAAG,IAAIA,IAAU4hB,EAAcE,oBAAoBF,EAAcG,QAAS,MAAM,IAAI1f,MAAM,kDAAmD,OAAOwJ,cAAcA,cAAc,CAAC,EAAE9L,GAAS,CAAC,EAAE,CAAC6hB,gBAAc5hB,WAAU,IAAG,SAAS8H,aAAa,OAAO6L,EAAYnS,MAAML,KAAKI,UAAW,GAAuB4T,GAAQ2I,mBAAiClK,GAAmB,QAAkB,YAAY,aAAazS,KAAK2G,cAAc9H,OAAQ,IAAG,SAAS8d,oBAAoB,OAAOlK,EAAmBpS,MAAML,KAAKI,UAAW,GAA8B4T,GAAQ6M,gBAA8BnO,GAAgB,QAAkB,YAAY,aAAa1S,KAAK2G,cAAcvH,IAAK,IAAG,SAASyhB,iBAAiB,OAAOnO,EAAgBrS,MAAML,KAAKI,UAAW,GAA2B4T,GAAQwC,gBAA8B7D,GAAgB,QAAkB,WAAU,UAACwD,GAAW,CAAC,GAAG,IAAI2K,QAAqB9gB,KAAK2G,WAAW,CAACwP,cAAY,OAAOnW,KAAK+gB,mBAAmBD,EAAgB,IAAG,SAAStK,iBAAiB,OAAO7D,EAAgBtS,MAAML,KAAKI,UAAW,GAA2B4T,GAAQgN,mBAAiCpO,GAAmB,QAAkB,WAAU,cAACqO,IAAgB,OAAOnU,QAAQoB,QAAQ+S,EAAe,IAAG,SAASD,kBAAkBE,GAAM,OAAOtO,EAAmBvS,MAAML,KAAKI,UAAW,GAA8B4T,GAAQmN,oBAAkCtO,GAAoB,QAAkB,WAAU,eAACuO,IAAiB,OAAOtU,QAAQoB,QAAQkT,EAAgB,IAAG,SAASD,mBAAmBE,GAAM,OAAOxO,EAAoBxS,MAAML,KAAKI,UAAW,GAA+B4T,GAAQsN,0BAAwCxO,GAA0B,QAAkB,WAAU,UAAC+B,IAAY,OAAO,CAAK,IAAG,SAASyM,yBAAyBC,GAAM,OAAOzO,EAA0BzS,MAAML,KAAKI,UAAW,GAAqC4T,GAAQwN,uBAAqCzO,GAAuB,QAAkB,WAAU,UAACiD,EAAS,YAACyL,IAAc,OAAO3U,QAAQoB,QAAQ8H,EAAUnB,UAAW,IAAG,SAAS2M,sBAAsBE,GAAM,OAAO3O,EAAuB1S,MAAML,KAAKI,UAAW,GAAkC4T,GAAQ2N,8BAA4C3O,GAA8B,QAAkB,UAAU7Q,GAAQ,OAAO2K,QAAQoB,QAAQ/L,EAAO0S,UAAW,IAAG,SAAS8M,6BAA6BC,GAAM,OAAO5O,EAA8B3S,MAAML,KAAKI,UAAW,GAAyC4T,GAAQ6N,eAA6B5O,IAAe,QAAkB,UAAU9Q,GAAQ,MAAM,IAAI,IAAiB,IAAG,SAAS0f,cAAcC,GAAM,OAAO7O,GAAe5S,MAAML,KAAKI,UAAW,GAA0B4T,GAAQ+N,gBAA8B7O,IAAgB,QAAkB,WAAU,QAACrU,IAAU,OAAOiO,QAAQoB,QAAQ,CAAC,EAAG,IAAG,SAAS6T,eAAeC,GAAM,OAAO9O,GAAgB7S,MAAML,KAAKI,UAAW,GAA2B4T,GAAQiO,oBAAoB,SAASA,oBAAoB9f,GAAQ,OAAO2K,QAAQoB,QAAQ/L,EAAQ,EAAE6R,GAAQkO,qBAAmC/O,IAAqB,QAAkB,UAAUhR,GAAgH,aAA9EnC,KAAKwG,cAAc+I,eAAe4S,gBAAgB,CAAClhB,UAAUjB,KAAKiB,aAAuCjB,KAAKoiB,yBAAyBjgB,GAAgBnC,KAAKqiB,yBAAyBlgB,EAAQ,IAAG,SAAS+f,oBAAoBI,GAAM,OAAOnP,GAAqB9S,MAAML,KAAKI,UAAW,GAAgC4T,GAAQqO,0BAAwCjP,IAA0B,QAAkB,UAAUjR,GAAQ,IAAIogB,EAAY7X,cAAc,CAAC,EAAE,IAAMvI,EAAO,CAAC,YAAY,YAAgBqgB,QAAaxiB,KAAKwG,cAAcic,sBAAsBC,UAAU,IAAqBC,QAAkP,aAA3NH,EAAOI,IAAI,kCAAkC,YAAa,IAAQL,EAAY,QAAW,CAACM,cAAc7iB,KAAKwG,cAAcic,sBAAsBK,qBAAqB,CAAC/W,UAAU5J,EAAO4J,YAAYgX,OAAO5gB,EAAO4gB,QAAqB,IAAG,SAASV,yBAAyBW,GAAM,OAAO5P,GAA0B/S,MAAML,KAAKI,UAAW,GAAqC4T,GAAQoO,0BAAwC/O,IAA0B,QAAkB,UAAUlR,GAAQ,MAAM,IAAI,IAAiB,IAAG,SAASigB,yBAAyBa,GAAM,OAAO5P,GAA0BhT,MAAML,KAAKI,UAAW,GAAqC4T,GAAQkP,gBAA8B5P,IAAgB,QAAkB,UAAUnR,GAAgH,aAA9EnC,KAAKwG,cAAc+I,eAAe4S,gBAAgB,CAAClhB,UAAUjB,KAAKiB,aAAuCjB,KAAKmjB,oBAAoBhhB,GAAgBnC,KAAKojB,oBAAoBjhB,EAAQ,IAAG,SAAS+gB,eAAeG,GAAM,OAAO/P,GAAgBjT,MAAML,KAAKI,UAAW,GAA2B4T,GAAQoP,qBAAmC7P,IAAqB,QAAkB,UAAUpR,GAAQ,IAAG,aAACmhB,EAAY,sBAACb,GAAuBziB,KAAKwG,eAAiB,iBAAC+c,EAAgB,KAACC,EAAI,OAACT,EAAM,UAAChX,GAAW5J,EAAUohB,EAAiBE,eAAcF,EAAiBE,aAAaF,EAAiBE,aAAalZ,QAAO,SAASmZ,GAAU,OAAkB,OAAXA,GAAmC,iBAAXA,CAAoB,KAAI,IAAIlB,QAAac,EAAaZ,UAAU,IAAqBC,QAAqL,aAA9JH,EAAOmB,KAAK,sCAAsCH,GAAM,KAAKD,EAAiB,CAACR,SAAOF,cAAcJ,EAAsBK,qBAAqB,CAAC/W,eAA0B,IAAG,SAASqX,oBAAoBQ,GAAM,OAAOrQ,GAAqBlT,MAAML,KAAKI,UAAW,GAAgC4T,GAAQmP,qBAAmC3P,IAAqB,QAAkB,UAAUrR,GAAQ,MAAM,IAAI,IAAiB,IAAG,SAASghB,oBAAoBU,GAAM,OAAOrQ,GAAqBnT,MAAML,KAAKI,UAAW,GAAgC4T,GAAQ8P,aAA2BrQ,IAAa,QAAkB,UAAUtR,GAAgH,aAA9EnC,KAAKwG,cAAc+I,eAAe4S,gBAAgB,CAAClhB,UAAUjB,KAAKiB,aAAuCjB,KAAK+jB,iBAAiB5hB,GAAgBnC,KAAKgkB,iBAAiB7hB,EAAQ,IAAG,SAAS2hB,YAAYG,GAAM,OAAOxQ,GAAapT,MAAML,KAAKI,UAAW,GAAwB4T,GAAQgQ,kBAAgCtQ,IAAkB,QAAkB,UAAUvR,GAAQ,IAAG,UAAC4J,GAAW5J,EAAO+hB,GAAK,OAAyB/hB,EAAO4O,GAAeyR,QAAaxiB,KAAKwG,cAAc2d,WAAWzB,UAAU,IAAqBC,QAAsK,aAA/IH,EAAOmB,KAAK,kCAAkCO,EAAK,CAACrB,cAAc7iB,KAAKwG,cAAcic,sBAAsBK,qBAAqB,CAAC/W,eAA0B,IAAG,SAASiY,iBAAiBI,GAAM,OAAO1Q,GAAkBrT,MAAML,KAAKI,UAAW,GAA6B4T,GAAQ+P,kBAAgCpQ,IAAkB,QAAkB,UAAUxR,GAAQ,MAAM,IAAI,IAAiB,IAAG,SAAS4hB,iBAAiBM,GAAM,OAAO1Q,GAAkBtT,MAAML,KAAKI,UAAW,GAA6B4T,GAAQsQ,2BAAyC1Q,IAA2B,QAAkB,UAAUzR,GAAgH,aAA9EnC,KAAKwG,cAAc+I,eAAe4S,gBAAgB,CAAClhB,UAAUjB,KAAKiB,aAAuCjB,KAAKukB,+BAA+BpiB,GAAgBnC,KAAKwkB,+BAA+BriB,EAAQ,IAAG,SAASmiB,0BAA0BG,GAAM,OAAO7Q,GAA2BvT,MAAML,KAAKI,UAAW,GAAsC4T,GAAQwQ,gCAA8C3Q,IAAgC,QAAkB,UAAU1R,GAAQ,IAAG,UAAC4J,GAAW5J,EAAO+hB,GAAK,OAAyB/hB,EAAO6O,GAAgBwR,QAAaxiB,KAAKwG,cAAc2d,WAAWzB,UAAU,IAAqBC,QAA8K,aAAvJH,EAAOI,IAAI,oCAAoC,CAACzgB,OAAO+hB,EAAKrB,cAAc7iB,KAAKwG,cAAcic,sBAAsBK,qBAAqB,CAAC/W,eAA0B,IAAG,SAASyY,+BAA+BE,GAAM,OAAO7Q,GAAgCxT,MAAML,KAAKI,UAAW,GAA2C4T,GAAQuQ,gCAA8CzQ,IAAgC,QAAkB,UAAU3R,GAAQ,MAAM,IAAI,IAAiB,IAAG,SAASoiB,+BAA+BI,GAAM,OAAO7Q,GAAgCzT,MAAML,KAAKI,UAAW,GAA2C4T,GAAQ4Q,uBAAqC7Q,IAAuB,QAAkB,UAAU5R,GAAQ,MAAM,IAAI,IAAiB,IAAG,SAASyiB,sBAAsBC,GAAM,OAAO9Q,GAAuB1T,MAAML,KAAKI,UAAW,IAAyC,OAAa6Q,UAAW,CAAh0yB,CAA75L,SAASrQ,IAAe,OAAUkkB,mBAAmBlkB,GAAe,IAAIC,EAAOrB,aAAaslB,oBAAoB,SAASA,qBAAqB,OAAOjkB,EAAOR,MAAML,KAAKI,UAAW,CAAC,IAAiF2kB,EAAqPC,EAAsOC,EAAgOC,EAAiOC,EAAqhBC,EAAytCC,EAAobC,EAAwRC,EAAgPC,EAAsOC,EAAkRC,EAAoPC,EAAyaC,EAAypBC,EAAj8KrkB,EAAOsjB,mBAAmBtkB,UAA+nL,OAArnLgB,EAAOuf,oBAAkCgE,GAAoB,QAAkB,UAAUjE,GAAgB,OAAOA,EAAehc,IAAK,IAAG,SAASic,mBAAmB5c,GAAI,OAAO4gB,EAAoB1kB,MAAML,KAAKI,UAAW,GAA+BoB,EAAOskB,kBAAgCd,GAAkB,QAAkB,UAAUe,GAAS,MAAM,IAAI,IAAiB,IAAG,SAASD,iBAAiB1hB,GAAK,OAAO4gB,EAAkB3kB,MAAML,KAAKI,UAAW,GAA6BoB,EAAOwkB,iBAA+Bf,GAAiB,QAAkB,UAAUrmB,GAAS,MAAM,IAAI,IAAiB,IAAG,SAASonB,gBAAgB3gB,GAAK,OAAO4f,EAAiB5kB,MAAML,KAAKI,UAAW,GAA4BoB,EAAOykB,eAA6Bf,GAAe,QAAkB,UAAUrmB,GAAS,MAAM,IAAI,IAAiB,IAAG,SAASonB,cAAc3gB,GAAK,OAAO4f,EAAe7kB,MAAML,KAAKI,UAAW,GAA0BoB,EAAO0kB,wBAAsCf,GAAwB,QAAkB,UAAUzX,GAAY,IAAI1N,KAAKiM,QAAS,MAAM,IAAI/K,MAAM,gCAAiC,IAAI,IAAImL,QAAkBrM,KAAKsM,wBAAoH,UAA3EtM,KAAKiM,QAAQ6B,sBAAsB,CAACzB,cAAYwB,cAAcH,KAAuBtK,UAAW,MAAM,CAACwd,SAAQ,EAAO,CAAC,MAAM/W,GAAO,CAAC,MAAM,CAAC+W,SAAQ,EAAO,IAAG,SAASsF,uBAAuB1gB,GAAK,OAAO2f,EAAwB9kB,MAAML,KAAKI,UAAW,GAAmCoB,EAAO2kB,0BAAwCf,GAA0B,QAAkB,UAAUjjB,GAAQ,IAAqLikB,EAAkBC,EAAeC,EAAgBC,EAAlOC,GAAM,QAAoB,CAACC,YAAYtkB,EAAOqkB,SAAW,gBAACE,EAAe,cAACC,EAAa,aAACC,EAAY,mBAACC,GAAoB1kB,EAAWtC,EAAO,CAAC+gB,SAAQ,GAAWA,GAAQ,EAA4E,GAAG8F,IAAkB9F,EAAS,IAAIwF,QAAoBpmB,KAAK0mB,gBAAgBF,GAAO3mB,EAAOumB,cAAcA,EAAcxF,EAAQA,GAASwF,GAAexF,OAAQ,CAAC,MAAM/W,GAAO,CAAE,GAAG+c,IAAehG,EAAS,IAAIyF,QAAiBrmB,KAAK4mB,aAAaJ,GAAO3mB,EAAOwmB,WAAWA,EAAWzF,EAAQA,GAASyF,GAAYzF,OAAQ,CAAC,MAAM/W,GAAO,CAAE,GAAG8c,IAAgB/F,EAAS,IAAI0F,QAAkBtmB,KAAK2mB,cAAcH,GAAO3mB,EAAOymB,YAAYA,EAAY1F,EAAQA,GAAS0F,GAAa1F,OAAQ,CAAC,MAAM/W,GAAO,CAAE,GAAGgd,IAAqBjG,EAAS,IAAI2F,QAAuBvmB,KAAK6mB,mBAAmBL,GAAO3mB,EAAO0mB,iBAAiBA,EAAiB3F,EAAQA,GAAS2F,GAAkB3F,OAAQ,CAAC,MAAM/W,GAAO,CAAkC,OAAhChK,EAAO+gB,QAAQrgB,QAAQqgB,GAAe,CAAC/gB,SAAOinB,aAAaN,EAAO,IAAG,SAASL,yBAAyBzgB,GAAK,OAAO0f,EAA0B/kB,MAAML,KAAKI,UAAW,GAAqCoB,EAAOulB,+BAA6C1B,GAA+B,QAAkB,UAAUljB,GAAQ,IAAIqkB,GAAM,QAAoB,CAACC,YAAYtkB,EAAOqkB,QAAY9Y,EAAW,IAASsZ,eAAeR,GAAyD,MAAM,CAAC9Y,WAAzDA,GAAW,QAAoB,CAACuZ,KAAKvZ,IAAgC,IAAG,SAASqZ,8BAA8BnhB,GAAK,OAAOyf,EAA+BhlB,MAAML,KAAKI,UAAW,GAA0CoB,EAAO0lB,0BAAwC5B,GAA0B,QAAkB,WAAU,UAAC6B,IAAY,OAAOra,QAAQoB,QAAQ,CAAC0S,SAAQ,GAAO,IAAG,SAASsG,yBAAyB7Y,GAAK,OAAOiX,EAA0BjlB,MAAML,KAAKI,UAAW,GAAqCoB,EAAO4lB,mBAAiC7B,GAAmB,QAAkB,WAAU,KAAC/hB,IAAO,OAAO,QAAmBA,EAAM,IAAG,SAAS4jB,kBAAkBxY,GAAK,OAAO2W,EAAmBllB,MAAML,KAAKI,UAAW,GAA8BoB,EAAO6lB,mBAAiC7B,GAAmB,QAAkB,WAAU,KAAChiB,IAAO,OAAO,IAAK,IAAG,SAAS6jB,kBAAkB1Y,GAAM,OAAO6W,EAAmBnlB,MAAML,KAAKI,UAAW,GAA8BoB,EAAO8lB,4BAA0C7B,GAA4B,QAAkB,UAAUtjB,GAAQ,MAAM,IAAI,IAAiB,IAAG,SAASmlB,2BAA2BnY,GAAM,OAAOsW,EAA4BplB,MAAML,KAAKI,UAAW,GAAuCoB,EAAO+lB,qBAAmC7B,GAAqB,QAAkB,UAAUvjB,GAAQ,MAAM,IAAI,IAAiB,IAAG,SAASolB,oBAAoBnY,GAAM,OAAOsW,EAAqBrlB,MAAML,KAAKI,UAAW,GAAgCoB,EAAOgmB,mBAAiC7B,GAAmB,QAAkB,UAAUxjB,GAAgH,aAA9EnC,KAAKwG,cAAc+I,eAAe4S,gBAAgB,CAAClhB,UAAUjB,KAAKiB,aAAuCjB,KAAKynB,uBAAuBtlB,GAAgBnC,KAAK0nB,uBAAuBvlB,EAAQ,IAAG,SAASqlB,kBAAkBtY,GAAM,OAAOyW,EAAmBtlB,MAAML,KAAKI,UAAW,GAA8BoB,EAAOkmB,wBAAsC9B,GAAwB,QAAkB,UAAUzjB,GAAQ,IAAIwlB,EAAmBnF,QAAaxiB,KAAKwG,cAAc8c,aAAaZ,UAAU,IAAqBC,QAAgU,aAAzSH,EAAOmB,KAAK,kCAAkC,IAAMxhB,EAAO,CAAC,WAAW,YAAY,WAAW,CAAC0gB,cAAc7iB,KAAKwG,cAAcic,sBAAsBK,qBAAqB,CAAC/W,UAAU5J,EAAO4J,UAAU3J,SAASD,EAAOC,WAAW2gB,OAAuC,OAA/B4E,EAAexlB,EAAO4gB,QAAc4E,OAAexZ,GAAwB,IAAG,SAASuZ,uBAAuBhY,GAAM,OAAOkW,EAAwBvlB,MAAML,KAAKI,UAAW,GAAmCoB,EAAOimB,wBAAsC5B,GAAwB,QAAkB,UAAU1jB,GAAQ,MAAM,IAAI,IAAiB,IAAG,SAASslB,uBAAuB5X,GAAM,OAAOgW,EAAwBxlB,MAAML,KAAKI,UAAW,IAA0C,OAAa0kB,mBAAoB,CAAx3L,CAA03L,K,oGCApnR8C,EAAa,WAAW,SAASA,aAAa5mB,GAAuQ,GAA9PhB,KAAKgB,QAAQA,EAAQhB,KAAKiB,UAAUD,EAAQC,WAAW,GAAGjB,KAAK+L,UAAU/K,EAAQ+K,WAAW,GAAG/L,KAAKwG,cAAcxF,EAAQwF,cAAcxG,KAAKoC,SAASpB,EAAQoB,WAAWpC,KAAK+L,UAAU,IAAa8b,yBAAyB,CAAC9b,UAAU/L,KAAK+L,YAAY,KAAQ/L,KAAKoC,WAAWpC,KAAKgB,QAAQqT,YAAa,MAAM,IAAInT,MAAM,+BAAiC,CAAC,IAAqE4mB,EAAkMC,EAA4XC,EAAwRC,EAAyPC,EAAuPC,EAA8PC,EAAmjBC,EAAsKC,EAA91E9mB,EAAOomB,aAAapnB,UAAi8E,OAAv7EgB,EAAO+mB,cAA4BT,GAAc,QAAkB,YAAY,OAAO9nB,KAAKiB,SAAU,IAAG,SAASsnB,eAAe,OAAOT,EAAcznB,MAAML,KAAKI,UAAW,GAAyBoB,EAAOyY,YAA0B8N,GAAY,QAAkB,WAAU,OAACS,GAAQ,CAAC,GAAG,IAAIA,IAASxoB,KAAKyoB,UAAUzoB,KAAKyoB,SAAS/kB,KAAK1D,KAAKiB,UAAU,CAAC,IAAIwI,QAAczJ,KAAKwG,cAAc+I,eAAe0K,WAAW,CAAChZ,UAAUjB,KAAKiB,YAAYjB,KAAKyoB,SAAShf,CAAQ,CAAC,OAAOzJ,KAAKyoB,QAAS,IAAG,SAASxO,aAAa,OAAO8N,EAAY1nB,MAAML,KAAKI,UAAW,GAAuBoB,EAAOknB,mBAAiCV,GAAmB,QAAkB,WAAU,IAACW,GAAI,GAAO,CAAC,GAAG,OAAO,KAAaD,kBAAkB,CAACznB,UAAUjB,KAAKiB,UAAU0nB,OAAM,IAAG,SAASD,oBAAoB,OAAOV,EAAmB3nB,MAAML,KAAKI,UAAW,GAA8BoB,EAAOgf,gBAA8ByH,GAAgB,QAAkB,YAAY,OAAO,KAAazH,eAAe,CAACvf,UAAUjB,KAAKiB,WAAY,IAAG,SAASuf,iBAAiB,OAAOyH,EAAgB5nB,MAAML,KAAKI,UAAW,GAA2BoB,EAAOoB,kBAAgCslB,GAAmB,QAAkB,YAAY,OAAO,QAAkB,CAACjnB,UAAUjB,KAAKiB,WAAY,IAAG,SAAS2B,mBAAmB,OAAOslB,EAAmB7nB,MAAML,KAAKI,UAAW,GAA6BoB,EAAOwe,gBAA8BmI,GAAgB,QAAkB,YAAY,OAAO,QAA4B,CAAClnB,UAAUjB,KAAKiB,WAAY,IAAG,SAAS+e,iBAAiB,OAAOmI,EAAgB9nB,MAAML,KAAKI,UAAW,GAA2BoB,EAAO8K,uBAAqC8b,GAAuB,QAAkB,YAAY,IAAI3e,QAAczJ,KAAKia,aAAiB5N,QAAkBrM,KAAKggB,kBAAoB,cAAC4I,EAAa,MAACC,GAAOxc,EAAgByc,QAAkB9oB,KAAKwgB,iBAAqBuI,QAAc/oB,KAAK0oB,kBAAkB,CAACC,KAAI,KAAW,UAACK,GAAWvf,GAAW,UAACxI,GAAWjB,KAAK,MAAM,CAACgpB,YAAUC,iBAAiBxf,EAAQyf,KAAKH,UAAQ9nB,YAAU6nB,cAAYF,gBAAcC,QAAO,IAAG,SAASvc,wBAAwB,OAAO8b,EAAuB/nB,MAAML,KAAKI,UAAW,GAAkCoB,EAAO2nB,WAAyBd,GAAW,QAAkB,YAAY,MAAM,EAAG,IAAG,SAASc,YAAY,OAAOd,EAAWhoB,MAAML,KAAKI,UAAW,GAAsBoB,EAAO4nB,SAAuBd,GAAS,QAAkB,YAAY,IAAG,SAASc,UAAU,OAAOd,EAASjoB,MAAML,KAAKI,UAAW,IAA2B,OAAawnB,aAAc,CAAn4F,E,+ZCA3G,SAASpoB,aAAaC,GAAS,IAAIC,EAA0BC,4BAA4B,OAAO,SAASC,uBAAuB,IAAmCC,EAA/BC,GAAM,OAAgBL,GAAgB,GAAGC,EAA0B,CAAC,IAAIK,GAAU,OAAgBC,MAAMC,YAAYJ,EAAOK,QAAQC,UAAUL,EAAMM,UAAUL,EAAW,MAAMF,EAAOC,EAAMO,MAAML,KAAKI,WAAY,OAAO,OAA2BJ,KAAKH,EAAQ,CAAE,CAAC,SAASF,4BAA4B,IAAI,IAAIW,GAAGC,QAAQC,UAAUC,QAAQC,KAAKR,QAAQC,UAAUI,QAAQ,IAAG,WAAW,IAAI,CAAC,MAAMD,GAAG,CAAC,OAAOX,0BAA0B,WAAW,QAAQW,CAAE,IAAK,CAAgI,IAAI+oB,EAAgB,SAASC,IAAsB,OAAUD,gBAAgBC,GAAsB,IAAIzoB,EAAOrB,aAAa6pB,iBAAiB,SAASA,kBAAkB,OAAOxoB,EAAOR,MAAML,KAAKI,UAAW,CAAC,IAAIoB,EAAO6nB,gBAAgB7oB,UAA4K,OAAlKgB,EAAOkF,YAAY,SAASA,YAAYvE,GAAQ,MAAM,IAAI,IAAiB,EAAEX,EAAOkL,gBAAgB,SAASA,gBAAgBvK,GAAQ,MAAM,IAAI,IAAiB,GAAS,OAAaknB,gBAAiB,CAApa,C,UAAsa,G,gHCA1pCE,EAAiB,SAASA,GAAmG,OAAjFA,EAAyB,OAAE,SAASA,EAA8B,YAAE,aAAoBA,CAAiB,CAApI,CAAsI,CAAC,GAAcC,EAAY,SAASA,GAAinB,OAApmBA,EAA8B,iBAAE,kBAAkBA,EAA4B,eAAE,eAAeA,EAAwB,WAAE,YAAYA,EAA8B,iBAAE,iBAAiBA,EAAyC,4BAAE,0BAA0BA,EAAsB,SAAE,UAAUA,EAAkC,qBAAE,mBAAmBA,EAA4C,+BAAE,8BAA8BA,EAA6B,gBAAE,iBAAiBA,EAAoD,uCAAE,oCAAoCA,EAAmC,sBAAE,qBAA4BA,CAAY,CAA7oB,CAA+oB,CAAC,GAAknG,QAA3jG,WAAW,SAASC,WAAU,UAACxoB,EAAS,cAACuF,IAAgBxG,KAAKiB,UAAUA,EAAUjB,KAAKwG,cAAcA,CAAc,CAAC,IAAuFkjB,EAA0fC,EAA8gBC,EAA0iBC,EAAqdC,EAAmfC,EAA7kFvoB,EAAOioB,UAAUjpB,UAA+4F,OAAr4FgB,EAAOwoB,mCAAiDN,GAAmC,QAAkB,UAAUO,GAAY,IAAIC,SAAgBlqB,KAAKwG,cAAcic,sBAAsB0H,iBAAiB,CAAClpB,UAAUjB,KAAKiB,UAAUmpB,KAAK,CAAC,CAACC,MAAM,MAAMloB,OAAO,CAACmoB,OAAOd,EAAYe,uCAAuCpoB,OAAO,CAAC8nB,QAAiB,OAAOC,CAAS,IAAG,SAASF,kCAAkC7lB,GAAI,OAAOulB,EAAmCrpB,MAAML,KAAKI,UAAW,GAA8CoB,EAAOgpB,oBAAkCb,GAAoB,QAAkB,YAAY,IAAIO,SAAgBlqB,KAAKwG,cAAcic,sBAAsB0H,iBAAiB,CAAClpB,UAAUjB,KAAKiB,UAAUmpB,KAAK,CAAC,CAACC,MAAM,MAAMloB,OAAO,CAACmoB,OAAOd,EAAYiB,sBAAsBtoB,OAAO,CAAC,CAACuoB,WAAW,mBAAmB,MAAM,CAACC,gBAAgBT,EAASlrB,MAAM4rB,UAAUC,qBAAqBX,EAASlrB,MAAM6rB,qBAAsB,IAAG,SAASL,qBAAqB,OAAOb,EAAoBtpB,MAAML,KAAKI,UAAW,GAA+BoB,EAAOspB,yBAAuClB,GAAyB,QAAkB,WAAU,QAAC/qB,EAAO,UAACksB,EAAU,OAAmB,IAAIb,SAAgBlqB,KAAKwG,cAAcic,sBAAsB0H,iBAAiB,CAAClpB,UAAUjB,KAAKiB,UAAUmpB,KAAK,CAAC,CAACC,MAAM,MAAMloB,OAAO,CAACmoB,OAAOd,EAAYwB,4BAA4B7oB,OAAO,CAACtD,EAAQ,CAACksB,UAAUA,EAAUE,YAAY,CAACC,SAAS3B,EAAiB4B,mBAAmB,OAAOjB,EAASlrB,KAAM,IAAG,SAAS8rB,wBAAwB1mB,GAAK,OAAOwlB,EAAyBvpB,MAAML,KAAKI,UAAW,GAAoCoB,EAAO4pB,gBAA8BvB,GAAgB,QAAkB,WAAU,QAAChrB,EAAO,SAACqsB,EAAS3B,EAAiB4B,cAAc,IAAIjB,SAAgBlqB,KAAKwG,cAAcic,sBAAsB0H,iBAAiB,CAAClpB,UAAUjB,KAAKiB,UAAUmpB,KAAK,CAAC,CAACC,MAAM,MAAMloB,OAAO,CAACmoB,OAAOd,EAAY6B,iBAAiBlpB,OAAO,CAACtD,EAAQ,CAACqsB,kBAAgB,OAAOhB,EAASlrB,KAAM,IAAG,SAASosB,eAAe/lB,GAAK,OAAOwkB,EAAgBxpB,MAAML,KAAKI,UAAW,GAA2BoB,EAAO8pB,6BAA2CxB,GAA6B,QAAkB,UAAUyB,GAAkB,IAAIrB,SAAgBlqB,KAAKwG,cAAcic,sBAAsB0H,iBAAiB,CAAClpB,UAAUjB,KAAKiB,UAAUmpB,KAAK,CAAC,CAACC,MAAM,MAAMloB,OAAO,CAACmoB,OAAOd,EAAYgC,+BAA+BrpB,OAAO,CAACopB,QAAuB,OAAOrB,CAAS,IAAG,SAASoB,4BAA4BhmB,GAAK,OAAOwkB,EAA6BzpB,MAAML,KAAKI,UAAW,GAAwCoB,EAAOiqB,gCAA8C1B,GAAgC,QAAkB,UAAU3T,GAAgB,IAAIsV,QAAW1rB,KAAKsrB,4BAA4BlV,GAAgB,OAAO,IAAK,IAAKsV,EAAK,uBAAuB,CAAE,IAAG,SAASD,+BAA+BjmB,GAAK,OAAOukB,EAAgC1pB,MAAML,KAAKI,UAAW,IAAkD,OAAaqpB,UAAW,CAAvjG,G,uBCApyBkC,EAA0B,IAAI,KAAU,+CAA0DC,EAAoB,IAAI,KAAU,+CAA4SC,GAA5N,IAAI,KAAU,+CAAwO,cAAuI,SAASC,gBAAgBC,GAAM,OAAO,KAAUC,uBAAuB,CAACC,EAAO7T,KAAK,YAAYuT,EAA0BO,WAAWH,EAAKG,YAAYP,GAA2B,EAAG,CAAQ,SAASQ,mBAAmBJ,EAAKvQ,GAAO,OAAO,KAAUwQ,uBAAuB,CAACC,EAAO7T,KAAK,YAAYuT,EAA0BO,WAAWH,EAAKG,WAAWD,EAAO7T,KAAK,gBAAgBoD,EAAM0Q,YAAYP,GAA2B,EAAG,CAAQ,SAASS,qBAAqBL,GAAM,OAAO,KAAUC,uBAAuB,CAACC,EAAO7T,KAAK,YAAYuT,EAA0BO,WAAWH,EAAKG,WAAWD,EAAO7T,KAAK,YAAYuT,GAA2B,EAAG,CAAQ,SAASU,oBAAoBloB,GAAI,OAAOmoB,qBAAqBjsB,MAAML,KAAKI,UAAW,CAAC,SAASksB,uBAAquC,OAA9sCA,sBAAqB,QAAkB,WAAU,SAACC,EAAQ,OAAC/J,IAAS,IAAmXjb,EAA/WilB,EAAQ,GAAOC,EAAa,GAAOC,EAA4B,KAASC,EAA2B,GAA48B,OAA96BJ,aAAoB,MAAgDC,EAAQP,EAAO7T,KAAKmU,EAASC,QAAQI,aAAa3B,SAAS,UAAU0B,QAAiC7f,QAAQC,IAAIwf,EAASC,QAAQK,oBAAoB7f,KAAmBzF,GAAK,QAAkB,UAAUulB,GAAQ,IAAIvO,QAAkBiE,EAAO4I,eAAe,CAACvsB,QAAQiuB,EAAOC,WAAW9B,WAAWC,SAAS3B,EAAiByD,SAAS,IAAIzO,EAAa,MAAM,IAAIrd,MAAM,qBAAsB,OAAO,IAAI,KAA0B,CAACnC,IAAI+tB,EAAOC,WAAWE,MAAM,KAA0BC,YAAYjB,EAAO7T,KAAKmG,EAAYnC,KAAK,GAAGmC,EAAYnC,KAAK,MAAO,IAAU,SAAShY,GAAK,OAAOmD,EAAKlH,MAAML,KAAKI,UAAW,KAAgHqsB,GAAxGC,EAA4B,KAAmBS,UAAUZ,EAASC,QAAQ,CAACG,gCAAsEF,eAAmBD,EAAQD,EAASa,iBAAiBR,YAAY3B,SAAS,UAAUwB,EAAaF,EAASE,cAAoB,CAACA,eAAaD,UAAQG,6BAA2BD,8BAA6B,IAAUJ,qBAAqBjsB,MAAML,KAAKI,UAAW,CAAo5B,SAASitB,gBAAgBxY,EAAUqW,EAAS,QAAQ,IAAIrW,EAAW,OAAO/H,QAAQoB,QAAQ,MAAO,IAAIof,EAAOrB,EAAOsB,MAAM,GAAiB,WAAXrC,EAAqBoC,EAAOrB,EAAO7T,KAAKvD,EAAU,UAA8B,SAAXqW,IAAmBoC,EAAO,WAAYzY,IAAY,IAAI,OAAO/H,QAAQoB,QAAQ,KAAYkK,KAAKkV,GAAS,CAAC,MAAMnjB,GAAG,OAAO2C,QAAQoB,QAAQ,KAAqBgf,YAAYI,GAAS,CAAC,C,uBCA1wH,SAASpjB,QAAQC,EAAE3C,GAAG,IAAIlH,EAAErB,OAAOmL,KAAKD,GAAG,GAAGlL,OAAOoL,sBAAsB,CAAC,IAAIC,EAAErL,OAAOoL,sBAAsBF,GAAG3C,IAAI8C,EAAEA,EAAEC,QAAO,SAAS/C,GAAG,OAAOvI,OAAOuL,yBAAyBL,EAAE3C,GAAGiD,UAAW,KAAInK,EAAEyD,KAAK1D,MAAMC,EAAEgK,EAAG,CAAC,OAAOhK,CAAE,CAAwY,SAAS,4BAAab,GAAS,IAAIC,EAA0B,2CAA4B,OAAO,SAASE,uBAAuB,IAAmCC,EAA/BC,GAAM,OAAgBL,GAAgB,GAAGC,EAA0B,CAAC,IAAIK,GAAU,OAAgBC,MAAMC,YAAYJ,EAAOK,QAAQC,UAAUL,EAAMM,UAAUL,EAAW,MAAMF,EAAOC,EAAMO,MAAML,KAAKI,WAAY,OAAO,OAA2BJ,KAAKH,EAAQ,CAAE,CAAC,SAAS,2CAA4B,IAAI,IAAIS,GAAGC,QAAQC,UAAUC,QAAQC,KAAKR,QAAQC,UAAUI,QAAQ,IAAG,WAAW,IAAI,CAAC,MAAMD,GAAG,CAAC,OAAO,yCAA0B,WAAW,QAAQA,CAAE,IAAK,CAA0oB,IAAIktB,EAAgB,SAASC,IAAsB,OAAUD,gBAAgBC,GAAsB,IAAI5sB,EAAO,4BAAa2sB,iBAAiB,SAASA,mBAAmBtnB,GAAM,IAAInF,EAAiG,OAA3FA,EAAMF,EAAOH,KAAKV,QAAQkG,IAAY+F,QAAQyhB,EAAA,EAAaC,IAAI9rB,GAAGd,EAAMkI,aAAa,MAAalI,CAAM,CAAC,IAAkGQ,EAAuWqsB,EAAg+C7d,EAAr6DvO,EAAOgsB,gBAAgBhtB,UAAy6G,OAA/5GgB,EAAOmE,wCAAsDpE,GAAwC,QAAkB,UAAUY,GAAQ,MAAM,CAACsH,QAAQzJ,KAAKiJ,aAAa7J,KAAK+C,EAAO/C,KAAKyuB,cAAa,EAAO,IAAG,SAASloB,uCAAuCxB,GAAI,OAAO5C,EAAwClB,MAAML,KAAKI,UAAW,GAAmDoB,EAAOsF,iBAA+B8mB,GAAiB,QAAkB,UAAUzrB,GAAQ,IAA6IoF,EAAzI6F,EAAOpN,KAAgD,aAAzBA,KAAK0oB,oBAA2B1oB,KAAKkC,4BAA4BC,EAAO,CAACW,oBAAkCyE,GAAK,QAAkB,WAAU,YAACxE,IAA8wB,IAAhwB,IAA6GwL,EAAzGuf,QAAiB1gB,EAAOtE,8BAA8B,CAAC3G,SAAOY,cAAYgG,iBAA+BwF,GAAM,QAAkB,WAAU,UAACpG,EAAS,SAACC,EAAQ,SAAChK,EAAQ,WAACkK,EAAU,WAACC,EAAU,SAACF,EAAQ,eAACG,IAAiB,IAAwGulB,QAAyB3gB,EAAOpE,6BAA6B,CAAC7G,SAAOY,cAAYmG,UAAvK,SAAS8kB,GAAG,OAAOC,EAAA,EAAaC,sBAAsB,CAAC9vB,WAAS0F,MAAMkqB,EAAElqB,OAAQ,EAA+GqF,mBAAmB,UAAS,QAACvK,IAAU,MAAM,CAACQ,KAAKR,EAAQQ,KAAKP,QAAQD,EAAQ+K,SAAS9K,SAAS,GAAI,EAAEoK,aAAamE,EAAOnE,eAAe,GAAG8kB,EAAoB,OAAOA,EAAoB,MAAM,IAAI7sB,MAAM,uCAAwC,IAAU,SAAS6H,gBAAgBzD,GAAK,OAAOiJ,EAAMlO,MAAML,KAAKI,UAAW,KAAY6C,EAAI,GAAWqU,EAAE,EAAEA,EAAEwW,EAAW3qB,OAAOmU,GAAG,EAAE,CAAC,IAAI9N,EAAKskB,EAAWxW,IAAM,KAAClY,EAAI,QAACP,GAAS2K,GAAQ,kBAAC2kB,SAAyB/gB,EAAOtM,MAAM4lB,gBAAgB7nB,GAAS,IAAQuvB,EAAY,CAACvvB,QAAQsvB,GAAmBtvB,GAAS,GAAGO,OAAKgE,UAAU,IAAIH,EAAIc,KAAKqqB,EAAa,CAAC,OAAOnrB,CAAI,IAAU,SAASH,mBAAmBuC,GAAK,OAAOkC,EAAKlH,MAAML,KAAKI,UAAW,IAAQ,IAAG,SAAS0G,gBAAgB1C,GAAK,OAAOwpB,EAAiBvtB,MAAML,KAAKI,UAAW,GAA4BoB,EAAOkL,iBAA+BqD,GAAiB,QAAkB,UAAU5N,GAAQ,IAAG,WAAC+J,EAAU,aAAClE,GAAc7F,GAAU,SAACksB,GAAUniB,EAAWvC,QAAY2kB,EAAkB,IAAI,KAAUD,GAAcxZ,EAAU3I,EAAW2I,UAAc0Z,QAAUvuB,KAAKsH,yBAA6BlI,QAAWY,KAAKc,MAAM+f,kBAAoB,mBAAC2N,EAAkB,SAACvmB,IAAU,QAAeD,IAAiB,UAACG,EAAS,SAACC,GAAUH,EAAawmB,QAAkBpB,gBAAgBxY,GAAW,IAAI4Z,EAAa,MAAM,IAAIvtB,MAAMwtB,EAAAve,EAAUC,KAAKC,cAAc,CAAC3M,GAAG,EAAA4M,cAAcqe,wCAAyC,IAAIC,EAAuBH,aAAuB,KAAyB5uB,QAAa,SAAsB,QAAkB,YAAY,OAAO0uB,EAAIM,mBAAmB1mB,EAAUC,EAAngJ,SAASsC,cAAcP,GAAG,IAAI,IAAI3C,EAAE,EAAEA,EAAEpH,UAAU+C,OAAOqE,IAAI,CAAC,IAAIlH,EAAE,MAAMF,UAAUoH,GAAGpH,UAAUoH,GAAG,CAAC,EAAEA,EAAE,EAAE0C,QAAQjL,OAAOqB,IAAG,GAAIqK,SAAQ,SAASnD,IAAG,OAAgB2C,EAAE3C,EAAElH,EAAEkH,GAAI,IAAGvI,OAAO2L,0BAA0B3L,OAAO4L,iBAAiBV,EAAElL,OAAO2L,0BAA0BtK,IAAI4J,QAAQjL,OAAOqB,IAAIqK,SAAQ,SAASnD,GAAGvI,OAAO6L,eAAeX,EAAE3C,EAAEvI,OAAOuL,yBAAyBlK,EAAEkH,GAAI,GAAG,CAAC,OAAO2C,CAAE,CAAsoIO,CAAc,CAACtL,OAAK0vB,MAAMF,EAAuB,EAAOxW,KAAKqW,EAAYjC,QAAQI,aAAa3B,SAAS,OAAOwD,EAAYM,mBAAmB9D,SAAS,QAAQuD,GAAqB,MAAO,UAACQ,GAAWnvB,EAAO,GAAGmvB,EAAoF,OAAzEP,EAAYQ,aAAaX,EAAkB,EAAOlW,KAAK4W,EAAU,QAAc,CAACra,KAAK,WAAY,EAAOyD,KAAK4W,EAAU,QAAQna,YAAUia,MAAM,EAAO1W,KAAKqW,EAAY7B,UAAU,CAACsC,sBAAqB,KAASjE,SAAS,WAAY,MAAM,IAAI/pB,MAAMwtB,EAAAve,EAAUC,KAAKC,cAAc,CAAC3M,GAAG,EAAA4M,cAAc6e,sCAAuC,IAAG,SAASziB,gBAAgBlH,GAAK,OAAOuK,EAAiB1P,MAAML,KAAKI,UAAW,GAA4BoB,EAAOkF,YAAY,SAASA,YAAYvE,GAAQ,MAAM,IAAI,KAAeusB,EAAAve,EAAUC,KAAKC,cAAc,CAAC3M,GAAG,EAAA4M,cAAc8e,uCAAwC,GAAS,OAAa5B,gBAAiB,CAAtvH,CAAwvHxmB,EAAA,GCA9oL,SAAS,sBAAavH,GAAS,IAAIC,EAA0B,qCAA4B,OAAO,SAASE,uBAAuB,IAAmCC,EAA/BC,GAAM,OAAgBL,GAAgB,GAAGC,EAA0B,CAAC,IAAIK,GAAU,OAAgBC,MAAMC,YAAYJ,EAAOK,QAAQC,UAAUL,EAAMM,UAAUL,EAAW,MAAMF,EAAOC,EAAMO,MAAML,KAAKI,WAAY,OAAO,OAA2BJ,KAAKH,EAAQ,CAAE,CAAC,SAAS,qCAA4B,IAAI,IAAIS,GAAGC,QAAQC,UAAUC,QAAQC,KAAKR,QAAQC,UAAUI,QAAQ,IAAG,WAAW,IAAI,CAAC,MAAMD,GAAG,CAAC,OAAO,mCAA0B,WAAW,QAAQA,CAAE,IAAK,CAA+H,IAAI+uB,GAAU,SAASC,IAAgB,OAAUD,UAAUC,GAAgB,IAAIzuB,EAAO,sBAAawuB,WAAW,SAASA,aAAanpB,GAAM,IAAInF,EAAwE,OAAlEA,EAAMF,EAAOH,KAAKV,QAAQkG,IAAY+F,QAAQyhB,EAAA,EAAaC,IAAI9rB,GAAUd,CAAM,CAAC,IAAoEwuB,EAAwO3B,EAAgP7d,EAA0OC,EAAkO1O,EAAp+BE,EAAO6tB,UAAU7uB,UAAmsC,OAAzrCgB,EAAOoO,gBAA8B2f,GAAgB,QAAkB,UAAUptB,GAAQ,OAAOnC,KAAK2P,mBAAmBxN,EAAQ,IAAG,SAASyN,eAAezL,GAAI,OAAOorB,EAAgBlvB,MAAML,KAAKI,UAAW,GAA2BoB,EAAOsF,iBAA+B8mB,GAAiB,QAAkB,UAAUzrB,GAAQ,OAAOnC,KAAKsO,sBAAsBnM,EAAQ,IAAG,SAAS2E,gBAAgB1C,GAAK,OAAOwpB,EAAiBvtB,MAAML,KAAKI,UAAW,GAA4BoB,EAAOkL,iBAA+BqD,GAAiB,QAAkB,UAAU5N,GAAQ,OAAOnC,KAAK2M,oBAAoBxK,EAAQ,IAAG,SAASuK,gBAAgBrH,GAAK,OAAO0K,EAAiB1P,MAAML,KAAKI,UAAW,GAA4BoB,EAAOkF,aAA2BsJ,GAAa,QAAkB,UAAU7N,GAAQ,OAAOnC,KAAK4M,gBAAgBzK,EAAQ,IAAG,SAASuE,YAAYpB,GAAK,OAAO0K,EAAa3P,MAAML,KAAKI,UAAW,GAAwBoB,EAAOiE,yBAAuCnE,GAAyB,QAAkB,UAAUa,GAAQ,OAAOnC,KAAKqP,4BAA4BlN,EAAQ,IAAG,SAASsD,wBAAwBD,GAAK,OAAOlE,EAAyBjB,MAAML,KAAKI,UAAW,IAA2C,OAAaivB,UAAW,CAA78C,C,UAA+8C,GCArqE,SAAS,4BAAa5vB,GAAS,IAAIC,EAA0B,2CAA4B,OAAO,SAASE,uBAAuB,IAAmCC,EAA/BC,GAAM,OAAgBL,GAAgB,GAAGC,EAA0B,CAAC,IAAIK,GAAU,OAAgBC,MAAMC,YAAYJ,EAAOK,QAAQC,UAAUL,EAAMM,UAAUL,EAAW,MAAMF,EAAOC,EAAMO,MAAML,KAAKI,WAAY,OAAO,OAA2BJ,KAAKH,EAAQ,CAAE,CAAC,SAAS,2CAA4B,IAAI,IAAIS,GAAGC,QAAQC,UAAUC,QAAQC,KAAKR,QAAQC,UAAUI,QAAQ,IAAG,WAAW,IAAI,CAAC,MAAMD,GAAG,CAAC,OAAO,yCAA0B,WAAW,QAAQA,CAAE,IAAK,CAA2I,IAAIkvB,GAAgB,SAASC,IAAsB,OAAUD,gBAAgBC,GAAsB,IAAI5uB,EAAO,4BAAa2uB,iBAAiB,SAASA,mBAAmBtpB,GAAM,IAAInF,EAA8E,OAAxEA,EAAMF,EAAOH,KAAKV,QAAQkG,IAAY+F,QAAQyhB,EAAA,EAAaC,IAAIhsB,SAAgBZ,CAAM,CAAC,IAA0EwuB,EAAwO3B,EAAsP7d,EAA0OC,EAAkO1O,EAAh/BE,EAAOguB,gBAAgBhvB,UAAysC,OAA/rCgB,EAAOoO,gBAA8B2f,GAAgB,QAAkB,UAAUptB,GAAQ,OAAOnC,KAAK2P,mBAAmBxN,EAAQ,IAAG,SAASyN,eAAezL,GAAI,OAAOorB,EAAgBlvB,MAAML,KAAKI,UAAW,GAA2BoB,EAAOsF,iBAA+B8mB,GAAiB,QAAkB,UAAUzrB,GAAQ,OAAOnC,KAAKsN,4BAA4BnL,EAAQ,IAAG,SAAS2E,gBAAgB1C,GAAK,OAAOwpB,EAAiBvtB,MAAML,KAAKI,UAAW,GAA4BoB,EAAOkL,iBAA+BqD,GAAiB,QAAkB,UAAU5N,GAAQ,OAAOnC,KAAK2M,oBAAoBxK,EAAQ,IAAG,SAASuK,gBAAgBrH,GAAK,OAAO0K,EAAiB1P,MAAML,KAAKI,UAAW,GAA4BoB,EAAOkF,aAA2BsJ,GAAa,QAAkB,UAAU7N,GAAQ,OAAOnC,KAAK4M,gBAAgBzK,EAAQ,IAAG,SAASuE,YAAYpB,GAAK,OAAO0K,EAAa3P,MAAML,KAAKI,UAAW,GAAwBoB,EAAOiE,yBAAuCnE,GAAyB,QAAkB,UAAUa,GAAQ,OAAOnC,KAAKqP,4BAA4BlN,EAAQ,IAAG,SAASsD,wBAAwBD,GAAK,OAAOlE,EAAyBjB,MAAML,KAAKI,UAAW,IAA2C,OAAaovB,gBAAiB,CAAngD,C,UAAqgD,G,YCAhsE,SAAS,4BAAa/vB,GAAS,IAAIC,EAA0B,2CAA4B,OAAO,SAASE,uBAAuB,IAAmCC,EAA/BC,GAAM,OAAgBL,GAAgB,GAAGC,EAA0B,CAAC,IAAIK,GAAU,OAAgBC,MAAMC,YAAYJ,EAAOK,QAAQC,UAAUL,EAAMM,UAAUL,EAAW,MAAMF,EAAOC,EAAMO,MAAML,KAAKI,WAAY,OAAO,OAA2BJ,KAAKH,EAAQ,CAAE,CAAC,SAAS,2CAA4B,IAAI,IAAIS,GAAGC,QAAQC,UAAUC,QAAQC,KAAKR,QAAQC,UAAUI,QAAQ,IAAG,WAAW,IAAI,CAAC,MAAMD,GAAG,CAAC,OAAO,yCAA0B,WAAW,QAAQA,CAAE,IAAK,CAAwE,IAAIovB,GAAgB,SAASC,IAAsB,OAAUD,gBAAgBC,GAAsB,IAAoL/B,EAAhL/sB,EAAO,4BAAa6uB,iBAAiB,SAASA,kBAAkB,OAAO7uB,EAAOR,MAAML,KAAKI,UAAW,CAA8V,OAAlVsvB,gBAAgBlvB,UAAiBsG,iBAA+B8mB,GAAiB,QAAkB,UAAUzrB,GAAQ,OAAO,SAAK,OAAgButB,gBAAgBlvB,WAAW,oCAAoCR,MAAMU,KAAKV,KAAKmC,EAAQ,IAAG,SAAS2E,gBAAgB3C,GAAI,OAAOypB,EAAiBvtB,MAAML,KAAKI,UAAW,IAAmC,OAAasvB,gBAAiB,CAA1jB,C,QAA4jB,G,aCA95C,SAAS,2BAAQvlB,EAAE3C,GAAG,IAAIlH,EAAErB,OAAOmL,KAAKD,GAAG,GAAGlL,OAAOoL,sBAAsB,CAAC,IAAIC,EAAErL,OAAOoL,sBAAsBF,GAAG3C,IAAI8C,EAAEA,EAAEC,QAAO,SAAS/C,GAAG,OAAOvI,OAAOuL,yBAAyBL,EAAE3C,GAAGiD,UAAW,KAAInK,EAAEyD,KAAK1D,MAAMC,EAAEgK,EAAG,CAAC,OAAOhK,CAAE,CAAC,SAAS,gCAAc6J,GAAG,IAAI,IAAI3C,EAAE,EAAEA,EAAEpH,UAAU+C,OAAOqE,IAAI,CAAC,IAAIlH,EAAE,MAAMF,UAAUoH,GAAGpH,UAAUoH,GAAG,CAAC,EAAEA,EAAE,EAAE,2BAAQvI,OAAOqB,IAAG,GAAIqK,SAAQ,SAASnD,IAAG,OAAgB2C,EAAE3C,EAAElH,EAAEkH,GAAI,IAAGvI,OAAO2L,0BAA0B3L,OAAO4L,iBAAiBV,EAAElL,OAAO2L,0BAA0BtK,IAAI,2BAAQrB,OAAOqB,IAAIqK,SAAQ,SAASnD,GAAGvI,OAAO6L,eAAeX,EAAE3C,EAAEvI,OAAOuL,yBAAyBlK,EAAEkH,GAAI,GAAG,CAAC,OAAO2C,CAAE,CAA+H,IAAIylB,GAAmB,WAAW,SAASA,mBAAmBC,GAAK7vB,KAAK8vB,IAAI,IAAIC,GAAA,EAAeF,EAAK,CAAC,IAAsEG,EAAuWze,EAAza/P,EAAOouB,mBAAmBpvB,UAAssB,OAA5rBgB,EAAOyuB,SAAuBD,GAAS,QAAkB,YAAY,IAAIE,EAAUC,SAAUnwB,KAAK8vB,IAAIM,UAAU,CAAC,CAAC5G,EAAY6G,eAAe,IAAI,CAAC7G,EAAY8G,WAAW,MAA4D,MAAM,CAACC,gBAApDL,EAAUM,aAA+DC,QAAjC,OAALN,EAA+C,IAAG,SAASF,UAAU,OAAOD,EAAS3vB,MAAML,KAAKI,UAAW,GAAoBoB,EAAOiT,sBAAoClD,GAAsB,QAAkB,UAAUud,EAAM9tB,GAAS,OAAOhB,KAAK8vB,IAAIpvB,KAAK8oB,EAAYkH,iBAAiB,CAAC5B,EAAM,gCAAc,CAAC5D,SAAS3B,EAAiByD,QAAQhsB,GAAS,CAAC,IAAK,IAAG,SAASyT,qBAAqBtQ,EAAGC,GAAK,OAAOmN,EAAsBlR,MAAML,KAAKI,UAAW,IAAwC,OAAawvB,mBAAoB,CAA11B,G,oBCAxe,SAAS,cAAQzlB,EAAE3C,GAAG,IAAIlH,EAAErB,OAAOmL,KAAKD,GAAG,GAAGlL,OAAOoL,sBAAsB,CAAC,IAAIC,EAAErL,OAAOoL,sBAAsBF,GAAG3C,IAAI8C,EAAEA,EAAEC,QAAO,SAAS/C,GAAG,OAAOvI,OAAOuL,yBAAyBL,EAAE3C,GAAGiD,UAAW,KAAInK,EAAEyD,KAAK1D,MAAMC,EAAEgK,EAAG,CAAC,OAAOhK,CAAE,CAAC,SAAS,mBAAc6J,GAAG,IAAI,IAAI3C,EAAE,EAAEA,EAAEpH,UAAU+C,OAAOqE,IAAI,CAAC,IAAIlH,EAAE,MAAMF,UAAUoH,GAAGpH,UAAUoH,GAAG,CAAC,EAAEA,EAAE,EAAE,cAAQvI,OAAOqB,IAAG,GAAIqK,SAAQ,SAASnD,IAAG,OAAgB2C,EAAE3C,EAAElH,EAAEkH,GAAI,IAAGvI,OAAO2L,0BAA0B3L,OAAO4L,iBAAiBV,EAAElL,OAAO2L,0BAA0BtK,IAAI,cAAQrB,OAAOqB,IAAIqK,SAAQ,SAASnD,GAAGvI,OAAO6L,eAAeX,EAAE3C,EAAEvI,OAAOuL,yBAAyBlK,EAAEkH,GAAI,GAAG,CAAC,OAAO2C,CAAE,CAAC,SAAS,kBAAa1K,GAAS,IAAIC,EAA0B,iCAA4B,OAAO,SAASE,uBAAuB,IAAmCC,EAA/BC,GAAM,OAAgBL,GAAgB,GAAGC,EAA0B,CAAC,IAAIK,GAAU,OAAgBC,MAAMC,YAAYJ,EAAOK,QAAQC,UAAUL,EAAMM,UAAUL,EAAW,MAAMF,EAAOC,EAAMO,MAAML,KAAKI,WAAY,OAAO,OAA2BJ,KAAKH,EAAQ,CAAE,CAAC,SAAS,iCAA4B,IAAI,IAAIS,GAAGC,QAAQC,UAAUC,QAAQC,KAAKR,QAAQC,UAAUI,QAAQ,IAAG,WAAW,IAAI,CAAC,MAAMD,GAAG,CAAC,OAAO,+BAA0B,WAAW,QAAQA,CAAE,IAAK,CAA0jE,IAAIqwB,GAAM,SAASC,IAAY,OAAUD,MAAMC,GAAY,IAAI/vB,EAAO,kBAAa8vB,OAAO,SAASA,SAASzqB,GAAM,IAAInF,EAAkdwN,EAAkb,OAA93BxN,EAAMF,EAAOH,KAAKV,QAAQkG,IAAY+F,QAAQyhB,EAAA,EAAaC,IAAI9rB,GAAGd,EAAM8vB,WAAW,CAAChvB,GAAGwtB,GAAUyB,QAAG3iB,EAAU4iB,GAAGvD,EAAgB7rB,SAAS6tB,GAAgBvtB,SAASytB,GAAgBvpB,SAASkjB,GAAiBtoB,EAAMiwB,iBAAgB,SAAS,QAAkB,YAAY,OAAO,IAAI,EAAU,CAAC/vB,UAAUF,EAAME,UAAUuF,cAAczF,EAAMyF,eAAgB,IAAG,CAACyqB,OAAOC,EAAA,EAAWC,kBAAkB,CAACC,OAAO,MAAMrwB,EAAMswB,2BAA0B,SAAwB9iB,GAAM,QAAkB,UAAU+iB,GAAY,IAAIC,EAA0B/O,QAAazhB,EAAM2hB,YAAgB8O,EAAmF,OAA1ED,QAA4B/O,EAAO4I,eAAe,CAACvsB,QAAQyyB,KAAoBC,EAAsB,CAAC,GAAK,KAACxF,EAAI,MAACtV,GAAO+a,EAAQpV,KAAKqV,OAAOxT,KAAK,MAAM,CAAC8N,OAAKtV,QAAO,IAAU,SAAStS,GAAI,OAAOoK,EAAMlO,MAAML,KAAKI,UAAW,GAAM,CAACsxB,SAAQ,EAAKC,WAAU,EAAKC,IAAI,GAAGX,OAAOC,EAAA,EAAWC,kBAAkB,CAACC,OAAO,MAAarwB,CAAM,CAAC,IAA2D8wB,EAA6MC,EAAojBC,EAA0dC,EAA6WC,EAAwwGC,EAAkoBC,EAA8wBC,EAA2VC,EAAozBC,EAA2xDC,EAA0mEC,EAAgmFC,EAA8oJC,EAAieC,EAA03BC,EAAivBC,EAAykCC,EAA46EC,EAAgpBC,EAA8aC,EAAwSrhB,EAAopBoB,EAA4hDyS,GAAodjU,GAA6kBC,GAA2YsC,GAA5h6BvS,GAAOmvB,MAAMnwB,UAAkv6B,OAAxu6BgB,GAAOkhB,WAAyBmP,GAAW,QAAkB,YAAY,OAAO7xB,KAAKgxB,iBAAkB,IAAG,SAAStO,YAAY,OAAOmP,EAAWxxB,MAAML,KAAKI,UAAW,GAAsBoB,GAAOkf,2BAAyCoR,GAA2B,QAAkB,UAAU3vB,GAAQ,IAAG,QAACvD,EAAO,UAACqC,EAAS,uBAACif,GAAwB/d,EAAWtD,EAAQD,EAAQC,SAASqhB,GAAwB,IAAM,kBAACiO,EAAiB,eAAC+E,EAAc,QAACtS,SAAe5gB,KAAK0mB,gBAAgB7nB,GAAS,MAAM,CAACoC,YAAUktB,oBAAkB+E,iBAAer0B,QAAQq0B,EAAeC,YAAYhF,EAAkBvN,UAAQD,mBAAkB,EAAO,IAAG,SAASD,0BAA0Btc,GAAK,OAAO0tB,EAA2BzxB,MAAML,KAAKI,UAAW,GAAsCoB,GAAO4xB,gBAA8BrB,GAAgB,QAAkB,UAAU5vB,GAAQ,IAAG,cAACkxB,GAAelxB,EAAO,GAAGkxB,IAAgB,IAASA,GAAgB,OAA0B,IAAvBA,EAAclwB,OAAmBnD,KAAKszB,4BAA4B,CAACC,aAAaF,EAAc,KAAarzB,KAAKwzB,iCAAiC,CAACH,kBAAiB,MAAM,IAAI,IAAsB,IAAG,SAASD,eAAe/tB,GAAK,OAAO0sB,EAAgB1xB,MAAML,KAAKI,UAAW,GAA2BoB,GAAO8xB,6BAA2CtB,GAA6B,QAAkB,UAAU7vB,GAAQ,IAAG,aAACoxB,GAAcpxB,EAAO,OAAOnC,KAAKwzB,iCAAiC,CAACH,cAAc,CAACE,IAAgB,IAAG,SAASD,4BAA4BhuB,GAAK,OAAO0sB,EAA6B3xB,MAAML,KAAKI,UAAW,GAAwCoB,GAAOgyB,kCAAgDvB,GAAkC,QAAkB,UAAU9vB,GAAQ,IAAG,cAACkxB,GAAelxB,EAAWoxB,EAAaF,EAAc,GAAOjd,QAAqBpW,KAAK2c,qBAAuB,KAACvE,EAAKC,GAAGob,GAAeF,EAAa,IAAIA,EAAalb,GAAI,MAAM,IAAInX,MAAM,oDAAqD,IAAIshB,QAAaxiB,KAAK0iB,YAAgBgR,EAAO,IAAI,KAAUtb,GAAUmU,EAAS,IAAI,MAAiB,gBAAC5B,EAAe,qBAACE,SAA4B7qB,KAAK2zB,sBAAsBpH,EAAS5B,gBAAgBA,EAAgB4B,EAAS1B,qBAAqBA,EAAqB0B,EAAS8B,SAASqF,EAAO,IAAIE,QAAkB5zB,KAAKwG,cAAcqtB,kBAAkBC,gBAAgB,IAAKF,EAAYG,UAASH,EAAYjxB,UAAUqxB,yBAA0B,CAAC,IAAIC,QAAwBzR,EAAOiJ,+BAA+B,CAACrV,IAAqB8d,EAAe,KAAqBC,oBAAoB,CAACC,cAAcH,IAAoB1H,EAAS8H,IAAIH,EAAgB,CAAC,IAAI,IAAI5c,EAAE,EAAEA,EAAE+b,EAAclwB,OAAOmU,GAAG,EAAE,CAAC,IAAG,OAACoE,EAAM,GAACrD,EAAE,UAACic,EAAS,QAACC,GAASlB,EAAc/b,GAAG,IAAIgd,IAAYC,EAAS,MAAM,IAAIrzB,MAAM,0FAA2F,IAAIszB,IAAwBF,GAAWjZ,SAAaoZ,EAAY,IAAI,KAAUpc,GAAIob,GAAe,GAAGe,EAAuBjI,EAAS8H,IAAI,KAActZ,SAAS,CAAC2Z,WAAW,IAAI,KAAUtc,GAAMuc,SAAS,IAAI,KAAUtc,GAAIuc,SAASC,OAAO,IAAI,IAAUnZ,GAAQK,UAAUuY,EAAU1Y,UAAUI,kBAAmB,CAAC,IAAIlN,EAAMgmB,EAAuBvZ,EAA2G,OAA7FzM,EAA+C,OAAxCgmB,EAAmBR,GAAWz1B,SAAei2B,EAAmBP,GAASQ,YAAkBjmB,EAAM,GAAOkmB,EAAiBV,GAAWW,YAAgBlJ,EAAK,IAAI,KAAUxQ,GAAkB2Z,EAAeT,EAAgBU,QAAqBn1B,KAAKo1B,mBAAmB,CAAC3e,MAAMid,EAAO3H,SAAWsJ,EAAUL,EAAiB,IAAI,KAAUA,SAAwBh1B,KAAKs1B,2BAA2B,CAACvJ,OAAKtV,MAAMid,EAAO3I,UAAUoK,IAAiBD,QAAqBl1B,KAAKs1B,2BAA2B,CAACvJ,OAAKtV,MAAMge,EAAY1J,UAAUoK,IAAiB,IAAII,QAAyB/S,EAAO4I,eAAe,CAACvsB,QAAQq2B,EAAejK,aAAa,GAAGsJ,EAAQ,CAAC,IAAG,kBAACiB,EAAiB,SAACC,SAAgBz1B,KAAK01B,wBAAwB3J,GAAM,GAAGyJ,EAAmBjJ,EAAS8H,aAAcr0B,KAAK21B,kCAAkC,CAAC5J,OAAK2H,SAAO2B,YAAUZ,cAAYS,iBAAexZ,SAAO+Z,SAASA,SAAkB,CAAC,IAAIG,QAAmB51B,KAAK61B,4BAA4B9J,GAAS6J,EAAcrJ,EAAS8H,OAAOr0B,KAAK81B,sCAAsC,CAAC/J,OAAK2H,SAAO2B,YAAUZ,cAAYS,iBAAeK,qBAAmBQ,UAAUH,EAAa7K,UAAUoK,KAAwB5I,EAAS8H,OAAOr0B,KAAKg2B,gCAAgC,CAACjK,OAAK2H,SAAO2B,YAAUZ,cAAYS,iBAAeK,qBAAmBU,cAAc,EAAEva,SAAOqP,UAAUoK,IAAmB,CAAC,MAASb,GAAW/H,EAAS8H,OAAOr0B,KAAKg2B,gCAAgC,CAACjK,OAAK2H,SAAO2B,YAAUZ,cAAYS,iBAAeK,qBAAmBU,cAAc3B,EAAU1Y,SAASF,SAAOqP,UAAUoK,IAAmB,CAAC,CAAC,OAAO,WAAY5I,EAASK,UAAU,CAACsC,sBAAqB,IAAS,IAAG,SAASsE,iCAAiChuB,GAAK,OAAOysB,EAAkC5xB,MAAML,KAAKI,UAAW,GAA6CoB,GAAOmyB,qBAAmCzB,GAAqB,QAAkB,YAAyE,IAA7D,IAAIgE,EAAoB,GAAO1T,QAAaxiB,KAAK0iB,YAAoBpL,EAAE,EAAEA,EAAE,EAAEA,GAAG,EAAE,CAAC,IAAI,IAAIoU,QAAWlJ,EAAOgI,qBAAqB,IAAI,IAAOkB,EAAKf,mBAAmB,IAAOe,EAAKb,sBAAuB,OAAOa,CAAM,CAAC,MAAMvhB,GAAG,IAAIgsB,EAAahsB,GAAGiS,KAAQjS,GAAGgsB,IAAcD,EAAoBC,EAAa3J,QAAS,OAAO0E,EAAA,EAAW/rB,KAAK,IAAM,CAAC,MAAM,IAAIjE,MAAM,mDAAmDg1B,GAAqB,KAAM,IAAG,SAASvC,sBAAsB,OAAOzB,EAAqB7xB,MAAML,KAAKI,UAAW,GAAgCoB,GAAO4zB,oBAAkCjD,GAAoB,QAAkB,WAAU,KAACpG,EAAI,MAACtV,IAAQ,IAAI+L,QAAaxiB,KAAK0iB,aAAgB0T,EAAcC,SAAyBvpB,QAAQC,IAAI,CAACyV,EAAOsI,wBAAwB,CAACjsB,QAAQ4X,EAAMwU,aAAazI,EAAOsI,wBAAwB,CAACjsB,QAAQ4X,EAAMwU,WAAWF,UAAU,SAA8BlrB,EAAO,IAAoB,MAAfu2B,EAAoBA,EAAc,MAA2B,MAAnBC,EAAwBA,EAAkB,KAAM9sB,MAAK,SAASC,GAAM,OAAOA,EAAK5K,QAAQwd,KAAKqV,OAAOxT,KAAK8N,OAAOA,EAAKd,UAAW,IAAG,OAAGprB,EAA6C,cAA9BA,EAAOjB,QAAQwd,KAAKka,QAAsB,KAAiB,KAA8B,IAAiB,IAAG,SAASlB,mBAAmB1vB,GAAK,OAAOysB,EAAoB9xB,MAAML,KAAKI,UAAW,GAA+BoB,GAAO8zB,4BAA0ClD,GAA4B,QAAkB,WAAU,KAACrG,EAAI,MAACtV,EAAK,UAACsU,IAAY,OAAOje,QAAQoB,SAAQ,QAA8B6d,EAAKtV,GAAM,EAAKsU,GAAY,IAAG,SAASuK,2BAA2B1vB,GAAK,OAAOwsB,EAA4B/xB,MAAML,KAAKI,UAAW,GAAuCoB,GAAOk0B,yBAAuCrD,GAAyB,QAAkB,UAAUtG,GAAM,IAAI,IAAIvJ,QAAaxiB,KAAK0iB,YAAgB6T,EAAYzK,gBAAgBC,GAAUyK,QAAsBhU,EAAO4I,eAAe,CAACvsB,QAAQ03B,EAAYtL,aAAa,GAAGuL,EAAgB,CAAC,IAAIf,EAAS,EAAAgB,SAASC,gBAAgB,mBAAc,mBAAc,CAAC,EAAEF,GAAiB,CAAC,EAAE,CAACpa,KAAK,GAAOhE,KAAKoe,EAAgBpa,KAAK,GAAG,aAAa,GAAG,MAAM,CAACqZ,WAASD,kBAAkBC,EAASkB,gBAAgB,EAAAC,cAAcC,yBAAyBpB,EAASkB,gBAAgB,EAAAC,cAAcE,+BAAgC,CAAC,MAAM,CAACtB,mBAAkB,EAAO,CAAC,MAAM3rB,GAAO,MAAM,CAAC2rB,mBAAkB,EAAO,CAAC,IAAG,SAASE,wBAAwBrnB,GAAK,OAAOgkB,EAAyBhyB,MAAML,KAAKI,UAAW,GAAoCoB,GAAOm0B,mCAAiDrD,GAAmC,QAAkB,WAAU,KAACvG,EAAI,OAAC2H,EAAM,UAAC2B,EAAS,YAACZ,EAAW,eAACS,EAAc,OAACxZ,EAAM,SAAC+Z,IAAW,IAAIjT,QAAaxiB,KAAK0iB,YAAgB+J,EAAa,GAAOsK,EAAiB5K,mBAAmBJ,EAAKsJ,GAAe2B,QAA2BxU,EAAO4I,eAAe,CAACvsB,QAAQk4B,EAAiB9L,aAAa,GAAG+L,EAAqB,CAAC,IAAgVC,EAAuDC,EAAnYC,EAAY,EAAAC,YAAYV,gBAAgB,mBAAc,mBAAc,CAAC,EAAEM,GAAsB,CAAC,EAAE,CAAC5a,KAAK,GAAOhE,KAAK4e,EAAqB5a,KAAK,GAAG,aAAa,GAAG,GAAG+a,EAAYlK,QAAQ,EAAAoK,WAAWC,OAAQ,MAAM,IAAIp2B,MAAM,2BAAiC,GAAGi2B,EAAYlK,QAAQ,EAAAoK,WAAWE,OAAQ,MAAM,IAAIr2B,MAAM,mBAA8Cu0B,EAAS+B,qBAA8CP,EAAgF,OAA5DC,EAAsBzB,EAAS+B,mBAAmBC,SAAeP,OAAsB/oB,GAAW,IAAIupB,EAAiB,CAACC,UAAUjE,EAAOkE,WAAWlE,EAAOlY,MAAM6Z,EAAUI,SAAS3J,gBAAgBC,GAAMA,OAAK8L,QAAQzL,qBAAqBL,GAAM+L,iBAAiBrD,EAAYA,YAAYS,EAAe6C,MAAMrE,EAAOsE,cAAc,KAAcjN,UAAUkN,gBAAgB,KAAiBC,cAAc,KAA4BC,mBAAmB,KAA2BlB,qBAAmBmB,0BAA0BxM,EAAoBmL,mBAAiBsB,uBAAuBlM,mBAAmBJ,EAAKmJ,IAAqBoD,EAAa,CAACA,aAAa,CAACC,OAAO,KAAK7c,OAAO8c,OAAO9c,GAAQ+c,kBAAkB,OAAOhM,EAAa1oB,MAAK,+BAAuC2zB,EAAiBY,GAAe,CAAC,OAAO7L,CAAa,IAAG,SAASkJ,kCAAkC/mB,GAAK,OAAO0jB,EAAmCjyB,MAAML,KAAKI,UAAW,GAA8CoB,GAAOq0B,6BAA2CtD,GAA6B,QAAkB,UAAUxG,GAAM,IAAIvJ,QAAaxiB,KAAK0iB,YAAgBgW,GAAY,IAAAC,iBAAgB5M,GAAUyK,QAAsBhU,EAAO4I,eAAe,CAACvsB,QAAQ65B,EAAYzN,aAAa,OAAyB,OAAlBuL,EAAuB,EAAAoC,UAAUlC,gBAAgB,mBAAc,mBAAc,CAAC,EAAEF,GAAiB,CAAC,EAAE,CAACpa,KAAK,GAAOhE,KAAKoe,EAAgBpa,KAAK,GAAG,aAAa,GAAG,IAAK,IAAG,SAASyZ,4BAA4BlnB,GAAM,OAAO4jB,EAA6BlyB,MAAML,KAAKI,UAAW,GAAwCoB,GAAOs0B,sCAAsC,SAASA,uCAAsC,KAAC/J,EAAI,OAAC2H,EAAM,UAAC2B,EAAS,YAACZ,EAAW,eAACS,EAAc,mBAACK,EAAkB,UAACQ,EAAS,UAAChL,IAAY,IAAI8N,EAAa,GAAkzB,OAA/yBA,EAAa90B,KAAK,EAAA+0B,iBAAqBvD,GAAoBsD,EAAa90B,MAAK,kCAAgC,CAACg1B,OAAOhD,EAAUgD,OAAOC,iBAAgB,IAAAC,uBAAsBlD,EAAUgD,QAAQhN,OAAK0J,SAAS3J,gBAAgBC,GAAMgK,WAAU,IAAA4C,iBAAgB5M,GAAM3T,KAAKqc,EAAYyE,YAAYhE,EAAeiE,WAAW,EAAAC,YAAY3M,aAAa,KAA2BsL,MAAMrE,EAAO2F,uBAAuB,KAA4BC,aAAavO,KAAc8N,EAAa90B,MAAK,+BAA6B,CAACg1B,OAAOhD,EAAUgD,OAAOC,iBAAgB,IAAAC,uBAAsBlD,EAAUgD,QAAQhN,OAAK0J,SAAS3J,gBAAgBC,GAAMgK,WAAU,IAAA4C,iBAAgB5M,GAAM3T,KAAKsb,EAAOwF,YAAY7D,EAAU8D,WAAW,EAAAC,YAAY3M,aAAa,KAA2BpU,GAAGoc,EAAY8E,UAAUrE,EAAeoE,aAAavO,KAAoB8N,CAAa,EAAEr3B,GAAOw0B,gCAAgC,SAASA,iCAAgC,KAACjK,EAAI,OAAC2H,EAAM,UAAC2B,EAAS,YAACZ,EAAW,eAACS,EAAc,mBAACK,EAAkB,cAACU,EAAa,OAACva,EAAM,UAACqP,IAAY,IAAI0B,EAAa,GAAqU,OAA1S,OAArB8I,GAA2B9I,EAAa1oB,MAAK,QAAwC2vB,EAAOwB,EAAeT,EAAY1I,EAAKhB,IAAa0B,EAAa1oB,MAAK,QAAiCsxB,EAAUtJ,EAAKmJ,EAAexB,EAAOmB,OAAO,IAAI,IAAUnZ,GAAQK,UAAUka,GAAeja,WAAWia,EAAc,GAAGlL,IAAmB0B,CAAa,EAAEjrB,GAAOg4B,gBAA8BhH,GAAgB,QAAkB,UAAUrwB,GAAQ,IAAG,WAAC+J,EAAU,gBAACutB,EAAe,mBAACC,GAAoBv3B,EAAW0S,EAAU3I,EAAW2I,UAAc0X,QAAec,gBAAgBxY,GAAe0D,EAAQ,GAAOiK,QAAaxiB,KAAK0iB,aAAe,aAAC+J,SAAoBJ,oBAAoB,CAACE,WAAS/J,WAAS,GAAGtW,EAAWuR,SAAUlF,EAAQ,OAAOvY,KAAKkd,wBAAwB,CAACO,SAASvR,EAAWuR,iBAAkB,GAAGvR,EAAWkT,YAAY,CAAC,IAAIua,QAAsB35B,KAAK2c,oBAAoBpE,EAAQ,OAAOvY,KAAK+e,2BAA2B,CAACK,YAAYlT,EAAWkT,YAAYhJ,eAAeujB,IAAmB,MAAMphB,QAAcvY,KAAK45B,uBAAuB,CAACnN,eAAarR,MAAMqe,GAAiBre,MAAMye,aAAaJ,GAAiBI,eAAgB,IAAIH,IAAqBxtB,EAAWuR,UAAUgP,EAAaqN,MAAK,SAASC,GAAa,OAAOA,EAAYhP,UAAUE,aAAa,KAA4BA,UAAW,KAAO1S,EAAQ,GAAGqC,cAAc,CAAC,IAAkLof,EAAqBC,EAAsBC,EAAzNC,QAAkBn6B,KAAKwG,cAAc8c,aAAa8W,eAAe,CAACruB,UAAU/L,KAAK+L,UAAU9K,UAAUjB,KAAKiB,YAAgBwI,QAAczJ,KAAKia,aAAgBkgB,IAAmF5hB,EAAQ,GAAGqC,cAAcjB,MAAM5V,KAAK,CAACqU,KAAKG,EAAQ,GAAGqC,cAAcxC,KAAKC,GAAGE,EAAQ,GAAGqC,cAAcvC,GAAGqD,OAAOmQ,EAA0B3Q,KAAiD,OAA3C8e,EAAqBG,EAAY7b,SAAe0b,EAAqB,GAAGx2B,KAAK22B,EAAY32B,KAAK2X,OAAOgf,EAAYhf,OAAOM,iBAAiB0e,EAAYt7B,QAAQuc,OAAM,EAAMC,UAAS,IAAO9C,EAAQ,GAAGqC,cAAc/B,aAAa,IAAI,IAAyE,OAA9DohB,EAAsB1hB,EAAQ,GAAGqC,cAAc/B,cAAoBohB,EAAsB,KAAKnd,KAAK+O,GAA2B7P,UAAUzD,EAAQ,GAAGqC,cAAcmC,kBAAkB,IAAI,IAA+E,OAApEmd,EAAuB3hB,EAAQ,GAAGqC,cAAcmC,mBAAyBmd,EAAuB,KAAKpd,KAAKud,EAAA,EAAgBrd,0BAA0B,CAAChe,MAAM6sB,EAA0BpiB,aAAWuS,UAAW,CAAE,IAAwEgT,EAA7CzC,aAAoB,KAA0DA,EAAS+N,WAAW,GAAG/N,EAASyC,UAAaA,GAAWuL,OAAM,SAASv7B,GAAO,OAAe,IAARA,CAAU,MAAIgwB,EAAU,MAAM,IAAI5Y,QAAqBpW,KAAK2c,oBAAkR,MAAhP,CAAChI,KAAKqa,EAAU,WAAYA,GAAW,GAAGvY,MAAML,EAAeM,OAAO6V,EAAS8B,UAAUpD,YAAY7U,EAAekC,MAAM,EAAEC,UAAQC,OAAO,KAAiBgiB,QAAQv5B,UAAUjB,KAAKiB,UAAU8K,UAAU/L,KAAK+L,UAAUgN,UAAU,KAAKlE,YAA4B,IAAG,SAAS2kB,eAAerqB,GAAM,OAAOqjB,EAAgBnyB,MAAML,KAAKI,UAAW,GAA2BoB,GAAOo4B,wBAAsCnH,GAAwB,QAAkB,WAAU,aAAChG,EAAY,MAACrR,EAAK,aAACye,IAAe,IAAIthB,EAAQ,GAAOkiB,EAAW,CAAC,EAAE,IAAI,IAAIV,KAAetN,EAAc,GAAGsN,EAAYhP,UAAUE,aAAa,KAAcF,UAAUE,WAAY,IAA6E,GAAqB,aAA1E,KAAkByP,sBAAsBX,GAA6C,CAAC,IAAII,QAAkBn6B,KAAKwG,cAAc8c,aAAa8W,eAAe,CAACruB,UAAU/L,KAAK+L,UAAU9K,UAAUjB,KAAKiB,YAAY,GAAGk5B,EAAY,CAAC,IAAIQ,GAAyB,WAACjG,EAAU,SAACC,EAAQ,SAACC,GAAU,KAAkBgG,eAAeb,GAAiBlhB,EAAa,IAAI,IAAU+b,EAAS3J,YAAgB7S,EAAKsc,EAAWzJ,WAAe5S,EAAGsc,EAAS1J,WAAelQ,EAAS,CAAC3C,OAAKC,KAAGoD,iBAAiB0e,EAAYt7B,QAAQqc,KAAkD,OAA5Cyf,EAAsBR,EAAY7b,SAAeqc,EAAsB,GAAGn3B,KAAK22B,EAAY32B,KAAK2X,OAAOgf,EAAYhf,OAAOO,OAAO,IAAI,IAAU7C,GAAckD,WAAWoe,EAAYve,UAAUI,UAAUZ,OAAM,EAAMC,UAAS,GAAM9C,EAAQxU,WAAW/D,KAAKkc,2BAA2B,CAAC9D,OAAKC,KAAG8D,UAAU,CAACpB,KAAa,CAAC,CAAC,CAAC,MAAM,MAAO,GAAGgf,EAAYhP,UAAUE,aAAa,KAA4BA,YAAY8O,EAAY3vB,KAAK,GAAGywB,OAAO5P,aAAa,KAAcF,UAAUE,YAAa8O,EAAY3vB,KAAK,GAAGywB,OAAO5P,aAAa,KAAiBA,YAAY8O,EAAY3vB,KAAK,GAAGywB,OAAO5P,aAAa,KAAsBA,YAAiN,GAAG8O,EAAYhP,UAAUE,aAAa,KAAiBA,YAAY8O,EAAYhP,UAAUE,aAAa,KAAsBA,WAAY,IAAI,IAAIF,EAAU,KAAwEA,EAApDgP,EAAYhP,UAAUE,aAAa,EAAA6P,gBAA2B,IAAI,KAAU,EAAAA,iBAAiCf,EAAYhP,UAAUE,aAAa,KAAiBA,WAAW,KAAiB,KAAuB,IAAI7O,MAAM2d,YAAYgB,KAAmB,EAAAC,EAAA,IAAkBjB,EAAYhP,GAAekQ,OAAY,EAAWC,OAAY,EAAW3f,OAAa,EAAW+V,OAAW,EAAO,GAAGyJ,IAAmB,IAAiBI,gBAAgB,CAAC,IAAI/e,MAAK,OAACV,GAAQtR,MAAMqM,MAAM2kB,EAAOrP,KAAKsP,EAAK,YAAC5G,KAAc,QAAiCsF,EAAYhP,GAAWkQ,EAAY,IAAI,IAAUvf,EAAOuP,YAAYiQ,EAAYE,EAAOP,OAAO5P,WAAW1P,EAAa8f,EAAMR,OAAO5P,WAAWqG,EAAWmD,EAAYoG,OAAO5P,UAAW,MAAM,GAAG8P,IAAmB,IAAiBO,SAAS,CAAC,IAAIlf,MAAMV,OAAO6f,GAASnxB,MAAMqM,MAAM+kB,EAAQ/G,YAAYgH,KAAe,QAA0B1B,EAAYhP,GAAWkQ,EAAY,IAAI,IAAUM,EAAQtQ,YAAYiQ,EAAYM,EAAQX,OAAO5P,WAAWqG,EAAWmK,EAAaZ,OAAO5P,UAAW,CAAC,GAAGgQ,GAAaC,GAAa5J,EAAW,CAAC,IAAIoK,EAAejB,EAAWnJ,WAAoBtxB,KAAKqxB,0BAA0BC,KAAiBvF,KAAK4P,EAAOllB,MAAM0Q,GAAWuU,EAAengB,EAAaA,GAAcogB,EAAO,IAAIrH,QAAgBt0B,KAAKwG,cAAc8c,aAAasY,SAAS,CAAC7vB,UAAU/L,KAAK+L,UAAU9K,UAAUjB,KAAKiB,UAAUwa,iBAAiBF,IAAe,GAAG+Y,EAAU,CAAC,IAAIuH,EAAuBC,EAAU,CAAC1jB,KAAK8iB,EAAY7iB,GAAc,MAAX8O,EAAgBA,EAAUmK,EAAW7V,iBAAiBF,EAAaL,KAA6C,OAAvC2gB,EAAmBvH,EAAUhW,SAAeud,EAAmB,GAAGr4B,KAAK8wB,EAAU9wB,KAAK2X,OAAOmZ,EAAUnZ,OAAOO,OAAOuf,EAAYlf,WAAWuY,EAAU1Y,UAAUI,UAAUZ,SAAO7C,EAAQxU,WAAW/D,KAAKkc,2BAA2B,CAAC9D,KAAK8iB,EAAY7iB,GAAc,MAAX8O,EAAgBA,EAAUmK,EAAWnV,UAAU,CAAC2f,KAAc,CAAC,CAAC,CAAC,MAAM,MAAO,GAAG/B,EAAYhP,UAAUE,aAAa,EAAA6P,gBAAgB,CAAC,IAAI,CAACiB,EAAQ,CAACC,EAAcC,GAAelC,EAAY3vB,KAAS8xB,EAAaH,EAAQlB,OAAO5P,WAAekR,EAAWH,EAAcnB,OAAO5P,WAAemR,QAAiBp8B,KAAKwG,cAAc8c,aAAasY,SAAS,CAAC7vB,UAAU/L,KAAK+L,UAAU9K,UAAUjB,KAAKiB,UAAUwa,iBAAiBwgB,EAAcpB,OAAO5P,aAAa,GAAGmR,EAAW,CAAC,IAAIC,EAAwBC,EAAW,CAAClkB,KAAK8jB,EAAa7jB,GAAG8jB,EAAW1gB,iBAAiBwgB,EAAcpB,OAAO5P,WAAW/P,KAA+C,OAAzCmhB,EAAoBD,EAAW9d,SAAe+d,EAAoB,GAAG74B,KAAK44B,EAAW54B,KAAK2X,OAAOihB,EAAWjhB,OAAOO,OAAqB,MAAdme,EAAmBA,EAAa,IAAIze,SAAO7C,EAAQxU,WAAW/D,KAAKkc,2BAA2B,CAAC9D,KAAK8jB,EAAa7jB,GAAG8jB,EAAWhgB,UAAU,CAACmgB,KAAe,CAAC,MAAv8F,CAAC,IAAI,CAACC,EAAgB9lB,EAAMsV,GAAMgO,EAAY3vB,KAAQmyB,GAAiB9lB,GAAOsV,IAAM0O,EAAW8B,EAAgB1B,OAAO5P,YAAY,CAACxU,MAAMA,EAAMokB,OAAO5P,WAAWc,KAAKA,EAAK8O,OAAO5P,YAAa,CAA0wF,GAAoB,IAAjB1S,EAAQpV,OAAW,CAAC,IAAIiT,SAAqBpW,KAAK2c,oBAAoBpE,EAAQxU,KAAK,CAACC,KAAK,KAAqBwW,QAAQC,cAAc,CAACrC,KAAKhC,GAAeiC,GAAG,KAAM,CAAC,OAAOE,CAAQ,IAAG,SAASqhB,uBAAuBxqB,GAAM,OAAOqjB,EAAwBpyB,MAAML,KAAKI,UAAW,GAAmCoB,GAAOg7B,iBAA+B9J,GAAiB,QAAkB,UAAUvwB,GAAQ,IAAIs6B,EAAsB5nB,EAAgD,OAArC4nB,EAAkBt6B,EAAO0S,WAAiB4nB,QAAwBz8B,KAAKozB,eAAejxB,GAAQ,GAAG0S,EAAW,OAAO7U,KAAK08B,8BAA8B,CAAC7nB,UAAUA,EAAU4I,SAAStb,EAAOsb,WAAY,MAAM,IAAI,IAAsB,IAAG,SAAS+e,gBAAgBttB,GAAM,OAAOwjB,EAAiBryB,MAAML,KAAKI,UAAW,GAA4BoB,GAAOk7B,+BAA6C/J,GAA+B,QAAkB,WAAU,UAAC9d,EAAS,SAAC4I,IAAW,IAAIrH,QAAqBpW,KAAK2c,oBAAwBggB,EAAa9nB,EAAU,GAAG4I,GAAUA,EAASO,iBAAiB4e,YAAY,CAAC,IAAIrQ,QAAec,gBAAgBxY,IAAc,gBAAC8V,EAAe,qBAACE,SAA4B7qB,KAAK2zB,sBAAyBpH,aAAoB,MAAaA,EAAS5B,gBAAgBA,EAAgB4B,EAAS1B,qBAAqBA,GAA8B0B,aAAoB,OAAsBA,EAASC,QAAQ7B,gBAAgBA,GAAiBgS,EAAa,WAAYpQ,EAASK,UAAU,CAACsC,sBAAqB,IAAS,CAAC,MAAM,CAACvlB,QAAQ,CAAC0kB,SAASjY,GAAgBvB,UAAU8nB,EAAc,IAAG,SAASD,8BAA8BhtB,GAAM,OAAOijB,EAA+BtyB,MAAML,KAAKI,UAAW,GAA0CoB,GAAOq7B,kBAAgCjK,GAAkB,QAAkB,UAAUzwB,GAAQ,IAAG,WAAC+J,EAAU,iBAAC4wB,EAAgB,QAACre,EAAO,gBAACse,GAAiB56B,EAAW66B,EAAa9wB,EAAW2I,UAA4H,GAA/GioB,IAAkBE,QAAmBh9B,KAAKi9B,yBAAyB,CAACpoB,UAAUmoB,EAAaF,sBAAuBre,IAA2B,IAAlBse,EAAwB,CAAC,IAAInJ,QAAkB5zB,KAAKwG,cAAcqtB,kBAAkBC,gBAAqBF,EAAYG,SAASH,EAAYjxB,UAAUqxB,2BAA2BgJ,QAAmBh9B,KAAKk9B,0BAA0B,CAACroB,UAAUmoB,EAAave,YAAW,CAAmC,OAAlCvS,EAAW2I,UAAUmoB,EAAoB9wB,CAAW,IAAG,SAAS2wB,iBAAiBhtB,GAAM,OAAO+iB,EAAkBvyB,MAAML,KAAKI,UAAW,GAA6BoB,GAAOy7B,0BAAwCpK,GAA0B,QAAkB,UAAU1wB,GAAQ,IAAG,UAAC0S,EAAS,iBAACioB,GAAkB36B,EAAWsH,QAAczJ,KAAKia,aAAiBsS,QAAec,gBAAgBxY,GAAW,IAAI,IAAOioB,EAAiBK,gBAAgB5Q,aAAoB,MAA4C,IAA/BA,EAASE,aAAatpB,OAAY,IAAI,IAAImU,EAAE,EAAEA,EAAEiV,EAASE,aAAatpB,OAAOmU,GAAG,EAAE,CAAC,IAAIyiB,EAAYxN,EAASE,aAAanV,GAAG,GAAGyiB,EAAYhP,UAAUE,aAAa,KAAcF,UAAUE,YAA0G,aAA1E,KAAkByP,sBAAsBX,GAA6C,CAAC,IAAG,WAACrF,EAAU,SAACC,GAAU,KAAkBiG,eAAeb,GAAyL,OAA5KxN,EAASE,aAAanV,GAAG,KAAcyD,SAAS,CAAC2Z,aAAWC,WAASC,SAASC,OAAO,IAAI,IAAUiI,EAAiBK,eAAephB,UAAUtS,EAAQmS,UAAUI,aAAoB,WAAYuQ,EAASK,UAAU,CAACsC,sBAAqB,IAAS,CAAE,CAAE,OAAOpiB,QAAQoB,QAAQ2G,EAAW,IAAG,SAASooB,yBAAyB7oB,GAAM,OAAOye,EAA0BxyB,MAAML,KAAKI,UAAW,GAAqCoB,GAAO07B,2BAAyCpK,GAA2B,QAAkB,UAAU3wB,GAAQ,IAAG,UAAC0S,EAAS,QAAC4J,GAAStc,EAAWqgB,QAAaxiB,KAAK0iB,YAAY,GAAGjE,EAAQ2e,OAAO,CAAsd,IAArd,IAAIC,GAAwB,GAAS,iBAACC,GAAkB7e,EAAQ2e,OAAW7Q,QAAec,gBAAgBxY,GAAe+Z,EAAuBrC,aAAoB,KAAyBgR,EAAchR,aAAoB,KAAgBiR,EAA6B,KAAqBrJ,oBAAoB,CAACC,cAAcoE,OAAO8E,MAAuB,aAAC7Q,EAAY,2BAACE,EAA0B,4BAACD,SAAmCL,oBAAoB,CAACE,WAAS/J,WAAiBlL,EAAE,EAAEA,EAAEmV,EAAatpB,OAAOmU,GAAG,EAAE,CAAC,IAAIyiB,EAAYtN,EAAanV,GAAG,GAAGyiB,EAAYhP,UAAUE,aAAa,KAAqBF,UAAUE,YAAiH,wBAAjF,KAAyByP,sBAAsBX,GAAwD,CAAC,IAAG,cAAC3F,GAAe,KAAyBqJ,0BAA0B1D,GAAa,IAAI,IAAO3F,GAAe,CAA8B,GAA7BiJ,GAAwB,GAAQzO,IAAwBlC,EAAuM,CAACH,EAASE,aAAanV,GAAGkmB,EAA6B,KAAM,CAAvO9Q,EAA4BD,aAAanV,GAAGkmB,EAA6BjR,EAASC,QAAQE,EAA4BgR,mBAAmB/Q,EAA+F,CAAC,CAAE,CAAIiC,GAAwBlC,GAAiC2Q,GAAyB3Q,EAA4BD,aAAakR,QAAQH,GAA+BjR,EAASC,QAAQE,EAA4BgR,mBAAmB/Q,IAAqC4Q,IAAmBF,GAAyB9Q,EAASE,aAAakR,QAAQH,IAAgC,IAAI,OAAO,WAAYjR,EAASK,UAAU,CAACsC,sBAAqB,IAAS,CAAC,MAAM,MAAM,EAAG,CAAC,CAAC,OAAOpiB,QAAQoB,QAAQ2G,EAAW,IAAG,SAASqoB,0BAA0B1oB,GAAM,OAAOse,EAA2BzyB,MAAML,KAAKI,UAAW,GAAsCoB,GAAOklB,gBAAgB,SAASA,gBAAgB7nB,GAAS,IAAI,IAAIuE,EAAU,IAAI,KAAUvE,GAAS,GAAG,KAAU++B,UAAU/+B,IAAU,KAAU++B,UAAUx6B,EAAUy6B,WAAyC,KAA9B,WAAYh/B,GAASsE,OAAa,OAAO2J,QAAQoB,QAAQ,CAAC0S,SAAQ,EAAKuN,kBAAkBtvB,EAAQq0B,eAAer0B,GAAW,CAAC,MAAM,CAAC,OAAOiO,QAAQoB,QAAQ,CAAC0S,SAAQ,EAAMuN,kBAAkB,GAAG+E,eAAe,IAAK,EAAE1xB,GAAOolB,aAAa,SAASA,eAAe,OAAO9Z,QAAQoB,QAAQ,CAAC0S,SAAQ,GAAQ,EAAEpf,GAAOs8B,2BAAyC/K,GAA2B,QAAkB,UAAU5wB,GAAQ,IAAI47B,EAA0ErwB,EAA1D8Y,GAAM,QAAoB,CAACC,YAAYtkB,EAAOqkB,QAA2BwX,EAAkB,WAAYxX,GAAwL,OAAnJ,KAA3BwX,EAAkB76B,SAAauK,EAAWswB,EAAkBje,MAAM,EAAE,IAAIkL,SAAS,QAAmG,CAACvd,WAA5FA,GAAW,QAAoB,CAACuZ,KAA+B,OAAzB8W,EAAYrwB,GAAkBqwB,EAAY,KAAwB,IAAG,SAASD,0BAA0BhpB,GAAM,OAAOie,EAA2B1yB,MAAML,KAAKI,UAAW,GAAsCoB,GAAOmlB,cAAc,SAASA,gBAAgB,OAAO7Z,QAAQoB,QAAQ,CAAC0S,SAAQ,GAAQ,EAAEpf,GAAOqlB,oBAAkCmM,GAAoB,QAAkB,UAAUtlB,GAAY,IAAI,IAAIuwB,EAAO,WAAYvwB,GAAY,GAAmB,KAAhBuwB,EAAO96B,OAAY,CAAC,IAAI+6B,EAAKD,EAAOle,MAAM,EAAE,IAAIkL,SAAS,OAA8D,aAAlCjrB,KAAKkmB,uBAAuBgY,EAAwB,CAAC,CAAC,MAAM,CAAC,MAAM,CAACtd,SAAQ,EAAO,IAAG,SAASiG,mBAAmB7R,GAAM,OAAOge,EAAoB3yB,MAAML,KAAKI,UAAW,GAA+BoB,GAAO28B,sBAAoClL,GAAsB,QAAkB,UAAU9wB,GAAQ,IAAG,OAACtC,SAAcG,KAAKmmB,yBAAyBhkB,GAAQ,OAAOtC,CAAO,IAAG,SAASs+B,qBAAqBjpB,GAAM,OAAO+d,EAAsB5yB,MAAML,KAAKI,UAAW,GAAiCoB,GAAOgU,wBAAsC5D,GAAwB,QAAkB,WAAU,UAACiD,IAAY,IAAIA,EAAW,MAAM,CAACA,aAAY,IAAI0X,QAAec,gBAAgBxY,GAAe2N,QAAaxiB,KAAK0iB,aAAe,aAAC+J,SAAoBJ,oBAAoB,CAACE,WAAS/J,WAAa4b,ENAxi2B,SAASC,sBAAsB5R,GAAc,IAAI2R,EAAjvF,IAA6xF,IAAI,IAAIrE,KAAetN,EAAc,GAAGsN,EAAYhP,UAAUE,aAAa,KAAqBF,UAAUE,YAA2F,wBAAtE,KAAyByP,sBAAsBX,GAA6C,CAAC,IAAG,MAACuE,GAAO,KAAyBC,0BAA0BxE,GAAaqE,EAAiBE,EAAM,KAAM,CAAG,OAAOF,CAAiB,CMA6n1BC,CAAsB5R,GAAc,MAAM,CAAC5X,YAAU2pB,kBAAkB,CAACC,qBAAqB,CAACC,QAAQC,ONAn07B,KMAo17BC,yBNAxy7B,EMA617BR,iBAAiBO,OAAOP,KAAqB,IAAG,SAAS5oB,uBAAuBH,GAAM,OAAOzD,EAAwBvR,MAAML,KAAKI,UAAW,GAAmCoB,GAAOmgB,8BAA4C3O,GAA8B,QAAkB,UAAU7Q,GAAQ,IAAG,UAAC0S,EAAS,QAAC4J,GAAStc,EAAWyxB,QAAkB5zB,KAAKwG,cAAcqtB,kBAAkBC,gBAAgB,GAAGF,EAAYG,SAASH,EAAYjxB,UAAUqxB,yBAA0B,MAAM,GAAI,IAAIxR,QAAaxiB,KAAK0iB,YAAgBtM,QAAqBpW,KAAK2c,oBAAwB2gB,EAAiB,IAAQ/Q,QAAec,gBAAgBxY,GAAW,GAAG0X,EAAS+N,YAAY/N,EAAS+N,WAAWn3B,OAAO,EAAG,MAAM,GAAI,IAAG,aAACspB,SAAoBJ,oBAAoB,CAACE,WAAS/J,aAAaxiB,KAAK0iB,cAAkBmc,ENAh84B,SAASC,sBAAsBrS,GAAc,IAAI6Q,EAAiB,IAAI,IAAI,IAAIvD,KAAetN,EAAc,GAAGsN,EAAYhP,UAAUE,aAAa,KAAqBF,UAAUE,YAA2F,wBAAtE,KAAyByP,sBAAsBX,GAA6C,CAAC,IAAG,cAAC3F,GAAe,KAAyBqJ,0BAA0B1D,GAAauD,EAAiBlJ,EAAcnJ,WAAW,KAAM,CAAG,OAAOqS,CAAiB,CMAii4BwB,CAAsBrS,GAAc,GAAG,IAAI,IAAUoS,GAAkCE,INA919B,KMAo39B,CAAC,IAAIC,QAAwBh/B,KAAKk9B,0BAA0B,CAACroB,YAAU4J,QAAQ,mBAAc,mBAAc,CAAC,EAAEA,GAAS,CAAC,EAAE,CAAC2e,OAAO,CAACE,iBAAiB,SAAS,MAA2B,KAApB0B,EAAuBA,EAAkBnqB,CAAU,CAAC,GAAG,IAAO4J,EAAQ2e,QAAQE,kBAAkB,CAAC,IAAIrJ,QAAwBzR,EAAOiJ,+BAA+B,CAACrV,IAAiBknB,EAAiBqB,OAAO1K,EAAmB,MAAMqJ,EAAiB7e,EAAQ2e,OAAOE,iBAAkB,IAAI2B,QAAuBj/B,KAAKk9B,0BAA0B,CAACroB,YAAU4J,QAAQ,mBAAc,mBAAc,CAAC,EAAEA,GAAS,CAAC,EAAE,CAAC2e,OAAO,CAACE,wBAAsB,ONAtx+B,SAAS4B,aAAarqB,GAA8C,OAAvB,WAAYA,GAA0B1R,OAAO,IAAiB,CMA8q+B+7B,CAAaD,GAAyB,GAAWA,CAAiB,IAAG,SAAStd,6BAA6BpM,GAAM,OAAOvC,EAA8B3S,MAAML,KAAKI,UAAW,GAAyCoB,GAAO8lB,4BAA0C7B,IAA4B,QAAkB,UAAUtjB,GAAQ,IAAIqgB,EAAO,IAAIoN,GAAmBztB,EAAOg9B,QAAYC,EAAMC,YAAYC,MAAUz/B,QAAa2iB,EAAOyN,UAAU,MAAM,CAACsP,aAAaC,KAAKC,MAAMJ,YAAYC,MAAMF,GAAO7O,gBAAgB1wB,EAAO0wB,gBAAiB,IAAG,SAASjJ,2BAA2B7R,GAAM,OAAOgQ,GAA4BplB,MAAML,KAAKI,UAAW,GAAuCoB,GAAOuT,mCAAiDvD,IAAmC,QAAkB,UAAUrP,GAAQ,IAAG,cAACu9B,EAAa,SAAChrB,GAAUvS,EAAWg9B,EAAOO,EAAc5P,IAAI,IAAIqP,EAAQ,MAAM,IAAI,KAAoB,mBAAoB,IAAI3c,EAAO,IAAIoN,GAAmBuP,GAAYxqB,QAAW6N,EAAO/N,qBAAqBC,EAASoa,OAAO,OAAO,mBAAc,mBAAc,CAAC,EAAEpa,GAAU,CAAC,EAAE,CAACC,OAAKE,UAAUH,EAASG,WAAY,IAAG,SAASE,kCAAkCY,GAAM,OAAOnE,GAAmCnR,MAAML,KAAKI,UAAW,GAA8CoB,GAAOyT,oBAAkCxD,IAAoB,QAAkB,WAAW4J,SAASskB,EAAa,OAACjkB,EAAM,aAACkkB,IAAe,IAAID,GAAe,IAAI,IAAUjkB,GAAQmkB,UAAU,IAAI,IAAUD,GAAcC,SAAU,MAAM,IAAI,KAA6B,OAAO,CAAK,IAAG,SAAS5qB,mBAAmBY,GAAM,OAAOpE,GAAoBpR,MAAML,KAAKI,UAAW,GAA+BoB,GAAOojB,uBAAqC7Q,IAAuB,QAAkB,UAAU5R,GAAQ,OAAO2K,QAAQoB,QAAQ/L,EAAO29B,MAAM1jB,KAAM,IAAG,SAASwI,sBAAsB/N,GAAM,OAAO9C,GAAuB1T,MAAML,KAAKI,UAAW,IAAyC,OAAauwB,MAAO,CAA5x8B,CAA8x8B1f,EAAA,E,4CCAh/jC,IAAI8uB,EAAmB,SAASA,GAAwP,OAApOA,EAAuB,GAAE,KAAKA,EAAuB,GAAE,KAAKA,EAA6B,SAAE,WAAWA,EAA6B,SAAE,WAAWA,EAA6B,SAAE,WAAWA,EAA6B,SAAE,WAAkBA,CAAmB,CAA3R,CAA6R,CAAC,GAAcC,EAAa,SAASA,GAAoF,OAAtEA,EAAsB,QAAE,UAAUA,EAAuB,SAAE,WAAkBA,CAAa,CAAjH,CAAmH,CAAC,E,+GCApQ,SAAS91B,QAAQC,EAAE3C,GAAG,IAAIlH,EAAErB,OAAOmL,KAAKD,GAAG,GAAGlL,OAAOoL,sBAAsB,CAAC,IAAIC,EAAErL,OAAOoL,sBAAsBF,GAAG3C,IAAI8C,EAAEA,EAAEC,QAAO,SAAS/C,GAAG,OAAOvI,OAAOuL,yBAAyBL,EAAE3C,GAAGiD,UAAW,KAAInK,EAAEyD,KAAK1D,MAAMC,EAAEgK,EAAG,CAAC,OAAOhK,CAAE,CAAC,SAASoK,cAAcP,GAAG,IAAI,IAAI3C,EAAE,EAAEA,EAAEpH,UAAU+C,OAAOqE,IAAI,CAAC,IAAIlH,EAAE,MAAMF,UAAUoH,GAAGpH,UAAUoH,GAAG,CAAC,EAAEA,EAAE,EAAE0C,QAAQjL,OAAOqB,IAAG,GAAIqK,SAAQ,SAASnD,IAAG,OAAgB2C,EAAE3C,EAAElH,EAAEkH,GAAI,IAAGvI,OAAO2L,0BAA0B3L,OAAO4L,iBAAiBV,EAAElL,OAAO2L,0BAA0BtK,IAAI4J,QAAQjL,OAAOqB,IAAIqK,SAAQ,SAASnD,GAAGvI,OAAO6L,eAAeX,EAAE3C,EAAEvI,OAAOuL,yBAAyBlK,EAAEkH,GAAI,GAAG,CAAC,OAAO2C,CAAE,CAAiJ,SAAS81B,iBAAiB3V,EAAOnoB,EAAOuB,EAAG,GAAG,MAAM,CAACw8B,QAAQ,MAAMx8B,KAAG4mB,SAAOnoB,SAAQ,CAAC,IAAI4tB,EAAe,WAAW,SAASA,eAAeF,EAAIhN,EAAQsd,EAAQ,KAAQngC,KAAK6vB,IAAIA,EAAI7vB,KAAKmgC,QAAQA,EAAQngC,KAAK6iB,QAAQ,CAAC,eAAe,oBAAuBA,GAAS5jB,OAAOmhC,OAAOpgC,KAAK6iB,QAAQA,EAAU,CAACkN,eAAesQ,iBAAiB,SAASA,iBAAiBnW,GAAU,GAAqB,iBAAXA,EAAqB,MAAM,IAAI,KAAc,iEAAiEA,GAAgB,GAAGA,EAASrgB,MAAM,CAAC,IAAI2iB,EAAQ,0BAA8B3iB,EAAMqgB,EAASrgB,MAAiH,MAAxGA,GAAO2iB,SAAiC,iBAAjB3iB,GAAO2iB,UAAoBA,EAAQ,4BAA4B3iB,GAAO2iB,WAAiB,IAAI,KAAqBA,EAAQtC,EAAU,CAAM,KAAK,WAAWA,GAAW,MAAM,IAAI,KAAc,8CAA8CA,GAAW,OAAOpd,QAAQoB,QAAQgc,EAASrqB,OAAQ,EAAE,IAA+DygC,EAAmqBC,EAA4yDC,EAA1gFh/B,EAAOuuB,eAAevvB,UAA4nG,OAAlnGgB,EAAOd,MAAoB4/B,GAAM,QAAkB,UAAUhW,EAAOnoB,EAAO0gB,EAAQsd,GAAS,IAAIpd,GAAO,OAAcod,GAASngC,KAAKmgC,SAAS,IAAI,IAAIjW,QAAe,OAAM,CAAC2F,IAAI7vB,KAAK6vB,IAAIvF,OAAO,OAAOzH,QAAQ7iB,KAAKygC,gBAAgB5d,GAASzG,KAAKskB,KAAKC,UAAUV,iBAAiB3V,EAAOnoB,IAAS4gB,WAAS,aAAagN,eAAesQ,iBAAiBnW,EAAS9N,KAAM,CAAC,MAAMvS,GAAqC,IAAI+2B,EAAlC,GAAG,IAAMC,aAAah3B,GAAkC,MAAM,IAAI,KAAmB,kBAAkE,OAA/C+2B,EAAsB/2B,EAAMqgB,UAAU1R,QAAcooB,EAAsB,MAAM/2B,EAAMqgB,UAAW,MAAMrgB,CAAM,CAAC,IAAG,SAASnJ,KAAKyD,EAAGC,EAAIiB,EAAIC,GAAK,OAAOg7B,EAAMjgC,MAAML,KAAKI,UAAW,GAAiBoB,EAAO4uB,WAAyBmQ,GAAW,QAAkB,UAAUO,EAAMje,EAAQsd,EAAQY,GAAgB,EAAKC,GAAwB,GAAM,IAA4/Bz5B,EAAx/BxG,EAAMf,KAASihC,EAAc,GAA4C,GAAxBD,EAA84BC,QAAoBn0B,QAAQC,IAAI+zB,EAAM9zB,KAAmBzF,GAAK,QAAkB,UAAU25B,GAAG,IAAwD,MAAM,CAACrhC,aAA7CkB,EAAML,KAAKwgC,EAAE,GAAGA,EAAE,GAAGre,EAAQsd,GAA4B,CAAC,MAAMt2B,GAAO,CAAC,IAAU,SAASwE,GAAK,OAAO9G,EAAKlH,MAAML,KAAKI,UAAW,SAAxlC,CAAC,IAAIuJ,EAAQm3B,EAAM9zB,KAAI,UAAUsd,EAAOnoB,GAAQ2B,GAAO,OAAOm8B,iBAAiB3V,EAAOnoB,EAAO2B,EAAO,IAAG,IAAI,IAAIomB,QAAe,OAAM,CAAC2F,IAAI7vB,KAAK6vB,IAAIvF,OAAO,OAAOzH,QAAQ7iB,KAAKygC,gBAAgB5d,GAASzG,KAAKskB,KAAKC,UAAUh3B,GAASoZ,QAAO,OAAcod,GAASngC,KAAKmgC,WAAuC,GAA5Bc,EAAc/W,EAAS9N,MAAS+kB,MAAMC,QAAQH,GAAgB,MAAM,IAAI,KAAmB,+DAA+D/W,GAAgB,GAAG4W,EAAM39B,SAAS89B,EAAc99B,OAAQ,MAAM,IAAI,KAAmB,+CAA+C29B,EAAM39B,yBAAyB89B,EAAc99B,mBAAmB+mB,EAAW,CAAC,MAAMrgB,GAAqC,IAAIw3B,EAAlC,GAAG,IAAMR,aAAah3B,GAAmC,MAAM,IAAI,KAAmB,kBAAmE,OAAhDw3B,EAAuBx3B,EAAMqgB,UAAU1R,QAAc6oB,EAAuB,MAAMx3B,EAAMqgB,UAAW,MAAMrgB,CAAM,CAAC,CAAgQ,OAAOiD,QAAQC,IAAIk0B,EAAcK,MAAK,UAAU59B,GAAG69B,IAAM79B,GAAG89B,IAAM,OAAOD,EAAIC,CAAI,IAAGx0B,KAAI,SAAS0e,GAAM,OAAOqE,eAAesQ,iBAAiB3U,GAAM+V,OAAM,SAASt3B,GAAG,KAAGA,aAAa,MAAsB42B,GAAmC,MAAM52B,CAAE,GAAG,IAAI,IAAG,SAASimB,UAAU5qB,EAAIE,EAAIE,GAAK,OAAO26B,EAAWlgC,MAAML,KAAKI,UAAW,GAAsBoB,EAAOi/B,gBAAgB,SAASA,gBAAgB5d,EAAQ,CAAC,GAAG,OAAOnY,cAAcA,cAAc,CAAC,EAAE1K,KAAK6iB,SAASA,EAAS,EAAErhB,EAAOkgC,gBAA8BlB,GAAgB,QAAkB,UAAUmB,EAAS9e,EAAQsd,EAAQY,GAAgB,GAAM,IAAIa,EAAeD,EAASE,OAAWC,QAAuB9hC,KAAKowB,UAAUwR,EAAe/e,EAAQsd,EAAQY,GAAgB,GAAO,IAAII,MAAMC,QAAQU,GAAmB,MAAM,IAAI5gC,MAAM,gEAAiE,IAAI6gC,EAAQ,GAAOC,EAAW,EAAE,IAAI,IAAIC,KAASN,EAAS,CAAC,IAAIO,EAAUD,EAAM9+B,OAAO4+B,EAAQh+B,KAAK+9B,EAAiB/hB,MAAMiiB,EAAWA,EAAWE,IAAYF,GAAYE,CAAU,CAAC,OAAOH,CAAQ,IAAG,SAASL,eAAe9yB,EAAID,EAAKQ,GAAM,OAAOqxB,EAAgBngC,MAAML,KAAKI,UAAW,IAAkC,OAAa2vB,eAAgB,CAAp9H,E","sources":["webpack://web/../../packages/core/src/utils/index.ts","webpack://web/../../packages/kit-bg/src/vaults/base/KeyringBase.ts","webpack://web/../../packages/kit-bg/src/vaults/base/KeyringExternalBase.ts","webpack://web/../../packages/kit-bg/src/vaults/base/KeyringHardwareBase.ts","webpack://web/../../packages/kit-bg/src/vaults/base/KeyringHdBase.ts","webpack://web/../../packages/kit-bg/src/vaults/base/KeyringImportedBase.ts","webpack://web/../../packages/kit-bg/src/vaults/base/KeyringSoftwareBase.ts","webpack://web/../../packages/kit-bg/src/vaults/base/KeyringWatchingBase.ts","webpack://web/../../packages/kit-bg/src/vaults/base/VaultBase.ts","webpack://web/../../packages/kit-bg/src/vaults/base/VaultContext.ts","webpack://web/../../packages/kit-bg/src/vaults/impls/sol/KeyringExternal.ts","webpack://web/../../packages/kit-bg/src/vaults/impls/sol/sdkSol/ClientSol.ts","webpack://web/../../packages/kit-bg/src/vaults/impls/sol/utils.ts","webpack://web/../../packages/kit-bg/src/vaults/impls/sol/KeyringHardware.ts","webpack://web/../../packages/kit-bg/src/vaults/impls/sol/KeyringHd.ts","webpack://web/../../packages/kit-bg/src/vaults/impls/sol/KeyringImported.ts","webpack://web/../../packages/kit-bg/src/vaults/impls/sol/KeyringWatching.ts","webpack://web/../../packages/kit-bg/src/vaults/impls/sol/sdkSol/ClientCustomRpcSol.ts","webpack://web/../../packages/kit-bg/src/vaults/impls/sol/Vault.ts","webpack://web/../../packages/kit-bg/src/vaults/types.ts","webpack://web/../../packages/shared/src/request/JsonRPCRequest.ts"],"sourcesContent":["import coinselectUtils from'@onekeyfe/coinselect/utils';import accountUtils from'@onekeyhq/shared/src/utils/accountUtils';export function slicePathTemplate(template){return accountUtils.slicePathTemplate(template);}export function getUtxoAccountPrefixPath({fullPath}){var pathComponent=fullPath.split('/');pathComponent.pop();pathComponent.pop();var prefixPath=pathComponent.join('/');return prefixPath;}export function getBIP44Path(account,address){var realPath='';for(var[key,value]of Object.entries(account.addresses)){if(value===address){realPath=key;break;}}return`${account.path}/${realPath}`;}export function estimateTxSize(inputsForCoinSelect,outputsForCoinSelect){return coinselectUtils.transactionBytes(inputsForCoinSelect,outputsForCoinSelect);}","import _isNil from\"lodash/isNil\";import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import{NotImplemented}from'@onekeyhq/shared/src/errors';import{defaultLogger}from'@onekeyhq/shared/src/logger/logger';import accountUtils from'@onekeyhq/shared/src/utils/accountUtils';import timerUtils from'@onekeyhq/shared/src/utils/timerUtils';import{EDBAccountType}from\"../../dbs/local/consts\";import{EVaultKeyringTypes}from\"../types\";import{VaultContext}from\"./VaultContext\";export var KeyringBase=function(_VaultContext){_inherits(KeyringBase,_VaultContext);var _super=_createSuper(KeyringBase);function KeyringBase(vault){var _this;_this=_super.call(this,vault.options);_this.vault=vault;if(_this.vault.networkId!==vault.options.networkId){throw new Error('KeyringBase ERROR: networkId not match1');}if(_this.networkId!==vault.options.networkId){throw new Error('KeyringBase ERROR: networkId not match2');}return _this;}var _proto=KeyringBase.prototype;_proto.isKeyringImported=function isKeyringImported(){return this.keyringType===EVaultKeyringTypes.imported;};_proto.isKeyringHd=function isKeyringHd(){return this.keyringType===EVaultKeyringTypes.hd;};_proto.isKeyringHardware=function isKeyringHardware(){return this.keyringType===EVaultKeyringTypes.hardware;};_proto.isKeyringWatching=function isKeyringWatching(){return this.keyringType===EVaultKeyringTypes.watching;};_proto.basePrepareHdNormalAccounts=function(){var _basePrepareHdNormalAccounts=_asyncToGenerator(function*(params,options){var{walletId}=this;if(!walletId){throw new Error('walletId is not defined');}var{names,deriveInfo,indexes}=params;var{coinType,template,namePrefix,idSuffix}=deriveInfo;if(!coinType){throw new Error('coinType is not defined');}var settings=yield this.getVaultSettings();var{accountType}=settings;var{buildAddressesInfo}=options;var usedIndexes=indexes;var addressInfos=yield buildAddressesInfo({usedIndexes});var ret=[];for(var idx=0;idx<addressInfos.length;idx+=1){var{path,publicKey,address,addresses,relPath}=addressInfos[idx];if(!path){throw new Error('KeyringHD prepareAccounts ERROR: path not found');}if(accountType===EDBAccountType.VARIANT&&!addresses){throw new Error('addresses is required for variant account');}if(accountType===EDBAccountType.VARIANT&&address){throw new Error('address should not set for variant account');}var pathIndex=usedIndexes[idx];var name=names?.[idx]||accountUtils.buildHDAccountName({pathIndex,namePrefix});var id=accountUtils.buildHDAccountId({walletId,path,idSuffix});var indexedAccountId=accountUtils.buildIndexedAccountId({walletId,index:pathIndex});ret.push({id,name,type:accountType,path,pathIndex,relPath,indexedAccountId,coinType,impl:settings.impl,pub:publicKey,address,addresses,template});}return ret;});function basePrepareHdNormalAccounts(_x,_x2){return _basePrepareHdNormalAccounts.apply(this,arguments);}return basePrepareHdNormalAccounts;}();_proto.basePrepareHdUtxoAccounts=function(){var _basePrepareHdUtxoAccounts=_asyncToGenerator(function*(params,options){var{walletId}=this;if(!walletId){throw new Error('walletId is undefined');}var{indexes,deriveInfo,names,skipCheckAccountExist=true}=params;var{coinType,template,namePrefix}=deriveInfo;if(!coinType){throw new Error('coinType is not defined');}var settings=yield this.getVaultSettings();var{accountType}=settings;if(accountType!==EDBAccountType.UTXO){throw new Error('accountType is not utxo');}var{checkIsAccountUsed,buildAddressesInfo}=options;var ignoreFirst=false;var usedIndexes=[...(ignoreFirst?[indexes[0]-1]:[]),...indexes];defaultLogger.account.accountCreatePerf.utxoBuildAddressesInfo();var addressesInfo=yield buildAddressesInfo({usedIndexes});defaultLogger.account.accountCreatePerf.utxoBuildAddressesInfoDone();defaultLogger.account.accountCreatePerf.buildDBUtxoAccounts();var ret=[];var idx=0;for(var{path,relPath,publicKey,xpub,xpubSegwit,address,addresses}of addressesInfo){if(!path||_isNil(xpub)||!addresses){throw new Error('basePrepareHdUtxoAccounts ERROR: path or xpub or addresses is undefined');}if(!relPath){throw new Error('basePrepareHdUtxoAccounts ERROR: relPath is undefined');}var prefix=namePrefix;var pathIndex=usedIndexes[idx];var name=names?.[idx]||`${prefix} #${pathIndex+1}`;var id=`${this.walletId}--${path}`;if(!ignoreFirst||idx>0){var indexedAccountId=accountUtils.buildIndexedAccountId({walletId:this.walletId,index:pathIndex});ret.push({id,name,type:accountType,path,pathIndex,indexedAccountId,relPath,coinType,impl:settings.impl,pub:publicKey,xpub,xpubSegwit,address,addresses,template});}var isLast=idx===addressesInfo.length-1;if(!skipCheckAccountExist&&!isLast&&checkIsAccountUsed){var{isUsed}=yield checkIsAccountUsed({xpub,xpubSegwit,address});if(!isUsed){break;}yield timerUtils.wait(200);}idx+=1;}defaultLogger.account.accountCreatePerf.buildDBUtxoAccountsDone();return ret;});function basePrepareHdUtxoAccounts(_x3,_x4){return _basePrepareHdUtxoAccounts.apply(this,arguments);}return basePrepareHdUtxoAccounts;}();_proto.batchGetAddresses=function(){var _batchGetAddresses=_asyncToGenerator(function*(params){return[];});function batchGetAddresses(_x5){return _batchGetAddresses.apply(this,arguments);}return batchGetAddresses;}();_proto.exportAccountSecretKeys=function(){var _exportAccountSecretKeys=_asyncToGenerator(function*(params){throw new NotImplemented();});function exportAccountSecretKeys(_x6){return _exportAccountSecretKeys.apply(this,arguments);}return exportAccountSecretKeys;}();_proto.buildHwAllNetworkPrepareAccountsParams=function(){var _buildHwAllNetworkPrepareAccountsParams=_asyncToGenerator(function*(params){return undefined;});function buildHwAllNetworkPrepareAccountsParams(_x7){return _buildHwAllNetworkPrepareAccountsParams.apply(this,arguments);}return buildHwAllNetworkPrepareAccountsParams;}();_proto.buildPrepareAccountsPrefixedPath=function buildPrepareAccountsPrefixedPath(params){throw new NotImplemented();};return _createClass(KeyringBase);}(VaultContext);export var KeyringBaseMock=function(_KeyringBase){_inherits(KeyringBaseMock,_KeyringBase);var _super2=_createSuper(KeyringBaseMock);function KeyringBaseMock(){return _super2.apply(this,arguments);}return _createClass(KeyringBaseMock);}(KeyringBase);","import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import{OneKeyInternalError}from'@onekeyhq/shared/src/errors';import{EVaultKeyringTypes}from\"../types\";import{KeyringBase}from\"./KeyringBase\";export var KeyringExternalBase=function(_KeyringBase){_inherits(KeyringExternalBase,_KeyringBase);var _super=_createSuper(KeyringExternalBase);function KeyringExternalBase(...args){var _this;_this=_super.call(this,...args);_this.keyringType=EVaultKeyringTypes.external;return _this;}var _proto=KeyringExternalBase.prototype;_proto.baseSignMessageByExternalWallet=function(){var _baseSignMessageByExternalWallet=_asyncToGenerator(function*(params){return this.backgroundApi.serviceDappSide.signMessage({account:yield this.vault.getAccount(),networkId:this.networkId,params});});function baseSignMessageByExternalWallet(_x){return _baseSignMessageByExternalWallet.apply(this,arguments);}return baseSignMessageByExternalWallet;}();_proto.baseSendTransactionByExternalWallet=function(){var _baseSendTransactionByExternalWallet=_asyncToGenerator(function*(params){return this.backgroundApi.serviceDappSide.sendTransaction({account:yield this.vault.getAccount(),networkId:this.networkId,params});});function baseSendTransactionByExternalWallet(_x2){return _baseSendTransactionByExternalWallet.apply(this,arguments);}return baseSendTransactionByExternalWallet;}();_proto.prepareAccounts=function prepareAccounts(params){throw new OneKeyInternalError('prepareAccounts is not supported for external accounts, use serviceAccount directly');};_proto.basePrepareExternalAccounts=function(){var _basePrepareExternalAccounts=_asyncToGenerator(function*(params){return[];});function basePrepareExternalAccounts(_x3){return _basePrepareExternalAccounts.apply(this,arguments);}return basePrepareExternalAccounts;}();return _createClass(KeyringExternalBase);}(KeyringBase);","import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import{slicePathTemplate}from'@onekeyhq/core/src/utils';import appGlobals from'@onekeyhq/shared/src/appGlobals';import{OneKeyInternalError,UnsupportedAddressTypeError}from'@onekeyhq/shared/src/errors';import{convertDeviceError,convertDeviceResponse}from'@onekeyhq/shared/src/errors/utils/deviceErrorUtils';import{HardwareSDK}from'@onekeyhq/shared/src/hardware/instance';import{defaultLogger}from'@onekeyhq/shared/src/logger/logger';import{EConfirmOnDeviceType}from'@onekeyhq/shared/types/device';import{EVaultKeyringTypes}from\"../types\";import{KeyringBase}from\"./KeyringBase\";export var KeyringHardwareBase=function(_KeyringBase){_inherits(KeyringHardwareBase,_KeyringBase);var _super=_createSuper(KeyringHardwareBase);function KeyringHardwareBase(...args){var _this;_this=_super.call(this,...args);_this.keyringType=EVaultKeyringTypes.hardware;return _this;}var _proto=KeyringHardwareBase.prototype;_proto.getHardwareSDKInstance=function(){var _getHardwareSDKInstance=_asyncToGenerator(function*(){var _ref;defaultLogger.account.accountCreatePerf.getHardwareSDKInstance();var sdk=yield appGlobals?.$backgroundApiProxy?.backgroundApi?.serviceHardware?.getSDKInstance?.();var r=(_ref=sdk)!=null?_ref:HardwareSDK;defaultLogger.account.accountCreatePerf.getHardwareSDKInstanceDone();return r;});function getHardwareSDKInstance(){return _getHardwareSDKInstance.apply(this,arguments);}return getHardwareSDKInstance;}();_proto.baseGetDeviceAccountData=function(){var _baseGetDeviceAccountData=_asyncToGenerator(function*({params,usedIndexes,sdkGetDataFn,errorMessage}){var{deriveInfo,deviceParams}=params;var{dbDevice,confirmOnDevice}=deviceParams;var{connectId,deviceId}=dbDevice;var{template,coinName}=deriveInfo;var{pathPrefix,pathSuffix}=slicePathTemplate(template);var showOnOnekeyFn=function(arrIndex){if(confirmOnDevice===EConfirmOnDeviceType.EveryItem){return true;}if(confirmOnDevice===EConfirmOnDeviceType.LastItem){return arrIndex===usedIndexes[usedIndexes.length-1];}return false;};var result=yield convertDeviceResponse(_asyncToGenerator(function*(){return sdkGetDataFn({connectId,deviceId,pathPrefix,pathSuffix,template,coinName,showOnOnekeyFn});}));if(!result||result.length!==usedIndexes.length){throw new OneKeyInternalError(errorMessage);}return result;});function baseGetDeviceAccountData(_x){return _baseGetDeviceAccountData.apply(this,arguments);}return baseGetDeviceAccountData;}();_proto.baseGetDeviceAccountPublicKeys=function(){var _baseGetDeviceAccountPublicKeys=_asyncToGenerator(function*({params,usedIndexes,sdkGetPublicKeysFn}){return this.baseGetDeviceAccountData({params,usedIndexes,sdkGetDataFn:sdkGetPublicKeysFn,errorMessage:'Unable to get public keys.'});});function baseGetDeviceAccountPublicKeys(_x2){return _baseGetDeviceAccountPublicKeys.apply(this,arguments);}return baseGetDeviceAccountPublicKeys;}();_proto.baseGetDeviceAccountAddresses=function(){var _baseGetDeviceAccountAddresses=_asyncToGenerator(function*({params,usedIndexes,sdkGetAddressFn}){return this.baseGetDeviceAccountData({params,usedIndexes,sdkGetDataFn:sdkGetAddressFn,errorMessage:'Unable to get addresses.'});});function baseGetDeviceAccountAddresses(_x3){return _baseGetDeviceAccountAddresses.apply(this,arguments);}return baseGetDeviceAccountAddresses;}();_proto.getAllNetworkPrepareAccounts=function(){var _getAllNetworkPrepareAccounts=_asyncToGenerator(function*({hwSdkNetwork,params,usedIndexes,buildPath,buildResultAccount}){if(!hwSdkNetwork){return undefined;}var{hwAllNetworkPrepareAccountsResponse}=params;if(hwAllNetworkPrepareAccountsResponse?.length){var resultAccounts=[];var _loop=function*(){var path=yield buildPath({index});var account=hwAllNetworkPrepareAccountsResponse?.find(function(item){return item.network&&item.path===path&&item.network===hwSdkNetwork;});if(account&&account.success){resultAccounts.push(buildResultAccount({account,index}));}};for(var index of usedIndexes){yield*_loop();}if(resultAccounts.length===usedIndexes.length){return{success:true,payload:resultAccounts};}var hasErrorItem=hwAllNetworkPrepareAccountsResponse?.find(function(item){return!item.success&&!!item.payload?.error;});if(!hasErrorItem?.success&&hasErrorItem?.payload?.error){if(hasErrorItem?.payload?.error?.indexOf('Failure_DataError,Forbidden key path')!==-1){throw new UnsupportedAddressTypeError();}throw convertDeviceError(hasErrorItem.payload);}throw new OneKeyInternalError('SDK GetAllNetworkAccounts Failed');}});function getAllNetworkPrepareAccounts(_x4){return _getAllNetworkPrepareAccounts.apply(this,arguments);}return getAllNetworkPrepareAccounts;}();return _createClass(KeyringHardwareBase);}(KeyringBase);","import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import{EVaultKeyringTypes}from\"../types\";import{KeyringSoftwareBase}from\"./KeyringSoftwareBase\";export var KeyringHdBase=function(_KeyringSoftwareBase){_inherits(KeyringHdBase,_KeyringSoftwareBase);var _super=_createSuper(KeyringHdBase);function KeyringHdBase(...args){var _this;_this=_super.call(this,...args);_this.keyringType=EVaultKeyringTypes.hd;return _this;}return _createClass(KeyringHdBase);}(KeyringSoftwareBase);","import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import{EVaultKeyringTypes}from\"../types\";import{KeyringSoftwareBase}from\"./KeyringSoftwareBase\";export var KeyringImportedBase=function(_KeyringSoftwareBase){_inherits(KeyringImportedBase,_KeyringSoftwareBase);var _super=_createSuper(KeyringImportedBase);function KeyringImportedBase(...args){var _this;_this=_super.call(this,...args);_this.keyringType=EVaultKeyringTypes.imported;return _this;}return _createClass(KeyringImportedBase);}(KeyringSoftwareBase);","import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _isNil from\"lodash/isNil\";import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import{decryptImportedCredential}from'@onekeyhq/core/src/secret';import{OneKeyInternalError}from'@onekeyhq/shared/src/errors';import{defaultLogger}from'@onekeyhq/shared/src/logger/logger';import accountUtils from'@onekeyhq/shared/src/utils/accountUtils';import{checkIsDefined}from'@onekeyhq/shared/src/utils/assertUtils';import{noopObject}from'@onekeyhq/shared/src/utils/miscUtils';import localDb from\"../../dbs/local/localDb\";import{KeyringBase}from\"./KeyringBase\";export var KeyringSoftwareBase=function(_KeyringBase){_inherits(KeyringSoftwareBase,_KeyringBase);var _super=_createSuper(KeyringSoftwareBase);function KeyringSoftwareBase(){return _super.apply(this,arguments);}var _proto=KeyringSoftwareBase.prototype;_proto.baseGetCredentialsInfo=function(){var _baseGetCredentialsInfo=_asyncToGenerator(function*({password}){noopObject(password);var hd;var imported;if(this.isKeyringHd()){var credential=yield localDb.getCredential(checkIsDefined(this.walletId));hd=credential.credential;}if(this.isKeyringImported()){var _credential=yield localDb.getCredential(this.accountId);imported=_credential.credential;}return{hd,imported};});function baseGetCredentialsInfo(_x){return _baseGetCredentialsInfo.apply(this,arguments);}return baseGetCredentialsInfo;}();_proto.baseSignTransactionBtc=function(){var _baseSignTransactionBtc=_asyncToGenerator(function*(params){if(!this.coreApi){throw new Error('coreApi is not defined');}var vault=this.vault;var{password,unsignedTx,signOnly}=params;var credentials=yield this.baseGetCredentialsInfo(params);var networkInfo=yield this.getCoreApiNetworkInfo();var{account,btcExtraInfo,relPaths}=yield vault.prepareBtcSignExtraInfo({unsignedTx});var result=yield this.coreApi.signTransaction({networkInfo,unsignedTx,account,relPaths,password,credentials,btcExtraInfo,signOnly});return result;});function baseSignTransactionBtc(_x2){return _baseSignTransactionBtc.apply(this,arguments);}return baseSignTransactionBtc;}();_proto.baseSignTransaction=function(){var _baseSignTransaction=_asyncToGenerator(function*(params){if(!this.coreApi){throw new Error('coreApi is not defined');}var{password,unsignedTx}=params;var account=yield this.vault.getAccount();var credentials=yield this.baseGetCredentialsInfo(params);var networkInfo=yield this.getCoreApiNetworkInfo();var result=yield this.coreApi.signTransaction({networkInfo,password,account,credentials,unsignedTx});return result;});function baseSignTransaction(_x3){return _baseSignTransaction.apply(this,arguments);}return baseSignTransaction;}();_proto.baseSignMessage=function(){var _baseSignMessage=_asyncToGenerator(function*(params){var _this=this;if(!this.coreApi){throw new Error('coreApi is not defined');}var{password,messages}=params;var account=yield this.vault.getAccount();var credentials=yield this.baseGetCredentialsInfo(params);var networkInfo=yield this.getCoreApiNetworkInfo();var result=yield Promise.all(messages.map(function(msg){return checkIsDefined(_this.coreApi).signMessage({networkInfo,unsignedMsg:msg,account,password,credentials});}));return result;});function baseSignMessage(_x4){return _baseSignMessage.apply(this,arguments);}return baseSignMessage;}();_proto.baseSignMessageBtc=function(){var _baseSignMessageBtc=_asyncToGenerator(function*(params){var _this2=this;if(!this.coreApi){throw new Error('coreApi is not defined');}var vault=this.vault;var{password,messages}=params;var credentials=yield this.baseGetCredentialsInfo(params);var networkInfo=yield this.getCoreApiNetworkInfo();var result=yield Promise.all(messages.map(function(){var _ref=_asyncToGenerator(function*(msg){var{account,btcExtraInfo,relPaths}=yield vault.prepareBtcSignExtraInfo({unsignedMessage:msg});return checkIsDefined(_this2.coreApi).signMessage({networkInfo,unsignedMsg:msg,account,relPaths,password,credentials,btcExtraInfo});});return function(_x6){return _ref.apply(this,arguments);};}()));return result;});function baseSignMessageBtc(_x5){return _baseSignMessageBtc.apply(this,arguments);}return baseSignMessageBtc;}();_proto.basePrepareAccountsImported=function(){var _basePrepareAccountsImported=_asyncToGenerator(function*(params,options={}){if(!this.coreApi){throw new Error('coreApi is not defined');}var{name,importedCredential,password,networks,createAtNetwork}=params;var{privateKey}=decryptImportedCredential({credential:importedCredential,password});var settings=yield this.getVaultSettings();var{onlyAvailableOnCertainNetworks}=options;var accountType=options.accountType||settings.accountType;var impl=options.impl||settings.impl;var coinType=options.coinType||params.deriveInfo?.coinType||settings.coinTypeDefault;var networkInfo=yield this.getCoreApiNetworkInfo();var privateKeyRaw=privateKey;var{address,addresses,publicKey}=yield this.coreApi.getAddressFromPrivate({networkInfo,privateKeyRaw,addressEncoding:params.deriveInfo?.addressEncoding});var addressUsed='';if(onlyAvailableOnCertainNetworks){addressUsed=addresses?.[createAtNetwork]||'';if(!addressUsed){throw new Error(`imported account address is empty of network: ${createAtNetwork}`);}}var accountId=accountUtils.buildImportedAccountId({coinType,pub:publicKey,address:addressUsed,addressEncoding:params.deriveInfo?.addressEncoding});return Promise.resolve([{id:accountId,name:name||'',type:accountType,path:'',coinType,impl,networks:onlyAvailableOnCertainNetworks?networks:undefined,createAtNetwork,pub:publicKey,address,addresses}]);});function basePrepareAccountsImported(_x7){return _basePrepareAccountsImported.apply(this,arguments);}return basePrepareAccountsImported;}();_proto.basePrepareAccountsImportedUtxo=function(){var _basePrepareAccountsImportedUtxo=_asyncToGenerator(function*(params){if(!this.coreApi){throw new Error('coreApi is not defined');}var{name,importedCredential,password,createAtNetwork,deriveInfo}=params;var{privateKey}=decryptImportedCredential({credential:importedCredential,password});var addressEncoding=deriveInfo?.addressEncoding;var settings=yield this.getVaultSettings();var{coinTypeDefault:coinType,accountType}=settings;var networkInfo=yield this.getCoreApiNetworkInfo();var privateKeyRaw=privateKey;var{address,addresses,publicKey,xpub,relPath,xpubSegwit,path}=yield this.coreApi.getAddressFromPrivate({networkInfo,privateKeyRaw,addressEncoding});if(_isNil(xpub)||!addresses){throw new Error('xpub or addresses is undefined');}var accountId=accountUtils.buildImportedAccountId({coinType,xpub:xpub||publicKey,addressEncoding});return Promise.resolve([{id:accountId,name:name||'',type:accountType,path:path||'',relPath,coinType,impl:settings.impl,xpub,xpubSegwit,pub:publicKey,address,addresses,createAtNetwork}]);});function basePrepareAccountsImportedUtxo(_x8){return _basePrepareAccountsImportedUtxo.apply(this,arguments);}return basePrepareAccountsImportedUtxo;}();_proto.basePrepareAccountsHd=function(){var _basePrepareAccountsHd=_asyncToGenerator(function*(params){var _this3=this;var{template,addressEncoding}=params.deriveInfo;var{password}=params;var networkInfo=yield this.getCoreApiNetworkInfo();return this.basePrepareHdNormalAccounts(params,{buildAddressesInfo:function(){var _ref2=_asyncToGenerator(function*({usedIndexes}){if(!_this3.coreApi){throw new Error('coreApi is not defined');}var credentials=yield _this3.baseGetCredentialsInfo({password});var{addresses:addressInfos}=yield _this3.coreApi.getAddressesFromHd({networkInfo,template,hdCredential:checkIsDefined(credentials.hd),password,indexes:usedIndexes,addressEncoding});return addressInfos;});return function buildAddressesInfo(_x10){return _ref2.apply(this,arguments);};}()});});function basePrepareAccountsHd(_x9){return _basePrepareAccountsHd.apply(this,arguments);}return basePrepareAccountsHd;}();_proto.basePrepareAccountsHdUtxo=function(){var _basePrepareAccountsHdUtxo=_asyncToGenerator(function*(params,options){var _this4=this;var{password,indexes,deriveInfo,names,skipCheckAccountExist}=params;var addressEncoding=params?.deriveInfo?.addressEncoding;return this.basePrepareHdUtxoAccounts(params,_objectSpread(_objectSpread({},options),{},{buildAddressesInfo:function(){var _ref3=_asyncToGenerator(function*({usedIndexes}){var{coinType,template,namePrefix}=deriveInfo;defaultLogger.account.accountCreatePerf.getCredentialsInfo();var credentials=yield _this4.baseGetCredentialsInfo({password});if(!_this4.coreApi){throw new Error('coreApi is undefined');}defaultLogger.account.accountCreatePerf.getAddressesFromHd();var{addresses:addressesInfo}=yield _this4.coreApi.getAddressesFromHd({networkInfo:yield _this4.getCoreApiNetworkInfo(),template,hdCredential:checkIsDefined(credentials.hd),password,indexes:usedIndexes,addressEncoding});if(addressesInfo.length!==usedIndexes.length){throw new OneKeyInternalError('Unable to get address');}defaultLogger.account.accountCreatePerf.getAddressesFromHdDone();return addressesInfo;});return function buildAddressesInfo(_x13){return _ref3.apply(this,arguments);};}()}));});function basePrepareAccountsHdUtxo(_x11,_x12){return _basePrepareAccountsHdUtxo.apply(this,arguments);}return basePrepareAccountsHdUtxo;}();_proto.baseExportAccountSecretKeys=function(){var _baseExportAccountSecretKeys=_asyncToGenerator(function*(params){var{password,keyType,relPaths}=params;var account=yield this.vault.getAccount();var networkInfo=yield this.getCoreApiNetworkInfo();var credentials=yield this.baseGetCredentialsInfo({password});var{deriveInfo}=yield this.backgroundApi.serviceNetwork.getDeriveTypeByTemplate({networkId:this.networkId,template:account.template});var addressEncoding=deriveInfo?.addressEncoding;if(!this.coreApi){throw new Error('coreApi is not defined');}return this.coreApi.getExportedSecretKey({networkInfo,password,credentials,account,relPaths,keyType,addressEncoding});});function baseExportAccountSecretKeys(_x14){return _baseExportAccountSecretKeys.apply(this,arguments);}return baseExportAccountSecretKeys;}();_proto.baseGetPrivateKeys=function(){var _baseGetPrivateKeys=_asyncToGenerator(function*(params){var{password,relPaths}=params;if(!this.coreApi){throw new Error('coreApi is not defined');}var account=yield this.vault.getAccount();var credentials=yield this.baseGetCredentialsInfo({password});var networkInfo=yield this.getCoreApiNetworkInfo();var privateKeys=yield this.coreApi.getPrivateKeys({networkInfo,password,account,relPaths,credentials});return privateKeys;});function baseGetPrivateKeys(_x15){return _baseGetPrivateKeys.apply(this,arguments);}return baseGetPrivateKeys;}();return _createClass(KeyringSoftwareBase);}(KeyringBase);","import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import{InvalidAddress,OneKeyInternalError}from'@onekeyhq/shared/src/errors';import{ETranslations}from'@onekeyhq/shared/src/locale';import{appLocale}from'@onekeyhq/shared/src/locale/appLocale';import accountUtils from'@onekeyhq/shared/src/utils/accountUtils';import{checkIsDefined}from'@onekeyhq/shared/src/utils/assertUtils';import{EDBAccountType}from\"../../dbs/local/consts\";import{EVaultKeyringTypes}from\"../types\";import{KeyringBase}from\"./KeyringBase\";export var KeyringWatchingBase=function(_KeyringBase){_inherits(KeyringWatchingBase,_KeyringBase);var _super=_createSuper(KeyringWatchingBase);function KeyringWatchingBase(...args){var _this;_this=_super.call(this,...args);_this.keyringType=EVaultKeyringTypes.watching;return _this;}var _proto=KeyringWatchingBase.prototype;_proto.signTransaction=function(){var _signTransaction=_asyncToGenerator(function*(){throw new OneKeyInternalError(appLocale.intl.formatMessage({id:ETranslations.wallet_error_trade_with_watched_acocunt}));});function signTransaction(){return _signTransaction.apply(this,arguments);}return signTransaction;}();_proto.signMessage=function(){var _signMessage=_asyncToGenerator(function*(){throw new OneKeyInternalError(appLocale.intl.formatMessage({id:ETranslations.wallet_error_trade_with_watched_acocunt}));});function signMessage(){return _signMessage.apply(this,arguments);}return signMessage;}();_proto.basePrepareUtxoWatchingAccounts=function(){var _basePrepareUtxoWatchingAccounts=_asyncToGenerator(function*(params){var{address,xpub,networks,createAtNetwork,name,deriveInfo,isUrlAccount,addresses}=params;if(!address&&!xpub){throw new Error('basePrepareUtxoWatchingAccounts ERROR: address and xpub are not defined');}var networkInfo=yield this.getCoreApiNetworkInfo();var settings=yield this.getVaultSettings();var coinType=settings.coinTypeDefault;var addressEncoding=deriveInfo?.addressEncoding;var id=accountUtils.buildWatchingAccountId({coinType,address,xpub,addressEncoding,isUrlAccount});var addressFromXpub='';var xpubSegwit=xpub;if(!address&&xpub){checkIsDefined(this.coreApi);var result=yield this.coreApi?.getAddressFromPublic({publicKey:xpub,addressEncoding,networkInfo});addressFromXpub=result?.address||'';xpubSegwit=result?.xpubSegwit||xpubSegwit||xpub;}var account={id,name,type:EDBAccountType.UTXO,relPath:'0/0',coinType,impl:settings.impl,networks,createAtNetwork,address:addressFromXpub||address||'',xpub:xpub||'',xpubSegwit,path:'',addresses:addresses||{}};return[account];});function basePrepareUtxoWatchingAccounts(_x){return _basePrepareUtxoWatchingAccounts.apply(this,arguments);}return basePrepareUtxoWatchingAccounts;}();_proto.basePrepareSimpleWatchingAccounts=function(){var _basePrepareSimpleWatchingAccounts=_asyncToGenerator(function*(params,options={}){var{address,name,networks,createAtNetwork,isUrlAccount}=params;if(!address){throw new InvalidAddress();}if(!createAtNetwork){throw new Error('basePrepareSimpleWatchingAccounts ERROR: createAtNetwork is not defined');}var{onlyAvailableOnCertainNetworks=false}=options;var settings=yield this.getVaultSettings();var coinType=options.coinType||settings.coinTypeDefault;var impl=options.impl||settings.impl;var id=accountUtils.buildWatchingAccountId({coinType,address,isUrlAccount});var account={id,name:name||'',type:EDBAccountType.SIMPLE,coinType,impl,networks:onlyAvailableOnCertainNetworks?networks:undefined,createAtNetwork,address,pub:'',path:''};return Promise.resolve([account]);});function basePrepareSimpleWatchingAccounts(_x2){return _basePrepareSimpleWatchingAccounts.apply(this,arguments);}return basePrepareSimpleWatchingAccounts;}();return _createClass(KeyringWatchingBase);}(KeyringBase);","import _objectWithoutProperties from\"@babel/runtime/helpers/objectWithoutProperties\";import _omitBy from\"lodash/omitBy\";import _isEmpty from\"lodash/isEmpty\";import _isNil from\"lodash/isNil\";import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _omit from\"lodash/omit\";import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";var _excluded=[\"accountId\"],_excluded2=[\"accountId\"];function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import qs from'querystring';import{Semaphore}from'async-mutex';import BigNumber from'bignumber.js';import{decodeSensitiveText,encodeSensitiveText}from'@onekeyhq/core/src/secret';import{getNetworkIdsMap}from'@onekeyhq/shared/src/config/networkIds';import{NotImplemented}from'@onekeyhq/shared/src/errors';import platformEnv from'@onekeyhq/shared/src/platformEnv';import accountUtils from'@onekeyhq/shared/src/utils/accountUtils';import chainValueUtils from'@onekeyhq/shared/src/utils/chainValueUtils';import hexUtils from'@onekeyhq/shared/src/utils/hexUtils';import{getOnChainHistoryTxAssetInfo,getOnChainHistoryTxStatus}from'@onekeyhq/shared/src/utils/historyUtils';import{generateUUID}from'@onekeyhq/shared/src/utils/miscUtils';import{buildTxActionDirection,getStakingActionLabel}from'@onekeyhq/shared/src/utils/txActionUtils';import{addressIsEnsFormat}from'@onekeyhq/shared/src/utils/uriUtils';import{EServiceEndpointEnum}from'@onekeyhq/shared/types/endpoint';import{EOnChainHistoryTxType}from'@onekeyhq/shared/types/history';import{EDecodedTxActionType,EDecodedTxDirection}from'@onekeyhq/shared/types/tx';import{VaultContext}from\"./VaultContext\";if(platformEnv.isExtensionUi){debugger;throw new Error('engine/VaultBase is not allowed imported from ui');}export var VaultBaseChainOnly=function(_VaultContext){_inherits(VaultBaseChainOnly,_VaultContext);var _super=_createSuper(VaultBaseChainOnly);function VaultBaseChainOnly(){return _super.apply(this,arguments);}var _proto=VaultBaseChainOnly.prototype;_proto.getXpubFromAccount=function(){var _getXpubFromAccount=_asyncToGenerator(function*(networkAccount){return networkAccount.xpub;});function getXpubFromAccount(_x){return _getXpubFromAccount.apply(this,arguments);}return getXpubFromAccount;}();_proto.proxyJsonRPCCall=function(){var _proxyJsonRPCCall=_asyncToGenerator(function*(request){throw new NotImplemented();});function proxyJsonRPCCall(_x2){return _proxyJsonRPCCall.apply(this,arguments);}return proxyJsonRPCCall;}();_proto.addressFromBase=function(){var _addressFromBase=_asyncToGenerator(function*(account){throw new NotImplemented();});function addressFromBase(_x3){return _addressFromBase.apply(this,arguments);}return addressFromBase;}();_proto.addressToBase=function(){var _addressToBase=_asyncToGenerator(function*(address){throw new NotImplemented();});function addressToBase(_x4){return _addressToBase.apply(this,arguments);}return addressToBase;}();_proto.baseValidatePrivateKey=function(){var _baseValidatePrivateKey=_asyncToGenerator(function*(privateKey){if(!this.coreApi){throw new Error('coreApi not defined in Vault');}try{var networkInfo=yield this.getCoreApiNetworkInfo();var result=yield this.coreApi.getAddressFromPrivate({networkInfo,privateKeyRaw:privateKey});if(result.publicKey){return{isValid:true};}}catch(error){}return{isValid:false};});function baseValidatePrivateKey(_x5){return _baseValidatePrivateKey.apply(this,arguments);}return baseValidatePrivateKey;}();_proto.baseValidateGeneralInput=function(){var _baseValidateGeneralInput=_asyncToGenerator(function*(params){var input=decodeSensitiveText({encodedText:params.input});var{validateAddress,validateXprvt,validateXpub,validatePrivateKey}=params;var result={isValid:false};var isValid=false;var addressResult;var xpubResult;var xprvtResult;var privateKeyResult;if(validateAddress&&!isValid){try{addressResult=yield this.validateAddress(input);result.addressResult=addressResult;isValid=isValid||addressResult?.isValid;}catch(error){}}if(validateXpub&&!isValid){try{xpubResult=yield this.validateXpub(input);result.xpubResult=xpubResult;isValid=isValid||xpubResult?.isValid;}catch(error){}}if(validateXprvt&&!isValid){try{xprvtResult=yield this.validateXprvt(input);result.xprvtResult=xprvtResult;isValid=isValid||xprvtResult?.isValid;}catch(error){}}if(validatePrivateKey&&!isValid){try{privateKeyResult=yield this.validatePrivateKey(input);result.privateKeyResult=privateKeyResult;isValid=isValid||privateKeyResult?.isValid;}catch(error){}}result.isValid=Boolean(isValid);return{result,inputDecoded:input};});function baseValidateGeneralInput(_x6){return _baseValidateGeneralInput.apply(this,arguments);}return baseValidateGeneralInput;}();_proto.baseGetPrivateKeyFromImported=function(){var _baseGetPrivateKeyFromImported=_asyncToGenerator(function*(params){var input=decodeSensitiveText({encodedText:params.input});var privateKey=hexUtils.stripHexPrefix(input);privateKey=encodeSensitiveText({text:privateKey});return{privateKey};});function baseGetPrivateKeyFromImported(_x7){return _baseGetPrivateKeyFromImported.apply(this,arguments);}return baseGetPrivateKeyFromImported;}();_proto.validateAmountInputShown=function(){var _validateAmountInputShown=_asyncToGenerator(function*({toAddress}){return Promise.resolve({isValid:true});});function validateAmountInputShown(_x8){return _validateAmountInputShown.apply(this,arguments);}return validateAmountInputShown;}();_proto.checkIsDomainName=function(){var _checkIsDomainName=_asyncToGenerator(function*({name}){return addressIsEnsFormat(name);});function checkIsDomainName(_x9){return _checkIsDomainName.apply(this,arguments);}return checkIsDomainName;}();_proto.resolveDomainName=function(){var _resolveDomainName=_asyncToGenerator(function*({name}){return null;});function resolveDomainName(_x10){return _resolveDomainName.apply(this,arguments);}return resolveDomainName;}();_proto.getCustomRpcEndpointStatus=function(){var _getCustomRpcEndpointStatus=_asyncToGenerator(function*(params){throw new NotImplemented();});function getCustomRpcEndpointStatus(_x11){return _getCustomRpcEndpointStatus.apply(this,arguments);}return getCustomRpcEndpointStatus;}();_proto.checkFeeSupportInfo=function(){var _checkFeeSupportInfo=_asyncToGenerator(function*(params){throw new NotImplemented();});function checkFeeSupportInfo(_x12){return _checkFeeSupportInfo.apply(this,arguments);}return checkFeeSupportInfo;}();_proto.fetchTokenDetails=function(){var _fetchTokenDetails=_asyncToGenerator(function*(params){var isCustomNetwork=yield this.backgroundApi.serviceNetwork.isCustomNetwork({networkId:this.networkId});if(isCustomNetwork){return this.fetchTokenDetailsByRpc(params);}return this.fetchTokenDetailsByApi(params);});function fetchTokenDetails(_x13){return _fetchTokenDetails.apply(this,arguments);}return fetchTokenDetails;}();_proto.fetchTokenDetailsByApi=function(){var _fetchTokenDetailsByApi=_asyncToGenerator(function*(params){var _params$signal;var client=yield this.backgroundApi.serviceToken.getClient(EServiceEndpointEnum.Wallet);var resp=yield client.post('/wallet/v1/account/token/search',_omit(params,['walletId','accountId','signal']),{headers:yield this.backgroundApi.serviceAccountProfile._getWalletTypeHeader({accountId:params.accountId,walletId:params.walletId}),signal:(_params$signal=params.signal)!=null?_params$signal:undefined});return resp;});function fetchTokenDetailsByApi(_x14){return _fetchTokenDetailsByApi.apply(this,arguments);}return fetchTokenDetailsByApi;}();_proto.fetchTokenDetailsByRpc=function(){var _fetchTokenDetailsByRpc=_asyncToGenerator(function*(params){throw new NotImplemented();});function fetchTokenDetailsByRpc(_x15){return _fetchTokenDetailsByRpc.apply(this,arguments);}return fetchTokenDetailsByRpc;}();return _createClass(VaultBaseChainOnly);}(VaultContext);export var VaultBase=function(_VaultBaseChainOnly){_inherits(VaultBase,_VaultBaseChainOnly);var _super2=_createSuper(VaultBase);function VaultBase(...args){var _this;_this=_super2.call(this,...args);_this.uuid=generateUUID();_this.mutexBuildOnChainHistoryTxGetDBAccount=new Semaphore(1);return _this;}var _proto2=VaultBase.prototype;_proto2.init=function(){var _init=_asyncToGenerator(function*(config){yield this.initKeyring(config);});function init(_x16){return _init.apply(this,arguments);}return init;}();_proto2.initKeyring=function(){var _initKeyring=_asyncToGenerator(function*(config){if(!this.options.isChainOnly){this.keyring=yield config.keyringCreator(this);}});function initKeyring(_x17){return _initKeyring.apply(this,arguments);}return initKeyring;}();_proto2.broadcastTransaction=function(){var _broadcastTransaction=_asyncToGenerator(function*(params){var{signedTx}=params;var txid=yield this.backgroundApi.serviceSend.broadcastTransaction(params);return _objectSpread(_objectSpread({},signedTx),{},{txid,encodedTx:signedTx.encodedTx});});function broadcastTransaction(_x18){return _broadcastTransaction.apply(this,arguments);}return broadcastTransaction;}();_proto2.broadcastTransactionFromCustomRpc=function(){var _broadcastTransactionFromCustomRpc=_asyncToGenerator(function*(params){throw new NotImplemented();});function broadcastTransactionFromCustomRpc(_x19){return _broadcastTransactionFromCustomRpc.apply(this,arguments);}return broadcastTransactionFromCustomRpc;}();_proto2.validateSendAmount=function(){var _validateSendAmount=_asyncToGenerator(function*(params){return Promise.resolve(true);});function validateSendAmount(_x20){return _validateSendAmount.apply(this,arguments);}return validateSendAmount;}();_proto2.buildOnChainHistoryTxExtraInfo=function(){var _buildOnChainHistoryTxExtraInfo=_asyncToGenerator(function*({onChainHistoryTx}){return null;});function buildOnChainHistoryTxExtraInfo(_x21){return _buildOnChainHistoryTxExtraInfo.apply(this,arguments);}return buildOnChainHistoryTxExtraInfo;}();_proto2.precheckUnsignedTx=function(){var _precheckUnsignedTx=_asyncToGenerator(function*(params){return Promise.resolve(true);});function precheckUnsignedTx(_x22){return _precheckUnsignedTx.apply(this,arguments);}return precheckUnsignedTx;}();_proto2.buildEstimateFeeParams=function(){var _buildEstimateFeeParams=_asyncToGenerator(function*({encodedTx}){return Promise.resolve({encodedTx});});function buildEstimateFeeParams(_x23){return _buildEstimateFeeParams.apply(this,arguments);}return buildEstimateFeeParams;}();_proto2.buildParseTransactionParams=function(){var _buildParseTransactionParams=_asyncToGenerator(function*({encodedTx}){return Promise.resolve({encodedTx});});function buildParseTransactionParams(_x24){return _buildParseTransactionParams.apply(this,arguments);}return buildParseTransactionParams;}();_proto2.buildFetchHistoryListParams=function(){var _buildFetchHistoryListParams=_asyncToGenerator(function*(params){return Promise.resolve({});});function buildFetchHistoryListParams(_x25){return _buildFetchHistoryListParams.apply(this,arguments);}return buildFetchHistoryListParams;}();_proto2.buildHistoryTx=function(){var _buildHistoryTx=_asyncToGenerator(function*(params){var{historyTxToMerge,decodedTx,signedTx,isSigner,isLocalCreated,dbAccount}=params;var accountAddress=params.accountAddress||'';var xpub=params.xpub;var txid=signedTx?.txid||decodedTx?.txid||'';if(!txid){throw new Error('buildHistoryTx txid not found');}var{accountId,networkId}=decodedTx;try{var[a,x]=yield Promise.all([this.backgroundApi.serviceAccount.getAccountAddressForApi({dbAccount,accountId,networkId}),this.backgroundApi.serviceAccount.getAccountXpub({dbAccount,accountId,networkId})]);accountAddress=a;xpub=x;}catch(e){}decodedTx.txid=txid||decodedTx.txid;decodedTx.owner=accountAddress;decodedTx.xpub=xpub;if(isSigner){decodedTx.signer=accountAddress;}var historyId=accountUtils.buildLocalHistoryId({networkId,txid,accountAddress,xpub});var historyTx=_objectSpread(_objectSpread({id:historyId,isLocalCreated:Boolean(isLocalCreated)},historyTxToMerge),{},{decodedTx});return Promise.resolve(historyTx);});function buildHistoryTx(_x26){return _buildHistoryTx.apply(this,arguments);}return buildHistoryTx;}();_proto2.fixOnChainHistoryAccountData=function fixOnChainHistoryAccountData(params){var{accountId:originAccountId,networkId:originNetworkId,accountAddress:originAccountAddress,xpub:originXpub,onChainHistoryTx,allNetworkHistoryExtraItems}=params;var accountId=originAccountId;var networkId=originNetworkId;var accountAddress=originAccountAddress;var xpub=originXpub;if(originNetworkId===getNetworkIdsMap().onekeyall){var allNetworkAccount=allNetworkHistoryExtraItems?.find(function(i){var[_,txXpub]=onChainHistoryTx.key.split('_');if(!_isNil(i.accountXpub)){return i.networkId===onChainHistoryTx.networkId&&i.accountXpub===txXpub;}return i.networkId===onChainHistoryTx.networkId;});if(allNetworkAccount){accountId=allNetworkAccount.accountId;networkId=allNetworkAccount.networkId;accountAddress=allNetworkAccount.accountAddress;xpub=allNetworkAccount.accountXpub;}}return{accountId,networkId,accountAddress,xpub};};_proto2.buildOnChainHistoryTx=function(){var _buildOnChainHistoryTx=_asyncToGenerator(function*(params){var _this2=this;var{onChainHistoryTx,tokens,nfts,allNetworkHistoryExtraItems,dbAccountCache}=params;var{accountId,networkId,accountAddress,xpub}=this.fixOnChainHistoryAccountData({accountId:params.accountId,networkId:params.networkId,accountAddress:params.accountAddress,xpub:params.xpub,onChainHistoryTx,allNetworkHistoryExtraItems});if(params.accountId!==accountId){}var key=`${accountId}`;var dbAccount;if(dbAccountCache){yield this.mutexBuildOnChainHistoryTxGetDBAccount.runExclusive(_asyncToGenerator(function*(){dbAccount=dbAccountCache?.[key];if(!dbAccount){dbAccount=yield _this2.backgroundApi.serviceAccount.getDBAccountSafe({accountId});if(dbAccount){dbAccountCache[key]=dbAccount;}}}));}var vaultSettings=yield this.backgroundApi.serviceNetwork.getVaultSettings({networkId});try{var action=yield this.buildHistoryTxAction({tx:onChainHistoryTx,tokens,nfts});var decodedTx={txid:onChainHistoryTx.tx,owner:accountAddress,signer:onChainHistoryTx.from,to:onChainHistoryTx.to,nonce:onChainHistoryTx.nonce,actions:[action],status:getOnChainHistoryTxStatus(onChainHistoryTx.status),networkId,accountId,xpub,totalFeeInNative:onChainHistoryTx.gasFee,totalFeeFiatValue:onChainHistoryTx.gasFeeFiatValue,nativeAmount:vaultSettings.isUtxo?onChainHistoryTx.value:undefined,extraInfo:yield this.buildOnChainHistoryTxExtraInfo({onChainHistoryTx}),payload:{type:onChainHistoryTx.type,value:onChainHistoryTx.value,label:onChainHistoryTx.label}};decodedTx.updatedAt=new Date(onChainHistoryTx.timestamp*1000).getTime();decodedTx.createdAt=decodedTx.updatedAt;decodedTx.isFinal=true;return yield this.buildHistoryTx({dbAccount,decodedTx,accountAddress,xpub});}catch(e){return null;}});function buildOnChainHistoryTx(_x27){return _buildOnChainHistoryTx.apply(this,arguments);}return buildOnChainHistoryTx;}();_proto2.buildHistoryTxAction=function(){var _buildHistoryTxAction=_asyncToGenerator(function*({tx,tokens,nfts}){if(tx.type===EOnChainHistoryTxType.Approve&&tx.tokenApprove){return this.buildHistoryTxApproveAction({tx,tokens,nfts,tokenApprove:tx.tokenApprove});}if(_isEmpty(tx.sends)&&_isEmpty(tx.receives)){if(tx.type)return this.buildHistoryTxFunctionCallAction({tx});return this.buildHistoryTxUnknownAction({tx});}return this.buildHistoryTransferAction({tx,tokens,nfts});});function buildHistoryTxAction(_x28){return _buildHistoryTxAction.apply(this,arguments);}return buildHistoryTxAction;}();_proto2.buildHistoryTxFunctionCallAction=function(){var _buildHistoryTxFunctionCallAction=_asyncToGenerator(function*({tx}){var network=yield this.getNetwork();return{type:EDecodedTxActionType.FUNCTION_CALL,functionCall:{from:tx.from,to:tx.to,functionName:tx.label,functionHash:tx.functionCode,args:tx.params}};});function buildHistoryTxFunctionCallAction(_x29){return _buildHistoryTxFunctionCallAction.apply(this,arguments);}return buildHistoryTxFunctionCallAction;}();_proto2.buildHistoryTxUnknownAction=function(){var _buildHistoryTxUnknownAction=_asyncToGenerator(function*({tx}){var network=yield this.getNetwork();return{type:EDecodedTxActionType.UNKNOWN,unknownAction:{from:tx.from,to:tx.to,label:tx.label}};});function buildHistoryTxUnknownAction(_x30){return _buildHistoryTxUnknownAction.apply(this,arguments);}return buildHistoryTxUnknownAction;}();_proto2.buildHistoryTransferAction=function(){var _buildHistoryTransferAction=_asyncToGenerator(function*({tx,tokens,nfts}){var _this3=this;return{type:EDecodedTxActionType.ASSET_TRANSFER,assetTransfer:{from:tx.from,to:tx.to,label:tx.label,sends:tx.sends.map(function(send){return _this3.buildHistoryTransfer({transfer:send,tokens,nfts});}),receives:tx.receives.map(function(receive){return _this3.buildHistoryTransfer({transfer:receive,tokens,nfts});})}};});function buildHistoryTransferAction(_x31){return _buildHistoryTransferAction.apply(this,arguments);}return buildHistoryTransferAction;}();_proto2.buildHistoryTransfer=function buildHistoryTransfer({transfer,tokens,nfts}){var{icon,symbol,name,isNFT,isNative,price}=getOnChainHistoryTxAssetInfo({key:transfer.key,tokenAddress:transfer.token,tokens,nfts});return{from:transfer.from,to:transfer.to,tokenIdOnNetwork:transfer.token,amount:transfer.amount,label:transfer.label,isOwn:transfer.isOwn,icon,name,symbol,isNFT,isNative,price};};_proto2.buildHistoryTxApproveAction=function buildHistoryTxApproveAction({tx,tokens,nfts,tokenApprove}){var{icon,symbol,name,decimals}=getOnChainHistoryTxAssetInfo({key:tokenApprove.key,tokenAddress:tokenApprove.token,tokens,nfts});return{type:EDecodedTxActionType.TOKEN_APPROVE,tokenApprove:{from:tx.from,to:tx.to,spender:tokenApprove.spender,icon,name,symbol,decimals,label:tx.label,tokenIdOnNetwork:tokenApprove.token,amount:new BigNumber(tokenApprove.amount).shiftedBy(-decimals).toFixed(),isInfiniteAmount:tokenApprove.isInfiniteAmount}};};_proto2.buildTxTransferAssetAction=function(){var _buildTxTransferAssetAction=_asyncToGenerator(function*(params){var{from,to,transfers,data,application,isInternalSwap,isInternalStaking,internalStakingLabel,swapReceivedAddress,swapReceivedNetworkId}=params;var[accountAddress,network]=yield Promise.all([this.getAccountAddress(),this.getNetwork()]);var sendNativeTokenAmountBN=new BigNumber(0);var assetTransfer={from,to,sends:[],receives:[],application,isInternalSwap,isInternalStaking,internalStakingLabel,swapReceivedAddress,swapReceivedNetworkId};transfers.forEach(function(transfer){if(buildTxActionDirection({from:transfer.from,to:transfer.to,accountAddress})===EDecodedTxDirection.OUT){assetTransfer.sends.push(transfer);if(transfer.isNative){sendNativeTokenAmountBN=sendNativeTokenAmountBN.plus(new BigNumber(transfer.amount));}}else{assetTransfer.receives.push(transfer);}});assetTransfer.nativeAmount=sendNativeTokenAmountBN.toFixed();assetTransfer.nativeAmountValue=chainValueUtils.convertAmountToChainValue({value:sendNativeTokenAmountBN,network});return{type:EDecodedTxActionType.ASSET_TRANSFER,data,assetTransfer};});function buildTxTransferAssetAction(_x32){return _buildTxTransferAssetAction.apply(this,arguments);}return buildTxTransferAssetAction;}();_proto2.buildInternalSwapAction=function(){var _buildInternalSwapAction=_asyncToGenerator(function*(params){var _swapSendToken$logoUR,_swapSendToken$name,_swapReceiveToken$log,_swapReceiveToken$nam,_providerInfo$provide;var{swapData,swapInfo,swapToAddress}=params;var swapSendToken=swapInfo.sender.token;var swapReceiveToken=swapInfo.receiver.token;var providerInfo=swapInfo.swapBuildResData.result.info;var otherFeeInfos=swapInfo.swapBuildResData.result.fee?.otherFeeInfos;var otherFeeInfoTransfers=[];var transfers=[{from:swapInfo.accountAddress,to:'',tokenIdOnNetwork:swapSendToken.contractAddress,icon:(_swapSendToken$logoUR=swapSendToken.logoURI)!=null?_swapSendToken$logoUR:'',name:(_swapSendToken$name=swapSendToken.name)!=null?_swapSendToken$name:'',symbol:swapSendToken.symbol,amount:swapInfo.sender.amount,isNFT:false,isNative:swapSendToken.isNative,networkId:swapInfo.sender.accountInfo.networkId},{from:'',to:swapInfo.receivingAddress,tokenIdOnNetwork:swapReceiveToken.contractAddress,icon:(_swapReceiveToken$log=swapReceiveToken.logoURI)!=null?_swapReceiveToken$log:'',name:(_swapReceiveToken$nam=swapReceiveToken.name)!=null?_swapReceiveToken$nam:'',symbol:swapReceiveToken.symbol,amount:swapInfo.receiver.amount,isNFT:false,isNative:swapReceiveToken.isNative,networkId:swapInfo.receiver.accountInfo.networkId}];if(otherFeeInfos){otherFeeInfos.forEach(function(feeInfo){if(feeInfo.token.contractAddress===transfers[0].tokenIdOnNetwork){transfers[0].amount=new BigNumber(transfers[0].amount).plus(feeInfo.amount).toFixed();}else{var _feeInfo$token$logoUR,_feeInfo$token$name;otherFeeInfoTransfers.push({from:swapInfo.accountAddress,to:'',tokenIdOnNetwork:feeInfo.token.contractAddress,icon:(_feeInfo$token$logoUR=feeInfo.token.logoURI)!=null?_feeInfo$token$logoUR:'',name:(_feeInfo$token$name=feeInfo.token.name)!=null?_feeInfo$token$name:'',symbol:feeInfo.token.symbol,amount:feeInfo.amount,isNFT:false,isNative:feeInfo.token.isNative,networkId:swapInfo.sender.accountInfo.networkId});}});}transfers=[...otherFeeInfoTransfers,...transfers];var action=yield this.buildTxTransferAssetAction({from:swapInfo.accountAddress,to:swapToAddress!=null?swapToAddress:'',data:swapData,application:{name:providerInfo.providerName,icon:(_providerInfo$provide=providerInfo.providerLogo)!=null?_providerInfo$provide:''},isInternalSwap:true,swapReceivedAddress:swapInfo.receivingAddress,swapReceivedNetworkId:swapInfo.receiver.token.networkId,transfers});return action;});function buildInternalSwapAction(_x33){return _buildInternalSwapAction.apply(this,arguments);}return buildInternalSwapAction;}();_proto2.buildInternalStakingAction=function(){var _buildInternalStakingAction=_asyncToGenerator(function*(params){var _send$token$logoURI,_send$token$name,_receive$token$logoUR,_receive$token$name;var{stakingInfo,stakingData,accountAddress,stakingToAddress}=params;var{protocol,protocolLogoURI,send,receive}=stakingInfo;var transfers=[send&&{from:accountAddress,to:'',tokenIdOnNetwork:send.token.address,icon:(_send$token$logoURI=send.token.logoURI)!=null?_send$token$logoURI:'',name:(_send$token$name=send.token.name)!=null?_send$token$name:'',symbol:send.token.symbol,amount:send.amount,isNFT:false,isNative:send.token.isNative},receive&&{from:'',to:accountAddress,tokenIdOnNetwork:receive.token.address,icon:(_receive$token$logoUR=receive.token.logoURI)!=null?_receive$token$logoUR:'',name:(_receive$token$name=receive.token.name)!=null?_receive$token$name:'',symbol:receive.token.symbol,amount:receive.amount,isNFT:false,isNative:receive.token.isNative}].filter(Boolean);var action=yield this.buildTxTransferAssetAction({from:accountAddress,to:stakingToAddress!=null?stakingToAddress:'',data:stakingData,application:{name:protocol,icon:protocolLogoURI!=null?protocolLogoURI:''},isInternalStaking:true,internalStakingLabel:getStakingActionLabel({stakingInfo}),transfers});return action;});function buildInternalStakingAction(_x34){return _buildInternalStakingAction.apply(this,arguments);}return buildInternalStakingAction;}();_proto2.signTransaction=function(){var _signTransaction=_asyncToGenerator(function*(params){var _params$signOnly,_signedTx$encodedTx;var{unsignedTx}=params;params.signOnly=(_params$signOnly=params.signOnly)!=null?_params$signOnly:true;var signedTx=yield this.keyring.signTransaction(params);return _objectSpread(_objectSpread({},signedTx),{},{encodedTx:(_signedTx$encodedTx=signedTx.encodedTx)!=null?_signedTx$encodedTx:unsignedTx.encodedTx});});function signTransaction(_x35){return _signTransaction.apply(this,arguments);}return signTransaction;}();_proto2.getAccount=function(){var _getAccount=_asyncToGenerator(function*({dbAccount}={}){var account=dbAccount;if(!account||account?.id!==this.accountId){account=yield this.backgroundApi.serviceAccount.getDBAccount({accountId:this.accountId});}if(!accountUtils.isAccountCompatibleWithNetwork({account,networkId:this.networkId})){throw new Error(`account impl not matched to network: ${this.networkId} ${account.id?.slice(0,30)}`);}var networkInfo=yield this.getNetworkInfo();var externalAccount=account;var externalAccountAddress='';if(externalAccount.connectedAddresses){var buildExternalAccountAddress=function({key,fallbackIndex}){var _externalAccount$sele;if(!key){return'';}var index=(_externalAccount$sele=externalAccount.selectedAddress?.[key])!=null?_externalAccount$sele:fallbackIndex;var addresses=externalAccount.connectedAddresses?.[key]?.split(',').filter(Boolean)||[];return addresses?.[index]||addresses?.[fallbackIndex]||'';};externalAccountAddress=buildExternalAccountAddress({key:this.networkId,fallbackIndex:-1});if(!externalAccountAddress){var impl=yield this.getNetworkImpl();externalAccountAddress=buildExternalAccountAddress({key:impl,fallbackIndex:0});}if(!externalAccountAddress){externalAccountAddress=buildExternalAccountAddress({key:this.networkId,fallbackIndex:0});}}var addressDetail=yield this.buildAccountAddressDetail({networkInfo,account,networkId:this.networkId,externalAccountAddress});var address=addressDetail?.address||'';if(!address&&!addressDetail.allowEmptyAddress||!addressDetail.isValid){throw new Error('VaultBase.getAccount ERROR: address is invalid');}return _objectSpread(_objectSpread({},account),{},{addressDetail,address});});function getAccount(){return _getAccount.apply(this,arguments);}return getAccount;}();_proto2.getAccountAddress=function(){var _getAccountAddress=_asyncToGenerator(function*(){return(yield this.getAccount()).address;});function getAccountAddress(){return _getAccountAddress.apply(this,arguments);}return getAccountAddress;}();_proto2.getAccountPath=function(){var _getAccountPath=_asyncToGenerator(function*(){return(yield this.getAccount()).path;});function getAccountPath(){return _getAccountPath.apply(this,arguments);}return getAccountPath;}();_proto2.getAccountXpub=function(){var _getAccountXpub=_asyncToGenerator(function*({dbAccount}={}){var networkAccount=yield this.getAccount({dbAccount});return this.getXpubFromAccount(networkAccount);});function getAccountXpub(){return _getAccountXpub.apply(this,arguments);}return getAccountXpub;}();_proto2.fillTokensDetails=function(){var _fillTokensDetails=_asyncToGenerator(function*({tokensDetails}){return Promise.resolve(tokensDetails);});function fillTokensDetails(_x36){return _fillTokensDetails.apply(this,arguments);}return fillTokensDetails;}();_proto2.fillAccountDetails=function(){var _fillAccountDetails=_asyncToGenerator(function*({accountDetails}){return Promise.resolve(accountDetails);});function fillAccountDetails(_x37){return _fillAccountDetails.apply(this,arguments);}return fillAccountDetails;}();_proto2.isEarliestLocalPendingTx=function(){var _isEarliestLocalPendingTx=_asyncToGenerator(function*({encodedTx}){return true;});function isEarliestLocalPendingTx(_x38){return _isEarliestLocalPendingTx.apply(this,arguments);}return isEarliestLocalPendingTx;}();_proto2.buildReplaceEncodedTx=function(){var _buildReplaceEncodedTx=_asyncToGenerator(function*({decodedTx,replaceType}){return Promise.resolve(decodedTx.encodedTx);});function buildReplaceEncodedTx(_x39){return _buildReplaceEncodedTx.apply(this,arguments);}return buildReplaceEncodedTx;}();_proto2.attachFeeInfoToDAppEncodedTx=function(){var _attachFeeInfoToDAppEncodedTx=_asyncToGenerator(function*(params){return Promise.resolve(params.encodedTx);});function attachFeeInfoToDAppEncodedTx(_x40){return _attachFeeInfoToDAppEncodedTx.apply(this,arguments);}return attachFeeInfoToDAppEncodedTx;}();_proto2.activateToken=function(){var _activateToken=_asyncToGenerator(function*(params){throw new NotImplemented();});function activateToken(_x41){return _activateToken.apply(this,arguments);}return activateToken;}();_proto2.getAddressType=function(){var _getAddressType=_asyncToGenerator(function*({address}){return Promise.resolve({});});function getAddressType(_x42){return _getAddressType.apply(this,arguments);}return getAddressType;}();_proto2.buildStakeEncodedTx=function buildStakeEncodedTx(params){return Promise.resolve(params);};_proto2.fetchAccountDetails=function(){var _fetchAccountDetails=_asyncToGenerator(function*(params){var isCustomNetwork=yield this.backgroundApi.serviceNetwork.isCustomNetwork({networkId:this.networkId});if(isCustomNetwork){return this.fetchAccountDetailsByRpc(params);}return this.fetchAccountDetailsByApi(params);});function fetchAccountDetails(_x43){return _fetchAccountDetails.apply(this,arguments);}return fetchAccountDetails;}();_proto2.fetchAccountDetailsByApi=function(){var _fetchAccountDetailsByApi=_asyncToGenerator(function*(params){var queryParams=_objectSpread({},_omit(params,['accountId','signal']));var client=yield this.backgroundApi.serviceAccountProfile.getClient(EServiceEndpointEnum.Wallet);var resp=yield client.get(`/wallet/v1/account/get-account?${qs.stringify(_omitBy(queryParams,_isNil))}`,{headers:yield this.backgroundApi.serviceAccountProfile._getWalletTypeHeader({accountId:params.accountId}),signal:params.signal});return resp;});function fetchAccountDetailsByApi(_x44){return _fetchAccountDetailsByApi.apply(this,arguments);}return fetchAccountDetailsByApi;}();_proto2.fetchAccountDetailsByRpc=function(){var _fetchAccountDetailsByRpc=_asyncToGenerator(function*(params){throw new NotImplemented();});function fetchAccountDetailsByRpc(_x45){return _fetchAccountDetailsByRpc.apply(this,arguments);}return fetchAccountDetailsByRpc;}();_proto2.fetchTokenList=function(){var _fetchTokenList=_asyncToGenerator(function*(params){var isCustomNetwork=yield this.backgroundApi.serviceNetwork.isCustomNetwork({networkId:this.networkId});if(isCustomNetwork){return this.fetchTokenListByRpc(params);}return this.fetchTokenListByApi(params);});function fetchTokenList(_x46){return _fetchTokenList.apply(this,arguments);}return fetchTokenList;}();_proto2.fetchTokenListByApi=function(){var _fetchTokenListByApi=_asyncToGenerator(function*(params){var{serviceToken,serviceAccountProfile}=this.backgroundApi;var{requestApiParams,flag,signal,accountId}=params;if(requestApiParams.contractList){requestApiParams.contractList=requestApiParams.contractList.filter(function(contract){return contract!==null&&typeof contract==='string';});}var client=yield serviceToken.getClient(EServiceEndpointEnum.Wallet);var resp=yield client.post(`/wallet/v1/account/token/list?flag=${flag||''}`,requestApiParams,{signal,headers:yield serviceAccountProfile._getWalletTypeHeader({accountId})});return resp;});function fetchTokenListByApi(_x47){return _fetchTokenListByApi.apply(this,arguments);}return fetchTokenListByApi;}();_proto2.fetchTokenListByRpc=function(){var _fetchTokenListByRpc=_asyncToGenerator(function*(params){throw new NotImplemented();});function fetchTokenListByRpc(_x48){return _fetchTokenListByRpc.apply(this,arguments);}return fetchTokenListByRpc;}();_proto2.estimateFee=function(){var _estimateFee=_asyncToGenerator(function*(params){var isCustomNetwork=yield this.backgroundApi.serviceNetwork.isCustomNetwork({networkId:this.networkId});if(isCustomNetwork){return this.estimateFeeByRpc(params);}return this.estimateFeeByApi(params);});function estimateFee(_x49){return _estimateFee.apply(this,arguments);}return estimateFee;}();_proto2.estimateFeeByApi=function(){var _estimateFeeByApi=_asyncToGenerator(function*(params){var{accountId}=params,rest=_objectWithoutProperties(params,_excluded);var client=yield this.backgroundApi.serviceGas.getClient(EServiceEndpointEnum.Wallet);var resp=yield client.post('/wallet/v1/account/estimate-fee',rest,{headers:yield this.backgroundApi.serviceAccountProfile._getWalletTypeHeader({accountId})});return resp;});function estimateFeeByApi(_x50){return _estimateFeeByApi.apply(this,arguments);}return estimateFeeByApi;}();_proto2.estimateFeeByRpc=function(){var _estimateFeeByRpc=_asyncToGenerator(function*(params){throw new NotImplemented();});function estimateFeeByRpc(_x51){return _estimateFeeByRpc.apply(this,arguments);}return estimateFeeByRpc;}();_proto2.fetchAccountHistoryDetail=function(){var _fetchAccountHistoryDetail=_asyncToGenerator(function*(params){var isCustomNetwork=yield this.backgroundApi.serviceNetwork.isCustomNetwork({networkId:this.networkId});if(isCustomNetwork){return this.fetchAccountHistoryDetailByRpc(params);}return this.fetchAccountHistoryDetailByApi(params);});function fetchAccountHistoryDetail(_x52){return _fetchAccountHistoryDetail.apply(this,arguments);}return fetchAccountHistoryDetail;}();_proto2.fetchAccountHistoryDetailByApi=function(){var _fetchAccountHistoryDetailByApi=_asyncToGenerator(function*(params){var{accountId}=params,rest=_objectWithoutProperties(params,_excluded2);var client=yield this.backgroundApi.serviceGas.getClient(EServiceEndpointEnum.Wallet);var resp=yield client.get('/wallet/v1/account/history/detail',{params:rest,headers:yield this.backgroundApi.serviceAccountProfile._getWalletTypeHeader({accountId})});return resp;});function fetchAccountHistoryDetailByApi(_x53){return _fetchAccountHistoryDetailByApi.apply(this,arguments);}return fetchAccountHistoryDetailByApi;}();_proto2.fetchAccountHistoryDetailByRpc=function(){var _fetchAccountHistoryDetailByRpc=_asyncToGenerator(function*(params){throw new NotImplemented();});function fetchAccountHistoryDetailByRpc(_x54){return _fetchAccountHistoryDetailByRpc.apply(this,arguments);}return fetchAccountHistoryDetailByRpc;}();_proto2.buildOkxSwapEncodedTx=function(){var _buildOkxSwapEncodedTx=_asyncToGenerator(function*(params){throw new NotImplemented();});function buildOkxSwapEncodedTx(_x55){return _buildOkxSwapEncodedTx.apply(this,arguments);}return buildOkxSwapEncodedTx;}();return _createClass(VaultBase);}(VaultBaseChainOnly);","import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import accountUtils from'@onekeyhq/shared/src/utils/accountUtils';import networkUtils from'@onekeyhq/shared/src/utils/networkUtils';import{getVaultSettings as _getVaultSettings,getVaultSettingsNetworkInfo}from\"../settings\";export var VaultContext=function(){function VaultContext(options){this.options=options;this.networkId=options.networkId||'';this.accountId=options.accountId||'';this.backgroundApi=options.backgroundApi;this.walletId=options.walletId||(this.accountId?accountUtils.getWalletIdFromAccountId({accountId:this.accountId}):'');if(!this.walletId&&!this.options.isChainOnly){throw new Error('can not get correct walletId');}}var _proto=VaultContext.prototype;_proto.getNetworkId=function(){var _getNetworkId=_asyncToGenerator(function*(){return this.networkId;});function getNetworkId(){return _getNetworkId.apply(this,arguments);}return getNetworkId;}();_proto.getNetwork=function(){var _getNetwork=_asyncToGenerator(function*({cached}={}){if(!cached||!this._network||this._network.id!==this.networkId){var network=yield this.backgroundApi.serviceNetwork.getNetwork({networkId:this.networkId});this._network=network;}return this._network;});function getNetwork(){return _getNetwork.apply(this,arguments);}return getNetwork;}();_proto.getNetworkChainId=function(){var _getNetworkChainId=_asyncToGenerator(function*({hex=false}={}){return networkUtils.getNetworkChainId({networkId:this.networkId,hex});});function getNetworkChainId(){return _getNetworkChainId.apply(this,arguments);}return getNetworkChainId;}();_proto.getNetworkImpl=function(){var _getNetworkImpl=_asyncToGenerator(function*(){return networkUtils.getNetworkImpl({networkId:this.networkId});});function getNetworkImpl(){return _getNetworkImpl.apply(this,arguments);}return getNetworkImpl;}();_proto.getVaultSettings=function(){var _getVaultSettings2=_asyncToGenerator(function*(){return _getVaultSettings({networkId:this.networkId});});function getVaultSettings(){return _getVaultSettings2.apply(this,arguments);}return getVaultSettings;}();_proto.getNetworkInfo=function(){var _getNetworkInfo=_asyncToGenerator(function*(){return getVaultSettingsNetworkInfo({networkId:this.networkId});});function getNetworkInfo(){return _getNetworkInfo.apply(this,arguments);}return getNetworkInfo;}();_proto.getCoreApiNetworkInfo=function(){var _getCoreApiNetworkInfo=_asyncToGenerator(function*(){var network=yield this.getNetwork();var networkInfo=yield this.getNetworkInfo();var{addressPrefix,curve}=networkInfo;var networkImpl=yield this.getNetworkImpl();var chainId=yield this.getNetworkChainId({hex:false});var{isTestnet}=network;var{networkId}=this;return{isTestnet,networkChainCode:network.code,chainId,networkId,networkImpl,addressPrefix,curve};});function getCoreApiNetworkInfo(){return _getCoreApiNetworkInfo.apply(this,arguments);}return getCoreApiNetworkInfo;}();_proto.getRpcUrl=function(){var _getRpcUrl=_asyncToGenerator(function*(){return'';});function getRpcUrl(){return _getRpcUrl.apply(this,arguments);}return getRpcUrl;}();_proto.destroy=function(){var _destroy=_asyncToGenerator(function*(){});function destroy(){return _destroy.apply(this,arguments);}return destroy;}();return _createClass(VaultContext);}();","import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import{NotImplemented}from'@onekeyhq/shared/src/errors';import{KeyringExternalBase}from\"../../base/KeyringExternalBase\";export var KeyringExternal=function(_KeyringExternalBase){_inherits(KeyringExternal,_KeyringExternalBase);var _super=_createSuper(KeyringExternal);function KeyringExternal(){return _super.apply(this,arguments);}var _proto=KeyringExternal.prototype;_proto.signMessage=function signMessage(params){throw new NotImplemented();};_proto.signTransaction=function signTransaction(params){throw new NotImplemented();};return _createClass(KeyringExternal);}(KeyringExternalBase);","import _map from\"lodash/map\";import _max from\"lodash/max\";import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import{TOKEN_PROGRAM_ID}from'@solana/spl-token';export var EParamsEncodings=function(EParamsEncodings){EParamsEncodings[\"BASE64\"]=\"base64\";EParamsEncodings[\"JSON_PARSED\"]=\"jsonParsed\";return EParamsEncodings;}({});export var ERpcMethods=function(ERpcMethods){ERpcMethods[\"SEND_TRANSACTION\"]=\"sendTransaction\";ERpcMethods[\"GET_EPOCH_INFO\"]=\"getEpochInfo\";ERpcMethods[\"GET_HEALTH\"]=\"getHealth\";ERpcMethods[\"GET_ACCOUNT_INFO\"]=\"getAccountInfo\";ERpcMethods[\"GET_TOKEN_ACCOUNTS_BY_OWNER\"]=\"getTokenAccountsByOwner\";ERpcMethods[\"GET_FEES\"]=\"getFees\";ERpcMethods[\"GET_FEES_FOR_MESSAGE\"]=\"getFeeForMessage\";ERpcMethods[\"GET_RECENT_PRIORITIZATION_FEES\"]=\"getRecentPrioritizationFees\";ERpcMethods[\"GET_TRANSACTION\"]=\"getTransaction\";ERpcMethods[\"GET_MINIMUM_BALANCE_FOR_RENT_EXEMPTION\"]=\"getMinimumBalanceForRentExemption\";ERpcMethods[\"GET_LATEST_BLOCK_HASH\"]=\"getLatestBlockhash\";return ERpcMethods;}({});export var MIN_PRIORITY_FEE=1_000_000;var ClientSol=function(){function ClientSol({networkId,backgroundApi}){this.networkId=networkId;this.backgroundApi=backgroundApi;}var _proto=ClientSol.prototype;_proto.getMinimumBalanceForRentExemption=function(){var _getMinimumBalanceForRentExemption=_asyncToGenerator(function*(dataLength){var[response]=yield this.backgroundApi.serviceAccountProfile.sendProxyRequest({networkId:this.networkId,body:[{route:'rpc',params:{method:ERpcMethods.GET_MINIMUM_BALANCE_FOR_RENT_EXEMPTION,params:[dataLength]}}]});return response;});function getMinimumBalanceForRentExemption(_x){return _getMinimumBalanceForRentExemption.apply(this,arguments);}return getMinimumBalanceForRentExemption;}();_proto.getLatestBlockHash=function(){var _getLatestBlockHash=_asyncToGenerator(function*(){var[response]=yield this.backgroundApi.serviceAccountProfile.sendProxyRequest({networkId:this.networkId,body:[{route:'rpc',params:{method:ERpcMethods.GET_LATEST_BLOCK_HASH,params:[{commitment:'confirmed'}]}}]});return{recentBlockhash:response.value.blockhash,lastValidBlockHeight:response.value.lastValidBlockHeight};});function getLatestBlockHash(){return _getLatestBlockHash.apply(this,arguments);}return getLatestBlockHash;}();_proto.getTokenAccountsByOwner=function(){var _getTokenAccountsByOwner=_asyncToGenerator(function*({address,programId=TOKEN_PROGRAM_ID}){var[response]=yield this.backgroundApi.serviceAccountProfile.sendProxyRequest({networkId:this.networkId,body:[{route:'rpc',params:{method:ERpcMethods.GET_TOKEN_ACCOUNTS_BY_OWNER,params:[address,{programId:programId.toString()},{encoding:EParamsEncodings.JSON_PARSED}]}}]});return response.value;});function getTokenAccountsByOwner(_x2){return _getTokenAccountsByOwner.apply(this,arguments);}return getTokenAccountsByOwner;}();_proto.getAccountInfo=function(){var _getAccountInfo=_asyncToGenerator(function*({address,encoding=EParamsEncodings.JSON_PARSED}){var[response]=yield this.backgroundApi.serviceAccountProfile.sendProxyRequest({networkId:this.networkId,body:[{route:'rpc',params:{method:ERpcMethods.GET_ACCOUNT_INFO,params:[address,{encoding}]}}]});return response.value;});function getAccountInfo(_x3){return _getAccountInfo.apply(this,arguments);}return getAccountInfo;}();_proto.getRecentPrioritizationFees=function(){var _getRecentPrioritizationFees=_asyncToGenerator(function*(accountAddresses){var[response]=yield this.backgroundApi.serviceAccountProfile.sendProxyRequest({networkId:this.networkId,body:[{route:'rpc',params:{method:ERpcMethods.GET_RECENT_PRIORITIZATION_FEES,params:[accountAddresses]}}]});return response;});function getRecentPrioritizationFees(_x4){return _getRecentPrioritizationFees.apply(this,arguments);}return getRecentPrioritizationFees;}();_proto.getRecentMaxPrioritizationFees=function(){var _getRecentMaxPrioritizationFees=_asyncToGenerator(function*(accountAddress){var resp=yield this.getRecentPrioritizationFees(accountAddress);return _max(_map(resp,'prioritizationFee'))||0;});function getRecentMaxPrioritizationFees(_x5){return _getRecentMaxPrioritizationFees.apply(this,arguments);}return getRecentMaxPrioritizationFees;}();return _createClass(ClientSol);}();export default ClientSol;","import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import{AddressLookupTableAccount,ComputeBudgetInstruction,ComputeBudgetProgram,PACKET_DATA_SIZE,PublicKey,Transaction,TransactionMessage,VersionedTransaction}from'@solana/web3.js';import bs58 from'bs58';import{EParamsEncodings}from\"./sdkSol/ClientSol\";export var TOKEN_METADATA_PROGRAM_ID=new PublicKey('metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s');export var TOKEN_AUTH_RULES_ID=new PublicKey('auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg');export var JUPITER_V6_PROGRAM_ID=new PublicKey('JUP6LkbZbjS1jKKwapdHNy74zcZ3tLUZoi5QNyVTaV4');export var MIN_PRIORITY_FEE=100_000;export var DEFAULT_COMPUTE_UNIT_LIMIT=200_000;export var BASE_FEE=5000;export var COMPUTE_UNIT_PRICE_DECIMALS=6;export var CREATE_TOKEN_ACCOUNT_RENT='0.00203928';export function isTxOverSize(encodedTx){var txBytes=bs58.decode(encodedTx);return txBytes.length>PACKET_DATA_SIZE;}export function metadataAddress(mint){return PublicKey.findProgramAddressSync([Buffer.from('metadata'),TOKEN_METADATA_PROGRAM_ID.toBuffer(),mint.toBuffer()],TOKEN_METADATA_PROGRAM_ID)[0];}export function tokenRecordAddress(mint,token){return PublicKey.findProgramAddressSync([Buffer.from('metadata'),TOKEN_METADATA_PROGRAM_ID.toBuffer(),mint.toBuffer(),Buffer.from('token_record'),token.toBuffer()],TOKEN_METADATA_PROGRAM_ID)[0];}export function masterEditionAddress(mint){return PublicKey.findProgramAddressSync([Buffer.from('metadata'),TOKEN_METADATA_PROGRAM_ID.toBuffer(),mint.toBuffer(),Buffer.from('edition')],TOKEN_METADATA_PROGRAM_ID)[0];}export function parseNativeTxDetail(_x){return _parseNativeTxDetail.apply(this,arguments);}function _parseNativeTxDetail(){_parseNativeTxDetail=_asyncToGenerator(function*({nativeTx,client}){var message='';var instructions=[];var versionedTransactionMessage=null;var addressLookupTableAccounts=[];var isVersionedTransaction=nativeTx instanceof VersionedTransaction;if(isVersionedTransaction){message=Buffer.from(nativeTx.message.serialize()).toString('base64');addressLookupTableAccounts=yield Promise.all(nativeTx.message.addressTableLookups.map(function(){var _ref=_asyncToGenerator(function*(lookup){var accountInfo=yield client.getAccountInfo({address:lookup.accountKey.toString(),encoding:EParamsEncodings.BASE64});if(!accountInfo){throw new Error('Account not found');}return new AddressLookupTableAccount({key:lookup.accountKey,state:AddressLookupTableAccount.deserialize(Buffer.from(accountInfo.data[0],accountInfo.data[1]))});});return function(_x2){return _ref.apply(this,arguments);};}()));versionedTransactionMessage=TransactionMessage.decompile(nativeTx.message,{addressLookupTableAccounts});instructions=versionedTransactionMessage.instructions;}else{message=nativeTx.compileMessage().serialize().toString('base64');instructions=nativeTx.instructions;}return{instructions,message,addressLookupTableAccounts,versionedTransactionMessage};});return _parseNativeTxDetail.apply(this,arguments);}export function parseComputeUnitPrice(instructions){var computeUnitPrice='0';for(var instruction of instructions){if(instruction.programId.toString()===ComputeBudgetProgram.programId.toString()){var type=ComputeBudgetInstruction.decodeInstructionType(instruction);if(type==='SetComputeUnitPrice'){var{microLamports}=ComputeBudgetInstruction.decodeSetComputeUnitPrice(instruction);computeUnitPrice=microLamports.toString();break;}}}return computeUnitPrice;}export function parseComputeUnitLimit(instructions){var computeUnitLimit=DEFAULT_COMPUTE_UNIT_LIMIT;for(var instruction of instructions){if(instruction.programId.toString()===ComputeBudgetProgram.programId.toString()){var type=ComputeBudgetInstruction.decodeInstructionType(instruction);if(type==='SetComputeUnitLimit'){var{units}=ComputeBudgetInstruction.decodeSetComputeUnitLimit(instruction);computeUnitLimit=units;break;}}}return computeUnitLimit;}export function parseToNativeTx(encodedTx,encoding='bs58'){if(!encodedTx){return Promise.resolve(null);}var txByte=Buffer.alloc(0);if(encoding==='base64'){txByte=Buffer.from(encodedTx,'base64');}else if(encoding==='bs58'){txByte=bs58.decode(encodedTx);}try{return Promise.resolve(Transaction.from(txByte));}catch(e){return Promise.resolve(VersionedTransaction.deserialize(txByte));}}","import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import{PublicKey,VersionedTransaction}from'@solana/web3.js';import bs58 from'bs58';import coreChainApi from'@onekeyhq/core/src/instance/coreChainApi';import{NotImplemented}from'@onekeyhq/shared/src/errors';import{convertDeviceResponse}from'@onekeyhq/shared/src/errors/utils/deviceErrorUtils';import{ETranslations}from'@onekeyhq/shared/src/locale';import{appLocale}from'@onekeyhq/shared/src/locale/appLocale';import accountUtils from'@onekeyhq/shared/src/utils/accountUtils';import{checkIsDefined}from'@onekeyhq/shared/src/utils/assertUtils';import{KeyringHardwareBase}from\"../../base/KeyringHardwareBase\";import{parseToNativeTx}from\"./utils\";export var KeyringHardware=function(_KeyringHardwareBase){_inherits(KeyringHardware,_KeyringHardwareBase);var _super=_createSuper(KeyringHardware);function KeyringHardware(...args){var _this;_this=_super.call(this,...args);_this.coreApi=coreChainApi.sol.hd;_this.hwSdkNetwork='sol';return _this;}var _proto=KeyringHardware.prototype;_proto.buildHwAllNetworkPrepareAccountsParams=function(){var _buildHwAllNetworkPrepareAccountsParams=_asyncToGenerator(function*(params){return{network:this.hwSdkNetwork,path:params.path,showOnOneKey:false};});function buildHwAllNetworkPrepareAccountsParams(_x){return _buildHwAllNetworkPrepareAccountsParams.apply(this,arguments);}return buildHwAllNetworkPrepareAccountsParams;}();_proto.prepareAccounts=function(){var _prepareAccounts=_asyncToGenerator(function*(params){var _this2=this;var chainId=yield this.getNetworkChainId();return this.basePrepareHdNormalAccounts(params,{buildAddressesInfo:function(){var _ref=_asyncToGenerator(function*({usedIndexes}){var publicKeys=yield _this2.baseGetDeviceAccountAddresses({params,usedIndexes,sdkGetAddressFn:function(){var _ref2=_asyncToGenerator(function*({connectId,deviceId,template,pathPrefix,pathSuffix,coinName,showOnOnekeyFn}){var buildFullPath=function(p){return accountUtils.buildPathFromTemplate({template,index:p.index});};var allNetworkAccounts=yield _this2.getAllNetworkPrepareAccounts({params,usedIndexes,buildPath:buildFullPath,buildResultAccount:function({account}){return{path:account.path,address:account.payload?.address||''};},hwSdkNetwork:_this2.hwSdkNetwork});if(allNetworkAccounts){return allNetworkAccounts;}throw new Error('use sdk allNetworkGetAddress instead');});return function sdkGetAddressFn(_x4){return _ref2.apply(this,arguments);};}()});var ret=[];for(var i=0;i<publicKeys.length;i+=1){var item=publicKeys[i];var{path,address}=item;var{normalizedAddress}=yield _this2.vault.validateAddress(address||'');var addressInfo={address:normalizedAddress||address||'',path,publicKey:''};ret.push(addressInfo);}return ret;});return function buildAddressesInfo(_x3){return _ref.apply(this,arguments);};}()});});function prepareAccounts(_x2){return _prepareAccounts.apply(this,arguments);}return prepareAccounts;}();_proto.signTransaction=function(){var _signTransaction=_asyncToGenerator(function*(params){var{unsignedTx,deviceParams}=params;var{feePayer}=unsignedTx.payload;var feePayerPublicKey=new PublicKey(feePayer);var encodedTx=unsignedTx.encodedTx;var sdk=yield this.getHardwareSDKInstance();var path=yield this.vault.getAccountPath();var{deviceCommonParams,dbDevice}=checkIsDefined(deviceParams);var{connectId,deviceId}=dbDevice;var transaction=yield parseToNativeTx(encodedTx);if(!transaction){throw new Error(appLocale.intl.formatMessage({id:ETranslations.feedback_failed_to_parse_transaction}));}var isVersionedTransaction=transaction instanceof VersionedTransaction;var result=yield convertDeviceResponse(_asyncToGenerator(function*(){return sdk.solSignTransaction(connectId,deviceId,_objectSpread({path,rawTx:isVersionedTransaction?Buffer.from(transaction.message.serialize()).toString('hex'):transaction.serializeMessage().toString('hex')},deviceCommonParams));}));var{signature}=result;if(signature){transaction.addSignature(feePayerPublicKey,Buffer.from(signature,'hex'));return{txid:bs58.encode(Buffer.from(signature,'hex')),encodedTx,rawTx:Buffer.from(transaction.serialize({requireAllSignatures:false})).toString('base64')};}throw new Error(appLocale.intl.formatMessage({id:ETranslations.feedback_failed_to_sign_transaction}));});function signTransaction(_x5){return _signTransaction.apply(this,arguments);}return signTransaction;}();_proto.signMessage=function signMessage(params){throw new NotImplemented(appLocale.intl.formatMessage({id:ETranslations.feedback_sol_sign_unupported_message}));};return _createClass(KeyringHardware);}(KeyringHardwareBase);","import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import coreChainApi from'@onekeyhq/core/src/instance/coreChainApi';import{KeyringHdBase}from\"../../base/KeyringHdBase\";export var KeyringHd=function(_KeyringHdBase){_inherits(KeyringHd,_KeyringHdBase);var _super=_createSuper(KeyringHd);function KeyringHd(...args){var _this;_this=_super.call(this,...args);_this.coreApi=coreChainApi.sol.hd;return _this;}var _proto=KeyringHd.prototype;_proto.getPrivateKeys=function(){var _getPrivateKeys=_asyncToGenerator(function*(params){return this.baseGetPrivateKeys(params);});function getPrivateKeys(_x){return _getPrivateKeys.apply(this,arguments);}return getPrivateKeys;}();_proto.prepareAccounts=function(){var _prepareAccounts=_asyncToGenerator(function*(params){return this.basePrepareAccountsHd(params);});function prepareAccounts(_x2){return _prepareAccounts.apply(this,arguments);}return prepareAccounts;}();_proto.signTransaction=function(){var _signTransaction=_asyncToGenerator(function*(params){return this.baseSignTransaction(params);});function signTransaction(_x3){return _signTransaction.apply(this,arguments);}return signTransaction;}();_proto.signMessage=function(){var _signMessage=_asyncToGenerator(function*(params){return this.baseSignMessage(params);});function signMessage(_x4){return _signMessage.apply(this,arguments);}return signMessage;}();_proto.exportAccountSecretKeys=function(){var _exportAccountSecretKeys=_asyncToGenerator(function*(params){return this.baseExportAccountSecretKeys(params);});function exportAccountSecretKeys(_x5){return _exportAccountSecretKeys.apply(this,arguments);}return exportAccountSecretKeys;}();return _createClass(KeyringHd);}(KeyringHdBase);","import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import coreChainApi from'@onekeyhq/core/src/instance/coreChainApi';import{KeyringImportedBase}from\"../../base/KeyringImportedBase\";export var KeyringImported=function(_KeyringImportedBase){_inherits(KeyringImported,_KeyringImportedBase);var _super=_createSuper(KeyringImported);function KeyringImported(...args){var _this;_this=_super.call(this,...args);_this.coreApi=coreChainApi.sol.imported;return _this;}var _proto=KeyringImported.prototype;_proto.getPrivateKeys=function(){var _getPrivateKeys=_asyncToGenerator(function*(params){return this.baseGetPrivateKeys(params);});function getPrivateKeys(_x){return _getPrivateKeys.apply(this,arguments);}return getPrivateKeys;}();_proto.prepareAccounts=function(){var _prepareAccounts=_asyncToGenerator(function*(params){return this.basePrepareAccountsImported(params);});function prepareAccounts(_x2){return _prepareAccounts.apply(this,arguments);}return prepareAccounts;}();_proto.signTransaction=function(){var _signTransaction=_asyncToGenerator(function*(params){return this.baseSignTransaction(params);});function signTransaction(_x3){return _signTransaction.apply(this,arguments);}return signTransaction;}();_proto.signMessage=function(){var _signMessage=_asyncToGenerator(function*(params){return this.baseSignMessage(params);});function signMessage(_x4){return _signMessage.apply(this,arguments);}return signMessage;}();_proto.exportAccountSecretKeys=function(){var _exportAccountSecretKeys=_asyncToGenerator(function*(params){return this.baseExportAccountSecretKeys(params);});function exportAccountSecretKeys(_x5){return _exportAccountSecretKeys.apply(this,arguments);}return exportAccountSecretKeys;}();return _createClass(KeyringImported);}(KeyringImportedBase);","import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import _get from\"@babel/runtime/helpers/get\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import{KeyringWatchingBase}from\"../../base/KeyringWatchingBase\";export var KeyringWatching=function(_KeyringWatchingBase){_inherits(KeyringWatching,_KeyringWatchingBase);var _super=_createSuper(KeyringWatching);function KeyringWatching(){return _super.apply(this,arguments);}var _proto=KeyringWatching.prototype;_proto.prepareAccounts=function(){var _prepareAccounts=_asyncToGenerator(function*(params){return _get(_getPrototypeOf(KeyringWatching.prototype),\"basePrepareSimpleWatchingAccounts\",this).call(this,params);});function prepareAccounts(_x){return _prepareAccounts.apply(this,arguments);}return prepareAccounts;}();return _createClass(KeyringWatching);}(KeyringWatchingBase);","import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}import{JsonRPCRequest}from'@onekeyhq/shared/src/request/JsonRPCRequest';import{EParamsEncodings,ERpcMethods}from\"./ClientSol\";var ClientCustomRpcSol=function(){function ClientCustomRpcSol(url){this.rpc=new JsonRPCRequest(url);}var _proto=ClientCustomRpcSol.prototype;_proto.getInfo=function(){var _getInfo=_asyncToGenerator(function*(){var[epochInfo,ok]=yield this.rpc.batchCall([[ERpcMethods.GET_EPOCH_INFO,[]],[ERpcMethods.GET_HEALTH,[]]]);var slot=epochInfo.absoluteSlot;var isReady=ok==='ok';return{bestBlockNumber:slot,isReady};});function getInfo(){return _getInfo.apply(this,arguments);}return getInfo;}();_proto.broadcastTransaction=function(){var _broadcastTransaction=_asyncToGenerator(function*(rawTx,options){return this.rpc.call(ERpcMethods.SEND_TRANSACTION,[rawTx,_objectSpread({encoding:EParamsEncodings.BASE64},options||{})]);});function broadcastTransaction(_x,_x2){return _broadcastTransaction.apply(this,arguments);}return broadcastTransaction;}();return _createClass(ClientCustomRpcSol);}();export{ClientCustomRpcSol};","import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _isNil from\"lodash/isNil\";import _isEmpty from\"lodash/isEmpty\";import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import{CMT_PROGRAM,MintState,computeBudgetIx,findFreezeAuthorityPk,findMintStatePk,createInitAccountInstruction as ocpCreateInitAccountInstruction,createTransferInstruction as ocpCreateTransferInstruction}from'@magiceden-oss/open_creator_protocol';import{Metadata,PROGRAM_ADDRESS,TokenRecord,TokenStandard,TokenState,createTransferInstruction as createTokenMetadataTransferInstruction}from'@metaplex-foundation/mpl-token-metadata';import{ASSOCIATED_TOKEN_PROGRAM_ID,TOKEN_2022_PROGRAM_ID,TOKEN_PROGRAM_ID,TokenInstruction,createAssociatedTokenAccountInstruction,createTransferCheckedInstruction,decodeInstruction,decodeTransferCheckedInstruction,decodeTransferInstruction,getAssociatedTokenAddressSync}from'@solana/spl-token';import{ComputeBudgetInstruction,ComputeBudgetProgram,PublicKey,SYSVAR_INSTRUCTIONS_PUBKEY,SystemInstruction,SystemProgram,Transaction,VersionedTransaction}from'@solana/web3.js';import BigNumber from'bignumber.js';import bs58 from'bs58';import coreChainApi from'@onekeyhq/core/src/instance/coreChainApi';import{decodeSensitiveText,encodeSensitiveText}from'@onekeyhq/core/src/secret';import{CanNotSendZeroAmountError,OneKeyInternalError}from'@onekeyhq/shared/src/errors';import{memoizee}from'@onekeyhq/shared/src/utils/cacheUtils';import chainValueUtils from'@onekeyhq/shared/src/utils/chainValueUtils';import timerUtils from'@onekeyhq/shared/src/utils/timerUtils';import{EDecodedTxActionType,EDecodedTxStatus}from'@onekeyhq/shared/types/tx';import{VaultBase}from\"../../base/VaultBase\";import{KeyringExternal}from\"./KeyringExternal\";import{KeyringHardware}from\"./KeyringHardware\";import{KeyringHd}from\"./KeyringHd\";import{KeyringImported}from\"./KeyringImported\";import{KeyringWatching}from\"./KeyringWatching\";import{ClientCustomRpcSol}from\"./sdkSol/ClientCustomRpcSol\";import ClientSol from\"./sdkSol/ClientSol\";import{BASE_FEE,COMPUTE_UNIT_PRICE_DECIMALS,CREATE_TOKEN_ACCOUNT_RENT,MIN_PRIORITY_FEE,TOKEN_AUTH_RULES_ID,isTxOverSize,masterEditionAddress,metadataAddress,parseComputeUnitLimit,parseComputeUnitPrice,parseNativeTxDetail,parseToNativeTx,tokenRecordAddress}from\"./utils\";var Vault=function(_VaultBase){_inherits(Vault,_VaultBase);var _super=_createSuper(Vault);function Vault(...args){var _this;_this=_super.call(this,...args);_this.coreApi=coreChainApi.sol.hd;_this.keyringMap={hd:KeyringHd,qr:undefined,hw:KeyringHardware,imported:KeyringImported,watching:KeyringWatching,external:KeyringExternal};_this._getClientCache=memoizee(_asyncToGenerator(function*(){return new ClientSol({networkId:_this.networkId,backgroundApi:_this.backgroundApi});}),{maxAge:timerUtils.getTimeDurationMs({minute:3})});_this._getAssociatedAccountInfo=memoizee(function(){var _ref2=_asyncToGenerator(function*(ataAddress){var _yield$client$getAcco;var client=yield _this.getClient();var ataInfo=(_yield$client$getAcco=yield client.getAccountInfo({address:ataAddress}))!=null?_yield$client$getAcco:{};var{mint,owner}=ataInfo.data.parsed.info;return{mint,owner};});return function(_x){return _ref2.apply(this,arguments);};}(),{promise:true,primitive:true,max:50,maxAge:timerUtils.getTimeDurationMs({minute:3})});return _this;}var _proto=Vault.prototype;_proto.getClient=function(){var _getClient=_asyncToGenerator(function*(){return this._getClientCache();});function getClient(){return _getClient.apply(this,arguments);}return getClient;}();_proto.buildAccountAddressDetail=function(){var _buildAccountAddressDetail=_asyncToGenerator(function*(params){var{account,networkId,externalAccountAddress}=params;var address=account.address||externalAccountAddress||'';var{normalizedAddress,displayAddress,isValid}=yield this.validateAddress(address);return{networkId,normalizedAddress,displayAddress,address:displayAddress,baseAddress:normalizedAddress,isValid,allowEmptyAddress:false};});function buildAccountAddressDetail(_x2){return _buildAccountAddressDetail.apply(this,arguments);}return buildAccountAddressDetail;}();_proto.buildEncodedTx=function(){var _buildEncodedTx=_asyncToGenerator(function*(params){var{transfersInfo}=params;if(transfersInfo&&!_isEmpty(transfersInfo)){if(transfersInfo.length===1){return this._buildEncodedTxFromTransfer({transferInfo:transfersInfo[0]});}return this._buildEncodedTxFromBatchTransfer({transfersInfo});}throw new OneKeyInternalError();});function buildEncodedTx(_x3){return _buildEncodedTx.apply(this,arguments);}return buildEncodedTx;}();_proto._buildEncodedTxFromTransfer=function(){var _buildEncodedTxFromTransfer2=_asyncToGenerator(function*(params){var{transferInfo}=params;return this._buildEncodedTxFromBatchTransfer({transfersInfo:[transferInfo]});});function _buildEncodedTxFromTransfer(_x4){return _buildEncodedTxFromTransfer2.apply(this,arguments);}return _buildEncodedTxFromTransfer;}();_proto._buildEncodedTxFromBatchTransfer=function(){var _buildEncodedTxFromBatchTransfer2=_asyncToGenerator(function*(params){var{transfersInfo}=params;var transferInfo=transfersInfo[0];var accountAddress=yield this.getAccountAddress();var{from,to:firstReceiver}=transferInfo;if(!transferInfo.to){throw new Error('buildEncodedTx ERROR: transferInfo.to is missing');}var client=yield this.getClient();var source=new PublicKey(from);var nativeTx=new Transaction();var{recentBlockhash,lastValidBlockHeight}=yield this._getRecentBlockHash();nativeTx.recentBlockhash=recentBlockhash;nativeTx.lastValidBlockHeight=lastValidBlockHeight;nativeTx.feePayer=source;var devSettings=yield this.backgroundApi.serviceDevSetting.getDevSetting();if(!(devSettings.enabled&&devSettings.settings?.disableSolanaPriorityFee)){var prioritizationFee=yield client.getRecentMaxPrioritizationFees([accountAddress]);var addPriorityFee=ComputeBudgetProgram.setComputeUnitPrice({microLamports:prioritizationFee});nativeTx.add(addPriorityFee);}for(var i=0;i<transfersInfo.length;i+=1){var{amount,to,tokenInfo,nftInfo}=transfersInfo[i];if(!tokenInfo&&!nftInfo){throw new Error('buildEncodedTx ERROR: transferInfo.tokenInfo and transferInfo.nftInfo are both missing');}var isNativeTokenTransfer=!!tokenInfo?.isNative;var destination=new PublicKey(to||firstReceiver);if(isNativeTokenTransfer){nativeTx.add(SystemProgram.transfer({fromPubkey:new PublicKey(from),toPubkey:new PublicKey(to),lamports:BigInt(new BigNumber(amount).shiftedBy(tokenInfo.decimals).toFixed())}));}else{var _ref3,_tokenInfo$address;var tokenAddress=(_ref3=(_tokenInfo$address=tokenInfo?.address)!=null?_tokenInfo$address:nftInfo?.nftAddress)!=null?_ref3:'';var tokenSendAddress=tokenInfo?.sendAddress;var mint=new PublicKey(tokenAddress);var destinationAta=destination;var tokenProgramId=yield this._getTokenProgramId({owner:source,mint});var sourceAta=tokenSendAddress?new PublicKey(tokenSendAddress):yield this._getAssociatedTokenAddress({mint,owner:source,programId:tokenProgramId});destinationAta=yield this._getAssociatedTokenAddress({mint,owner:destination,programId:tokenProgramId});var destinationAtaInfo=yield client.getAccountInfo({address:destinationAta.toString()});if(nftInfo){var{isProgrammableNFT,metadata}=yield this._checkIsProgrammableNFT(mint);if(isProgrammableNFT){nativeTx.add(...(yield this._buildProgrammableNFTInstructions({mint,source,sourceAta,destination,destinationAta,amount,metadata:metadata})));}else{var ocpMintState=yield this._checkIsOpenCreatorProtocol(mint);if(ocpMintState){nativeTx.add(...this._buildOpenCreatorProtocolInstructions({mint,source,sourceAta,destination,destinationAta,destinationAtaInfo,mintState:ocpMintState,programId:tokenProgramId}));}else{nativeTx.add(...this._buildTransferTokenInstructions({mint,source,sourceAta,destination,destinationAta,destinationAtaInfo,tokenDecimals:0,amount,programId:tokenProgramId}));}}}else if(tokenInfo){nativeTx.add(...this._buildTransferTokenInstructions({mint,source,sourceAta,destination,destinationAta,destinationAtaInfo,tokenDecimals:tokenInfo.decimals,amount,programId:tokenProgramId}));}}}return bs58.encode(nativeTx.serialize({requireAllSignatures:false}));});function _buildEncodedTxFromBatchTransfer(_x5){return _buildEncodedTxFromBatchTransfer2.apply(this,arguments);}return _buildEncodedTxFromBatchTransfer;}();_proto._getRecentBlockHash=function(){var _getRecentBlockHash2=_asyncToGenerator(function*(){var lastRpcErrorMessage='';var client=yield this.getClient();for(var i=0;i<5;i+=1){try{var resp=yield client.getLatestBlockHash();if(!_isNil(resp.recentBlockhash)&&!_isNil(resp.lastValidBlockHeight)){return resp;}}catch(e){var rpcErrorData=e?.data;if(e&&rpcErrorData){lastRpcErrorMessage=rpcErrorData.message;}}yield timerUtils.wait(1000);}throw new Error(`Solana getLatestBlockHash retry times exceeded: ${lastRpcErrorMessage||''}`);});function _getRecentBlockHash(){return _getRecentBlockHash2.apply(this,arguments);}return _getRecentBlockHash;}();_proto._getTokenProgramId=function(){var _getTokenProgramId2=_asyncToGenerator(function*({mint,owner}){var client=yield this.getClient();var[tokenAccounts,tokenAccounts2022]=yield Promise.all([client.getTokenAccountsByOwner({address:owner.toString()}),client.getTokenAccountsByOwner({address:owner.toString(),programId:TOKEN_2022_PROGRAM_ID})]);var result=[...(tokenAccounts!=null?tokenAccounts:[]),...(tokenAccounts2022!=null?tokenAccounts2022:[])]?.find(function(item){return item.account.data.parsed.info.mint===mint.toString();});if(result){return result.account.data.program==='spl-token'?TOKEN_PROGRAM_ID:TOKEN_2022_PROGRAM_ID;}return TOKEN_PROGRAM_ID;});function _getTokenProgramId(_x6){return _getTokenProgramId2.apply(this,arguments);}return _getTokenProgramId;}();_proto._getAssociatedTokenAddress=function(){var _getAssociatedTokenAddress2=_asyncToGenerator(function*({mint,owner,programId}){return Promise.resolve(getAssociatedTokenAddressSync(mint,owner,true,programId));});function _getAssociatedTokenAddress(_x7){return _getAssociatedTokenAddress2.apply(this,arguments);}return _getAssociatedTokenAddress;}();_proto._checkIsProgrammableNFT=function(){var _checkIsProgrammableNFT2=_asyncToGenerator(function*(mint){try{var client=yield this.getClient();var metaAddress=metadataAddress(mint);var mintAccountInfo=yield client.getAccountInfo({address:metaAddress.toString()});if(mintAccountInfo){var metadata=Metadata.fromAccountInfo(_objectSpread(_objectSpread({},mintAccountInfo),{},{data:Buffer.from(mintAccountInfo.data[0],'base64')}))[0];return{metadata,isProgrammableNFT:metadata.tokenStandard===TokenStandard.ProgrammableNonFungible||metadata.tokenStandard===TokenStandard.ProgrammableNonFungibleEdition};}return{isProgrammableNFT:false};}catch(error){return{isProgrammableNFT:false};}});function _checkIsProgrammableNFT(_x8){return _checkIsProgrammableNFT2.apply(this,arguments);}return _checkIsProgrammableNFT;}();_proto._buildProgrammableNFTInstructions=function(){var _buildProgrammableNFTInstructions2=_asyncToGenerator(function*({mint,source,sourceAta,destination,destinationAta,amount,metadata}){var client=yield this.getClient();var instructions=[];var ownerTokenRecord=tokenRecordAddress(mint,sourceAta);var ownerTokenRecordInfo=yield client.getAccountInfo({address:ownerTokenRecord.toString()});if(ownerTokenRecordInfo){var tokenRecord=TokenRecord.fromAccountInfo(_objectSpread(_objectSpread({},ownerTokenRecordInfo),{},{data:Buffer.from(ownerTokenRecordInfo.data[0],'base64')}))[0];if(tokenRecord.state===TokenState.Locked){throw new Error('token account is locked');}else if(tokenRecord.state===TokenState.Listed){throw new Error('token is listed');}var authorizationRules;if(metadata.programmableConfig){var _metadata$programmabl;authorizationRules=(_metadata$programmabl=metadata.programmableConfig.ruleSet)!=null?_metadata$programmabl:undefined;}var transferAccounts={authority:source,tokenOwner:source,token:sourceAta,metadata:metadataAddress(mint),mint,edition:masterEditionAddress(mint),destinationOwner:destination,destination:destinationAta,payer:source,systemProgram:SystemProgram.programId,splTokenProgram:TOKEN_PROGRAM_ID,splAtaProgram:ASSOCIATED_TOKEN_PROGRAM_ID,sysvarInstructions:SYSVAR_INSTRUCTIONS_PUBKEY,authorizationRules,authorizationRulesProgram:TOKEN_AUTH_RULES_ID,ownerTokenRecord,destinationTokenRecord:tokenRecordAddress(mint,destinationAta)};var transferArgs={transferArgs:{__kind:'V1',amount:Number(amount),authorizationData:null}};instructions.push(createTokenMetadataTransferInstruction(transferAccounts,transferArgs));}return instructions;});function _buildProgrammableNFTInstructions(_x9){return _buildProgrammableNFTInstructions2.apply(this,arguments);}return _buildProgrammableNFTInstructions;}();_proto._checkIsOpenCreatorProtocol=function(){var _checkIsOpenCreatorProtocol2=_asyncToGenerator(function*(mint){var client=yield this.getClient();var mintStatePk=findMintStatePk(mint);var mintAccountInfo=yield client.getAccountInfo({address:mintStatePk.toString()});return mintAccountInfo!==null?MintState.fromAccountInfo(_objectSpread(_objectSpread({},mintAccountInfo),{},{data:Buffer.from(mintAccountInfo.data[0],'base64')}))[0]:null;});function _checkIsOpenCreatorProtocol(_x10){return _checkIsOpenCreatorProtocol2.apply(this,arguments);}return _checkIsOpenCreatorProtocol;}();_proto._buildOpenCreatorProtocolInstructions=function _buildOpenCreatorProtocolInstructions({mint,source,sourceAta,destination,destinationAta,destinationAtaInfo,mintState,programId}){var inscriptions=[];inscriptions.push(computeBudgetIx);if(!destinationAtaInfo){inscriptions.push(ocpCreateInitAccountInstruction({policy:mintState.policy,freezeAuthority:findFreezeAuthorityPk(mintState.policy),mint,metadata:metadataAddress(mint),mintState:findMintStatePk(mint),from:destination,fromAccount:destinationAta,cmtProgram:CMT_PROGRAM,instructions:SYSVAR_INSTRUCTIONS_PUBKEY,payer:source,associatedTokenProgram:ASSOCIATED_TOKEN_PROGRAM_ID,tokenProgram:programId}));}inscriptions.push(ocpCreateTransferInstruction({policy:mintState.policy,freezeAuthority:findFreezeAuthorityPk(mintState.policy),mint,metadata:metadataAddress(mint),mintState:findMintStatePk(mint),from:source,fromAccount:sourceAta,cmtProgram:CMT_PROGRAM,instructions:SYSVAR_INSTRUCTIONS_PUBKEY,to:destination,toAccount:destinationAta,tokenProgram:programId}));return inscriptions;};_proto._buildTransferTokenInstructions=function _buildTransferTokenInstructions({mint,source,sourceAta,destination,destinationAta,destinationAtaInfo,tokenDecimals,amount,programId}){var instructions=[];if(destinationAtaInfo===null){instructions.push(createAssociatedTokenAccountInstruction(source,destinationAta,destination,mint,programId));}instructions.push(createTransferCheckedInstruction(sourceAta,mint,destinationAta,source,BigInt(new BigNumber(amount).shiftedBy(tokenDecimals).toFixed()),tokenDecimals,[],programId));return instructions;};_proto.buildDecodedTx=function(){var _buildDecodedTx=_asyncToGenerator(function*(params){var{unsignedTx,transferPayload,saveToLocalHistory}=params;var encodedTx=unsignedTx.encodedTx;var nativeTx=yield parseToNativeTx(encodedTx);var actions=[];var client=yield this.getClient();var{instructions}=yield parseNativeTxDetail({nativeTx,client});if(unsignedTx.swapInfo){actions=[yield this.buildInternalSwapAction({swapInfo:unsignedTx.swapInfo})];}else if(unsignedTx.stakingInfo){var _accountAddress=yield this.getAccountAddress();actions=[yield this.buildInternalStakingAction({stakingInfo:unsignedTx.stakingInfo,accountAddress:_accountAddress})];}else{actions=yield this._decodeNativeTxActions({instructions,isNFT:transferPayload?.isNFT,amountToSend:transferPayload?.amountToSend});}if(!saveToLocalHistory&&!unsignedTx.swapInfo&&instructions.some(function(instruction){return instruction.programId.toString()===ASSOCIATED_TOKEN_PROGRAM_ID.toString();})){if(actions[0].assetTransfer){var nativeToken=yield this.backgroundApi.serviceToken.getNativeToken({accountId:this.accountId,networkId:this.networkId});var network=yield this.getNetwork();if(nativeToken){var _nativeToken$logoURI,_actions$0$assetTrans,_actions$0$assetTrans2;actions[0].assetTransfer.sends.push({from:actions[0].assetTransfer.from,to:actions[0].assetTransfer.to,amount:CREATE_TOKEN_ACCOUNT_RENT,icon:(_nativeToken$logoURI=nativeToken.logoURI)!=null?_nativeToken$logoURI:'',name:nativeToken.name,symbol:nativeToken.symbol,tokenIdOnNetwork:nativeToken.address,isNFT:false,isNative:true});actions[0].assetTransfer.nativeAmount=new BigNumber((_actions$0$assetTrans=actions[0].assetTransfer.nativeAmount)!=null?_actions$0$assetTrans:'0').plus(CREATE_TOKEN_ACCOUNT_RENT).toFixed();actions[0].assetTransfer.nativeAmountValue=new BigNumber((_actions$0$assetTrans2=actions[0].assetTransfer.nativeAmountValue)!=null?_actions$0$assetTrans2:'0').plus(chainValueUtils.convertAmountToChainValue({value:CREATE_TOKEN_ACCOUNT_RENT,network})).toFixed();}}}var isVersionedTransaction=nativeTx instanceof VersionedTransaction;var signature=isVersionedTransaction?nativeTx.signatures[0]:nativeTx.signature;if(signature?.every(function(value){return value===0;})){signature=null;}var accountAddress=yield this.getAccountAddress();var decodedTx={txid:signature?bs58.encode(signature):'',owner:accountAddress,signer:nativeTx.feePayer?.toString()||accountAddress,nonce:0,actions,status:EDecodedTxStatus.Pending,networkId:this.networkId,accountId:this.accountId,extraInfo:null,encodedTx};return decodedTx;});function buildDecodedTx(_x11){return _buildDecodedTx.apply(this,arguments);}return buildDecodedTx;}();_proto._decodeNativeTxActions=function(){var _decodeNativeTxActions2=_asyncToGenerator(function*({instructions,isNFT,amountToSend}){var actions=[];var createdAta={};for(var instruction of instructions){if(instruction.programId.toString()===SystemProgram.programId.toString()){try{var instructionType=SystemInstruction.decodeInstructionType(instruction);if(instructionType==='Transfer'){var nativeToken=yield this.backgroundApi.serviceToken.getNativeToken({accountId:this.accountId,networkId:this.networkId});if(nativeToken){var _nativeToken$logoURI2;var{fromPubkey,toPubkey,lamports}=SystemInstruction.decodeTransfer(instruction);var nativeAmount=new BigNumber(lamports.toString());var from=fromPubkey.toString();var to=toPubkey.toString();var transfer={from,to,tokenIdOnNetwork:nativeToken.address,icon:(_nativeToken$logoURI2=nativeToken.logoURI)!=null?_nativeToken$logoURI2:'',name:nativeToken.name,symbol:nativeToken.symbol,amount:new BigNumber(nativeAmount).shiftedBy(-nativeToken.decimals).toFixed(),isNFT:false,isNative:true};actions.push(yield this.buildTxTransferAssetAction({from,to,transfers:[transfer]}));}}}catch{}}else if(instruction.programId.toString()===ASSOCIATED_TOKEN_PROGRAM_ID.toString()&&instruction.keys[4].pubkey.toString()===SystemProgram.programId.toString()&&(instruction.keys[5].pubkey.toString()===TOKEN_PROGRAM_ID.toString()||instruction.keys[5].pubkey.toString()===TOKEN_2022_PROGRAM_ID.toString())){var[,associatedToken,owner,mint]=instruction.keys;if(associatedToken&&owner&&mint){createdAta[associatedToken.pubkey.toString()]={owner:owner.pubkey.toString(),mint:mint.pubkey.toString()};}}else if(instruction.programId.toString()===TOKEN_PROGRAM_ID.toString()||instruction.programId.toString()===TOKEN_2022_PROGRAM_ID.toString()){try{var programId=TOKEN_PROGRAM_ID;if(instruction.programId.toString()===PROGRAM_ADDRESS){programId=new PublicKey(PROGRAM_ADDRESS);}else{programId=instruction.programId.toString()===TOKEN_PROGRAM_ID.toString()?TOKEN_PROGRAM_ID:TOKEN_2022_PROGRAM_ID;}var{data:{instruction:_instructionType}}=decodeInstruction(instruction,programId);var tokenAmount=void 0;var fromAddress=void 0;var tokenAddress=void 0;var ataAddress=void 0;if(_instructionType===TokenInstruction.TransferChecked){var{data:{amount},keys:{owner:_owner,mint:_mint,destination}}=decodeTransferCheckedInstruction(instruction,programId);tokenAmount=new BigNumber(amount.toString());fromAddress=_owner.pubkey.toString();tokenAddress=_mint.pubkey.toString();ataAddress=destination.pubkey.toString();}else if(_instructionType===TokenInstruction.Transfer){var{data:{amount:_amount},keys:{owner:_owner2,destination:_destination}}=decodeTransferInstruction(instruction,programId);tokenAmount=new BigNumber(_amount.toString());fromAddress=_owner2.pubkey.toString();ataAddress=_destination.pubkey.toString();}if(tokenAmount&&fromAddress&&ataAddress){var ataAccountInfo=createdAta[ataAddress]||(yield this._getAssociatedAccountInfo(ataAddress));var{mint:_mint2,owner:toAddress}=ataAccountInfo;tokenAddress=tokenAddress||_mint2;var tokenInfo=yield this.backgroundApi.serviceToken.getToken({accountId:this.accountId,networkId:this.networkId,tokenIdOnNetwork:tokenAddress});if(tokenInfo){var _tokenInfo$logoURI;var _transfer={from:fromAddress,to:toAddress!=null?toAddress:ataAddress,tokenIdOnNetwork:tokenAddress,icon:(_tokenInfo$logoURI=tokenInfo.logoURI)!=null?_tokenInfo$logoURI:'',name:tokenInfo.name,symbol:tokenInfo.symbol,amount:tokenAmount.shiftedBy(-tokenInfo.decimals).toFixed(),isNFT};actions.push(yield this.buildTxTransferAssetAction({from:fromAddress,to:toAddress!=null?toAddress:ataAddress,transfers:[_transfer]}));}}}catch{}}else if(instruction.programId.toString()===PROGRAM_ADDRESS){var[,_owner3,,_destination2,_tokenAddress]=instruction.keys;var _fromAddress=_owner3.pubkey.toString();var _toAddress=_destination2.pubkey.toString();var _tokenInfo=yield this.backgroundApi.serviceToken.getToken({accountId:this.accountId,networkId:this.networkId,tokenIdOnNetwork:_tokenAddress.pubkey.toString()});if(_tokenInfo){var _tokenInfo$logoURI2;var _transfer2={from:_fromAddress,to:_toAddress,tokenIdOnNetwork:_tokenAddress.pubkey.toString(),icon:(_tokenInfo$logoURI2=_tokenInfo.logoURI)!=null?_tokenInfo$logoURI2:'',name:_tokenInfo.name,symbol:_tokenInfo.symbol,amount:amountToSend!=null?amountToSend:'1',isNFT};actions.push(yield this.buildTxTransferAssetAction({from:_fromAddress,to:_toAddress,transfers:[_transfer2]}));}}}if(actions.length===0){var accountAddress=yield this.getAccountAddress();actions.push({type:EDecodedTxActionType.UNKNOWN,unknownAction:{from:accountAddress,to:''}});}return actions;});function _decodeNativeTxActions(_x12){return _decodeNativeTxActions2.apply(this,arguments);}return _decodeNativeTxActions;}();_proto.buildUnsignedTx=function(){var _buildUnsignedTx=_asyncToGenerator(function*(params){var _params$encodedTx;var encodedTx=(_params$encodedTx=params.encodedTx)!=null?_params$encodedTx:yield this.buildEncodedTx(params);if(encodedTx){return this._buildUnsignedTxFromEncodedTx({encodedTx:encodedTx,swapInfo:params.swapInfo});}throw new OneKeyInternalError();});function buildUnsignedTx(_x13){return _buildUnsignedTx.apply(this,arguments);}return buildUnsignedTx;}();_proto._buildUnsignedTxFromEncodedTx=function(){var _buildUnsignedTxFromEncodedTx2=_asyncToGenerator(function*({encodedTx,swapInfo}){var accountAddress=yield this.getAccountAddress();var newEncodedTx=encodedTx;if(swapInfo&&swapInfo.swapBuildResData.OKXTxObject){var nativeTx=yield parseToNativeTx(encodedTx);var{recentBlockhash,lastValidBlockHeight}=yield this._getRecentBlockHash();if(nativeTx instanceof Transaction){nativeTx.recentBlockhash=recentBlockhash;nativeTx.lastValidBlockHeight=lastValidBlockHeight;}else if(nativeTx instanceof VersionedTransaction){nativeTx.message.recentBlockhash=recentBlockhash;}newEncodedTx=bs58.encode(nativeTx.serialize({requireAllSignatures:false}));}return{payload:{feePayer:accountAddress},encodedTx:newEncodedTx};});function _buildUnsignedTxFromEncodedTx(_x14){return _buildUnsignedTxFromEncodedTx2.apply(this,arguments);}return _buildUnsignedTxFromEncodedTx;}();_proto.updateUnsignedTx=function(){var _updateUnsignedTx=_asyncToGenerator(function*(params){var{unsignedTx,nativeAmountInfo,feeInfo,feeInfoEditable}=params;var encodedTxNew=unsignedTx.encodedTx;if(nativeAmountInfo){encodedTxNew=yield this._updateNativeTokenAmount({encodedTx:encodedTxNew,nativeAmountInfo});}if(feeInfo&&feeInfoEditable!==false){var devSettings=yield this.backgroundApi.serviceDevSetting.getDevSetting();if(!(devSettings.enabled&&devSettings.settings?.disableSolanaPriorityFee)){encodedTxNew=yield this._attachFeeInfoToEncodedTx({encodedTx:encodedTxNew,feeInfo});}}unsignedTx.encodedTx=encodedTxNew;return unsignedTx;});function updateUnsignedTx(_x15){return _updateUnsignedTx.apply(this,arguments);}return updateUnsignedTx;}();_proto._updateNativeTokenAmount=function(){var _updateNativeTokenAmount2=_asyncToGenerator(function*(params){var{encodedTx,nativeAmountInfo}=params;var network=yield this.getNetwork();var nativeTx=yield parseToNativeTx(encodedTx);if(!_isNil(nativeAmountInfo.maxSendAmount)&&nativeTx instanceof Transaction&&nativeTx.instructions.length===2){for(var i=0;i<nativeTx.instructions.length;i+=1){var instruction=nativeTx.instructions[i];if(instruction.programId.toString()===SystemProgram.programId.toString()){var instructionType=SystemInstruction.decodeInstructionType(instruction);if(instructionType==='Transfer'){var{fromPubkey,toPubkey}=SystemInstruction.decodeTransfer(instruction);nativeTx.instructions[i]=SystemProgram.transfer({fromPubkey,toPubkey,lamports:BigInt(new BigNumber(nativeAmountInfo.maxSendAmount).shiftedBy(network.decimals).toFixed())});return bs58.encode(nativeTx.serialize({requireAllSignatures:false}));}}}}return Promise.resolve(encodedTx);});function _updateNativeTokenAmount(_x16){return _updateNativeTokenAmount2.apply(this,arguments);}return _updateNativeTokenAmount;}();_proto._attachFeeInfoToEncodedTx=function(){var _attachFeeInfoToEncodedTx2=_asyncToGenerator(function*(params){var{encodedTx,feeInfo}=params;var client=yield this.getClient();if(feeInfo.feeSol){var isComputeUnitPriceExist=false;var{computeUnitPrice}=feeInfo.feeSol;var nativeTx=yield parseToNativeTx(encodedTx);var isVersionedTransaction=nativeTx instanceof VersionedTransaction;var isTransaction=nativeTx instanceof Transaction;var prioritizationFeeInstruction=ComputeBudgetProgram.setComputeUnitPrice({microLamports:Number(computeUnitPrice)});var{instructions,addressLookupTableAccounts,versionedTransactionMessage}=yield parseNativeTxDetail({nativeTx,client});for(var i=0;i<instructions.length;i+=1){var instruction=instructions[i];if(instruction.programId.toString()===ComputeBudgetProgram.programId.toString()){var instructionType=ComputeBudgetInstruction.decodeInstructionType(instruction);if(instructionType==='SetComputeUnitPrice'){var{microLamports}=ComputeBudgetInstruction.decodeSetComputeUnitPrice(instruction);if(!_isNil(microLamports)){isComputeUnitPriceExist=true;if(isVersionedTransaction&&versionedTransactionMessage){versionedTransactionMessage.instructions[i]=prioritizationFeeInstruction;nativeTx.message=versionedTransactionMessage.compileToV0Message(addressLookupTableAccounts);}else{nativeTx.instructions[i]=prioritizationFeeInstruction;break;}}}}}if(isVersionedTransaction&&versionedTransactionMessage){if(!isComputeUnitPriceExist){versionedTransactionMessage.instructions.unshift(prioritizationFeeInstruction);}nativeTx.message=versionedTransactionMessage.compileToV0Message(addressLookupTableAccounts);}else if(isTransaction){if(!isComputeUnitPriceExist){nativeTx.instructions.unshift(prioritizationFeeInstruction);}}try{return bs58.encode(nativeTx.serialize({requireAllSignatures:false}));}catch{return'';}}return Promise.resolve(encodedTx);});function _attachFeeInfoToEncodedTx(_x17){return _attachFeeInfoToEncodedTx2.apply(this,arguments);}return _attachFeeInfoToEncodedTx;}();_proto.validateAddress=function validateAddress(address){try{var publicKey=new PublicKey(address);if(PublicKey.isOnCurve(address)||PublicKey.isOnCurve(publicKey.encode())||bs58.decode(address).length===32){return Promise.resolve({isValid:true,normalizedAddress:address,displayAddress:address});}}catch{}return Promise.resolve({isValid:false,normalizedAddress:'',displayAddress:''});};_proto.validateXpub=function validateXpub(){return Promise.resolve({isValid:false});};_proto.getPrivateKeyFromImported=function(){var _getPrivateKeyFromImported=_asyncToGenerator(function*(params){var _privateKey;var input=decodeSensitiveText({encodedText:params.input});var privateKey;var decodedPrivateKey=bs58.decode(input);if(decodedPrivateKey.length===64){privateKey=decodedPrivateKey.slice(0,32).toString('hex');}privateKey=encodeSensitiveText({text:(_privateKey=privateKey)!=null?_privateKey:''});return{privateKey};});function getPrivateKeyFromImported(_x18){return _getPrivateKeyFromImported.apply(this,arguments);}return getPrivateKeyFromImported;}();_proto.validateXprvt=function validateXprvt(){return Promise.resolve({isValid:false});};_proto.validatePrivateKey=function(){var _validatePrivateKey=_asyncToGenerator(function*(privateKey){try{var secret=bs58.decode(privateKey);if(secret.length===64){var priv=secret.slice(0,32).toString('hex');var validation=yield this.baseValidatePrivateKey(priv);return validation;}}catch{}return{isValid:false};});function validatePrivateKey(_x19){return _validatePrivateKey.apply(this,arguments);}return validatePrivateKey;}();_proto.validateGeneralInput=function(){var _validateGeneralInput=_asyncToGenerator(function*(params){var{result}=yield this.baseValidateGeneralInput(params);return result;});function validateGeneralInput(_x20){return _validateGeneralInput.apply(this,arguments);}return validateGeneralInput;}();_proto.buildEstimateFeeParams=function(){var _buildEstimateFeeParams=_asyncToGenerator(function*({encodedTx}){if(!encodedTx){return{encodedTx};}var nativeTx=yield parseToNativeTx(encodedTx);var client=yield this.getClient();var{instructions}=yield parseNativeTxDetail({nativeTx,client});var computeUnitLimit=parseComputeUnitLimit(instructions);return{encodedTx,estimateFeeParams:{estimateFeeParamsSol:{baseFee:String(BASE_FEE),computeUnitPriceDecimals:COMPUTE_UNIT_PRICE_DECIMALS,computeUnitLimit:String(computeUnitLimit)}}};});function buildEstimateFeeParams(_x21){return _buildEstimateFeeParams.apply(this,arguments);}return buildEstimateFeeParams;}();_proto.attachFeeInfoToDAppEncodedTx=function(){var _attachFeeInfoToDAppEncodedTx=_asyncToGenerator(function*(params){var{encodedTx,feeInfo}=params;var devSettings=yield this.backgroundApi.serviceDevSetting.getDevSetting();if(devSettings.enabled&&devSettings.settings?.disableSolanaPriorityFee){return'';}var client=yield this.getClient();var accountAddress=yield this.getAccountAddress();var computeUnitPrice='0';var nativeTx=yield parseToNativeTx(encodedTx);if(nativeTx.signatures&&nativeTx.signatures.length>1){return'';}var{instructions}=yield parseNativeTxDetail({nativeTx,client:yield this.getClient()});var computeUnitPriceFromInstructions=parseComputeUnitPrice(instructions);if(new BigNumber(computeUnitPriceFromInstructions).gte(MIN_PRIORITY_FEE)){var _encodedTxWithFee=yield this._attachFeeInfoToEncodedTx({encodedTx,feeInfo:_objectSpread(_objectSpread({},feeInfo),{},{feeSol:{computeUnitPrice:'1'}})});return _encodedTxWithFee===''?_encodedTxWithFee:encodedTx;}if(_isNil(feeInfo.feeSol?.computeUnitPrice)){var prioritizationFee=yield client.getRecentMaxPrioritizationFees([accountAddress]);computeUnitPrice=String(prioritizationFee);}else{computeUnitPrice=feeInfo.feeSol.computeUnitPrice;}var encodedTxWithFee=yield this._attachFeeInfoToEncodedTx({encodedTx,feeInfo:_objectSpread(_objectSpread({},feeInfo),{},{feeSol:{computeUnitPrice}})});if(isTxOverSize(encodedTxWithFee)){return'';}return encodedTxWithFee;});function attachFeeInfoToDAppEncodedTx(_x22){return _attachFeeInfoToDAppEncodedTx.apply(this,arguments);}return attachFeeInfoToDAppEncodedTx;}();_proto.getCustomRpcEndpointStatus=function(){var _getCustomRpcEndpointStatus=_asyncToGenerator(function*(params){var client=new ClientCustomRpcSol(params.rpcUrl);var start=performance.now();var result=yield client.getInfo();return{responseTime:Math.floor(performance.now()-start),bestBlockNumber:result.bestBlockNumber};});function getCustomRpcEndpointStatus(_x23){return _getCustomRpcEndpointStatus.apply(this,arguments);}return getCustomRpcEndpointStatus;}();_proto.broadcastTransactionFromCustomRpc=function(){var _broadcastTransactionFromCustomRpc=_asyncToGenerator(function*(params){var{customRpcInfo,signedTx}=params;var rpcUrl=customRpcInfo.rpc;if(!rpcUrl){throw new OneKeyInternalError('Invalid rpc url');}var client=new ClientCustomRpcSol(rpcUrl);var txid=yield client.broadcastTransaction(signedTx.rawTx);return _objectSpread(_objectSpread({},signedTx),{},{txid,encodedTx:signedTx.encodedTx});});function broadcastTransactionFromCustomRpc(_x24){return _broadcastTransactionFromCustomRpc.apply(this,arguments);}return broadcastTransactionFromCustomRpc;}();_proto.validateSendAmount=function(){var _validateSendAmount=_asyncToGenerator(function*({isNative:isNativeToken,amount,tokenBalance}){if(!isNativeToken&&new BigNumber(amount).isZero()&&new BigNumber(tokenBalance).isZero()){throw new CanNotSendZeroAmountError();}return true;});function validateSendAmount(_x25){return _validateSendAmount.apply(this,arguments);}return validateSendAmount;}();_proto.buildOkxSwapEncodedTx=function(){var _buildOkxSwapEncodedTx=_asyncToGenerator(function*(params){return Promise.resolve(params.okxTx.data);});function buildOkxSwapEncodedTx(_x26){return _buildOkxSwapEncodedTx.apply(this,arguments);}return buildOkxSwapEncodedTx;}();return _createClass(Vault);}(VaultBase);export{Vault as default};","export var EVaultKeyringTypes=function(EVaultKeyringTypes){EVaultKeyringTypes[\"hd\"]=\"hd\";EVaultKeyringTypes[\"qr\"]=\"qr\";EVaultKeyringTypes[\"hardware\"]=\"hardware\";EVaultKeyringTypes[\"imported\"]=\"imported\";EVaultKeyringTypes[\"watching\"]=\"watching\";EVaultKeyringTypes[\"external\"]=\"external\";return EVaultKeyringTypes;}({});export var EWrappedType=function(EWrappedType){EWrappedType[\"DEPOSIT\"]=\"deposit\";EWrappedType[\"WITHDRAW\"]=\"withdraw\";return EWrappedType;}({});","import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}import axios from'axios';import timeoutSignal from'timeout-signal';import{AxiosResponseError,JsonRPCResponseError,ResponseError}from\"../errors\";function normalizePayload(method,params,id=0){return{jsonrpc:'2.0',id,method,params};}var JsonRPCRequest=function(){function JsonRPCRequest(url,headers,timeout=30_000){this.url=url;this.timeout=timeout;this.headers={'Content-Type':'application/json'};if(headers){Object.assign(this.headers,headers);}}JsonRPCRequest.parseRPCResponse=function parseRPCResponse(response){if(typeof response!=='object'){throw new ResponseError('Invalid JSON RPC response, typeof response should be an object',response);}else if(response.error){var message='Error JSON RPC response';var error=response.error;if(error?.message&&typeof error?.message==='string'){message=`Error JSON RPC response: ${error?.message}`;}throw new JsonRPCResponseError(message,response);}else if(!('result'in response)){throw new ResponseError('Invalid JSON RPC response, result not found',response);}return Promise.resolve(response.result);};var _proto=JsonRPCRequest.prototype;_proto.call=function(){var _call=_asyncToGenerator(function*(method,params,headers,timeout){var signal=timeoutSignal(timeout||this.timeout);try{var response=yield axios({url:this.url,method:'POST',headers:this.assembleHeaders(headers),data:JSON.stringify(normalizePayload(method,params)),signal});return yield JsonRPCRequest.parseRPCResponse(response.data);}catch(error){if(axios.isAxiosError(error)){var _error$response$statu;throw new AxiosResponseError(`Wrong response<${(_error$response$statu=error.response?.status)!=null?_error$response$statu:''}>`,error.response);}throw error;}});function call(_x,_x2,_x3,_x4){return _call.apply(this,arguments);}return call;}();_proto.batchCall=function(){var _batchCall=_asyncToGenerator(function*(calls,headers,timeout,ignoreSoloError=true,autoFallbackToRpcSingle=true){var _this=this;var jsonResponses=[];var useRpcBatch=!autoFallbackToRpcSingle;if(useRpcBatch){var payload=calls.map(function([method,params],index){return normalizePayload(method,params,index);});try{var response=yield axios({url:this.url,method:'POST',headers:this.assembleHeaders(headers),data:JSON.stringify(payload),signal:timeoutSignal(timeout||this.timeout)});jsonResponses=response.data;if(!Array.isArray(jsonResponses)){throw new AxiosResponseError('Invalid JSON Batch RPC response, response should be an array',response);}else if(calls.length!==jsonResponses.length){throw new AxiosResponseError(`Invalid JSON Batch RPC response, batch with ${calls.length} calls, but got ${jsonResponses.length} responses`,response);}}catch(error){if(axios.isAxiosError(error)){var _error$response$statu2;throw new AxiosResponseError(`Wrong response<${(_error$response$statu2=error.response?.status)!=null?_error$response$statu2:''}>`,error.response);}throw error;}}else{jsonResponses=yield Promise.all(calls.map(function(){var _ref=_asyncToGenerator(function*(c){try{var res=yield _this.call(c[0],c[1],headers,timeout);return{result:res};}catch(error){}});return function(_x8){return _ref.apply(this,arguments);};}()));}return Promise.all(jsonResponses.sort(function({id:idA},{id:idB}){return idA-idB;}).map(function(resp){return JsonRPCRequest.parseRPCResponse(resp).catch(function(e){if(e instanceof JsonRPCResponseError&&ignoreSoloError){return undefined;}throw e;});}));});function batchCall(_x5,_x6,_x7){return _batchCall.apply(this,arguments);}return batchCall;}();_proto.assembleHeaders=function assembleHeaders(headers={}){return _objectSpread(_objectSpread({},this.headers),headers);};_proto.batchChunkCall=function(){var _batchChunkCall=_asyncToGenerator(function*(payloads,headers,timeout,ignoreSoloError=true){var flattenedCalls=payloads.flat();var flattenedResults=yield this.batchCall(flattenedCalls,headers,timeout,ignoreSoloError,false);if(!Array.isArray(flattenedResults)){throw new Error('Invalid JSON Batch RPC response, response should be an array');}var results=[];var startIndex=0;for(var chunk of payloads){var chunkSize=chunk.length;results.push(flattenedResults.slice(startIndex,startIndex+chunkSize));startIndex+=chunkSize;}return results;});function batchChunkCall(_x9,_x10,_x11){return _batchChunkCall.apply(this,arguments);}return batchChunkCall;}();return _createClass(JsonRPCRequest);}();export{JsonRPCRequest};"],"names":["slicePathTemplate","template","getUtxoAccountPrefixPath","fullPath","pathComponent","split","pop","join","getBIP44Path","account","address","realPath","key","value","Object","entries","addresses","path","estimateTxSize","inputsForCoinSelect","outputsForCoinSelect","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","result","Super","NewTarget","this","constructor","Reflect","construct","arguments","apply","t","Boolean","prototype","valueOf","call","KeyringBase","_VaultContext","_super","vault","_this","options","networkId","Error","_basePrepareHdNormalAccounts","_basePrepareHdUtxoAccounts","_batchGetAddresses","_exportAccountSecretKeys","_buildHwAllNetworkPrepareAccountsParams","_proto","isKeyringImported","keyringType","imported","isKeyringHd","hd","isKeyringHardware","hardware","isKeyringWatching","watching","basePrepareHdNormalAccounts","params","walletId","names","deriveInfo","indexes","coinType","namePrefix","idSuffix","settings","getVaultSettings","accountType","buildAddressesInfo","usedIndexes","addressInfos","ret","idx","length","publicKey","relPath","VARIANT","pathIndex","name","buildHDAccountName","id","buildHDAccountId","indexedAccountId","buildIndexedAccountId","index","push","type","impl","pub","_x","_x2","basePrepareHdUtxoAccounts","skipCheckAccountExist","UTXO","checkIsAccountUsed","accountCreatePerf","utxoBuildAddressesInfo","addressesInfo","utxoBuildAddressesInfoDone","buildDBUtxoAccounts","xpub","xpubSegwit","prefix","isLast","isUsed","wait","buildDBUtxoAccountsDone","_x3","_x4","batchGetAddresses","_x5","exportAccountSecretKeys","_x6","buildHwAllNetworkPrepareAccountsParams","_x7","buildPrepareAccountsPrefixedPath","_KeyringBase","KeyringBaseMock","_super2","KeyringExternalBase","args","external","_baseSignMessageByExternalWallet","_baseSendTransactionByExternalWallet","_basePrepareExternalAccounts","baseSignMessageByExternalWallet","backgroundApi","serviceDappSide","signMessage","getAccount","baseSendTransactionByExternalWallet","sendTransaction","prepareAccounts","basePrepareExternalAccounts","KeyringHardwareBase","_getHardwareSDKInstance","_baseGetDeviceAccountData","_baseGetDeviceAccountPublicKeys","_baseGetDeviceAccountAddresses","_getAllNetworkPrepareAccounts","getHardwareSDKInstance","_ref","r","$backgroundApiProxy","serviceHardware","getSDKInstance","getHardwareSDKInstanceDone","baseGetDeviceAccountData","sdkGetDataFn","errorMessage","deviceParams","dbDevice","confirmOnDevice","connectId","deviceId","coinName","pathPrefix","pathSuffix","showOnOnekeyFn","arrIndex","EveryItem","LastItem","baseGetDeviceAccountPublicKeys","sdkGetPublicKeysFn","baseGetDeviceAccountAddresses","sdkGetAddressFn","getAllNetworkPrepareAccounts","hwSdkNetwork","buildPath","buildResultAccount","hwAllNetworkPrepareAccountsResponse","resultAccounts","_loop","find","item","network","success","payload","hasErrorItem","error","indexOf","KeyringHdBase","_KeyringSoftwareBase","KeyringImportedBase","ownKeys","e","keys","getOwnPropertySymbols","o","filter","getOwnPropertyDescriptor","enumerable","_objectSpread","forEach","getOwnPropertyDescriptors","defineProperties","defineProperty","KeyringSoftwareBase","_baseGetCredentialsInfo","_baseSignTransactionBtc","_baseSignTransaction","_baseSignMessage","_baseSignMessageBtc","_basePrepareAccountsImported","_basePrepareAccountsImportedUtxo","_basePrepareAccountsHd","_basePrepareAccountsHdUtxo","_baseExportAccountSecretKeys","_baseGetPrivateKeys","baseGetCredentialsInfo","password","getCredential","credential","accountId","baseSignTransactionBtc","coreApi","unsignedTx","signOnly","credentials","networkInfo","getCoreApiNetworkInfo","btcExtraInfo","relPaths","prepareBtcSignExtraInfo","signTransaction","baseSignTransaction","baseSignMessage","messages","Promise","all","map","msg","unsignedMsg","baseSignMessageBtc","_this2","unsignedMessage","basePrepareAccountsImported","importedCredential","networks","createAtNetwork","privateKey","onlyAvailableOnCertainNetworks","coinTypeDefault","privateKeyRaw","getAddressFromPrivate","addressEncoding","addressUsed","buildImportedAccountId","resolve","undefined","basePrepareAccountsImportedUtxo","_x8","basePrepareAccountsHd","_ref2","_this3","getAddressesFromHd","hdCredential","_x10","_x9","basePrepareAccountsHdUtxo","_ref3","_this4","getCredentialsInfo","getAddressesFromHdDone","_x13","_x11","_x12","baseExportAccountSecretKeys","keyType","serviceNetwork","getDeriveTypeByTemplate","getExportedSecretKey","_x14","baseGetPrivateKeys","getPrivateKeys","_x15","KeyringWatchingBase","_signTransaction","_signMessage","_basePrepareUtxoWatchingAccounts","_basePrepareSimpleWatchingAccounts","a","intl","formatMessage","ETranslations","wallet_error_trade_with_watched_acocunt","basePrepareUtxoWatchingAccounts","isUrlAccount","buildWatchingAccountId","addressFromXpub","getAddressFromPublic","basePrepareSimpleWatchingAccounts","SIMPLE","_excluded","_excluded2","VaultBase","_VaultBaseChainOnly","uuid","mutexBuildOnChainHistoryTxGetDBAccount","_init","_initKeyring","_broadcastTransaction","_broadcastTransactionFromCustomRpc","_validateSendAmount","_buildOnChainHistoryTxExtraInfo","_precheckUnsignedTx","_buildEstimateFeeParams","_buildParseTransactionParams","_buildFetchHistoryListParams","_buildHistoryTx","_buildOnChainHistoryTx","_buildHistoryTxAction","_buildHistoryTxFunctionCallAction","_buildHistoryTxUnknownAction","_buildHistoryTransferAction","_buildTxTransferAssetAction","_buildInternalSwapAction","_buildInternalStakingAction","_getAccount","_getAccountAddress","_getAccountPath","_getAccountXpub","_fillTokensDetails","_fillAccountDetails","_isEarliestLocalPendingTx","_buildReplaceEncodedTx","_attachFeeInfoToDAppEncodedTx","_activateToken","_getAddressType","_fetchAccountDetails","_fetchAccountDetailsByApi","_fetchAccountDetailsByRpc","_fetchTokenList","_fetchTokenListByApi","_fetchTokenListByRpc","_estimateFee","_estimateFeeByApi","_estimateFeeByRpc","_fetchAccountHistoryDetail","_fetchAccountHistoryDetailByApi","_fetchAccountHistoryDetailByRpc","_buildOkxSwapEncodedTx","_proto2","init","config","initKeyring","_x16","isChainOnly","keyring","keyringCreator","_x17","broadcastTransaction","signedTx","txid","serviceSend","encodedTx","_x18","broadcastTransactionFromCustomRpc","_x19","validateSendAmount","_x20","buildOnChainHistoryTxExtraInfo","onChainHistoryTx","_x21","precheckUnsignedTx","_x22","buildEstimateFeeParams","_x23","buildParseTransactionParams","_x24","buildFetchHistoryListParams","_x25","buildHistoryTx","historyTxToMerge","decodedTx","isSigner","isLocalCreated","dbAccount","accountAddress","x","serviceAccount","getAccountAddressForApi","getAccountXpub","owner","signer","historyTx","buildLocalHistoryId","_x26","fixOnChainHistoryAccountData","originAccountId","originNetworkId","originAccountAddress","originXpub","allNetworkHistoryExtraItems","onekeyall","allNetworkAccount","i","_","txXpub","accountXpub","buildOnChainHistoryTx","tokens","nfts","dbAccountCache","runExclusive","getDBAccountSafe","vaultSettings","action","buildHistoryTxAction","tx","from","to","nonce","actions","status","totalFeeInNative","gasFee","totalFeeFiatValue","gasFeeFiatValue","nativeAmount","isUtxo","extraInfo","label","updatedAt","Date","timestamp","getTime","createdAt","isFinal","_x27","Approve","tokenApprove","buildHistoryTxApproveAction","sends","receives","buildHistoryTxFunctionCallAction","buildHistoryTxUnknownAction","buildHistoryTransferAction","_x28","getNetwork","FUNCTION_CALL","functionCall","functionName","functionHash","functionCode","_x29","UNKNOWN","unknownAction","_x30","ASSET_TRANSFER","assetTransfer","send","buildHistoryTransfer","transfer","receive","_x31","icon","symbol","isNFT","isNative","price","tokenAddress","token","tokenIdOnNetwork","amount","isOwn","decimals","TOKEN_APPROVE","spender","shiftedBy","toFixed","isInfiniteAmount","buildTxTransferAssetAction","transfers","data","application","isInternalSwap","isInternalStaking","internalStakingLabel","swapReceivedAddress","swapReceivedNetworkId","getAccountAddress","sendNativeTokenAmountBN","OUT","plus","nativeAmountValue","convertAmountToChainValue","_x32","buildInternalSwapAction","_swapSendToken$logoUR","_swapSendToken$name","_swapReceiveToken$log","_swapReceiveToken$nam","_providerInfo$provide","swapData","swapInfo","swapToAddress","swapSendToken","sender","swapReceiveToken","receiver","providerInfo","swapBuildResData","info","otherFeeInfos","fee","otherFeeInfoTransfers","contractAddress","logoURI","accountInfo","receivingAddress","feeInfo","_feeInfo$token$logoUR","_feeInfo$token$name","providerName","providerLogo","_x33","buildInternalStakingAction","_send$token$logoURI","_send$token$name","_receive$token$logoUR","_receive$token$name","stakingInfo","stakingData","stakingToAddress","protocol","protocolLogoURI","_x34","_params$signOnly","_signedTx$encodedTx","_x35","getDBAccount","isAccountCompatibleWithNetwork","slice","getNetworkInfo","externalAccount","externalAccountAddress","connectedAddresses","buildExternalAccountAddress","fallbackIndex","_externalAccount$sele","selectedAddress","getNetworkImpl","addressDetail","buildAccountAddressDetail","allowEmptyAddress","isValid","getAccountPath","networkAccount","getXpubFromAccount","fillTokensDetails","tokensDetails","_x36","fillAccountDetails","accountDetails","_x37","isEarliestLocalPendingTx","_x38","buildReplaceEncodedTx","replaceType","_x39","attachFeeInfoToDAppEncodedTx","_x40","activateToken","_x41","getAddressType","_x42","buildStakeEncodedTx","fetchAccountDetails","isCustomNetwork","fetchAccountDetailsByRpc","fetchAccountDetailsByApi","_x43","queryParams","client","serviceAccountProfile","getClient","Wallet","get","headers","_getWalletTypeHeader","signal","_x44","_x45","fetchTokenList","fetchTokenListByRpc","fetchTokenListByApi","_x46","serviceToken","requestApiParams","flag","contractList","contract","post","_x47","_x48","estimateFee","estimateFeeByRpc","estimateFeeByApi","_x49","rest","serviceGas","_x50","_x51","fetchAccountHistoryDetail","fetchAccountHistoryDetailByRpc","fetchAccountHistoryDetailByApi","_x52","_x53","_x54","buildOkxSwapEncodedTx","_x55","VaultBaseChainOnly","_getXpubFromAccount","_proxyJsonRPCCall","_addressFromBase","_addressToBase","_baseValidatePrivateKey","_baseValidateGeneralInput","_baseGetPrivateKeyFromImported","_validateAmountInputShown","_checkIsDomainName","_resolveDomainName","_getCustomRpcEndpointStatus","_checkFeeSupportInfo","_fetchTokenDetails","_fetchTokenDetailsByApi","_fetchTokenDetailsByRpc","proxyJsonRPCCall","request","addressFromBase","addressToBase","baseValidatePrivateKey","baseValidateGeneralInput","addressResult","xpubResult","xprvtResult","privateKeyResult","input","encodedText","validateAddress","validateXprvt","validateXpub","validatePrivateKey","inputDecoded","baseGetPrivateKeyFromImported","stripHexPrefix","text","validateAmountInputShown","toAddress","checkIsDomainName","resolveDomainName","getCustomRpcEndpointStatus","checkFeeSupportInfo","fetchTokenDetails","fetchTokenDetailsByRpc","fetchTokenDetailsByApi","_params$signal","VaultContext","getWalletIdFromAccountId","_getNetworkId","_getNetwork","_getNetworkChainId","_getNetworkImpl","_getVaultSettings2","_getNetworkInfo","_getCoreApiNetworkInfo","_getRpcUrl","_destroy","getNetworkId","cached","_network","getNetworkChainId","hex","addressPrefix","curve","networkImpl","chainId","isTestnet","networkChainCode","code","getRpcUrl","destroy","KeyringExternal","_KeyringExternalBase","EParamsEncodings","ERpcMethods","ClientSol","_getMinimumBalanceForRentExemption","_getLatestBlockHash","_getTokenAccountsByOwner","_getAccountInfo","_getRecentPrioritizationFees","_getRecentMaxPrioritizationFees","getMinimumBalanceForRentExemption","dataLength","response","sendProxyRequest","body","route","method","GET_MINIMUM_BALANCE_FOR_RENT_EXEMPTION","getLatestBlockHash","GET_LATEST_BLOCK_HASH","commitment","recentBlockhash","blockhash","lastValidBlockHeight","getTokenAccountsByOwner","programId","GET_TOKEN_ACCOUNTS_BY_OWNER","toString","encoding","JSON_PARSED","getAccountInfo","GET_ACCOUNT_INFO","getRecentPrioritizationFees","accountAddresses","GET_RECENT_PRIORITIZATION_FEES","getRecentMaxPrioritizationFees","resp","TOKEN_METADATA_PROGRAM_ID","TOKEN_AUTH_RULES_ID","CREATE_TOKEN_ACCOUNT_RENT","metadataAddress","mint","findProgramAddressSync","Buffer","toBuffer","tokenRecordAddress","masterEditionAddress","parseNativeTxDetail","_parseNativeTxDetail","nativeTx","message","instructions","versionedTransactionMessage","addressLookupTableAccounts","serialize","addressTableLookups","lookup","accountKey","BASE64","state","deserialize","decompile","compileMessage","parseToNativeTx","txByte","alloc","KeyringHardware","_KeyringHardwareBase","coreChainApi","sol","_prepareAccounts","showOnOneKey","publicKeys","allNetworkAccounts","p","accountUtils","buildPathFromTemplate","normalizedAddress","addressInfo","feePayer","feePayerPublicKey","sdk","deviceCommonParams","transaction","appLocale","feedback_failed_to_parse_transaction","isVersionedTransaction","solSignTransaction","rawTx","serializeMessage","signature","addSignature","requireAllSignatures","feedback_failed_to_sign_transaction","feedback_sol_sign_unupported_message","KeyringHd","_KeyringHdBase","_getPrivateKeys","KeyringImported","_KeyringImportedBase","KeyringWatching","_KeyringWatchingBase","ClientCustomRpcSol","url","rpc","JsonRPCRequest","_getInfo","getInfo","epochInfo","ok","batchCall","GET_EPOCH_INFO","GET_HEALTH","bestBlockNumber","absoluteSlot","isReady","SEND_TRANSACTION","Vault","_VaultBase","keyringMap","qr","hw","_getClientCache","maxAge","timerUtils","getTimeDurationMs","minute","_getAssociatedAccountInfo","ataAddress","_yield$client$getAcco","ataInfo","parsed","promise","primitive","max","_getClient","_buildAccountAddressDetail","_buildEncodedTx","_buildEncodedTxFromTransfer2","_buildEncodedTxFromBatchTransfer2","_getRecentBlockHash2","_getTokenProgramId2","_getAssociatedTokenAddress2","_checkIsProgrammableNFT2","_buildProgrammableNFTInstructions2","_checkIsOpenCreatorProtocol2","_buildDecodedTx","_decodeNativeTxActions2","_buildUnsignedTx","_buildUnsignedTxFromEncodedTx2","_updateUnsignedTx","_updateNativeTokenAmount2","_attachFeeInfoToEncodedTx2","_getPrivateKeyFromImported","_validatePrivateKey","_validateGeneralInput","displayAddress","baseAddress","buildEncodedTx","transfersInfo","_buildEncodedTxFromTransfer","transferInfo","_buildEncodedTxFromBatchTransfer","firstReceiver","source","_getRecentBlockHash","devSettings","serviceDevSetting","getDevSetting","enabled","disableSolanaPriorityFee","prioritizationFee","addPriorityFee","setComputeUnitPrice","microLamports","add","tokenInfo","nftInfo","isNativeTokenTransfer","destination","fromPubkey","toPubkey","lamports","BigInt","_tokenInfo$address","nftAddress","tokenSendAddress","sendAddress","destinationAta","tokenProgramId","_getTokenProgramId","sourceAta","_getAssociatedTokenAddress","destinationAtaInfo","isProgrammableNFT","metadata","_checkIsProgrammableNFT","_buildProgrammableNFTInstructions","ocpMintState","_checkIsOpenCreatorProtocol","_buildOpenCreatorProtocolInstructions","mintState","_buildTransferTokenInstructions","tokenDecimals","lastRpcErrorMessage","rpcErrorData","tokenAccounts","tokenAccounts2022","program","metaAddress","mintAccountInfo","Metadata","fromAccountInfo","tokenStandard","TokenStandard","ProgrammableNonFungible","ProgrammableNonFungibleEdition","ownerTokenRecord","ownerTokenRecordInfo","authorizationRules","_metadata$programmabl","tokenRecord","TokenRecord","TokenState","Locked","Listed","programmableConfig","ruleSet","transferAccounts","authority","tokenOwner","edition","destinationOwner","payer","systemProgram","splTokenProgram","splAtaProgram","sysvarInstructions","authorizationRulesProgram","destinationTokenRecord","transferArgs","__kind","Number","authorizationData","mintStatePk","findMintStatePk","MintState","inscriptions","computeBudgetIx","policy","freezeAuthority","findFreezeAuthorityPk","fromAccount","cmtProgram","CMT_PROGRAM","associatedTokenProgram","tokenProgram","toAccount","buildDecodedTx","transferPayload","saveToLocalHistory","_accountAddress","_decodeNativeTxActions","amountToSend","some","instruction","_nativeToken$logoURI","_actions$0$assetTrans","_actions$0$assetTrans2","nativeToken","getNativeToken","chainValueUtils","signatures","every","Pending","createdAta","decodeInstructionType","_nativeToken$logoURI2","decodeTransfer","pubkey","PROGRAM_ADDRESS","_instructionType","decode","tokenAmount","fromAddress","TransferChecked","_owner","_mint","Transfer","_amount","_owner2","_destination","ataAccountInfo","_mint2","getToken","_tokenInfo$logoURI","_transfer","_owner3","_destination2","_tokenAddress","_fromAddress","_toAddress","_tokenInfo","_tokenInfo$logoURI2","_transfer2","associatedToken","buildUnsignedTx","_params$encodedTx","_buildUnsignedTxFromEncodedTx","newEncodedTx","OKXTxObject","updateUnsignedTx","nativeAmountInfo","feeInfoEditable","encodedTxNew","_updateNativeTokenAmount","_attachFeeInfoToEncodedTx","maxSendAmount","feeSol","isComputeUnitPriceExist","computeUnitPrice","isTransaction","prioritizationFeeInstruction","decodeSetComputeUnitPrice","compileToV0Message","unshift","isOnCurve","encode","getPrivateKeyFromImported","_privateKey","decodedPrivateKey","secret","priv","validateGeneralInput","computeUnitLimit","parseComputeUnitLimit","units","decodeSetComputeUnitLimit","estimateFeeParams","estimateFeeParamsSol","baseFee","String","computeUnitPriceDecimals","computeUnitPriceFromInstructions","parseComputeUnitPrice","gte","_encodedTxWithFee","encodedTxWithFee","isTxOverSize","rpcUrl","start","performance","now","responseTime","Math","floor","customRpcInfo","isNativeToken","tokenBalance","isZero","okxTx","EVaultKeyringTypes","EWrappedType","normalizePayload","jsonrpc","timeout","assign","parseRPCResponse","_call","_batchCall","_batchChunkCall","assembleHeaders","JSON","stringify","_error$response$statu","isAxiosError","calls","ignoreSoloError","autoFallbackToRpcSingle","jsonResponses","c","Array","isArray","_error$response$statu2","sort","idA","idB","catch","batchChunkCall","payloads","flattenedCalls","flat","flattenedResults","results","startIndex","chunk","chunkSize"],"sourceRoot":""}