{"version":3,"file":"static/js/13047.2db403bcb0.chunk.js","mappings":"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","sources":["webpack://web/../../node_modules/@onekeyfe/coinselect/utils.js","webpack://web/../../packages/core/src/chains/ton/sdkTon/address.ts","webpack://web/../../packages/core/src/chains/ton/sdkTon/sendMode.ts","webpack://web/../../packages/core/src/chains/ton/sdkTon/tx.ts","webpack://web/../../packages/core/src/utils/index.ts","webpack://web/../../packages/kit-bg/src/vaults/base/KeyringBase.ts","webpack://web/../../packages/kit-bg/src/vaults/base/KeyringExternalBase.ts","webpack://web/../../packages/kit-bg/src/vaults/base/KeyringHardwareBase.ts","webpack://web/../../packages/kit-bg/src/vaults/base/KeyringHdBase.ts","webpack://web/../../packages/kit-bg/src/vaults/base/KeyringImportedBase.ts","webpack://web/../../packages/kit-bg/src/vaults/base/KeyringSoftwareBase.ts","webpack://web/../../packages/kit-bg/src/vaults/base/KeyringWatchingBase.ts","webpack://web/../../packages/kit-bg/src/vaults/base/VaultBase.ts","webpack://web/../../packages/kit-bg/src/vaults/base/VaultContext.ts","webpack://web/../../packages/kit-bg/src/vaults/impls/ton/KeyringExternal.ts","webpack://web/../../packages/kit-bg/src/vaults/impls/ton/KeyringHardware.ts","webpack://web/../../packages/kit-bg/src/vaults/impls/ton/KeyringHd.ts","webpack://web/../../packages/kit-bg/src/vaults/impls/ton/KeyringImported.ts","webpack://web/../../packages/kit-bg/src/vaults/impls/ton/KeyringWatching.ts","webpack://web/../../packages/kit-bg/src/vaults/impls/ton/sdkTon/ClientTon.ts","webpack://web/../../packages/kit-bg/src/vaults/impls/ton/Vault.ts","webpack://web/../../packages/kit-bg/src/vaults/impls/ton/settings.ts","webpack://web/../../packages/kit-bg/src/vaults/types.ts","webpack://web/../../packages/shared/src/request/JsonRPCRequest.ts","webpack://web/../../node_modules/timeout-signal/index.js"],"sourcesContent":["// baseline estimates, used to improve performance\nvar TX_EMPTY_SIZE = 4 + 1 + 1 + 4\nvar TX_INPUT_BASE = 32 + 4 + 1 + 4\nvar TX_INPUT_PUBKEYHASH = 107\nvar TX_OUTPUT_BASE = 8 + 1\nvar TX_OUTPUT_PUBKEYHASH = 25\nvar OP_RETURN_OVERHEAD = 1 + 8 + 1\n\nfunction inputBytes (input) {\n  return TX_INPUT_BASE + (input.script ? input.script.length : TX_INPUT_PUBKEYHASH)\n}\n\nfunction outputBytes (output) {\n  if (output.script) {\n    return OP_RETURN_OVERHEAD + output.script.length + (output.script.length >= 74 ? 2 : 1)\n  }\n  return TX_OUTPUT_BASE + (output.script ? output.script.length : TX_OUTPUT_PUBKEYHASH)\n}\n\nfunction dustThreshold (output, feeRate) {\n  /* ... classify the output for input estimate  */\n  return inputBytes({}) * feeRate\n}\n\nfunction transactionBytes (inputs, outputs) {\n  return TX_EMPTY_SIZE +\n    inputs.reduce(function (a, x) { return a + inputBytes(x) }, 0) +\n    outputs.reduce(function (a, x) { return a + outputBytes(x) }, 0)\n}\n\nfunction uintOrNaN (v) {\n  if (typeof v !== 'number') return NaN\n  if (!isFinite(v)) return NaN\n  if (Math.floor(v) !== v) return NaN\n  if (v < 0) return NaN\n  return v\n}\n\nfunction sumForgiving (range) {\n  return range.reduce(function (a, x) { return a + (isFinite(x.value) ? x.value : 0) }, 0)\n}\n\nfunction sumOrNaN (range) {\n  return range.reduce(function (a, x) { return a + uintOrNaN(x.value) }, 0)\n}\n\nvar BLANK_OUTPUT = outputBytes({})\n\nfunction finalize (inputs, outputs, feeRate) {\n  var bytesAccum = transactionBytes(inputs, outputs)\n  var feeAfterExtraOutput = feeRate * (bytesAccum + BLANK_OUTPUT)\n  var remainderAfterExtraOutput = sumOrNaN(inputs) - (sumOrNaN(outputs) + feeAfterExtraOutput)\n\n  // is it worth a change output?\n  if (remainderAfterExtraOutput > dustThreshold({}, feeRate)) {\n    outputs = outputs.concat({ value: remainderAfterExtraOutput })\n  }\n\n  var fee = sumOrNaN(inputs) - sumOrNaN(outputs)\n  if (!isFinite(fee)) return { fee: feeRate * bytesAccum }\n\n  return {\n    inputs: inputs,\n    outputs: outputs,\n    fee: fee\n  }\n}\n\nmodule.exports = {\n  dustThreshold: dustThreshold,\n  finalize: finalize,\n  inputBytes: inputBytes,\n  outputBytes: outputBytes,\n  sumOrNaN: sumOrNaN,\n  sumForgiving: sumForgiving,\n  transactionBytes: transactionBytes,\n  uintOrNaN: uintOrNaN\n}\n","import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import TonWeb from'tonweb';export function genAddressFromPublicKey(_x){return _genAddressFromPublicKey.apply(this,arguments);}function _genAddressFromPublicKey(){_genAddressFromPublicKey=_asyncToGenerator(function*(publicKey,contractVersion='v3R2'){var wallet=new TonWeb.Wallets.all[contractVersion](undefined,{publicKey:Buffer.from(publicKey,'hex')});var address=yield wallet.getAddress();var normalAddress=address.toString(false,false,false);var nonBounceAddress=address.toString(true,true,false);var bounceAddress=address.toString(true,true,true);return{normalAddress,nonBounceAddress,bounceAddress};});return _genAddressFromPublicKey.apply(this,arguments);}export function genAddressFromAddress(_x2){return _genAddressFromAddress.apply(this,arguments);}function _genAddressFromAddress(){_genAddressFromAddress=_asyncToGenerator(function*(address){var addr=new TonWeb.Address(address);var normalAddress=addr.toString(false,false,false);var nonBounceAddress=addr.toString(true,true,false);var bounceAddress=addr.toString(true,true,true);return{normalAddress,nonBounceAddress,bounceAddress};});return _genAddressFromAddress.apply(this,arguments);}","export var ETonSendMode=function(ETonSendMode){ETonSendMode[ETonSendMode[\"CARRY_ALL_REMAINING_BALANCE\"]=128]=\"CARRY_ALL_REMAINING_BALANCE\";ETonSendMode[ETonSendMode[\"CARRY_ALL_REMAINING_INCOMING_VALUE\"]=64]=\"CARRY_ALL_REMAINING_INCOMING_VALUE\";ETonSendMode[ETonSendMode[\"DESTROY_ACCOUNT_IF_ZERO\"]=32]=\"DESTROY_ACCOUNT_IF_ZERO\";ETonSendMode[ETonSendMode[\"PAY_GAS_SEPARATELY\"]=1]=\"PAY_GAS_SEPARATELY\";ETonSendMode[ETonSendMode[\"IGNORE_ERRORS\"]=2]=\"IGNORE_ERRORS\";ETonSendMode[ETonSendMode[\"NONE\"]=0]=\"NONE\";return ETonSendMode;}({});","import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import TonWeb from'tonweb';import{sha256}from\"../../../secret\";export function serializeData(_x){return _serializeData.apply(this,arguments);}function _serializeData(){_serializeData=_asyncToGenerator(function*({message,schemaCrc,timestamp}){var prefix=Buffer.alloc(4+8);prefix.writeUInt32BE(schemaCrc,0);prefix.writeBigUInt64BE(BigInt(timestamp),0);var cell=TonWeb.boc.Cell.oneFromBoc(Buffer.from(message,'base64').toString('hex'));var bytes=Buffer.concat([prefix,yield cell.hash()]);return{cell,bytes};});return _serializeData.apply(this,arguments);}export function serializeProof(_x2){return _serializeProof.apply(this,arguments);}function _serializeProof(){_serializeProof=_asyncToGenerator(function*({address,appDomain,timestamp,message}){var prefix=Buffer.from('ffff','hex');prefix=Buffer.concat([prefix,Buffer.from('ton-connect','utf-8')]);var msgBytes=Buffer.from('ton-proof-item-v2/','utf-8');var addr=new TonWeb.Address(address);var wcBuffer=Buffer.alloc(4);wcBuffer.writeUInt32BE(addr.wc,0);var appDomainBuffer=Buffer.from(appDomain,'utf-8');var appDomainLengthBuffer=Buffer.alloc(4);appDomainLengthBuffer.writeUInt32LE(appDomainBuffer.length,0);var timestampBuffer=Buffer.alloc(8);timestampBuffer.writeBigUInt64LE(BigInt(timestamp),0);msgBytes=Buffer.concat([msgBytes,wcBuffer,addr.hashPart,appDomainLengthBuffer,appDomainBuffer,timestampBuffer,Buffer.from(message,'utf-8')]);var msgHash=sha256(msgBytes);var bytes=sha256(Buffer.concat([prefix,msgHash]));return{msg:msgBytes,bytes};});return _serializeProof.apply(this,arguments);}","import coinselectUtils from'@onekeyfe/coinselect/utils';import accountUtils from'@onekeyhq/shared/src/utils/accountUtils';export function slicePathTemplate(template){return accountUtils.slicePathTemplate(template);}export function getUtxoAccountPrefixPath({fullPath}){var pathComponent=fullPath.split('/');pathComponent.pop();pathComponent.pop();var prefixPath=pathComponent.join('/');return prefixPath;}export function getBIP44Path(account,address){var realPath='';for(var[key,value]of Object.entries(account.addresses)){if(value===address){realPath=key;break;}}return`${account.path}/${realPath}`;}export function estimateTxSize(inputsForCoinSelect,outputsForCoinSelect){return coinselectUtils.transactionBytes(inputsForCoinSelect,outputsForCoinSelect);}","import _isNil from\"lodash/isNil\";import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import{NotImplemented}from'@onekeyhq/shared/src/errors';import{defaultLogger}from'@onekeyhq/shared/src/logger/logger';import accountUtils from'@onekeyhq/shared/src/utils/accountUtils';import timerUtils from'@onekeyhq/shared/src/utils/timerUtils';import{EDBAccountType}from\"../../dbs/local/consts\";import{EVaultKeyringTypes}from\"../types\";import{VaultContext}from\"./VaultContext\";export var KeyringBase=function(_VaultContext){_inherits(KeyringBase,_VaultContext);var _super=_createSuper(KeyringBase);function KeyringBase(vault){var _this;_this=_super.call(this,vault.options);_this.vault=vault;if(_this.vault.networkId!==vault.options.networkId){throw new Error('KeyringBase ERROR: networkId not match1');}if(_this.networkId!==vault.options.networkId){throw new Error('KeyringBase ERROR: networkId not match2');}return _this;}var _proto=KeyringBase.prototype;_proto.isKeyringImported=function isKeyringImported(){return this.keyringType===EVaultKeyringTypes.imported;};_proto.isKeyringHd=function isKeyringHd(){return this.keyringType===EVaultKeyringTypes.hd;};_proto.isKeyringHardware=function isKeyringHardware(){return this.keyringType===EVaultKeyringTypes.hardware;};_proto.isKeyringWatching=function isKeyringWatching(){return this.keyringType===EVaultKeyringTypes.watching;};_proto.basePrepareHdNormalAccounts=function(){var _basePrepareHdNormalAccounts=_asyncToGenerator(function*(params,options){var{walletId}=this;if(!walletId){throw new Error('walletId is not defined');}var{names,deriveInfo,indexes}=params;var{coinType,template,namePrefix,idSuffix}=deriveInfo;if(!coinType){throw new Error('coinType is not defined');}var settings=yield this.getVaultSettings();var{accountType}=settings;var{buildAddressesInfo}=options;var usedIndexes=indexes;var addressInfos=yield buildAddressesInfo({usedIndexes});var ret=[];for(var idx=0;idx<addressInfos.length;idx+=1){var{path,publicKey,address,addresses,relPath}=addressInfos[idx];if(!path){throw new Error('KeyringHD prepareAccounts ERROR: path not found');}if(accountType===EDBAccountType.VARIANT&&!addresses){throw new Error('addresses is required for variant account');}if(accountType===EDBAccountType.VARIANT&&address){throw new Error('address should not set for variant account');}var pathIndex=usedIndexes[idx];var name=names?.[idx]||accountUtils.buildHDAccountName({pathIndex,namePrefix});var id=accountUtils.buildHDAccountId({walletId,path,idSuffix});var indexedAccountId=accountUtils.buildIndexedAccountId({walletId,index:pathIndex});ret.push({id,name,type:accountType,path,pathIndex,relPath,indexedAccountId,coinType,impl:settings.impl,pub:publicKey,address,addresses,template});}return ret;});function basePrepareHdNormalAccounts(_x,_x2){return _basePrepareHdNormalAccounts.apply(this,arguments);}return basePrepareHdNormalAccounts;}();_proto.basePrepareHdUtxoAccounts=function(){var _basePrepareHdUtxoAccounts=_asyncToGenerator(function*(params,options){var{walletId}=this;if(!walletId){throw new Error('walletId is undefined');}var{indexes,deriveInfo,names,skipCheckAccountExist=true}=params;var{coinType,template,namePrefix}=deriveInfo;if(!coinType){throw new Error('coinType is not defined');}var settings=yield this.getVaultSettings();var{accountType}=settings;if(accountType!==EDBAccountType.UTXO){throw new Error('accountType is not utxo');}var{checkIsAccountUsed,buildAddressesInfo}=options;var ignoreFirst=false;var usedIndexes=[...(ignoreFirst?[indexes[0]-1]:[]),...indexes];defaultLogger.account.accountCreatePerf.utxoBuildAddressesInfo();var addressesInfo=yield buildAddressesInfo({usedIndexes});defaultLogger.account.accountCreatePerf.utxoBuildAddressesInfoDone();defaultLogger.account.accountCreatePerf.buildDBUtxoAccounts();var ret=[];var idx=0;for(var{path,relPath,publicKey,xpub,xpubSegwit,address,addresses}of addressesInfo){if(!path||_isNil(xpub)||!addresses){throw new Error('basePrepareHdUtxoAccounts ERROR: path or xpub or addresses is undefined');}if(!relPath){throw new Error('basePrepareHdUtxoAccounts ERROR: relPath is undefined');}var prefix=namePrefix;var pathIndex=usedIndexes[idx];var name=names?.[idx]||`${prefix} #${pathIndex+1}`;var id=`${this.walletId}--${path}`;if(!ignoreFirst||idx>0){var indexedAccountId=accountUtils.buildIndexedAccountId({walletId:this.walletId,index:pathIndex});ret.push({id,name,type:accountType,path,pathIndex,indexedAccountId,relPath,coinType,impl:settings.impl,pub:publicKey,xpub,xpubSegwit,address,addresses,template});}var isLast=idx===addressesInfo.length-1;if(!skipCheckAccountExist&&!isLast&&checkIsAccountUsed){var{isUsed}=yield checkIsAccountUsed({xpub,xpubSegwit,address});if(!isUsed){break;}yield timerUtils.wait(200);}idx+=1;}defaultLogger.account.accountCreatePerf.buildDBUtxoAccountsDone();return ret;});function basePrepareHdUtxoAccounts(_x3,_x4){return _basePrepareHdUtxoAccounts.apply(this,arguments);}return basePrepareHdUtxoAccounts;}();_proto.batchGetAddresses=function(){var _batchGetAddresses=_asyncToGenerator(function*(params){return[];});function batchGetAddresses(_x5){return _batchGetAddresses.apply(this,arguments);}return batchGetAddresses;}();_proto.exportAccountSecretKeys=function(){var _exportAccountSecretKeys=_asyncToGenerator(function*(params){throw new NotImplemented();});function exportAccountSecretKeys(_x6){return _exportAccountSecretKeys.apply(this,arguments);}return exportAccountSecretKeys;}();_proto.buildHwAllNetworkPrepareAccountsParams=function(){var _buildHwAllNetworkPrepareAccountsParams=_asyncToGenerator(function*(params){return undefined;});function buildHwAllNetworkPrepareAccountsParams(_x7){return _buildHwAllNetworkPrepareAccountsParams.apply(this,arguments);}return buildHwAllNetworkPrepareAccountsParams;}();_proto.buildPrepareAccountsPrefixedPath=function buildPrepareAccountsPrefixedPath(params){throw new NotImplemented();};return _createClass(KeyringBase);}(VaultContext);export var KeyringBaseMock=function(_KeyringBase){_inherits(KeyringBaseMock,_KeyringBase);var _super2=_createSuper(KeyringBaseMock);function KeyringBaseMock(){return _super2.apply(this,arguments);}return _createClass(KeyringBaseMock);}(KeyringBase);","import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import{OneKeyInternalError}from'@onekeyhq/shared/src/errors';import{EVaultKeyringTypes}from\"../types\";import{KeyringBase}from\"./KeyringBase\";export var KeyringExternalBase=function(_KeyringBase){_inherits(KeyringExternalBase,_KeyringBase);var _super=_createSuper(KeyringExternalBase);function KeyringExternalBase(...args){var _this;_this=_super.call(this,...args);_this.keyringType=EVaultKeyringTypes.external;return _this;}var _proto=KeyringExternalBase.prototype;_proto.baseSignMessageByExternalWallet=function(){var _baseSignMessageByExternalWallet=_asyncToGenerator(function*(params){return this.backgroundApi.serviceDappSide.signMessage({account:yield this.vault.getAccount(),networkId:this.networkId,params});});function baseSignMessageByExternalWallet(_x){return _baseSignMessageByExternalWallet.apply(this,arguments);}return baseSignMessageByExternalWallet;}();_proto.baseSendTransactionByExternalWallet=function(){var _baseSendTransactionByExternalWallet=_asyncToGenerator(function*(params){return this.backgroundApi.serviceDappSide.sendTransaction({account:yield this.vault.getAccount(),networkId:this.networkId,params});});function baseSendTransactionByExternalWallet(_x2){return _baseSendTransactionByExternalWallet.apply(this,arguments);}return baseSendTransactionByExternalWallet;}();_proto.prepareAccounts=function prepareAccounts(params){throw new OneKeyInternalError('prepareAccounts is not supported for external accounts, use serviceAccount directly');};_proto.basePrepareExternalAccounts=function(){var _basePrepareExternalAccounts=_asyncToGenerator(function*(params){return[];});function basePrepareExternalAccounts(_x3){return _basePrepareExternalAccounts.apply(this,arguments);}return basePrepareExternalAccounts;}();return _createClass(KeyringExternalBase);}(KeyringBase);","import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import{slicePathTemplate}from'@onekeyhq/core/src/utils';import appGlobals from'@onekeyhq/shared/src/appGlobals';import{OneKeyInternalError,UnsupportedAddressTypeError}from'@onekeyhq/shared/src/errors';import{convertDeviceError,convertDeviceResponse}from'@onekeyhq/shared/src/errors/utils/deviceErrorUtils';import{HardwareSDK}from'@onekeyhq/shared/src/hardware/instance';import{defaultLogger}from'@onekeyhq/shared/src/logger/logger';import{EConfirmOnDeviceType}from'@onekeyhq/shared/types/device';import{EVaultKeyringTypes}from\"../types\";import{KeyringBase}from\"./KeyringBase\";export var KeyringHardwareBase=function(_KeyringBase){_inherits(KeyringHardwareBase,_KeyringBase);var _super=_createSuper(KeyringHardwareBase);function KeyringHardwareBase(...args){var _this;_this=_super.call(this,...args);_this.keyringType=EVaultKeyringTypes.hardware;return _this;}var _proto=KeyringHardwareBase.prototype;_proto.getHardwareSDKInstance=function(){var _getHardwareSDKInstance=_asyncToGenerator(function*(){var _ref;defaultLogger.account.accountCreatePerf.getHardwareSDKInstance();var sdk=yield appGlobals?.$backgroundApiProxy?.backgroundApi?.serviceHardware?.getSDKInstance?.();var r=(_ref=sdk)!=null?_ref:HardwareSDK;defaultLogger.account.accountCreatePerf.getHardwareSDKInstanceDone();return r;});function getHardwareSDKInstance(){return _getHardwareSDKInstance.apply(this,arguments);}return getHardwareSDKInstance;}();_proto.baseGetDeviceAccountData=function(){var _baseGetDeviceAccountData=_asyncToGenerator(function*({params,usedIndexes,sdkGetDataFn,errorMessage}){var{deriveInfo,deviceParams}=params;var{dbDevice,confirmOnDevice}=deviceParams;var{connectId,deviceId}=dbDevice;var{template,coinName}=deriveInfo;var{pathPrefix,pathSuffix}=slicePathTemplate(template);var showOnOnekeyFn=function(arrIndex){if(confirmOnDevice===EConfirmOnDeviceType.EveryItem){return true;}if(confirmOnDevice===EConfirmOnDeviceType.LastItem){return arrIndex===usedIndexes[usedIndexes.length-1];}return false;};var result=yield convertDeviceResponse(_asyncToGenerator(function*(){return sdkGetDataFn({connectId,deviceId,pathPrefix,pathSuffix,template,coinName,showOnOnekeyFn});}));if(!result||result.length!==usedIndexes.length){throw new OneKeyInternalError(errorMessage);}return result;});function baseGetDeviceAccountData(_x){return _baseGetDeviceAccountData.apply(this,arguments);}return baseGetDeviceAccountData;}();_proto.baseGetDeviceAccountPublicKeys=function(){var _baseGetDeviceAccountPublicKeys=_asyncToGenerator(function*({params,usedIndexes,sdkGetPublicKeysFn}){return this.baseGetDeviceAccountData({params,usedIndexes,sdkGetDataFn:sdkGetPublicKeysFn,errorMessage:'Unable to get public keys.'});});function baseGetDeviceAccountPublicKeys(_x2){return _baseGetDeviceAccountPublicKeys.apply(this,arguments);}return baseGetDeviceAccountPublicKeys;}();_proto.baseGetDeviceAccountAddresses=function(){var _baseGetDeviceAccountAddresses=_asyncToGenerator(function*({params,usedIndexes,sdkGetAddressFn}){return this.baseGetDeviceAccountData({params,usedIndexes,sdkGetDataFn:sdkGetAddressFn,errorMessage:'Unable to get addresses.'});});function baseGetDeviceAccountAddresses(_x3){return _baseGetDeviceAccountAddresses.apply(this,arguments);}return baseGetDeviceAccountAddresses;}();_proto.getAllNetworkPrepareAccounts=function(){var _getAllNetworkPrepareAccounts=_asyncToGenerator(function*({hwSdkNetwork,params,usedIndexes,buildPath,buildResultAccount}){if(!hwSdkNetwork){return undefined;}var{hwAllNetworkPrepareAccountsResponse}=params;if(hwAllNetworkPrepareAccountsResponse?.length){var resultAccounts=[];var _loop=function*(){var path=yield buildPath({index});var account=hwAllNetworkPrepareAccountsResponse?.find(function(item){return item.network&&item.path===path&&item.network===hwSdkNetwork;});if(account&&account.success){resultAccounts.push(buildResultAccount({account,index}));}};for(var index of usedIndexes){yield*_loop();}if(resultAccounts.length===usedIndexes.length){return{success:true,payload:resultAccounts};}var hasErrorItem=hwAllNetworkPrepareAccountsResponse?.find(function(item){return!item.success&&!!item.payload?.error;});if(!hasErrorItem?.success&&hasErrorItem?.payload?.error){if(hasErrorItem?.payload?.error?.indexOf('Failure_DataError,Forbidden key path')!==-1){throw new UnsupportedAddressTypeError();}throw convertDeviceError(hasErrorItem.payload);}throw new OneKeyInternalError('SDK GetAllNetworkAccounts Failed');}});function getAllNetworkPrepareAccounts(_x4){return _getAllNetworkPrepareAccounts.apply(this,arguments);}return getAllNetworkPrepareAccounts;}();return _createClass(KeyringHardwareBase);}(KeyringBase);","import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import{EVaultKeyringTypes}from\"../types\";import{KeyringSoftwareBase}from\"./KeyringSoftwareBase\";export var KeyringHdBase=function(_KeyringSoftwareBase){_inherits(KeyringHdBase,_KeyringSoftwareBase);var _super=_createSuper(KeyringHdBase);function KeyringHdBase(...args){var _this;_this=_super.call(this,...args);_this.keyringType=EVaultKeyringTypes.hd;return _this;}return _createClass(KeyringHdBase);}(KeyringSoftwareBase);","import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import{EVaultKeyringTypes}from\"../types\";import{KeyringSoftwareBase}from\"./KeyringSoftwareBase\";export var KeyringImportedBase=function(_KeyringSoftwareBase){_inherits(KeyringImportedBase,_KeyringSoftwareBase);var _super=_createSuper(KeyringImportedBase);function KeyringImportedBase(...args){var _this;_this=_super.call(this,...args);_this.keyringType=EVaultKeyringTypes.imported;return _this;}return _createClass(KeyringImportedBase);}(KeyringSoftwareBase);","import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _isNil from\"lodash/isNil\";import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import{decryptImportedCredential}from'@onekeyhq/core/src/secret';import{OneKeyInternalError}from'@onekeyhq/shared/src/errors';import{defaultLogger}from'@onekeyhq/shared/src/logger/logger';import accountUtils from'@onekeyhq/shared/src/utils/accountUtils';import{checkIsDefined}from'@onekeyhq/shared/src/utils/assertUtils';import{noopObject}from'@onekeyhq/shared/src/utils/miscUtils';import localDb from\"../../dbs/local/localDb\";import{KeyringBase}from\"./KeyringBase\";export var KeyringSoftwareBase=function(_KeyringBase){_inherits(KeyringSoftwareBase,_KeyringBase);var _super=_createSuper(KeyringSoftwareBase);function KeyringSoftwareBase(){return _super.apply(this,arguments);}var _proto=KeyringSoftwareBase.prototype;_proto.baseGetCredentialsInfo=function(){var _baseGetCredentialsInfo=_asyncToGenerator(function*({password}){noopObject(password);var hd;var imported;if(this.isKeyringHd()){var credential=yield localDb.getCredential(checkIsDefined(this.walletId));hd=credential.credential;}if(this.isKeyringImported()){var _credential=yield localDb.getCredential(this.accountId);imported=_credential.credential;}return{hd,imported};});function baseGetCredentialsInfo(_x){return _baseGetCredentialsInfo.apply(this,arguments);}return baseGetCredentialsInfo;}();_proto.baseSignTransactionBtc=function(){var _baseSignTransactionBtc=_asyncToGenerator(function*(params){if(!this.coreApi){throw new Error('coreApi is not defined');}var vault=this.vault;var{password,unsignedTx,signOnly}=params;var credentials=yield this.baseGetCredentialsInfo(params);var networkInfo=yield this.getCoreApiNetworkInfo();var{account,btcExtraInfo,relPaths}=yield vault.prepareBtcSignExtraInfo({unsignedTx});var result=yield this.coreApi.signTransaction({networkInfo,unsignedTx,account,relPaths,password,credentials,btcExtraInfo,signOnly});return result;});function baseSignTransactionBtc(_x2){return _baseSignTransactionBtc.apply(this,arguments);}return baseSignTransactionBtc;}();_proto.baseSignTransaction=function(){var _baseSignTransaction=_asyncToGenerator(function*(params){if(!this.coreApi){throw new Error('coreApi is not defined');}var{password,unsignedTx}=params;var account=yield this.vault.getAccount();var credentials=yield this.baseGetCredentialsInfo(params);var networkInfo=yield this.getCoreApiNetworkInfo();var result=yield this.coreApi.signTransaction({networkInfo,password,account,credentials,unsignedTx});return result;});function baseSignTransaction(_x3){return _baseSignTransaction.apply(this,arguments);}return baseSignTransaction;}();_proto.baseSignMessage=function(){var _baseSignMessage=_asyncToGenerator(function*(params){var _this=this;if(!this.coreApi){throw new Error('coreApi is not defined');}var{password,messages}=params;var account=yield this.vault.getAccount();var credentials=yield this.baseGetCredentialsInfo(params);var networkInfo=yield this.getCoreApiNetworkInfo();var result=yield Promise.all(messages.map(function(msg){return checkIsDefined(_this.coreApi).signMessage({networkInfo,unsignedMsg:msg,account,password,credentials});}));return result;});function baseSignMessage(_x4){return _baseSignMessage.apply(this,arguments);}return baseSignMessage;}();_proto.baseSignMessageBtc=function(){var _baseSignMessageBtc=_asyncToGenerator(function*(params){var _this2=this;if(!this.coreApi){throw new Error('coreApi is not defined');}var vault=this.vault;var{password,messages}=params;var credentials=yield this.baseGetCredentialsInfo(params);var networkInfo=yield this.getCoreApiNetworkInfo();var result=yield Promise.all(messages.map(function(){var _ref=_asyncToGenerator(function*(msg){var{account,btcExtraInfo,relPaths}=yield vault.prepareBtcSignExtraInfo({unsignedMessage:msg});return checkIsDefined(_this2.coreApi).signMessage({networkInfo,unsignedMsg:msg,account,relPaths,password,credentials,btcExtraInfo});});return function(_x6){return _ref.apply(this,arguments);};}()));return result;});function baseSignMessageBtc(_x5){return _baseSignMessageBtc.apply(this,arguments);}return baseSignMessageBtc;}();_proto.basePrepareAccountsImported=function(){var _basePrepareAccountsImported=_asyncToGenerator(function*(params,options={}){if(!this.coreApi){throw new Error('coreApi is not defined');}var{name,importedCredential,password,networks,createAtNetwork}=params;var{privateKey}=decryptImportedCredential({credential:importedCredential,password});var settings=yield this.getVaultSettings();var{onlyAvailableOnCertainNetworks}=options;var accountType=options.accountType||settings.accountType;var impl=options.impl||settings.impl;var coinType=options.coinType||params.deriveInfo?.coinType||settings.coinTypeDefault;var networkInfo=yield this.getCoreApiNetworkInfo();var privateKeyRaw=privateKey;var{address,addresses,publicKey}=yield this.coreApi.getAddressFromPrivate({networkInfo,privateKeyRaw,addressEncoding:params.deriveInfo?.addressEncoding});var addressUsed='';if(onlyAvailableOnCertainNetworks){addressUsed=addresses?.[createAtNetwork]||'';if(!addressUsed){throw new Error(`imported account address is empty of network: ${createAtNetwork}`);}}var accountId=accountUtils.buildImportedAccountId({coinType,pub:publicKey,address:addressUsed,addressEncoding:params.deriveInfo?.addressEncoding});return Promise.resolve([{id:accountId,name:name||'',type:accountType,path:'',coinType,impl,networks:onlyAvailableOnCertainNetworks?networks:undefined,createAtNetwork,pub:publicKey,address,addresses}]);});function basePrepareAccountsImported(_x7){return _basePrepareAccountsImported.apply(this,arguments);}return basePrepareAccountsImported;}();_proto.basePrepareAccountsImportedUtxo=function(){var _basePrepareAccountsImportedUtxo=_asyncToGenerator(function*(params){if(!this.coreApi){throw new Error('coreApi is not defined');}var{name,importedCredential,password,createAtNetwork,deriveInfo}=params;var{privateKey}=decryptImportedCredential({credential:importedCredential,password});var addressEncoding=deriveInfo?.addressEncoding;var settings=yield this.getVaultSettings();var{coinTypeDefault:coinType,accountType}=settings;var networkInfo=yield this.getCoreApiNetworkInfo();var privateKeyRaw=privateKey;var{address,addresses,publicKey,xpub,relPath,xpubSegwit,path}=yield this.coreApi.getAddressFromPrivate({networkInfo,privateKeyRaw,addressEncoding});if(_isNil(xpub)||!addresses){throw new Error('xpub or addresses is undefined');}var accountId=accountUtils.buildImportedAccountId({coinType,xpub:xpub||publicKey,addressEncoding});return Promise.resolve([{id:accountId,name:name||'',type:accountType,path:path||'',relPath,coinType,impl:settings.impl,xpub,xpubSegwit,pub:publicKey,address,addresses,createAtNetwork}]);});function basePrepareAccountsImportedUtxo(_x8){return _basePrepareAccountsImportedUtxo.apply(this,arguments);}return basePrepareAccountsImportedUtxo;}();_proto.basePrepareAccountsHd=function(){var _basePrepareAccountsHd=_asyncToGenerator(function*(params){var _this3=this;var{template,addressEncoding}=params.deriveInfo;var{password}=params;var networkInfo=yield this.getCoreApiNetworkInfo();return this.basePrepareHdNormalAccounts(params,{buildAddressesInfo:function(){var _ref2=_asyncToGenerator(function*({usedIndexes}){if(!_this3.coreApi){throw new Error('coreApi is not defined');}var credentials=yield _this3.baseGetCredentialsInfo({password});var{addresses:addressInfos}=yield _this3.coreApi.getAddressesFromHd({networkInfo,template,hdCredential:checkIsDefined(credentials.hd),password,indexes:usedIndexes,addressEncoding});return addressInfos;});return function buildAddressesInfo(_x10){return _ref2.apply(this,arguments);};}()});});function basePrepareAccountsHd(_x9){return _basePrepareAccountsHd.apply(this,arguments);}return basePrepareAccountsHd;}();_proto.basePrepareAccountsHdUtxo=function(){var _basePrepareAccountsHdUtxo=_asyncToGenerator(function*(params,options){var _this4=this;var{password,indexes,deriveInfo,names,skipCheckAccountExist}=params;var addressEncoding=params?.deriveInfo?.addressEncoding;return this.basePrepareHdUtxoAccounts(params,_objectSpread(_objectSpread({},options),{},{buildAddressesInfo:function(){var _ref3=_asyncToGenerator(function*({usedIndexes}){var{coinType,template,namePrefix}=deriveInfo;defaultLogger.account.accountCreatePerf.getCredentialsInfo();var credentials=yield _this4.baseGetCredentialsInfo({password});if(!_this4.coreApi){throw new Error('coreApi is undefined');}defaultLogger.account.accountCreatePerf.getAddressesFromHd();var{addresses:addressesInfo}=yield _this4.coreApi.getAddressesFromHd({networkInfo:yield _this4.getCoreApiNetworkInfo(),template,hdCredential:checkIsDefined(credentials.hd),password,indexes:usedIndexes,addressEncoding});if(addressesInfo.length!==usedIndexes.length){throw new OneKeyInternalError('Unable to get address');}defaultLogger.account.accountCreatePerf.getAddressesFromHdDone();return addressesInfo;});return function buildAddressesInfo(_x13){return _ref3.apply(this,arguments);};}()}));});function basePrepareAccountsHdUtxo(_x11,_x12){return _basePrepareAccountsHdUtxo.apply(this,arguments);}return basePrepareAccountsHdUtxo;}();_proto.baseExportAccountSecretKeys=function(){var _baseExportAccountSecretKeys=_asyncToGenerator(function*(params){var{password,keyType,relPaths}=params;var account=yield this.vault.getAccount();var networkInfo=yield this.getCoreApiNetworkInfo();var credentials=yield this.baseGetCredentialsInfo({password});var{deriveInfo}=yield this.backgroundApi.serviceNetwork.getDeriveTypeByTemplate({networkId:this.networkId,template:account.template});var addressEncoding=deriveInfo?.addressEncoding;if(!this.coreApi){throw new Error('coreApi is not defined');}return this.coreApi.getExportedSecretKey({networkInfo,password,credentials,account,relPaths,keyType,addressEncoding});});function baseExportAccountSecretKeys(_x14){return _baseExportAccountSecretKeys.apply(this,arguments);}return baseExportAccountSecretKeys;}();_proto.baseGetPrivateKeys=function(){var _baseGetPrivateKeys=_asyncToGenerator(function*(params){var{password,relPaths}=params;if(!this.coreApi){throw new Error('coreApi is not defined');}var account=yield this.vault.getAccount();var credentials=yield this.baseGetCredentialsInfo({password});var networkInfo=yield this.getCoreApiNetworkInfo();var privateKeys=yield this.coreApi.getPrivateKeys({networkInfo,password,account,relPaths,credentials});return privateKeys;});function baseGetPrivateKeys(_x15){return _baseGetPrivateKeys.apply(this,arguments);}return baseGetPrivateKeys;}();return _createClass(KeyringSoftwareBase);}(KeyringBase);","import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import{InvalidAddress,OneKeyInternalError}from'@onekeyhq/shared/src/errors';import{ETranslations}from'@onekeyhq/shared/src/locale';import{appLocale}from'@onekeyhq/shared/src/locale/appLocale';import accountUtils from'@onekeyhq/shared/src/utils/accountUtils';import{checkIsDefined}from'@onekeyhq/shared/src/utils/assertUtils';import{EDBAccountType}from\"../../dbs/local/consts\";import{EVaultKeyringTypes}from\"../types\";import{KeyringBase}from\"./KeyringBase\";export var KeyringWatchingBase=function(_KeyringBase){_inherits(KeyringWatchingBase,_KeyringBase);var _super=_createSuper(KeyringWatchingBase);function KeyringWatchingBase(...args){var _this;_this=_super.call(this,...args);_this.keyringType=EVaultKeyringTypes.watching;return _this;}var _proto=KeyringWatchingBase.prototype;_proto.signTransaction=function(){var _signTransaction=_asyncToGenerator(function*(){throw new OneKeyInternalError(appLocale.intl.formatMessage({id:ETranslations.wallet_error_trade_with_watched_acocunt}));});function signTransaction(){return _signTransaction.apply(this,arguments);}return signTransaction;}();_proto.signMessage=function(){var _signMessage=_asyncToGenerator(function*(){throw new OneKeyInternalError(appLocale.intl.formatMessage({id:ETranslations.wallet_error_trade_with_watched_acocunt}));});function signMessage(){return _signMessage.apply(this,arguments);}return signMessage;}();_proto.basePrepareUtxoWatchingAccounts=function(){var _basePrepareUtxoWatchingAccounts=_asyncToGenerator(function*(params){var{address,xpub,networks,createAtNetwork,name,deriveInfo,isUrlAccount,addresses}=params;if(!address&&!xpub){throw new Error('basePrepareUtxoWatchingAccounts ERROR: address and xpub are not defined');}var networkInfo=yield this.getCoreApiNetworkInfo();var settings=yield this.getVaultSettings();var coinType=settings.coinTypeDefault;var addressEncoding=deriveInfo?.addressEncoding;var id=accountUtils.buildWatchingAccountId({coinType,address,xpub,addressEncoding,isUrlAccount});var addressFromXpub='';var xpubSegwit=xpub;if(!address&&xpub){checkIsDefined(this.coreApi);var result=yield this.coreApi?.getAddressFromPublic({publicKey:xpub,addressEncoding,networkInfo});addressFromXpub=result?.address||'';xpubSegwit=result?.xpubSegwit||xpubSegwit||xpub;}var account={id,name,type:EDBAccountType.UTXO,relPath:'0/0',coinType,impl:settings.impl,networks,createAtNetwork,address:addressFromXpub||address||'',xpub:xpub||'',xpubSegwit,path:'',addresses:addresses||{}};return[account];});function basePrepareUtxoWatchingAccounts(_x){return _basePrepareUtxoWatchingAccounts.apply(this,arguments);}return basePrepareUtxoWatchingAccounts;}();_proto.basePrepareSimpleWatchingAccounts=function(){var _basePrepareSimpleWatchingAccounts=_asyncToGenerator(function*(params,options={}){var{address,name,networks,createAtNetwork,isUrlAccount}=params;if(!address){throw new InvalidAddress();}if(!createAtNetwork){throw new Error('basePrepareSimpleWatchingAccounts ERROR: createAtNetwork is not defined');}var{onlyAvailableOnCertainNetworks=false}=options;var settings=yield this.getVaultSettings();var coinType=options.coinType||settings.coinTypeDefault;var impl=options.impl||settings.impl;var id=accountUtils.buildWatchingAccountId({coinType,address,isUrlAccount});var account={id,name:name||'',type:EDBAccountType.SIMPLE,coinType,impl,networks:onlyAvailableOnCertainNetworks?networks:undefined,createAtNetwork,address,pub:'',path:''};return Promise.resolve([account]);});function basePrepareSimpleWatchingAccounts(_x2){return _basePrepareSimpleWatchingAccounts.apply(this,arguments);}return basePrepareSimpleWatchingAccounts;}();return _createClass(KeyringWatchingBase);}(KeyringBase);","import _objectWithoutProperties from\"@babel/runtime/helpers/objectWithoutProperties\";import _omitBy from\"lodash/omitBy\";import _isEmpty from\"lodash/isEmpty\";import _isNil from\"lodash/isNil\";import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _omit from\"lodash/omit\";import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";var _excluded=[\"accountId\"],_excluded2=[\"accountId\"];function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import qs from'querystring';import{Semaphore}from'async-mutex';import BigNumber from'bignumber.js';import{decodeSensitiveText,encodeSensitiveText}from'@onekeyhq/core/src/secret';import{getNetworkIdsMap}from'@onekeyhq/shared/src/config/networkIds';import{NotImplemented}from'@onekeyhq/shared/src/errors';import platformEnv from'@onekeyhq/shared/src/platformEnv';import accountUtils from'@onekeyhq/shared/src/utils/accountUtils';import chainValueUtils from'@onekeyhq/shared/src/utils/chainValueUtils';import hexUtils from'@onekeyhq/shared/src/utils/hexUtils';import{getOnChainHistoryTxAssetInfo,getOnChainHistoryTxStatus}from'@onekeyhq/shared/src/utils/historyUtils';import{generateUUID}from'@onekeyhq/shared/src/utils/miscUtils';import{buildTxActionDirection,getStakingActionLabel}from'@onekeyhq/shared/src/utils/txActionUtils';import{addressIsEnsFormat}from'@onekeyhq/shared/src/utils/uriUtils';import{EServiceEndpointEnum}from'@onekeyhq/shared/types/endpoint';import{EOnChainHistoryTxType}from'@onekeyhq/shared/types/history';import{EDecodedTxActionType,EDecodedTxDirection}from'@onekeyhq/shared/types/tx';import{VaultContext}from\"./VaultContext\";if(platformEnv.isExtensionUi){debugger;throw new Error('engine/VaultBase is not allowed imported from ui');}export var VaultBaseChainOnly=function(_VaultContext){_inherits(VaultBaseChainOnly,_VaultContext);var _super=_createSuper(VaultBaseChainOnly);function VaultBaseChainOnly(){return _super.apply(this,arguments);}var _proto=VaultBaseChainOnly.prototype;_proto.getXpubFromAccount=function(){var _getXpubFromAccount=_asyncToGenerator(function*(networkAccount){return networkAccount.xpub;});function getXpubFromAccount(_x){return _getXpubFromAccount.apply(this,arguments);}return getXpubFromAccount;}();_proto.proxyJsonRPCCall=function(){var _proxyJsonRPCCall=_asyncToGenerator(function*(request){throw new NotImplemented();});function proxyJsonRPCCall(_x2){return _proxyJsonRPCCall.apply(this,arguments);}return proxyJsonRPCCall;}();_proto.addressFromBase=function(){var _addressFromBase=_asyncToGenerator(function*(account){throw new NotImplemented();});function addressFromBase(_x3){return _addressFromBase.apply(this,arguments);}return addressFromBase;}();_proto.addressToBase=function(){var _addressToBase=_asyncToGenerator(function*(address){throw new NotImplemented();});function addressToBase(_x4){return _addressToBase.apply(this,arguments);}return addressToBase;}();_proto.baseValidatePrivateKey=function(){var _baseValidatePrivateKey=_asyncToGenerator(function*(privateKey){if(!this.coreApi){throw new Error('coreApi not defined in Vault');}try{var networkInfo=yield this.getCoreApiNetworkInfo();var result=yield this.coreApi.getAddressFromPrivate({networkInfo,privateKeyRaw:privateKey});if(result.publicKey){return{isValid:true};}}catch(error){}return{isValid:false};});function baseValidatePrivateKey(_x5){return _baseValidatePrivateKey.apply(this,arguments);}return baseValidatePrivateKey;}();_proto.baseValidateGeneralInput=function(){var _baseValidateGeneralInput=_asyncToGenerator(function*(params){var input=decodeSensitiveText({encodedText:params.input});var{validateAddress,validateXprvt,validateXpub,validatePrivateKey}=params;var result={isValid:false};var isValid=false;var addressResult;var xpubResult;var xprvtResult;var privateKeyResult;if(validateAddress&&!isValid){try{addressResult=yield this.validateAddress(input);result.addressResult=addressResult;isValid=isValid||addressResult?.isValid;}catch(error){}}if(validateXpub&&!isValid){try{xpubResult=yield this.validateXpub(input);result.xpubResult=xpubResult;isValid=isValid||xpubResult?.isValid;}catch(error){}}if(validateXprvt&&!isValid){try{xprvtResult=yield this.validateXprvt(input);result.xprvtResult=xprvtResult;isValid=isValid||xprvtResult?.isValid;}catch(error){}}if(validatePrivateKey&&!isValid){try{privateKeyResult=yield this.validatePrivateKey(input);result.privateKeyResult=privateKeyResult;isValid=isValid||privateKeyResult?.isValid;}catch(error){}}result.isValid=Boolean(isValid);return{result,inputDecoded:input};});function baseValidateGeneralInput(_x6){return _baseValidateGeneralInput.apply(this,arguments);}return baseValidateGeneralInput;}();_proto.baseGetPrivateKeyFromImported=function(){var _baseGetPrivateKeyFromImported=_asyncToGenerator(function*(params){var input=decodeSensitiveText({encodedText:params.input});var privateKey=hexUtils.stripHexPrefix(input);privateKey=encodeSensitiveText({text:privateKey});return{privateKey};});function baseGetPrivateKeyFromImported(_x7){return _baseGetPrivateKeyFromImported.apply(this,arguments);}return baseGetPrivateKeyFromImported;}();_proto.validateAmountInputShown=function(){var _validateAmountInputShown=_asyncToGenerator(function*({toAddress}){return Promise.resolve({isValid:true});});function validateAmountInputShown(_x8){return _validateAmountInputShown.apply(this,arguments);}return validateAmountInputShown;}();_proto.checkIsDomainName=function(){var _checkIsDomainName=_asyncToGenerator(function*({name}){return addressIsEnsFormat(name);});function checkIsDomainName(_x9){return _checkIsDomainName.apply(this,arguments);}return checkIsDomainName;}();_proto.resolveDomainName=function(){var _resolveDomainName=_asyncToGenerator(function*({name}){return null;});function resolveDomainName(_x10){return _resolveDomainName.apply(this,arguments);}return resolveDomainName;}();_proto.getCustomRpcEndpointStatus=function(){var _getCustomRpcEndpointStatus=_asyncToGenerator(function*(params){throw new NotImplemented();});function getCustomRpcEndpointStatus(_x11){return _getCustomRpcEndpointStatus.apply(this,arguments);}return getCustomRpcEndpointStatus;}();_proto.checkFeeSupportInfo=function(){var _checkFeeSupportInfo=_asyncToGenerator(function*(params){throw new NotImplemented();});function checkFeeSupportInfo(_x12){return _checkFeeSupportInfo.apply(this,arguments);}return checkFeeSupportInfo;}();_proto.fetchTokenDetails=function(){var _fetchTokenDetails=_asyncToGenerator(function*(params){var isCustomNetwork=yield this.backgroundApi.serviceNetwork.isCustomNetwork({networkId:this.networkId});if(isCustomNetwork){return this.fetchTokenDetailsByRpc(params);}return this.fetchTokenDetailsByApi(params);});function fetchTokenDetails(_x13){return _fetchTokenDetails.apply(this,arguments);}return fetchTokenDetails;}();_proto.fetchTokenDetailsByApi=function(){var _fetchTokenDetailsByApi=_asyncToGenerator(function*(params){var _params$signal;var client=yield this.backgroundApi.serviceToken.getClient(EServiceEndpointEnum.Wallet);var resp=yield client.post('/wallet/v1/account/token/search',_omit(params,['walletId','accountId','signal']),{headers:yield this.backgroundApi.serviceAccountProfile._getWalletTypeHeader({accountId:params.accountId,walletId:params.walletId}),signal:(_params$signal=params.signal)!=null?_params$signal:undefined});return resp;});function fetchTokenDetailsByApi(_x14){return _fetchTokenDetailsByApi.apply(this,arguments);}return fetchTokenDetailsByApi;}();_proto.fetchTokenDetailsByRpc=function(){var _fetchTokenDetailsByRpc=_asyncToGenerator(function*(params){throw new NotImplemented();});function fetchTokenDetailsByRpc(_x15){return _fetchTokenDetailsByRpc.apply(this,arguments);}return fetchTokenDetailsByRpc;}();return _createClass(VaultBaseChainOnly);}(VaultContext);export var VaultBase=function(_VaultBaseChainOnly){_inherits(VaultBase,_VaultBaseChainOnly);var _super2=_createSuper(VaultBase);function VaultBase(...args){var _this;_this=_super2.call(this,...args);_this.uuid=generateUUID();_this.mutexBuildOnChainHistoryTxGetDBAccount=new Semaphore(1);return _this;}var _proto2=VaultBase.prototype;_proto2.init=function(){var _init=_asyncToGenerator(function*(config){yield this.initKeyring(config);});function init(_x16){return _init.apply(this,arguments);}return init;}();_proto2.initKeyring=function(){var _initKeyring=_asyncToGenerator(function*(config){if(!this.options.isChainOnly){this.keyring=yield config.keyringCreator(this);}});function initKeyring(_x17){return _initKeyring.apply(this,arguments);}return initKeyring;}();_proto2.broadcastTransaction=function(){var _broadcastTransaction=_asyncToGenerator(function*(params){var{signedTx}=params;var txid=yield this.backgroundApi.serviceSend.broadcastTransaction(params);return _objectSpread(_objectSpread({},signedTx),{},{txid,encodedTx:signedTx.encodedTx});});function broadcastTransaction(_x18){return _broadcastTransaction.apply(this,arguments);}return broadcastTransaction;}();_proto2.broadcastTransactionFromCustomRpc=function(){var _broadcastTransactionFromCustomRpc=_asyncToGenerator(function*(params){throw new NotImplemented();});function broadcastTransactionFromCustomRpc(_x19){return _broadcastTransactionFromCustomRpc.apply(this,arguments);}return broadcastTransactionFromCustomRpc;}();_proto2.validateSendAmount=function(){var _validateSendAmount=_asyncToGenerator(function*(params){return Promise.resolve(true);});function validateSendAmount(_x20){return _validateSendAmount.apply(this,arguments);}return validateSendAmount;}();_proto2.buildOnChainHistoryTxExtraInfo=function(){var _buildOnChainHistoryTxExtraInfo=_asyncToGenerator(function*({onChainHistoryTx}){return null;});function buildOnChainHistoryTxExtraInfo(_x21){return _buildOnChainHistoryTxExtraInfo.apply(this,arguments);}return buildOnChainHistoryTxExtraInfo;}();_proto2.precheckUnsignedTx=function(){var _precheckUnsignedTx=_asyncToGenerator(function*(params){return Promise.resolve(true);});function precheckUnsignedTx(_x22){return _precheckUnsignedTx.apply(this,arguments);}return precheckUnsignedTx;}();_proto2.buildEstimateFeeParams=function(){var _buildEstimateFeeParams=_asyncToGenerator(function*({encodedTx}){return Promise.resolve({encodedTx});});function buildEstimateFeeParams(_x23){return _buildEstimateFeeParams.apply(this,arguments);}return buildEstimateFeeParams;}();_proto2.buildParseTransactionParams=function(){var _buildParseTransactionParams=_asyncToGenerator(function*({encodedTx}){return Promise.resolve({encodedTx});});function buildParseTransactionParams(_x24){return _buildParseTransactionParams.apply(this,arguments);}return buildParseTransactionParams;}();_proto2.buildFetchHistoryListParams=function(){var _buildFetchHistoryListParams=_asyncToGenerator(function*(params){return Promise.resolve({});});function buildFetchHistoryListParams(_x25){return _buildFetchHistoryListParams.apply(this,arguments);}return buildFetchHistoryListParams;}();_proto2.buildHistoryTx=function(){var _buildHistoryTx=_asyncToGenerator(function*(params){var{historyTxToMerge,decodedTx,signedTx,isSigner,isLocalCreated,dbAccount}=params;var accountAddress=params.accountAddress||'';var xpub=params.xpub;var txid=signedTx?.txid||decodedTx?.txid||'';if(!txid){throw new Error('buildHistoryTx txid not found');}var{accountId,networkId}=decodedTx;try{var[a,x]=yield Promise.all([this.backgroundApi.serviceAccount.getAccountAddressForApi({dbAccount,accountId,networkId}),this.backgroundApi.serviceAccount.getAccountXpub({dbAccount,accountId,networkId})]);accountAddress=a;xpub=x;}catch(e){}decodedTx.txid=txid||decodedTx.txid;decodedTx.owner=accountAddress;decodedTx.xpub=xpub;if(isSigner){decodedTx.signer=accountAddress;}var historyId=accountUtils.buildLocalHistoryId({networkId,txid,accountAddress,xpub});var historyTx=_objectSpread(_objectSpread({id:historyId,isLocalCreated:Boolean(isLocalCreated)},historyTxToMerge),{},{decodedTx});return Promise.resolve(historyTx);});function buildHistoryTx(_x26){return _buildHistoryTx.apply(this,arguments);}return buildHistoryTx;}();_proto2.fixOnChainHistoryAccountData=function fixOnChainHistoryAccountData(params){var{accountId:originAccountId,networkId:originNetworkId,accountAddress:originAccountAddress,xpub:originXpub,onChainHistoryTx,allNetworkHistoryExtraItems}=params;var accountId=originAccountId;var networkId=originNetworkId;var accountAddress=originAccountAddress;var xpub=originXpub;if(originNetworkId===getNetworkIdsMap().onekeyall){var allNetworkAccount=allNetworkHistoryExtraItems?.find(function(i){var[_,txXpub]=onChainHistoryTx.key.split('_');if(!_isNil(i.accountXpub)){return i.networkId===onChainHistoryTx.networkId&&i.accountXpub===txXpub;}return i.networkId===onChainHistoryTx.networkId;});if(allNetworkAccount){accountId=allNetworkAccount.accountId;networkId=allNetworkAccount.networkId;accountAddress=allNetworkAccount.accountAddress;xpub=allNetworkAccount.accountXpub;}}return{accountId,networkId,accountAddress,xpub};};_proto2.buildOnChainHistoryTx=function(){var _buildOnChainHistoryTx=_asyncToGenerator(function*(params){var _this2=this;var{onChainHistoryTx,tokens,nfts,allNetworkHistoryExtraItems,dbAccountCache}=params;var{accountId,networkId,accountAddress,xpub}=this.fixOnChainHistoryAccountData({accountId:params.accountId,networkId:params.networkId,accountAddress:params.accountAddress,xpub:params.xpub,onChainHistoryTx,allNetworkHistoryExtraItems});if(params.accountId!==accountId){}var key=`${accountId}`;var dbAccount;if(dbAccountCache){yield this.mutexBuildOnChainHistoryTxGetDBAccount.runExclusive(_asyncToGenerator(function*(){dbAccount=dbAccountCache?.[key];if(!dbAccount){dbAccount=yield _this2.backgroundApi.serviceAccount.getDBAccountSafe({accountId});if(dbAccount){dbAccountCache[key]=dbAccount;}}}));}var vaultSettings=yield this.backgroundApi.serviceNetwork.getVaultSettings({networkId});try{var action=yield this.buildHistoryTxAction({tx:onChainHistoryTx,tokens,nfts});var decodedTx={txid:onChainHistoryTx.tx,owner:accountAddress,signer:onChainHistoryTx.from,to:onChainHistoryTx.to,nonce:onChainHistoryTx.nonce,actions:[action],status:getOnChainHistoryTxStatus(onChainHistoryTx.status),networkId,accountId,xpub,totalFeeInNative:onChainHistoryTx.gasFee,totalFeeFiatValue:onChainHistoryTx.gasFeeFiatValue,nativeAmount:vaultSettings.isUtxo?onChainHistoryTx.value:undefined,extraInfo:yield this.buildOnChainHistoryTxExtraInfo({onChainHistoryTx}),payload:{type:onChainHistoryTx.type,value:onChainHistoryTx.value,label:onChainHistoryTx.label}};decodedTx.updatedAt=new Date(onChainHistoryTx.timestamp*1000).getTime();decodedTx.createdAt=decodedTx.updatedAt;decodedTx.isFinal=true;return yield this.buildHistoryTx({dbAccount,decodedTx,accountAddress,xpub});}catch(e){return null;}});function buildOnChainHistoryTx(_x27){return _buildOnChainHistoryTx.apply(this,arguments);}return buildOnChainHistoryTx;}();_proto2.buildHistoryTxAction=function(){var _buildHistoryTxAction=_asyncToGenerator(function*({tx,tokens,nfts}){if(tx.type===EOnChainHistoryTxType.Approve&&tx.tokenApprove){return this.buildHistoryTxApproveAction({tx,tokens,nfts,tokenApprove:tx.tokenApprove});}if(_isEmpty(tx.sends)&&_isEmpty(tx.receives)){if(tx.type)return this.buildHistoryTxFunctionCallAction({tx});return this.buildHistoryTxUnknownAction({tx});}return this.buildHistoryTransferAction({tx,tokens,nfts});});function buildHistoryTxAction(_x28){return _buildHistoryTxAction.apply(this,arguments);}return buildHistoryTxAction;}();_proto2.buildHistoryTxFunctionCallAction=function(){var _buildHistoryTxFunctionCallAction=_asyncToGenerator(function*({tx}){var network=yield this.getNetwork();return{type:EDecodedTxActionType.FUNCTION_CALL,functionCall:{from:tx.from,to:tx.to,functionName:tx.label,functionHash:tx.functionCode,args:tx.params}};});function buildHistoryTxFunctionCallAction(_x29){return _buildHistoryTxFunctionCallAction.apply(this,arguments);}return buildHistoryTxFunctionCallAction;}();_proto2.buildHistoryTxUnknownAction=function(){var _buildHistoryTxUnknownAction=_asyncToGenerator(function*({tx}){var network=yield this.getNetwork();return{type:EDecodedTxActionType.UNKNOWN,unknownAction:{from:tx.from,to:tx.to,label:tx.label}};});function buildHistoryTxUnknownAction(_x30){return _buildHistoryTxUnknownAction.apply(this,arguments);}return buildHistoryTxUnknownAction;}();_proto2.buildHistoryTransferAction=function(){var _buildHistoryTransferAction=_asyncToGenerator(function*({tx,tokens,nfts}){var _this3=this;return{type:EDecodedTxActionType.ASSET_TRANSFER,assetTransfer:{from:tx.from,to:tx.to,label:tx.label,sends:tx.sends.map(function(send){return _this3.buildHistoryTransfer({transfer:send,tokens,nfts});}),receives:tx.receives.map(function(receive){return _this3.buildHistoryTransfer({transfer:receive,tokens,nfts});})}};});function buildHistoryTransferAction(_x31){return _buildHistoryTransferAction.apply(this,arguments);}return buildHistoryTransferAction;}();_proto2.buildHistoryTransfer=function buildHistoryTransfer({transfer,tokens,nfts}){var{icon,symbol,name,isNFT,isNative,price}=getOnChainHistoryTxAssetInfo({key:transfer.key,tokenAddress:transfer.token,tokens,nfts});return{from:transfer.from,to:transfer.to,tokenIdOnNetwork:transfer.token,amount:transfer.amount,label:transfer.label,isOwn:transfer.isOwn,icon,name,symbol,isNFT,isNative,price};};_proto2.buildHistoryTxApproveAction=function buildHistoryTxApproveAction({tx,tokens,nfts,tokenApprove}){var{icon,symbol,name,decimals}=getOnChainHistoryTxAssetInfo({key:tokenApprove.key,tokenAddress:tokenApprove.token,tokens,nfts});return{type:EDecodedTxActionType.TOKEN_APPROVE,tokenApprove:{from:tx.from,to:tx.to,spender:tokenApprove.spender,icon,name,symbol,decimals,label:tx.label,tokenIdOnNetwork:tokenApprove.token,amount:new BigNumber(tokenApprove.amount).shiftedBy(-decimals).toFixed(),isInfiniteAmount:tokenApprove.isInfiniteAmount}};};_proto2.buildTxTransferAssetAction=function(){var _buildTxTransferAssetAction=_asyncToGenerator(function*(params){var{from,to,transfers,data,application,isInternalSwap,isInternalStaking,internalStakingLabel,swapReceivedAddress,swapReceivedNetworkId}=params;var[accountAddress,network]=yield Promise.all([this.getAccountAddress(),this.getNetwork()]);var sendNativeTokenAmountBN=new BigNumber(0);var assetTransfer={from,to,sends:[],receives:[],application,isInternalSwap,isInternalStaking,internalStakingLabel,swapReceivedAddress,swapReceivedNetworkId};transfers.forEach(function(transfer){if(buildTxActionDirection({from:transfer.from,to:transfer.to,accountAddress})===EDecodedTxDirection.OUT){assetTransfer.sends.push(transfer);if(transfer.isNative){sendNativeTokenAmountBN=sendNativeTokenAmountBN.plus(new BigNumber(transfer.amount));}}else{assetTransfer.receives.push(transfer);}});assetTransfer.nativeAmount=sendNativeTokenAmountBN.toFixed();assetTransfer.nativeAmountValue=chainValueUtils.convertAmountToChainValue({value:sendNativeTokenAmountBN,network});return{type:EDecodedTxActionType.ASSET_TRANSFER,data,assetTransfer};});function buildTxTransferAssetAction(_x32){return _buildTxTransferAssetAction.apply(this,arguments);}return buildTxTransferAssetAction;}();_proto2.buildInternalSwapAction=function(){var _buildInternalSwapAction=_asyncToGenerator(function*(params){var _swapSendToken$logoUR,_swapSendToken$name,_swapReceiveToken$log,_swapReceiveToken$nam,_providerInfo$provide;var{swapData,swapInfo,swapToAddress}=params;var swapSendToken=swapInfo.sender.token;var swapReceiveToken=swapInfo.receiver.token;var providerInfo=swapInfo.swapBuildResData.result.info;var otherFeeInfos=swapInfo.swapBuildResData.result.fee?.otherFeeInfos;var otherFeeInfoTransfers=[];var transfers=[{from:swapInfo.accountAddress,to:'',tokenIdOnNetwork:swapSendToken.contractAddress,icon:(_swapSendToken$logoUR=swapSendToken.logoURI)!=null?_swapSendToken$logoUR:'',name:(_swapSendToken$name=swapSendToken.name)!=null?_swapSendToken$name:'',symbol:swapSendToken.symbol,amount:swapInfo.sender.amount,isNFT:false,isNative:swapSendToken.isNative,networkId:swapInfo.sender.accountInfo.networkId},{from:'',to:swapInfo.receivingAddress,tokenIdOnNetwork:swapReceiveToken.contractAddress,icon:(_swapReceiveToken$log=swapReceiveToken.logoURI)!=null?_swapReceiveToken$log:'',name:(_swapReceiveToken$nam=swapReceiveToken.name)!=null?_swapReceiveToken$nam:'',symbol:swapReceiveToken.symbol,amount:swapInfo.receiver.amount,isNFT:false,isNative:swapReceiveToken.isNative,networkId:swapInfo.receiver.accountInfo.networkId}];if(otherFeeInfos){otherFeeInfos.forEach(function(feeInfo){if(feeInfo.token.contractAddress===transfers[0].tokenIdOnNetwork){transfers[0].amount=new BigNumber(transfers[0].amount).plus(feeInfo.amount).toFixed();}else{var _feeInfo$token$logoUR,_feeInfo$token$name;otherFeeInfoTransfers.push({from:swapInfo.accountAddress,to:'',tokenIdOnNetwork:feeInfo.token.contractAddress,icon:(_feeInfo$token$logoUR=feeInfo.token.logoURI)!=null?_feeInfo$token$logoUR:'',name:(_feeInfo$token$name=feeInfo.token.name)!=null?_feeInfo$token$name:'',symbol:feeInfo.token.symbol,amount:feeInfo.amount,isNFT:false,isNative:feeInfo.token.isNative,networkId:swapInfo.sender.accountInfo.networkId});}});}transfers=[...otherFeeInfoTransfers,...transfers];var action=yield this.buildTxTransferAssetAction({from:swapInfo.accountAddress,to:swapToAddress!=null?swapToAddress:'',data:swapData,application:{name:providerInfo.providerName,icon:(_providerInfo$provide=providerInfo.providerLogo)!=null?_providerInfo$provide:''},isInternalSwap:true,swapReceivedAddress:swapInfo.receivingAddress,swapReceivedNetworkId:swapInfo.receiver.token.networkId,transfers});return action;});function buildInternalSwapAction(_x33){return _buildInternalSwapAction.apply(this,arguments);}return buildInternalSwapAction;}();_proto2.buildInternalStakingAction=function(){var _buildInternalStakingAction=_asyncToGenerator(function*(params){var _send$token$logoURI,_send$token$name,_receive$token$logoUR,_receive$token$name;var{stakingInfo,stakingData,accountAddress,stakingToAddress}=params;var{protocol,protocolLogoURI,send,receive}=stakingInfo;var transfers=[send&&{from:accountAddress,to:'',tokenIdOnNetwork:send.token.address,icon:(_send$token$logoURI=send.token.logoURI)!=null?_send$token$logoURI:'',name:(_send$token$name=send.token.name)!=null?_send$token$name:'',symbol:send.token.symbol,amount:send.amount,isNFT:false,isNative:send.token.isNative},receive&&{from:'',to:accountAddress,tokenIdOnNetwork:receive.token.address,icon:(_receive$token$logoUR=receive.token.logoURI)!=null?_receive$token$logoUR:'',name:(_receive$token$name=receive.token.name)!=null?_receive$token$name:'',symbol:receive.token.symbol,amount:receive.amount,isNFT:false,isNative:receive.token.isNative}].filter(Boolean);var action=yield this.buildTxTransferAssetAction({from:accountAddress,to:stakingToAddress!=null?stakingToAddress:'',data:stakingData,application:{name:protocol,icon:protocolLogoURI!=null?protocolLogoURI:''},isInternalStaking:true,internalStakingLabel:getStakingActionLabel({stakingInfo}),transfers});return action;});function buildInternalStakingAction(_x34){return _buildInternalStakingAction.apply(this,arguments);}return buildInternalStakingAction;}();_proto2.signTransaction=function(){var _signTransaction=_asyncToGenerator(function*(params){var _params$signOnly,_signedTx$encodedTx;var{unsignedTx}=params;params.signOnly=(_params$signOnly=params.signOnly)!=null?_params$signOnly:true;var signedTx=yield this.keyring.signTransaction(params);return _objectSpread(_objectSpread({},signedTx),{},{encodedTx:(_signedTx$encodedTx=signedTx.encodedTx)!=null?_signedTx$encodedTx:unsignedTx.encodedTx});});function signTransaction(_x35){return _signTransaction.apply(this,arguments);}return signTransaction;}();_proto2.getAccount=function(){var _getAccount=_asyncToGenerator(function*({dbAccount}={}){var account=dbAccount;if(!account||account?.id!==this.accountId){account=yield this.backgroundApi.serviceAccount.getDBAccount({accountId:this.accountId});}if(!accountUtils.isAccountCompatibleWithNetwork({account,networkId:this.networkId})){throw new Error(`account impl not matched to network: ${this.networkId} ${account.id?.slice(0,30)}`);}var networkInfo=yield this.getNetworkInfo();var externalAccount=account;var externalAccountAddress='';if(externalAccount.connectedAddresses){var buildExternalAccountAddress=function({key,fallbackIndex}){var _externalAccount$sele;if(!key){return'';}var index=(_externalAccount$sele=externalAccount.selectedAddress?.[key])!=null?_externalAccount$sele:fallbackIndex;var addresses=externalAccount.connectedAddresses?.[key]?.split(',').filter(Boolean)||[];return addresses?.[index]||addresses?.[fallbackIndex]||'';};externalAccountAddress=buildExternalAccountAddress({key:this.networkId,fallbackIndex:-1});if(!externalAccountAddress){var impl=yield this.getNetworkImpl();externalAccountAddress=buildExternalAccountAddress({key:impl,fallbackIndex:0});}if(!externalAccountAddress){externalAccountAddress=buildExternalAccountAddress({key:this.networkId,fallbackIndex:0});}}var addressDetail=yield this.buildAccountAddressDetail({networkInfo,account,networkId:this.networkId,externalAccountAddress});var address=addressDetail?.address||'';if(!address&&!addressDetail.allowEmptyAddress||!addressDetail.isValid){throw new Error('VaultBase.getAccount ERROR: address is invalid');}return _objectSpread(_objectSpread({},account),{},{addressDetail,address});});function getAccount(){return _getAccount.apply(this,arguments);}return getAccount;}();_proto2.getAccountAddress=function(){var _getAccountAddress=_asyncToGenerator(function*(){return(yield this.getAccount()).address;});function getAccountAddress(){return _getAccountAddress.apply(this,arguments);}return getAccountAddress;}();_proto2.getAccountPath=function(){var _getAccountPath=_asyncToGenerator(function*(){return(yield this.getAccount()).path;});function getAccountPath(){return _getAccountPath.apply(this,arguments);}return getAccountPath;}();_proto2.getAccountXpub=function(){var _getAccountXpub=_asyncToGenerator(function*({dbAccount}={}){var networkAccount=yield this.getAccount({dbAccount});return this.getXpubFromAccount(networkAccount);});function getAccountXpub(){return _getAccountXpub.apply(this,arguments);}return getAccountXpub;}();_proto2.fillTokensDetails=function(){var _fillTokensDetails=_asyncToGenerator(function*({tokensDetails}){return Promise.resolve(tokensDetails);});function fillTokensDetails(_x36){return _fillTokensDetails.apply(this,arguments);}return fillTokensDetails;}();_proto2.fillAccountDetails=function(){var _fillAccountDetails=_asyncToGenerator(function*({accountDetails}){return Promise.resolve(accountDetails);});function fillAccountDetails(_x37){return _fillAccountDetails.apply(this,arguments);}return fillAccountDetails;}();_proto2.isEarliestLocalPendingTx=function(){var _isEarliestLocalPendingTx=_asyncToGenerator(function*({encodedTx}){return true;});function isEarliestLocalPendingTx(_x38){return _isEarliestLocalPendingTx.apply(this,arguments);}return isEarliestLocalPendingTx;}();_proto2.buildReplaceEncodedTx=function(){var _buildReplaceEncodedTx=_asyncToGenerator(function*({decodedTx,replaceType}){return Promise.resolve(decodedTx.encodedTx);});function buildReplaceEncodedTx(_x39){return _buildReplaceEncodedTx.apply(this,arguments);}return buildReplaceEncodedTx;}();_proto2.attachFeeInfoToDAppEncodedTx=function(){var _attachFeeInfoToDAppEncodedTx=_asyncToGenerator(function*(params){return Promise.resolve(params.encodedTx);});function attachFeeInfoToDAppEncodedTx(_x40){return _attachFeeInfoToDAppEncodedTx.apply(this,arguments);}return attachFeeInfoToDAppEncodedTx;}();_proto2.activateToken=function(){var _activateToken=_asyncToGenerator(function*(params){throw new NotImplemented();});function activateToken(_x41){return _activateToken.apply(this,arguments);}return activateToken;}();_proto2.getAddressType=function(){var _getAddressType=_asyncToGenerator(function*({address}){return Promise.resolve({});});function getAddressType(_x42){return _getAddressType.apply(this,arguments);}return getAddressType;}();_proto2.buildStakeEncodedTx=function buildStakeEncodedTx(params){return Promise.resolve(params);};_proto2.fetchAccountDetails=function(){var _fetchAccountDetails=_asyncToGenerator(function*(params){var isCustomNetwork=yield this.backgroundApi.serviceNetwork.isCustomNetwork({networkId:this.networkId});if(isCustomNetwork){return this.fetchAccountDetailsByRpc(params);}return this.fetchAccountDetailsByApi(params);});function fetchAccountDetails(_x43){return _fetchAccountDetails.apply(this,arguments);}return fetchAccountDetails;}();_proto2.fetchAccountDetailsByApi=function(){var _fetchAccountDetailsByApi=_asyncToGenerator(function*(params){var queryParams=_objectSpread({},_omit(params,['accountId','signal']));var client=yield this.backgroundApi.serviceAccountProfile.getClient(EServiceEndpointEnum.Wallet);var resp=yield client.get(`/wallet/v1/account/get-account?${qs.stringify(_omitBy(queryParams,_isNil))}`,{headers:yield this.backgroundApi.serviceAccountProfile._getWalletTypeHeader({accountId:params.accountId}),signal:params.signal});return resp;});function fetchAccountDetailsByApi(_x44){return _fetchAccountDetailsByApi.apply(this,arguments);}return fetchAccountDetailsByApi;}();_proto2.fetchAccountDetailsByRpc=function(){var _fetchAccountDetailsByRpc=_asyncToGenerator(function*(params){throw new NotImplemented();});function fetchAccountDetailsByRpc(_x45){return _fetchAccountDetailsByRpc.apply(this,arguments);}return fetchAccountDetailsByRpc;}();_proto2.fetchTokenList=function(){var _fetchTokenList=_asyncToGenerator(function*(params){var isCustomNetwork=yield this.backgroundApi.serviceNetwork.isCustomNetwork({networkId:this.networkId});if(isCustomNetwork){return this.fetchTokenListByRpc(params);}return this.fetchTokenListByApi(params);});function fetchTokenList(_x46){return _fetchTokenList.apply(this,arguments);}return fetchTokenList;}();_proto2.fetchTokenListByApi=function(){var _fetchTokenListByApi=_asyncToGenerator(function*(params){var{serviceToken,serviceAccountProfile}=this.backgroundApi;var{requestApiParams,flag,signal,accountId}=params;if(requestApiParams.contractList){requestApiParams.contractList=requestApiParams.contractList.filter(function(contract){return contract!==null&&typeof contract==='string';});}var client=yield serviceToken.getClient(EServiceEndpointEnum.Wallet);var resp=yield client.post(`/wallet/v1/account/token/list?flag=${flag||''}`,requestApiParams,{signal,headers:yield serviceAccountProfile._getWalletTypeHeader({accountId})});return resp;});function fetchTokenListByApi(_x47){return _fetchTokenListByApi.apply(this,arguments);}return fetchTokenListByApi;}();_proto2.fetchTokenListByRpc=function(){var _fetchTokenListByRpc=_asyncToGenerator(function*(params){throw new NotImplemented();});function fetchTokenListByRpc(_x48){return _fetchTokenListByRpc.apply(this,arguments);}return fetchTokenListByRpc;}();_proto2.estimateFee=function(){var _estimateFee=_asyncToGenerator(function*(params){var isCustomNetwork=yield this.backgroundApi.serviceNetwork.isCustomNetwork({networkId:this.networkId});if(isCustomNetwork){return this.estimateFeeByRpc(params);}return this.estimateFeeByApi(params);});function estimateFee(_x49){return _estimateFee.apply(this,arguments);}return estimateFee;}();_proto2.estimateFeeByApi=function(){var _estimateFeeByApi=_asyncToGenerator(function*(params){var{accountId}=params,rest=_objectWithoutProperties(params,_excluded);var client=yield this.backgroundApi.serviceGas.getClient(EServiceEndpointEnum.Wallet);var resp=yield client.post('/wallet/v1/account/estimate-fee',rest,{headers:yield this.backgroundApi.serviceAccountProfile._getWalletTypeHeader({accountId})});return resp;});function estimateFeeByApi(_x50){return _estimateFeeByApi.apply(this,arguments);}return estimateFeeByApi;}();_proto2.estimateFeeByRpc=function(){var _estimateFeeByRpc=_asyncToGenerator(function*(params){throw new NotImplemented();});function estimateFeeByRpc(_x51){return _estimateFeeByRpc.apply(this,arguments);}return estimateFeeByRpc;}();_proto2.fetchAccountHistoryDetail=function(){var _fetchAccountHistoryDetail=_asyncToGenerator(function*(params){var isCustomNetwork=yield this.backgroundApi.serviceNetwork.isCustomNetwork({networkId:this.networkId});if(isCustomNetwork){return this.fetchAccountHistoryDetailByRpc(params);}return this.fetchAccountHistoryDetailByApi(params);});function fetchAccountHistoryDetail(_x52){return _fetchAccountHistoryDetail.apply(this,arguments);}return fetchAccountHistoryDetail;}();_proto2.fetchAccountHistoryDetailByApi=function(){var _fetchAccountHistoryDetailByApi=_asyncToGenerator(function*(params){var{accountId}=params,rest=_objectWithoutProperties(params,_excluded2);var client=yield this.backgroundApi.serviceGas.getClient(EServiceEndpointEnum.Wallet);var resp=yield client.get('/wallet/v1/account/history/detail',{params:rest,headers:yield this.backgroundApi.serviceAccountProfile._getWalletTypeHeader({accountId})});return resp;});function fetchAccountHistoryDetailByApi(_x53){return _fetchAccountHistoryDetailByApi.apply(this,arguments);}return fetchAccountHistoryDetailByApi;}();_proto2.fetchAccountHistoryDetailByRpc=function(){var _fetchAccountHistoryDetailByRpc=_asyncToGenerator(function*(params){throw new NotImplemented();});function fetchAccountHistoryDetailByRpc(_x54){return _fetchAccountHistoryDetailByRpc.apply(this,arguments);}return fetchAccountHistoryDetailByRpc;}();_proto2.buildOkxSwapEncodedTx=function(){var _buildOkxSwapEncodedTx=_asyncToGenerator(function*(params){throw new NotImplemented();});function buildOkxSwapEncodedTx(_x55){return _buildOkxSwapEncodedTx.apply(this,arguments);}return buildOkxSwapEncodedTx;}();return _createClass(VaultBase);}(VaultBaseChainOnly);","import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import accountUtils from'@onekeyhq/shared/src/utils/accountUtils';import networkUtils from'@onekeyhq/shared/src/utils/networkUtils';import{getVaultSettings as _getVaultSettings,getVaultSettingsNetworkInfo}from\"../settings\";export var VaultContext=function(){function VaultContext(options){this.options=options;this.networkId=options.networkId||'';this.accountId=options.accountId||'';this.backgroundApi=options.backgroundApi;this.walletId=options.walletId||(this.accountId?accountUtils.getWalletIdFromAccountId({accountId:this.accountId}):'');if(!this.walletId&&!this.options.isChainOnly){throw new Error('can not get correct walletId');}}var _proto=VaultContext.prototype;_proto.getNetworkId=function(){var _getNetworkId=_asyncToGenerator(function*(){return this.networkId;});function getNetworkId(){return _getNetworkId.apply(this,arguments);}return getNetworkId;}();_proto.getNetwork=function(){var _getNetwork=_asyncToGenerator(function*({cached}={}){if(!cached||!this._network||this._network.id!==this.networkId){var network=yield this.backgroundApi.serviceNetwork.getNetwork({networkId:this.networkId});this._network=network;}return this._network;});function getNetwork(){return _getNetwork.apply(this,arguments);}return getNetwork;}();_proto.getNetworkChainId=function(){var _getNetworkChainId=_asyncToGenerator(function*({hex=false}={}){return networkUtils.getNetworkChainId({networkId:this.networkId,hex});});function getNetworkChainId(){return _getNetworkChainId.apply(this,arguments);}return getNetworkChainId;}();_proto.getNetworkImpl=function(){var _getNetworkImpl=_asyncToGenerator(function*(){return networkUtils.getNetworkImpl({networkId:this.networkId});});function getNetworkImpl(){return _getNetworkImpl.apply(this,arguments);}return getNetworkImpl;}();_proto.getVaultSettings=function(){var _getVaultSettings2=_asyncToGenerator(function*(){return _getVaultSettings({networkId:this.networkId});});function getVaultSettings(){return _getVaultSettings2.apply(this,arguments);}return getVaultSettings;}();_proto.getNetworkInfo=function(){var _getNetworkInfo=_asyncToGenerator(function*(){return getVaultSettingsNetworkInfo({networkId:this.networkId});});function getNetworkInfo(){return _getNetworkInfo.apply(this,arguments);}return getNetworkInfo;}();_proto.getCoreApiNetworkInfo=function(){var _getCoreApiNetworkInfo=_asyncToGenerator(function*(){var network=yield this.getNetwork();var networkInfo=yield this.getNetworkInfo();var{addressPrefix,curve}=networkInfo;var networkImpl=yield this.getNetworkImpl();var chainId=yield this.getNetworkChainId({hex:false});var{isTestnet}=network;var{networkId}=this;return{isTestnet,networkChainCode:network.code,chainId,networkId,networkImpl,addressPrefix,curve};});function getCoreApiNetworkInfo(){return _getCoreApiNetworkInfo.apply(this,arguments);}return getCoreApiNetworkInfo;}();_proto.getRpcUrl=function(){var _getRpcUrl=_asyncToGenerator(function*(){return'';});function getRpcUrl(){return _getRpcUrl.apply(this,arguments);}return getRpcUrl;}();_proto.destroy=function(){var _destroy=_asyncToGenerator(function*(){});function destroy(){return _destroy.apply(this,arguments);}return destroy;}();return _createClass(VaultContext);}();","import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import{NotImplemented}from'@onekeyhq/shared/src/errors';import{KeyringExternalBase}from\"../../base/KeyringExternalBase\";export var KeyringExternal=function(_KeyringExternalBase){_inherits(KeyringExternal,_KeyringExternalBase);var _super=_createSuper(KeyringExternal);function KeyringExternal(){return _super.apply(this,arguments);}var _proto=KeyringExternal.prototype;_proto.signMessage=function signMessage(params){throw new NotImplemented();};_proto.signTransaction=function signTransaction(params){throw new NotImplemented();};return _createClass(KeyringExternal);}(KeyringExternalBase);","import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import{TonWalletVersion}from'@onekeyfe/hd-transport';import TonWeb from'tonweb';import{ETonSendMode,genAddressFromPublicKey}from'@onekeyhq/core/src/chains/ton/sdkTon';import coreChainApi from'@onekeyhq/core/src/instance/coreChainApi';import{OneKeyInternalError}from'@onekeyhq/shared/src/errors';import{convertDeviceResponse}from'@onekeyhq/shared/src/errors/utils/deviceErrorUtils';import{ETranslations}from'@onekeyhq/shared/src/locale';import{appLocale}from'@onekeyhq/shared/src/locale/appLocale';import accountUtils from'@onekeyhq/shared/src/utils/accountUtils';import{checkIsDefined}from'@onekeyhq/shared/src/utils/assertUtils';import bufferUtils from'@onekeyhq/shared/src/utils/bufferUtils';import{KeyringHardwareBase}from\"../../base/KeyringHardwareBase\";import{createSignedExternalMessage,decodePayload,getAccountVersion,getWalletContractInstance,serializeUnsignedTransaction}from\"./sdkTon/utils\";export var KeyringHardware=function(_KeyringHardwareBase){_inherits(KeyringHardware,_KeyringHardwareBase);var _super=_createSuper(KeyringHardware);function KeyringHardware(...args){var _this;_this=_super.call(this,...args);_this.coreApi=coreChainApi.ton.hd;_this.hwSdkNetwork='ton';return _this;}var _proto=KeyringHardware.prototype;_proto.buildHwAllNetworkPrepareAccountsParams=function(){var _buildHwAllNetworkPrepareAccountsParams=_asyncToGenerator(function*(params){return{network:this.hwSdkNetwork,path:params.path,showOnOneKey:false};});function buildHwAllNetworkPrepareAccountsParams(_x){return _buildHwAllNetworkPrepareAccountsParams.apply(this,arguments);}return buildHwAllNetworkPrepareAccountsParams;}();_proto.prepareAccounts=function(){var _prepareAccounts=_asyncToGenerator(function*(params){var _this2=this;var{deriveInfo}=params;return this.basePrepareHdNormalAccounts(params,{buildAddressesInfo:function(){var _ref=_asyncToGenerator(function*({usedIndexes}){var publicKeys=yield _this2.baseGetDeviceAccountAddresses({params,usedIndexes,sdkGetAddressFn:function(){var _ref2=_asyncToGenerator(function*({connectId,deviceId,pathPrefix,pathSuffix,template,showOnOnekeyFn}){var buildFullPath=function(p){return accountUtils.buildPathFromTemplate({template,index:p.index});};var allNetworkAccounts=yield _this2.getAllNetworkPrepareAccounts({params,usedIndexes,buildPath:buildFullPath,buildResultAccount:function({account}){return{path:account.path,address:account.payload?.address||'',publicKey:account.payload?.publicKey||''};},hwSdkNetwork:_this2.hwSdkNetwork});if(allNetworkAccounts){return allNetworkAccounts;}throw new Error('use sdk allNetworkGetAddress instead');});return function sdkGetAddressFn(_x4){return _ref2.apply(this,arguments);};}()});var ret=[];for(var i=0;i<publicKeys.length;i+=1){var item=publicKeys[i];var{path,publicKey}=item;var addr=yield genAddressFromPublicKey(publicKey,deriveInfo.addressEncoding);var addressInfo={address:addr.nonBounceAddress,addresses:{},path,publicKey:publicKey||''};ret.push(addressInfo);}return ret;});return function buildAddressesInfo(_x3){return _ref.apply(this,arguments);};}()});});function prepareAccounts(_x2){return _prepareAccounts.apply(this,arguments);}return prepareAccounts;}();_proto.signTransaction=function(){var _signTransaction=_asyncToGenerator(function*(params){var _account$pub;var sdk=yield this.getHardwareSDKInstance();var account=yield this.vault.getAccount();var{unsignedTx,deviceParams}=params;var{dbDevice,deviceCommonParams}=checkIsDefined(deviceParams);var encodedTx=unsignedTx.encodedTx;var version=getAccountVersion(account.id);var contract=getWalletContractInstance({version,publicKey:(_account$pub=account.pub)!=null?_account$pub:'',backgroundApi:this.vault.backgroundApi,networkId:this.vault.networkId});var serializeUnsignedTx=yield serializeUnsignedTransaction({contract,encodedTx});encodedTx.messages.forEach(function(msg){if(msg.sendMode===null||msg.sendMode===undefined){msg.sendMode=ETonSendMode.PAY_GAS_SEPARATELY+ETonSendMode.IGNORE_ERRORS;}});var msg=encodedTx.messages[0];var versionMap={v4R2:TonWalletVersion.V4R2};var hwParams=_objectSpread(_objectSpread({path:account.path},deviceCommonParams),{},{destination:msg.address,tonAmount:msg.amount.toString(),seqno:encodedTx.sequenceNo||0,expireAt:encodedTx.validUntil||0,comment:msg.payload,isRawData:true,mode:msg.sendMode,walletVersion:versionMap[version]});if(msg.jetton?.amount){hwParams.destination=msg.jetton.toAddress;hwParams.jettonAmount=msg.jetton.amount;hwParams.jettonMasterAddress=msg.jetton.jettonMasterAddress;hwParams.jettonWalletAddress=msg.jetton.jettonWalletAddress;if(msg.jetton.fwdFee){hwParams.fwdFee=msg.jetton.fwdFee;}hwParams.comment=undefined;if(msg.jetton.fwdPayload){var decodedPayload=decodePayload(msg.jetton.fwdPayload);if(decodedPayload.comment){hwParams.comment=decodedPayload.comment;hwParams.isRawData=false;}}}else if(msg.payload){var _decodedPayload=decodePayload(msg.payload);if(_decodedPayload.comment){hwParams.comment=_decodedPayload.comment;hwParams.isRawData=false;}else{hwParams.comment=Buffer.from(msg.payload,'base64').toString('hex');hwParams.isRawData=true;}}if(encodedTx.messages.length>1){hwParams.extDestination=[];hwParams.extTonAmount=[];hwParams.extPayload=[];encodedTx.messages.slice(1).forEach(function(extMsg){var _extMsg$payload;hwParams.extDestination?.push(extMsg.address);hwParams.extTonAmount?.push(extMsg.amount.toString());hwParams.extPayload?.push((_extMsg$payload=extMsg.payload)!=null?_extMsg$payload:'');});}var result=yield convertDeviceResponse(_asyncToGenerator(function*(){var res=yield sdk.tonSignMessage(dbDevice.connectId,dbDevice.deviceId,hwParams);return res;}));if(!result.signature){throw new OneKeyInternalError('Failed to sign message');}var signature=bufferUtils.hexToBytes(result.signature);var signingMessage=serializeUnsignedTx.signingMessage;var signingMessageHexFromHw=result.signning_message;var signingMessageHex=Buffer.from(yield signingMessage.toBoc()).toString('hex');var signingMessageHash=Buffer.from(yield signingMessage.hash()).toString('hex');if(!result.skip_validate&&signingMessageHexFromHw!==signingMessageHex){signingMessage=TonWeb.boc.Cell.oneFromBoc(signingMessageHexFromHw);}if(result.skip_validate&&signingMessageHexFromHw!==signingMessageHash){throw new Error(appLocale.intl.formatMessage({id:ETranslations.feedback_failed_to_sign_transaction}));}var externalMessage=yield createSignedExternalMessage({contract,encodedTx,signature:Buffer.from(signature).toString('hex'),signingMessage});return{txid:'',rawTx:Buffer.from(yield externalMessage.message.toBoc(false)).toString('base64'),encodedTx};});function signTransaction(_x5){return _signTransaction.apply(this,arguments);}return signTransaction;}();_proto.signMessage=function(){var _signMessage=_asyncToGenerator(function*(params){var sdk=yield this.getHardwareSDKInstance();var account=yield this.vault.getAccount();var{messages,deviceParams}=params;if(messages.length!==1){throw new OneKeyInternalError('Unsupported message count');}var msg=messages[0];if(!msg.payload.isProof){throw new OneKeyInternalError('Unsupported message type');}var{dbDevice,deviceCommonParams}=checkIsDefined(deviceParams);var result=yield convertDeviceResponse(_asyncToGenerator(function*(){var _msg$payload$appDomai;var res=yield sdk.tonSignProof(dbDevice.connectId,dbDevice.deviceId,_objectSpread(_objectSpread({},deviceCommonParams),{},{path:account.path,appdomain:Buffer.from((_msg$payload$appDomai=msg.payload.appDomain)!=null?_msg$payload$appDomai:'').toString('hex'),expireAt:msg.payload.timestamp,comment:Buffer.from(msg.message).toString('hex')}));return res;}));if(!result.signature){throw new OneKeyInternalError('Failed to sign message');}return[result.signature];});function signMessage(_x6){return _signMessage.apply(this,arguments);}return signMessage;}();return _createClass(KeyringHardware);}(KeyringHardwareBase);","import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import coreChainApi from'@onekeyhq/core/src/instance/coreChainApi';import hexUtils from'@onekeyhq/shared/src/utils/hexUtils';import{KeyringHdBase}from\"../../base/KeyringHdBase\";import{createSignedExternalMessage,getAccountVersion,getWalletContractInstance,serializeUnsignedTransaction}from\"./sdkTon/utils\";export var KeyringHd=function(_KeyringHdBase){_inherits(KeyringHd,_KeyringHdBase);var _super=_createSuper(KeyringHd);function KeyringHd(...args){var _this;_this=_super.call(this,...args);_this.coreApi=coreChainApi.ton.hd;return _this;}var _proto=KeyringHd.prototype;_proto.getPrivateKeys=function(){var _getPrivateKeys=_asyncToGenerator(function*(params){return this.baseGetPrivateKeys(params);});function getPrivateKeys(_x){return _getPrivateKeys.apply(this,arguments);}return getPrivateKeys;}();_proto.prepareAccounts=function(){var _prepareAccounts=_asyncToGenerator(function*(params){return this.basePrepareAccountsHd(params);});function prepareAccounts(_x2){return _prepareAccounts.apply(this,arguments);}return prepareAccounts;}();_proto.exportAccountSecretKeys=function(){var _exportAccountSecretKeys=_asyncToGenerator(function*(params){return this.baseExportAccountSecretKeys(params);});function exportAccountSecretKeys(_x3){return _exportAccountSecretKeys.apply(this,arguments);}return exportAccountSecretKeys;}();_proto.signTransaction=function(){var _signTransaction=_asyncToGenerator(function*(params){var _account$pub,_signedTx$signature;var encodedTx=params.unsignedTx.encodedTx;var account=yield this.vault.getAccount();var version=getAccountVersion(account.id);var contract=getWalletContractInstance({version,publicKey:(_account$pub=account.pub)!=null?_account$pub:'',backgroundApi:this.vault.backgroundApi,networkId:this.vault.networkId});var serializeUnsignedTx=yield serializeUnsignedTransaction({contract,encodedTx});params.unsignedTx.rawTxUnsigned=hexUtils.hexlify(yield serializeUnsignedTx.signingMessage.toBoc(),{noPrefix:true});var signedTx=yield this.baseSignTransaction(params);var externalMessage=yield createSignedExternalMessage({contract,encodedTx,signature:(_signedTx$signature=signedTx.signature)!=null?_signedTx$signature:'',signingMessage:serializeUnsignedTx.signingMessage});return _objectSpread(_objectSpread({},signedTx),{},{rawTx:Buffer.from(yield externalMessage.message.toBoc(false)).toString('base64')});});function signTransaction(_x4){return _signTransaction.apply(this,arguments);}return signTransaction;}();_proto.signMessage=function(){var _signMessage=_asyncToGenerator(function*(params){return this.baseSignMessage(params);});function signMessage(_x5){return _signMessage.apply(this,arguments);}return signMessage;}();return _createClass(KeyringHd);}(KeyringHdBase);","import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import coreChainApi from'@onekeyhq/core/src/instance/coreChainApi';import hexUtils from'@onekeyhq/shared/src/utils/hexUtils';import{KeyringImportedBase}from\"../../base/KeyringImportedBase\";import{createSignedExternalMessage,getAccountVersion,getWalletContractInstance,serializeUnsignedTransaction}from\"./sdkTon/utils\";export var KeyringImported=function(_KeyringImportedBase){_inherits(KeyringImported,_KeyringImportedBase);var _super=_createSuper(KeyringImported);function KeyringImported(...args){var _this;_this=_super.call(this,...args);_this.coreApi=coreChainApi.ton.imported;return _this;}var _proto=KeyringImported.prototype;_proto.getPrivateKeys=function(){var _getPrivateKeys=_asyncToGenerator(function*(params){return this.baseGetPrivateKeys(params);});function getPrivateKeys(_x){return _getPrivateKeys.apply(this,arguments);}return getPrivateKeys;}();_proto.prepareAccounts=function(){var _prepareAccounts=_asyncToGenerator(function*(params){return this.basePrepareAccountsImported(params);});function prepareAccounts(_x2){return _prepareAccounts.apply(this,arguments);}return prepareAccounts;}();_proto.exportAccountSecretKeys=function(){var _exportAccountSecretKeys=_asyncToGenerator(function*(params){return this.baseExportAccountSecretKeys(params);});function exportAccountSecretKeys(_x3){return _exportAccountSecretKeys.apply(this,arguments);}return exportAccountSecretKeys;}();_proto.signTransaction=function(){var _signTransaction=_asyncToGenerator(function*(params){var _account$pub,_signedTx$signature;var encodedTx=params.unsignedTx.encodedTx;var account=yield this.vault.getAccount();var version=getAccountVersion(account.id);var contract=getWalletContractInstance({version,publicKey:(_account$pub=account.pub)!=null?_account$pub:'',backgroundApi:this.vault.backgroundApi,networkId:this.vault.networkId});var serializeUnsignedTx=yield serializeUnsignedTransaction({contract,encodedTx});params.unsignedTx.rawTxUnsigned=hexUtils.hexlify(yield serializeUnsignedTx.signingMessage.toBoc(),{noPrefix:true});var signedTx=yield this.baseSignTransaction(params);var externalMessage=yield createSignedExternalMessage({contract,encodedTx,signature:(_signedTx$signature=signedTx.signature)!=null?_signedTx$signature:'',signingMessage:serializeUnsignedTx.signingMessage});return _objectSpread(_objectSpread({},signedTx),{},{rawTx:Buffer.from(yield externalMessage.message.toBoc(false)).toString('base64')});});function signTransaction(_x4){return _signTransaction.apply(this,arguments);}return signTransaction;}();_proto.signMessage=function(){var _signMessage=_asyncToGenerator(function*(params){return this.baseSignMessage(params);});function signMessage(_x5){return _signMessage.apply(this,arguments);}return signMessage;}();return _createClass(KeyringImported);}(KeyringImportedBase);","import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import _get from\"@babel/runtime/helpers/get\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import{KeyringWatchingBase}from\"../../base/KeyringWatchingBase\";export var KeyringWatching=function(_KeyringWatchingBase){_inherits(KeyringWatching,_KeyringWatchingBase);var _super=_createSuper(KeyringWatching);function KeyringWatching(){return _super.apply(this,arguments);}var _proto=KeyringWatching.prototype;_proto.prepareAccounts=function(){var _prepareAccounts=_asyncToGenerator(function*(params){return _get(_getPrototypeOf(KeyringWatching.prototype),\"basePrepareSimpleWatchingAccounts\",this).call(this,params);});function prepareAccounts(_x){return _prepareAccounts.apply(this,arguments);}return prepareAccounts;}();return _createClass(KeyringWatching);}(KeyringWatchingBase);","import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import{OneKeyError}from'@onekeyhq/shared/src/errors';import{JsonRPCRequest}from'@onekeyhq/shared/src/request/JsonRPCRequest';export var ClientTon=function(){function ClientTon({url}){this.rpc=new JsonRPCRequest(`${url}`);}var _proto=ClientTon.prototype;_proto.getMasterChainInfo=function(){var _getMasterChainInfo=_asyncToGenerator(function*(){var masterChainResponse=yield this.rpc.call('getMasterchainInfo',[]);var sequenceNumber=masterChainResponse.last?.seqno;if(typeof sequenceNumber!=='number'){throw new OneKeyError('Invalid masterchain response');}return{blockHeight:sequenceNumber};});function getMasterChainInfo(){return _getMasterChainInfo.apply(this,arguments);}return getMasterChainInfo;}();_proto.sendBocReturnHash=function(){var _sendBocReturnHash=_asyncToGenerator(function*({boc}){var result=yield this.rpc.call('sendBocReturnHash',{boc});var{hash}=result!=null?result:{};if(!hash){throw new OneKeyError('Invalid hash');}var txId=this.convertHashToTxId(hash);return txId;});function sendBocReturnHash(_x){return _sendBocReturnHash.apply(this,arguments);}return sendBocReturnHash;}();_proto.convertHashToTxId=function convertHashToTxId(str){var raw=Buffer.from(str,'base64').toString('binary');var result='';for(var i=0;i<raw.length;i+=1){var hex=raw.charCodeAt(i).toString(16);result+=hex.length===2?hex:`0${hex}`;}return result;};return _createClass(ClientTon);}();","import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import BigNumber from'bignumber.js';import TonWeb from'tonweb';import{ETonSendMode,genAddressFromAddress}from'@onekeyhq/core/src/chains/ton/sdkTon';import coreChainApi from'@onekeyhq/core/src/instance/coreChainApi';import{OneKeyInternalError}from'@onekeyhq/shared/src/errors';import{ETranslations}from'@onekeyhq/shared/src/locale';import{ESendPreCheckTimingEnum}from'@onekeyhq/shared/types/send';import{EDecodedTxActionType,EDecodedTxDirection,EDecodedTxStatus}from'@onekeyhq/shared/types/tx';import{VaultBase}from\"../../base/VaultBase\";import{KeyringExternal}from\"./KeyringExternal\";import{KeyringHardware}from\"./KeyringHardware\";import{KeyringHd}from\"./KeyringHd\";import{KeyringImported}from\"./KeyringImported\";import{KeyringWatching}from\"./KeyringWatching\";import{ClientTon}from\"./sdkTon/ClientTon\";import{decodePayload,encodeComment,encodeJettonPayload,getAccountVersion,getJettonData,getJettonWalletAddress,getWalletContractInstance,serializeUnsignedTransaction}from\"./sdkTon/utils\";import settings from\"./settings\";var Vault=function(_VaultBase){_inherits(Vault,_VaultBase);var _super=_createSuper(Vault);function Vault(...args){var _this;_this=_super.call(this,...args);_this.coreApi=coreChainApi.ton.hd;_this.keyringMap={hd:KeyringHd,qr:undefined,hw:KeyringHardware,imported:KeyringImported,watching:KeyringWatching,external:KeyringExternal};return _this;}var _proto=Vault.prototype;_proto.buildAccountAddressDetail=function(){var _buildAccountAddressDetail=_asyncToGenerator(function*(params){var{account,networkId,externalAccountAddress}=params;var address=account.address||externalAccountAddress||'';var{normalizedAddress,displayAddress,isValid}=yield this.validateAddress(address);return{networkId,normalizedAddress,displayAddress,address:displayAddress,baseAddress:normalizedAddress,isValid,allowEmptyAddress:false};});function buildAccountAddressDetail(_x){return _buildAccountAddressDetail.apply(this,arguments);}return buildAccountAddressDetail;}();_proto.buildEncodedTx=function(){var _buildEncodedTx=_asyncToGenerator(function*(params){var _this2=this;var{transfersInfo}=params;if(!transfersInfo){throw new OneKeyInternalError('Invalid transfersInfo');}var network=yield this.getNetwork();var fromAddress=yield this.getAccountAddress();var messages=yield Promise.all(transfersInfo.map(function(){var _ref=_asyncToGenerator(function*(transfer){var amount=new BigNumber(transfer.amount).shiftedBy(transfer.tokenInfo?.decimals||0).toFixed(0);var msg={address:transfer.to,amount,sendMode:ETonSendMode.PAY_GAS_SEPARATELY+ETonSendMode.IGNORE_ERRORS};if(transfer.memo){msg.payload=yield encodeComment(transfer.memo);}if(transfer.tokenInfo&&!transfer.tokenInfo?.isNative){var fwdFee='';msg.amount=TonWeb.utils.toNano('0.05').toString();var jettonMasterAddress=transfer.tokenInfo.address;var jettonWalletAddress=yield getJettonWalletAddress({backgroundApi:_this2.backgroundApi,networkId:network.id,masterAddress:jettonMasterAddress,address:fromAddress});var jettonAddress=jettonWalletAddress.toString(true,true,true);var forwardPayload;if(transfer.memo){forwardPayload=yield encodeComment(transfer.memo);fwdFee='1';}var{payload}=yield encodeJettonPayload({backgroundApi:_this2.backgroundApi,networkId:network.id,address:fromAddress,jettonAddress,params:{tokenAmount:amount,forwardAmount:fwdFee,forwardPayload,toAddress:transfer.to,responseAddress:fromAddress}});msg.payload=payload;msg.address=jettonAddress;msg.jetton={amount,jettonMasterAddress,jettonWalletAddress:jettonAddress,fwdFee,fwdPayload:forwardPayload,toAddress:transfer.to};}return msg;});return function(_x3){return _ref.apply(this,arguments);};}()));return{from:fromAddress,messages,sequenceNo:0};});function buildEncodedTx(_x2){return _buildEncodedTx.apply(this,arguments);}return buildEncodedTx;}();_proto.buildDecodedTx=function(){var _buildDecodedTx=_asyncToGenerator(function*(params){var _this3=this,_encodedTx$sequenceNo,_feeInfo$gas$gasPrice,_feeInfo$gas$gasLimit;var encodedTx=params.unsignedTx.encodedTx;var swapInfo=params.unsignedTx.swapInfo;var from=yield this.getAccountAddress();var network=yield this.getNetwork();var toAddress='';var actions=yield Promise.all(encodedTx.messages.map(function(){var _ref2=_asyncToGenerator(function*(message){var decodedPayload=decodePayload(message.payload);if(decodedPayload.type===EDecodedTxActionType.ASSET_TRANSFER){var _message$jetton$jetto,_token$logoURI,_token$symbol,_token$name,_token$address;var tokenAddress=(_message$jetton$jetto=message.jetton?.jettonMasterAddress)!=null?_message$jetton$jetto:'';var to=message.address;var amount=message.amount.toString();if(decodedPayload.jetton){var _message$jetton$toAdd;to=(_message$jetton$toAdd=message.jetton?.toAddress)!=null?_message$jetton$toAdd:decodedPayload.jetton.toAddress;amount=decodedPayload.jetton.amount;if(!tokenAddress){var jettonData=yield getJettonData({backgroundApi:_this3.backgroundApi,networkId:network.id,address:message.address}).catch(function(e){});if(jettonData){tokenAddress=jettonData.jettonMinterAddress.toString();}}}var token=yield _this3.backgroundApi.serviceToken.getToken({networkId:network.id,accountId:_this3.accountId,tokenIdOnNetwork:tokenAddress});if(token){amount=new BigNumber(amount).shiftedBy(-token.decimals).toFixed();}toAddress=to;return _this3.buildTxTransferAssetAction({from,to,transfers:[{from,to,amount,icon:(_token$logoURI=token?.logoURI)!=null?_token$logoURI:'',symbol:(_token$symbol=token?.symbol)!=null?_token$symbol:'',name:(_token$name=token?.name)!=null?_token$name:'',tokenIdOnNetwork:(_token$address=token?.address)!=null?_token$address:'',isNative:token?.symbol===network.symbol}]});}return{type:EDecodedTxActionType.UNKNOWN,direction:EDecodedTxDirection.OTHER,unknownAction:{from,to:message.address}};});return function(_x5){return _ref2.apply(this,arguments);};}()));if(swapInfo){actions=[yield this.buildInternalSwapAction({swapInfo,swapToAddress:toAddress})];}var feeInfo=params.unsignedTx.feeInfo;return{txid:'',owner:from,signer:from,nonce:(_encodedTx$sequenceNo=encodedTx.sequenceNo)!=null?_encodedTx$sequenceNo:0,actions,status:EDecodedTxStatus.Pending,networkId:this.networkId,accountId:this.accountId,feeInfo:{common:{feeDecimals:network.decimals,feeSymbol:network.symbol,nativeDecimals:network.decimals,nativeSymbol:network.symbol},gas:{gasPrice:(_feeInfo$gas$gasPrice=feeInfo?.gas?.gasPrice)!=null?_feeInfo$gas$gasPrice:'0',gasLimit:(_feeInfo$gas$gasLimit=feeInfo?.gas?.gasLimit)!=null?_feeInfo$gas$gasLimit:'0'}},extraInfo:null,encodedTx};});function buildDecodedTx(_x4){return _buildDecodedTx.apply(this,arguments);}return buildDecodedTx;}();_proto.buildUnsignedTx=function(){var _buildUnsignedTx=_asyncToGenerator(function*(params){var _params$encodedTx;var encodedTx=(_params$encodedTx=params.encodedTx)!=null?_params$encodedTx:yield this.buildEncodedTx(params);if(encodedTx){var _params$transfersInfo;return{encodedTx,transfersInfo:(_params$transfersInfo=params.transfersInfo)!=null?_params$transfersInfo:[]};}throw new OneKeyInternalError();});function buildUnsignedTx(_x6){return _buildUnsignedTx.apply(this,arguments);}return buildUnsignedTx;}();_proto.updateUnsignedTx=function(){var _updateUnsignedTx=_asyncToGenerator(function*(params){var encodedTx=params.unsignedTx.encodedTx;if(params.nonceInfo){encodedTx.sequenceNo=params.nonceInfo.nonce;}var validUntil=Math.floor(Date.now()/1000)+60*3;if(!encodedTx.validUntil){encodedTx.validUntil=validUntil;}else if(encodedTx.validUntil.toString().length>10){encodedTx.validUntil=Math.floor(encodedTx.validUntil/1000);}if(encodedTx.validUntil<validUntil){encodedTx.validUntil=validUntil;}if(params.nativeAmountInfo&&params.nativeAmountInfo.maxSendAmount){var _token$decimals;var network=yield this.getNetwork();var jetton=encodedTx.messages[0].jetton;var token=yield this.backgroundApi.serviceToken.getToken({networkId:network.id,accountId:this.accountId,tokenIdOnNetwork:jetton?jetton.jettonMasterAddress:''});var amount=new BigNumber(params.nativeAmountInfo.maxSendAmount).shiftedBy((_token$decimals=token?.decimals)!=null?_token$decimals:0).toFixed(0,BigNumber.ROUND_FLOOR);if(encodedTx.messages[0].jetton){encodedTx.messages[0].jetton.amount=amount;}else{encodedTx.messages[0].amount=amount;}}return _objectSpread({},params.unsignedTx);});function updateUnsignedTx(_x7){return _updateUnsignedTx.apply(this,arguments);}return updateUnsignedTx;}();_proto.validateAddress=function(){var _validateAddress=_asyncToGenerator(function*(address){var isValid=TonWeb.Address.isValid(address);var addr=isValid?yield genAddressFromAddress(address):null;var normalizedAddress='';var displayAddress='';if(addr){normalizedAddress=addr.normalAddress;displayAddress=addr.nonBounceAddress;}return{isValid,normalizedAddress,displayAddress};});function validateAddress(_x8){return _validateAddress.apply(this,arguments);}return validateAddress;}();_proto.validateXpub=function(){var _validateXpub=_asyncToGenerator(function*(xpub){return{isValid:false};});function validateXpub(_x9){return _validateXpub.apply(this,arguments);}return validateXpub;}();_proto.getPrivateKeyFromImported=function getPrivateKeyFromImported(params){return this.baseGetPrivateKeyFromImported(params);};_proto.validateXprvt=function(){var _validateXprvt=_asyncToGenerator(function*(xprvt){return{isValid:false};});function validateXprvt(_x10){return _validateXprvt.apply(this,arguments);}return validateXprvt;}();_proto.validatePrivateKey=function validatePrivateKey(privateKey){return this.baseValidatePrivateKey(privateKey);};_proto.validateGeneralInput=function(){var _validateGeneralInput=_asyncToGenerator(function*(params){var{result}=yield this.baseValidateGeneralInput(params);result.deriveInfoItems=Object.values(settings.accountDeriveInfo);return result;});function validateGeneralInput(_x11){return _validateGeneralInput.apply(this,arguments);}return validateGeneralInput;}();_proto.buildEstimateFeeParams=function(){var _buildEstimateFeeParams=_asyncToGenerator(function*(params){var _account$pub;var encodedTx=params.encodedTx;var account=yield this.getAccount();var wallet=getWalletContractInstance({version:getAccountVersion(account.id),publicKey:(_account$pub=account.pub)!=null?_account$pub:'',backgroundApi:this.backgroundApi,networkId:this.networkId});var serializeUnsignedTx=yield serializeUnsignedTransaction({contract:wallet,encodedTx});return{encodedTx:_objectSpread(_objectSpread({},encodedTx),{},{body:Buffer.from(yield serializeUnsignedTx.body.toBoc(false)).toString('base64'),ignore_chksig:true,init_code:serializeUnsignedTx.code?Buffer.from(yield serializeUnsignedTx.code.toBoc(false)).toString('base64'):undefined,init_data:serializeUnsignedTx.data?Buffer.from(yield serializeUnsignedTx.data.toBoc(false)).toString('base64'):undefined})};});function buildEstimateFeeParams(_x12){return _buildEstimateFeeParams.apply(this,arguments);}return buildEstimateFeeParams;}();_proto.getCustomRpcEndpointStatus=function(){var _getCustomRpcEndpointStatus=_asyncToGenerator(function*(params){var client=new ClientTon({url:params.rpcUrl});var start=performance.now();var{blockHeight}=yield client.getMasterChainInfo();return{responseTime:Math.floor(performance.now()-start),bestBlockNumber:blockHeight};});function getCustomRpcEndpointStatus(_x13){return _getCustomRpcEndpointStatus.apply(this,arguments);}return getCustomRpcEndpointStatus;}();_proto.broadcastTransactionFromCustomRpc=function(){var _broadcastTransactionFromCustomRpc=_asyncToGenerator(function*(params){var{customRpcInfo,signedTx}=params;var rpcUrl=customRpcInfo.rpc;if(!rpcUrl){throw new OneKeyInternalError('Invalid rpc url');}var client=new ClientTon({url:rpcUrl});var txId=yield client.sendBocReturnHash({boc:signedTx.rawTx});return _objectSpread(_objectSpread({},params.signedTx),{},{txid:txId});});function broadcastTransactionFromCustomRpc(_x14){return _broadcastTransactionFromCustomRpc.apply(this,arguments);}return broadcastTransactionFromCustomRpc;}();_proto.buildOkxSwapEncodedTx=function(){var _buildOkxSwapEncodedTx=_asyncToGenerator(function*(params){var{okxTx}=params;var{from,to,value,data}=okxTx;var network=yield this.getNetwork();var amount=new BigNumber(value).shiftedBy(-network.decimals).toString();var message={address:to,amount:TonWeb.utils.toNano(amount).toString(),payload:data};var fromAddress=yield this.getAccountAddress();if(from!==fromAddress){throw new OneKeyInternalError('Invalid from address');}return{from,to,messages:[message]};});function buildOkxSwapEncodedTx(_x15){return _buildOkxSwapEncodedTx.apply(this,arguments);}return buildOkxSwapEncodedTx;}();_proto.precheckUnsignedTx=function(){var _precheckUnsignedTx=_asyncToGenerator(function*(params){var _resp$balance;if(params.precheckTiming!==ESendPreCheckTimingEnum.Confirm){return true;}var resp=yield this.backgroundApi.serviceAccountProfile.fetchAccountDetails({networkId:this.networkId,accountId:this.accountId,withNetWorth:true});var nativeBalance=new BigNumber((_resp$balance=resp.balance)!=null?_resp$balance:'0');var{encodedTx}=params.unsignedTx;var messages=encodedTx.messages;var amount=messages.reduce(function(acc,current){return acc.plus(new BigNumber(current.amount));},new BigNumber('0'));var balanceDiff=nativeBalance.minus(amount);if(balanceDiff.isGreaterThanOrEqualTo(0)){return true;}var network=yield this.getNetwork();throw new OneKeyInternalError({key:ETranslations.swap_page_toast_insufficient_balance_content,info:{token:network.symbol,number:amount.shiftedBy(-network.decimals).toFixed()}});});function precheckUnsignedTx(_x16){return _precheckUnsignedTx.apply(this,arguments);}return precheckUnsignedTx;}();return _createClass(Vault);}(VaultBase);export{Vault as default};","import{EAddressEncodings,ECoreApiExportedSecretKeyType}from'@onekeyhq/core/src/types';import{COINTYPE_TON,IMPL_TON,INDEX_PLACEHOLDER}from'@onekeyhq/shared/src/engine/engineConsts';import{EDBAccountType}from\"../../../dbs/local/consts\";var accountDeriveInfo={default:{namePrefix:'',label:EAddressEncodings.TON_V4R2,template:`m/44'/${COINTYPE_TON}'/${INDEX_PLACEHOLDER}'`,coinType:COINTYPE_TON,addressEncoding:EAddressEncodings.TON_V4R2,idSuffix:EAddressEncodings.TON_V4R2}};var settings={impl:IMPL_TON,coinTypeDefault:COINTYPE_TON,accountType:EDBAccountType.SIMPLE,importedAccountEnabled:true,hardwareAccountEnabled:true,externalAccountEnabled:false,watchingAccountEnabled:true,defaultFeePresetIndex:0,isUtxo:false,isSingleToken:false,NFTEnabled:true,nonceRequired:true,feeUTXORequired:false,editFeeEnabled:false,replaceTxEnabled:false,estimatedFeePollingInterval:30,customRpcEnabled:true,supportExportedSecretKeys:[ECoreApiExportedSecretKeyType.privateKey,ECoreApiExportedSecretKeyType.mnemonic],withMemo:true,memoMaxLength:123,useRemoteTxId:true,fixConfirmedTxEnabled:true,accountDeriveInfo,networkInfo:{default:{curve:'ed25519',addressPrefix:''}}};export default Object.freeze(settings);","export var EVaultKeyringTypes=function(EVaultKeyringTypes){EVaultKeyringTypes[\"hd\"]=\"hd\";EVaultKeyringTypes[\"qr\"]=\"qr\";EVaultKeyringTypes[\"hardware\"]=\"hardware\";EVaultKeyringTypes[\"imported\"]=\"imported\";EVaultKeyringTypes[\"watching\"]=\"watching\";EVaultKeyringTypes[\"external\"]=\"external\";return EVaultKeyringTypes;}({});export var EWrappedType=function(EWrappedType){EWrappedType[\"DEPOSIT\"]=\"deposit\";EWrappedType[\"WITHDRAW\"]=\"withdraw\";return EWrappedType;}({});","import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}import axios from'axios';import timeoutSignal from'timeout-signal';import{AxiosResponseError,JsonRPCResponseError,ResponseError}from\"../errors\";function normalizePayload(method,params,id=0){return{jsonrpc:'2.0',id,method,params};}var JsonRPCRequest=function(){function JsonRPCRequest(url,headers,timeout=30_000){this.url=url;this.timeout=timeout;this.headers={'Content-Type':'application/json'};if(headers){Object.assign(this.headers,headers);}}JsonRPCRequest.parseRPCResponse=function parseRPCResponse(response){if(typeof response!=='object'){throw new ResponseError('Invalid JSON RPC response, typeof response should be an object',response);}else if(response.error){var message='Error JSON RPC response';var error=response.error;if(error?.message&&typeof error?.message==='string'){message=`Error JSON RPC response: ${error?.message}`;}throw new JsonRPCResponseError(message,response);}else if(!('result'in response)){throw new ResponseError('Invalid JSON RPC response, result not found',response);}return Promise.resolve(response.result);};var _proto=JsonRPCRequest.prototype;_proto.call=function(){var _call=_asyncToGenerator(function*(method,params,headers,timeout){var signal=timeoutSignal(timeout||this.timeout);try{var response=yield axios({url:this.url,method:'POST',headers:this.assembleHeaders(headers),data:JSON.stringify(normalizePayload(method,params)),signal});return yield JsonRPCRequest.parseRPCResponse(response.data);}catch(error){if(axios.isAxiosError(error)){var _error$response$statu;throw new AxiosResponseError(`Wrong response<${(_error$response$statu=error.response?.status)!=null?_error$response$statu:''}>`,error.response);}throw error;}});function call(_x,_x2,_x3,_x4){return _call.apply(this,arguments);}return call;}();_proto.batchCall=function(){var _batchCall=_asyncToGenerator(function*(calls,headers,timeout,ignoreSoloError=true,autoFallbackToRpcSingle=true){var _this=this;var jsonResponses=[];var useRpcBatch=!autoFallbackToRpcSingle;if(useRpcBatch){var payload=calls.map(function([method,params],index){return normalizePayload(method,params,index);});try{var response=yield axios({url:this.url,method:'POST',headers:this.assembleHeaders(headers),data:JSON.stringify(payload),signal:timeoutSignal(timeout||this.timeout)});jsonResponses=response.data;if(!Array.isArray(jsonResponses)){throw new AxiosResponseError('Invalid JSON Batch RPC response, response should be an array',response);}else if(calls.length!==jsonResponses.length){throw new AxiosResponseError(`Invalid JSON Batch RPC response, batch with ${calls.length} calls, but got ${jsonResponses.length} responses`,response);}}catch(error){if(axios.isAxiosError(error)){var _error$response$statu2;throw new AxiosResponseError(`Wrong response<${(_error$response$statu2=error.response?.status)!=null?_error$response$statu2:''}>`,error.response);}throw error;}}else{jsonResponses=yield Promise.all(calls.map(function(){var _ref=_asyncToGenerator(function*(c){try{var res=yield _this.call(c[0],c[1],headers,timeout);return{result:res};}catch(error){}});return function(_x8){return _ref.apply(this,arguments);};}()));}return Promise.all(jsonResponses.sort(function({id:idA},{id:idB}){return idA-idB;}).map(function(resp){return JsonRPCRequest.parseRPCResponse(resp).catch(function(e){if(e instanceof JsonRPCResponseError&&ignoreSoloError){return undefined;}throw e;});}));});function batchCall(_x5,_x6,_x7){return _batchCall.apply(this,arguments);}return batchCall;}();_proto.assembleHeaders=function assembleHeaders(headers={}){return _objectSpread(_objectSpread({},this.headers),headers);};_proto.batchChunkCall=function(){var _batchChunkCall=_asyncToGenerator(function*(payloads,headers,timeout,ignoreSoloError=true){var flattenedCalls=payloads.flat();var flattenedResults=yield this.batchCall(flattenedCalls,headers,timeout,ignoreSoloError,false);if(!Array.isArray(flattenedResults)){throw new Error('Invalid JSON Batch RPC response, response should be an array');}var results=[];var startIndex=0;for(var chunk of payloads){var chunkSize=chunk.length;results.push(flattenedResults.slice(startIndex,startIndex+chunkSize));startIndex+=chunkSize;}return results;});function batchChunkCall(_x9,_x10,_x11){return _batchChunkCall.apply(this,arguments);}return batchChunkCall;}();return _createClass(JsonRPCRequest);}();export{JsonRPCRequest};","export default function timeoutSignal(timeout) {\r\n\tif (!Number.isInteger(timeout)) {\r\n\t\tthrow new TypeError('Expected an integer');\r\n\t}\r\n\r\n\tconst controller = new AbortController();\r\n\r\n\tconst timeoutId = setTimeout(() => {\r\n\t\tcontroller.abort();\r\n\t}, timeout);\r\n\r\n\t// Allow Node.js processes to exit early if only the timeout is running\r\n\ttimeoutId?.unref?.();\r\n\r\n\treturn controller.signal;\r\n}\r\n"],"names":["TX_EMPTY_SIZE","TX_INPUT_BASE","TX_INPUT_PUBKEYHASH","TX_OUTPUT_BASE","TX_OUTPUT_PUBKEYHASH","OP_RETURN_OVERHEAD","inputBytes","input","script","length","outputBytes","output","dustThreshold","feeRate","transactionBytes","inputs","outputs","reduce","a","x","uintOrNaN","v","NaN","isFinite","Math","floor","sumOrNaN","range","value","BLANK_OUTPUT","module","exports","finalize","bytesAccum","feeAfterExtraOutput","remainderAfterExtraOutput","concat","fee","sumForgiving","genAddressFromPublicKey","_x","_genAddressFromPublicKey","apply","this","arguments","publicKey","contractVersion","wallet","all","undefined","Buffer","from","address","getAddress","normalAddress","toString","nonBounceAddress","bounceAddress","genAddressFromAddress","_x2","_genAddressFromAddress","addr","ETonSendMode","serializeData","_serializeData","message","schemaCrc","timestamp","prefix","alloc","writeUInt32BE","writeBigUInt64BE","BigInt","cell","Cell","oneFromBoc","bytes","hash","serializeProof","_serializeProof","appDomain","msgBytes","wcBuffer","wc","appDomainBuffer","appDomainLengthBuffer","writeUInt32LE","timestampBuffer","writeBigUInt64LE","hashPart","msgHash","msg","slicePathTemplate","template","getUtxoAccountPrefixPath","fullPath","pathComponent","split","pop","join","getBIP44Path","account","realPath","key","Object","entries","addresses","path","estimateTxSize","inputsForCoinSelect","outputsForCoinSelect","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","result","Super","NewTarget","constructor","Reflect","construct","t","Boolean","prototype","valueOf","call","KeyringBase","_VaultContext","_super","vault","_this","options","networkId","Error","_basePrepareHdNormalAccounts","_basePrepareHdUtxoAccounts","_batchGetAddresses","_exportAccountSecretKeys","_buildHwAllNetworkPrepareAccountsParams","_proto","isKeyringImported","keyringType","imported","isKeyringHd","hd","isKeyringHardware","hardware","isKeyringWatching","watching","basePrepareHdNormalAccounts","params","walletId","names","deriveInfo","indexes","coinType","namePrefix","idSuffix","settings","getVaultSettings","accountType","buildAddressesInfo","usedIndexes","addressInfos","ret","idx","relPath","VARIANT","pathIndex","name","buildHDAccountName","id","buildHDAccountId","indexedAccountId","buildIndexedAccountId","index","push","type","impl","pub","basePrepareHdUtxoAccounts","skipCheckAccountExist","UTXO","checkIsAccountUsed","accountCreatePerf","utxoBuildAddressesInfo","addressesInfo","utxoBuildAddressesInfoDone","buildDBUtxoAccounts","xpub","xpubSegwit","isLast","isUsed","wait","buildDBUtxoAccountsDone","_x3","_x4","batchGetAddresses","_x5","exportAccountSecretKeys","_x6","buildHwAllNetworkPrepareAccountsParams","_x7","buildPrepareAccountsPrefixedPath","_KeyringBase","KeyringBaseMock","_super2","KeyringExternalBase","args","external","_baseSignMessageByExternalWallet","_baseSendTransactionByExternalWallet","_basePrepareExternalAccounts","baseSignMessageByExternalWallet","backgroundApi","serviceDappSide","signMessage","getAccount","baseSendTransactionByExternalWallet","sendTransaction","prepareAccounts","basePrepareExternalAccounts","KeyringHardwareBase","_getHardwareSDKInstance","_baseGetDeviceAccountData","_baseGetDeviceAccountPublicKeys","_baseGetDeviceAccountAddresses","_getAllNetworkPrepareAccounts","getHardwareSDKInstance","_ref","r","$backgroundApiProxy","serviceHardware","getSDKInstance","getHardwareSDKInstanceDone","baseGetDeviceAccountData","sdkGetDataFn","errorMessage","deviceParams","dbDevice","confirmOnDevice","connectId","deviceId","coinName","pathPrefix","pathSuffix","showOnOnekeyFn","arrIndex","EveryItem","LastItem","baseGetDeviceAccountPublicKeys","sdkGetPublicKeysFn","baseGetDeviceAccountAddresses","sdkGetAddressFn","getAllNetworkPrepareAccounts","hwSdkNetwork","buildPath","buildResultAccount","hwAllNetworkPrepareAccountsResponse","resultAccounts","_loop","find","item","network","success","payload","hasErrorItem","error","indexOf","KeyringHdBase","_KeyringSoftwareBase","KeyringImportedBase","ownKeys","e","keys","getOwnPropertySymbols","o","filter","getOwnPropertyDescriptor","enumerable","_objectSpread","forEach","getOwnPropertyDescriptors","defineProperties","defineProperty","KeyringSoftwareBase","_baseGetCredentialsInfo","_baseSignTransactionBtc","_baseSignTransaction","_baseSignMessage","_baseSignMessageBtc","_basePrepareAccountsImported","_basePrepareAccountsImportedUtxo","_basePrepareAccountsHd","_basePrepareAccountsHdUtxo","_baseExportAccountSecretKeys","_baseGetPrivateKeys","baseGetCredentialsInfo","password","getCredential","credential","accountId","baseSignTransactionBtc","coreApi","unsignedTx","signOnly","credentials","networkInfo","getCoreApiNetworkInfo","btcExtraInfo","relPaths","prepareBtcSignExtraInfo","signTransaction","baseSignTransaction","baseSignMessage","messages","Promise","map","unsignedMsg","baseSignMessageBtc","_this2","unsignedMessage","basePrepareAccountsImported","importedCredential","networks","createAtNetwork","privateKey","onlyAvailableOnCertainNetworks","coinTypeDefault","privateKeyRaw","getAddressFromPrivate","addressEncoding","addressUsed","buildImportedAccountId","resolve","basePrepareAccountsImportedUtxo","_x8","basePrepareAccountsHd","_ref2","_this3","getAddressesFromHd","hdCredential","_x10","_x9","basePrepareAccountsHdUtxo","_ref3","_this4","getCredentialsInfo","getAddressesFromHdDone","_x13","_x11","_x12","baseExportAccountSecretKeys","keyType","serviceNetwork","getDeriveTypeByTemplate","getExportedSecretKey","_x14","baseGetPrivateKeys","getPrivateKeys","_x15","KeyringWatchingBase","_signTransaction","_signMessage","_basePrepareUtxoWatchingAccounts","_basePrepareSimpleWatchingAccounts","intl","formatMessage","ETranslations","wallet_error_trade_with_watched_acocunt","basePrepareUtxoWatchingAccounts","isUrlAccount","buildWatchingAccountId","addressFromXpub","getAddressFromPublic","basePrepareSimpleWatchingAccounts","SIMPLE","_excluded","_excluded2","VaultBase","_VaultBaseChainOnly","uuid","mutexBuildOnChainHistoryTxGetDBAccount","_init","_initKeyring","_broadcastTransaction","_broadcastTransactionFromCustomRpc","_validateSendAmount","_buildOnChainHistoryTxExtraInfo","_precheckUnsignedTx","_buildEstimateFeeParams","_buildParseTransactionParams","_buildFetchHistoryListParams","_buildHistoryTx","_buildOnChainHistoryTx","_buildHistoryTxAction","_buildHistoryTxFunctionCallAction","_buildHistoryTxUnknownAction","_buildHistoryTransferAction","_buildTxTransferAssetAction","_buildInternalSwapAction","_buildInternalStakingAction","_getAccount","_getAccountAddress","_getAccountPath","_getAccountXpub","_fillTokensDetails","_fillAccountDetails","_isEarliestLocalPendingTx","_buildReplaceEncodedTx","_attachFeeInfoToDAppEncodedTx","_activateToken","_getAddressType","_fetchAccountDetails","_fetchAccountDetailsByApi","_fetchAccountDetailsByRpc","_fetchTokenList","_fetchTokenListByApi","_fetchTokenListByRpc","_estimateFee","_estimateFeeByApi","_estimateFeeByRpc","_fetchAccountHistoryDetail","_fetchAccountHistoryDetailByApi","_fetchAccountHistoryDetailByRpc","_buildOkxSwapEncodedTx","_proto2","init","config","initKeyring","_x16","isChainOnly","keyring","keyringCreator","_x17","broadcastTransaction","signedTx","txid","serviceSend","encodedTx","_x18","broadcastTransactionFromCustomRpc","_x19","validateSendAmount","_x20","buildOnChainHistoryTxExtraInfo","onChainHistoryTx","_x21","precheckUnsignedTx","_x22","buildEstimateFeeParams","_x23","buildParseTransactionParams","_x24","buildFetchHistoryListParams","_x25","buildHistoryTx","historyTxToMerge","decodedTx","isSigner","isLocalCreated","dbAccount","accountAddress","serviceAccount","getAccountAddressForApi","getAccountXpub","owner","signer","historyTx","buildLocalHistoryId","_x26","fixOnChainHistoryAccountData","originAccountId","originNetworkId","originAccountAddress","originXpub","allNetworkHistoryExtraItems","onekeyall","allNetworkAccount","i","_","txXpub","accountXpub","buildOnChainHistoryTx","tokens","nfts","dbAccountCache","runExclusive","getDBAccountSafe","vaultSettings","action","buildHistoryTxAction","tx","to","nonce","actions","status","totalFeeInNative","gasFee","totalFeeFiatValue","gasFeeFiatValue","nativeAmount","isUtxo","extraInfo","label","updatedAt","Date","getTime","createdAt","isFinal","_x27","Approve","tokenApprove","buildHistoryTxApproveAction","sends","receives","buildHistoryTxFunctionCallAction","buildHistoryTxUnknownAction","buildHistoryTransferAction","_x28","getNetwork","FUNCTION_CALL","functionCall","functionName","functionHash","functionCode","_x29","UNKNOWN","unknownAction","_x30","ASSET_TRANSFER","assetTransfer","send","buildHistoryTransfer","transfer","receive","_x31","icon","symbol","isNFT","isNative","price","tokenAddress","token","tokenIdOnNetwork","amount","isOwn","decimals","TOKEN_APPROVE","spender","shiftedBy","toFixed","isInfiniteAmount","buildTxTransferAssetAction","transfers","data","application","isInternalSwap","isInternalStaking","internalStakingLabel","swapReceivedAddress","swapReceivedNetworkId","getAccountAddress","sendNativeTokenAmountBN","OUT","plus","nativeAmountValue","convertAmountToChainValue","_x32","buildInternalSwapAction","_swapSendToken$logoUR","_swapSendToken$name","_swapReceiveToken$log","_swapReceiveToken$nam","_providerInfo$provide","swapData","swapInfo","swapToAddress","swapSendToken","sender","swapReceiveToken","receiver","providerInfo","swapBuildResData","info","otherFeeInfos","otherFeeInfoTransfers","contractAddress","logoURI","accountInfo","receivingAddress","feeInfo","_feeInfo$token$logoUR","_feeInfo$token$name","providerName","providerLogo","_x33","buildInternalStakingAction","_send$token$logoURI","_send$token$name","_receive$token$logoUR","_receive$token$name","stakingInfo","stakingData","stakingToAddress","protocol","protocolLogoURI","_x34","_params$signOnly","_signedTx$encodedTx","_x35","getDBAccount","isAccountCompatibleWithNetwork","slice","getNetworkInfo","externalAccount","externalAccountAddress","connectedAddresses","buildExternalAccountAddress","fallbackIndex","_externalAccount$sele","selectedAddress","getNetworkImpl","addressDetail","buildAccountAddressDetail","allowEmptyAddress","isValid","getAccountPath","networkAccount","getXpubFromAccount","fillTokensDetails","tokensDetails","_x36","fillAccountDetails","accountDetails","_x37","isEarliestLocalPendingTx","_x38","buildReplaceEncodedTx","replaceType","_x39","attachFeeInfoToDAppEncodedTx","_x40","activateToken","_x41","getAddressType","_x42","buildStakeEncodedTx","fetchAccountDetails","isCustomNetwork","fetchAccountDetailsByRpc","fetchAccountDetailsByApi","_x43","queryParams","client","serviceAccountProfile","getClient","Wallet","get","headers","_getWalletTypeHeader","signal","_x44","_x45","fetchTokenList","fetchTokenListByRpc","fetchTokenListByApi","_x46","serviceToken","requestApiParams","flag","contractList","contract","post","_x47","_x48","estimateFee","estimateFeeByRpc","estimateFeeByApi","_x49","rest","serviceGas","_x50","_x51","fetchAccountHistoryDetail","fetchAccountHistoryDetailByRpc","fetchAccountHistoryDetailByApi","_x52","_x53","_x54","buildOkxSwapEncodedTx","_x55","VaultBaseChainOnly","_getXpubFromAccount","_proxyJsonRPCCall","_addressFromBase","_addressToBase","_baseValidatePrivateKey","_baseValidateGeneralInput","_baseGetPrivateKeyFromImported","_validateAmountInputShown","_checkIsDomainName","_resolveDomainName","_getCustomRpcEndpointStatus","_checkFeeSupportInfo","_fetchTokenDetails","_fetchTokenDetailsByApi","_fetchTokenDetailsByRpc","proxyJsonRPCCall","request","addressFromBase","addressToBase","baseValidatePrivateKey","baseValidateGeneralInput","addressResult","xpubResult","xprvtResult","privateKeyResult","encodedText","validateAddress","validateXprvt","validateXpub","validatePrivateKey","inputDecoded","baseGetPrivateKeyFromImported","stripHexPrefix","text","validateAmountInputShown","toAddress","checkIsDomainName","resolveDomainName","getCustomRpcEndpointStatus","checkFeeSupportInfo","fetchTokenDetails","fetchTokenDetailsByRpc","fetchTokenDetailsByApi","_params$signal","VaultContext","getWalletIdFromAccountId","_getNetworkId","_getNetwork","_getNetworkChainId","_getNetworkImpl","_getVaultSettings2","_getNetworkInfo","_getCoreApiNetworkInfo","_getRpcUrl","_destroy","getNetworkId","cached","_network","getNetworkChainId","hex","addressPrefix","curve","networkImpl","chainId","isTestnet","networkChainCode","code","getRpcUrl","destroy","KeyringExternal","_KeyringExternalBase","KeyringHardware","_KeyringHardwareBase","coreChainApi","ton","_prepareAccounts","showOnOneKey","publicKeys","allNetworkAccounts","p","accountUtils","buildPathFromTemplate","addressInfo","_account$pub","sdk","deviceCommonParams","version","serializeUnsignedTx","sendMode","PAY_GAS_SEPARATELY","IGNORE_ERRORS","versionMap","v4R2","TonWalletVersion","V4R2","hwParams","destination","tonAmount","seqno","sequenceNo","expireAt","validUntil","comment","isRawData","mode","walletVersion","jetton","jettonAmount","jettonMasterAddress","jettonWalletAddress","fwdFee","fwdPayload","decodedPayload","_decodedPayload","extDestination","extTonAmount","extPayload","extMsg","_extMsg$payload","tonSignMessage","signature","bufferUtils","hexToBytes","signingMessage","signingMessageHexFromHw","signning_message","signingMessageHex","toBoc","signingMessageHash","skip_validate","appLocale","feedback_failed_to_sign_transaction","externalMessage","rawTx","isProof","_msg$payload$appDomai","tonSignProof","appdomain","KeyringHd","_KeyringHdBase","_getPrivateKeys","_signedTx$signature","rawTxUnsigned","hexUtils","hexlify","noPrefix","KeyringImported","_KeyringImportedBase","KeyringWatching","_KeyringWatchingBase","ClientTon","url","rpc","JsonRPCRequest","_getMasterChainInfo","_sendBocReturnHash","getMasterChainInfo","masterChainResponse","sequenceNumber","last","blockHeight","sendBocReturnHash","boc","convertHashToTxId","str","raw","charCodeAt","Vault","_VaultBase","keyringMap","qr","hw","_buildAccountAddressDetail","_buildEncodedTx","_buildDecodedTx","_buildUnsignedTx","_updateUnsignedTx","_validateAddress","_validateXpub","_validateXprvt","_validateGeneralInput","normalizedAddress","displayAddress","baseAddress","buildEncodedTx","transfersInfo","fromAddress","tokenInfo","memo","toNano","forwardPayload","jettonAddress","masterAddress","tokenAmount","forwardAmount","responseAddress","buildDecodedTx","_encodedTx$sequenceNo","_feeInfo$gas$gasPrice","_feeInfo$gas$gasLimit","_message$jetton$jetto","_token$logoURI","_token$symbol","_token$name","_token$address","_message$jetton$toAdd","jettonData","catch","jettonMinterAddress","getToken","direction","OTHER","Pending","common","feeDecimals","feeSymbol","nativeDecimals","nativeSymbol","gas","gasPrice","gasLimit","buildUnsignedTx","_params$encodedTx","_params$transfersInfo","updateUnsignedTx","nonceInfo","now","nativeAmountInfo","maxSendAmount","_token$decimals","ROUND_FLOOR","getPrivateKeyFromImported","xprvt","validateGeneralInput","deriveInfoItems","values","accountDeriveInfo","body","ignore_chksig","init_code","init_data","rpcUrl","start","performance","responseTime","bestBlockNumber","customRpcInfo","txId","okxTx","_resp$balance","precheckTiming","E","Confirm","resp","withNetWorth","nativeBalance","balance","acc","current","minus","isGreaterThanOrEqualTo","swap_page_toast_insufficient_balance_content","number","default","EAddressEncodings","TON_V4R2","importedAccountEnabled","hardwareAccountEnabled","externalAccountEnabled","watchingAccountEnabled","defaultFeePresetIndex","isSingleToken","NFTEnabled","nonceRequired","feeUTXORequired","editFeeEnabled","replaceTxEnabled","estimatedFeePollingInterval","customRpcEnabled","supportExportedSecretKeys","ECoreApiExportedSecretKeyType","mnemonic","withMemo","memoMaxLength","useRemoteTxId","fixConfirmedTxEnabled","freeze","EVaultKeyringTypes","EWrappedType","normalizePayload","method","jsonrpc","timeout","assign","parseRPCResponse","response","_call","_batchCall","_batchChunkCall","assembleHeaders","JSON","stringify","_error$response$statu","isAxiosError","batchCall","calls","ignoreSoloError","autoFallbackToRpcSingle","jsonResponses","c","Array","isArray","_error$response$statu2","sort","idA","idB","batchChunkCall","payloads","flattenedCalls","flat","flattenedResults","results","startIndex","chunk","chunkSize","timeoutSignal","Number","isInteger","TypeError","controller","AbortController","timeoutId","setTimeout","abort","unref"],"sourceRoot":""}