{"version":3,"file":"static/js/21994.c139715f96.chunk.js","mappings":"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","sources":["webpack://web/../../packages/core/src/utils/coinSelectUtils.ts","webpack://web/../../packages/core/src/utils/index.ts","webpack://web/../../packages/kit-bg/src/vaults/base/KeyringBase.ts","webpack://web/../../packages/kit-bg/src/vaults/base/KeyringHardwareBase.ts","webpack://web/../../packages/kit-bg/src/vaults/base/KeyringHdBase.ts","webpack://web/../../packages/kit-bg/src/vaults/base/KeyringImportedBase.ts","webpack://web/../../packages/kit-bg/src/vaults/base/KeyringQrBase.ts","webpack://web/../../packages/kit-bg/src/vaults/base/KeyringSoftwareBase.ts","webpack://web/../../packages/kit-bg/src/vaults/base/KeyringWatchingBase.ts","webpack://web/../../packages/kit-bg/src/vaults/base/VaultBase.ts","webpack://web/../../packages/kit-bg/src/vaults/base/VaultContext.ts","webpack://web/../../packages/kit-bg/src/vaults/impls/btc/KeyringHardwareBtcBase.ts","webpack://web/../../packages/kit-bg/src/vaults/impls/btc/KeyringHd.ts","webpack://web/../../packages/kit-bg/src/vaults/impls/btc/KeyringImported.ts","webpack://web/../../packages/kit-bg/src/vaults/impls/btc/KeyringQr.ts","webpack://web/../../packages/core/src/chains/btc/sdkBtc/verify.ts","webpack://web/../../packages/kit-bg/src/vaults/impls/btc/KeyringWatching.ts","webpack://web/../../packages/kit-bg/src/vaults/impls/btc/KeyringHardware.ts","webpack://web/../../packages/kit-bg/src/vaults/impls/btc/sdkBtc/ClientBtc.ts","webpack://web/../../packages/kit-bg/src/vaults/impls/btc/Vault.ts","webpack://web/../../packages/shared/src/consts/chainConsts.ts","webpack://web/../../packages/kit-bg/src/vaults/types.ts"],"sourcesContent":["import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _isNil from\"lodash/isNil\";function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}import coinSelectAuto from'@onekeyfe/coinselect';import coinSelectAccumulative from'@onekeyfe/coinselect/accumulative';import coinSelectBlackjack from'@onekeyfe/coinselect/blackjack';import coinSelectBreak from'@onekeyfe/coinselect/break';import coinSelectSplit from'@onekeyfe/coinselect/split';import coinSelectUtils from'@onekeyfe/coinselect/utils';import coinSelectWitness from'@onekeyfe/coinselect/witness';import{defaultLogger}from'@onekeyhq/shared/src/logger/logger';import{EAddressEncodings}from\"../types\";function utxoScore(x,feeRate){return x.value-feeRate*coinSelectUtils.inputBytes(x);}function sortUtxo({utxos,feeRate}){return utxos.concat().sort(function(a,b){if(a.forceSelect){return-1;}if(b.forceSelect){return 1;}return utxoScore(b,feeRate)-utxoScore(a,feeRate);});}export function coinSelectAccumulativeDesc(utxos,outputs,feeRate){utxos=sortUtxo({utxos,feeRate});return coinSelectAccumulative(utxos,outputs,feeRate);}export var coinSelect=function({inputsForCoinSelect,outputsForCoinSelect,feeRate,algorithm='auto'}){var max=outputsForCoinSelect.some(function(o){return o.type==='send-max';});var validAmount=outputsForCoinSelect.every(function(o){if(o.type==='send-max'){return typeof o.value==='undefined';}return typeof o.value==='number'&&!Number.isNaN(o.value);});if(!validAmount){throw new Error('coinSelect ERROR: Invalid amount in outputs, you should specify valid value or isMax');}var finalOutputs=outputsForCoinSelect.map(function(o){return{address:o.address,value:o.type==='send-max'?undefined:o.value,script:o.script};});var unspentSelectFn=max?coinSelectSplit:coinSelectAuto;if(algorithm==='accumulative_desc'){unspentSelectFn=coinSelectAccumulativeDesc;}if(algorithm==='accumulative'){unspentSelectFn=coinSelectAccumulative;}if(algorithm==='blackjack'){unspentSelectFn=coinSelectBlackjack;}if(algorithm==='break'){unspentSelectFn=coinSelectBreak;}if(algorithm==='split'){unspentSelectFn=coinSelectSplit;}var{inputs,outputs,fee}=unspentSelectFn(inputsForCoinSelect,finalOutputs,parseInt(feeRate,10));if(_isNil(fee)){throw new Error('coinSelect ERROR: No fee found');}return{inputs,outputs,fee};};export var getCoinSelectTxType=function(encoding){switch(encoding){case EAddressEncodings.P2PKH:return'p2pkh';case EAddressEncodings.P2SH_P2WPKH:return'p2sh';case EAddressEncodings.P2WPKH:return'p2wpkh';case EAddressEncodings.P2TR:return'p2tr';case EAddressEncodings.P2WSH:return'p2wsh';default:throw new Error('coinSelect ERROR: Invalid encoding');}};export function coinSelectWithWitness(params){var{inputsForCoinSelect,outputsForCoinSelect,feeRate,network,changeAddress,txType}=params;var coinselectParams={utxos:inputsForCoinSelect.map(function(u){return _objectSpread(_objectSpread({},u),{},{own:true,coinbase:false,txid:u.txId});}),outputs:outputsForCoinSelect,feeRate,network,changeAddress,txType};try{return coinSelectWitness(coinselectParams);}catch(error){defaultLogger.transaction.coinSelect.coinSelectFailed(coinselectParams);return{inputs:undefined,outputs:undefined,fee:undefined,bytes:undefined};}}","import coinselectUtils from'@onekeyfe/coinselect/utils';import accountUtils from'@onekeyhq/shared/src/utils/accountUtils';export function slicePathTemplate(template){return accountUtils.slicePathTemplate(template);}export function getUtxoAccountPrefixPath({fullPath}){var pathComponent=fullPath.split('/');pathComponent.pop();pathComponent.pop();var prefixPath=pathComponent.join('/');return prefixPath;}export function getBIP44Path(account,address){var realPath='';for(var[key,value]of Object.entries(account.addresses)){if(value===address){realPath=key;break;}}return`${account.path}/${realPath}`;}export function estimateTxSize(inputsForCoinSelect,outputsForCoinSelect){return coinselectUtils.transactionBytes(inputsForCoinSelect,outputsForCoinSelect);}","import _isNil from\"lodash/isNil\";import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import{NotImplemented}from'@onekeyhq/shared/src/errors';import{defaultLogger}from'@onekeyhq/shared/src/logger/logger';import accountUtils from'@onekeyhq/shared/src/utils/accountUtils';import timerUtils from'@onekeyhq/shared/src/utils/timerUtils';import{EDBAccountType}from\"../../dbs/local/consts\";import{EVaultKeyringTypes}from\"../types\";import{VaultContext}from\"./VaultContext\";export var KeyringBase=function(_VaultContext){_inherits(KeyringBase,_VaultContext);var _super=_createSuper(KeyringBase);function KeyringBase(vault){var _this;_this=_super.call(this,vault.options);_this.vault=vault;if(_this.vault.networkId!==vault.options.networkId){throw new Error('KeyringBase ERROR: networkId not match1');}if(_this.networkId!==vault.options.networkId){throw new Error('KeyringBase ERROR: networkId not match2');}return _this;}var _proto=KeyringBase.prototype;_proto.isKeyringImported=function isKeyringImported(){return this.keyringType===EVaultKeyringTypes.imported;};_proto.isKeyringHd=function isKeyringHd(){return this.keyringType===EVaultKeyringTypes.hd;};_proto.isKeyringHardware=function isKeyringHardware(){return this.keyringType===EVaultKeyringTypes.hardware;};_proto.isKeyringWatching=function isKeyringWatching(){return this.keyringType===EVaultKeyringTypes.watching;};_proto.basePrepareHdNormalAccounts=function(){var _basePrepareHdNormalAccounts=_asyncToGenerator(function*(params,options){var{walletId}=this;if(!walletId){throw new Error('walletId is not defined');}var{names,deriveInfo,indexes}=params;var{coinType,template,namePrefix,idSuffix}=deriveInfo;if(!coinType){throw new Error('coinType is not defined');}var settings=yield this.getVaultSettings();var{accountType}=settings;var{buildAddressesInfo}=options;var usedIndexes=indexes;var addressInfos=yield buildAddressesInfo({usedIndexes});var ret=[];for(var idx=0;idx<addressInfos.length;idx+=1){var{path,publicKey,address,addresses,relPath}=addressInfos[idx];if(!path){throw new Error('KeyringHD prepareAccounts ERROR: path not found');}if(accountType===EDBAccountType.VARIANT&&!addresses){throw new Error('addresses is required for variant account');}if(accountType===EDBAccountType.VARIANT&&address){throw new Error('address should not set for variant account');}var pathIndex=usedIndexes[idx];var name=names?.[idx]||accountUtils.buildHDAccountName({pathIndex,namePrefix});var id=accountUtils.buildHDAccountId({walletId,path,idSuffix});var indexedAccountId=accountUtils.buildIndexedAccountId({walletId,index:pathIndex});ret.push({id,name,type:accountType,path,pathIndex,relPath,indexedAccountId,coinType,impl:settings.impl,pub:publicKey,address,addresses,template});}return ret;});function basePrepareHdNormalAccounts(_x,_x2){return _basePrepareHdNormalAccounts.apply(this,arguments);}return basePrepareHdNormalAccounts;}();_proto.basePrepareHdUtxoAccounts=function(){var _basePrepareHdUtxoAccounts=_asyncToGenerator(function*(params,options){var{walletId}=this;if(!walletId){throw new Error('walletId is undefined');}var{indexes,deriveInfo,names,skipCheckAccountExist=true}=params;var{coinType,template,namePrefix}=deriveInfo;if(!coinType){throw new Error('coinType is not defined');}var settings=yield this.getVaultSettings();var{accountType}=settings;if(accountType!==EDBAccountType.UTXO){throw new Error('accountType is not utxo');}var{checkIsAccountUsed,buildAddressesInfo}=options;var ignoreFirst=false;var usedIndexes=[...(ignoreFirst?[indexes[0]-1]:[]),...indexes];defaultLogger.account.accountCreatePerf.utxoBuildAddressesInfo();var addressesInfo=yield buildAddressesInfo({usedIndexes});defaultLogger.account.accountCreatePerf.utxoBuildAddressesInfoDone();defaultLogger.account.accountCreatePerf.buildDBUtxoAccounts();var ret=[];var idx=0;for(var{path,relPath,publicKey,xpub,xpubSegwit,address,addresses}of addressesInfo){if(!path||_isNil(xpub)||!addresses){throw new Error('basePrepareHdUtxoAccounts ERROR: path or xpub or addresses is undefined');}if(!relPath){throw new Error('basePrepareHdUtxoAccounts ERROR: relPath is undefined');}var prefix=namePrefix;var pathIndex=usedIndexes[idx];var name=names?.[idx]||`${prefix} #${pathIndex+1}`;var id=`${this.walletId}--${path}`;if(!ignoreFirst||idx>0){var indexedAccountId=accountUtils.buildIndexedAccountId({walletId:this.walletId,index:pathIndex});ret.push({id,name,type:accountType,path,pathIndex,indexedAccountId,relPath,coinType,impl:settings.impl,pub:publicKey,xpub,xpubSegwit,address,addresses,template});}var isLast=idx===addressesInfo.length-1;if(!skipCheckAccountExist&&!isLast&&checkIsAccountUsed){var{isUsed}=yield checkIsAccountUsed({xpub,xpubSegwit,address});if(!isUsed){break;}yield timerUtils.wait(200);}idx+=1;}defaultLogger.account.accountCreatePerf.buildDBUtxoAccountsDone();return ret;});function basePrepareHdUtxoAccounts(_x3,_x4){return _basePrepareHdUtxoAccounts.apply(this,arguments);}return basePrepareHdUtxoAccounts;}();_proto.batchGetAddresses=function(){var _batchGetAddresses=_asyncToGenerator(function*(params){return[];});function batchGetAddresses(_x5){return _batchGetAddresses.apply(this,arguments);}return batchGetAddresses;}();_proto.exportAccountSecretKeys=function(){var _exportAccountSecretKeys=_asyncToGenerator(function*(params){throw new NotImplemented();});function exportAccountSecretKeys(_x6){return _exportAccountSecretKeys.apply(this,arguments);}return exportAccountSecretKeys;}();_proto.buildHwAllNetworkPrepareAccountsParams=function(){var _buildHwAllNetworkPrepareAccountsParams=_asyncToGenerator(function*(params){return undefined;});function buildHwAllNetworkPrepareAccountsParams(_x7){return _buildHwAllNetworkPrepareAccountsParams.apply(this,arguments);}return buildHwAllNetworkPrepareAccountsParams;}();_proto.buildPrepareAccountsPrefixedPath=function buildPrepareAccountsPrefixedPath(params){throw new NotImplemented();};return _createClass(KeyringBase);}(VaultContext);export var KeyringBaseMock=function(_KeyringBase){_inherits(KeyringBaseMock,_KeyringBase);var _super2=_createSuper(KeyringBaseMock);function KeyringBaseMock(){return _super2.apply(this,arguments);}return _createClass(KeyringBaseMock);}(KeyringBase);","import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import{slicePathTemplate}from'@onekeyhq/core/src/utils';import appGlobals from'@onekeyhq/shared/src/appGlobals';import{OneKeyInternalError,UnsupportedAddressTypeError}from'@onekeyhq/shared/src/errors';import{convertDeviceError,convertDeviceResponse}from'@onekeyhq/shared/src/errors/utils/deviceErrorUtils';import{HardwareSDK}from'@onekeyhq/shared/src/hardware/instance';import{defaultLogger}from'@onekeyhq/shared/src/logger/logger';import{EConfirmOnDeviceType}from'@onekeyhq/shared/types/device';import{EVaultKeyringTypes}from\"../types\";import{KeyringBase}from\"./KeyringBase\";export var KeyringHardwareBase=function(_KeyringBase){_inherits(KeyringHardwareBase,_KeyringBase);var _super=_createSuper(KeyringHardwareBase);function KeyringHardwareBase(...args){var _this;_this=_super.call(this,...args);_this.keyringType=EVaultKeyringTypes.hardware;return _this;}var _proto=KeyringHardwareBase.prototype;_proto.getHardwareSDKInstance=function(){var _getHardwareSDKInstance=_asyncToGenerator(function*(){var _ref;defaultLogger.account.accountCreatePerf.getHardwareSDKInstance();var sdk=yield appGlobals?.$backgroundApiProxy?.backgroundApi?.serviceHardware?.getSDKInstance?.();var r=(_ref=sdk)!=null?_ref:HardwareSDK;defaultLogger.account.accountCreatePerf.getHardwareSDKInstanceDone();return r;});function getHardwareSDKInstance(){return _getHardwareSDKInstance.apply(this,arguments);}return getHardwareSDKInstance;}();_proto.baseGetDeviceAccountData=function(){var _baseGetDeviceAccountData=_asyncToGenerator(function*({params,usedIndexes,sdkGetDataFn,errorMessage}){var{deriveInfo,deviceParams}=params;var{dbDevice,confirmOnDevice}=deviceParams;var{connectId,deviceId}=dbDevice;var{template,coinName}=deriveInfo;var{pathPrefix,pathSuffix}=slicePathTemplate(template);var showOnOnekeyFn=function(arrIndex){if(confirmOnDevice===EConfirmOnDeviceType.EveryItem){return true;}if(confirmOnDevice===EConfirmOnDeviceType.LastItem){return arrIndex===usedIndexes[usedIndexes.length-1];}return false;};var result=yield convertDeviceResponse(_asyncToGenerator(function*(){return sdkGetDataFn({connectId,deviceId,pathPrefix,pathSuffix,template,coinName,showOnOnekeyFn});}));if(!result||result.length!==usedIndexes.length){throw new OneKeyInternalError(errorMessage);}return result;});function baseGetDeviceAccountData(_x){return _baseGetDeviceAccountData.apply(this,arguments);}return baseGetDeviceAccountData;}();_proto.baseGetDeviceAccountPublicKeys=function(){var _baseGetDeviceAccountPublicKeys=_asyncToGenerator(function*({params,usedIndexes,sdkGetPublicKeysFn}){return this.baseGetDeviceAccountData({params,usedIndexes,sdkGetDataFn:sdkGetPublicKeysFn,errorMessage:'Unable to get public keys.'});});function baseGetDeviceAccountPublicKeys(_x2){return _baseGetDeviceAccountPublicKeys.apply(this,arguments);}return baseGetDeviceAccountPublicKeys;}();_proto.baseGetDeviceAccountAddresses=function(){var _baseGetDeviceAccountAddresses=_asyncToGenerator(function*({params,usedIndexes,sdkGetAddressFn}){return this.baseGetDeviceAccountData({params,usedIndexes,sdkGetDataFn:sdkGetAddressFn,errorMessage:'Unable to get addresses.'});});function baseGetDeviceAccountAddresses(_x3){return _baseGetDeviceAccountAddresses.apply(this,arguments);}return baseGetDeviceAccountAddresses;}();_proto.getAllNetworkPrepareAccounts=function(){var _getAllNetworkPrepareAccounts=_asyncToGenerator(function*({hwSdkNetwork,params,usedIndexes,buildPath,buildResultAccount}){if(!hwSdkNetwork){return undefined;}var{hwAllNetworkPrepareAccountsResponse}=params;if(hwAllNetworkPrepareAccountsResponse?.length){var resultAccounts=[];var _loop=function*(){var path=yield buildPath({index});var account=hwAllNetworkPrepareAccountsResponse?.find(function(item){return item.network&&item.path===path&&item.network===hwSdkNetwork;});if(account&&account.success){resultAccounts.push(buildResultAccount({account,index}));}};for(var index of usedIndexes){yield*_loop();}if(resultAccounts.length===usedIndexes.length){return{success:true,payload:resultAccounts};}var hasErrorItem=hwAllNetworkPrepareAccountsResponse?.find(function(item){return!item.success&&!!item.payload?.error;});if(!hasErrorItem?.success&&hasErrorItem?.payload?.error){if(hasErrorItem?.payload?.error?.indexOf('Failure_DataError,Forbidden key path')!==-1){throw new UnsupportedAddressTypeError();}throw convertDeviceError(hasErrorItem.payload);}throw new OneKeyInternalError('SDK GetAllNetworkAccounts Failed');}});function getAllNetworkPrepareAccounts(_x4){return _getAllNetworkPrepareAccounts.apply(this,arguments);}return getAllNetworkPrepareAccounts;}();return _createClass(KeyringHardwareBase);}(KeyringBase);","import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import{EVaultKeyringTypes}from\"../types\";import{KeyringSoftwareBase}from\"./KeyringSoftwareBase\";export var KeyringHdBase=function(_KeyringSoftwareBase){_inherits(KeyringHdBase,_KeyringSoftwareBase);var _super=_createSuper(KeyringHdBase);function KeyringHdBase(...args){var _this;_this=_super.call(this,...args);_this.keyringType=EVaultKeyringTypes.hd;return _this;}return _createClass(KeyringHdBase);}(KeyringSoftwareBase);","import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import{EVaultKeyringTypes}from\"../types\";import{KeyringSoftwareBase}from\"./KeyringSoftwareBase\";export var KeyringImportedBase=function(_KeyringSoftwareBase){_inherits(KeyringImportedBase,_KeyringSoftwareBase);var _super=_createSuper(KeyringImportedBase);function KeyringImportedBase(...args){var _this;_this=_super.call(this,...args);_this.keyringType=EVaultKeyringTypes.imported;return _this;}return _createClass(KeyringImportedBase);}(KeyringSoftwareBase);","import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import{OneKeyRequestDeviceQR}from'@onekeyhq/qr-wallet-sdk/src/OneKeyRequestDeviceQR';import{NotImplemented,OneKeyErrorAirGapInvalidQrCode}from'@onekeyhq/shared/src/errors';import accountUtils from'@onekeyhq/shared/src/utils/accountUtils';import{checkIsDefined}from'@onekeyhq/shared/src/utils/assertUtils';import{generateUUID}from'@onekeyhq/shared/src/utils/miscUtils';import localDb from\"../../dbs/local/localDb\";import{UR_DEFAULT_ORIGIN}from\"../../services/ServiceQrWallet/qrWalletConsts\";import{EVaultKeyringTypes}from\"../types\";import{KeyringBase}from\"./KeyringBase\";export var KeyringQrBase=function(_KeyringBase){_inherits(KeyringQrBase,_KeyringBase);var _super=_createSuper(KeyringQrBase);function KeyringQrBase(...args){var _this;_this=_super.call(this,...args);_this.keyringType=EVaultKeyringTypes.qr;return _this;}var _proto=KeyringQrBase.prototype;_proto.getChildPathTemplates=function getChildPathTemplates(params){throw new NotImplemented();};_proto.getVerifyAddressChainParams=function(){var _getVerifyAddressChainParams=_asyncToGenerator(function*(query){throw new NotImplemented();});function getVerifyAddressChainParams(_x){return _getVerifyAddressChainParams.apply(this,arguments);}return getVerifyAddressChainParams;}();_proto.baseSignByQrcode=function(){var _baseSignByQrcode=_asyncToGenerator(function*(params,options){var wallet=yield localDb.getWallet({walletId:this.walletId});if(!wallet.associatedDevice){throw new Error('associatedDevice not found');}var device=yield localDb.getDevice(wallet.associatedDevice);var path=yield this.vault.getAccountPath();var account=yield this.vault.getAccount();var chainId=yield this.vault.getNetworkChainId();var requestId=generateUUID();var{airGapAccount}=yield this.findAirGapAccountByPath({path,wallet,index:checkIsDefined(account.pathIndex)});var xfp=airGapAccount?.xfp||wallet.xfp;if(!xfp){throw new Error('xfp not found');}var signRequestUr=yield options.signRequestUrBuilder({requestId,path,xfp,chainId,account,wallet});var{responseUr:signatureUr}=yield this.backgroundApi.serviceQrWallet.startTwoWayAirGapScanUr({requestUr:signRequestUr});var signedTx=yield options.signedResultBuilder({signatureUr,requestId});return signedTx;});function baseSignByQrcode(_x2,_x3){return _baseSignByQrcode.apply(this,arguments);}return baseSignByQrcode;}();_proto.findAirGapAccountByPath=function(){var _findAirGapAccountByPath=_asyncToGenerator(function*({path:fullPath,wallet,index}){var _this2=this;var childPathTemplate;var settings=yield this.getVaultSettings();var airGapAccount=wallet?.airGapAccountsInfo?.accounts?.find(function(eachAirGapAccount){if(eachAirGapAccount.path===fullPath){return true;}var{childPathTemplates}=_this2.getChildPathTemplates({airGapAccount:eachAirGapAccount,index});for(var childPathTpl of childPathTemplates){var template=[eachAirGapAccount.path,childPathTpl].filter(Boolean).join('/');var fullPathGenerated=accountUtils.buildPathFromTemplate({template,index});var r=fullPathGenerated===fullPath;if(r){childPathTemplate=childPathTpl;return true;}}return false;});return{airGapAccount,fullPath,childPathTemplate};});function findAirGapAccountByPath(_x4){return _findAirGapAccountByPath.apply(this,arguments);}return findAirGapAccountByPath;}();_proto.findAirGapAccountInPrepareAccounts=function(){var _findAirGapAccountInPrepareAccounts=_asyncToGenerator(function*(params,{index,wallet}){var fullPath=accountUtils.buildPathFromTemplate({template:params.deriveInfo.template,index});return this.findAirGapAccountByPath({wallet,index,path:fullPath});});function findAirGapAccountInPrepareAccounts(_x5,_x6){return _findAirGapAccountInPrepareAccounts.apply(this,arguments);}return findAirGapAccountInPrepareAccounts;}();_proto.findAirGapAccountByDbAccount=function(){var _findAirGapAccountByDbAccount=_asyncToGenerator(function*({wallet,dbAccount}){var{pathIndex,template}=dbAccount;var fullPath=accountUtils.buildPathFromTemplate({template:checkIsDefined(template),index:checkIsDefined(pathIndex)});return this.findAirGapAccountByPath({wallet,index:checkIsDefined(pathIndex),path:fullPath});});function findAirGapAccountByDbAccount(_x7){return _findAirGapAccountByDbAccount.apply(this,arguments);}return findAirGapAccountByDbAccount;}();_proto.verifyQrWalletAddressByTwoWayScan=function(){var _verifyQrWalletAddressByTwoWayScan=_asyncToGenerator(function*(params,{indexes}){var ret=[];var chain=yield this.backgroundApi.serviceQrWallet.getDeviceChainNameByNetworkId({networkId:this.networkId});var wallet=yield this.backgroundApi.serviceAccount.getWallet({walletId:this.walletId});var fullPath=accountUtils.buildPathFromTemplate({template:params.deriveInfo.template,index:indexes[0]});var requestQR=new OneKeyRequestDeviceQR({requestId:generateUUID(),xfp:wallet.xfp||'',origin:UR_DEFAULT_ORIGIN,method:'verifyAddress',params:[_objectSpread({chain,address:'',path:fullPath},yield this.getVerifyAddressChainParams({fullPath}))]});var requestUr=requestQR.toUR();var{raw}=yield this.backgroundApi.serviceQrWallet.startTwoWayAirGapScanUr({requestUr,allowPlainTextResponse:true});if(raw&&raw?.toLowerCase()?.startsWith('ur:')){throw new OneKeyErrorAirGapInvalidQrCode();}ret.push({address:raw||'',publicKey:'',path:fullPath,xpub:'',relPath:accountUtils.buildUtxoAddressRelPath(),addresses:{}});return ret;});function verifyQrWalletAddressByTwoWayScan(_x8,_x9){return _verifyQrWalletAddressByTwoWayScan.apply(this,arguments);}return verifyQrWalletAddressByTwoWayScan;}();return _createClass(KeyringQrBase);}(KeyringBase);","import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _isNil from\"lodash/isNil\";import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import{decryptImportedCredential}from'@onekeyhq/core/src/secret';import{OneKeyInternalError}from'@onekeyhq/shared/src/errors';import{defaultLogger}from'@onekeyhq/shared/src/logger/logger';import accountUtils from'@onekeyhq/shared/src/utils/accountUtils';import{checkIsDefined}from'@onekeyhq/shared/src/utils/assertUtils';import{noopObject}from'@onekeyhq/shared/src/utils/miscUtils';import localDb from\"../../dbs/local/localDb\";import{KeyringBase}from\"./KeyringBase\";export var KeyringSoftwareBase=function(_KeyringBase){_inherits(KeyringSoftwareBase,_KeyringBase);var _super=_createSuper(KeyringSoftwareBase);function KeyringSoftwareBase(){return _super.apply(this,arguments);}var _proto=KeyringSoftwareBase.prototype;_proto.baseGetCredentialsInfo=function(){var _baseGetCredentialsInfo=_asyncToGenerator(function*({password}){noopObject(password);var hd;var imported;if(this.isKeyringHd()){var credential=yield localDb.getCredential(checkIsDefined(this.walletId));hd=credential.credential;}if(this.isKeyringImported()){var _credential=yield localDb.getCredential(this.accountId);imported=_credential.credential;}return{hd,imported};});function baseGetCredentialsInfo(_x){return _baseGetCredentialsInfo.apply(this,arguments);}return baseGetCredentialsInfo;}();_proto.baseSignTransactionBtc=function(){var _baseSignTransactionBtc=_asyncToGenerator(function*(params){if(!this.coreApi){throw new Error('coreApi is not defined');}var vault=this.vault;var{password,unsignedTx,signOnly}=params;var credentials=yield this.baseGetCredentialsInfo(params);var networkInfo=yield this.getCoreApiNetworkInfo();var{account,btcExtraInfo,relPaths}=yield vault.prepareBtcSignExtraInfo({unsignedTx});var result=yield this.coreApi.signTransaction({networkInfo,unsignedTx,account,relPaths,password,credentials,btcExtraInfo,signOnly});return result;});function baseSignTransactionBtc(_x2){return _baseSignTransactionBtc.apply(this,arguments);}return baseSignTransactionBtc;}();_proto.baseSignTransaction=function(){var _baseSignTransaction=_asyncToGenerator(function*(params){if(!this.coreApi){throw new Error('coreApi is not defined');}var{password,unsignedTx}=params;var account=yield this.vault.getAccount();var credentials=yield this.baseGetCredentialsInfo(params);var networkInfo=yield this.getCoreApiNetworkInfo();var result=yield this.coreApi.signTransaction({networkInfo,password,account,credentials,unsignedTx});return result;});function baseSignTransaction(_x3){return _baseSignTransaction.apply(this,arguments);}return baseSignTransaction;}();_proto.baseSignMessage=function(){var _baseSignMessage=_asyncToGenerator(function*(params){var _this=this;if(!this.coreApi){throw new Error('coreApi is not defined');}var{password,messages}=params;var account=yield this.vault.getAccount();var credentials=yield this.baseGetCredentialsInfo(params);var networkInfo=yield this.getCoreApiNetworkInfo();var result=yield Promise.all(messages.map(function(msg){return checkIsDefined(_this.coreApi).signMessage({networkInfo,unsignedMsg:msg,account,password,credentials});}));return result;});function baseSignMessage(_x4){return _baseSignMessage.apply(this,arguments);}return baseSignMessage;}();_proto.baseSignMessageBtc=function(){var _baseSignMessageBtc=_asyncToGenerator(function*(params){var _this2=this;if(!this.coreApi){throw new Error('coreApi is not defined');}var vault=this.vault;var{password,messages}=params;var credentials=yield this.baseGetCredentialsInfo(params);var networkInfo=yield this.getCoreApiNetworkInfo();var result=yield Promise.all(messages.map(function(){var _ref=_asyncToGenerator(function*(msg){var{account,btcExtraInfo,relPaths}=yield vault.prepareBtcSignExtraInfo({unsignedMessage:msg});return checkIsDefined(_this2.coreApi).signMessage({networkInfo,unsignedMsg:msg,account,relPaths,password,credentials,btcExtraInfo});});return function(_x6){return _ref.apply(this,arguments);};}()));return result;});function baseSignMessageBtc(_x5){return _baseSignMessageBtc.apply(this,arguments);}return baseSignMessageBtc;}();_proto.basePrepareAccountsImported=function(){var _basePrepareAccountsImported=_asyncToGenerator(function*(params,options={}){if(!this.coreApi){throw new Error('coreApi is not defined');}var{name,importedCredential,password,networks,createAtNetwork}=params;var{privateKey}=decryptImportedCredential({credential:importedCredential,password});var settings=yield this.getVaultSettings();var{onlyAvailableOnCertainNetworks}=options;var accountType=options.accountType||settings.accountType;var impl=options.impl||settings.impl;var coinType=options.coinType||params.deriveInfo?.coinType||settings.coinTypeDefault;var networkInfo=yield this.getCoreApiNetworkInfo();var privateKeyRaw=privateKey;var{address,addresses,publicKey}=yield this.coreApi.getAddressFromPrivate({networkInfo,privateKeyRaw,addressEncoding:params.deriveInfo?.addressEncoding});var addressUsed='';if(onlyAvailableOnCertainNetworks){addressUsed=addresses?.[createAtNetwork]||'';if(!addressUsed){throw new Error(`imported account address is empty of network: ${createAtNetwork}`);}}var accountId=accountUtils.buildImportedAccountId({coinType,pub:publicKey,address:addressUsed,addressEncoding:params.deriveInfo?.addressEncoding});return Promise.resolve([{id:accountId,name:name||'',type:accountType,path:'',coinType,impl,networks:onlyAvailableOnCertainNetworks?networks:undefined,createAtNetwork,pub:publicKey,address,addresses}]);});function basePrepareAccountsImported(_x7){return _basePrepareAccountsImported.apply(this,arguments);}return basePrepareAccountsImported;}();_proto.basePrepareAccountsImportedUtxo=function(){var _basePrepareAccountsImportedUtxo=_asyncToGenerator(function*(params){if(!this.coreApi){throw new Error('coreApi is not defined');}var{name,importedCredential,password,createAtNetwork,deriveInfo}=params;var{privateKey}=decryptImportedCredential({credential:importedCredential,password});var addressEncoding=deriveInfo?.addressEncoding;var settings=yield this.getVaultSettings();var{coinTypeDefault:coinType,accountType}=settings;var networkInfo=yield this.getCoreApiNetworkInfo();var privateKeyRaw=privateKey;var{address,addresses,publicKey,xpub,relPath,xpubSegwit,path}=yield this.coreApi.getAddressFromPrivate({networkInfo,privateKeyRaw,addressEncoding});if(_isNil(xpub)||!addresses){throw new Error('xpub or addresses is undefined');}var accountId=accountUtils.buildImportedAccountId({coinType,xpub:xpub||publicKey,addressEncoding});return Promise.resolve([{id:accountId,name:name||'',type:accountType,path:path||'',relPath,coinType,impl:settings.impl,xpub,xpubSegwit,pub:publicKey,address,addresses,createAtNetwork}]);});function basePrepareAccountsImportedUtxo(_x8){return _basePrepareAccountsImportedUtxo.apply(this,arguments);}return basePrepareAccountsImportedUtxo;}();_proto.basePrepareAccountsHd=function(){var _basePrepareAccountsHd=_asyncToGenerator(function*(params){var _this3=this;var{template,addressEncoding}=params.deriveInfo;var{password}=params;var networkInfo=yield this.getCoreApiNetworkInfo();return this.basePrepareHdNormalAccounts(params,{buildAddressesInfo:function(){var _ref2=_asyncToGenerator(function*({usedIndexes}){if(!_this3.coreApi){throw new Error('coreApi is not defined');}var credentials=yield _this3.baseGetCredentialsInfo({password});var{addresses:addressInfos}=yield _this3.coreApi.getAddressesFromHd({networkInfo,template,hdCredential:checkIsDefined(credentials.hd),password,indexes:usedIndexes,addressEncoding});return addressInfos;});return function buildAddressesInfo(_x10){return _ref2.apply(this,arguments);};}()});});function basePrepareAccountsHd(_x9){return _basePrepareAccountsHd.apply(this,arguments);}return basePrepareAccountsHd;}();_proto.basePrepareAccountsHdUtxo=function(){var _basePrepareAccountsHdUtxo=_asyncToGenerator(function*(params,options){var _this4=this;var{password,indexes,deriveInfo,names,skipCheckAccountExist}=params;var addressEncoding=params?.deriveInfo?.addressEncoding;return this.basePrepareHdUtxoAccounts(params,_objectSpread(_objectSpread({},options),{},{buildAddressesInfo:function(){var _ref3=_asyncToGenerator(function*({usedIndexes}){var{coinType,template,namePrefix}=deriveInfo;defaultLogger.account.accountCreatePerf.getCredentialsInfo();var credentials=yield _this4.baseGetCredentialsInfo({password});if(!_this4.coreApi){throw new Error('coreApi is undefined');}defaultLogger.account.accountCreatePerf.getAddressesFromHd();var{addresses:addressesInfo}=yield _this4.coreApi.getAddressesFromHd({networkInfo:yield _this4.getCoreApiNetworkInfo(),template,hdCredential:checkIsDefined(credentials.hd),password,indexes:usedIndexes,addressEncoding});if(addressesInfo.length!==usedIndexes.length){throw new OneKeyInternalError('Unable to get address');}defaultLogger.account.accountCreatePerf.getAddressesFromHdDone();return addressesInfo;});return function buildAddressesInfo(_x13){return _ref3.apply(this,arguments);};}()}));});function basePrepareAccountsHdUtxo(_x11,_x12){return _basePrepareAccountsHdUtxo.apply(this,arguments);}return basePrepareAccountsHdUtxo;}();_proto.baseExportAccountSecretKeys=function(){var _baseExportAccountSecretKeys=_asyncToGenerator(function*(params){var{password,keyType,relPaths}=params;var account=yield this.vault.getAccount();var networkInfo=yield this.getCoreApiNetworkInfo();var credentials=yield this.baseGetCredentialsInfo({password});var{deriveInfo}=yield this.backgroundApi.serviceNetwork.getDeriveTypeByTemplate({networkId:this.networkId,template:account.template});var addressEncoding=deriveInfo?.addressEncoding;if(!this.coreApi){throw new Error('coreApi is not defined');}return this.coreApi.getExportedSecretKey({networkInfo,password,credentials,account,relPaths,keyType,addressEncoding});});function baseExportAccountSecretKeys(_x14){return _baseExportAccountSecretKeys.apply(this,arguments);}return baseExportAccountSecretKeys;}();_proto.baseGetPrivateKeys=function(){var _baseGetPrivateKeys=_asyncToGenerator(function*(params){var{password,relPaths}=params;if(!this.coreApi){throw new Error('coreApi is not defined');}var account=yield this.vault.getAccount();var credentials=yield this.baseGetCredentialsInfo({password});var networkInfo=yield this.getCoreApiNetworkInfo();var privateKeys=yield this.coreApi.getPrivateKeys({networkInfo,password,account,relPaths,credentials});return privateKeys;});function baseGetPrivateKeys(_x15){return _baseGetPrivateKeys.apply(this,arguments);}return baseGetPrivateKeys;}();return _createClass(KeyringSoftwareBase);}(KeyringBase);","import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import{InvalidAddress,OneKeyInternalError}from'@onekeyhq/shared/src/errors';import{ETranslations}from'@onekeyhq/shared/src/locale';import{appLocale}from'@onekeyhq/shared/src/locale/appLocale';import accountUtils from'@onekeyhq/shared/src/utils/accountUtils';import{checkIsDefined}from'@onekeyhq/shared/src/utils/assertUtils';import{EDBAccountType}from\"../../dbs/local/consts\";import{EVaultKeyringTypes}from\"../types\";import{KeyringBase}from\"./KeyringBase\";export var KeyringWatchingBase=function(_KeyringBase){_inherits(KeyringWatchingBase,_KeyringBase);var _super=_createSuper(KeyringWatchingBase);function KeyringWatchingBase(...args){var _this;_this=_super.call(this,...args);_this.keyringType=EVaultKeyringTypes.watching;return _this;}var _proto=KeyringWatchingBase.prototype;_proto.signTransaction=function(){var _signTransaction=_asyncToGenerator(function*(){throw new OneKeyInternalError(appLocale.intl.formatMessage({id:ETranslations.wallet_error_trade_with_watched_acocunt}));});function signTransaction(){return _signTransaction.apply(this,arguments);}return signTransaction;}();_proto.signMessage=function(){var _signMessage=_asyncToGenerator(function*(){throw new OneKeyInternalError(appLocale.intl.formatMessage({id:ETranslations.wallet_error_trade_with_watched_acocunt}));});function signMessage(){return _signMessage.apply(this,arguments);}return signMessage;}();_proto.basePrepareUtxoWatchingAccounts=function(){var _basePrepareUtxoWatchingAccounts=_asyncToGenerator(function*(params){var{address,xpub,networks,createAtNetwork,name,deriveInfo,isUrlAccount,addresses}=params;if(!address&&!xpub){throw new Error('basePrepareUtxoWatchingAccounts ERROR: address and xpub are not defined');}var networkInfo=yield this.getCoreApiNetworkInfo();var settings=yield this.getVaultSettings();var coinType=settings.coinTypeDefault;var addressEncoding=deriveInfo?.addressEncoding;var id=accountUtils.buildWatchingAccountId({coinType,address,xpub,addressEncoding,isUrlAccount});var addressFromXpub='';var xpubSegwit=xpub;if(!address&&xpub){checkIsDefined(this.coreApi);var result=yield this.coreApi?.getAddressFromPublic({publicKey:xpub,addressEncoding,networkInfo});addressFromXpub=result?.address||'';xpubSegwit=result?.xpubSegwit||xpubSegwit||xpub;}var account={id,name,type:EDBAccountType.UTXO,relPath:'0/0',coinType,impl:settings.impl,networks,createAtNetwork,address:addressFromXpub||address||'',xpub:xpub||'',xpubSegwit,path:'',addresses:addresses||{}};return[account];});function basePrepareUtxoWatchingAccounts(_x){return _basePrepareUtxoWatchingAccounts.apply(this,arguments);}return basePrepareUtxoWatchingAccounts;}();_proto.basePrepareSimpleWatchingAccounts=function(){var _basePrepareSimpleWatchingAccounts=_asyncToGenerator(function*(params,options={}){var{address,name,networks,createAtNetwork,isUrlAccount}=params;if(!address){throw new InvalidAddress();}if(!createAtNetwork){throw new Error('basePrepareSimpleWatchingAccounts ERROR: createAtNetwork is not defined');}var{onlyAvailableOnCertainNetworks=false}=options;var settings=yield this.getVaultSettings();var coinType=options.coinType||settings.coinTypeDefault;var impl=options.impl||settings.impl;var id=accountUtils.buildWatchingAccountId({coinType,address,isUrlAccount});var account={id,name:name||'',type:EDBAccountType.SIMPLE,coinType,impl,networks:onlyAvailableOnCertainNetworks?networks:undefined,createAtNetwork,address,pub:'',path:''};return Promise.resolve([account]);});function basePrepareSimpleWatchingAccounts(_x2){return _basePrepareSimpleWatchingAccounts.apply(this,arguments);}return basePrepareSimpleWatchingAccounts;}();return _createClass(KeyringWatchingBase);}(KeyringBase);","import _objectWithoutProperties from\"@babel/runtime/helpers/objectWithoutProperties\";import _omitBy from\"lodash/omitBy\";import _isEmpty from\"lodash/isEmpty\";import _isNil from\"lodash/isNil\";import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _omit from\"lodash/omit\";import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";var _excluded=[\"accountId\"],_excluded2=[\"accountId\"];function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import qs from'querystring';import{Semaphore}from'async-mutex';import BigNumber from'bignumber.js';import{decodeSensitiveText,encodeSensitiveText}from'@onekeyhq/core/src/secret';import{getNetworkIdsMap}from'@onekeyhq/shared/src/config/networkIds';import{NotImplemented}from'@onekeyhq/shared/src/errors';import platformEnv from'@onekeyhq/shared/src/platformEnv';import accountUtils from'@onekeyhq/shared/src/utils/accountUtils';import chainValueUtils from'@onekeyhq/shared/src/utils/chainValueUtils';import hexUtils from'@onekeyhq/shared/src/utils/hexUtils';import{getOnChainHistoryTxAssetInfo,getOnChainHistoryTxStatus}from'@onekeyhq/shared/src/utils/historyUtils';import{generateUUID}from'@onekeyhq/shared/src/utils/miscUtils';import{buildTxActionDirection,getStakingActionLabel}from'@onekeyhq/shared/src/utils/txActionUtils';import{addressIsEnsFormat}from'@onekeyhq/shared/src/utils/uriUtils';import{EServiceEndpointEnum}from'@onekeyhq/shared/types/endpoint';import{EOnChainHistoryTxType}from'@onekeyhq/shared/types/history';import{EDecodedTxActionType,EDecodedTxDirection}from'@onekeyhq/shared/types/tx';import{VaultContext}from\"./VaultContext\";if(platformEnv.isExtensionUi){debugger;throw new Error('engine/VaultBase is not allowed imported from ui');}export var VaultBaseChainOnly=function(_VaultContext){_inherits(VaultBaseChainOnly,_VaultContext);var _super=_createSuper(VaultBaseChainOnly);function VaultBaseChainOnly(){return _super.apply(this,arguments);}var _proto=VaultBaseChainOnly.prototype;_proto.getXpubFromAccount=function(){var _getXpubFromAccount=_asyncToGenerator(function*(networkAccount){return networkAccount.xpub;});function getXpubFromAccount(_x){return _getXpubFromAccount.apply(this,arguments);}return getXpubFromAccount;}();_proto.proxyJsonRPCCall=function(){var _proxyJsonRPCCall=_asyncToGenerator(function*(request){throw new NotImplemented();});function proxyJsonRPCCall(_x2){return _proxyJsonRPCCall.apply(this,arguments);}return proxyJsonRPCCall;}();_proto.addressFromBase=function(){var _addressFromBase=_asyncToGenerator(function*(account){throw new NotImplemented();});function addressFromBase(_x3){return _addressFromBase.apply(this,arguments);}return addressFromBase;}();_proto.addressToBase=function(){var _addressToBase=_asyncToGenerator(function*(address){throw new NotImplemented();});function addressToBase(_x4){return _addressToBase.apply(this,arguments);}return addressToBase;}();_proto.baseValidatePrivateKey=function(){var _baseValidatePrivateKey=_asyncToGenerator(function*(privateKey){if(!this.coreApi){throw new Error('coreApi not defined in Vault');}try{var networkInfo=yield this.getCoreApiNetworkInfo();var result=yield this.coreApi.getAddressFromPrivate({networkInfo,privateKeyRaw:privateKey});if(result.publicKey){return{isValid:true};}}catch(error){}return{isValid:false};});function baseValidatePrivateKey(_x5){return _baseValidatePrivateKey.apply(this,arguments);}return baseValidatePrivateKey;}();_proto.baseValidateGeneralInput=function(){var _baseValidateGeneralInput=_asyncToGenerator(function*(params){var input=decodeSensitiveText({encodedText:params.input});var{validateAddress,validateXprvt,validateXpub,validatePrivateKey}=params;var result={isValid:false};var isValid=false;var addressResult;var xpubResult;var xprvtResult;var privateKeyResult;if(validateAddress&&!isValid){try{addressResult=yield this.validateAddress(input);result.addressResult=addressResult;isValid=isValid||addressResult?.isValid;}catch(error){}}if(validateXpub&&!isValid){try{xpubResult=yield this.validateXpub(input);result.xpubResult=xpubResult;isValid=isValid||xpubResult?.isValid;}catch(error){}}if(validateXprvt&&!isValid){try{xprvtResult=yield this.validateXprvt(input);result.xprvtResult=xprvtResult;isValid=isValid||xprvtResult?.isValid;}catch(error){}}if(validatePrivateKey&&!isValid){try{privateKeyResult=yield this.validatePrivateKey(input);result.privateKeyResult=privateKeyResult;isValid=isValid||privateKeyResult?.isValid;}catch(error){}}result.isValid=Boolean(isValid);return{result,inputDecoded:input};});function baseValidateGeneralInput(_x6){return _baseValidateGeneralInput.apply(this,arguments);}return baseValidateGeneralInput;}();_proto.baseGetPrivateKeyFromImported=function(){var _baseGetPrivateKeyFromImported=_asyncToGenerator(function*(params){var input=decodeSensitiveText({encodedText:params.input});var privateKey=hexUtils.stripHexPrefix(input);privateKey=encodeSensitiveText({text:privateKey});return{privateKey};});function baseGetPrivateKeyFromImported(_x7){return _baseGetPrivateKeyFromImported.apply(this,arguments);}return baseGetPrivateKeyFromImported;}();_proto.validateAmountInputShown=function(){var _validateAmountInputShown=_asyncToGenerator(function*({toAddress}){return Promise.resolve({isValid:true});});function validateAmountInputShown(_x8){return _validateAmountInputShown.apply(this,arguments);}return validateAmountInputShown;}();_proto.checkIsDomainName=function(){var _checkIsDomainName=_asyncToGenerator(function*({name}){return addressIsEnsFormat(name);});function checkIsDomainName(_x9){return _checkIsDomainName.apply(this,arguments);}return checkIsDomainName;}();_proto.resolveDomainName=function(){var _resolveDomainName=_asyncToGenerator(function*({name}){return null;});function resolveDomainName(_x10){return _resolveDomainName.apply(this,arguments);}return resolveDomainName;}();_proto.getCustomRpcEndpointStatus=function(){var _getCustomRpcEndpointStatus=_asyncToGenerator(function*(params){throw new NotImplemented();});function getCustomRpcEndpointStatus(_x11){return _getCustomRpcEndpointStatus.apply(this,arguments);}return getCustomRpcEndpointStatus;}();_proto.checkFeeSupportInfo=function(){var _checkFeeSupportInfo=_asyncToGenerator(function*(params){throw new NotImplemented();});function checkFeeSupportInfo(_x12){return _checkFeeSupportInfo.apply(this,arguments);}return checkFeeSupportInfo;}();_proto.fetchTokenDetails=function(){var _fetchTokenDetails=_asyncToGenerator(function*(params){var isCustomNetwork=yield this.backgroundApi.serviceNetwork.isCustomNetwork({networkId:this.networkId});if(isCustomNetwork){return this.fetchTokenDetailsByRpc(params);}return this.fetchTokenDetailsByApi(params);});function fetchTokenDetails(_x13){return _fetchTokenDetails.apply(this,arguments);}return fetchTokenDetails;}();_proto.fetchTokenDetailsByApi=function(){var _fetchTokenDetailsByApi=_asyncToGenerator(function*(params){var _params$signal;var client=yield this.backgroundApi.serviceToken.getClient(EServiceEndpointEnum.Wallet);var resp=yield client.post('/wallet/v1/account/token/search',_omit(params,['walletId','accountId','signal']),{headers:yield this.backgroundApi.serviceAccountProfile._getWalletTypeHeader({accountId:params.accountId,walletId:params.walletId}),signal:(_params$signal=params.signal)!=null?_params$signal:undefined});return resp;});function fetchTokenDetailsByApi(_x14){return _fetchTokenDetailsByApi.apply(this,arguments);}return fetchTokenDetailsByApi;}();_proto.fetchTokenDetailsByRpc=function(){var _fetchTokenDetailsByRpc=_asyncToGenerator(function*(params){throw new NotImplemented();});function fetchTokenDetailsByRpc(_x15){return _fetchTokenDetailsByRpc.apply(this,arguments);}return fetchTokenDetailsByRpc;}();return _createClass(VaultBaseChainOnly);}(VaultContext);export var VaultBase=function(_VaultBaseChainOnly){_inherits(VaultBase,_VaultBaseChainOnly);var _super2=_createSuper(VaultBase);function VaultBase(...args){var _this;_this=_super2.call(this,...args);_this.uuid=generateUUID();_this.mutexBuildOnChainHistoryTxGetDBAccount=new Semaphore(1);return _this;}var _proto2=VaultBase.prototype;_proto2.init=function(){var _init=_asyncToGenerator(function*(config){yield this.initKeyring(config);});function init(_x16){return _init.apply(this,arguments);}return init;}();_proto2.initKeyring=function(){var _initKeyring=_asyncToGenerator(function*(config){if(!this.options.isChainOnly){this.keyring=yield config.keyringCreator(this);}});function initKeyring(_x17){return _initKeyring.apply(this,arguments);}return initKeyring;}();_proto2.broadcastTransaction=function(){var _broadcastTransaction=_asyncToGenerator(function*(params){var{signedTx}=params;var txid=yield this.backgroundApi.serviceSend.broadcastTransaction(params);return _objectSpread(_objectSpread({},signedTx),{},{txid,encodedTx:signedTx.encodedTx});});function broadcastTransaction(_x18){return _broadcastTransaction.apply(this,arguments);}return broadcastTransaction;}();_proto2.broadcastTransactionFromCustomRpc=function(){var _broadcastTransactionFromCustomRpc=_asyncToGenerator(function*(params){throw new NotImplemented();});function broadcastTransactionFromCustomRpc(_x19){return _broadcastTransactionFromCustomRpc.apply(this,arguments);}return broadcastTransactionFromCustomRpc;}();_proto2.validateSendAmount=function(){var _validateSendAmount=_asyncToGenerator(function*(params){return Promise.resolve(true);});function validateSendAmount(_x20){return _validateSendAmount.apply(this,arguments);}return validateSendAmount;}();_proto2.buildOnChainHistoryTxExtraInfo=function(){var _buildOnChainHistoryTxExtraInfo=_asyncToGenerator(function*({onChainHistoryTx}){return null;});function buildOnChainHistoryTxExtraInfo(_x21){return _buildOnChainHistoryTxExtraInfo.apply(this,arguments);}return buildOnChainHistoryTxExtraInfo;}();_proto2.precheckUnsignedTx=function(){var _precheckUnsignedTx=_asyncToGenerator(function*(params){return Promise.resolve(true);});function precheckUnsignedTx(_x22){return _precheckUnsignedTx.apply(this,arguments);}return precheckUnsignedTx;}();_proto2.buildEstimateFeeParams=function(){var _buildEstimateFeeParams=_asyncToGenerator(function*({encodedTx}){return Promise.resolve({encodedTx});});function buildEstimateFeeParams(_x23){return _buildEstimateFeeParams.apply(this,arguments);}return buildEstimateFeeParams;}();_proto2.buildParseTransactionParams=function(){var _buildParseTransactionParams=_asyncToGenerator(function*({encodedTx}){return Promise.resolve({encodedTx});});function buildParseTransactionParams(_x24){return _buildParseTransactionParams.apply(this,arguments);}return buildParseTransactionParams;}();_proto2.buildFetchHistoryListParams=function(){var _buildFetchHistoryListParams=_asyncToGenerator(function*(params){return Promise.resolve({});});function buildFetchHistoryListParams(_x25){return _buildFetchHistoryListParams.apply(this,arguments);}return buildFetchHistoryListParams;}();_proto2.buildHistoryTx=function(){var _buildHistoryTx=_asyncToGenerator(function*(params){var{historyTxToMerge,decodedTx,signedTx,isSigner,isLocalCreated,dbAccount}=params;var accountAddress=params.accountAddress||'';var xpub=params.xpub;var txid=signedTx?.txid||decodedTx?.txid||'';if(!txid){throw new Error('buildHistoryTx txid not found');}var{accountId,networkId}=decodedTx;try{var[a,x]=yield Promise.all([this.backgroundApi.serviceAccount.getAccountAddressForApi({dbAccount,accountId,networkId}),this.backgroundApi.serviceAccount.getAccountXpub({dbAccount,accountId,networkId})]);accountAddress=a;xpub=x;}catch(e){}decodedTx.txid=txid||decodedTx.txid;decodedTx.owner=accountAddress;decodedTx.xpub=xpub;if(isSigner){decodedTx.signer=accountAddress;}var historyId=accountUtils.buildLocalHistoryId({networkId,txid,accountAddress,xpub});var historyTx=_objectSpread(_objectSpread({id:historyId,isLocalCreated:Boolean(isLocalCreated)},historyTxToMerge),{},{decodedTx});return Promise.resolve(historyTx);});function buildHistoryTx(_x26){return _buildHistoryTx.apply(this,arguments);}return buildHistoryTx;}();_proto2.fixOnChainHistoryAccountData=function fixOnChainHistoryAccountData(params){var{accountId:originAccountId,networkId:originNetworkId,accountAddress:originAccountAddress,xpub:originXpub,onChainHistoryTx,allNetworkHistoryExtraItems}=params;var accountId=originAccountId;var networkId=originNetworkId;var accountAddress=originAccountAddress;var xpub=originXpub;if(originNetworkId===getNetworkIdsMap().onekeyall){var allNetworkAccount=allNetworkHistoryExtraItems?.find(function(i){var[_,txXpub]=onChainHistoryTx.key.split('_');if(!_isNil(i.accountXpub)){return i.networkId===onChainHistoryTx.networkId&&i.accountXpub===txXpub;}return i.networkId===onChainHistoryTx.networkId;});if(allNetworkAccount){accountId=allNetworkAccount.accountId;networkId=allNetworkAccount.networkId;accountAddress=allNetworkAccount.accountAddress;xpub=allNetworkAccount.accountXpub;}}return{accountId,networkId,accountAddress,xpub};};_proto2.buildOnChainHistoryTx=function(){var _buildOnChainHistoryTx=_asyncToGenerator(function*(params){var _this2=this;var{onChainHistoryTx,tokens,nfts,allNetworkHistoryExtraItems,dbAccountCache}=params;var{accountId,networkId,accountAddress,xpub}=this.fixOnChainHistoryAccountData({accountId:params.accountId,networkId:params.networkId,accountAddress:params.accountAddress,xpub:params.xpub,onChainHistoryTx,allNetworkHistoryExtraItems});if(params.accountId!==accountId){}var key=`${accountId}`;var dbAccount;if(dbAccountCache){yield this.mutexBuildOnChainHistoryTxGetDBAccount.runExclusive(_asyncToGenerator(function*(){dbAccount=dbAccountCache?.[key];if(!dbAccount){dbAccount=yield _this2.backgroundApi.serviceAccount.getDBAccountSafe({accountId});if(dbAccount){dbAccountCache[key]=dbAccount;}}}));}var vaultSettings=yield this.backgroundApi.serviceNetwork.getVaultSettings({networkId});try{var action=yield this.buildHistoryTxAction({tx:onChainHistoryTx,tokens,nfts});var decodedTx={txid:onChainHistoryTx.tx,owner:accountAddress,signer:onChainHistoryTx.from,to:onChainHistoryTx.to,nonce:onChainHistoryTx.nonce,actions:[action],status:getOnChainHistoryTxStatus(onChainHistoryTx.status),networkId,accountId,xpub,totalFeeInNative:onChainHistoryTx.gasFee,totalFeeFiatValue:onChainHistoryTx.gasFeeFiatValue,nativeAmount:vaultSettings.isUtxo?onChainHistoryTx.value:undefined,extraInfo:yield this.buildOnChainHistoryTxExtraInfo({onChainHistoryTx}),payload:{type:onChainHistoryTx.type,value:onChainHistoryTx.value,label:onChainHistoryTx.label}};decodedTx.updatedAt=new Date(onChainHistoryTx.timestamp*1000).getTime();decodedTx.createdAt=decodedTx.updatedAt;decodedTx.isFinal=true;return yield this.buildHistoryTx({dbAccount,decodedTx,accountAddress,xpub});}catch(e){return null;}});function buildOnChainHistoryTx(_x27){return _buildOnChainHistoryTx.apply(this,arguments);}return buildOnChainHistoryTx;}();_proto2.buildHistoryTxAction=function(){var _buildHistoryTxAction=_asyncToGenerator(function*({tx,tokens,nfts}){if(tx.type===EOnChainHistoryTxType.Approve&&tx.tokenApprove){return this.buildHistoryTxApproveAction({tx,tokens,nfts,tokenApprove:tx.tokenApprove});}if(_isEmpty(tx.sends)&&_isEmpty(tx.receives)){if(tx.type)return this.buildHistoryTxFunctionCallAction({tx});return this.buildHistoryTxUnknownAction({tx});}return this.buildHistoryTransferAction({tx,tokens,nfts});});function buildHistoryTxAction(_x28){return _buildHistoryTxAction.apply(this,arguments);}return buildHistoryTxAction;}();_proto2.buildHistoryTxFunctionCallAction=function(){var _buildHistoryTxFunctionCallAction=_asyncToGenerator(function*({tx}){var network=yield this.getNetwork();return{type:EDecodedTxActionType.FUNCTION_CALL,functionCall:{from:tx.from,to:tx.to,functionName:tx.label,functionHash:tx.functionCode,args:tx.params}};});function buildHistoryTxFunctionCallAction(_x29){return _buildHistoryTxFunctionCallAction.apply(this,arguments);}return buildHistoryTxFunctionCallAction;}();_proto2.buildHistoryTxUnknownAction=function(){var _buildHistoryTxUnknownAction=_asyncToGenerator(function*({tx}){var network=yield this.getNetwork();return{type:EDecodedTxActionType.UNKNOWN,unknownAction:{from:tx.from,to:tx.to,label:tx.label}};});function buildHistoryTxUnknownAction(_x30){return _buildHistoryTxUnknownAction.apply(this,arguments);}return buildHistoryTxUnknownAction;}();_proto2.buildHistoryTransferAction=function(){var _buildHistoryTransferAction=_asyncToGenerator(function*({tx,tokens,nfts}){var _this3=this;return{type:EDecodedTxActionType.ASSET_TRANSFER,assetTransfer:{from:tx.from,to:tx.to,label:tx.label,sends:tx.sends.map(function(send){return _this3.buildHistoryTransfer({transfer:send,tokens,nfts});}),receives:tx.receives.map(function(receive){return _this3.buildHistoryTransfer({transfer:receive,tokens,nfts});})}};});function buildHistoryTransferAction(_x31){return _buildHistoryTransferAction.apply(this,arguments);}return buildHistoryTransferAction;}();_proto2.buildHistoryTransfer=function buildHistoryTransfer({transfer,tokens,nfts}){var{icon,symbol,name,isNFT,isNative,price}=getOnChainHistoryTxAssetInfo({key:transfer.key,tokenAddress:transfer.token,tokens,nfts});return{from:transfer.from,to:transfer.to,tokenIdOnNetwork:transfer.token,amount:transfer.amount,label:transfer.label,isOwn:transfer.isOwn,icon,name,symbol,isNFT,isNative,price};};_proto2.buildHistoryTxApproveAction=function buildHistoryTxApproveAction({tx,tokens,nfts,tokenApprove}){var{icon,symbol,name,decimals}=getOnChainHistoryTxAssetInfo({key:tokenApprove.key,tokenAddress:tokenApprove.token,tokens,nfts});return{type:EDecodedTxActionType.TOKEN_APPROVE,tokenApprove:{from:tx.from,to:tx.to,spender:tokenApprove.spender,icon,name,symbol,decimals,label:tx.label,tokenIdOnNetwork:tokenApprove.token,amount:new BigNumber(tokenApprove.amount).shiftedBy(-decimals).toFixed(),isInfiniteAmount:tokenApprove.isInfiniteAmount}};};_proto2.buildTxTransferAssetAction=function(){var _buildTxTransferAssetAction=_asyncToGenerator(function*(params){var{from,to,transfers,data,application,isInternalSwap,isInternalStaking,internalStakingLabel,swapReceivedAddress,swapReceivedNetworkId}=params;var[accountAddress,network]=yield Promise.all([this.getAccountAddress(),this.getNetwork()]);var sendNativeTokenAmountBN=new BigNumber(0);var assetTransfer={from,to,sends:[],receives:[],application,isInternalSwap,isInternalStaking,internalStakingLabel,swapReceivedAddress,swapReceivedNetworkId};transfers.forEach(function(transfer){if(buildTxActionDirection({from:transfer.from,to:transfer.to,accountAddress})===EDecodedTxDirection.OUT){assetTransfer.sends.push(transfer);if(transfer.isNative){sendNativeTokenAmountBN=sendNativeTokenAmountBN.plus(new BigNumber(transfer.amount));}}else{assetTransfer.receives.push(transfer);}});assetTransfer.nativeAmount=sendNativeTokenAmountBN.toFixed();assetTransfer.nativeAmountValue=chainValueUtils.convertAmountToChainValue({value:sendNativeTokenAmountBN,network});return{type:EDecodedTxActionType.ASSET_TRANSFER,data,assetTransfer};});function buildTxTransferAssetAction(_x32){return _buildTxTransferAssetAction.apply(this,arguments);}return buildTxTransferAssetAction;}();_proto2.buildInternalSwapAction=function(){var _buildInternalSwapAction=_asyncToGenerator(function*(params){var _swapSendToken$logoUR,_swapSendToken$name,_swapReceiveToken$log,_swapReceiveToken$nam,_providerInfo$provide;var{swapData,swapInfo,swapToAddress}=params;var swapSendToken=swapInfo.sender.token;var swapReceiveToken=swapInfo.receiver.token;var providerInfo=swapInfo.swapBuildResData.result.info;var otherFeeInfos=swapInfo.swapBuildResData.result.fee?.otherFeeInfos;var otherFeeInfoTransfers=[];var transfers=[{from:swapInfo.accountAddress,to:'',tokenIdOnNetwork:swapSendToken.contractAddress,icon:(_swapSendToken$logoUR=swapSendToken.logoURI)!=null?_swapSendToken$logoUR:'',name:(_swapSendToken$name=swapSendToken.name)!=null?_swapSendToken$name:'',symbol:swapSendToken.symbol,amount:swapInfo.sender.amount,isNFT:false,isNative:swapSendToken.isNative,networkId:swapInfo.sender.accountInfo.networkId},{from:'',to:swapInfo.receivingAddress,tokenIdOnNetwork:swapReceiveToken.contractAddress,icon:(_swapReceiveToken$log=swapReceiveToken.logoURI)!=null?_swapReceiveToken$log:'',name:(_swapReceiveToken$nam=swapReceiveToken.name)!=null?_swapReceiveToken$nam:'',symbol:swapReceiveToken.symbol,amount:swapInfo.receiver.amount,isNFT:false,isNative:swapReceiveToken.isNative,networkId:swapInfo.receiver.accountInfo.networkId}];if(otherFeeInfos){otherFeeInfos.forEach(function(feeInfo){if(feeInfo.token.contractAddress===transfers[0].tokenIdOnNetwork){transfers[0].amount=new BigNumber(transfers[0].amount).plus(feeInfo.amount).toFixed();}else{var _feeInfo$token$logoUR,_feeInfo$token$name;otherFeeInfoTransfers.push({from:swapInfo.accountAddress,to:'',tokenIdOnNetwork:feeInfo.token.contractAddress,icon:(_feeInfo$token$logoUR=feeInfo.token.logoURI)!=null?_feeInfo$token$logoUR:'',name:(_feeInfo$token$name=feeInfo.token.name)!=null?_feeInfo$token$name:'',symbol:feeInfo.token.symbol,amount:feeInfo.amount,isNFT:false,isNative:feeInfo.token.isNative,networkId:swapInfo.sender.accountInfo.networkId});}});}transfers=[...otherFeeInfoTransfers,...transfers];var action=yield this.buildTxTransferAssetAction({from:swapInfo.accountAddress,to:swapToAddress!=null?swapToAddress:'',data:swapData,application:{name:providerInfo.providerName,icon:(_providerInfo$provide=providerInfo.providerLogo)!=null?_providerInfo$provide:''},isInternalSwap:true,swapReceivedAddress:swapInfo.receivingAddress,swapReceivedNetworkId:swapInfo.receiver.token.networkId,transfers});return action;});function buildInternalSwapAction(_x33){return _buildInternalSwapAction.apply(this,arguments);}return buildInternalSwapAction;}();_proto2.buildInternalStakingAction=function(){var _buildInternalStakingAction=_asyncToGenerator(function*(params){var _send$token$logoURI,_send$token$name,_receive$token$logoUR,_receive$token$name;var{stakingInfo,stakingData,accountAddress,stakingToAddress}=params;var{protocol,protocolLogoURI,send,receive}=stakingInfo;var transfers=[send&&{from:accountAddress,to:'',tokenIdOnNetwork:send.token.address,icon:(_send$token$logoURI=send.token.logoURI)!=null?_send$token$logoURI:'',name:(_send$token$name=send.token.name)!=null?_send$token$name:'',symbol:send.token.symbol,amount:send.amount,isNFT:false,isNative:send.token.isNative},receive&&{from:'',to:accountAddress,tokenIdOnNetwork:receive.token.address,icon:(_receive$token$logoUR=receive.token.logoURI)!=null?_receive$token$logoUR:'',name:(_receive$token$name=receive.token.name)!=null?_receive$token$name:'',symbol:receive.token.symbol,amount:receive.amount,isNFT:false,isNative:receive.token.isNative}].filter(Boolean);var action=yield this.buildTxTransferAssetAction({from:accountAddress,to:stakingToAddress!=null?stakingToAddress:'',data:stakingData,application:{name:protocol,icon:protocolLogoURI!=null?protocolLogoURI:''},isInternalStaking:true,internalStakingLabel:getStakingActionLabel({stakingInfo}),transfers});return action;});function buildInternalStakingAction(_x34){return _buildInternalStakingAction.apply(this,arguments);}return buildInternalStakingAction;}();_proto2.signTransaction=function(){var _signTransaction=_asyncToGenerator(function*(params){var _params$signOnly,_signedTx$encodedTx;var{unsignedTx}=params;params.signOnly=(_params$signOnly=params.signOnly)!=null?_params$signOnly:true;var signedTx=yield this.keyring.signTransaction(params);return _objectSpread(_objectSpread({},signedTx),{},{encodedTx:(_signedTx$encodedTx=signedTx.encodedTx)!=null?_signedTx$encodedTx:unsignedTx.encodedTx});});function signTransaction(_x35){return _signTransaction.apply(this,arguments);}return signTransaction;}();_proto2.getAccount=function(){var _getAccount=_asyncToGenerator(function*({dbAccount}={}){var account=dbAccount;if(!account||account?.id!==this.accountId){account=yield this.backgroundApi.serviceAccount.getDBAccount({accountId:this.accountId});}if(!accountUtils.isAccountCompatibleWithNetwork({account,networkId:this.networkId})){throw new Error(`account impl not matched to network: ${this.networkId} ${account.id?.slice(0,30)}`);}var networkInfo=yield this.getNetworkInfo();var externalAccount=account;var externalAccountAddress='';if(externalAccount.connectedAddresses){var buildExternalAccountAddress=function({key,fallbackIndex}){var _externalAccount$sele;if(!key){return'';}var index=(_externalAccount$sele=externalAccount.selectedAddress?.[key])!=null?_externalAccount$sele:fallbackIndex;var addresses=externalAccount.connectedAddresses?.[key]?.split(',').filter(Boolean)||[];return addresses?.[index]||addresses?.[fallbackIndex]||'';};externalAccountAddress=buildExternalAccountAddress({key:this.networkId,fallbackIndex:-1});if(!externalAccountAddress){var impl=yield this.getNetworkImpl();externalAccountAddress=buildExternalAccountAddress({key:impl,fallbackIndex:0});}if(!externalAccountAddress){externalAccountAddress=buildExternalAccountAddress({key:this.networkId,fallbackIndex:0});}}var addressDetail=yield this.buildAccountAddressDetail({networkInfo,account,networkId:this.networkId,externalAccountAddress});var address=addressDetail?.address||'';if(!address&&!addressDetail.allowEmptyAddress||!addressDetail.isValid){throw new Error('VaultBase.getAccount ERROR: address is invalid');}return _objectSpread(_objectSpread({},account),{},{addressDetail,address});});function getAccount(){return _getAccount.apply(this,arguments);}return getAccount;}();_proto2.getAccountAddress=function(){var _getAccountAddress=_asyncToGenerator(function*(){return(yield this.getAccount()).address;});function getAccountAddress(){return _getAccountAddress.apply(this,arguments);}return getAccountAddress;}();_proto2.getAccountPath=function(){var _getAccountPath=_asyncToGenerator(function*(){return(yield this.getAccount()).path;});function getAccountPath(){return _getAccountPath.apply(this,arguments);}return getAccountPath;}();_proto2.getAccountXpub=function(){var _getAccountXpub=_asyncToGenerator(function*({dbAccount}={}){var networkAccount=yield this.getAccount({dbAccount});return this.getXpubFromAccount(networkAccount);});function getAccountXpub(){return _getAccountXpub.apply(this,arguments);}return getAccountXpub;}();_proto2.fillTokensDetails=function(){var _fillTokensDetails=_asyncToGenerator(function*({tokensDetails}){return Promise.resolve(tokensDetails);});function fillTokensDetails(_x36){return _fillTokensDetails.apply(this,arguments);}return fillTokensDetails;}();_proto2.fillAccountDetails=function(){var _fillAccountDetails=_asyncToGenerator(function*({accountDetails}){return Promise.resolve(accountDetails);});function fillAccountDetails(_x37){return _fillAccountDetails.apply(this,arguments);}return fillAccountDetails;}();_proto2.isEarliestLocalPendingTx=function(){var _isEarliestLocalPendingTx=_asyncToGenerator(function*({encodedTx}){return true;});function isEarliestLocalPendingTx(_x38){return _isEarliestLocalPendingTx.apply(this,arguments);}return isEarliestLocalPendingTx;}();_proto2.buildReplaceEncodedTx=function(){var _buildReplaceEncodedTx=_asyncToGenerator(function*({decodedTx,replaceType}){return Promise.resolve(decodedTx.encodedTx);});function buildReplaceEncodedTx(_x39){return _buildReplaceEncodedTx.apply(this,arguments);}return buildReplaceEncodedTx;}();_proto2.attachFeeInfoToDAppEncodedTx=function(){var _attachFeeInfoToDAppEncodedTx=_asyncToGenerator(function*(params){return Promise.resolve(params.encodedTx);});function attachFeeInfoToDAppEncodedTx(_x40){return _attachFeeInfoToDAppEncodedTx.apply(this,arguments);}return attachFeeInfoToDAppEncodedTx;}();_proto2.activateToken=function(){var _activateToken=_asyncToGenerator(function*(params){throw new NotImplemented();});function activateToken(_x41){return _activateToken.apply(this,arguments);}return activateToken;}();_proto2.getAddressType=function(){var _getAddressType=_asyncToGenerator(function*({address}){return Promise.resolve({});});function getAddressType(_x42){return _getAddressType.apply(this,arguments);}return getAddressType;}();_proto2.buildStakeEncodedTx=function buildStakeEncodedTx(params){return Promise.resolve(params);};_proto2.fetchAccountDetails=function(){var _fetchAccountDetails=_asyncToGenerator(function*(params){var isCustomNetwork=yield this.backgroundApi.serviceNetwork.isCustomNetwork({networkId:this.networkId});if(isCustomNetwork){return this.fetchAccountDetailsByRpc(params);}return this.fetchAccountDetailsByApi(params);});function fetchAccountDetails(_x43){return _fetchAccountDetails.apply(this,arguments);}return fetchAccountDetails;}();_proto2.fetchAccountDetailsByApi=function(){var _fetchAccountDetailsByApi=_asyncToGenerator(function*(params){var queryParams=_objectSpread({},_omit(params,['accountId','signal']));var client=yield this.backgroundApi.serviceAccountProfile.getClient(EServiceEndpointEnum.Wallet);var resp=yield client.get(`/wallet/v1/account/get-account?${qs.stringify(_omitBy(queryParams,_isNil))}`,{headers:yield this.backgroundApi.serviceAccountProfile._getWalletTypeHeader({accountId:params.accountId}),signal:params.signal});return resp;});function fetchAccountDetailsByApi(_x44){return _fetchAccountDetailsByApi.apply(this,arguments);}return fetchAccountDetailsByApi;}();_proto2.fetchAccountDetailsByRpc=function(){var _fetchAccountDetailsByRpc=_asyncToGenerator(function*(params){throw new NotImplemented();});function fetchAccountDetailsByRpc(_x45){return _fetchAccountDetailsByRpc.apply(this,arguments);}return fetchAccountDetailsByRpc;}();_proto2.fetchTokenList=function(){var _fetchTokenList=_asyncToGenerator(function*(params){var isCustomNetwork=yield this.backgroundApi.serviceNetwork.isCustomNetwork({networkId:this.networkId});if(isCustomNetwork){return this.fetchTokenListByRpc(params);}return this.fetchTokenListByApi(params);});function fetchTokenList(_x46){return _fetchTokenList.apply(this,arguments);}return fetchTokenList;}();_proto2.fetchTokenListByApi=function(){var _fetchTokenListByApi=_asyncToGenerator(function*(params){var{serviceToken,serviceAccountProfile}=this.backgroundApi;var{requestApiParams,flag,signal,accountId}=params;if(requestApiParams.contractList){requestApiParams.contractList=requestApiParams.contractList.filter(function(contract){return contract!==null&&typeof contract==='string';});}var client=yield serviceToken.getClient(EServiceEndpointEnum.Wallet);var resp=yield client.post(`/wallet/v1/account/token/list?flag=${flag||''}`,requestApiParams,{signal,headers:yield serviceAccountProfile._getWalletTypeHeader({accountId})});return resp;});function fetchTokenListByApi(_x47){return _fetchTokenListByApi.apply(this,arguments);}return fetchTokenListByApi;}();_proto2.fetchTokenListByRpc=function(){var _fetchTokenListByRpc=_asyncToGenerator(function*(params){throw new NotImplemented();});function fetchTokenListByRpc(_x48){return _fetchTokenListByRpc.apply(this,arguments);}return fetchTokenListByRpc;}();_proto2.estimateFee=function(){var _estimateFee=_asyncToGenerator(function*(params){var isCustomNetwork=yield this.backgroundApi.serviceNetwork.isCustomNetwork({networkId:this.networkId});if(isCustomNetwork){return this.estimateFeeByRpc(params);}return this.estimateFeeByApi(params);});function estimateFee(_x49){return _estimateFee.apply(this,arguments);}return estimateFee;}();_proto2.estimateFeeByApi=function(){var _estimateFeeByApi=_asyncToGenerator(function*(params){var{accountId}=params,rest=_objectWithoutProperties(params,_excluded);var client=yield this.backgroundApi.serviceGas.getClient(EServiceEndpointEnum.Wallet);var resp=yield client.post('/wallet/v1/account/estimate-fee',rest,{headers:yield this.backgroundApi.serviceAccountProfile._getWalletTypeHeader({accountId})});return resp;});function estimateFeeByApi(_x50){return _estimateFeeByApi.apply(this,arguments);}return estimateFeeByApi;}();_proto2.estimateFeeByRpc=function(){var _estimateFeeByRpc=_asyncToGenerator(function*(params){throw new NotImplemented();});function estimateFeeByRpc(_x51){return _estimateFeeByRpc.apply(this,arguments);}return estimateFeeByRpc;}();_proto2.fetchAccountHistoryDetail=function(){var _fetchAccountHistoryDetail=_asyncToGenerator(function*(params){var isCustomNetwork=yield this.backgroundApi.serviceNetwork.isCustomNetwork({networkId:this.networkId});if(isCustomNetwork){return this.fetchAccountHistoryDetailByRpc(params);}return this.fetchAccountHistoryDetailByApi(params);});function fetchAccountHistoryDetail(_x52){return _fetchAccountHistoryDetail.apply(this,arguments);}return fetchAccountHistoryDetail;}();_proto2.fetchAccountHistoryDetailByApi=function(){var _fetchAccountHistoryDetailByApi=_asyncToGenerator(function*(params){var{accountId}=params,rest=_objectWithoutProperties(params,_excluded2);var client=yield this.backgroundApi.serviceGas.getClient(EServiceEndpointEnum.Wallet);var resp=yield client.get('/wallet/v1/account/history/detail',{params:rest,headers:yield this.backgroundApi.serviceAccountProfile._getWalletTypeHeader({accountId})});return resp;});function fetchAccountHistoryDetailByApi(_x53){return _fetchAccountHistoryDetailByApi.apply(this,arguments);}return fetchAccountHistoryDetailByApi;}();_proto2.fetchAccountHistoryDetailByRpc=function(){var _fetchAccountHistoryDetailByRpc=_asyncToGenerator(function*(params){throw new NotImplemented();});function fetchAccountHistoryDetailByRpc(_x54){return _fetchAccountHistoryDetailByRpc.apply(this,arguments);}return fetchAccountHistoryDetailByRpc;}();_proto2.buildOkxSwapEncodedTx=function(){var _buildOkxSwapEncodedTx=_asyncToGenerator(function*(params){throw new NotImplemented();});function buildOkxSwapEncodedTx(_x55){return _buildOkxSwapEncodedTx.apply(this,arguments);}return buildOkxSwapEncodedTx;}();return _createClass(VaultBase);}(VaultBaseChainOnly);","import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import accountUtils from'@onekeyhq/shared/src/utils/accountUtils';import networkUtils from'@onekeyhq/shared/src/utils/networkUtils';import{getVaultSettings as _getVaultSettings,getVaultSettingsNetworkInfo}from\"../settings\";export var VaultContext=function(){function VaultContext(options){this.options=options;this.networkId=options.networkId||'';this.accountId=options.accountId||'';this.backgroundApi=options.backgroundApi;this.walletId=options.walletId||(this.accountId?accountUtils.getWalletIdFromAccountId({accountId:this.accountId}):'');if(!this.walletId&&!this.options.isChainOnly){throw new Error('can not get correct walletId');}}var _proto=VaultContext.prototype;_proto.getNetworkId=function(){var _getNetworkId=_asyncToGenerator(function*(){return this.networkId;});function getNetworkId(){return _getNetworkId.apply(this,arguments);}return getNetworkId;}();_proto.getNetwork=function(){var _getNetwork=_asyncToGenerator(function*({cached}={}){if(!cached||!this._network||this._network.id!==this.networkId){var network=yield this.backgroundApi.serviceNetwork.getNetwork({networkId:this.networkId});this._network=network;}return this._network;});function getNetwork(){return _getNetwork.apply(this,arguments);}return getNetwork;}();_proto.getNetworkChainId=function(){var _getNetworkChainId=_asyncToGenerator(function*({hex=false}={}){return networkUtils.getNetworkChainId({networkId:this.networkId,hex});});function getNetworkChainId(){return _getNetworkChainId.apply(this,arguments);}return getNetworkChainId;}();_proto.getNetworkImpl=function(){var _getNetworkImpl=_asyncToGenerator(function*(){return networkUtils.getNetworkImpl({networkId:this.networkId});});function getNetworkImpl(){return _getNetworkImpl.apply(this,arguments);}return getNetworkImpl;}();_proto.getVaultSettings=function(){var _getVaultSettings2=_asyncToGenerator(function*(){return _getVaultSettings({networkId:this.networkId});});function getVaultSettings(){return _getVaultSettings2.apply(this,arguments);}return getVaultSettings;}();_proto.getNetworkInfo=function(){var _getNetworkInfo=_asyncToGenerator(function*(){return getVaultSettingsNetworkInfo({networkId:this.networkId});});function getNetworkInfo(){return _getNetworkInfo.apply(this,arguments);}return getNetworkInfo;}();_proto.getCoreApiNetworkInfo=function(){var _getCoreApiNetworkInfo=_asyncToGenerator(function*(){var network=yield this.getNetwork();var networkInfo=yield this.getNetworkInfo();var{addressPrefix,curve}=networkInfo;var networkImpl=yield this.getNetworkImpl();var chainId=yield this.getNetworkChainId({hex:false});var{isTestnet}=network;var{networkId}=this;return{isTestnet,networkChainCode:network.code,chainId,networkId,networkImpl,addressPrefix,curve};});function getCoreApiNetworkInfo(){return _getCoreApiNetworkInfo.apply(this,arguments);}return getCoreApiNetworkInfo;}();_proto.getRpcUrl=function(){var _getRpcUrl=_asyncToGenerator(function*(){return'';});function getRpcUrl(){return _getRpcUrl.apply(this,arguments);}return getRpcUrl;}();_proto.destroy=function(){var _destroy=_asyncToGenerator(function*(){});function destroy(){return _destroy.apply(this,arguments);}return destroy;}();return _createClass(VaultContext);}();","import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import BigNumber from'bignumber.js';import*as BitcoinJS from'bitcoinjs-lib';import{checkBtcAddressIsUsed,getBtcForkNetwork,isTaprootPath}from'@onekeyhq/core/src/chains/btc/sdkBtc';import{AddressNotSupportSignMethodError}from'@onekeyhq/shared/src/errors';import{convertDeviceError,convertDeviceResponse}from'@onekeyhq/shared/src/errors/utils/deviceErrorUtils';import{CoreSDKLoader}from'@onekeyhq/shared/src/hardware/instance';import accountUtils from'@onekeyhq/shared/src/utils/accountUtils';import{checkIsDefined}from'@onekeyhq/shared/src/utils/assertUtils';import bufferUtils from'@onekeyhq/shared/src/utils/bufferUtils';import{KeyringHardwareBase}from\"../../base/KeyringHardwareBase\";export var KeyringHardwareBtcBase=function(_KeyringHardwareBase){_inherits(KeyringHardwareBtcBase,_KeyringHardwareBase);var _super=_createSuper(KeyringHardwareBtcBase);function KeyringHardwareBtcBase(...args){var _this;_this=_super.call(this,...args);_this.buildHardwareInput=function(){var _ref=_asyncToGenerator(function*(input,path){var{getHDPath,getScriptType}=yield CoreSDKLoader();var addressN=getHDPath(path);var scriptType=getScriptType(addressN);return{prev_index:input.vout,prev_hash:input.txid,amount:new BigNumber(input.value).toFixed(),address_n:addressN,script_type:scriptType};});return function(_x,_x2){return _ref.apply(this,arguments);};}();_this.buildHardwareOutput=function(){var _ref2=_asyncToGenerator(function*(output){var{isChange,bip44Path,opReturn}=output.payload||{};if(opReturn&&typeof opReturn==='string'&&opReturn.length>0){return{script_type:'PAYTOOPRETURN',amount:'0',op_return_data:bufferUtils.bytesToHex(Buffer.from(opReturn))};}if(isChange&&bip44Path){var{getHDPath,getOutputScriptType}=yield CoreSDKLoader();var addressN=getHDPath(bip44Path);var scriptType=getOutputScriptType(addressN);return{script_type:scriptType,address_n:addressN,amount:new BigNumber(output.value).toFixed()};}return{script_type:'PAYTOADDRESS',address:output.address,amount:new BigNumber(output.value).toFixed()};});return function(_x3){return _ref2.apply(this,arguments);};}();_this.buildPrevTx=function(rawTx){var tx=BitcoinJS.Transaction.fromHex(rawTx);return{hash:tx.getId(),version:tx.version,inputs:tx.ins.map(function(i){return{prev_hash:Buffer.from(i.hash.reverse()).toString('hex'),prev_index:i.index,script_sig:Buffer.from(i.script).toString('hex'),sequence:i.sequence};}),bin_outputs:tx.outs.map(function(o){return{amount:o.value.toString(),script_pubkey:Buffer.from(o.script).toString('hex')};}),lock_time:tx.locktime};};return _this;}var _proto=KeyringHardwareBtcBase.prototype;_proto.buildPrepareAccountsPrefixedPath=function buildPrepareAccountsPrefixedPath(params){var fullPath=accountUtils.buildPathFromTemplate({template:params.template,index:params.index});return accountUtils.removePathLastSegment({path:fullPath,removeCount:2});};_proto.signTransaction=function(){var _signTransaction=_asyncToGenerator(function*(params){var _this2=this;var{unsignedTx}=params;var{psbtHex,inputsToSign}=unsignedTx.encodedTx;if(psbtHex&&inputsToSign){return this.signPsbt(params);}var{inputs,outputs}=unsignedTx.encodedTx;var{dbDevice,deviceCommonParams}=checkIsDefined(params.deviceParams);var network=yield this.getNetwork();var vault=this.vault;var coinName=yield checkIsDefined(this.coreApi).getCoinName({network});var addresses=inputs.map(function(input){return input.address;});var{utxoList:utxosInfo}=yield vault._collectUTXOsInfoByApi();var signers={};for(var utxo of utxosInfo){var{address,path}=utxo;if(addresses.includes(address)){signers[address]=path;}}var prevTxids=Array.from(new Set(inputs.map(function(i){return i.txid;}))).filter(Boolean);var prevTxs=yield vault.collectTxsByApi(prevTxids);var sdk=yield this.getHardwareSDKInstance();var{connectId,deviceId}=dbDevice;var response=yield sdk.btcSignTransaction(connectId,deviceId,_objectSpread({coin:coinName.toLowerCase(),inputs:yield Promise.all(inputs.map(function(){var _ref3=_asyncToGenerator(function*(i){return _this2.buildHardwareInput(i,signers[i.address]);});return function(_x5){return _ref3.apply(this,arguments);};}())),outputs:yield Promise.all(outputs.map(function(){var _ref4=_asyncToGenerator(function*(o){return _this2.buildHardwareOutput(o);});return function(_x6){return _ref4.apply(this,arguments);};}())),refTxs:Object.values(prevTxs).map(function(i){return _this2.buildPrevTx(i);})},deviceCommonParams));if(response.success){var{serializedTx}=response.payload;var tx=BitcoinJS.Transaction.fromHex(serializedTx);return{txid:tx.getId(),rawTx:serializedTx,encodedTx:unsignedTx.encodedTx};}throw convertDeviceError(response.payload);});function signTransaction(_x4){return _signTransaction.apply(this,arguments);}return signTransaction;}();_proto.signPsbt=function(){var _signPsbt=_asyncToGenerator(function*(params){var{unsignedTx,signOnly}=params;var{psbtHex,inputsToSign}=unsignedTx.encodedTx;if(!psbtHex||!inputsToSign){throw new Error('invalid psbt');}var dbAccount=yield this.vault.getAccount();if(!isTaprootPath(dbAccount.path)){throw new AddressNotSupportSignMethodError();}var network=yield this.getNetwork();var coinName=yield checkIsDefined(this.coreApi).getCoinName({network});var sdk=yield this.getHardwareSDKInstance();var{dbDevice,deviceCommonParams}=checkIsDefined(params.deviceParams);var{connectId,deviceId}=dbDevice;var pubkeyResult=yield convertDeviceResponse(function(){return sdk.btcGetPublicKey(connectId,deviceId,_objectSpread(_objectSpread({},deviceCommonParams),{},{path:dbAccount.path,showOnOneKey:false}));});var fingerprint=Number(pubkeyResult.root_fingerprint||0).toString(16).padStart(8,'0');var networkInfo=yield this.getCoreApiNetworkInfo();var btcNetwork=getBtcForkNetwork(networkInfo.networkChainCode);var psbt=BitcoinJS.Psbt.fromHex(psbtHex,{network:btcNetwork,maximumFeeRate:btcNetwork.maximumFeeRate});for(var i=0,len=inputsToSign.length;i<len;i+=1){var _dbAccount$relPath;var input=inputsToSign[i];psbt.updateInput(input.index,{tapBip32Derivation:[{masterFingerprint:Buffer.from(fingerprint,'hex'),pubkey:Buffer.from(input.publicKey,'hex').subarray(1,33),path:`${dbAccount.path}/${(_dbAccount$relPath=dbAccount.relPath)!=null?_dbAccount$relPath:'0/0'}`,leafHashes:[]}]});}for(var _i=0,_len=psbt.txOutputs.length;_i<_len;_i+=1){var output=psbt.txOutputs[_i];try{if(output.address===dbAccount.address&&_len>1){var _dbAccount$relPath2;psbt.updateOutput(_i,{tapInternalKey:Buffer.from(checkIsDefined(dbAccount.pub),'hex').subarray(1,33),tapBip32Derivation:[{masterFingerprint:Buffer.from(fingerprint,'hex'),pubkey:Buffer.from(checkIsDefined(dbAccount.pub),'hex').subarray(1,33),path:`${dbAccount.path}/${(_dbAccount$relPath2=dbAccount.relPath)!=null?_dbAccount$relPath2:'0/0'}`,leafHashes:[]}]});}}catch(err){}}var response=yield convertDeviceResponse(function(){return sdk.btcSignPsbt(connectId,deviceId,_objectSpread(_objectSpread({},deviceCommonParams),{},{psbt:psbt.toHex(),coin:coinName?.toLowerCase()}));});var signedPsbt=response.psbt;var rawTx='';var finalizedPsbtHex='';try{var finalizedPsbt=BitcoinJS.Psbt.fromHex(signedPsbt,{network:btcNetwork});inputsToSign.forEach(function(v){finalizedPsbt.finalizeInput(v.index);});if(!signOnly){rawTx=finalizedPsbt.extractTransaction().toHex();}finalizedPsbtHex=finalizedPsbt.toHex();}catch(error){finalizedPsbtHex=signedPsbt;}return{encodedTx:unsignedTx.encodedTx,txid:'',rawTx,psbtHex:signedPsbt,finalizedPsbtHex};});function signPsbt(_x7){return _signPsbt.apply(this,arguments);}return signPsbt;}();_proto.signMessage=function(){var _signMessage=_asyncToGenerator(function*(params){var network=yield this.getNetwork();var coinName=yield checkIsDefined(this.coreApi).getCoinName({network});var dbAccount=yield this.vault.getAccount();var deviceParams=checkIsDefined(params.deviceParams);var{connectId,deviceId}=deviceParams.dbDevice;var sdk=yield this.getHardwareSDKInstance();var result=yield Promise.all(params.messages.map(function(){var _ref5=_asyncToGenerator(function*({message,type}){var _dbAccount$relPath3;var dAppSignType=type||undefined;if(dAppSignType&&!isTaprootPath(dbAccount.path)){throw new AddressNotSupportSignMethodError();}var response=yield sdk.btcSignMessage(connectId,deviceId,_objectSpread(_objectSpread({},params.deviceParams?.deviceCommonParams),{},{path:`${dbAccount.path}/${(_dbAccount$relPath3=dbAccount.relPath)!=null?_dbAccount$relPath3:'0/0'}`,coin:coinName,messageHex:Buffer.from(message).toString('hex'),dAppSignType}));if(!response.success){throw convertDeviceError(response.payload);}return{message,signature:response.payload.signature};});return function(_x9){return _ref5.apply(this,arguments);};}()));return result.map(function(ret){return ret.signature;});});function signMessage(_x8){return _signMessage.apply(this,arguments);}return signMessage;}();_proto.prepareAccounts=function(){var _prepareAccounts=_asyncToGenerator(function*(params){var _this3=this;var networkInfo=yield this.getCoreApiNetworkInfo();var network=getBtcForkNetwork(networkInfo.networkChainCode);var addressEncoding=params.deriveInfo?.addressEncoding;var addressRelPath=accountUtils.buildUtxoAddressRelPath();return this.basePrepareHdUtxoAccounts(params,{checkIsAccountUsed:checkBtcAddressIsUsed,buildAddressesInfo:function(){var _ref6=_asyncToGenerator(function*({usedIndexes}){var publicKeys=yield _this3.baseGetDeviceAccountPublicKeys({params,usedIndexes,sdkGetPublicKeysFn:function(){var _ref7=_asyncToGenerator(function*({connectId,deviceId,template,coinName,showOnOnekeyFn}){var buildFullPath=function(p){return accountUtils.buildPathFromTemplate({template,index:p.index});};var buildPrefixedPath=function(p){return _this3.buildPrepareAccountsPrefixedPath({template,index:p.index});};var allNetworkAccounts=yield _this3.getAllNetworkPrepareAccounts({params,usedIndexes,hwSdkNetwork:_this3.hwSdkNetwork,buildPath:buildPrefixedPath,buildResultAccount:function({account,index}){return{path:account.path,xpub:account.payload?.xpub||'',xpubSegwit:account.payload?.xpubSegwit||'',node:account.payload?.node||{}};}});if(allNetworkAccounts){return allNetworkAccounts;}throw new Error('use sdk allNetworkGetAddress instead');});return function sdkGetPublicKeysFn(_x12){return _ref7.apply(this,arguments);};}()});var ret=[];for(var i=0;i<publicKeys.length;i+=1){var item=publicKeys[i];var{path,xpub,xpubSegwit}=item;var{addresses:addressFromXpub,publicKeys:publicKeysMap}=yield checkIsDefined(_this3.coreApi).getAddressFromXpub({network,xpub,relativePaths:[addressRelPath],addressEncoding});var{[addressRelPath]:publicKey}=publicKeysMap;var{[addressRelPath]:address}=addressFromXpub;var addressInfo={address,publicKey,path,relPath:addressRelPath,xpub,xpubSegwit,addresses:{[addressRelPath]:address}};ret.push(addressInfo);}return ret;});return function buildAddressesInfo(_x11){return _ref6.apply(this,arguments);};}()});});function prepareAccounts(_x10){return _prepareAccounts.apply(this,arguments);}return prepareAccounts;}();_proto.batchGetAddresses=function(){var _batchGetAddresses=_asyncToGenerator(function*(params){var _this4=this;var{indexes}=params;var addresses=yield this.baseGetDeviceAccountAddresses({params,usedIndexes:indexes,sdkGetAddressFn:function(){var _ref8=_asyncToGenerator(function*({connectId,deviceId,pathPrefix,pathSuffix,coinName,showOnOnekeyFn}){var sdk=yield _this4.getHardwareSDKInstance();var response=yield sdk.btcGetAddress(connectId,deviceId,_objectSpread(_objectSpread({},params.deviceParams.deviceCommonParams),{},{bundle:indexes.map(function(index,arrIndex){return{path:`${pathPrefix}/${pathSuffix.replace('{index}',`${index}`)}`,coin:coinName?.toLowerCase(),showOnOneKey:showOnOnekeyFn(arrIndex)};})}));return response;});return function sdkGetAddressFn(_x14){return _ref8.apply(this,arguments);};}()});return addresses.map(function(item){var _item$path,_item$address;return{path:(_item$path=item.path)!=null?_item$path:'',address:(_item$address=item.address)!=null?_item$address:''};});});function batchGetAddresses(_x13){return _batchGetAddresses.apply(this,arguments);}return batchGetAddresses;}();return _createClass(KeyringHardwareBtcBase);}(KeyringHardwareBase);","import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import{checkBtcAddressIsUsed}from'@onekeyhq/core/src/chains/btc/sdkBtc';import coreChainApi from'@onekeyhq/core/src/instance/coreChainApi';import{defaultLogger}from'@onekeyhq/shared/src/logger/logger';import{KeyringHdBase}from\"../../base/KeyringHdBase\";export var KeyringHd=function(_KeyringHdBase){_inherits(KeyringHd,_KeyringHdBase);var _super=_createSuper(KeyringHd);function KeyringHd(...args){var _this;_this=_super.call(this,...args);_this.coreApi=coreChainApi.btc.hd;return _this;}var _proto=KeyringHd.prototype;_proto.getPrivateKeys=function(){var _getPrivateKeys=_asyncToGenerator(function*(params){return this.baseGetPrivateKeys(params);});function getPrivateKeys(_x){return _getPrivateKeys.apply(this,arguments);}return getPrivateKeys;}();_proto.exportAccountSecretKeys=function(){var _exportAccountSecretKeys=_asyncToGenerator(function*(params){return this.baseExportAccountSecretKeys(params);});function exportAccountSecretKeys(_x2){return _exportAccountSecretKeys.apply(this,arguments);}return exportAccountSecretKeys;}();_proto.prepareAccounts=function(){var _prepareAccounts=_asyncToGenerator(function*(params){defaultLogger.account.accountCreatePerf.prepareAccountsStartBtc({networkId:this.networkId,indexes:params.indexes});var sdkBtc=yield import('@onekeyhq/core/src/chains/btc/sdkBtc');sdkBtc.initBitcoinEcc();defaultLogger.account.accountCreatePerf.initBitcoinEccDone();return this.basePrepareAccountsHdUtxo(params,{checkIsAccountUsed:checkBtcAddressIsUsed});});function prepareAccounts(_x3){return _prepareAccounts.apply(this,arguments);}return prepareAccounts;}();_proto.signTransaction=function(){var _signTransaction=_asyncToGenerator(function*(params){return this.baseSignTransactionBtc(params);});function signTransaction(_x4){return _signTransaction.apply(this,arguments);}return signTransaction;}();_proto.signMessage=function(){var _signMessage=_asyncToGenerator(function*(params){return this.baseSignMessageBtc(params);});function signMessage(_x5){return _signMessage.apply(this,arguments);}return signMessage;}();return _createClass(KeyringHd);}(KeyringHdBase);","import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import coreChainApi from'@onekeyhq/core/src/instance/coreChainApi';import{KeyringImportedBase}from\"../../base/KeyringImportedBase\";export var KeyringImported=function(_KeyringImportedBase){_inherits(KeyringImported,_KeyringImportedBase);var _super=_createSuper(KeyringImported);function KeyringImported(...args){var _this;_this=_super.call(this,...args);_this.coreApi=coreChainApi.btc.imported;return _this;}var _proto=KeyringImported.prototype;_proto.getPrivateKeys=function(){var _getPrivateKeys=_asyncToGenerator(function*(params){return this.baseGetPrivateKeys(params);});function getPrivateKeys(_x){return _getPrivateKeys.apply(this,arguments);}return getPrivateKeys;}();_proto.exportAccountSecretKeys=function(){var _exportAccountSecretKeys=_asyncToGenerator(function*(params){return this.baseExportAccountSecretKeys(params);});function exportAccountSecretKeys(_x2){return _exportAccountSecretKeys.apply(this,arguments);}return exportAccountSecretKeys;}();_proto.prepareAccounts=function(){var _prepareAccounts=_asyncToGenerator(function*(params){return this.basePrepareAccountsImportedUtxo(params);});function prepareAccounts(_x3){return _prepareAccounts.apply(this,arguments);}return prepareAccounts;}();_proto.signTransaction=function(){var _signTransaction=_asyncToGenerator(function*(params){return this.baseSignTransactionBtc(params);});function signTransaction(_x4){return _signTransaction.apply(this,arguments);}return signTransaction;}();_proto.signMessage=function(){var _signMessage=_asyncToGenerator(function*(params){return this.baseSignMessageBtc(params);});function signMessage(_x5){return _signMessage.apply(this,arguments);}return signMessage;}();return _createClass(KeyringImported);}(KeyringImportedBase);","import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import{Psbt}from'bitcoinjs-lib';import{convertBtcForkXpub,convertBtcScriptTypeForHardware,getBtcForkNetwork}from'@onekeyhq/core/src/chains/btc/sdkBtc';import{buildPsbt}from'@onekeyhq/core/src/chains/btc/sdkBtc/providerUtils';import{verifyBtcSignedPsbtMatched}from'@onekeyhq/core/src/chains/btc/sdkBtc/verify';import coreChainApi from'@onekeyhq/core/src/instance/coreChainApi';import{getAirGapSdk}from'@onekeyhq/qr-wallet-sdk';import{NotImplemented,OneKeyErrorAirGapAccountNotFound,OneKeyErrorAirGapInvalidQrCode}from'@onekeyhq/shared/src/errors';import{CoreSDKLoader}from'@onekeyhq/shared/src/hardware/instance';import accountUtils from'@onekeyhq/shared/src/utils/accountUtils';import{checkIsDefined}from'@onekeyhq/shared/src/utils/assertUtils';import localDb from\"../../../dbs/local/localDb\";import{KeyringQrBase}from\"../../base/KeyringQrBase\";export var KeyringQr=function(_KeyringQrBase){_inherits(KeyringQr,_KeyringQrBase);var _super=_createSuper(KeyringQr);function KeyringQr(...args){var _this;_this=_super.call(this,...args);_this.coreApi=coreChainApi.btc.hd;return _this;}var _proto=KeyringQr.prototype;_proto.verifySignedTxMatched=function(){var _verifySignedTxMatched=_asyncToGenerator(function*({unsignedPsbt,signedPsbt}){return verifyBtcSignedPsbtMatched({unsignedPsbt,signedPsbt});});function verifySignedTxMatched(_x){return _verifySignedTxMatched.apply(this,arguments);}return verifySignedTxMatched;}();_proto.getChildPathTemplates=function getChildPathTemplates(params){return{childPathTemplates:[accountUtils.buildUtxoAddressRelPath()]};};_proto.signTransaction=function(){var _signTransaction=_asyncToGenerator(function*(params){var _this2=this;var{unsignedTx}=params;var vault=this.vault;var networkInfo=yield this.getCoreApiNetworkInfo();var network=getBtcForkNetwork(networkInfo.networkChainCode);var{btcExtraInfo}=yield vault.prepareBtcSignExtraInfo({unsignedTx});var dbAccount=yield this.vault.getAccount();var wallet=yield localDb.getWallet({walletId:this.walletId});var{airGapAccount}=yield this.findAirGapAccountByDbAccount({dbAccount,wallet});var xpub=airGapAccount?.extendedPublicKey;if(!xpub){throw new Error('xpub not found');}var deriveType=yield this.backgroundApi.serviceNetwork.getDeriveTypeByTemplate({networkId:this.networkId,template:dbAccount.template});var addressEncoding=deriveType.deriveInfo?.addressEncoding;if(!addressEncoding){throw new Error('addressEncoding not found');}var unsignedPsbt;var signedTx=yield this.baseSignByQrcode(params,{signRequestUrBuilder:function(){var _ref=_asyncToGenerator(function*({path,account,chainId,requestId,xfp}){unsignedPsbt=yield buildPsbt({network:getBtcForkNetwork(networkInfo.networkChainCode),unsignedTx,btcExtraInfo,buildInputMixinInfo:function(){var _ref2=_asyncToGenerator(function*({address}){var relPath=btcExtraInfo?.addressToPath?.[address]?.relPath;var fullPath=btcExtraInfo?.addressToPath?.[address]?.fullPath;if(!relPath){throw new Error('relPath not found');}var xpubAddressInfo=yield _this2.coreApi.getAddressFromXpub({network,xpub,relativePaths:[relPath],addressEncoding});var{[relPath]:publicKey}=xpubAddressInfo.publicKeys;if(publicKey){var pubkeyBuffer=Buffer.from(publicKey,'hex');return{pubkey:pubkeyBuffer,bip32Derivation:[{masterFingerprint:Buffer.from(xfp,'hex'),pubkey:pubkeyBuffer,path:fullPath}]};}return{pubkey:undefined};});return function buildInputMixinInfo(_x4){return _ref2.apply(this,arguments);};}()});var sdk=getAirGapSdk();return sdk.btc.generatePSBT(Buffer.from(unsignedPsbt.toBuffer()));});return function signRequestUrBuilder(_x3){return _ref.apply(this,arguments);};}(),signedResultBuilder:function(){var _ref3=_asyncToGenerator(function*({signatureUr}){var sdk=getAirGapSdk();var psbtHex='';try{psbtHex=sdk.btc.parsePSBT(checkIsDefined(signatureUr));}catch(error){throw new OneKeyErrorAirGapInvalidQrCode();}if(!psbtHex){throw new Error('BTC QR sign ERROR: psbtHex not found');}var signedPsbt=Psbt.fromHex(psbtHex,{network,maximumFeeRate:network.maximumFeeRate});yield _this2.verifySignedTxMatched({unsignedPsbt,signedPsbt});var{rawTx,txid}=yield _this2.coreApi.extractPsbtToSignedTx({psbt:signedPsbt});return Promise.resolve({txid,rawTx,encodedTx:params.unsignedTx.encodedTx});});return function signedResultBuilder(_x5){return _ref3.apply(this,arguments);};}()});return signedTx;});function signTransaction(_x2){return _signTransaction.apply(this,arguments);}return signTransaction;}();_proto.signMessage=function signMessage(params){throw new NotImplemented();};_proto.getVerifyAddressChainParams=function(){var _getVerifyAddressChainParams=_asyncToGenerator(function*(query){var{fullPath}=query;var{getHDPath,getScriptType}=yield CoreSDKLoader();var addressN=getHDPath(fullPath);var scriptType=getScriptType(addressN);return{scriptType:String(convertBtcScriptTypeForHardware(scriptType))};});function getVerifyAddressChainParams(_x6){return _getVerifyAddressChainParams.apply(this,arguments);}return getVerifyAddressChainParams;}();_proto.prepareAccounts=function(){var _prepareAccounts=_asyncToGenerator(function*(params){var _this3=this;var wallet=yield localDb.getWallet({walletId:this.walletId});var networkInfo=yield this.getCoreApiNetworkInfo();var network=getBtcForkNetwork(networkInfo.networkChainCode);var addressEncoding=params.deriveInfo?.addressEncoding;return this.basePrepareHdUtxoAccounts(params,{buildAddressesInfo:function(){var _ref4=_asyncToGenerator(function*({usedIndexes}){if(params?.isVerifyAddressAction){return _this3.verifyQrWalletAddressByTwoWayScan(params,{indexes:usedIndexes});}var ret=[];for(var index of usedIndexes){var{fullPath,airGapAccount,childPathTemplate}=yield _this3.findAirGapAccountInPrepareAccounts(params,{index,wallet});if(!airGapAccount){throw new OneKeyErrorAirGapAccountNotFound();}var xpub='';var addressRelPath=void 0;if(childPathTemplate){var childPath=accountUtils.buildPathFromTemplate({template:childPathTemplate,index});addressRelPath=childPath;var extendedPublicKey=airGapAccount?.extendedPublicKey;if(!extendedPublicKey){throw new Error('xpub not found');}xpub=convertBtcForkXpub({btcForkNetwork:network,addressEncoding,xpub:extendedPublicKey});}if(!xpub){throw new Error('publicKey not found');}if(!addressRelPath){throw new Error('addressRelPath not found');}var xpubAddressInfo=yield _this3.coreApi.getAddressFromXpub({network,xpub,relativePaths:[addressRelPath],addressEncoding});var{[addressRelPath]:address}=xpubAddressInfo.addresses;var{[addressRelPath]:publicKey}=xpubAddressInfo.publicKeys;var addressInfo={address,publicKey,path:airGapAccount.path,relPath:addressRelPath,xpub,xpubSegwit:xpubAddressInfo.xpubSegwit,addresses:{[addressRelPath]:address}};ret.push(addressInfo);}return ret;});return function buildAddressesInfo(_x8){return _ref4.apply(this,arguments);};}()});});function prepareAccounts(_x7){return _prepareAccounts.apply(this,arguments);}return prepareAccounts;}();return _createClass(KeyringQr);}(KeyringQrBase);","import _isEqual from\"lodash/isEqual\";import{ETranslations}from'@onekeyhq/shared/src/locale';import{appLocale}from'@onekeyhq/shared/src/locale/appLocale';export function verifyBtcSignedPsbtMatched({unsignedPsbt,signedPsbt}){if(!unsignedPsbt||!signedPsbt){throw new Error(appLocale.intl.formatMessage({id:ETranslations.feedback_psbt_not_found}));}var isEqualFn=_isEqual;if(!isEqualFn(unsignedPsbt.txInputs,signedPsbt.txInputs)){throw new Error(appLocale.intl.formatMessage({id:ETranslations.feedback_psbt_inputs_mismatch}));}if(!isEqualFn(unsignedPsbt.txOutputs,signedPsbt.txOutputs)){throw new Error(appLocale.intl.formatMessage({id:ETranslations.feedback_psbt_outputs_mismatch}));}if(!isEqualFn(unsignedPsbt.data.globalMap,signedPsbt.data.globalMap)){throw new Error(appLocale.intl.formatMessage({id:ETranslations.feedback_psbt_uuid_mismatch}));}}","import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import _get from\"@babel/runtime/helpers/get\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import{getBtcForkNetwork,getPublicKeyFromXpub}from'@onekeyhq/core/src/chains/btc/sdkBtc';import coreChainApi from'@onekeyhq/core/src/instance/coreChainApi';import{KeyringWatchingBase}from\"../../base/KeyringWatchingBase\";export var KeyringWatching=function(_KeyringWatchingBase){_inherits(KeyringWatching,_KeyringWatchingBase);var _super=_createSuper(KeyringWatching);function KeyringWatching(...args){var _this;_this=_super.call(this,...args);_this.coreApi=coreChainApi.btc.hd;return _this;}var _proto=KeyringWatching.prototype;_proto.prepareAccounts=function(){var _prepareAccounts=_asyncToGenerator(function*(params){var accounts=yield _get(_getPrototypeOf(KeyringWatching.prototype),\"basePrepareUtxoWatchingAccounts\",this).call(this,params);var networkInfo=yield this.getCoreApiNetworkInfo();var network=getBtcForkNetwork(networkInfo.networkChainCode);for(var account of accounts){if(!account.pub&&account.xpub){var pub=getPublicKeyFromXpub({xpub:account.xpub,network,relPath:'0/0'});account.pub=pub;}}return accounts;});function prepareAccounts(_x){return _prepareAccounts.apply(this,arguments);}return prepareAccounts;}();return _createClass(KeyringWatching);}(KeyringWatchingBase);","import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import coreChainApi from'@onekeyhq/core/src/instance/coreChainApi';import{KeyringHardwareBtcBase}from\"./KeyringHardwareBtcBase\";export var KeyringHardware=function(_KeyringHardwareBtcBa){_inherits(KeyringHardware,_KeyringHardwareBtcBa);var _super=_createSuper(KeyringHardware);function KeyringHardware(...args){var _this;_this=_super.call(this,...args);_this.coreApi=coreChainApi.btc.hd;_this.hwSdkNetwork='btc';return _this;}var _proto=KeyringHardware.prototype;_proto.buildHwAllNetworkPrepareAccountsParams=function(){var _buildHwAllNetworkPrepareAccountsParams=_asyncToGenerator(function*({template,index}){return{network:this.hwSdkNetwork,path:this.buildPrepareAccountsPrefixedPath({template,index}),showOnOneKey:false};});function buildHwAllNetworkPrepareAccountsParams(_x){return _buildHwAllNetworkPrepareAccountsParams.apply(this,arguments);}return buildHwAllNetworkPrepareAccountsParams;}();return _createClass(KeyringHardware);}(KeyringHardwareBtcBase);","import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import axios from'axios';import{InvalidTransferValue}from'@onekeyhq/shared/src/errors';var ClientBtc=function(){function ClientBtc(url){this.request=axios.create({baseURL:url,timeout:30_000});}var _proto=ClientBtc.prototype;_proto.getInfo=function(){var _getInfo=_asyncToGenerator(function*(){var res=yield this.request.get('/api/v2').then(function(i){return i.data;});var bestBlockNumber=Number(res.blockbook.bestHeight);return{bestBlockNumber,isReady:Number.isFinite(bestBlockNumber)&&bestBlockNumber>0,coin:res.blockbook.coin};});function getInfo(){return _getInfo.apply(this,arguments);}return getInfo;}();_proto.broadcastTransaction=function(){var _broadcastTransaction=_asyncToGenerator(function*(rawTx){try{var _res$result;var res=null;if(rawTx.length<500){res=yield this.request.get(`/api/v2/sendtx/${rawTx}`).then(function(i){return i.data;});}else{res=yield this.request.post(`/api/v2/sendtx/`,rawTx,{headers:{'Content-Type':'text/plain'}}).then(function(i){return i.data;});}return(_res$result=res?.result)!=null?_res$result:'';}catch(e){var err=e;if(err.response?.data?.error?.includes('-26: dust')){throw new InvalidTransferValue();}if(err.response?.data?.error?.includes('transaction already in block chain')){throw new Error('Transaction already in block');}if(err.response?.data?.error){throw new Error(err.response?.data?.error);}throw err;}});function broadcastTransaction(_x){return _broadcastTransaction.apply(this,arguments);}return broadcastTransaction;}();return _createClass(ClientBtc);}();export{ClientBtc};","import _uniq from\"lodash/uniq\";import _cloneDeep from\"lodash/cloneDeep\";import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _objectWithoutProperties from\"@babel/runtime/helpers/objectWithoutProperties\";import _isNil from\"lodash/isNil\";import _isEmpty from\"lodash/isEmpty\";import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";var _excluded=[\"txid\",\"amount\"];function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import BigNumber from'bignumber.js';import{Psbt}from'bitcoinjs-lib';import{convertBtcXprvtToHex,getBtcForkNetwork as _getBtcForkNetwork,getBtcXpubFromXprvt,getBtcXpubSupportedAddressEncodings,getInputsToSignFromPsbt,validateBtcAddress}from'@onekeyhq/core/src/chains/btc/sdkBtc';import{decodedPsbt as decodedPsbtFN,formatPsbtHex,toPsbtNetwork}from'@onekeyhq/core/src/chains/btc/sdkBtc/providerUtils';import{EOutputsTypeForCoinSelect}from'@onekeyhq/core/src/chains/btc/types';import coreChainApi from'@onekeyhq/core/src/instance/coreChainApi';import{decodeSensitiveText,encodeSensitiveText}from'@onekeyhq/core/src/secret';import{EAddressEncodings}from'@onekeyhq/core/src/types';import{estimateTxSize,getBIP44Path}from'@onekeyhq/core/src/utils';import{coinSelectWithWitness,getCoinSelectTxType as _getCoinSelectTxType}from'@onekeyhq/core/src/utils/coinSelectUtils';import{BTC_TX_PLACEHOLDER_VSIZE}from'@onekeyhq/shared/src/consts/chainConsts';import{InsufficientBalance,OneKeyInternalError}from'@onekeyhq/shared/src/errors';import{ETranslations}from'@onekeyhq/shared/src/locale';import{appLocale}from'@onekeyhq/shared/src/locale/appLocale';import{checkIsDefined}from'@onekeyhq/shared/src/utils/assertUtils';import{memoizee}from'@onekeyhq/shared/src/utils/cacheUtils';import timerUtils from'@onekeyhq/shared/src/utils/timerUtils';import{EDecodedTxActionType,EDecodedTxStatus}from'@onekeyhq/shared/types/tx';import{VaultBase}from\"../../base/VaultBase\";import{KeyringHardware}from\"./KeyringHardware\";import{KeyringHd}from\"./KeyringHd\";import{KeyringImported}from\"./KeyringImported\";import{KeyringQr}from\"./KeyringQr\";import{KeyringWatching}from\"./KeyringWatching\";import{ClientBtc}from\"./sdkBtc/ClientBtc\";var VaultBtc=function(_VaultBase){_inherits(VaultBtc,_VaultBase);var _super=_createSuper(VaultBtc);function VaultBtc(...args){var _this;_this=_super.call(this,...args);_this.coreApi=coreChainApi.btc.hd;_this.keyringMap={hd:KeyringHd,qr:KeyringQr,hw:KeyringHardware,imported:KeyringImported,watching:KeyringWatching,external:KeyringWatching};_this._getFeeRate=memoizee(_asyncToGenerator(function*(){try{var feeInfo=yield _this.backgroundApi.serviceGas.estimateFee({accountId:_this.accountId,networkId:_this.networkId,accountAddress:yield _this.getAccountAddress()});var{feeUTXO}=feeInfo;if(!feeUTXO||_isEmpty(feeUTXO)){throw new OneKeyInternalError(appLocale.intl.formatMessage({id:ETranslations.feedback_failed_to_fet_fee_rate}));}var fees=feeUTXO.map(function(item){var _item$feeRate;return new BigNumber((_item$feeRate=item.feeRate)!=null?_item$feeRate:0).toFixed(0);});var negativeIndex=fees.findIndex(function(val){return new BigNumber(val).lt(0);});while(negativeIndex>=0){var leftIndex=negativeIndex-1;var rightIndex=negativeIndex+1;while(true){if(leftIndex>=0&&new BigNumber(fees[leftIndex]).gte(0)){fees[negativeIndex]=fees[leftIndex];break;}if(rightIndex<fees.length&&new BigNumber(fees[rightIndex]).gte(0)){fees[negativeIndex]=fees[rightIndex];break;}leftIndex-=1;rightIndex+=1;if(leftIndex<0&&rightIndex>=fees.length){break;}}negativeIndex=fees.findIndex(function(val){return new BigNumber(val).lt(0);});}return fees.sort(function(a,b){return new BigNumber(a).comparedTo(new BigNumber(b));});}catch(e){throw new OneKeyInternalError(appLocale.intl.formatMessage({id:ETranslations.feedback_failed_to_fet_fee_rate}));}}),{promise:true,max:1,maxAge:1000*30});_this._collectUTXOsInfoByApi=memoizee(_asyncToGenerator(function*(){try{var inscriptionProtection=yield _this.backgroundApi.serviceSetting.getInscriptionProtection();var checkInscriptionProtectionEnabled=yield _this.backgroundApi.serviceSetting.checkInscriptionProtectionEnabled({networkId:_this.networkId,accountId:_this.accountId});var withCheckInscription=checkInscriptionProtectionEnabled&&inscriptionProtection;var{utxoList,frozenUtxoList,allUtxoList}=yield _this.backgroundApi.serviceAccountProfile.fetchAccountDetails({networkId:_this.networkId,accountId:_this.accountId,withUTXOList:true,withFrozenBalance:true,withCheckInscription});if(!utxoList){throw new OneKeyInternalError(appLocale.intl.formatMessage({id:ETranslations.feedback_failed_to_get_utxos}));}return{utxoList,frozenUtxoList,allUtxoList};}catch(e){throw new OneKeyInternalError(appLocale.intl.formatMessage({id:ETranslations.feedback_failed_to_get_utxos}));}}),{promise:true,max:1,maxAge:timerUtils.getTimeDurationMs({seconds:30})});return _this;}var _proto=VaultBtc.prototype;_proto.buildAccountAddressDetail=function(){var _buildAccountAddressDetail=_asyncToGenerator(function*(params){var{account,networkId}=params;var{address}=account;return{networkId,normalizedAddress:address,displayAddress:address,address,baseAddress:address,isValid:true,allowEmptyAddress:false};});function buildAccountAddressDetail(_x){return _buildAccountAddressDetail.apply(this,arguments);}return buildAccountAddressDetail;}();_proto.buildDecodedTx=function(){var _buildDecodedTx=_asyncToGenerator(function*(params){var{unsignedTx}=params;var encodedTx=unsignedTx.encodedTx;var{swapInfo,stakingInfo}=unsignedTx;var{inputs,outputs,inputsToSign,psbtHex}=encodedTx;if(psbtHex&&Array.isArray(inputsToSign)){var decodedPsbt=yield this.buildDecodedPsbtTx(params);var decodedPsbtAction=decodedPsbt.actions[0];if(stakingInfo){var accountAddress=yield this.getAccountAddress();var{send}=stakingInfo;var action=yield this.buildInternalStakingAction({accountAddress,stakingInfo,stakingToAddress:decodedPsbtAction.assetTransfer?.to});var _sendNativeTokenAmountBN=new BigNumber(0);var _sendNativeTokenAmountValueBN=new BigNumber(0);if(send&&send.token.isNative){_sendNativeTokenAmountBN=new BigNumber(send.amount);_sendNativeTokenAmountValueBN=_sendNativeTokenAmountBN.shiftedBy(send.token.decimals);decodedPsbt.nativeAmount=_sendNativeTokenAmountBN.toFixed();decodedPsbt.nativeAmountValue=_sendNativeTokenAmountValueBN.toFixed();}if(action.assetTransfer){action.assetTransfer.utxoFrom=decodedPsbtAction.assetTransfer?.utxoFrom;action.assetTransfer.utxoTo=decodedPsbtAction.assetTransfer?.utxoTo;}decodedPsbt.actions=[action];}return decodedPsbt;}var network=yield this.getNetwork();var account=yield this.getAccount();var nativeToken=yield this.backgroundApi.serviceToken.getToken({accountId:this.accountId,networkId:this.networkId,tokenIdOnNetwork:''});var utxoFrom=inputs.map(function(input){return{address:input.address,balance:new BigNumber(input.value).shiftedBy(-network.decimals).toFixed(),balanceValue:input.value,symbol:network.symbol,isMine:true};});var originalUtxoTo=outputs.map(function(output){return{address:output.address,balance:new BigNumber(output.value).shiftedBy(-network.decimals).toFixed(),balanceValue:output.value,symbol:network.symbol,isMine:output.address===account.address};});var utxoTo=outputs.length>1?outputs.filter(function(output){return!output.payload?.isChange&&output.address;}).map(function(output){return{address:output.address,balance:new BigNumber(output.value).shiftedBy(-network.decimals).toFixed(),balanceValue:output.value,symbol:network.symbol,isMine:output.address===account.address};}):outputs.map(function(output){return{address:output.address,balance:new BigNumber(output.value).shiftedBy(-network.decimals).toFixed(),balanceValue:output.value,symbol:network.symbol,isMine:output.address===account.address};});var sendNativeTokenAmountBN=new BigNumber(0);var sendNativeTokenAmountValueBN=new BigNumber(0);var actions=[{type:EDecodedTxActionType.UNKNOWN,unknownAction:{from:account.address,to:utxoTo[0].address}}];if(swapInfo){var _providerInfo$provide,_swapSendToken$logoUR,_swapSendToken$name,_swapReceiveToken$log,_swapReceiveToken$nam;var swapSendToken=swapInfo.sender.token;var swapReceiveToken=swapInfo.receiver.token;var providerInfo=swapInfo.swapBuildResData.result.info;var _action=yield this.buildTxTransferAssetAction({from:swapInfo.accountAddress,to:utxoTo[0].address,application:{name:providerInfo.providerName,icon:(_providerInfo$provide=providerInfo.providerLogo)!=null?_providerInfo$provide:''},transfers:[{from:swapInfo.accountAddress,to:'',tokenIdOnNetwork:swapSendToken.contractAddress,icon:(_swapSendToken$logoUR=swapSendToken.logoURI)!=null?_swapSendToken$logoUR:'',name:(_swapSendToken$name=swapSendToken.name)!=null?_swapSendToken$name:'',symbol:swapSendToken.symbol,amount:swapInfo.sender.amount,isNFT:false,isNative:swapSendToken.isNative,networkId:swapInfo.sender.accountInfo.networkId},{from:'',to:swapInfo.receivingAddress,tokenIdOnNetwork:swapReceiveToken.contractAddress,icon:(_swapReceiveToken$log=swapReceiveToken.logoURI)!=null?_swapReceiveToken$log:'',name:(_swapReceiveToken$nam=swapReceiveToken.name)!=null?_swapReceiveToken$nam:'',symbol:swapReceiveToken.symbol,amount:swapInfo.receiver.amount,isNFT:false,isNative:swapReceiveToken.isNative,networkId:swapInfo.receiver.accountInfo.networkId}],isInternalSwap:true,swapReceivedAddress:swapInfo.receivingAddress,swapReceivedNetworkId:swapInfo.receiver.token.networkId});if(swapSendToken.isNative){sendNativeTokenAmountBN=new BigNumber(swapInfo.sender.amount);sendNativeTokenAmountValueBN=sendNativeTokenAmountBN.shiftedBy(swapSendToken.decimals);}if(_action.assetTransfer){_action.assetTransfer.utxoFrom=utxoFrom;_action.assetTransfer.utxoTo=originalUtxoTo;}actions=[_action];}else if(stakingInfo){var _accountAddress=yield this.getAccountAddress();var{send:_send}=stakingInfo;var _action2=yield this.buildInternalStakingAction({accountAddress:_accountAddress,stakingInfo,stakingToAddress:utxoTo[0].address});if(_send&&_send.token.isNative){sendNativeTokenAmountBN=new BigNumber(_send.amount);sendNativeTokenAmountValueBN=sendNativeTokenAmountBN.shiftedBy(_send.token.decimals);}if(_action2.assetTransfer){_action2.assetTransfer.utxoFrom=utxoFrom;_action2.assetTransfer.utxoTo=originalUtxoTo;}actions=[_action2];}else if(nativeToken){actions=[{type:EDecodedTxActionType.ASSET_TRANSFER,assetTransfer:{from:account.address,to:utxoTo[0].address,sends:utxoTo.map(function(utxo){var _nativeToken$logoURI;sendNativeTokenAmountBN=sendNativeTokenAmountBN.plus(utxo.balance);sendNativeTokenAmountValueBN=sendNativeTokenAmountValueBN.plus(utxo.balanceValue);return{from:account.address,to:utxo.address,isNative:true,tokenIdOnNetwork:'',name:nativeToken.name,icon:(_nativeToken$logoURI=nativeToken.logoURI)!=null?_nativeToken$logoURI:'',amount:utxo.balance,amountValue:utxo.balanceValue,symbol:network.symbol};}),receives:[],utxoFrom,utxoTo:originalUtxoTo}}];}var totalFeeInNative=new BigNumber(encodedTx.fee).shiftedBy(-1*network.feeMeta.decimals).toFixed();return{txid:'',owner:account.address,signer:account.address,nonce:0,actions,status:EDecodedTxStatus.Pending,networkId:this.networkId,accountId:this.accountId,xpub:account.xpub,extraInfo:null,encodedTx,totalFeeInNative,nativeAmount:sendNativeTokenAmountBN.toFixed(),nativeAmountValue:sendNativeTokenAmountValueBN.toFixed()};});function buildDecodedTx(_x2){return _buildDecodedTx.apply(this,arguments);}return buildDecodedTx;}();_proto.buildDecodedPsbtTx=function(){var _buildDecodedPsbtTx=_asyncToGenerator(function*(params){var{unsignedTx}=params;var encodedTx=unsignedTx.encodedTx;var{inputs,outputs,inputsToSign}=encodedTx;if(!inputsToSign||Array.isArray(inputsToSign)&&!inputsToSign.length){throw new OneKeyInternalError('inputsToSign is empty');}var network=yield this.getNetwork();var account=yield this.getAccount();var nativeToken=yield this.backgroundApi.serviceToken.getToken({accountId:this.accountId,networkId:this.networkId,tokenIdOnNetwork:''});if(!nativeToken){throw new OneKeyInternalError('Native token not found');}var{allUtxoList}=yield this._collectUTXOsInfoByApi();var utxoFrom=[];inputsToSign.forEach(function(inputToSign){var index=inputToSign.index;var input=inputs[index];var existUtxo=allUtxoList?.find(function(i){return i.txid===input.txid&&i.vout===input.vout;});if(existUtxo){utxoFrom.push({address:input.address,balance:new BigNumber(input.value).shiftedBy(-network.decimals).toFixed(),balanceValue:input.value,symbol:network.symbol,isMine:true});}});var originalUtxoTo=outputs.map(function(output){return{address:output.address,balance:new BigNumber(output.value).shiftedBy(-network.decimals).toFixed(),balanceValue:output.value,symbol:network.symbol,isMine:output.address===account.address};});var utxoTo=outputs.length>1?function(){var nonChangeOutputs=outputs.filter(function(output){return!output.payload?.isChange&&output.address;});return(nonChangeOutputs.length?nonChangeOutputs:outputs).map(function(output){return{address:output.address,balance:new BigNumber(output.value).shiftedBy(-network.decimals).toFixed(),balanceValue:output.value,symbol:network.symbol,isMine:output.address===account.address};});}():outputs.map(function(output){return{address:output.address,balance:new BigNumber(output.value).shiftedBy(-network.decimals).toFixed(),balanceValue:output.value,symbol:network.symbol,isMine:output.address===account.address};});var sendNativeTokenAmountBN=new BigNumber(0);var sendNativeTokenAmountValueBN=new BigNumber(0);var actions=[{type:EDecodedTxActionType.ASSET_TRANSFER,assetTransfer:{from:utxoFrom.length?utxoFrom[0].address:inputs[0].address,to:utxoTo[0].address,sends:utxoTo.map(function(utxo){var _nativeToken$logoURI2;return{from:account.address,to:utxo.address,isNative:true,tokenIdOnNetwork:'',name:nativeToken.name,icon:(_nativeToken$logoURI2=nativeToken.logoURI)!=null?_nativeToken$logoURI2:'',amount:utxo.balance,amountValue:utxo.balanceValue,symbol:network.symbol};}),receives:[],utxoFrom,utxoTo:originalUtxoTo}}];var shouldCalculateNativeTokenAmount=utxoFrom.length>=1;utxoTo.forEach(function(utxo){if(!utxo.isMine&&shouldCalculateNativeTokenAmount){sendNativeTokenAmountBN=sendNativeTokenAmountBN.plus(utxo.balance);sendNativeTokenAmountValueBN=sendNativeTokenAmountValueBN.plus(utxo.balanceValue);}});var totalFeeInNative=new BigNumber(encodedTx.fee).shiftedBy(-1*network.feeMeta.decimals).toFixed();return{txid:'',owner:account.address,signer:account.address,nonce:0,actions,status:EDecodedTxStatus.Pending,networkId:this.networkId,accountId:this.accountId,xpub:account.xpub,extraInfo:null,encodedTx,totalFeeInNative,nativeAmount:sendNativeTokenAmountBN.toFixed(),nativeAmountValue:sendNativeTokenAmountValueBN.toFixed()};});function buildDecodedPsbtTx(_x3){return _buildDecodedPsbtTx.apply(this,arguments);}return buildDecodedPsbtTx;}();_proto.buildEncodedTx=function(){var _buildEncodedTx=_asyncToGenerator(function*(params){var{transfersInfo,specifiedFeeRate}=params;if(!transfersInfo||_isEmpty(transfersInfo)){throw new OneKeyInternalError('transfersInfo is required');}return this._buildEncodedTxFromTransfer({transfersInfo,specifiedFeeRate});});function buildEncodedTx(_x4){return _buildEncodedTx.apply(this,arguments);}return buildEncodedTx;}();_proto.buildUnsignedTx=function(){var _buildUnsignedTx=_asyncToGenerator(function*(params){var _ref3;var encodedTx=(_ref3=params.encodedTx)!=null?_ref3:yield this.buildEncodedTx(params);if(encodedTx){var _params$transfersInfo;return this._buildUnsignedTxFromEncodedTx({encodedTx,transfersInfo:(_params$transfersInfo=params.transfersInfo)!=null?_params$transfersInfo:[]});}throw new OneKeyInternalError();});function buildUnsignedTx(_x5){return _buildUnsignedTx.apply(this,arguments);}return buildUnsignedTx;}();_proto.updateUnsignedTx=function(){var _updateUnsignedTx=_asyncToGenerator(function*(options){var{unsignedTx,feeInfo}=options;var encodedTxNew=unsignedTx.encodedTx;var{psbtHex,inputsToSign}=encodedTxNew;var isPsbtTx=psbtHex&&inputsToSign;if(feeInfo&&!isPsbtTx){if(!unsignedTx.transfersInfo||_isEmpty(unsignedTx.transfersInfo)){throw new OneKeyInternalError('transfersInfo is required');}encodedTxNew=yield this._attachFeeInfoToEncodedTx({encodedTx:unsignedTx.encodedTx,transfersInfo:unsignedTx.transfersInfo,feeInfo});}unsignedTx.encodedTx=encodedTxNew;return Promise.resolve(unsignedTx);});function updateUnsignedTx(_x6){return _updateUnsignedTx.apply(this,arguments);}return updateUnsignedTx;}();_proto._attachFeeInfoToEncodedTx=function(){var _attachFeeInfoToEncodedTx2=_asyncToGenerator(function*({encodedTx,feeInfo,transfersInfo}){var network=yield this.getNetwork();if(feeInfo.feeUTXO?.feeRate){var feeRate=new BigNumber(feeInfo.feeUTXO.feeRate).shiftedBy(-network.feeMeta.decimals).toFixed();if(typeof feeRate==='string'){return this._buildEncodedTxFromTransfer({transfersInfo,specifiedFeeRate:feeRate});}}return Promise.resolve(encodedTx);});function _attachFeeInfoToEncodedTx(_x7){return _attachFeeInfoToEncodedTx2.apply(this,arguments);}return _attachFeeInfoToEncodedTx;}();_proto.getBtcForkNetwork=function(){var _getBtcForkNetwork2=_asyncToGenerator(function*(){return _getBtcForkNetwork(yield this.getNetworkImpl());});function getBtcForkNetwork(){return _getBtcForkNetwork2.apply(this,arguments);}return getBtcForkNetwork;}();_proto.validatePrivateKey=function validatePrivateKey(){return Promise.resolve({isValid:false});};_proto.validateXpub=function(){var _validateXpub=_asyncToGenerator(function*(xpub){var btcForkNetwork=yield this.getBtcForkNetwork();return Promise.resolve(this.coreApi.validateXpub({xpub,btcForkNetwork}));});function validateXpub(_x8){return _validateXpub.apply(this,arguments);}return validateXpub;}();_proto.validateXprvt=function(){var _validateXprvt=_asyncToGenerator(function*(xprvt){var btcForkNetwork=yield this.getBtcForkNetwork();return Promise.resolve(this.coreApi.validateXprvt({xprvt,btcForkNetwork}));});function validateXprvt(_x9){return _validateXprvt.apply(this,arguments);}return validateXprvt;}();_proto.validateAddress=function(){var _validateAddress=_asyncToGenerator(function*(address){return validateBtcAddress({address,network:yield this.getBtcForkNetwork()});});function validateAddress(_x10){return _validateAddress.apply(this,arguments);}return validateAddress;}();_proto.validateGeneralInput=function(){var _validateGeneralInput=_asyncToGenerator(function*(params){var{result,inputDecoded:input}=yield this.baseValidateGeneralInput(params);if(result.addressResult?.isValid&&result.addressResult?.encoding){var settings=yield this.getVaultSettings();var items=Object.values(settings.accountDeriveInfo);result.deriveInfoItems=items.filter(function(item){return item.addressEncoding&&result.addressResult?.encoding===item.addressEncoding;});}else{var xpub='';if(result.xpubResult?.isValid){xpub=input;}var network=yield this.getBtcForkNetwork();if(!xpub&&result.xprvtResult?.isValid){({xpub}=getBtcXpubFromXprvt({network,privateKeyRaw:convertBtcXprvtToHex({xprvt:input})}));}if(xpub){var{supportEncodings}=getBtcXpubSupportedAddressEncodings({xpub,network});if(supportEncodings&&supportEncodings.length){var _settings=yield this.getVaultSettings();var _items=Object.values(_settings.accountDeriveInfo);result.deriveInfoItems=_items.filter(function(item){return item.addressEncoding&&supportEncodings.includes(item.addressEncoding);});}}}return result;});function validateGeneralInput(_x11){return _validateGeneralInput.apply(this,arguments);}return validateGeneralInput;}();_proto.parseAddressEncodings=function parseAddressEncodings(addresses){var _this2=this;return Promise.all(addresses.map(function(address){return _this2.validateAddress(address);})).then(function(results){return results.map(function(i){return i.encoding;});});};_proto.getCoinSelectTxType=function(){var _getCoinSelectTxType2=_asyncToGenerator(function*(address){var encoding=(yield this.parseAddressEncodings([address]))[0];if(encoding){return _getCoinSelectTxType(encoding);}throw new Error('getCoinSelectTxType ERROR: Invalid encoding');});function getCoinSelectTxType(_x12){return _getCoinSelectTxType2.apply(this,arguments);}return getCoinSelectTxType;}();_proto._buildEncodedTxFromTransfer=function(){var _buildEncodedTxFromTransfer2=_asyncToGenerator(function*(params){var{transfersInfo}=params;if(transfersInfo.length===1){var transferInfo=transfersInfo[0];if(!transferInfo.to){throw new Error('buildEncodedTx ERROR: transferInfo.to is missing');}}return this._buildEncodedTxFromBatchTransfer(params);});function _buildEncodedTxFromTransfer(_x13){return _buildEncodedTxFromTransfer2.apply(this,arguments);}return _buildEncodedTxFromTransfer;}();_proto._buildEncodedTxFromBatchTransfer=function(){var _buildEncodedTxFromBatchTransfer2=_asyncToGenerator(function*(params){var{transfersInfo}=params;var transferInfo=transfersInfo[0];var account=yield this.getAccount();var{inputs,outputs,fee,txSize,inputsForCoinSelect,outputsForCoinSelect}=yield this._buildTransferParamsWithCoinSelector(params);if(!inputs||!outputs||_isNil(fee)){var insufficientBalance=appLocale.intl.formatMessage({id:ETranslations.earn_insufficient_balance});var description=appLocale.intl.formatMessage({id:ETranslations.send_toast_btc_fork_insufficient_fund});throw new InsufficientBalance({message:`${insufficientBalance} ${description}`});}return{inputs:inputs.map(function(_ref4){var{txid,amount}=_ref4,keep=_objectWithoutProperties(_ref4,_excluded);return _objectSpread(_objectSpread({address:account.address,path:''},keep),{},{txid,value:amount});}),outputs:outputs.map(function({type,amount,address,path,script}){var valueText=amount;if(type==='opreturn'&&valueText&&new BigNumber(valueText).eq(0)&&!address&&script===transferInfo.opReturn){return{address:'',value:valueText,payload:{opReturn:transferInfo.opReturn}};}if(!valueText||new BigNumber(valueText).lte(0)){throw new Error('buildEncodedTxFromBatchTransfer ERROR: Invalid value');}if(!address){throw new Error('buildEncodedTxFromBatchTransfer ERROR: Invalid output address');}if(type==='payment'){return{address,value:valueText};}if(type==='change'){if(!path){throw new Error('buildEncodedTxFromBatchTransfer ERROR: Invalid change path');}return{address,value:valueText,payload:{isChange:true,bip44Path:path}};}throw new Error('buildEncodedTxFromBatchTransfer ERROR: Invalid output type');}),inputsForCoinSelect,outputsForCoinSelect,fee:fee.toString(),txSize};});function _buildEncodedTxFromBatchTransfer(_x14){return _buildEncodedTxFromBatchTransfer2.apply(this,arguments);}return _buildEncodedTxFromBatchTransfer;}();_proto._buildTransferParamsWithCoinSelector=function(){var _buildTransferParamsWithCoinSelector2=_asyncToGenerator(function*({transfersInfo,specifiedFeeRate}){var network=yield this.getNetwork();if(!transfersInfo.length){throw new Error('buildTransferParamsWithCoinSelector ERROR: transferInfos is required');}var isBatchTransfer=transfersInfo.length>1;var{utxoList:utxosInfo}=yield this._collectUTXOsInfoByApi();var feeRate=typeof specifiedFeeRate!=='undefined'?new BigNumber(specifiedFeeRate).shiftedBy(network.feeMeta.decimals).toFixed():(yield this._getFeeRate())[1];var inputsForCoinSelect=utxosInfo.map(function({txid,vout,value,address,path,confirmations}){return{txId:txid,vout,value:parseInt(value,10),amount:new BigNumber(parseInt(value,10)).toFixed(),address,path,confirmations};});var outputsForCoinSelect=[];if(isBatchTransfer){outputsForCoinSelect=transfersInfo.map(function({to,amount}){return{type:EOutputsTypeForCoinSelect.Payment,address:to,value:parseInt(new BigNumber(amount).shiftedBy(network.decimals).toFixed(),10),amount:new BigNumber(amount).shiftedBy(network.decimals).toFixed()};});}else{var transferInfo=transfersInfo[0];var{to,amount}=transferInfo;var allUtxoAmount=utxosInfo.reduce(function(v,{value}){return v.plus(value);},new BigNumber('0')).shiftedBy(-network.decimals);if(allUtxoAmount.lt(amount)){throw new InsufficientBalance({info:{symbol:network.symbol}});}var max=allUtxoAmount.lte(amount);var value=new BigNumber(amount).shiftedBy(network.decimals).toFixed();outputsForCoinSelect=[max?{address:to,type:EOutputsTypeForCoinSelect.SendMax}:{type:EOutputsTypeForCoinSelect.Payment,address:to,value:parseInt(value,10),amount:value}];if(transferInfo.opReturn&&typeof transferInfo.opReturn==='string'&&transferInfo.opReturn.length){outputsForCoinSelect.push({address:'',value:0,amount:'0',script:transferInfo.opReturn,type:EOutputsTypeForCoinSelect.OpReturn,dataHex:Buffer.from(transferInfo.opReturn,'ascii').toString('hex')});}}if(!isBatchTransfer&&outputsForCoinSelect.length>2){throw new Error('single transfer should only have one output');}var btcForkNetwork=yield this.getBtcForkNetwork();var dbAccount=yield this.getAccount();var txType=yield this.getCoinSelectTxType(dbAccount.address);var{inputs,outputs,fee,bytes}=coinSelectWithWitness({inputsForCoinSelect,outputsForCoinSelect,feeRate,network:btcForkNetwork,changeAddress:{address:dbAccount.address,path:getBIP44Path(dbAccount,dbAccount.address)},txType});return{inputs,outputs,fee,inputsForCoinSelect,outputsForCoinSelect,feeRate,txSize:bytes};});function _buildTransferParamsWithCoinSelector(_x15){return _buildTransferParamsWithCoinSelector2.apply(this,arguments);}return _buildTransferParamsWithCoinSelector;}();_proto._buildUnsignedTxFromEncodedTx=function(){var _buildUnsignedTxFromEncodedTx2=_asyncToGenerator(function*({encodedTx,transfersInfo}){var{inputs,outputs,inputsForCoinSelect,txSize:encodedTxTxSize}=encodedTx;var txSize=encodedTxTxSize;if(!txSize){txSize=BTC_TX_PLACEHOLDER_VSIZE;var inputsInUnsignedTx=[];for(var input of inputs){var value=new BigNumber(input.value);inputsInUnsignedTx.push({address:input.address,value,utxo:{txid:input.txid,vout:input.vout,value}});}var selectedInputs=inputsForCoinSelect?.filter(function(input){return inputsInUnsignedTx.some(function(i){return i.utxo?.txid===input.txId&&i.utxo.vout===input.vout;});});if(Number(selectedInputs?.length)>0&&outputs.length>0){var _outputs$map;txSize=estimateTxSize(selectedInputs!=null?selectedInputs:[],(_outputs$map=outputs.map(function(o){return{type:EOutputsTypeForCoinSelect.Payment,address:o.address,value:parseInt(o.value,10)};}))!=null?_outputs$map:[]);}}var ret={txSize,encodedTx,transfersInfo};return Promise.resolve(ret);});function _buildUnsignedTxFromEncodedTx(_x16){return _buildUnsignedTxFromEncodedTx2.apply(this,arguments);}return _buildUnsignedTxFromEncodedTx;}();_proto.collectTxsByApi=function(){var _collectTxsByApi=_asyncToGenerator(function*(txids){try{var lookup={};var txs=yield this.backgroundApi.serviceSend.getRawTransactions({networkId:this.networkId,txids});Object.keys(txs).forEach(function(txid){return lookup[txid]=txs[txid].rawTx;});return lookup;}catch(e){throw new OneKeyInternalError('Failed to get raw transactions.');}});function collectTxsByApi(_x17){return _collectTxsByApi.apply(this,arguments);}return collectTxsByApi;}();_proto._getRelPathsToAddressByApi=function(){var _getRelPathsToAddressByApi2=_asyncToGenerator(function*({addresses,account}){var{utxoList:utxos}=yield this._collectUTXOsInfoByApi();var pathToAddresses={};var addressToPath={};for(var utxo of utxos){var{address:_address,path:_fullPath}=utxo;if(addresses.includes(_address)){var relPath=_fullPath.split('/').slice(-2).join('/');pathToAddresses[_fullPath]={address:_address,relPath,fullPath:_fullPath};}}var firstRelPath='0/0';var firstFullPath=[account.path,firstRelPath].join('/');if(!pathToAddresses[firstFullPath]){pathToAddresses[firstFullPath]={address:account.address,relPath:firstRelPath,fullPath:firstFullPath};}var relPaths=[];Object.values(pathToAddresses).forEach(function(item){relPaths.push(item.relPath);addressToPath[item.address]=_cloneDeep(item);});return{relPaths:_uniq(relPaths),pathToAddresses,addressToPath};});function _getRelPathsToAddressByApi(_x18){return _getRelPathsToAddressByApi2.apply(this,arguments);}return _getRelPathsToAddressByApi;}();_proto._collectInfoForSoftwareSign=function(){var _collectInfoForSoftwareSign2=_asyncToGenerator(function*(unsignedTx){var{inputs}=unsignedTx.encodedTx;var inputAddressesEncodings=yield this.parseAddressEncodings(inputs.map(function(i){return i.address;}));var nonWitnessInputPrevTxids=Array.from(new Set(inputAddressesEncodings.map(function(encoding,index){if(encoding===EAddressEncodings.P2PKH){return checkIsDefined(inputs[index]).txid;}return undefined;}).filter(function(i){return!!i;})));var nonWitnessPrevTxs=yield this.collectTxsByApi(nonWitnessInputPrevTxids);return[inputAddressesEncodings,nonWitnessPrevTxs];});function _collectInfoForSoftwareSign(_x19){return _collectInfoForSoftwareSign2.apply(this,arguments);}return _collectInfoForSoftwareSign;}();_proto.prepareBtcSignExtraInfo=function(){var _prepareBtcSignExtraInfo=_asyncToGenerator(function*({unsignedTx,unsignedMessage}){var account=yield this.getAccount();var addresses=[];if(unsignedMessage){addresses=[account.address];}if(unsignedTx){var{inputs,inputsToSign}=unsignedTx.encodedTx;var emptyInputs=[];addresses=emptyInputs.concat(inputsToSign!=null?inputsToSign:[],inputs!=null?inputs:[]).filter(Boolean).map(function(input){return input.address;}).concat(account.address);}var{relPaths,pathToAddresses,addressToPath}=yield this._getRelPathsToAddressByApi({addresses,account});var btcExtraInfo={pathToAddresses,addressToPath};if(unsignedTx){var[inputAddressesEncodings,nonWitnessPrevTxs]=yield this._collectInfoForSoftwareSign(unsignedTx);btcExtraInfo.inputAddressesEncodings=inputAddressesEncodings;btcExtraInfo.nonWitnessPrevTxs=nonWitnessPrevTxs;}var signerAccount=account;return{btcExtraInfo,account:signerAccount,relPaths};});function prepareBtcSignExtraInfo(_x20){return _prepareBtcSignExtraInfo.apply(this,arguments);}return prepareBtcSignExtraInfo;}();_proto.getPrivateKeyFromImported=function getPrivateKeyFromImported(params){var input=decodeSensitiveText({encodedText:params.input});var privateKey=convertBtcXprvtToHex({xprvt:input});privateKey=encodeSensitiveText({text:privateKey});return Promise.resolve({privateKey});};_proto.getXpubFromAccount=function(){var _getXpubFromAccount=_asyncToGenerator(function*(networkAccount){var account=networkAccount;return account.xpubSegwit||account.xpub;});function getXpubFromAccount(_x21){return _getXpubFromAccount.apply(this,arguments);}return getXpubFromAccount;}();_proto.buildEstimateFeeParams=function(){var _buildEstimateFeeParams=_asyncToGenerator(function*(){return Promise.resolve({encodedTx:undefined});});function buildEstimateFeeParams(){return _buildEstimateFeeParams.apply(this,arguments);}return buildEstimateFeeParams;}();_proto.precheckUnsignedTx=function(){var _precheckUnsignedTx=_asyncToGenerator(function*(params){var{frozenUtxoList}=yield this._collectUTXOsInfoByApi();var encodedTx=params.unsignedTx.encodedTx;var{inputs}=encodedTx;if(Array.isArray(frozenUtxoList)&&frozenUtxoList.length>0){if(inputs.some(function(input){return frozenUtxoList.find(function(u){return u.txid===input.txid&&u.vout===input.vout;});})){throw new OneKeyInternalError({key:ETranslations.feedback_unable_to_send_frozen_balance});}}return true;});function precheckUnsignedTx(_x22){return _precheckUnsignedTx.apply(this,arguments);}return precheckUnsignedTx;}();_proto.getBlockbookCoinName=function getBlockbookCoinName(){return'Bitcoin';};_proto.getCustomRpcEndpointStatus=function(){var _getCustomRpcEndpointStatus=_asyncToGenerator(function*(params){var client=new ClientBtc(params.rpcUrl);var start=performance.now();var result=yield client.getInfo();if(result.coin!==this.getBlockbookCoinName()){throw new OneKeyInternalError('Invalid coin name');}return{responseTime:Math.floor(performance.now()-start),bestBlockNumber:result.bestBlockNumber};});function getCustomRpcEndpointStatus(_x23){return _getCustomRpcEndpointStatus.apply(this,arguments);}return getCustomRpcEndpointStatus;}();_proto.broadcastTransactionFromCustomRpc=function(){var _broadcastTransactionFromCustomRpc=_asyncToGenerator(function*(params){var{customRpcInfo,signedTx}=params;var rpcUrl=customRpcInfo.rpc;if(!rpcUrl){throw new OneKeyInternalError('Invalid rpc url');}var client=new ClientBtc(rpcUrl);var txid=yield client.broadcastTransaction(signedTx.rawTx);return _objectSpread(_objectSpread({},signedTx),{},{txid,encodedTx:signedTx.encodedTx});});function broadcastTransactionFromCustomRpc(_x24){return _broadcastTransactionFromCustomRpc.apply(this,arguments);}return broadcastTransactionFromCustomRpc;}();_proto.getAddressType=function(){var _getAddressType=_asyncToGenerator(function*({address}){var{encoding,isValid}=yield this.validateAddress(address);if(isValid&&encoding){var deriveInfo=yield this.backgroundApi.serviceNetwork.getDeriveInfoByAddressEncoding({networkId:this.networkId,encoding});return{type:deriveInfo?.label};}return{};});function getAddressType(_x25){return _getAddressType.apply(this,arguments);}return getAddressType;}();_proto.attachFeeInfoToDAppEncodedTx=function(){var _attachFeeInfoToDAppEncodedTx=_asyncToGenerator(function*(params){var{encodedTx}=params;if(encodedTx.psbtHex&&Array.isArray(encodedTx.inputsToSign)){return'';}return encodedTx;});function attachFeeInfoToDAppEncodedTx(_x26){return _attachFeeInfoToDAppEncodedTx.apply(this,arguments);}return attachFeeInfoToDAppEncodedTx;}();_proto.buildStakeEncodedTx=function(){var _buildStakeEncodedTx=_asyncToGenerator(function*(params){var _decodedPsbt$outputIn,_decodedPsbt$inputInf,_decodedPsbt$outputIn2;var{psbtHex}=params;var network=yield this.getNetwork();var formattedPsbtHex=formatPsbtHex(psbtHex);var psbtNetwork=toPsbtNetwork(network);var psbt=Psbt.fromHex(formattedPsbtHex,{network:psbtNetwork});var decodedPsbt=decodedPsbtFN({psbt,psbtNetwork});var account=yield this.backgroundApi.serviceAccount.getAccount({accountId:this.accountId,networkId:this.networkId});var inputsToSign=getInputsToSignFromPsbt({psbt,psbtNetwork,account,isBtcWalletProvider:true});var hasChangeAddress=decodedPsbt.outputInfos.length>1&&!((_decodedPsbt$outputIn=decodedPsbt.outputInfos)!=null?_decodedPsbt$outputIn:[]).every(function(v){return v.address===account.address;});var encodedTx={inputs:((_decodedPsbt$inputInf=decodedPsbt.inputInfos)!=null?_decodedPsbt$inputInf:[]).map(function(v){var _v$value$toString;return _objectSpread(_objectSpread({},v),{},{path:'',value:new BigNumber((_v$value$toString=v.value?.toString())!=null?_v$value$toString:0).toFixed()});}),outputs:((_decodedPsbt$outputIn2=decodedPsbt.outputInfos)!=null?_decodedPsbt$outputIn2:[]).map(function(v){var _v$value$toString2;return _objectSpread(_objectSpread({},v),{},{value:new BigNumber((_v$value$toString2=v.value?.toString())!=null?_v$value$toString2:0).toFixed(),payload:hasChangeAddress?{isChange:v.address===account.address}:undefined});}),inputsForCoinSelect:[],outputsForCoinSelect:[],fee:new BigNumber(decodedPsbt.fee).toFixed(),inputsToSign,psbtHex:psbt.toHex(),disabledCoinSelect:true,txSize:undefined};return encodedTx;});function buildStakeEncodedTx(_x27){return _buildStakeEncodedTx.apply(this,arguments);}return buildStakeEncodedTx;}();return _createClass(VaultBtc);}(VaultBase);export{VaultBtc as default};","export var BTC_TX_PLACEHOLDER_VSIZE=79;","export var EVaultKeyringTypes=function(EVaultKeyringTypes){EVaultKeyringTypes[\"hd\"]=\"hd\";EVaultKeyringTypes[\"qr\"]=\"qr\";EVaultKeyringTypes[\"hardware\"]=\"hardware\";EVaultKeyringTypes[\"imported\"]=\"imported\";EVaultKeyringTypes[\"watching\"]=\"watching\";EVaultKeyringTypes[\"external\"]=\"external\";return EVaultKeyringTypes;}({});export var EWrappedType=function(EWrappedType){EWrappedType[\"DEPOSIT\"]=\"deposit\";EWrappedType[\"WITHDRAW\"]=\"withdraw\";return EWrappedType;}({});"],"names":["ownKeys","e","r","t","Object","keys","getOwnPropertySymbols","o","filter","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","arguments","length","forEach","getOwnPropertyDescriptors","defineProperties","defineProperty","utxoScore","x","feeRate","value","coinSelectAccumulativeDesc","utxos","outputs","sortUtxo","concat","sort","a","b","forceSelect","coinSelect","inputsForCoinSelect","outputsForCoinSelect","algorithm","max","some","type","every","Number","isNaN","Error","finalOutputs","map","address","undefined","script","unspentSelectFn","inputs","fee","parseInt","getCoinSelectTxType","encoding","EAddressEncodings","P2PKH","P2SH_P2WPKH","P2WPKH","P2TR","P2WSH","coinSelectWithWitness","params","network","changeAddress","txType","coinselectParams","u","own","coinbase","txid","txId","error","transaction","coinSelectFailed","bytes","slicePathTemplate","template","getUtxoAccountPrefixPath","fullPath","pathComponent","split","pop","join","getBIP44Path","account","realPath","key","entries","addresses","path","estimateTxSize","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","result","Super","NewTarget","this","constructor","Reflect","construct","Boolean","prototype","valueOf","call","KeyringBase","_VaultContext","_super","vault","_this","options","networkId","_basePrepareHdNormalAccounts","_basePrepareHdUtxoAccounts","_batchGetAddresses","_exportAccountSecretKeys","_buildHwAllNetworkPrepareAccountsParams","_proto","isKeyringImported","keyringType","imported","isKeyringHd","hd","isKeyringHardware","hardware","isKeyringWatching","watching","basePrepareHdNormalAccounts","walletId","names","deriveInfo","indexes","coinType","namePrefix","idSuffix","settings","getVaultSettings","accountType","buildAddressesInfo","usedIndexes","addressInfos","ret","idx","publicKey","relPath","VARIANT","pathIndex","name","buildHDAccountName","id","buildHDAccountId","indexedAccountId","buildIndexedAccountId","index","impl","pub","_x","_x2","basePrepareHdUtxoAccounts","skipCheckAccountExist","UTXO","checkIsAccountUsed","accountCreatePerf","utxoBuildAddressesInfo","addressesInfo","utxoBuildAddressesInfoDone","buildDBUtxoAccounts","xpub","xpubSegwit","prefix","isLast","isUsed","wait","buildDBUtxoAccountsDone","_x3","_x4","batchGetAddresses","_x5","exportAccountSecretKeys","_x6","buildHwAllNetworkPrepareAccountsParams","_x7","buildPrepareAccountsPrefixedPath","_KeyringBase","KeyringBaseMock","_super2","KeyringHardwareBase","args","_getHardwareSDKInstance","_baseGetDeviceAccountData","_baseGetDeviceAccountPublicKeys","_baseGetDeviceAccountAddresses","_getAllNetworkPrepareAccounts","getHardwareSDKInstance","_ref","$backgroundApiProxy","backgroundApi","serviceHardware","getSDKInstance","getHardwareSDKInstanceDone","baseGetDeviceAccountData","sdkGetDataFn","errorMessage","deviceParams","dbDevice","confirmOnDevice","connectId","deviceId","coinName","pathPrefix","pathSuffix","showOnOnekeyFn","arrIndex","EveryItem","LastItem","baseGetDeviceAccountPublicKeys","sdkGetPublicKeysFn","baseGetDeviceAccountAddresses","sdkGetAddressFn","getAllNetworkPrepareAccounts","hwSdkNetwork","buildPath","buildResultAccount","hwAllNetworkPrepareAccountsResponse","resultAccounts","_loop","find","item","success","payload","hasErrorItem","indexOf","KeyringHdBase","_KeyringSoftwareBase","KeyringImportedBase","KeyringQrBase","qr","_getVerifyAddressChainParams","_baseSignByQrcode","_findAirGapAccountByPath","_findAirGapAccountInPrepareAccounts","_findAirGapAccountByDbAccount","_verifyQrWalletAddressByTwoWayScan","getChildPathTemplates","getVerifyAddressChainParams","query","baseSignByQrcode","wallet","getWallet","associatedDevice","getDevice","getAccountPath","getAccount","chainId","getNetworkChainId","requestId","airGapAccount","findAirGapAccountByPath","xfp","signRequestUr","signRequestUrBuilder","responseUr","signatureUr","serviceQrWallet","startTwoWayAirGapScanUr","requestUr","signedResultBuilder","childPathTemplate","_this2","airGapAccountsInfo","accounts","eachAirGapAccount","childPathTemplates","childPathTpl","buildPathFromTemplate","findAirGapAccountInPrepareAccounts","findAirGapAccountByDbAccount","dbAccount","verifyQrWalletAddressByTwoWayScan","chain","getDeviceChainNameByNetworkId","serviceAccount","origin","method","toUR","raw","allowPlainTextResponse","toLowerCase","startsWith","buildUtxoAddressRelPath","_x8","_x9","KeyringSoftwareBase","_baseGetCredentialsInfo","_baseSignTransactionBtc","_baseSignTransaction","_baseSignMessage","_baseSignMessageBtc","_basePrepareAccountsImported","_basePrepareAccountsImportedUtxo","_basePrepareAccountsHd","_basePrepareAccountsHdUtxo","_baseExportAccountSecretKeys","_baseGetPrivateKeys","baseGetCredentialsInfo","password","getCredential","credential","accountId","baseSignTransactionBtc","coreApi","unsignedTx","signOnly","credentials","networkInfo","getCoreApiNetworkInfo","btcExtraInfo","relPaths","prepareBtcSignExtraInfo","signTransaction","baseSignTransaction","baseSignMessage","messages","Promise","all","msg","signMessage","unsignedMsg","baseSignMessageBtc","unsignedMessage","basePrepareAccountsImported","importedCredential","networks","createAtNetwork","privateKey","onlyAvailableOnCertainNetworks","coinTypeDefault","privateKeyRaw","getAddressFromPrivate","addressEncoding","addressUsed","buildImportedAccountId","resolve","basePrepareAccountsImportedUtxo","basePrepareAccountsHd","_ref2","_this3","getAddressesFromHd","hdCredential","_x10","basePrepareAccountsHdUtxo","_ref3","_this4","getCredentialsInfo","getAddressesFromHdDone","_x13","_x11","_x12","baseExportAccountSecretKeys","keyType","serviceNetwork","getDeriveTypeByTemplate","getExportedSecretKey","_x14","baseGetPrivateKeys","getPrivateKeys","_x15","KeyringWatchingBase","_signTransaction","_signMessage","_basePrepareUtxoWatchingAccounts","_basePrepareSimpleWatchingAccounts","intl","formatMessage","ETranslations","wallet_error_trade_with_watched_acocunt","basePrepareUtxoWatchingAccounts","isUrlAccount","buildWatchingAccountId","addressFromXpub","getAddressFromPublic","basePrepareSimpleWatchingAccounts","SIMPLE","_excluded","_excluded2","VaultBase","_VaultBaseChainOnly","uuid","mutexBuildOnChainHistoryTxGetDBAccount","_init","_initKeyring","_broadcastTransaction","_broadcastTransactionFromCustomRpc","_validateSendAmount","_buildOnChainHistoryTxExtraInfo","_precheckUnsignedTx","_buildEstimateFeeParams","_buildParseTransactionParams","_buildFetchHistoryListParams","_buildHistoryTx","_buildOnChainHistoryTx","_buildHistoryTxAction","_buildHistoryTxFunctionCallAction","_buildHistoryTxUnknownAction","_buildHistoryTransferAction","_buildTxTransferAssetAction","_buildInternalSwapAction","_buildInternalStakingAction","_getAccount","_getAccountAddress","_getAccountPath","_getAccountXpub","_fillTokensDetails","_fillAccountDetails","_isEarliestLocalPendingTx","_buildReplaceEncodedTx","_attachFeeInfoToDAppEncodedTx","_activateToken","_getAddressType","_fetchAccountDetails","_fetchAccountDetailsByApi","_fetchAccountDetailsByRpc","_fetchTokenList","_fetchTokenListByApi","_fetchTokenListByRpc","_estimateFee","_estimateFeeByApi","_estimateFeeByRpc","_fetchAccountHistoryDetail","_fetchAccountHistoryDetailByApi","_fetchAccountHistoryDetailByRpc","_buildOkxSwapEncodedTx","_proto2","init","config","initKeyring","_x16","isChainOnly","keyring","keyringCreator","_x17","broadcastTransaction","signedTx","serviceSend","encodedTx","_x18","broadcastTransactionFromCustomRpc","_x19","validateSendAmount","_x20","buildOnChainHistoryTxExtraInfo","onChainHistoryTx","_x21","precheckUnsignedTx","_x22","buildEstimateFeeParams","_x23","buildParseTransactionParams","_x24","buildFetchHistoryListParams","_x25","buildHistoryTx","historyTxToMerge","decodedTx","isSigner","isLocalCreated","accountAddress","getAccountAddressForApi","getAccountXpub","owner","signer","historyTx","buildLocalHistoryId","_x26","fixOnChainHistoryAccountData","originAccountId","originNetworkId","originAccountAddress","originXpub","allNetworkHistoryExtraItems","onekeyall","allNetworkAccount","i","_","txXpub","accountXpub","buildOnChainHistoryTx","tokens","nfts","dbAccountCache","runExclusive","getDBAccountSafe","vaultSettings","action","buildHistoryTxAction","tx","from","to","nonce","actions","status","totalFeeInNative","gasFee","totalFeeFiatValue","gasFeeFiatValue","nativeAmount","isUtxo","extraInfo","label","updatedAt","Date","timestamp","getTime","createdAt","isFinal","_x27","Approve","tokenApprove","buildHistoryTxApproveAction","sends","receives","buildHistoryTxFunctionCallAction","buildHistoryTxUnknownAction","buildHistoryTransferAction","_x28","getNetwork","FUNCTION_CALL","functionCall","functionName","functionHash","functionCode","_x29","UNKNOWN","unknownAction","_x30","ASSET_TRANSFER","assetTransfer","send","buildHistoryTransfer","transfer","receive","_x31","icon","symbol","isNFT","isNative","price","tokenAddress","token","tokenIdOnNetwork","amount","isOwn","decimals","TOKEN_APPROVE","spender","shiftedBy","toFixed","isInfiniteAmount","buildTxTransferAssetAction","transfers","data","application","isInternalSwap","isInternalStaking","internalStakingLabel","swapReceivedAddress","swapReceivedNetworkId","getAccountAddress","sendNativeTokenAmountBN","OUT","plus","nativeAmountValue","convertAmountToChainValue","_x32","buildInternalSwapAction","_swapSendToken$logoUR","_swapSendToken$name","_swapReceiveToken$log","_swapReceiveToken$nam","_providerInfo$provide","swapData","swapInfo","swapToAddress","swapSendToken","sender","swapReceiveToken","receiver","providerInfo","swapBuildResData","info","otherFeeInfos","otherFeeInfoTransfers","contractAddress","logoURI","accountInfo","receivingAddress","feeInfo","_feeInfo$token$logoUR","_feeInfo$token$name","providerName","providerLogo","_x33","buildInternalStakingAction","_send$token$logoURI","_send$token$name","_receive$token$logoUR","_receive$token$name","stakingInfo","stakingData","stakingToAddress","protocol","protocolLogoURI","_x34","_params$signOnly","_signedTx$encodedTx","_x35","getDBAccount","isAccountCompatibleWithNetwork","slice","getNetworkInfo","externalAccount","externalAccountAddress","connectedAddresses","buildExternalAccountAddress","fallbackIndex","_externalAccount$sele","selectedAddress","getNetworkImpl","addressDetail","buildAccountAddressDetail","allowEmptyAddress","isValid","networkAccount","getXpubFromAccount","fillTokensDetails","tokensDetails","_x36","fillAccountDetails","accountDetails","_x37","isEarliestLocalPendingTx","_x38","buildReplaceEncodedTx","replaceType","_x39","attachFeeInfoToDAppEncodedTx","_x40","activateToken","_x41","getAddressType","_x42","buildStakeEncodedTx","fetchAccountDetails","isCustomNetwork","fetchAccountDetailsByRpc","fetchAccountDetailsByApi","_x43","queryParams","client","serviceAccountProfile","getClient","Wallet","get","headers","_getWalletTypeHeader","signal","_x44","_x45","fetchTokenList","fetchTokenListByRpc","fetchTokenListByApi","_x46","serviceToken","requestApiParams","flag","contractList","contract","post","_x47","_x48","estimateFee","estimateFeeByRpc","estimateFeeByApi","_x49","rest","serviceGas","_x50","_x51","fetchAccountHistoryDetail","fetchAccountHistoryDetailByRpc","fetchAccountHistoryDetailByApi","_x52","_x53","_x54","buildOkxSwapEncodedTx","_x55","VaultBaseChainOnly","_getXpubFromAccount","_proxyJsonRPCCall","_addressFromBase","_addressToBase","_baseValidatePrivateKey","_baseValidateGeneralInput","_baseGetPrivateKeyFromImported","_validateAmountInputShown","_checkIsDomainName","_resolveDomainName","_getCustomRpcEndpointStatus","_checkFeeSupportInfo","_fetchTokenDetails","_fetchTokenDetailsByApi","_fetchTokenDetailsByRpc","proxyJsonRPCCall","request","addressFromBase","addressToBase","baseValidatePrivateKey","baseValidateGeneralInput","addressResult","xpubResult","xprvtResult","privateKeyResult","input","encodedText","validateAddress","validateXprvt","validateXpub","validatePrivateKey","inputDecoded","baseGetPrivateKeyFromImported","stripHexPrefix","text","validateAmountInputShown","toAddress","checkIsDomainName","resolveDomainName","getCustomRpcEndpointStatus","checkFeeSupportInfo","fetchTokenDetails","fetchTokenDetailsByRpc","fetchTokenDetailsByApi","_params$signal","VaultContext","getWalletIdFromAccountId","_getNetworkId","_getNetwork","_getNetworkChainId","_getNetworkImpl","_getVaultSettings2","_getNetworkInfo","_getCoreApiNetworkInfo","_getRpcUrl","_destroy","getNetworkId","cached","_network","hex","addressPrefix","curve","networkImpl","isTestnet","networkChainCode","code","getRpcUrl","destroy","KeyringHardwareBtcBase","_KeyringHardwareBase","buildHardwareInput","getHDPath","getScriptType","addressN","scriptType","prev_index","vout","prev_hash","address_n","script_type","buildHardwareOutput","output","isChange","bip44Path","opReturn","op_return_data","bytesToHex","Buffer","getOutputScriptType","buildPrevTx","rawTx","fromHex","hash","getId","version","ins","reverse","toString","script_sig","sequence","bin_outputs","outs","script_pubkey","lock_time","locktime","_signPsbt","_prepareAccounts","removePathLastSegment","removeCount","psbtHex","inputsToSign","signPsbt","deviceCommonParams","getCoinName","utxoList","utxosInfo","_collectUTXOsInfoByApi","signers","utxo","includes","_ref4","prevTxids","Array","Set","prevTxs","collectTxsByApi","sdk","response","btcSignTransaction","coin","refTxs","values","serializedTx","isTaprootPath","pubkeyResult","btcGetPublicKey","showOnOneKey","fingerprint","root_fingerprint","padStart","btcNetwork","getBtcForkNetwork","psbt","maximumFeeRate","len","_dbAccount$relPath","updateInput","tapBip32Derivation","masterFingerprint","pubkey","subarray","leafHashes","_i","_len","txOutputs","_dbAccount$relPath2","updateOutput","tapInternalKey","err","signedPsbt","btcSignPsbt","toHex","finalizedPsbtHex","finalizedPsbt","v","finalizeInput","extractTransaction","_ref5","message","_dbAccount$relPath3","dAppSignType","btcSignMessage","messageHex","signature","prepareAccounts","_ref6","addressRelPath","checkBtcAddressIsUsed","_ref7","publicKeys","allNetworkAccounts","p","node","publicKeysMap","getAddressFromXpub","relativePaths","addressInfo","_ref8","btcGetAddress","bundle","replace","_item$path","_item$address","KeyringHd","_KeyringHdBase","btc","_getPrivateKeys","prepareAccountsStartBtc","initBitcoinEcc","initBitcoinEccDone","KeyringImported","_KeyringImportedBase","KeyringQr","_KeyringQrBase","coreChainApi","_verifySignedTxMatched","verifySignedTxMatched","unsignedPsbt","verifyBtcSignedPsbtMatched","appLocale","feedback_psbt_not_found","isEqualFn","txInputs","feedback_psbt_inputs_mismatch","feedback_psbt_outputs_mismatch","globalMap","feedback_psbt_uuid_mismatch","accountUtils","localDb","extendedPublicKey","deriveType","buildInputMixinInfo","addressToPath","xpubAddressInfo","pubkeyBuffer","bip32Derivation","generatePSBT","toBuffer","parsePSBT","extractPsbtToSignedTx","String","convertBtcScriptTypeForHardware","isVerifyAddressAction","convertBtcForkXpub","btcForkNetwork","KeyringWatching","_KeyringWatchingBase","getPublicKeyFromXpub","KeyringHardware","_KeyringHardwareBtcBa","ClientBtc","url","axios","create","baseURL","timeout","_getInfo","getInfo","res","then","bestBlockNumber","blockbook","bestHeight","isReady","isFinite","_res$result","VaultBtc","_VaultBase","keyringMap","hw","external","_getFeeRate","feeUTXO","feedback_failed_to_fet_fee_rate","fees","_item$feeRate","negativeIndex","findIndex","val","lt","leftIndex","rightIndex","gte","comparedTo","promise","maxAge","inscriptionProtection","serviceSetting","getInscriptionProtection","withCheckInscription","checkInscriptionProtectionEnabled","frozenUtxoList","allUtxoList","withUTXOList","withFrozenBalance","feedback_failed_to_get_utxos","timerUtils","getTimeDurationMs","seconds","_buildAccountAddressDetail","_buildDecodedTx","_buildDecodedPsbtTx","_buildEncodedTx","_buildUnsignedTx","_updateUnsignedTx","_attachFeeInfoToEncodedTx2","_getBtcForkNetwork2","_validateXpub","_validateXprvt","_validateAddress","_validateGeneralInput","_getCoinSelectTxType2","_buildEncodedTxFromTransfer2","_buildEncodedTxFromBatchTransfer2","_buildTransferParamsWithCoinSelector2","_buildUnsignedTxFromEncodedTx2","_collectTxsByApi","_getRelPathsToAddressByApi2","_collectInfoForSoftwareSign2","_prepareBtcSignExtraInfo","_buildStakeEncodedTx","normalizedAddress","displayAddress","baseAddress","buildDecodedTx","isArray","decodedPsbt","buildDecodedPsbtTx","decodedPsbtAction","_sendNativeTokenAmountBN","_sendNativeTokenAmountValueBN","utxoFrom","utxoTo","nativeToken","getToken","balance","balanceValue","isMine","originalUtxoTo","sendNativeTokenAmountValueBN","_action","_accountAddress","_send","_action2","_nativeToken$logoURI","amountValue","feeMeta","Pending","inputToSign","existUtxo","nonChangeOutputs","_nativeToken$logoURI2","shouldCalculateNativeTokenAmount","buildEncodedTx","transfersInfo","specifiedFeeRate","_buildEncodedTxFromTransfer","buildUnsignedTx","_params$transfersInfo","_buildUnsignedTxFromEncodedTx","updateUnsignedTx","encodedTxNew","_attachFeeInfoToEncodedTx","xprvt","validateBtcAddress","validateGeneralInput","items","accountDeriveInfo","deriveInfoItems","getBtcXpubFromXprvt","convertBtcXprvtToHex","supportEncodings","getBtcXpubSupportedAddressEncodings","_settings","_items","parseAddressEncodings","results","_buildEncodedTxFromBatchTransfer","transferInfo","txSize","_buildTransferParamsWithCoinSelector","insufficientBalance","earn_insufficient_balance","description","send_toast_btc_fork_insufficient_fund","keep","valueText","eq","lte","isBatchTransfer","confirmations","Payment","allUtxoAmount","reduce","SendMax","OpReturn","dataHex","encodedTxTxSize","inputsInUnsignedTx","_outputs$map","selectedInputs","txids","lookup","txs","getRawTransactions","_getRelPathsToAddressByApi","pathToAddresses","_address","_fullPath","firstRelPath","firstFullPath","_collectInfoForSoftwareSign","inputAddressesEncodings","nonWitnessInputPrevTxids","nonWitnessPrevTxs","getPrivateKeyFromImported","feedback_unable_to_send_frozen_balance","getBlockbookCoinName","rpcUrl","start","performance","now","responseTime","Math","floor","customRpcInfo","rpc","getDeriveInfoByAddressEncoding","_decodedPsbt$outputIn","_decodedPsbt$inputInf","_decodedPsbt$outputIn2","formattedPsbtHex","psbtNetwork","getInputsToSignFromPsbt","isBtcWalletProvider","hasChangeAddress","outputInfos","inputInfos","_v$value$toString","_v$value$toString2","disabledCoinSelect","EVaultKeyringTypes","EWrappedType"],"sourceRoot":""}