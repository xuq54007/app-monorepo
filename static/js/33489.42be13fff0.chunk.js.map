{"version":3,"file":"static/js/33489.42be13fff0.chunk.js","mappings":"w3BAAoG,SAASA,QAAQC,EAAEC,GAAG,IAAIC,EAAEC,OAAOC,KAAKJ,GAAG,GAAGG,OAAOE,sBAAsB,CAAC,IAAIC,EAAEH,OAAOE,sBAAsBL,GAAGC,IAAIK,EAAEA,EAAEC,QAAO,SAASN,GAAG,OAAOE,OAAOK,yBAAyBR,EAAEC,GAAGQ,UAAW,KAAIP,EAAEQ,KAAKC,MAAMT,EAAEI,EAAG,CAAC,OAAOJ,CAAE,CAAC,SAASU,cAAcZ,GAAG,IAAI,IAAIC,EAAE,EAAEA,EAAEY,UAAUC,OAAOb,IAAI,CAAC,IAAIC,EAAE,MAAMW,UAAUZ,GAAGY,UAAUZ,GAAG,CAAC,EAAEA,EAAE,EAAEF,QAAQI,OAAOD,IAAG,GAAIa,SAAQ,SAASd,IAAG,OAAgBD,EAAEC,EAAEC,EAAED,GAAI,IAAGE,OAAOa,0BAA0Bb,OAAOc,iBAAiBjB,EAAEG,OAAOa,0BAA0Bd,IAAIH,QAAQI,OAAOD,IAAIa,SAAQ,SAASd,GAAGE,OAAOe,eAAelB,EAAEC,EAAEE,OAAOK,yBAAyBN,EAAED,GAAI,GAAG,CAAC,OAAOD,CAAE,CAAkgB,SAASmB,UAAUC,EAAEC,GAAS,OAAOD,EAAEE,MAAMD,EAAQ,eAA2BD,EAAG,CAAiM,SAASG,2BAA2BC,EAAMC,EAAQJ,GAAyC,OAAhCG,EAA3P,SAASE,UAAS,MAACF,EAAK,QAACH,IAAU,OAAOG,EAAMG,SAASC,MAAK,SAASC,EAAEC,GAAG,OAAGD,EAAEE,aAAoB,EAAMD,EAAEC,YAAoB,EAAUZ,UAAUW,EAAET,GAASF,UAAUU,EAAER,EAAS,GAAG,CAAyEK,CAAS,CAACF,QAAMH,YAAiB,IAAuBG,EAAMC,EAAQJ,EAAS,CAAQ,IAAIW,WAAW,UAAS,oBAACC,EAAmB,qBAACC,EAAoB,QAACb,EAAO,UAACc,EAAU,SAAS,IAAIC,EAAIF,EAAqBG,MAAK,SAAS/B,GAAG,MAAgB,aAATA,EAAEgC,IAAkB,IAAmL,IAAhKJ,EAAqBK,OAAM,SAASjC,GAAG,MAAY,aAATA,EAAEgC,UAA2C,IAAVhC,EAAEgB,MAA6C,iBAAVhB,EAAEgB,QAAmBkB,OAAOC,MAAMnC,EAAEgB,MAAO,IAAoB,MAAM,IAAIoB,MAAM,wFAAyF,IAAIC,EAAaT,EAAqBU,KAAI,SAAStC,GAAG,MAAM,CAACuC,QAAQvC,EAAEuC,QAAQvB,MAAe,aAAThB,EAAEgC,UAAkBQ,EAAUxC,EAAEgB,MAAMyB,OAAOzC,EAAEyC,OAAQ,IAAOC,EAAgBZ,EAAI,IAAgB,IAA8B,sBAAZD,IAAiCa,EAAgBzB,4BAA2C,iBAAZY,IAA4Ba,EAAgB,KAAuC,cAAZb,IAAyBa,EAAgB,KAAoC,UAAZb,IAAqBa,EAAgB,KAAgC,UAAZb,IAAqBa,EAAgB,KAAiB,IAAG,OAACC,EAAM,QAACxB,EAAO,IAACyB,GAAKF,EAAgBf,EAAoBU,EAAaQ,SAAS9B,EAAQ,KAAK,GAAG,IAAO6B,GAAM,MAAM,IAAIR,MAAM,kCAAmC,MAAM,CAACO,SAAOxB,UAAQyB,MAAK,EAAaE,oBAAoB,SAASC,GAAU,OAAOA,GAAU,KAAK,EAAAC,kBAAkBC,MAAM,MAAM,QAAQ,KAAK,EAAAD,kBAAkBE,YAAY,MAAM,OAAO,KAAK,EAAAF,kBAAkBG,OAAO,MAAM,SAAS,KAAK,EAAAH,kBAAkBI,KAAK,MAAM,OAAO,KAAK,EAAAJ,kBAAkBK,MAAM,MAAM,QAAQ,QAAQ,MAAM,IAAIjB,MAAM,sCAAuC,EAAS,SAASkB,sBAAsBC,GAAQ,IAAG,oBAAC5B,EAAmB,qBAACC,EAAoB,QAACb,EAAO,QAACyC,EAAO,cAACC,EAAa,OAACC,GAAQH,EAAWI,EAAiB,CAACzC,MAAMS,EAAoBW,KAAI,SAASsB,GAAG,OAAOtD,cAAcA,cAAc,CAAC,EAAEsD,GAAG,CAAC,EAAE,CAACC,KAAI,EAAKC,UAAS,EAAMC,KAAKH,EAAEI,MAAO,IAAG7C,QAAQS,EAAqBb,UAAQyC,UAAQC,gBAAcC,UAAQ,IAAI,OAAO,IAAkBC,EAAkB,CAAC,MAAMM,GAA+E,OAAxE,IAAcC,YAAYxC,WAAWyC,iBAAiBR,GAAwB,CAAChB,YAAOH,EAAUrB,aAAQqB,EAAUI,SAAIJ,EAAU4B,WAAM5B,EAAW,CAAC,C,iLCA9iH,SAAS6B,kBAAkBC,GAAU,OAAO,IAAaD,kBAAkBC,EAAU,CAAQ,SAASC,0BAAyB,SAACC,IAAW,IAAIC,EAAcD,EAASE,MAAM,KAAoF,OAA/ED,EAAcE,MAAMF,EAAcE,MAAqBF,EAAcG,KAAK,IAAuB,CAAQ,SAASC,aAAaC,EAAQvC,GAAS,IAAIwC,EAAS,GAAG,IAAI,IAAIC,EAAIhE,KAASnB,OAAOoF,QAAQH,EAAQI,WAAY,GAAGlE,IAAQuB,EAAQ,CAACwC,EAASC,EAAI,KAAM,CAAE,MAAM,GAAGF,EAAQK,QAAQJ,GAAW,CAAQ,SAASK,eAAezD,EAAoBC,GAAsB,OAAO,qBAAiCD,EAAoBC,EAAsB,C,8MCA3X,SAASyD,aAAaC,GAAS,IAAIC,EAA0BC,4BAA4B,OAAO,SAASC,uBAAuB,IAAmCC,EAA/BC,GAAM,OAAgBL,GAAgB,GAAGC,EAA0B,CAAC,IAAIK,GAAU,OAAgBC,MAAMC,YAAYJ,EAAOK,QAAQC,UAAUL,EAAMpF,UAAUqF,EAAW,MAAMF,EAAOC,EAAMtF,MAAMwF,KAAKtF,WAAY,OAAO,OAA2BsF,KAAKH,EAAQ,CAAE,CAAC,SAASF,4BAA4B,IAAI,IAAI5F,GAAGqG,QAAQC,UAAUC,QAAQC,KAAKL,QAAQC,UAAUC,QAAQ,IAAG,WAAW,IAAI,CAAC,MAAMrG,GAAG,CAAC,OAAO4F,0BAA0B,WAAW,QAAQ5F,CAAE,IAAK,CAAmY,IAAIyG,EAAY,SAASC,IAAe,OAAUD,YAAYC,GAAe,IAAIC,EAAOlB,aAAagB,aAAa,SAASA,YAAYG,GAAO,IAAIC,EAA8D,IAAxDA,EAAMF,EAAOH,KAAKP,KAAKW,EAAME,UAAeF,MAAMA,EAASC,EAAMD,MAAMG,YAAYH,EAAME,QAAQC,UAAW,MAAM,IAAIvE,MAAM,2CAA4C,GAAGqE,EAAME,YAAYH,EAAME,QAAQC,UAAW,MAAM,IAAIvE,MAAM,2CAA4C,OAAOqE,CAAM,CAAC,IAAyfG,EAA6+CC,EAAuhEC,EAA+NC,EAAwRC,EAAh/IC,EAAOZ,YAAYH,UAAi2J,OAAv1Je,EAAOC,kBAAkB,SAASA,oBAAoB,OAAOrB,KAAKsB,cAAc,IAAmBC,QAAS,EAAEH,EAAOI,YAAY,SAASA,cAAc,OAAOxB,KAAKsB,cAAc,IAAmBG,EAAG,EAAEL,EAAOM,kBAAkB,SAASA,oBAAoB,OAAO1B,KAAKsB,cAAc,IAAmBK,QAAS,EAAEP,EAAOQ,kBAAkB,SAASA,oBAAoB,OAAO5B,KAAKsB,cAAc,IAAmBO,QAAS,EAAET,EAAOU,6BAA2Cf,GAA6B,QAAkB,UAAUrD,EAAOmD,GAAS,IAAG,SAACkB,GAAU/B,KAAK,IAAI+B,EAAU,MAAM,IAAIxF,MAAM,2BAA4B,IAAG,MAACyF,EAAK,WAACC,EAAU,QAACC,GAASxE,GAAU,SAACyE,EAAQ,SAAC1D,EAAQ,WAAC2D,EAAU,SAACC,GAAUJ,EAAW,IAAIE,EAAU,MAAM,IAAI5F,MAAM,2BAA6N,IAAjM,IAAI+F,QAAetC,KAAKuC,oBAAsB,YAACC,GAAaF,GAAY,mBAACG,GAAoB5B,EAAY6B,EAAYR,EAAYS,QAAmBF,EAAmB,CAACC,gBAAkBE,EAAI,GAAWC,EAAI,EAAEA,EAAIF,EAAahI,OAAOkI,GAAK,EAAE,CAAC,IAAG,KAACvD,EAAI,UAACwD,EAAS,QAACpG,EAAO,UAAC2C,EAAS,QAAC0D,GAASJ,EAAaE,GAAK,IAAIvD,EAAM,MAAM,IAAI/C,MAAM,mDAAoD,GAAGiG,IAAc,KAAeQ,UAAU3D,EAAW,MAAM,IAAI9C,MAAM,6CAA8C,GAAGiG,IAAc,KAAeQ,SAAStG,EAAS,MAAM,IAAIH,MAAM,8CAA+C,IAAI0G,EAAUP,EAAYG,GAASK,EAAKlB,IAAQa,IAAM,IAAaM,mBAAmB,CAACF,YAAUb,eAAiBgB,EAAG,IAAaC,iBAAiB,CAACtB,WAASzC,OAAK+C,aAAeiB,EAAiB,IAAaC,sBAAsB,CAACxB,WAASyB,MAAMP,IAAYL,EAAIrI,KAAK,CAAC6I,KAAGF,OAAK/G,KAAKqG,EAAYlD,OAAK2D,YAAUF,UAAQO,mBAAiBnB,WAASsB,KAAKnB,EAASmB,KAAKC,IAAIZ,EAAUpG,UAAQ2C,YAAUZ,YAAW,CAAC,OAAOmE,CAAI,IAAG,SAASd,4BAA4B6B,EAAGC,GAAK,OAAO7C,EAA6BvG,MAAMwF,KAAKtF,UAAW,GAAwC0G,EAAOyC,2BAAyC7C,GAA2B,QAAkB,UAAUtD,EAAOmD,GAAS,IAAG,SAACkB,GAAU/B,KAAK,IAAI+B,EAAU,MAAM,IAAIxF,MAAM,yBAA0B,IAAG,QAAC2F,EAAO,WAACD,EAAU,MAACD,EAAK,sBAAC8B,GAAsB,GAAMpG,GAAU,SAACyE,EAAQ,SAAC1D,EAAQ,WAAC2D,GAAYH,EAAW,IAAIE,EAAU,MAAM,IAAI5F,MAAM,2BAA4B,IAAI+F,QAAetC,KAAKuC,oBAAsB,YAACC,GAAaF,EAAS,GAAGE,IAAc,KAAeuB,KAAM,MAAM,IAAIxH,MAAM,2BAA4B,IAAG,mBAACyH,EAAkB,mBAACvB,GAAoB5B,EAAkC6B,EAAY,IAAuCR,GAAS,IAAcjD,QAAQgF,kBAAkBC,yBAAyB,IAAIC,QAAoB1B,EAAmB,CAACC,gBAAc,IAAczD,QAAQgF,kBAAkBG,6BAA6B,IAAcnF,QAAQgF,kBAAkBI,sBAAsB,IAAIzB,EAAI,GAAOC,EAAI,EAAE,IAAI,IAAG,KAACvD,EAAI,QAACyD,EAAO,UAACD,EAAS,KAACwB,EAAI,WAACC,EAAU,QAAC7H,EAAO,UAAC2C,KAAa8E,EAAc,CAAC,IAAI7E,GAAM,IAAOgF,KAAQjF,EAAW,MAAM,IAAI9C,MAAM,2EAA4E,IAAIwG,EAAS,MAAM,IAAIxG,MAAM,yDAA0D,IAAIiI,EAAOpC,EAAea,EAAUP,EAAYG,GAASK,EAAKlB,IAAQa,IAAM,GAAG2B,MAAWvB,EAAU,IAAQG,EAAG,GAAGpD,KAAK+B,aAAazC,IAAmCgE,EAAiB,IAAaC,sBAAsB,CAACxB,SAAS/B,KAAK+B,SAASyB,MAAMP,IAAYL,EAAIrI,KAAK,CAAC6I,KAAGF,OAAK/G,KAAKqG,EAAYlD,OAAK2D,YAAUK,mBAAiBP,UAAQZ,WAASsB,KAAKnB,EAASmB,KAAKC,IAAIZ,EAAUwB,OAAKC,aAAW7H,UAAQ2C,YAAUZ,aAAY,IAAIgG,EAAO5B,IAAMsB,EAAcxJ,OAAO,EAAE,IAAImJ,IAAwBW,GAAQT,EAAmB,CAAC,IAAG,OAACU,SAAcV,EAAmB,CAACM,OAAKC,aAAW7H,YAAU,IAAIgI,EAAQ,YAAa,IAAWC,KAAK,IAAK,CAAC9B,GAAK,CAAE,CAAmE,OAAlE,IAAc5D,QAAQgF,kBAAkBW,0BAAiChC,CAAI,IAAG,SAASiB,0BAA0BgB,EAAIC,GAAK,OAAO9D,EAA2BxG,MAAMwF,KAAKtF,UAAW,GAAsC0G,EAAO2D,mBAAiC9D,GAAmB,QAAkB,UAAUvD,GAAQ,MAAM,EAAG,IAAG,SAASqH,kBAAkBC,GAAK,OAAO/D,EAAmBzG,MAAMwF,KAAKtF,UAAW,GAA8B0G,EAAO6D,yBAAuC/D,GAAyB,QAAkB,UAAUxD,GAAQ,MAAM,IAAI,IAAiB,IAAG,SAASuH,wBAAwBC,GAAK,OAAOhE,EAAyB1G,MAAMwF,KAAKtF,UAAW,GAAoC0G,EAAO+D,wCAAsDhE,GAAwC,QAAkB,UAAUzD,GAAyB,IAAG,SAASyH,uCAAuCC,GAAK,OAAOjE,EAAwC3G,MAAMwF,KAAKtF,UAAW,GAAmD0G,EAAOiE,iCAAiC,SAASA,iCAAiC3H,GAAQ,MAAM,IAAI,IAAiB,GAAS,OAAa8C,YAAa,CAAj0K,C,UAAm0K,IAAyC,SAAS8E,IAAc,OAAUC,gBAAgBD,GAAc,IAAIE,EAAQhG,aAAa+F,iBAAiB,SAASA,kBAAkB,OAAOC,EAAQhL,MAAMwF,KAAKtF,UAAW,EAAQ,OAAa6K,gBAAiB,CAA/M,CAAiN/E,E,yICA1jN,SAAShB,aAAaC,GAAS,IAAIC,EAA0BC,4BAA4B,OAAO,SAASC,uBAAuB,IAAmCC,EAA/BC,GAAM,OAAgBL,GAAgB,GAAGC,EAA0B,CAAC,IAAIK,GAAU,OAAgBC,MAAMC,YAAYJ,EAAOK,QAAQC,UAAUL,EAAMpF,UAAUqF,EAAW,MAAMF,EAAOC,EAAMtF,MAAMwF,KAAKtF,WAAY,OAAO,OAA2BsF,KAAKH,EAAQ,CAAE,CAAC,SAASF,4BAA4B,IAAI,IAAI5F,GAAGqG,QAAQC,UAAUC,QAAQC,KAAKL,QAAQC,UAAUC,QAAQ,IAAG,WAAW,IAAI,CAAC,MAAMrG,GAAG,CAAC,OAAO4F,0BAA0B,WAAW,QAAQ5F,CAAE,IAAK,CAAqJ,IAAI0L,EAAoB,SAASH,IAAc,OAAUG,oBAAoBH,GAAc,IAAI5E,EAAOlB,aAAaiG,qBAAqB,SAASA,uBAAuBC,GAAM,IAAI9E,EAAoF,OAA9EA,EAAMF,EAAOH,KAAKP,QAAQ0F,IAAYpE,YAAY,IAAmBqE,SAAgB/E,CAAM,CAAC,IAA+FgF,EAAwZC,EAAolBC,EAAvkC1E,EAAOqE,oBAAoBpF,UAAqwC,OAA3vCe,EAAO2E,iCAA+CH,GAAiC,QAAkB,UAAUlI,GAAQ,OAAOsC,KAAKgG,cAAcC,gBAAgBC,YAAY,CAACjH,cAAce,KAAKW,MAAMwF,aAAarF,UAAUd,KAAKc,UAAUpD,UAAS,IAAG,SAASqI,gCAAgCpC,GAAI,OAAOiC,EAAiCpL,MAAMwF,KAAKtF,UAAW,GAA4C0G,EAAOgF,qCAAmDP,GAAqC,QAAkB,UAAUnI,GAAQ,OAAOsC,KAAKgG,cAAcC,gBAAgBI,gBAAgB,CAACpH,cAAce,KAAKW,MAAMwF,aAAarF,UAAUd,KAAKc,UAAUpD,UAAS,IAAG,SAAS0I,oCAAoCxC,GAAK,OAAOiC,EAAqCrL,MAAMwF,KAAKtF,UAAW,GAAgD0G,EAAOkF,gBAAgB,SAASA,gBAAgB5I,GAAQ,MAAM,IAAI,KAAoB,sFAAuF,EAAE0D,EAAOmF,6BAA2CT,GAA6B,QAAkB,UAAUpI,GAAQ,MAAM,EAAG,IAAG,SAAS6I,4BAA4B1B,GAAK,OAAOiB,EAA6BtL,MAAMwF,KAAKtF,UAAW,IAA+C,OAAa+K,oBAAqB,CAAzkD,C,UAA2kD,E,gNCAj0E,SAASjG,aAAaC,GAAS,IAAIC,EAA0BC,4BAA4B,OAAO,SAASC,uBAAuB,IAAmCC,EAA/BC,GAAM,OAAgBL,GAAgB,GAAGC,EAA0B,CAAC,IAAIK,GAAU,OAAgBC,MAAMC,YAAYJ,EAAOK,QAAQC,UAAUL,EAAMpF,UAAUqF,EAAW,MAAMF,EAAOC,EAAMtF,MAAMwF,KAAKtF,WAAY,OAAO,OAA2BsF,KAAKH,EAAQ,CAAE,CAAC,SAASF,4BAA4B,IAAI,IAAI5F,GAAGqG,QAAQC,UAAUC,QAAQC,KAAKL,QAAQC,UAAUC,QAAQ,IAAG,WAAW,IAAI,CAAC,MAAMrG,GAAG,CAAC,OAAO4F,0BAA0B,WAAW,QAAQ5F,CAAE,IAAK,CAAwkB,IAAIyM,EAAoB,SAASlB,IAAc,OAAUkB,oBAAoBlB,GAAc,IAAI5E,EAAOlB,aAAagH,qBAAqB,SAASA,uBAAuBd,GAAM,IAAI9E,EAAoF,OAA9EA,EAAMF,EAAOH,KAAKP,QAAQ0F,IAAYpE,YAAY,IAAmBK,SAAgBf,CAAM,CAAC,IAAsF6F,EAAogBC,EAA89BC,EAAsbC,EAAyaC,EAAn5EzF,EAAOoF,oBAAoBnG,UAAumH,OAA7lHe,EAAO0F,wBAAsCL,GAAwB,QAAkB,YAAY,IAAIM,EAAK,IAAc9H,QAAQgF,kBAAkB6C,yBAAyB,IAAsGhN,EAAc,OAAXiN,QAA3F,KAAYC,qBAAqBhB,eAAeiB,iBAAiBC,oBAA0CH,EAAK,KAAiF,OAArE,IAAc9H,QAAQgF,kBAAkBkD,6BAAoCrN,CAAE,IAAG,SAASgN,yBAAyB,OAAOL,EAAwBjM,MAAMwF,KAAKtF,UAAW,GAAmC0G,EAAOgG,0BAAwCV,GAA0B,QAAkB,WAAU,OAAChJ,EAAM,YAACgF,EAAW,aAAC2E,EAAY,aAACC,IAAe,IAAG,WAACrF,EAAU,aAACsF,GAAc7J,GAAU,SAAC8J,EAAQ,gBAACC,GAAiBF,GAAgB,UAACG,EAAS,SAACC,GAAUH,GAAY,SAAC/I,EAAQ,SAACmJ,GAAU3F,GAAc,WAAC4F,EAAU,WAACC,IAAY,QAAkBrJ,GAAcsJ,eAAe,SAASC,GAAU,OAAGP,IAAkB,KAAqBQ,WAA2BR,IAAkB,KAAqBS,UAAiBF,IAAWtF,EAAYA,EAAY/H,OAAO,EAAiB,EAAMkF,QAAa,SAAsB,QAAkB,YAAY,OAAOwH,EAAa,CAACK,YAAUC,WAASE,aAAWC,aAAWrJ,WAASmJ,WAASG,gBAAiB,KAAI,IAAIlI,GAAQA,EAAOlF,SAAS+H,EAAY/H,OAAQ,MAAM,IAAI,KAAoB2M,GAAe,OAAOzH,CAAO,IAAG,SAASuH,yBAAyBzD,GAAI,OAAO+C,EAA0BlM,MAAMwF,KAAKtF,UAAW,GAAqC0G,EAAO+G,gCAA8CxB,GAAgC,QAAkB,WAAU,OAACjJ,EAAM,YAACgF,EAAW,mBAAC0F,IAAqB,OAAOpI,KAAKoH,yBAAyB,CAAC1J,SAAOgF,cAAY2E,aAAae,EAAmBd,aAAa,8BAA+B,IAAG,SAASa,+BAA+BvE,GAAK,OAAO+C,EAAgCnM,MAAMwF,KAAKtF,UAAW,GAA2C0G,EAAOiH,+BAA6CzB,GAA+B,QAAkB,WAAU,OAAClJ,EAAM,YAACgF,EAAW,gBAAC4F,IAAkB,OAAOtI,KAAKoH,yBAAyB,CAAC1J,SAAOgF,cAAY2E,aAAaiB,EAAgBhB,aAAa,4BAA6B,IAAG,SAASe,8BAA8BxD,GAAK,OAAO+B,EAA+BpM,MAAMwF,KAAKtF,UAAW,GAA0C0G,EAAOmH,8BAA4C1B,GAA8B,QAAkB,WAAU,aAAC2B,EAAY,OAAC9K,EAAM,YAACgF,EAAW,UAAC+F,EAAS,mBAACC,IAAqB,GAAIF,EAAJ,CAAoC,IAAG,oCAACG,GAAqCjL,EAAO,GAAGiL,GAAqChO,OAAO,CAAC,IAAIiO,EAAe,GAAOC,MAAM,YAAY,IAAIvJ,QAAWmJ,EAAU,CAACjF,UAAYvE,EAAQ0J,GAAqCG,MAAK,SAASC,GAAM,OAAOA,EAAKpL,SAASoL,EAAKzJ,OAAOA,GAAMyJ,EAAKpL,UAAU6K,CAAa,IAAMvJ,GAASA,EAAQ+J,SAASJ,EAAerO,KAAKmO,EAAmB,CAACzJ,UAAQuE,UAAU,EAAE,IAAI,IAAIA,KAASd,QAAmBmG,QAAS,GAAGD,EAAejO,SAAS+H,EAAY/H,OAAQ,MAAM,CAACqO,SAAQ,EAAKC,QAAQL,GAAiB,IAAIM,EAAaP,GAAqCG,MAAK,SAASC,GAAM,OAAOA,EAAKC,WAAWD,EAAKE,SAAS7K,KAAM,IAAG,IAAI8K,GAAcF,SAASE,GAAcD,SAAS7K,MAAM,CAAC,IAAoF,IAAjF8K,GAAcD,SAAS7K,OAAO+K,QAAQ,wCAA8C,MAAM,IAAI,KAA+B,MAAM,QAAmBD,EAAaD,QAAS,CAAC,MAAM,IAAI,KAAoB,mCAAoC,CAA/7B,CAAg8B,IAAG,SAASV,6BAA6BzD,GAAK,OAAO+B,EAA8BrM,MAAMwF,KAAKtF,UAAW,IAAgD,OAAa8L,oBAAqB,CAA36H,C,UAA66H,E,iHCA7pK,SAAShH,aAAaC,GAAS,IAAIC,EAA0BC,4BAA4B,OAAO,SAASC,uBAAuB,IAAmCC,EAA/BC,GAAM,OAAgBL,GAAgB,GAAGC,EAA0B,CAAC,IAAIK,GAAU,OAAgBC,MAAMC,YAAYJ,EAAOK,QAAQC,UAAUL,EAAMpF,UAAUqF,EAAW,MAAMF,EAAOC,EAAMtF,MAAMwF,KAAKtF,WAAY,OAAO,OAA2BsF,KAAKH,EAAQ,CAAE,CAAC,SAASF,4BAA4B,IAAI,IAAI5F,GAAGqG,QAAQC,UAAUC,QAAQC,KAAKL,QAAQC,UAAUC,QAAQ,IAAG,WAAW,IAAI,CAAC,MAAMrG,GAAG,CAAC,OAAO4F,0BAA0B,WAAW,QAAQ5F,CAAE,IAAK,CAAwG,IAAIqP,EAAc,SAASC,IAAsB,OAAUD,cAAcC,GAAsB,IAAI3I,EAAOlB,aAAa4J,eAAe,SAASA,iBAAiB1D,GAAM,IAAI9E,EAA8E,OAAxEA,EAAMF,EAAOH,KAAKP,QAAQ0F,IAAYpE,YAAY,IAAmBG,GAAUb,CAAM,CAAC,OAAO,OAAawI,cAAe,CAAvR,C,UAAyR,E,iHCA59B,SAAS5J,aAAaC,GAAS,IAAIC,EAA0BC,4BAA4B,OAAO,SAASC,uBAAuB,IAAmCC,EAA/BC,GAAM,OAAgBL,GAAgB,GAAGC,EAA0B,CAAC,IAAIK,GAAU,OAAgBC,MAAMC,YAAYJ,EAAOK,QAAQC,UAAUL,EAAMpF,UAAUqF,EAAW,MAAMF,EAAOC,EAAMtF,MAAMwF,KAAKtF,WAAY,OAAO,OAA2BsF,KAAKH,EAAQ,CAAE,CAAC,SAASF,4BAA4B,IAAI,IAAI5F,GAAGqG,QAAQC,UAAUC,QAAQC,KAAKL,QAAQC,UAAUC,QAAQ,IAAG,WAAW,IAAI,CAAC,MAAMrG,GAAG,CAAC,OAAO4F,0BAA0B,WAAW,QAAQ5F,CAAE,IAAK,CAAwG,IAAIuP,EAAoB,SAASD,IAAsB,OAAUC,oBAAoBD,GAAsB,IAAI3I,EAAOlB,aAAa8J,qBAAqB,SAASA,uBAAuB5D,GAAM,IAAI9E,EAAoF,OAA9EA,EAAMF,EAAOH,KAAKP,QAAQ0F,IAAYpE,YAAY,IAAmBC,SAAgBX,CAAM,CAAC,OAAO,OAAa0I,oBAAqB,CAArT,C,UAAuT,E,sOCAr1B,SAAS1P,QAAQC,EAAEC,GAAG,IAAIC,EAAEC,OAAOC,KAAKJ,GAAG,GAAGG,OAAOE,sBAAsB,CAAC,IAAIC,EAAEH,OAAOE,sBAAsBL,GAAGC,IAAIK,EAAEA,EAAEC,QAAO,SAASN,GAAG,OAAOE,OAAOK,yBAAyBR,EAAEC,GAAGQ,UAAW,KAAIP,EAAEQ,KAAKC,MAAMT,EAAEI,EAAG,CAAC,OAAOJ,CAAE,CAAC,SAASU,cAAcZ,GAAG,IAAI,IAAIC,EAAE,EAAEA,EAAEY,UAAUC,OAAOb,IAAI,CAAC,IAAIC,EAAE,MAAMW,UAAUZ,GAAGY,UAAUZ,GAAG,CAAC,EAAEA,EAAE,EAAEF,QAAQI,OAAOD,IAAG,GAAIa,SAAQ,SAASd,IAAG,OAAgBD,EAAEC,EAAEC,EAAED,GAAI,IAAGE,OAAOa,0BAA0Bb,OAAOc,iBAAiBjB,EAAEG,OAAOa,0BAA0Bd,IAAIH,QAAQI,OAAOD,IAAIa,SAAQ,SAASd,GAAGE,OAAOe,eAAelB,EAAEC,EAAEE,OAAOK,yBAAyBN,EAAED,GAAI,GAAG,CAAC,OAAOD,CAAE,CAAC,SAAS2F,aAAaC,GAAS,IAAIC,EAA0BC,4BAA4B,OAAO,SAASC,uBAAuB,IAAmCC,EAA/BC,GAAM,OAAgBL,GAAgB,GAAGC,EAA0B,CAAC,IAAIK,GAAU,OAAgBC,MAAMC,YAAYJ,EAAOK,QAAQC,UAAUL,EAAMpF,UAAUqF,EAAW,MAAMF,EAAOC,EAAMtF,MAAMwF,KAAKtF,WAAY,OAAO,OAA2BsF,KAAKH,EAAQ,CAAE,CAAC,SAASF,4BAA4B,IAAI,IAAI5F,GAAGqG,QAAQC,UAAUC,QAAQC,KAAKL,QAAQC,UAAUC,QAAQ,IAAG,WAAW,IAAI,CAAC,MAAMrG,GAAG,CAAC,OAAO4F,0BAA0B,WAAW,QAAQ5F,CAAE,IAAK,CAA0d,IAAIwP,EAAoB,SAASjE,IAAc,OAAUiE,oBAAoBjE,GAAc,IAAI5E,EAAOlB,aAAa+J,qBAAqB,SAASA,sBAAsB,OAAO7I,EAAOlG,MAAMwF,KAAKtF,UAAW,CAAC,IAAsF8O,EAA8hBC,EAAqrBC,EAA6jBC,EAAioBC,EAA41BC,EAAmgDC,EAAosCC,EAAk5BC,EAAm1CC,EAAoyBC,EAA/gS9I,EAAOmI,oBAAoBlJ,UAAihT,OAAvgTe,EAAO+I,wBAAsCX,GAAwB,QAAkB,WAAU,SAACY,IAAgC,IAAI3I,EAAOF,EAA8P,OAA9R,QAAW6I,GAAiCpK,KAAKwB,gBAAyFC,SAArD,IAAQ4I,eAAc,QAAerK,KAAK+B,YAAyBuI,YAAetK,KAAKqB,sBAAiFE,SAAtC,IAAQ8I,cAAcrK,KAAKuK,YAAgCD,YAAkB,CAAC7I,KAAGF,WAAU,IAAG,SAAS4I,uBAAuBxG,GAAI,OAAO6F,EAAwBhP,MAAMwF,KAAKtF,UAAW,GAAmC0G,EAAOoJ,wBAAsCf,GAAwB,QAAkB,UAAU/L,GAAQ,IAAIsC,KAAKyK,QAAS,MAAM,IAAIlO,MAAM,0BAA2B,IAAIoE,EAAMX,KAAKW,OAAS,SAACyJ,EAAQ,WAACM,EAAU,SAACC,GAAUjN,EAAWkN,QAAkB5K,KAAKmK,uBAAuBzM,GAAYmN,QAAkB7K,KAAK8K,yBAA2B,QAAC7L,EAAO,aAAC8L,EAAY,SAACC,SAAgBrK,EAAMsK,wBAAwB,CAACP,eAAiJ,aAAnH1K,KAAKyK,QAAQS,gBAAgB,CAACL,cAAYH,aAAWzL,UAAQ+L,WAASZ,WAASQ,cAAYG,eAAaJ,YAAyB,IAAG,SAASH,uBAAuB5G,GAAK,OAAO6F,EAAwBjP,MAAMwF,KAAKtF,UAAW,GAAmC0G,EAAO+J,qBAAmCzB,GAAqB,QAAkB,UAAUhM,GAAQ,IAAIsC,KAAKyK,QAAS,MAAM,IAAIlO,MAAM,0BAA2B,IAAG,SAAC6N,EAAQ,WAACM,GAAYhN,EAAWuB,QAAce,KAAKW,MAAMwF,aAAiByE,QAAkB5K,KAAKmK,uBAAuBzM,GAAYmN,QAAkB7K,KAAK8K,wBAA6H,aAApF9K,KAAKyK,QAAQS,gBAAgB,CAACL,cAAYT,WAASnL,UAAQ2L,cAAYF,cAA2B,IAAG,SAASS,oBAAoBtG,GAAK,OAAO6E,EAAqBlP,MAAMwF,KAAKtF,UAAW,GAAgC0G,EAAOgK,iBAA+BzB,GAAiB,QAAkB,UAAUjM,GAAQ,IAAIkD,EAAMZ,KAAK,IAAIA,KAAKyK,QAAS,MAAM,IAAIlO,MAAM,0BAA2B,IAAG,SAAC6N,EAAQ,SAACiB,GAAU3N,EAAWuB,QAAce,KAAKW,MAAMwF,aAAiByE,QAAkB5K,KAAKmK,uBAAuBzM,GAAYmN,QAAkB7K,KAAK8K,wBAAiM,aAAxJQ,QAAQC,IAAIF,EAAS5O,KAAI,SAAS+O,GAAK,OAAO,QAAe5K,EAAM6J,SAASvE,YAAY,CAAC2E,cAAYY,YAAYD,EAAIvM,UAAQmL,WAASQ,eAAc,IAAkB,IAAG,SAASQ,gBAAgBtG,GAAK,OAAO6E,EAAiBnP,MAAMwF,KAAKtF,UAAW,GAA4B0G,EAAOsK,oBAAkC9B,GAAoB,QAAkB,UAAUlM,GAAQ,IAAIiO,EAAO3L,KAAK,IAAIA,KAAKyK,QAAS,MAAM,IAAIlO,MAAM,0BAA2B,IAAyNwK,EAArNpG,EAAMX,KAAKW,OAAS,SAACyJ,EAAQ,SAACiB,GAAU3N,EAAWkN,QAAkB5K,KAAKmK,uBAAuBzM,GAAYmN,QAAkB7K,KAAK8K,wBAA4BjL,QAAayL,QAAQC,IAAIF,EAAS5O,KAAmBsK,GAAK,QAAkB,UAAUyE,GAAK,IAAG,QAACvM,EAAO,aAAC8L,EAAY,SAACC,SAAgBrK,EAAMsK,wBAAwB,CAACW,gBAAgBJ,IAAM,OAAO,QAAeG,EAAOlB,SAASvE,YAAY,CAAC2E,cAAYY,YAAYD,EAAIvM,UAAQ+L,WAASZ,WAASQ,cAAYG,gBAAe,IAAU,SAAS7F,GAAK,OAAO6B,EAAKvM,MAAMwF,KAAKtF,UAAW,KAAQ,OAAOmF,CAAO,IAAG,SAAS6L,mBAAmB1G,GAAK,OAAO4E,EAAoBpP,MAAMwF,KAAKtF,UAAW,GAA+B0G,EAAOyK,6BAA2ChC,GAA6B,QAAkB,UAAUnM,EAAOmD,EAAQ,CAAC,GAAG,IAAIb,KAAKyK,QAAS,MAAM,IAAIlO,MAAM,0BAA2B,IAAG,KAAC2G,EAAI,mBAAC4I,EAAkB,SAAC1B,EAAQ,SAAC2B,EAAQ,gBAACC,GAAiBtO,GAAU,WAACuO,IAAY,QAA0B,CAAC3B,WAAWwB,EAAmB1B,aAAe9H,QAAetC,KAAKuC,oBAAsB,+BAAC2J,GAAgCrL,EAAY2B,EAAY3B,EAAQ2B,aAAaF,EAASE,YAAgBiB,EAAK5C,EAAQ4C,MAAMnB,EAASmB,KAAStB,EAAStB,EAAQsB,UAAUzE,EAAOuE,YAAYE,UAAUG,EAAS6J,gBAAoBtB,QAAkB7K,KAAK8K,wBAA4BsB,EAAcH,GAAc,QAACvP,EAAO,UAAC2C,EAAS,UAACyD,SAAiB9C,KAAKyK,QAAQ4B,sBAAsB,CAACxB,cAAYuB,gBAAcE,gBAAgB5O,EAAOuE,YAAYqK,kBAAsBC,EAAY,GAAG,GAAGL,KAAgCK,EAAYlN,IAAY2M,IAAkB,IAAoB,MAAM,IAAIzP,MAAM,iDAAiDyP,KAAqB,IAAIzB,EAAU,IAAaiC,uBAAuB,CAACrK,WAASuB,IAAIZ,EAAUpG,QAAQ6P,EAAYD,gBAAgB5O,EAAOuE,YAAYqK,kBAAkB,OAAOhB,QAAQmB,QAAQ,CAAC,CAACrJ,GAAGmH,EAAUrH,KAAKA,GAAM,GAAG/G,KAAKqG,EAAYlD,KAAK,GAAG6C,WAASsB,OAAKsI,SAASG,EAA+BH,OAASpP,EAAUqP,kBAAgBtI,IAAIZ,EAAUpG,UAAQ2C,cAAa,IAAG,SAASwM,4BAA4BzG,GAAK,OAAOyE,EAA6BrP,MAAMwF,KAAKtF,UAAW,GAAwC0G,EAAOsL,iCAA+C5C,GAAiC,QAAkB,UAAUpM,GAAQ,IAAIsC,KAAKyK,QAAS,MAAM,IAAIlO,MAAM,0BAA2B,IAAG,KAAC2G,EAAI,mBAAC4I,EAAkB,SAAC1B,EAAQ,gBAAC4B,EAAe,WAAC/J,GAAYvE,GAAU,WAACuO,IAAY,QAA0B,CAAC3B,WAAWwB,EAAmB1B,aAAekC,EAAgBrK,GAAYqK,gBAAoBhK,QAAetC,KAAKuC,oBAAuB4J,gBAAgBhK,EAAQ,YAACK,GAAaF,EAAauI,QAAkB7K,KAAK8K,wBAA4BsB,EAAcH,GAAc,QAACvP,EAAO,UAAC2C,EAAS,UAACyD,EAAS,KAACwB,EAAI,QAACvB,EAAO,WAACwB,EAAU,KAACjF,SAAYU,KAAKyK,QAAQ4B,sBAAsB,CAACxB,cAAYuB,gBAAcE,oBAAkB,GAAG,IAAOhI,KAAQjF,EAAW,MAAM,IAAI9C,MAAM,kCAAmC,IAAIgO,EAAU,IAAaiC,uBAAuB,CAACrK,WAASmC,KAAKA,GAAMxB,EAAUwJ,oBAAkB,OAAOhB,QAAQmB,QAAQ,CAAC,CAACrJ,GAAGmH,EAAUrH,KAAKA,GAAM,GAAG/G,KAAKqG,EAAYlD,KAAKA,GAAM,GAAGyD,UAAQZ,WAASsB,KAAKnB,EAASmB,KAAKa,OAAKC,aAAWb,IAAIZ,EAAUpG,UAAQ2C,YAAU2M,oBAAmB,IAAG,SAASU,gCAAgCC,GAAK,OAAO7C,EAAiCtP,MAAMwF,KAAKtF,UAAW,GAA4C0G,EAAOwL,uBAAqC7C,GAAuB,QAAkB,UAAUrM,GAAQ,IAA0NmP,EAAtNC,EAAO9M,MAAQ,SAACvB,EAAQ,gBAAC6N,GAAiB5O,EAAOuE,YAAc,SAACmI,GAAU1M,EAAWmN,QAAkB7K,KAAK8K,wBAAwB,OAAO9K,KAAK8B,4BAA4BpE,EAAO,CAAC+E,oBAAkCoK,GAAM,QAAkB,WAAU,YAACnK,IAAc,IAAIoK,EAAOrC,QAAS,MAAM,IAAIlO,MAAM,0BAA2B,IAAIqO,QAAkBkC,EAAO3C,uBAAuB,CAACC,cAAe/K,UAAUsD,SAAoBmK,EAAOrC,QAAQsC,mBAAmB,CAAClC,cAAYpM,WAASuO,cAAa,QAAepC,EAAYnJ,IAAI2I,WAASlI,QAAQQ,EAAY4J,oBAAkB,OAAO3J,CAAa,IAAU,SAASF,mBAAmBwK,GAAM,OAAOJ,EAAMrS,MAAMwF,KAAKtF,UAAW,IAAQ,IAAG,SAASkS,sBAAsBM,GAAK,OAAOnD,EAAuBvP,MAAMwF,KAAKtF,UAAW,GAAkC0G,EAAO+L,2BAAyCnD,GAA2B,QAAkB,UAAUtM,EAAOmD,GAAS,IAAuQuM,EAAnQC,EAAOrN,MAAQ,SAACoK,EAAQ,QAAClI,EAAO,WAACD,EAAU,MAACD,EAAK,sBAAC8B,GAAuBpG,EAAW4O,EAAgB5O,GAAQuE,YAAYqK,gBAAgB,OAAOtM,KAAK6D,0BAA0BnG,EAAOjD,cAAcA,cAAc,CAAC,EAAEoG,GAAS,CAAC,EAAE,CAAC4B,oBAAkC2K,GAAM,QAAkB,WAAU,YAAC1K,IAAc,IAAG,SAACP,EAAQ,SAAC1D,EAAQ,WAAC2D,GAAYH,EAAW,IAAchD,QAAQgF,kBAAkBqJ,qBAAqB,IAAI1C,QAAkByC,EAAOlD,uBAAuB,CAACC,aAAW,IAAIiD,EAAO5C,QAAS,MAAM,IAAIlO,MAAM,wBAAyB,IAAc0C,QAAQgF,kBAAkB8I,qBAAqB,IAAI1N,UAAU8E,SAAqBkJ,EAAO5C,QAAQsC,mBAAmB,CAAClC,kBAAkBwC,EAAOvC,wBAAwBrM,WAASuO,cAAa,QAAepC,EAAYnJ,IAAI2I,WAASlI,QAAQQ,EAAY4J,oBAAkB,GAAGnI,EAAcxJ,SAAS+H,EAAY/H,OAAQ,MAAM,IAAI,KAAoB,yBAA2F,OAAjE,IAAcsE,QAAQgF,kBAAkBsJ,yBAAgCpJ,CAAc,IAAU,SAAS1B,mBAAmB+K,GAAM,OAAOJ,EAAM5S,MAAMwF,KAAKtF,UAAW,KAAS,IAAG,SAASyS,0BAA0BM,EAAKC,GAAM,OAAO1D,EAA2BxP,MAAMwF,KAAKtF,UAAW,GAAsC0G,EAAOuM,6BAA2C1D,GAA6B,QAAkB,UAAUvM,GAAQ,IAAG,SAAC0M,EAAQ,QAACwD,EAAO,SAAC5C,GAAUtN,EAAWuB,QAAce,KAAKW,MAAMwF,aAAiB0E,QAAkB7K,KAAK8K,wBAA4BF,QAAkB5K,KAAKmK,uBAAuB,CAACC,cAAc,WAACnI,SAAkBjC,KAAKgG,cAAc6H,eAAeC,wBAAwB,CAAChN,UAAUd,KAAKc,UAAUrC,SAASQ,EAAQR,WAAe6N,EAAgBrK,GAAYqK,gBAAgB,IAAItM,KAAKyK,QAAS,MAAM,IAAIlO,MAAM,0BAA2B,OAAOyD,KAAKyK,QAAQsD,qBAAqB,CAAClD,cAAYT,WAASQ,cAAY3L,UAAQ+L,WAAS4C,UAAQtB,mBAAkB,IAAG,SAASqB,4BAA4BK,GAAM,OAAO/D,EAA6BzP,MAAMwF,KAAKtF,UAAW,GAAwC0G,EAAO6M,oBAAkC/D,GAAoB,QAAkB,UAAUxM,GAAQ,IAAG,SAAC0M,EAAQ,SAACY,GAAUtN,EAAO,IAAIsC,KAAKyK,QAAS,MAAM,IAAIlO,MAAM,0BAA2B,IAAI0C,QAAce,KAAKW,MAAMwF,aAAiByE,QAAkB5K,KAAKmK,uBAAuB,CAACC,aAAeS,QAAkB7K,KAAK8K,wBAA+H,aAAjF9K,KAAKyK,QAAQyD,eAAe,CAACrD,cAAYT,WAASnL,UAAQ+L,WAASJ,eAAiC,IAAG,SAASqD,mBAAmBE,GAAM,OAAOjE,EAAoB1P,MAAMwF,KAAKtF,UAAW,IAAsC,OAAa6O,oBAAqB,CAA7wT,C,UAA+wT,E,mMCA1hX,SAAS/J,aAAaC,GAAS,IAAIC,EAA0BC,4BAA4B,OAAO,SAASC,uBAAuB,IAAmCC,EAA/BC,GAAM,OAAgBL,GAAgB,GAAGC,EAA0B,CAAC,IAAIK,GAAU,OAAgBC,MAAMC,YAAYJ,EAAOK,QAAQC,UAAUL,EAAMpF,UAAUqF,EAAW,MAAMF,EAAOC,EAAMtF,MAAMwF,KAAKtF,WAAY,OAAO,OAA2BsF,KAAKH,EAAQ,CAAE,CAAC,SAASF,4BAA4B,IAAI,IAAI5F,GAAGqG,QAAQC,UAAUC,QAAQC,KAAKL,QAAQC,UAAUC,QAAQ,IAAG,WAAW,IAAI,CAAC,MAAMrG,GAAG,CAAC,OAAO4F,0BAA0B,WAAW,QAAQ5F,CAAE,IAAK,CAAgd,IAAIqU,EAAoB,SAAS9I,IAAc,OAAU8I,oBAAoB9I,GAAc,IAAI5E,EAAOlB,aAAa4O,qBAAqB,SAASA,uBAAuB1I,GAAM,IAAI9E,EAAoF,OAA9EA,EAAMF,EAAOH,KAAKP,QAAQ0F,IAAYpE,YAAY,IAAmBO,SAAgBjB,CAAM,CAAC,IAA+EyN,EAAiTC,EAAqTC,EAAuuCC,EAAx5DpN,EAAOgN,oBAAoB/N,UAA2xF,OAAjxFe,EAAO8J,iBAA+BmD,GAAiB,QAAkB,YAAY,MAAM,IAAI,KAAoB,EAAA3S,EAAU+S,KAAKC,cAAc,CAACtL,GAAG,EAAAuL,cAAcC,0CAA2C,IAAG,SAAS1D,kBAAkB,OAAOmD,EAAiB7T,MAAMwF,KAAKtF,UAAW,GAA4B0G,EAAO8E,aAA2BoI,GAAa,QAAkB,YAAY,MAAM,IAAI,KAAoB,EAAA5S,EAAU+S,KAAKC,cAAc,CAACtL,GAAG,EAAAuL,cAAcC,0CAA2C,IAAG,SAAS1I,cAAc,OAAOoI,EAAa9T,MAAMwF,KAAKtF,UAAW,GAAwB0G,EAAOyN,iCAA+CN,GAAiC,QAAkB,UAAU7Q,GAAQ,IAAG,QAAChB,EAAO,KAAC4H,EAAI,SAACyH,EAAQ,gBAACC,EAAe,KAAC9I,EAAI,WAACjB,EAAU,aAAC6M,EAAY,UAACzP,GAAW3B,EAAO,IAAIhB,IAAU4H,EAAM,MAAM,IAAI/H,MAAM,2EAA4E,IAAIsO,QAAkB7K,KAAK8K,wBAA4BxI,QAAetC,KAAKuC,mBAAuBJ,EAASG,EAAS6J,gBAAoBG,EAAgBrK,GAAYqK,gBAAoBlJ,EAAG,IAAa2L,uBAAuB,CAAC5M,WAASzF,UAAQ4H,OAAKgI,kBAAgBwC,iBAAmBE,EAAgB,GAAOzK,EAAWD,EAAK,IAAI5H,GAAS4H,EAAK,EAAC,QAAetE,KAAKyK,SAAS,IAAI5K,QAAaG,KAAKyK,SAASwE,qBAAqB,CAACnM,UAAUwB,EAAKgI,kBAAgBzB,gBAAcmE,EAAgBnP,GAAQnD,SAAS,GAAG6H,EAAW1E,GAAQ0E,YAAYA,GAAYD,CAAK,CAAiN,MAAM,CAA1M,CAAClB,KAAGF,OAAK/G,KAAK,KAAe4H,KAAKhB,QAAQ,MAAMZ,WAASsB,KAAKnB,EAASmB,KAAKsI,WAASC,kBAAgBtP,QAAQsS,GAAiBtS,GAAS,GAAG4H,KAAKA,GAAM,GAAGC,aAAWjF,KAAK,GAAGD,UAAUA,GAAW,CAAC,GAAmB,IAAG,SAASwP,gCAAgClL,GAAI,OAAO4K,EAAiC/T,MAAMwF,KAAKtF,UAAW,GAA4C0G,EAAO8N,mCAAiDV,GAAmC,QAAkB,UAAU9Q,EAAOmD,EAAQ,CAAC,GAAG,IAAG,QAACnE,EAAO,KAACwG,EAAI,SAAC6I,EAAQ,gBAACC,EAAe,aAAC8C,GAAcpR,EAAO,IAAIhB,EAAS,MAAM,IAAI,KAAkB,IAAIsP,EAAiB,MAAM,IAAIzP,MAAM,2EAA4E,IAAG,+BAAC2P,GAA+B,GAAOrL,EAAYyB,QAAetC,KAAKuC,mBAAuBJ,EAAStB,EAAQsB,UAAUG,EAAS6J,gBAAoB1I,EAAK5C,EAAQ4C,MAAMnB,EAASmB,KAAqFxE,EAAQ,CAACmE,GAAlF,IAAa2L,uBAAuB,CAAC5M,WAASzF,UAAQoS,iBAA+B5L,KAAKA,GAAM,GAAG/G,KAAK,KAAegT,OAAOhN,WAASsB,OAAKsI,SAASG,EAA+BH,OAASpP,EAAUqP,kBAAgBtP,UAAQgH,IAAI,GAAGpE,KAAK,IAAI,OAAOgM,QAAQmB,QAAQ,CAACxN,GAAU,IAAG,SAASiQ,kCAAkCtL,GAAK,OAAO4K,EAAmChU,MAAMwF,KAAKtF,UAAW,IAAqD,OAAa0T,oBAAqB,CAA/lG,C,UAAimG,E,ibCA92HgB,EAAU,CAAC,aAAaC,EAAW,CAAC,aAAa,SAASzV,QAAQC,EAAEC,GAAG,IAAIC,EAAEC,OAAOC,KAAKJ,GAAG,GAAGG,OAAOE,sBAAsB,CAAC,IAAIC,EAAEH,OAAOE,sBAAsBL,GAAGC,IAAIK,EAAEA,EAAEC,QAAO,SAASN,GAAG,OAAOE,OAAOK,yBAAyBR,EAAEC,GAAGQ,UAAW,KAAIP,EAAEQ,KAAKC,MAAMT,EAAEI,EAAG,CAAC,OAAOJ,CAAE,CAAC,SAASU,cAAcZ,GAAG,IAAI,IAAIC,EAAE,EAAEA,EAAEY,UAAUC,OAAOb,IAAI,CAAC,IAAIC,EAAE,MAAMW,UAAUZ,GAAGY,UAAUZ,GAAG,CAAC,EAAEA,EAAE,EAAEF,QAAQI,OAAOD,IAAG,GAAIa,SAAQ,SAASd,IAAG,OAAgBD,EAAEC,EAAEC,EAAED,GAAI,IAAGE,OAAOa,0BAA0Bb,OAAOc,iBAAiBjB,EAAEG,OAAOa,0BAA0Bd,IAAIH,QAAQI,OAAOD,IAAIa,SAAQ,SAASd,GAAGE,OAAOe,eAAelB,EAAEC,EAAEE,OAAOK,yBAAyBN,EAAED,GAAI,GAAG,CAAC,OAAOD,CAAE,CAAC,SAAS2F,aAAaC,GAAS,IAAIC,EAA0BC,4BAA4B,OAAO,SAASC,uBAAuB,IAAmCC,EAA/BC,GAAM,OAAgBL,GAAgB,GAAGC,EAA0B,CAAC,IAAIK,GAAU,OAAgBC,MAAMC,YAAYJ,EAAOK,QAAQC,UAAUL,EAAMpF,UAAUqF,EAAW,MAAMF,EAAOC,EAAMtF,MAAMwF,KAAKtF,WAAY,OAAO,OAA2BsF,KAAKH,EAAQ,CAAE,CAAC,SAASF,4BAA4B,IAAI,IAAI5F,GAAGqG,QAAQC,UAAUC,QAAQC,KAAKL,QAAQC,UAAUC,QAAQ,IAAG,WAAW,IAAI,CAAC,MAAMrG,GAAG,CAAC,OAAO4F,0BAA0B,WAAW,QAAQ5F,CAAE,IAAK,CAA6nC,GAAG,mBAAoC,MAAM,IAAIwC,MAAM,oDAA4D,IAA06L+S,EAAU,SAASC,IAAqB,OAAUD,UAAUC,GAAqB,IAAI/J,EAAQhG,aAAa8P,WAAW,SAASA,aAAa5J,GAAM,IAAI9E,EAA+H,OAAzHA,EAAM4E,EAAQjF,KAAKP,QAAQ0F,IAAY8J,MAAK,UAAe5O,EAAM6O,uCAAuC,IAAI,KAAU,GAAU7O,CAAM,CAAC,IAA4D8O,EAAuLC,EAA2QC,EAAsaC,EAA8SC,EAAgQC,EAA+RC,EAAwPC,EAAyRC,EAA6SC,EAAkRC,EAA2+DC,EAA42DC,EAAgmBC,EAAidC,EAAoYC,EAAggDC,EAAkvCC,EAAyiFC,EAA24CvC,EAAkiBwC,EAA2uDC,EAA6OC,EAA8NC,EAA+SC,EAAkQC,EAA8QC,EAAmQC,EAA0SC,EAAmSC,GAA0NC,GAAwUC,GAAwbC,GAAmpBC,GAAsQC,GAAqZC,GAAuvBC,GAA+OC,GAAgYC,GAAmhBC,GAAiPC,GAAkeC,GAAkmBC,GAAqSC,GAAjzxBC,GAAQ/C,UAAUjP,UAAm/xB,OAAz+xBgS,GAAQC,MAAoB5C,GAAM,QAAkB,UAAU6C,SAAcvS,KAAKwS,YAAYD,EAAQ,IAAG,SAASD,KAAKG,GAAM,OAAO/C,EAAMlV,MAAMwF,KAAKtF,UAAW,GAAiB2X,GAAQG,aAA2B7C,GAAa,QAAkB,UAAU4C,GAAYvS,KAAKa,QAAQ6R,cAAa1S,KAAK2S,cAAcJ,EAAOK,eAAe5S,MAAO,IAAG,SAASwS,YAAYK,GAAM,OAAOlD,EAAanV,MAAMwF,KAAKtF,UAAW,GAAwB2X,GAAQS,sBAAoClD,GAAsB,QAAkB,UAAUlS,GAAQ,IAAG,SAACqV,GAAUrV,EAAWQ,QAAW8B,KAAKgG,cAAcgN,YAAYF,qBAAqBpV,GAAQ,OAAOjD,cAAcA,cAAc,CAAC,EAAEsY,GAAU,CAAC,EAAE,CAAC7U,OAAK+U,UAAUF,EAASE,WAAY,IAAG,SAASH,qBAAqBI,GAAM,OAAOtD,EAAsBpV,MAAMwF,KAAKtF,UAAW,GAAiC2X,GAAQc,mCAAiDtD,GAAmC,QAAkB,UAAUnS,GAAQ,MAAM,IAAI,IAAiB,IAAG,SAASyV,kCAAkCC,GAAM,OAAOvD,EAAmCrV,MAAMwF,KAAKtF,UAAW,GAA8C2X,GAAQgB,oBAAkCvD,GAAoB,QAAkB,UAAUpS,GAAQ,OAAO4N,QAAQmB,SAAQ,EAAM,IAAG,SAAS4G,mBAAmBC,GAAM,OAAOxD,EAAoBtV,MAAMwF,KAAKtF,UAAW,GAA+B2X,GAAQkB,gCAA8CxD,GAAgC,QAAkB,WAAU,iBAACyD,IAAmB,OAAO,IAAK,IAAG,SAASD,+BAA+BE,GAAM,OAAO1D,EAAgCvV,MAAMwF,KAAKtF,UAAW,GAA2C2X,GAAQqB,oBAAkC1D,GAAoB,QAAkB,UAAUtS,GAAQ,OAAO4N,QAAQmB,SAAQ,EAAM,IAAG,SAASiH,mBAAmBC,GAAM,OAAO3D,EAAoBxV,MAAMwF,KAAKtF,UAAW,GAA+B2X,GAAQuB,wBAAsC3D,GAAwB,QAAkB,WAAU,UAACgD,IAAY,OAAO3H,QAAQmB,QAAQ,CAACwG,aAAY,IAAG,SAASW,uBAAuBC,GAAM,OAAO5D,EAAwBzV,MAAMwF,KAAKtF,UAAW,GAAmC2X,GAAQyB,6BAA2C5D,GAA6B,QAAkB,WAAU,UAAC+C,IAAY,OAAO3H,QAAQmB,QAAQ,CAACwG,aAAY,IAAG,SAASa,4BAA4BC,GAAM,OAAO7D,EAA6B1V,MAAMwF,KAAKtF,UAAW,GAAwC2X,GAAQ2B,6BAA2C7D,GAA6B,QAAkB,UAAUzS,GAAQ,OAAO4N,QAAQmB,QAAQ,CAAC,EAAG,IAAG,SAASuH,4BAA4BC,GAAM,OAAO9D,EAA6B3V,MAAMwF,KAAKtF,UAAW,GAAwC2X,GAAQ6B,gBAA8B9D,GAAgB,QAAkB,UAAU1S,GAAQ,IAAG,iBAACyW,EAAgB,UAACC,EAAS,SAACrB,EAAQ,SAACsB,EAAQ,eAACC,EAAc,UAACC,GAAW7W,EAAW8W,EAAe9W,EAAO8W,gBAAgB,GAAOlQ,EAAK5G,EAAO4G,KAASpG,EAAK6U,GAAU7U,MAAMkW,GAAWlW,MAAM,GAAG,IAAIA,EAAM,MAAM,IAAI3B,MAAM,iCAAkC,IAAG,UAACgO,EAAS,UAACzJ,GAAWsT,EAAU,IAAI,IAAI1Y,EAAET,SAASqQ,QAAQC,IAAI,CAACvL,KAAKgG,cAAcyO,eAAeC,wBAAwB,CAACH,YAAUhK,YAAUzJ,cAAYd,KAAKgG,cAAcyO,eAAeE,eAAe,CAACJ,YAAUhK,YAAUzJ,gBAAc0T,EAAe9Y,EAAE4I,EAAKrJ,CAAE,CAAC,MAAMpB,GAAG,CAACua,EAAUlW,KAAKA,GAAMkW,EAAUlW,KAAKkW,EAAUQ,MAAMJ,EAAeJ,EAAU9P,KAAKA,EAAQ+P,IAAUD,EAAUS,OAAOL,GAAgB,IAAyFM,EAAUra,cAAcA,cAAc,CAAC2I,GAAlH,IAAa2R,oBAAoB,CAACjU,YAAU5C,OAAKsW,iBAAelQ,SAA+DgQ,eAAelU,QAAQkU,IAAiBH,GAAkB,CAAC,EAAE,CAACC,cAAY,OAAO9I,QAAQmB,QAAQqI,EAAW,IAAG,SAASZ,eAAec,GAAM,OAAO5E,EAAgB5V,MAAMwF,KAAKtF,UAAW,GAA2B2X,GAAQ4C,6BAA6B,SAASA,6BAA6BvX,GAAQ,IAAI6M,UAAU2K,EAAgBpU,UAAUqU,EAAgBX,eAAeY,EAAqB9Q,KAAK+Q,EAAU,iBAAC7B,EAAgB,4BAAC8B,GAA6B5X,EAAW6M,EAAU2K,EAAoBpU,EAAUqU,EAAoBX,EAAeY,EAAyB9Q,EAAK+Q,EAAW,GAAGF,KAAkB,SAAmBI,UAAU,CAAC,IAAIC,EAAkBF,GAA6BxM,MAAK,SAAS2M,GAAG,IAAIC,EAAEC,GAAQnC,EAAiBrU,IAAIN,MAAM,KAAK,OAAI,IAAO4W,EAAEG,aAA8FH,EAAE3U,YAAY0S,EAAiB1S,UAAxG2U,EAAE3U,YAAY0S,EAAiB1S,WAAW2U,EAAEG,cAAcD,CAAwD,IAAMH,IAAmBjL,EAAUiL,EAAkBjL,UAAUzJ,EAAU0U,EAAkB1U,UAAU0T,EAAegB,EAAkBhB,eAAelQ,EAAKkR,EAAkBI,YAAa,CAAC,MAAM,CAACrL,YAAUzJ,YAAU0T,iBAAelQ,OAAM,EAAE+N,GAAQwD,uBAAqCxF,GAAuB,QAAkB,UAAU3S,GAAQ,IAAIiO,EAAO3L,MAAQ,iBAACwT,EAAgB,OAACsC,EAAM,KAACC,EAAI,4BAACT,EAA2B,eAACU,GAAgBtY,GAAU,UAAC6M,EAAS,UAACzJ,EAAS,eAAC0T,EAAc,KAAClQ,GAAMtE,KAAKiV,6BAA6B,CAAC1K,UAAU7M,EAAO6M,UAAUzJ,UAAUpD,EAAOoD,UAAU0T,eAAe9W,EAAO8W,eAAelQ,KAAK5G,EAAO4G,KAAKkP,mBAAiB8B,gCAAiC5X,EAAO6M,UAAwB,IAA2BgK,EAAvBpV,EAAI,GAAGoL,IAA6ByL,UAAsBhW,KAAKyP,uCAAuCwG,cAAa,QAAkB,YAAY1B,EAAUyB,IAAiB7W,GAASoV,IAAWA,QAAgB5I,EAAO3F,cAAcyO,eAAeyB,iBAAiB,CAAC3L,iBAA0ByL,EAAe7W,GAAKoV,EAAY,MAAK,IAAI4B,QAAoBnW,KAAKgG,cAAc6H,eAAetL,iBAAiB,CAACzB,cAAY,IAAI,IAAIsV,QAAapW,KAAKqW,qBAAqB,CAACC,GAAG9C,EAAiBsC,SAAOC,SAAW3B,EAAU,CAAClW,KAAKsV,EAAiB8C,GAAG1B,MAAMJ,EAAeK,OAAOrB,EAAiB+C,KAAKC,GAAGhD,EAAiBgD,GAAGC,MAAMjD,EAAiBiD,MAAMC,QAAQ,CAACN,GAAQO,QAAO,QAA0BnD,EAAiBmD,QAAQ7V,YAAUyJ,YAAUjG,OAAKsS,iBAAiBpD,EAAiBqD,OAAOC,kBAAkBtD,EAAiBuD,gBAAgBC,aAAab,EAAcc,OAAOzD,EAAiBrY,WAAMwB,EAAUua,gBAAgBlX,KAAKuT,+BAA+B,CAACC,qBAAmBvK,QAAQ,CAAC9M,KAAKqX,EAAiBrX,KAAKhB,MAAMqY,EAAiBrY,MAAMgc,MAAM3D,EAAiB2D,QAA+I,OAAvI/C,EAAUgD,UAAU,IAAIC,KAAgC,IAA3B7D,EAAiB8D,WAAgBC,UAAUnD,EAAUoD,UAAUpD,EAAUgD,UAAUhD,EAAUqD,SAAQ,QAAkBzX,KAAKkU,eAAe,CAACK,YAAUH,YAAUI,iBAAelQ,QAAO,CAAC,MAAMzK,GAAG,OAAO,IAAK,CAAC,IAAG,SAASgc,sBAAsB6B,GAAM,OAAOrH,EAAuB7V,MAAMwF,KAAKtF,UAAW,GAAkC2X,GAAQgE,sBAAoC/F,GAAsB,QAAkB,WAAU,GAACgG,EAAE,OAACR,EAAM,KAACC,IAAO,OAAGO,EAAGna,OAAO,KAAsBwb,SAASrB,EAAGsB,aAAqB5X,KAAK6X,4BAA4B,CAACvB,KAAGR,SAAOC,OAAK6B,aAAatB,EAAGsB,eAAmB,IAAStB,EAAGwB,QAAQ,IAASxB,EAAGyB,UAAczB,EAAGna,KAAY6D,KAAKgY,iCAAiC,CAAC1B,OAAYtW,KAAKiY,4BAA4B,CAAC3B,OAAatW,KAAKkY,2BAA2B,CAAC5B,KAAGR,SAAOC,QAAO,IAAG,SAASM,qBAAqB8B,GAAM,OAAO7H,EAAsB9V,MAAMwF,KAAKtF,UAAW,GAAiC2X,GAAQ2F,kCAAgDzH,GAAkC,QAAkB,WAAU,GAAC+F,IAAyC,aAAlBtW,KAAKoY,aAAmB,CAACjc,KAAK,KAAqBkc,cAAcC,aAAa,CAAC/B,KAAKD,EAAGC,KAAKC,GAAGF,EAAGE,GAAG+B,aAAajC,EAAGa,MAAMqB,aAAalC,EAAGmC,aAAa/S,KAAK4Q,EAAG5Y,QAAS,IAAG,SAASsa,iCAAiCU,GAAM,OAAOnI,EAAkC/V,MAAMwF,KAAKtF,UAAW,GAA6C2X,GAAQ4F,6BAA2CzH,GAA6B,QAAkB,WAAU,GAAC8F,IAAyC,aAAlBtW,KAAKoY,aAAmB,CAACjc,KAAK,KAAqBwc,QAAQC,cAAc,CAACrC,KAAKD,EAAGC,KAAKC,GAAGF,EAAGE,GAAGW,MAAMb,EAAGa,OAAQ,IAAG,SAASc,4BAA4BY,GAAM,OAAOrI,EAA6BhW,MAAMwF,KAAKtF,UAAW,GAAwC2X,GAAQ6F,4BAA0CzH,GAA4B,QAAkB,WAAU,GAAC6F,EAAE,OAACR,EAAM,KAACC,IAAO,IAAIjJ,EAAO9M,KAAK,MAAM,CAAC7D,KAAK,KAAqB2c,eAAeC,cAAc,CAACxC,KAAKD,EAAGC,KAAKC,GAAGF,EAAGE,GAAGW,MAAMb,EAAGa,MAAMW,MAAMxB,EAAGwB,MAAMrb,KAAI,SAASuc,GAAM,OAAOlM,EAAOmM,qBAAqB,CAACC,SAASF,EAAKlD,SAAOC,QAAO,IAAGgC,SAASzB,EAAGyB,SAAStb,KAAI,SAAS0c,GAAS,OAAOrM,EAAOmM,qBAAqB,CAACC,SAASC,EAAQrD,SAAOC,QAAO,KAAK,IAAG,SAASmC,2BAA2BkB,GAAM,OAAO3I,EAA4BjW,MAAMwF,KAAKtF,UAAW,GAAuC2X,GAAQ4G,qBAAqB,SAASA,sBAAqB,SAACC,EAAQ,OAACpD,EAAM,KAACC,IAAO,IAAG,KAACsD,EAAI,OAACC,EAAM,KAACpW,EAAI,MAACqW,EAAK,SAACC,EAAQ,MAACC,IAAO,QAA6B,CAACta,IAAI+Z,EAAS/Z,IAAIua,aAAaR,EAASS,MAAM7D,SAAOC,SAAO,MAAM,CAACQ,KAAK2C,EAAS3C,KAAKC,GAAG0C,EAAS1C,GAAGoD,iBAAiBV,EAASS,MAAME,OAAOX,EAASW,OAAO1C,MAAM+B,EAAS/B,MAAM2C,MAAMZ,EAASY,MAAMT,OAAKnW,OAAKoW,SAAOC,QAAMC,WAASC,QAAO,EAAEpH,GAAQwF,4BAA4B,SAASA,6BAA4B,GAACvB,EAAE,OAACR,EAAM,KAACC,EAAI,aAAC6B,IAAe,IAAG,KAACyB,EAAI,OAACC,EAAM,KAACpW,EAAI,SAAC6W,IAAU,QAA6B,CAAC5a,IAAIyY,EAAazY,IAAIua,aAAa9B,EAAa+B,MAAM7D,SAAOC,SAAO,MAAM,CAAC5Z,KAAK,KAAqB6d,cAAcpC,aAAa,CAACrB,KAAKD,EAAGC,KAAKC,GAAGF,EAAGE,GAAGyD,QAAQrC,EAAaqC,QAAQZ,OAAKnW,OAAKoW,SAAOS,WAAS5C,MAAMb,EAAGa,MAAMyC,iBAAiBhC,EAAa+B,MAAME,OAAO,IAAI,IAAUjC,EAAaiC,QAAQK,WAAWH,GAAUI,UAAUC,iBAAiBxC,EAAawC,kBAAmB,EAAE/H,GAAQgI,4BAA0C3J,GAA4B,QAAkB,UAAUhT,GAAQ,IAAG,KAAC6Y,EAAI,GAACC,EAAE,UAAC8D,EAAS,KAACC,EAAI,YAACC,EAAW,eAACC,EAAc,kBAACC,EAAiB,qBAACC,EAAoB,oBAACC,EAAmB,sBAACC,GAAuBnd,GAAW8W,EAAe7W,SAAe2N,QAAQC,IAAI,CAACvL,KAAK8a,oBAAoB9a,KAAKoY,eAAmB2C,EAAwB,IAAI,IAAU,GAAOhC,EAAc,CAACxC,OAAKC,KAAGsB,MAAM,GAAGC,SAAS,GAAGyC,cAAYC,iBAAeC,oBAAkBC,uBAAqBC,sBAAoBC,yBAAohB,OAA7fP,EAAU1f,SAAQ,SAASse,IAAa,QAAuB,CAAC3C,KAAK2C,EAAS3C,KAAKC,GAAG0C,EAAS1C,GAAGhC,qBAAmB,IAAoBwG,KAAKjC,EAAcjB,MAAMvd,KAAK2e,GAAaA,EAASM,WAAUuB,EAAwBA,EAAwBE,KAAK,IAAI,IAAU/B,EAASW,WAAgBd,EAAchB,SAASxd,KAAK2e,EAAW,IAAGH,EAAc/B,aAAa+D,EAAwBZ,UAAUpB,EAAcmC,kBAAkB,IAAgBC,0BAA0B,CAAChgB,MAAM4f,EAAwBpd,YAAgB,CAACxB,KAAK,KAAqB2c,eAAeyB,OAAKxB,gBAAe,IAAG,SAASsB,2BAA2Be,GAAM,OAAO1K,EAA4BlW,MAAMwF,KAAKtF,UAAW,GAAuC2X,GAAQgJ,yBAAuC1K,GAAyB,QAAkB,UAAUjT,GAAQ,IAAI4d,EAAsBC,EAAoBC,EAAsBC,EAAsBC,GAAyB,SAACC,EAAQ,SAACC,EAAQ,cAACC,GAAene,EAAWoe,EAAcF,EAASG,OAAOpC,MAAUqC,EAAiBJ,EAASK,SAAStC,MAAUuC,EAAaN,EAASO,iBAAiBtc,OAAOuc,KAASC,EAAcT,EAASO,iBAAiBtc,OAAO9C,KAAKsf,cAAkBC,EAAsB,GAAOhC,EAAU,CAAC,CAAC/D,KAAKqF,EAASpH,eAAegC,GAAG,GAAGoD,iBAAiBkC,EAAcS,gBAAgBlD,KAAoD,OAA9CiC,EAAsBQ,EAAcU,SAAelB,EAAsB,GAAGpY,KAA+C,OAAzCqY,EAAoBO,EAAc5Y,MAAYqY,EAAoB,GAAGjC,OAAOwC,EAAcxC,OAAOO,OAAO+B,EAASG,OAAOlC,OAAON,OAAM,EAAMC,SAASsC,EAActC,SAAS1Y,UAAU8a,EAASG,OAAOU,YAAY3b,WAAW,CAACyV,KAAK,GAAGC,GAAGoF,EAASc,iBAAiB9C,iBAAiBoC,EAAiBO,gBAAgBlD,KAAuD,OAAjDmC,EAAsBQ,EAAiBQ,SAAehB,EAAsB,GAAGtY,KAAoD,OAA9CuY,EAAsBO,EAAiB9Y,MAAYuY,EAAsB,GAAGnC,OAAO0C,EAAiB1C,OAAOO,OAAO+B,EAASK,SAASpC,OAAON,OAAM,EAAMC,SAASwC,EAAiBxC,SAAS1Y,UAAU8a,EAASK,SAASQ,YAAY3b,YAAknC,OAAnmCub,GAAeA,EAAczhB,SAAQ,SAAS+hB,GAAuK,IAAIC,EAAsBC,EAArLF,EAAQhD,MAAM4C,kBAAkBjC,EAAU,GAAGV,iBAAkBU,EAAU,GAAGT,OAAO,IAAI,IAAUS,EAAU,GAAGT,QAAQoB,KAAK0B,EAAQ9C,QAAQM,UAA8DmC,EAAsB/hB,KAAK,CAACgc,KAAKqF,EAASpH,eAAegC,GAAG,GAAGoD,iBAAiB+C,EAAQhD,MAAM4C,gBAAgBlD,KAAoD,OAA9CuD,EAAsBD,EAAQhD,MAAM6C,SAAeI,EAAsB,GAAG1Z,KAA+C,OAAzC2Z,EAAoBF,EAAQhD,MAAMzW,MAAY2Z,EAAoB,GAAGvD,OAAOqD,EAAQhD,MAAML,OAAOO,OAAO8C,EAAQ9C,OAAON,OAAM,EAAMC,SAASmD,EAAQhD,MAAMH,SAAS1Y,UAAU8a,EAASG,OAAOU,YAAY3b,WAAa,IAAIwZ,EAAU,IAAIgC,KAAyBhC,SAA4Bta,KAAKqa,2BAA2B,CAAC9D,KAAKqF,EAASpH,eAAegC,GAAkB,MAAfqF,EAAoBA,EAAc,GAAGtB,KAAKoB,EAASnB,YAAY,CAACtX,KAAKgZ,EAAaY,aAAazD,KAAwD,OAAlDqC,EAAsBQ,EAAaa,cAAoBrB,EAAsB,IAAIjB,gBAAe,EAAKG,oBAAoBgB,EAASc,iBAAiB7B,sBAAsBe,EAASK,SAAStC,MAAM7Y,UAAUwZ,aAA0B,IAAG,SAASe,wBAAwB2B,GAAM,OAAOrM,EAAyBnW,MAAMwF,KAAKtF,UAAW,GAAoC2X,GAAQ4K,4BAA0CrM,GAA4B,QAAkB,UAAUlT,GAAQ,IAAIwf,EAAoBC,EAAiBC,EAAsBC,GAAuB,YAACC,EAAW,YAACC,EAAW,eAAC/I,EAAc,iBAACgJ,GAAkB9f,GAAU,SAAC+f,EAAQ,gBAACC,EAAe,KAAC1E,EAAI,QAACG,GAASmE,EAAgBhD,EAAU,CAACtB,GAAM,CAACzC,KAAK/B,EAAegC,GAAG,GAAGoD,iBAAiBZ,EAAKW,MAAMjd,QAAQ2c,KAA+C,OAAzC6D,EAAoBlE,EAAKW,MAAM6C,SAAeU,EAAoB,GAAGha,KAAyC,OAAnCia,EAAiBnE,EAAKW,MAAMzW,MAAYia,EAAiB,GAAG7D,OAAON,EAAKW,MAAML,OAAOO,OAAOb,EAAKa,OAAON,OAAM,EAAMC,SAASR,EAAKW,MAAMH,UAAUL,GAAS,CAAC5C,KAAK,GAAGC,GAAGhC,EAAeoF,iBAAiBT,EAAQQ,MAAMjd,QAAQ2c,KAAoD,OAA9C+D,EAAsBjE,EAAQQ,MAAM6C,SAAeY,EAAsB,GAAGla,KAA+C,OAAzCma,EAAoBlE,EAAQQ,MAAMzW,MAAYma,EAAoB,GAAG/D,OAAOH,EAAQQ,MAAML,OAAOO,OAAOV,EAAQU,OAAON,OAAM,EAAMC,SAASL,EAAQQ,MAAMH,WAAWpf,OAAOgG,SAAqT,aAA3RJ,KAAKqa,2BAA2B,CAAC9D,KAAK/B,EAAegC,GAAqB,MAAlBgH,EAAuBA,EAAiB,GAAGjD,KAAKgD,EAAY/C,YAAY,CAACtX,KAAKua,EAASpE,KAAsB,MAAjBqE,EAAsBA,EAAgB,IAAIhD,mBAAkB,EAAKC,sBAAqB,QAAsB,CAAC2C,gBAAchD,aAA0B,IAAG,SAAS2C,2BAA2BU,GAAM,OAAO/M,EAA4BpW,MAAMwF,KAAKtF,UAAW,GAAuC2X,GAAQnH,iBAA+BmD,GAAiB,QAAkB,UAAU3Q,GAAQ,IAAIkgB,EAAiBC,GAAuB,WAACnT,GAAYhN,EAAOA,EAAOiN,SAA6C,OAAnCiT,EAAiBlgB,EAAOiN,WAAgBiT,EAAsB,IAAI7K,QAAe/S,KAAK2S,QAAQzH,gBAAgBxN,GAAQ,OAAOjD,cAAcA,cAAc,CAAC,EAAEsY,GAAU,CAAC,EAAE,CAACE,UAAoD,OAAzC4K,EAAoB9K,EAASE,WAAiB4K,EAAoBnT,EAAWuI,WAAY,IAAG,SAAS/H,gBAAgB4S,GAAM,OAAOzP,EAAiB7T,MAAMwF,KAAKtF,UAAW,GAA4B2X,GAAQlM,YAA0B0K,GAAY,QAAkB,WAAU,UAAC0D,GAAW,CAAC,GAAG,IAAItV,EAAQsV,EAA+I,GAAjItV,GAASA,GAASmE,KAAKpD,KAAKuK,YAAWtL,QAAce,KAAKgG,cAAcyO,eAAesJ,aAAa,CAACxT,UAAUvK,KAAKuK,cAAiB,IAAayT,+BAA+B,CAAC/e,UAAQ6B,UAAUd,KAAKc,YAAa,MAAM,IAAIvE,MAAM,wCAAwCyD,KAAKc,aAAa7B,EAAQmE,IAAI6a,MAAM,EAAE,OAAQ,IAAIpT,QAAkB7K,KAAKke,iBAAqBC,EAAgBlf,EAAYmf,EAAuB,GAAG,GAAGD,EAAgBE,mBAAmB,CAAC,IAAIC,4BAA4B,UAAS,IAACnf,EAAG,cAACof,IAAgB,IAAIC,EAAsB,IAAIrf,EAAK,MAAM,GAAI,IAAIqE,EAAsE,OAA/Dgb,EAAsBL,EAAgBM,kBAAkBtf,IAAYqf,EAAsBD,EAAkBlf,EAAU8e,EAAgBE,qBAAqBlf,IAAMN,MAAM,KAAKzE,OAAOgG,UAAU,GAAG,OAAOf,IAAYmE,IAAQnE,IAAYkf,IAAgB,EAAG,GAAEH,EAAuBE,4BAA4B,CAACnf,IAAIa,KAAKc,UAAUyd,eAAe,OAAqEH,EAAuBE,4BAA4B,CAACnf,UAA1Ea,KAAK0e,iBAA8EH,cAAc,KAASH,IAAwBA,EAAuBE,4BAA4B,CAACnf,IAAIa,KAAKc,UAAUyd,cAAc,IAAK,CAAC,IAAII,QAAoB3e,KAAK4e,0BAA0B,CAAC/T,cAAY5L,UAAQ6B,UAAUd,KAAKc,UAAUsd,2BAA6B1hB,EAAQiiB,GAAejiB,SAAS,GAAG,IAAIA,IAAUiiB,EAAcE,oBAAoBF,EAAcG,QAAS,MAAM,IAAIviB,MAAM,kDAAmD,OAAO9B,cAAcA,cAAc,CAAC,EAAEwE,GAAS,CAAC,EAAE,CAAC0f,gBAAcjiB,WAAU,IAAG,SAASyJ,aAAa,OAAO0K,EAAYrW,MAAMwF,KAAKtF,UAAW,GAAuB2X,GAAQyI,mBAAiChK,GAAmB,QAAkB,YAAY,aAAa9Q,KAAKmG,cAAczJ,OAAQ,IAAG,SAASoe,oBAAoB,OAAOhK,EAAmBtW,MAAMwF,KAAKtF,UAAW,GAA8B2X,GAAQ0M,gBAA8BhO,GAAgB,QAAkB,YAAY,aAAa/Q,KAAKmG,cAAc7G,IAAK,IAAG,SAASyf,iBAAiB,OAAOhO,EAAgBvW,MAAMwF,KAAKtF,UAAW,GAA2B2X,GAAQsC,gBAA8B3D,GAAgB,QAAkB,WAAU,UAACuD,GAAW,CAAC,GAAG,IAAIyK,QAAqBhf,KAAKmG,WAAW,CAACoO,cAAY,OAAOvU,KAAKif,mBAAmBD,EAAgB,IAAG,SAASrK,iBAAiB,OAAO3D,EAAgBxW,MAAMwF,KAAKtF,UAAW,GAA2B2X,GAAQ6M,mBAAiCjO,GAAmB,QAAkB,WAAU,cAACkO,IAAgB,OAAO7T,QAAQmB,QAAQ0S,EAAe,IAAG,SAASD,kBAAkBE,GAAM,OAAOnO,EAAmBzW,MAAMwF,KAAKtF,UAAW,GAA8B2X,GAAQgN,oBAAkCnO,GAAoB,QAAkB,WAAU,eAACoO,IAAiB,OAAOhU,QAAQmB,QAAQ6S,EAAgB,IAAG,SAASD,mBAAmBE,GAAM,OAAOrO,EAAoB1W,MAAMwF,KAAKtF,UAAW,GAA+B2X,GAAQmN,0BAAwCrO,GAA0B,QAAkB,WAAU,UAAC8B,IAAY,OAAO,CAAK,IAAG,SAASuM,yBAAyBC,GAAM,OAAOtO,EAA0B3W,MAAMwF,KAAKtF,UAAW,GAAqC2X,GAAQqN,uBAAqCtO,GAAuB,QAAkB,WAAU,UAACgD,EAAS,YAACuL,IAAc,OAAOrU,QAAQmB,QAAQ2H,EAAUnB,UAAW,IAAG,SAASyM,sBAAsBE,GAAM,OAAOxO,EAAuB5W,MAAMwF,KAAKtF,UAAW,GAAkC2X,GAAQwN,8BAA4CxO,GAA8B,QAAkB,UAAU3T,GAAQ,OAAO4N,QAAQmB,QAAQ/O,EAAOuV,UAAW,IAAG,SAAS4M,6BAA6BC,GAAM,OAAOzO,EAA8B7W,MAAMwF,KAAKtF,UAAW,GAAyC2X,GAAQ0N,eAA6BzO,IAAe,QAAkB,UAAU5T,GAAQ,MAAM,IAAI,IAAiB,IAAG,SAASqiB,cAAcC,GAAM,OAAO1O,GAAe9W,MAAMwF,KAAKtF,UAAW,GAA0B2X,GAAQ4N,gBAA8B1O,IAAgB,QAAkB,WAAU,QAAC7U,IAAU,OAAO4O,QAAQmB,QAAQ,CAAC,EAAG,IAAG,SAASwT,eAAeC,GAAM,OAAO3O,GAAgB/W,MAAMwF,KAAKtF,UAAW,GAA2B2X,GAAQ8N,oBAAoB,SAASA,oBAAoBziB,GAAQ,OAAO4N,QAAQmB,QAAQ/O,EAAQ,EAAE2U,GAAQ+N,qBAAmC5O,IAAqB,QAAkB,UAAU9T,GAAgH,aAA9EsC,KAAKgG,cAAc6H,eAAewS,gBAAgB,CAACvf,UAAUd,KAAKc,aAAuCd,KAAKsgB,yBAAyB5iB,GAAgBsC,KAAKugB,yBAAyB7iB,EAAQ,IAAG,SAAS0iB,oBAAoBI,GAAM,OAAOhP,GAAqBhX,MAAMwF,KAAKtF,UAAW,GAAgC2X,GAAQkO,0BAAwC9O,IAA0B,QAAkB,UAAU/T,GAAQ,IAAI+iB,EAAYhmB,cAAc,CAAC,EAAE,IAAMiD,EAAO,CAAC,YAAY,YAAgBgjB,QAAa1gB,KAAKgG,cAAc2a,sBAAsBC,UAAU,IAAqBC,QAAkP,aAA3NH,EAAOI,IAAI,kCAAkC,YAAa,IAAQL,EAAY,QAAW,CAACM,cAAc/gB,KAAKgG,cAAc2a,sBAAsBK,qBAAqB,CAACzW,UAAU7M,EAAO6M,YAAY0W,OAAOvjB,EAAOujB,QAAqB,IAAG,SAASV,yBAAyBW,GAAM,OAAOzP,GAA0BjX,MAAMwF,KAAKtF,UAAW,GAAqC2X,GAAQiO,0BAAwC5O,IAA0B,QAAkB,UAAUhU,GAAQ,MAAM,IAAI,IAAiB,IAAG,SAAS4iB,yBAAyBa,GAAM,OAAOzP,GAA0BlX,MAAMwF,KAAKtF,UAAW,GAAqC2X,GAAQ+O,gBAA8BzP,IAAgB,QAAkB,UAAUjU,GAAgH,aAA9EsC,KAAKgG,cAAc6H,eAAewS,gBAAgB,CAACvf,UAAUd,KAAKc,aAAuCd,KAAKqhB,oBAAoB3jB,GAAgBsC,KAAKshB,oBAAoB5jB,EAAQ,IAAG,SAAS0jB,eAAeG,GAAM,OAAO5P,GAAgBnX,MAAMwF,KAAKtF,UAAW,GAA2B2X,GAAQiP,qBAAmC1P,IAAqB,QAAkB,UAAUlU,GAAQ,IAAG,aAAC8jB,EAAY,sBAACb,GAAuB3gB,KAAKgG,eAAiB,iBAACyb,EAAgB,KAACC,EAAI,OAACT,EAAM,UAAC1W,GAAW7M,EAAU+jB,EAAiBE,eAAcF,EAAiBE,aAAaF,EAAiBE,aAAavnB,QAAO,SAASwnB,GAAU,OAAkB,OAAXA,GAAmC,iBAAXA,CAAoB,KAAI,IAAIlB,QAAac,EAAaZ,UAAU,IAAqBC,QAAqL,aAA9JH,EAAOmB,KAAK,sCAAsCH,GAAM,KAAKD,EAAiB,CAACR,SAAOF,cAAcJ,EAAsBK,qBAAqB,CAACzW,eAA0B,IAAG,SAAS+W,oBAAoBQ,GAAM,OAAOlQ,GAAqBpX,MAAMwF,KAAKtF,UAAW,GAAgC2X,GAAQgP,qBAAmCxP,IAAqB,QAAkB,UAAUnU,GAAQ,MAAM,IAAI,IAAiB,IAAG,SAAS2jB,oBAAoBU,GAAM,OAAOlQ,GAAqBrX,MAAMwF,KAAKtF,UAAW,GAAgC2X,GAAQ2P,aAA2BlQ,IAAa,QAAkB,UAAUpU,GAAgH,aAA9EsC,KAAKgG,cAAc6H,eAAewS,gBAAgB,CAACvf,UAAUd,KAAKc,aAAuCd,KAAKiiB,iBAAiBvkB,GAAgBsC,KAAKkiB,iBAAiBxkB,EAAQ,IAAG,SAASskB,YAAYG,GAAM,OAAOrQ,GAAatX,MAAMwF,KAAKtF,UAAW,GAAwB2X,GAAQ6P,kBAAgCnQ,IAAkB,QAAkB,UAAUrU,GAAQ,IAAG,UAAC6M,GAAW7M,EAAO0kB,GAAK,OAAyB1kB,EAAO0R,GAAesR,QAAa1gB,KAAKgG,cAAcqc,WAAWzB,UAAU,IAAqBC,QAAsK,aAA/IH,EAAOmB,KAAK,kCAAkCO,EAAK,CAACrB,cAAc/gB,KAAKgG,cAAc2a,sBAAsBK,qBAAqB,CAACzW,eAA0B,IAAG,SAAS2X,iBAAiBI,GAAM,OAAOvQ,GAAkBvX,MAAMwF,KAAKtF,UAAW,GAA6B2X,GAAQ4P,kBAAgCjQ,IAAkB,QAAkB,UAAUtU,GAAQ,MAAM,IAAI,IAAiB,IAAG,SAASukB,iBAAiBM,GAAM,OAAOvQ,GAAkBxX,MAAMwF,KAAKtF,UAAW,GAA6B2X,GAAQmQ,2BAAyCvQ,IAA2B,QAAkB,UAAUvU,GAAgH,aAA9EsC,KAAKgG,cAAc6H,eAAewS,gBAAgB,CAACvf,UAAUd,KAAKc,aAAuCd,KAAKyiB,+BAA+B/kB,GAAgBsC,KAAK0iB,+BAA+BhlB,EAAQ,IAAG,SAAS8kB,0BAA0BG,GAAM,OAAO1Q,GAA2BzX,MAAMwF,KAAKtF,UAAW,GAAsC2X,GAAQqQ,gCAA8CxQ,IAAgC,QAAkB,UAAUxU,GAAQ,IAAG,UAAC6M,GAAW7M,EAAO0kB,GAAK,OAAyB1kB,EAAO2R,GAAgBqR,QAAa1gB,KAAKgG,cAAcqc,WAAWzB,UAAU,IAAqBC,QAA8K,aAAvJH,EAAOI,IAAI,oCAAoC,CAACpjB,OAAO0kB,EAAKrB,cAAc/gB,KAAKgG,cAAc2a,sBAAsBK,qBAAqB,CAACzW,eAA0B,IAAG,SAASmY,+BAA+BE,GAAM,OAAO1Q,GAAgC1X,MAAMwF,KAAKtF,UAAW,GAA2C2X,GAAQoQ,gCAA8CtQ,IAAgC,QAAkB,UAAUzU,GAAQ,MAAM,IAAI,IAAiB,IAAG,SAAS+kB,+BAA+BI,GAAM,OAAO1Q,GAAgC3X,MAAMwF,KAAKtF,UAAW,GAA2C2X,GAAQyQ,uBAAqC1Q,IAAuB,QAAkB,UAAU1U,GAAQ,MAAM,IAAI,IAAiB,IAAG,SAASolB,sBAAsBC,GAAM,OAAO3Q,GAAuB5X,MAAMwF,KAAKtF,UAAW,IAAyC,OAAa4U,UAAW,CAAh0yB,CAA75L,SAAS7O,IAAe,OAAUuiB,mBAAmBviB,GAAe,IAAIC,EAAOlB,aAAawjB,oBAAoB,SAASA,qBAAqB,OAAOtiB,EAAOlG,MAAMwF,KAAKtF,UAAW,CAAC,IAAiFuoB,EAAqPC,EAAsOC,EAAgOC,EAAiOC,EAAqhBC,EAAytCC,EAAobC,EAAwRC,EAAgPC,EAAsOC,EAAkRC,EAAoPC,EAAyaC,EAAypBC,EAAj8K3iB,EAAO4hB,mBAAmB3iB,UAA+nL,OAArnLe,EAAO6d,oBAAkCgE,GAAoB,QAAkB,UAAUjE,GAAgB,OAAOA,EAAe1a,IAAK,IAAG,SAAS2a,mBAAmBtb,GAAI,OAAOsf,EAAoBzoB,MAAMwF,KAAKtF,UAAW,GAA+B0G,EAAO4iB,kBAAgCd,GAAkB,QAAkB,UAAUe,GAAS,MAAM,IAAI,IAAiB,IAAG,SAASD,iBAAiBpgB,GAAK,OAAOsf,EAAkB1oB,MAAMwF,KAAKtF,UAAW,GAA6B0G,EAAO8iB,iBAA+Bf,GAAiB,QAAkB,UAAUlkB,GAAS,MAAM,IAAI,IAAiB,IAAG,SAASilB,gBAAgBrf,GAAK,OAAOse,EAAiB3oB,MAAMwF,KAAKtF,UAAW,GAA4B0G,EAAO+iB,eAA6Bf,GAAe,QAAkB,UAAU1mB,GAAS,MAAM,IAAI,IAAiB,IAAG,SAASynB,cAAcrf,GAAK,OAAOse,EAAe5oB,MAAMwF,KAAKtF,UAAW,GAA0B0G,EAAOgjB,wBAAsCf,GAAwB,QAAkB,UAAUpX,GAAY,IAAIjM,KAAKyK,QAAS,MAAM,IAAIlO,MAAM,gCAAiC,IAAI,IAAIsO,QAAkB7K,KAAK8K,wBAAoH,UAA3E9K,KAAKyK,QAAQ4B,sBAAsB,CAACxB,cAAYuB,cAAcH,KAAuBnJ,UAAW,MAAM,CAACgc,SAAQ,EAAO,CAAC,MAAM1gB,GAAO,CAAC,MAAM,CAAC0gB,SAAQ,EAAO,IAAG,SAASsF,uBAAuBpf,GAAK,OAAOqe,EAAwB7oB,MAAMwF,KAAKtF,UAAW,GAAmC0G,EAAOijB,0BAAwCf,GAA0B,QAAkB,UAAU5lB,GAAQ,IAAqL4mB,EAAkBC,EAAeC,EAAgBC,EAAlOC,GAAM,QAAoB,CAACC,YAAYjnB,EAAOgnB,SAAW,gBAACE,EAAe,cAACC,EAAa,aAACC,EAAY,mBAACC,GAAoBrnB,EAAWmC,EAAO,CAACif,SAAQ,GAAWA,GAAQ,EAA4E,GAAG8F,IAAkB9F,EAAS,IAAIwF,QAAoBtkB,KAAK4kB,gBAAgBF,GAAO7kB,EAAOykB,cAAcA,EAAcxF,EAAQA,GAASwF,GAAexF,OAAQ,CAAC,MAAM1gB,GAAO,CAAE,GAAG0mB,IAAehG,EAAS,IAAIyF,QAAiBvkB,KAAK8kB,aAAaJ,GAAO7kB,EAAO0kB,WAAWA,EAAWzF,EAAQA,GAASyF,GAAYzF,OAAQ,CAAC,MAAM1gB,GAAO,CAAE,GAAGymB,IAAgB/F,EAAS,IAAI0F,QAAkBxkB,KAAK6kB,cAAcH,GAAO7kB,EAAO2kB,YAAYA,EAAY1F,EAAQA,GAAS0F,GAAa1F,OAAQ,CAAC,MAAM1gB,GAAO,CAAE,GAAG2mB,IAAqBjG,EAAS,IAAI2F,QAAuBzkB,KAAK+kB,mBAAmBL,GAAO7kB,EAAO4kB,iBAAiBA,EAAiB3F,EAAQA,GAAS2F,GAAkB3F,OAAQ,CAAC,MAAM1gB,GAAO,CAAkC,OAAhCyB,EAAOif,QAAQ1e,QAAQ0e,GAAe,CAACjf,SAAOmlB,aAAaN,EAAO,IAAG,SAASL,yBAAyBnf,GAAK,OAAOoe,EAA0B9oB,MAAMwF,KAAKtF,UAAW,GAAqC0G,EAAO6jB,+BAA6C1B,GAA+B,QAAkB,UAAU7lB,GAAQ,IAAIgnB,GAAM,QAAoB,CAACC,YAAYjnB,EAAOgnB,QAAYzY,EAAW,IAASiZ,eAAeR,GAAyD,MAAM,CAACzY,WAAzDA,GAAW,QAAoB,CAACkZ,KAAKlZ,IAAgC,IAAG,SAASgZ,8BAA8B7f,GAAK,OAAOme,EAA+B/oB,MAAMwF,KAAKtF,UAAW,GAA0C0G,EAAOgkB,0BAAwC5B,GAA0B,QAAkB,WAAU,UAAC6B,IAAY,OAAO/Z,QAAQmB,QAAQ,CAACqS,SAAQ,GAAO,IAAG,SAASsG,yBAAyBzY,GAAK,OAAO6W,EAA0BhpB,MAAMwF,KAAKtF,UAAW,GAAqC0G,EAAOkkB,mBAAiC7B,GAAmB,QAAkB,WAAU,KAACvgB,IAAO,OAAO,QAAmBA,EAAM,IAAG,SAASoiB,kBAAkBpY,GAAK,OAAOuW,EAAmBjpB,MAAMwF,KAAKtF,UAAW,GAA8B0G,EAAOmkB,mBAAiC7B,GAAmB,QAAkB,WAAU,KAACxgB,IAAO,OAAO,IAAK,IAAG,SAASqiB,kBAAkBtY,GAAM,OAAOyW,EAAmBlpB,MAAMwF,KAAKtF,UAAW,GAA8B0G,EAAOokB,4BAA0C7B,GAA4B,QAAkB,UAAUjmB,GAAQ,MAAM,IAAI,IAAiB,IAAG,SAAS8nB,2BAA2B/X,GAAM,OAAOkW,EAA4BnpB,MAAMwF,KAAKtF,UAAW,GAAuC0G,EAAOqkB,qBAAmC7B,GAAqB,QAAkB,UAAUlmB,GAAQ,MAAM,IAAI,IAAiB,IAAG,SAAS+nB,oBAAoB/X,GAAM,OAAOkW,EAAqBppB,MAAMwF,KAAKtF,UAAW,GAAgC0G,EAAOskB,mBAAiC7B,GAAmB,QAAkB,UAAUnmB,GAAgH,aAA9EsC,KAAKgG,cAAc6H,eAAewS,gBAAgB,CAACvf,UAAUd,KAAKc,aAAuCd,KAAK2lB,uBAAuBjoB,GAAgBsC,KAAK4lB,uBAAuBloB,EAAQ,IAAG,SAASgoB,kBAAkBlY,GAAM,OAAOqW,EAAmBrpB,MAAMwF,KAAKtF,UAAW,GAA8B0G,EAAOwkB,wBAAsC9B,GAAwB,QAAkB,UAAUpmB,GAAQ,IAAImoB,EAAmBnF,QAAa1gB,KAAKgG,cAAcwb,aAAaZ,UAAU,IAAqBC,QAAgU,aAAzSH,EAAOmB,KAAK,kCAAkC,IAAMnkB,EAAO,CAAC,WAAW,YAAY,WAAW,CAACqjB,cAAc/gB,KAAKgG,cAAc2a,sBAAsBK,qBAAqB,CAACzW,UAAU7M,EAAO6M,UAAUxI,SAASrE,EAAOqE,WAAWkf,OAAuC,OAA/B4E,EAAenoB,EAAOujB,QAAc4E,OAAelpB,GAAwB,IAAG,SAASipB,uBAAuB5X,GAAM,OAAO8V,EAAwBtpB,MAAMwF,KAAKtF,UAAW,GAAmC0G,EAAOukB,wBAAsC5B,GAAwB,QAAkB,UAAUrmB,GAAQ,MAAM,IAAI,IAAiB,IAAG,SAASioB,uBAAuBxX,GAAM,OAAO4V,EAAwBvpB,MAAMwF,KAAKtF,UAAW,IAA0C,OAAasoB,mBAAoB,CAAx3L,CAA03L,K,iHCApnR8C,EAAa,WAAW,SAASA,aAAajlB,GAAuQ,GAA9Pb,KAAKa,QAAQA,EAAQb,KAAKc,UAAUD,EAAQC,WAAW,GAAGd,KAAKuK,UAAU1J,EAAQ0J,WAAW,GAAGvK,KAAKgG,cAAcnF,EAAQmF,cAAchG,KAAK+B,SAASlB,EAAQkB,WAAW/B,KAAKuK,UAAU,IAAawb,yBAAyB,CAACxb,UAAUvK,KAAKuK,YAAY,KAAQvK,KAAK+B,WAAW/B,KAAKa,QAAQ6R,YAAa,MAAM,IAAInW,MAAM,+BAAiC,CAAC,IAAqEypB,EAAkMC,EAA4XC,EAAwRC,EAAyPC,EAAuPC,EAA8PC,EAAmjBC,EAAsKC,EAA91EplB,EAAO0kB,aAAazlB,UAAi8E,OAAv7Ee,EAAOqlB,cAA4BT,GAAc,QAAkB,YAAY,OAAOhmB,KAAKc,SAAU,IAAG,SAAS2lB,eAAe,OAAOT,EAAcxrB,MAAMwF,KAAKtF,UAAW,GAAyB0G,EAAOgX,YAA0B6N,GAAY,QAAkB,WAAU,OAACS,GAAQ,CAAC,GAAG,IAAIA,IAAS1mB,KAAK2mB,UAAU3mB,KAAK2mB,SAASvjB,KAAKpD,KAAKc,UAAU,CAAC,IAAInD,QAAcqC,KAAKgG,cAAc6H,eAAeuK,WAAW,CAACtX,UAAUd,KAAKc,YAAYd,KAAK2mB,SAAShpB,CAAQ,CAAC,OAAOqC,KAAK2mB,QAAS,IAAG,SAASvO,aAAa,OAAO6N,EAAYzrB,MAAMwF,KAAKtF,UAAW,GAAuB0G,EAAOwlB,mBAAiCV,GAAmB,QAAkB,WAAU,IAACW,GAAI,GAAO,CAAC,GAAG,OAAO,KAAaD,kBAAkB,CAAC9lB,UAAUd,KAAKc,UAAU+lB,OAAM,IAAG,SAASD,oBAAoB,OAAOV,EAAmB1rB,MAAMwF,KAAKtF,UAAW,GAA8B0G,EAAOsd,gBAA8ByH,GAAgB,QAAkB,YAAY,OAAO,KAAazH,eAAe,CAAC5d,UAAUd,KAAKc,WAAY,IAAG,SAAS4d,iBAAiB,OAAOyH,EAAgB3rB,MAAMwF,KAAKtF,UAAW,GAA2B0G,EAAOmB,kBAAgC6jB,GAAmB,QAAkB,YAAY,OAAO,QAAkB,CAACtlB,UAAUd,KAAKc,WAAY,IAAG,SAASyB,mBAAmB,OAAO6jB,EAAmB5rB,MAAMwF,KAAKtF,UAAW,GAA6B0G,EAAO8c,gBAA8BmI,GAAgB,QAAkB,YAAY,OAAO,QAA4B,CAACvlB,UAAUd,KAAKc,WAAY,IAAG,SAASod,iBAAiB,OAAOmI,EAAgB7rB,MAAMwF,KAAKtF,UAAW,GAA2B0G,EAAO0J,uBAAqCwb,GAAuB,QAAkB,YAAY,IAAI3oB,QAAcqC,KAAKoY,aAAiBvN,QAAkB7K,KAAKke,kBAAoB,cAAC4I,EAAa,MAACC,GAAOlc,EAAgBmc,QAAkBhnB,KAAK0e,iBAAqBuI,QAAcjnB,KAAK4mB,kBAAkB,CAACC,KAAI,KAAW,UAACK,GAAWvpB,GAAW,UAACmD,GAAWd,KAAK,MAAM,CAACknB,YAAUC,iBAAiBxpB,EAAQypB,KAAKH,UAAQnmB,YAAUkmB,cAAYF,gBAAcC,QAAO,IAAG,SAASjc,wBAAwB,OAAOwb,EAAuB9rB,MAAMwF,KAAKtF,UAAW,GAAkC0G,EAAOimB,WAAyBd,GAAW,QAAkB,YAAY,MAAM,EAAG,IAAG,SAASc,YAAY,OAAOd,EAAW/rB,MAAMwF,KAAKtF,UAAW,GAAsB0G,EAAOkmB,SAAuBd,GAAS,QAAkB,YAAY,IAAG,SAASc,UAAU,OAAOd,EAAShsB,MAAMwF,KAAKtF,UAAW,IAA2B,OAAaorB,aAAc,CAAn4F,E,0QCA3G,SAAStmB,aAAaC,GAAS,IAAIC,EAA0BC,4BAA4B,OAAO,SAASC,uBAAuB,IAAmCC,EAA/BC,GAAM,OAAgBL,GAAgB,GAAGC,EAA0B,CAAC,IAAIK,GAAU,OAAgBC,MAAMC,YAAYJ,EAAOK,QAAQC,UAAUL,EAAMpF,UAAUqF,EAAW,MAAMF,EAAOC,EAAMtF,MAAMwF,KAAKtF,WAAY,OAAO,OAA2BsF,KAAKH,EAAQ,CAAE,CAAC,SAASF,4BAA4B,IAAI,IAAI5F,GAAGqG,QAAQC,UAAUC,QAAQC,KAAKL,QAAQC,UAAUC,QAAQ,IAAG,WAAW,IAAI,CAAC,MAAMrG,GAAG,CAAC,OAAO4F,0BAA0B,WAAW,QAAQ5F,CAAE,IAAK,CAAgI,IAAIwtB,EAAgB,SAASC,IAAsB,OAAUD,gBAAgBC,GAAsB,IAAI9mB,EAAOlB,aAAa+nB,iBAAiB,SAASA,kBAAkB,OAAO7mB,EAAOlG,MAAMwF,KAAKtF,UAAW,CAAC,IAAI0G,EAAOmmB,gBAAgBlnB,UAA4K,OAAlKe,EAAO8E,YAAY,SAASA,YAAYxI,GAAQ,MAAM,IAAI,IAAiB,EAAE0D,EAAO8J,gBAAgB,SAASA,gBAAgBxN,GAAQ,MAAM,IAAI,IAAiB,GAAS,OAAa6pB,gBAAiB,CAApa,C,UAAsa,G,kFCAxxCE,EAAwC,IAAQC,EAAmD,GAAOC,EAA2C,GAAU,SAASC,aAAaC,GAAuD,IAA/C,IAAIC,EAAS,IAAI,EAAAC,WAAWF,GAAYG,EAAI,GAASF,EAASG,QAAQ,MAAO,GAAGD,GAAK,KAAuB,IAAlBF,EAASI,SAAc,KAAMC,SAAS,MAAMlK,OAAO,GAAG6J,EAASA,EAASM,OAAO,IAAI,EAAAL,WAAW,GAAGM,IAAI,IAA4D,OAAvDL,GAAK,IAAIF,EAASQ,YAAYH,SAAS,MAAMlK,OAAO,EAAc,CAA+rB,SAASsK,WAAW7D,GAAO,GAAGA,EAAM/pB,OAAO,GAAI,IAApJ,SAAS6tB,SAAS3B,GAAsD,OAAzC,IAAI4B,OAAO,eAAe5B,EAAIlsB,WAAsB+tB,KAAK7B,EAAK,CAA2D2B,CAAS9D,GAAQ,MAAM,IAAInoB,MAAM,iBAAkB,OAAO,IAAAosB,WAA3b,SAASC,SAAS/B,GAAK,GAAGA,EAAIlsB,OAAO,GAAI,EAAE,MAAM,IAAI4B,MAAM,kCAA0E,IAAxC,IAAIsD,EAAO,IAAIgpB,WAAWhC,EAAIlsB,OAAO,GAAW8a,EAAE,EAAEA,EAAEoR,EAAIlsB,OAAO,EAAE8a,GAAG,EAAG5V,EAAO4V,GAAGzY,SAAS6pB,EAAI5I,MAAQ,EAAFxI,EAAM,EAAFA,EAAI,GAAG,IAAK,OAAO5V,CAAO,CAAoO+oB,CAASlE,GAAQ,CAAglB,SAASoE,eAAepsB,GAAsG,IAA7F,IAAIqsB,EAAY,6DAAiEC,EAAS,GAAWvT,EAAE,EAAEA,EAAEsT,GAAmBtT,GAAG,EAAGuT,EAASzuB,KAAKwuB,EAAYE,WAAWxT,IAAK,IAAIyT,EAAkB,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,IAAQC,EAAaH,EAASruB,OAA+ByuB,EAAqB,GAAOC,EAAW,IAAI,IAAU,GAAGhB,IAAI,IAAQiB,YAAY,SAAS/O,EAAKgP,EAAI/lB,GAAO,GAAG+W,EAAK5f,OAAO,GAAG4f,EAAK5f,OAAOyuB,EAAsB,MAAM,IAAI7sB,MAAM,yBAAyBge,EAAK5f,UAAW,IAAI6uB,EAAQN,EAAkB/f,QAAQoR,EAAK5f,QAAQ,GAAG6uB,GAAS,EAAG,MAAM,IAAIjtB,MAAM,sBAA8E,IAAvD,IAAIktB,EAAO,IAAI,IAAU,GAAOC,EAAM,IAAI,IAAU,GAAWC,EAAGpP,EAAK5f,OAAO,EAAEgvB,GAAI,EAAEA,GAAI,EAAE,CAAC,IAAIC,EAAMZ,EAAS7f,QAAQoR,EAAKoP,IAAK,GAAGC,EAAM,EAAG,MAAM,IAAIrtB,MAAM,kBAAmB,IAAIstB,EAAQH,EAAMI,aAAaF,GAAO3O,KAAKwO,GAAQ,GAAoC,IAAjCI,EAAQE,WAAWV,GAAiB,MAAM,IAAI9sB,MAAM,YAAaktB,EAAOI,EAAQH,EAAMA,EAAMI,aAAaX,EAAc,CAAC,GAAGK,EAAvqB,GAA8rB,IAAI,IAAU,GAAGnB,IAAI,EAAEmB,GAASO,WAAWN,IAAS,EAAG,MAAM,IAAIltB,MAAM,cAA0D,OAA3CgtB,EAAIS,IAA53C,SAASC,YAAYC,EAAIC,GAAM,IAAIC,EAAM,IAAI,IAAUF,GAASG,EAAI,IAAIxB,WAAWsB,GAAM,GAAGA,EAAK,GAAGA,EAAK,EAAG,MAAM,IAAI5tB,MAAM,wBAA6D,IAApC,IAAI+tB,EAAQ,IAAI,IAAU,GAAGjC,IAAI,GAAW5S,EAAE0U,EAAK,EAAE1U,GAAG,EAAEA,GAAG,EAAG4U,EAAI5U,GAAG2U,EAAMG,IAAID,GAASE,WAAWJ,EAAMA,EAAMK,mBAAmBH,GAAU,OAAOD,CAAI,CAAklCJ,CAAYR,EAAOD,GAAShmB,GAAc+lB,CAAI,EAAMmB,EAAtsD,SAASC,SAASC,GAAwC,IAAnC,IAAIP,EAAI,IAAIxB,WAAW+B,EAAIjwB,QAAgB8a,EAAE,EAAEA,EAAEmV,EAAIjwB,OAAO8a,GAAG,EAAG4U,EAAI5U,GAAGmV,EAAI3B,WAAWxT,GAAI,OAAO4U,CAAI,CAAqlDM,CAASjuB,GAAS,GAAyB,IAAtBguB,EAAa/vB,OAAY,MAAM,GAAI,IAAIkwB,EAAeC,KAAKC,MAAML,EAAa/vB,OAAOyuB,GAA0B4B,EAAcN,EAAa/vB,OAAOyuB,EAAyB6B,EAAqB/B,EAAkB/f,QAAQ6hB,GAAe,GAAGC,EAAqB,EAAG,MAAM,IAAI1uB,MAAM,0BAA4H,IAAjG,IAAmEge,EAAK,IAAIsO,WAA5uC,EAA6qCgC,EAA6BI,GAA+DC,EAAI,EAAEA,EAAIL,EAAeK,GAAK,EAAG5B,YAAYoB,EAAaS,SAASD,EAAI9B,EAAqB8B,EAAI9B,EAAqBA,GAAsB7O,EAAp5C,EAAy5C2Q,GAAqM,OAA9KF,EAAc,GAAG1B,YAAYoB,EAAaS,SAASN,EAAezB,EAAqByB,EAAezB,EAAqB4B,GAAezQ,EAA1jD,EAA+jDsQ,GAA/yE,SAASO,SAASC,GAAgB,IAAX,IAAIrD,EAAI,GAAWvS,EAAE,EAAEA,EAAE4V,EAAI1wB,OAAO8a,GAAG,EAAGuS,EAAIztB,KAAK,IAAI8wB,EAAI5V,GAAG0S,SAAS,MAAMlK,OAAO,IAAK,OAAO+J,EAAIjpB,KAAK,GAAI,CAAitEqsB,CAAS7Q,EAAM,CAAQ,SAAS+Q,cAAc5uB,GAAS,IAAI6uB,EAAIzC,eAAepsB,GAAa8uB,EAAe5D,aAAaH,GAA6CgE,EAAkB7D,aAAaF,GAAwDgE,EAAkB9D,aAAaD,GAAgDnjB,EAAO+mB,EAAItN,MAAM,EAAEuN,EAAe7wB,QAAQ,GAAG6J,IAASgnB,GAAgBhnB,IAASinB,GAAmBjnB,IAASknB,EAAmB,MAAM,IAAInvB,MAAM,0BAAqH,MAAM,CAACovB,OAAjGJ,EAAIA,EAAItN,MAAMuN,EAAe7wB,SAAsBsjB,MAAM,EAAE,IAA4C2N,KAA/BL,EAAItN,MAAM,GAAG,KAAwB,CCA9iI,SAASrkB,QAAQC,EAAEC,GAAG,IAAIC,EAAEC,OAAOC,KAAKJ,GAAG,GAAGG,OAAOE,sBAAsB,CAAC,IAAIC,EAAEH,OAAOE,sBAAsBL,GAAGC,IAAIK,EAAEA,EAAEC,QAAO,SAASN,GAAG,OAAOE,OAAOK,yBAAyBR,EAAEC,GAAGQ,UAAW,KAAIP,EAAEQ,KAAKC,MAAMT,EAAEI,EAAG,CAAC,OAAOJ,CAAE,CAAC,SAASU,cAAcZ,GAAG,IAAI,IAAIC,EAAE,EAAEA,EAAEY,UAAUC,OAAOb,IAAI,CAAC,IAAIC,EAAE,MAAMW,UAAUZ,GAAGY,UAAUZ,GAAG,CAAC,EAAEA,EAAE,EAAEF,QAAQI,OAAOD,IAAG,GAAIa,SAAQ,SAASd,IAAG,OAAgBD,EAAEC,EAAEC,EAAED,GAAI,IAAGE,OAAOa,0BAA0Bb,OAAOc,iBAAiBjB,EAAEG,OAAOa,0BAA0Bd,IAAIH,QAAQI,OAAOD,IAAIa,SAAQ,SAASd,GAAGE,OAAOe,eAAelB,EAAEC,EAAEE,OAAOK,yBAAyBN,EAAED,GAAI,GAAG,CAAC,OAAOD,CAAE,CAAC,SAAS,4BAAa4F,GAAS,IAAIC,EAA0B,2CAA4B,OAAO,SAASE,uBAAuB,IAAmCC,EAA/BC,GAAM,OAAgBL,GAAgB,GAAGC,EAA0B,CAAC,IAAIK,GAAU,OAAgBC,MAAMC,YAAYJ,EAAOK,QAAQC,UAAUL,EAAMpF,UAAUqF,EAAW,MAAMF,EAAOC,EAAMtF,MAAMwF,KAAKtF,WAAY,OAAO,OAA2BsF,KAAKH,EAAQ,CAAE,CAAC,SAAS,2CAA4B,IAAI,IAAI9F,GAAGqG,QAAQC,UAAUC,QAAQC,KAAKL,QAAQC,UAAUC,QAAQ,IAAG,WAAW,IAAI,CAAC,MAAMrG,GAAG,CAAC,OAAO,yCAA0B,WAAW,QAAQA,CAAE,IAAK,CAAijB,IAAI8xB,EAAgB,SAASC,IAAsB,OAAUD,gBAAgBC,GAAsB,IAAIprB,EAAO,4BAAamrB,iBAAiB,SAASA,mBAAmBnmB,GAAM,IAAI9E,EAAqG,OAA/FA,EAAMF,EAAOH,KAAKP,QAAQ0F,IAAY+E,QAAQshB,EAAA,EAAaC,MAAMvqB,GAAGb,EAAM4H,aAAa,QAAe5H,CAAM,CAAC,IAAkGO,EAA+pDkN,EAA7vDjN,EAAOyqB,gBAAgBxrB,UAAy1F,OAA/0Fe,EAAO+D,wCAAsDhE,GAAwC,QAAkB,UAAUzD,GAAQ,MAAM,CAACC,QAAQqC,KAAKwI,aAAalJ,KAAK5B,EAAO4B,KAAK2sB,cAAa,EAAO,IAAG,SAAS9mB,uCAAuCxB,GAAI,OAAOxC,EAAwC3G,MAAMwF,KAAKtF,UAAW,GAAmD0G,EAAOkF,gBAAgB,SAASA,gBAAgB5I,GAAQ,IAAkGqJ,EAA9F4E,EAAO3L,KAAK,OAAOA,KAAK8B,4BAA4BpE,EAAO,CAAC+E,oBAAkCsE,GAAK,QAAkB,WAAU,YAACrE,IAA0zB,IAA5yB,IAA+GmK,EAA3Gqf,QAAmBvgB,EAAOtD,8BAA8B,CAAC3K,SAAOgF,cAAY4F,iBAA+BuE,GAAM,QAAkB,WAAU,UAACnF,EAAS,SAACC,EAAQ,WAACE,EAAU,WAACC,EAAU,SAACrJ,EAAQ,eAACsJ,IAAiB,IAAwGokB,QAAyBxgB,EAAOpD,6BAA6B,CAAC7K,SAAOgF,cAAY+F,UAAvK,SAAS2jB,GAAG,OAAOC,EAAA,EAAaC,sBAAsB,CAAC7tB,WAAS+E,MAAM4oB,EAAE5oB,OAAQ,EAA+GkF,mBAAmB,UAAS,QAACzJ,IAAU,MAAM,CAACK,KAAKL,EAAQK,KAAK5C,QAAQuC,EAAQgK,SAASvM,SAAS,GAAGgH,IAAIzE,EAAQgK,SAASvF,KAAK,GAAI,EAAE8E,aAAamD,EAAOnD,eAAe,GAAG2jB,EAAoB,OAAOA,EAAoB,MAAM,IAAI5vB,MAAM,uCAAwC,IAAU,SAAS+L,gBAAgBzD,GAAK,OAAOgI,EAAMrS,MAAMwF,KAAKtF,UAAW,KAAYkI,EAAI,GAAiC6S,EAAE,EAAEA,EAAEyW,EAAavxB,OAAO8a,GAAG,EAAE,CAAC,IAAI1M,EAAKmjB,EAAazW,IAAM,KAACnW,EAAI,QAAC5C,GAASqM,EAASwjB,EAAY,CAAC7vB,QAAiB,MAATA,EAAcA,EAAQ,GAAGoG,UAAU,GAAGxD,OAAKyD,QAA/J,GAAsLuB,KAAK,GAAGjF,UAAU,CAAC,GAAGuD,EAAIrI,KAAKgyB,EAAa,CAAC,OAAO3pB,CAAI,IAAU,SAASH,mBAAmBmB,GAAK,OAAOmD,EAAKvM,MAAMwF,KAAKtF,UAAW,IAAQ,EAAE0G,EAAO8J,iBAA+BmD,GAAiB,QAAkB,UAAU3Q,GAAQ,IAAG,WAACgN,EAAU,aAACnD,GAAc7J,EAAWC,QAAcqC,KAAKoY,aAAiBnF,EAAUvI,EAAWuI,UAAcuZ,QAAUxsB,KAAK8G,yBAA6BxH,QAAWU,KAAKW,MAAMoe,kBAAoB,mBAAC0N,EAAkB,SAACjlB,IAAU,QAAeD,IAAiB,UAACG,EAAS,SAACC,GAAUH,EAAaklB,EAAa,CAACptB,OAAKxC,OAAOmW,EAAUnW,OAAOuoB,UAAUpS,EAAUuD,GAAGqD,OAAO,IAAI,IAAU5G,EAAU4G,QAAQK,UAAUvc,EAAQoc,UAAUI,UAAUpd,IAAI,IAAI,IAAUkW,EAAUlW,KAAKmd,UAAUvc,EAAQgvB,QAAQ5S,UAAUI,UAAUyS,aAAa3Z,EAAU4Z,WAAehtB,QAAa,SAAsB,QAAkB,YAAY,OAAO2sB,EAAIM,mBAAmBplB,EAAUC,EAASlN,cAAcA,cAAc,CAAC,EAAEiyB,GAAcD,GAAqB,KAAQM,EDAhf,SAASC,sBAAqB,aAACN,EAAY,UAACzZ,EAAS,QAAChK,IAAU,IAAI8jB,EAAM,IAAM,MAACE,EAAK,kBAACC,EAAiB,WAACC,EAAU,WAACC,GAAYnkB,EAA6PokB,EAAY/B,cAAcrY,EAAUsD,MAAU+W,EAAUhC,cAAcrY,EAAUuD,IAAQ+W,EAAmBb,EAAa5vB,OAAO0wB,QAAO,SAASC,EAAI/I,GAAO,OAAO+I,EAAIxS,KAAKyJ,EAAM7K,OAAQ,GAAE,IAAI,IAAU,IAAQ6T,EAAaH,EAAmBI,MAAMjB,EAAa7S,QAAQ8T,MAAMjB,EAAa3vB,KAAKgwB,GAA5gB,KAA2hBA,GAAvgB,KAAyhBA,GAAOnF,aAAa8E,EAAa5vB,OAAOnC,QAAQ,IAAI,IAAI8a,EAAE,EAAEA,EAAEiX,EAAa5vB,OAAOnC,OAAO8a,GAAG,EAAE,CAAC,IAAIiP,EAAMgI,EAAa5vB,OAAO2Y,GAAGsX,GAAnoB,KAAupBA,GAAOnF,aAAalD,EAAM7K,QAAQkT,GAAOnF,aAAa,GAAGmF,GAAOnF,aAAalD,EAAMkJ,aAAab,GAAOG,EAAkBzX,EAAG,CAACsX,GAAOnF,aAAawF,EAAWzyB,QAAQ,IAAI,IAAIkzB,EAAI,EAAEA,EAAIT,EAAWzyB,OAAOkzB,GAAK,EAAE,CAAC,IAAIC,EAAUV,EAAWS,GAAKd,GAAOnF,aAAaiG,IAAMT,EAAWzyB,OAAO,GAAG+yB,EAAaK,GAAG,GAAGL,EAAalD,WAAWnuB,OAAOqwB,EAAa7S,SAASkT,GAAr+B,KAA0/BA,GAAOe,CAAU,CAAC,IAAIE,EAAM,GAA2f,IAAI,IAAIC,KAA7fvB,EAAaE,eAAcoB,GAAx7B,KAA68BA,GAAO,KAAKA,GAAz7B,KAAu9BA,GAAOtB,EAAaE,cAAcoB,GAAnoC,KAAspCA,GAAOf,EAAMiB,kBAAkBF,GAA7pC,KAAmrCA,GAAOX,EAAY1B,MAAMqC,GAAOX,EAAYzB,KAAKoC,GAA9sC,KAAkuCA,GAAOV,EAAU3B,MAAMqC,GAAOV,EAAU1B,KAAKoC,GAA5vC,KAA6wCA,GAAl8K,SAASG,0BAAyB,OAACtG,EAAM,MAACtpB,IAAQ,IAAI6vB,EAAqBC,EAAUxG,EAAOM,SAAS,IAA0D,IAAnDkG,EAAU1zB,OAAO,GAAI,IAAG0zB,EAAU,IAAIA,KAAmBA,EAAU1zB,OAAO,EAAE4D,GAAO8vB,EAAU,KAAKA,IAA4H,OAA7C,OAA5CD,EAAiBC,EAAUC,MAAM,UAAgBF,EAAiB,IAAIG,UAAUxvB,KAAK,GAA2B,CAAwmKovB,CAAyB,CAACtG,OAAOxrB,OAAOqwB,EAAa7S,QAAQtb,MAAM,IAAIyvB,GAAz0C,KAAw3CjB,GAAOnF,cAAtCoG,GAAOf,EAAMuB,mBAA4C7zB,OAAO,GAAGoyB,GAAOiB,EAA2Bb,GAAYJ,GAAOkB,EAAW,OAAOlB,CAAM,CCAhzCC,CAAqB,CAAC/Z,YAAUyZ,eAAazjB,QAAQpJ,IAAS,MAAM,CAAC3B,KAAKuwB,EAAA,EAASvJ,eAAeqD,WAAWwE,IAAQA,QAAM9Z,UAAUvI,EAAWuI,UAAW,IAAG,SAAS/H,gBAAgBpG,GAAK,OAAOuJ,EAAiB7T,MAAMwF,KAAKtF,UAAW,GAA4B0G,EAAO8E,YAAY,SAASA,YAAYxI,GAAQ,MAAM,IAAI,IAAiB,GAAS,OAAamuB,gBAAiB,CAA1qG,CAA4qGrlB,EAAA,G,wBCAz+J,SAAS,sBAAa/G,GAAS,IAAIC,EAA0B,qCAA4B,OAAO,SAASE,uBAAuB,IAAmCC,EAA/BC,GAAM,OAAgBL,GAAgB,GAAGC,EAA0B,CAAC,IAAIK,GAAU,OAAgBC,MAAMC,YAAYJ,EAAOK,QAAQC,UAAUL,EAAMpF,UAAUqF,EAAW,MAAMF,EAAOC,EAAMtF,MAAMwF,KAAKtF,WAAY,OAAO,OAA2BsF,KAAKH,EAAQ,CAAE,CAAC,SAAS,qCAA4B,IAAI,IAAI9F,GAAGqG,QAAQC,UAAUC,QAAQC,KAAKL,QAAQC,UAAUC,QAAQ,IAAG,WAAW,IAAI,CAAC,MAAMrG,GAAG,CAAC,OAAO,mCAA0B,WAAW,QAAQA,CAAE,IAAK,CAA2S,IAAI20B,EAAU,SAASC,IAAgB,OAAUD,UAAUC,GAAgB,IAAIjuB,EAAO,sBAAaguB,WAAW,SAASA,aAAahpB,GAAM,IAAI9E,EAA0E,OAApEA,EAAMF,EAAOH,KAAKP,QAAQ0F,IAAY+E,QAAQshB,EAAA,EAAaC,MAAMvqB,GAAUb,CAAM,CAAC,IAAoEguB,EAA4OC,EAAiSxgB,EAA4OC,EAAzzBlN,EAAOstB,UAAUruB,UAAk+B,OAAx9Be,EAAO8M,gBAA8B0gB,GAAgB,QAAkB,YAAY,MAAM,IAAI,KAAe,yBAA0B,IAAG,SAAS1gB,iBAAiB,OAAO0gB,EAAgBp0B,MAAMwF,KAAKtF,UAAW,GAA2B0G,EAAOkF,iBAA+BuoB,GAAiB,QAAkB,YAAY,MAAM,IAAItyB,MAAMuyB,EAAApzB,EAAU+S,KAAKC,cAAc,CAACtL,GAAG,EAAAuL,cAAcogB,oCAAqC,IAAG,SAASzoB,kBAAkB,OAAOuoB,EAAiBr0B,MAAMwF,KAAKtF,UAAW,GAA4B0G,EAAO8J,iBAA+BmD,GAAiB,QAAkB,YAAY,MAAM,IAAI,KAAe,yBAA0B,IAAG,SAASnD,kBAAkB,OAAOmD,EAAiB7T,MAAMwF,KAAKtF,UAAW,GAA4B0G,EAAO8E,aAA2BoI,GAAa,QAAkB,YAAY,MAAM,IAAI,KAAe,yBAA0B,IAAG,SAASpI,cAAc,OAAOoI,EAAa9T,MAAMwF,KAAKtF,UAAW,IAA+B,OAAag0B,UAAW,CAA9uC,C,UAAgvC,GCAlnE,SAAS,4BAAajvB,GAAS,IAAIC,EAA0B,2CAA4B,OAAO,SAASE,uBAAuB,IAAmCC,EAA/BC,GAAM,OAAgBL,GAAgB,GAAGC,EAA0B,CAAC,IAAIK,GAAU,OAAgBC,MAAMC,YAAYJ,EAAOK,QAAQC,UAAUL,EAAMpF,UAAUqF,EAAW,MAAMF,EAAOC,EAAMtF,MAAMwF,KAAKtF,WAAY,OAAO,OAA2BsF,KAAKH,EAAQ,CAAE,CAAC,SAAS,2CAA4B,IAAI,IAAI9F,GAAGqG,QAAQC,UAAUC,QAAQC,KAAKL,QAAQC,UAAUC,QAAQ,IAAG,WAAW,IAAI,CAAC,MAAMrG,GAAG,CAAC,OAAO,yCAA0B,WAAW,QAAQA,CAAE,IAAK,CAAmM,IAAIi1B,EAAgB,SAASC,IAAsB,OAAUD,gBAAgBC,GAAsB,IAAIvuB,EAAO,4BAAasuB,iBAAiB,SAASA,mBAAmBtpB,GAAM,IAAI9E,EAAgF,OAA1EA,EAAMF,EAAOH,KAAKP,QAAQ0F,IAAY+E,QAAQshB,EAAA,EAAaC,MAAMzqB,SAAgBX,CAAM,CAAC,IAA0EguB,EAA4OC,EAAgPxgB,EAA4OC,EAA9wBlN,EAAO4tB,gBAAgB3uB,UAAi7B,OAAv6Be,EAAO8M,gBAA8B0gB,GAAgB,QAAkB,YAAY,MAAM,IAAI,KAAe,yBAA0B,IAAG,SAAS1gB,iBAAiB,OAAO0gB,EAAgBp0B,MAAMwF,KAAKtF,UAAW,GAA2B0G,EAAOkF,iBAA+BuoB,GAAiB,QAAkB,YAAY,MAAM,IAAI,KAAe,yBAA0B,IAAG,SAASvoB,kBAAkB,OAAOuoB,EAAiBr0B,MAAMwF,KAAKtF,UAAW,GAA4B0G,EAAO8J,iBAA+BmD,GAAiB,QAAkB,YAAY,MAAM,IAAI,KAAe,yBAA0B,IAAG,SAASnD,kBAAkB,OAAOmD,EAAiB7T,MAAMwF,KAAKtF,UAAW,GAA4B0G,EAAO8E,aAA2BoI,GAAa,QAAkB,YAAY,MAAM,IAAI,KAAe,yBAA0B,IAAG,SAASpI,cAAc,OAAOoI,EAAa9T,MAAMwF,KAAKtF,UAAW,IAA+B,OAAas0B,gBAAiB,CAA7uC,C,UAA+uC,G,WCAl+D,SAAS,4BAAavvB,GAAS,IAAIC,EAA0B,2CAA4B,OAAO,SAASE,uBAAuB,IAAmCC,EAA/BC,GAAM,OAAgBL,GAAgB,GAAGC,EAA0B,CAAC,IAAIK,GAAU,OAAgBC,MAAMC,YAAYJ,EAAOK,QAAQC,UAAUL,EAAMpF,UAAUqF,EAAW,MAAMF,EAAOC,EAAMtF,MAAMwF,KAAKtF,WAAY,OAAO,OAA2BsF,KAAKH,EAAQ,CAAE,CAAC,SAAS,2CAA4B,IAAI,IAAI9F,GAAGqG,QAAQC,UAAUC,QAAQC,KAAKL,QAAQC,UAAUC,QAAQ,IAAG,WAAW,IAAI,CAAC,MAAMrG,GAAG,CAAC,OAAO,yCAA0B,WAAW,QAAQA,CAAE,IAAK,CAAwE,IAAIm1B,EAAgB,SAASC,IAAsB,OAAUD,gBAAgBC,GAAsB,IAAoLN,EAAhLnuB,EAAO,4BAAawuB,iBAAiB,SAASA,kBAAkB,OAAOxuB,EAAOlG,MAAMwF,KAAKtF,UAAW,CAA8V,OAAlVw0B,gBAAgB7uB,UAAiBiG,iBAA+BuoB,GAAiB,QAAkB,UAAUnxB,GAAQ,OAAO,QAAK,OAAgBwxB,gBAAgB7uB,WAAW,oCAAoCL,MAAMO,KAAKP,KAAKtC,EAAQ,IAAG,SAAS4I,gBAAgB3C,GAAI,OAAOkrB,EAAiBr0B,MAAMwF,KAAKtF,UAAW,IAAmC,OAAaw0B,gBAAiB,CAA1jB,C,QAA4jB,G,uBCAvzCE,EAAU,WAAW,SAASA,WAAU,IAACC,IAAMrvB,KAAKsvB,IAAI,IAAIC,EAAA,EAAe,GAAGF,cAAgBrvB,KAAKwvB,MAAM,EAAAC,EAAMC,OAAO,CAACC,QAAQN,EAAIO,QAAQC,EAAA,EAAWC,kBAAkB,CAACC,QAAQ,MAAO,CAAC,IAAmEC,EAA6PpgB,EAA5TxO,EAAOguB,UAAU/uB,UAA8qB,OAApqBe,EAAO6uB,eAA6BD,GAAe,QAAkB,YAA6D,aAAlChwB,KAAKsvB,IAAI/uB,KAAK,gBAAgB,KAAgB2vB,KAAM,IAAG,SAASD,gBAAgB,OAAOD,EAAex1B,MAAMwF,KAAKtF,UAAW,GAA0B0G,EAAO0R,sBAAoClD,GAAsB,QAAkB,WAAU,MAACmd,IAAQ,IAAIoD,QAAWnwB,KAAKwvB,MAAM3N,KAAK,sBAAsB,CAACuO,UAAUrD,EAAMsD,cAAa,IAAQ,IAAIF,EAAK5V,KAAK5D,QAA2B,OAAnBwZ,EAAK5V,KAAK5D,OAAc,MAAM,IAAIpa,MAAM,8BAA8B,OAAO4zB,EAAK5V,KAAK5D,MAAO,IAAG,SAAS7D,qBAAqBnP,GAAI,OAAOiM,EAAsBpV,MAAMwF,KAAKtF,UAAW,IAAwC,OAAa00B,UAAW,CAAj5B,GCAuI,SAAS,cAAQv1B,EAAEC,GAAG,IAAIC,EAAEC,OAAOC,KAAKJ,GAAG,GAAGG,OAAOE,sBAAsB,CAAC,IAAIC,EAAEH,OAAOE,sBAAsBL,GAAGC,IAAIK,EAAEA,EAAEC,QAAO,SAASN,GAAG,OAAOE,OAAOK,yBAAyBR,EAAEC,GAAGQ,UAAW,KAAIP,EAAEQ,KAAKC,MAAMT,EAAEI,EAAG,CAAC,OAAOJ,CAAE,CAAC,SAAS,mBAAcF,GAAG,IAAI,IAAIC,EAAE,EAAEA,EAAEY,UAAUC,OAAOb,IAAI,CAAC,IAAIC,EAAE,MAAMW,UAAUZ,GAAGY,UAAUZ,GAAG,CAAC,EAAEA,EAAE,EAAE,cAAQE,OAAOD,IAAG,GAAIa,SAAQ,SAASd,IAAG,OAAgBD,EAAEC,EAAEC,EAAED,GAAI,IAAGE,OAAOa,0BAA0Bb,OAAOc,iBAAiBjB,EAAEG,OAAOa,0BAA0Bd,IAAI,cAAQC,OAAOD,IAAIa,SAAQ,SAASd,GAAGE,OAAOe,eAAelB,EAAEC,EAAEE,OAAOK,yBAAyBN,EAAED,GAAI,GAAG,CAAC,OAAOD,CAAE,CAAC,SAAS,kBAAa4F,GAAS,IAAIC,EAA0B,iCAA4B,OAAO,SAASE,uBAAuB,IAAmCC,EAA/BC,GAAM,OAAgBL,GAAgB,GAAGC,EAA0B,CAAC,IAAIK,GAAU,OAAgBC,MAAMC,YAAYJ,EAAOK,QAAQC,UAAUL,EAAMpF,UAAUqF,EAAW,MAAMF,EAAOC,EAAMtF,MAAMwF,KAAKtF,WAAY,OAAO,OAA2BsF,KAAKH,EAAQ,CAAE,CAAC,SAAS,iCAA4B,IAAI,IAAI9F,GAAGqG,QAAQC,UAAUC,QAAQC,KAAKL,QAAQC,UAAUC,QAAQ,IAAG,WAAW,IAAI,CAAC,MAAMrG,GAAG,CAAC,OAAO,+BAA0B,WAAW,QAAQA,CAAE,IAAK,CAAg1B,IAAIu2B,EAAe,IAAcC,EAAM,SAASC,IAAY,OAAUD,MAAMC,GAAY,IAAI9vB,EAAO,kBAAa6vB,OAAO,SAASA,SAAS7qB,GAAM,IAAI9E,EAA64BiM,EAA+c,OAAt1CjM,EAAMF,EAAOH,KAAKP,QAAQ0F,IAAY+E,QAAQshB,EAAA,EAAaC,MAAMvqB,GAAGb,EAAM6vB,WAAW,CAAChvB,GAAGitB,EAAUgC,QAAG/zB,EAAUg0B,GAAG9E,EAAgBtqB,SAASytB,EAAgBntB,SAASqtB,EAAgBvpB,SAAS4hB,GAAiB3mB,EAAMgwB,wBAAuB,SAAS,QAAkB,YAAY,IAAI,IAAG,SAACC,SAAgBjwB,EAAMoF,cAAc2a,sBAAsBP,oBAAoB,CAACtf,UAAUF,EAAME,UAAUyJ,UAAU3J,EAAM2J,UAAUumB,cAAa,EAAKC,mBAAkB,IAAO,IAAIF,EAAU,MAAM,IAAI,KAAoB,4BAA6B,OAAOA,EAASp0B,KAAI,SAASu0B,GAAM,MAAM,CAACC,UAAUD,EAAKE,KAAKtD,YAAYoD,EAAKpD,YAAYuD,SAASH,EAAKG,SAASC,cAAcJ,EAAKI,cAAcvX,OAAOxd,OAAO20B,EAAK71B,OAAQ,GAAG,CAAC,MAAMtB,GAAG,MAAM,IAAI,KAAoB,2BAA4B,CAAC,IAAG,CAACw3B,SAAQ,EAAKp1B,IAAI,EAAEq1B,OAAOzB,EAAA,EAAWC,kBAAkB,CAACC,QAAQ,OAAOnvB,EAAM2wB,uBAAsB,SAAwB1kB,GAAM,QAAkB,UAAUnQ,GAAS,IAAkH,UAAhGkE,EAAMoF,cAAcwrB,iBAAiBC,sBAAsB,CAAC3wB,UAAUF,EAAME,UAAUpE,aAAiB6d,KAAKA,KAAKuE,QAAS,MAAM,CAAC4S,kBAAkBh1B,EAAQi1B,eAAej1B,EAAQoiB,SAAQ,EAAO,CAAC,MAAMjlB,GAAG,CAAC,MAAM,CAAC63B,kBAAkB,GAAGC,eAAe,GAAG7S,SAAQ,EAAO,IAAU,SAASnb,GAAI,OAAOkJ,EAAMrS,MAAMwF,KAAKtF,UAAW,GAAM,CAACk3B,WAAU,EAAKN,OAAOzB,EAAA,EAAWC,kBAAkB,CAAC+B,OAAO,IAAI51B,IAAI,KAAY2E,CAAM,CAAC,IAA2EkxB,EAAsvBC,EAA2tEC,EAA4sCjiB,EAA2TkiB,EAA2bC,EAAq6BjhB,EAAi0BC,EAAstBihB,EAAqhCxO,EAAyc9T,EAAp3RzO,EAAOmvB,MAAMlwB,UAA+3S,OAAr3Se,EAAOwd,2BAAyCkT,GAA2B,QAAkB,UAAUp0B,GAAQ,IAAG,QAACuB,EAAO,UAAC6B,GAAWpD,GAAU,QAAChB,GAASuC,EAAQ,MAAM,CAAC6B,YAAU4wB,kBAAkBh1B,EAAQi1B,eAAej1B,EAAQA,UAAQ01B,YAAY11B,EAAQoiB,SAAQ,EAAKD,mBAAkB,EAAO,IAAG,SAASD,0BAA0Bhb,GAAK,OAAOkuB,EAA2Bt3B,MAAMwF,KAAKtF,UAAW,GAAsC0G,EAAOixB,eAAe,SAASA,eAAe30B,GAAQ,IAAG,cAAC40B,GAAe50B,EAAO,GAAG40B,IAAgB,IAASA,GAAe,CAAC,GAA0B,IAAvBA,EAAc33B,OAAY,OAAOqF,KAAKuyB,4BAA4B,CAACC,aAAaF,EAAc,KAAM,MAAM,IAAI,KAAoB,gCAAiC,CAAC,MAAM,IAAI,IAAsB,EAAElxB,EAAOmxB,6BAA2CR,GAA6B,QAAkB,UAAUr0B,GAAQ,IAAG,aAAC80B,GAAc90B,GAAU,UAAC+0B,GAAWD,EAAa,IAAIA,EAAahc,GAAI,MAAM,IAAIja,MAAM,oDAAqD,IAAIk2B,EAAW,MAAM,IAAIl2B,MAAM,2DAA4D,IAAIoB,QAAcqC,KAAKoY,aAAiBsa,QAAqB1yB,KAAK4wB,0BAA4B,OAAC9zB,EAAM,YAAC61B,GAAa3yB,KAAK4yB,eAAe,CAACF,iBAAe7Y,OAAO,IAAI,IAAU2Y,EAAa3Y,QAAQK,UAAUvc,EAAQoc,UAAUI,UAAUpd,IAAI,IAAI,IAAUuzB,GAAgBnW,UAAUxc,YAAU,MAAM,CAAC4Y,KAAKic,EAAajc,KAAKC,GAAGgc,EAAahc,GAAGqD,OAAO,IAAI,IAAU8Y,GAAazY,WAAWvc,EAAQoc,UAAUI,UAAU0S,UAAU2F,EAAa3F,UAAU9vB,IAAI,IAAI,IAAUuzB,GAAgBpW,WAAWvc,EAAQgvB,QAAQ5S,UAAUI,UAAUrd,SAAQ,IAAG,SAASy1B,4BAA4B1tB,GAAK,OAAOktB,EAA6Bv3B,MAAMwF,KAAKtF,UAAW,GAAwC0G,EAAOwxB,eAAe,SAASA,gBAAe,eAACF,EAAc,OAAC7Y,EAAM,IAAC9c,EAAG,QAACY,IAAU,IAAIk1B,EAA0BF,EAAY,IAAI,IAAU9Y,GAAYiZ,EAA0BJ,EAAelF,QAAO,SAASC,EAAIsF,GAAQ,OAAOtF,EAAIxS,KAAK8X,EAAOlZ,OAAQ,GAAE,IAAI,IAAU,IAAI,GAAGiZ,EAA0BE,IAAIj2B,GAAM,MAAM,IAAI,KAAoB,CAACqf,KAAK,CAAC9C,OAAO3b,EAAQ2b,UAAcwZ,EAA0BG,GAAG,IAAI,IAAUN,GAAa1X,KAAKle,MAAO41B,EAAYG,EAA0BnF,MAAM5wB,IAAM,IAAIjB,EAAoB42B,EAAej2B,KAAI,SAASs2B,GAAQ,OAAO,mBAAc,mBAAc,CAAC50B,KAAK,GAAG+yB,KAAK,EAAE/1B,MAAM43B,EAAOlZ,OAAOnd,QAAQ,GAAG4C,KAAK,IAAIyzB,GAAQ,CAAC,EAAE,CAAClZ,OAAO,IAAI,IAAUkZ,EAAOlZ,QAAQM,WAAY,IAAOpe,EAAqB,CAAC,CAACI,KAAK,IAA0B+2B,QAAQx2B,QAAQ,GAAGvB,MAAMw3B,EAAY1X,KAAKle,GAAKytB,cAAiB1tB,OAAOq2B,IAAsB,QAAW,CAACr3B,sBAAoBC,uBAAqBb,QAAQ,MAAM,MAAM,CAACy3B,YAAYA,EAAYxY,UAAUrd,OAAmQ,OAA3P+1B,EAAsBM,GAAsB12B,KAAI,SAASioB,GAAO,IAAI0O,EAAU1O,EAAM,MAAM,CAACkJ,YAAYwF,EAAUxF,YAAYqD,UAAUmC,EAAUnC,UAAUG,cAAcgC,EAAUhC,cAAcD,SAASiC,EAAUjC,SAAStX,OAAOuZ,EAAUvZ,OAAQ,KAAUgZ,EAAsB,GAAI,EAAEzxB,EAAOiyB,gBAA8BrB,GAAgB,QAAkB,UAAUt0B,GAAQ,IAAG,WAACgN,GAAYhN,EAAWuV,EAAUvI,EAAWuI,UAAchU,QAAce,KAAKmG,aAAiBiQ,EAAO,CAACja,KAAK,KAAqBwc,QAAQC,cAAc,CAACrC,KAAKtD,EAAUsD,KAAKC,GAAGvD,EAAUuD,KAAS8c,QAAkBtzB,KAAKgG,cAAcwb,aAAa+R,eAAe,CAACzyB,UAAUd,KAAKc,UAAUyJ,UAAUvK,KAAKuK,YAAY,GAAG+oB,EAAY,CAAC,IAAIE,EAAyBta,EAAS,CAAC3C,KAAKtD,EAAUsD,KAAKC,GAAGvD,EAAUuD,GAAGoD,iBAAiB0Z,EAAY52B,QAAQ2c,KAAiD,OAA3Cma,EAAqBF,EAAY9W,SAAegX,EAAqB,GAAGtwB,KAAKowB,EAAYpwB,KAAKoW,OAAOga,EAAYha,OAAOO,OAAO5G,EAAU4G,OAAON,OAAM,EAAMC,UAAS,GAAMpD,QAAapW,KAAKqa,2BAA2B,CAAC9D,KAAK2C,EAAS3C,KAAKC,GAAG0C,EAAS1C,GAAG8D,UAAU,CAACpB,IAAY,CAAuR,MAAxQ,CAAChb,KAAK,GAAG0W,MAAM3V,EAAQvC,QAAQmY,OAAO5B,EAAUsD,MAAMtX,EAAQvC,QAAQ+Z,MAAM,EAAED,GAAGvD,EAAUuD,GAAGE,QAAQ,CAACN,GAAQO,OAAO,KAAiB8c,QAAQ3yB,UAAUd,KAAKc,UAAUyJ,UAAUvK,KAAKuK,UAAUjG,KAAKrF,EAAQqF,KAAK2O,YAAUiE,UAAU,CAAC2V,UAAU5Z,EAAU4Z,WAA6B,IAAG,SAASwG,eAAevuB,GAAK,OAAOktB,EAAgBx3B,MAAMwF,KAAKtF,UAAW,GAA2B0G,EAAOmS,gCAA8CxD,GAAgC,QAAkB,WAAU,iBAACyD,IAAmB,MAAM,CAACqZ,UAAUrZ,EAAiBqZ,UAAW,IAAG,SAAStZ,+BAA+BvO,GAAK,OAAO+K,EAAgCvV,MAAMwF,KAAKtF,UAAW,GAA2C0G,EAAOsyB,iBAA+BzB,GAAiB,QAAkB,UAAUv0B,GAAQ,IAAIi2B,EAAsB1gB,EAAgD,OAArC0gB,EAAkBj2B,EAAOuV,WAAiB0gB,QAAwB3zB,KAAKqyB,eAAe30B,GAAQ,GAAGuV,EAAW,OAAOjT,KAAK4zB,8BAA8B3gB,GAAY,MAAM,IAAI,IAAsB,IAAG,SAASygB,gBAAgBxuB,GAAK,OAAO+sB,EAAiBz3B,MAAMwF,KAAKtF,UAAW,GAA4B0G,EAAOwyB,+BAA6C1B,GAA+B,QAAkB,UAAUjf,GAAW,MAAM,CAACA,YAAW,IAAG,SAAS2gB,8BAA8BxuB,GAAK,OAAO8sB,EAA+B13B,MAAMwF,KAAKtF,UAAW,GAA0C0G,EAAOyyB,iBAAiB,SAASA,iBAAiBn2B,GAAQ,OAAO4N,QAAQmB,QAAQ/O,EAAOgN,WAAY,EAAEtJ,EAAOwjB,gBAAgB,SAASA,gBAAgBloB,GAAS,OAAOsD,KAAKuxB,sBAAsB70B,EAAS,EAAE0E,EAAO0jB,aAAa,SAASA,aAAaxgB,GAAM,MAAM,IAAI,IAAiB,EAAElD,EAAO0yB,0BAA0B,SAASA,0BAA0Bp2B,GAAQ,MAAM,IAAI,IAAiB,EAAE0D,EAAOyjB,cAAc,SAASA,cAAckP,GAAO,MAAM,IAAI,IAAiB,EAAE3yB,EAAO2jB,mBAAmB,SAASA,mBAAmB9Y,GAAY,MAAM,IAAI,IAAiB,EAAE7K,EAAO4yB,qBAAqB,SAASA,qBAAqBt2B,GAAQ,MAAM,IAAI,IAAiB,EAAE0D,EAAO8d,mBAAiCjO,GAAmB,QAAkB,WAAU,cAACkO,IAAgB,IAAI8U,EAAoB,GAAG,IAAI,IAAIta,KAASwF,EAAkBxF,EAAMyC,KAAK5C,gBAAmBxZ,KAAKk0B,gCAAgCD,EAAoB15B,KAAK,mBAAc,mBAAc,CAAC,EAAEof,GAAO,CAAC,EAAE,CAACwa,QAAQ,IAAIC,cAAc,IAAIC,cAAc1a,EAAMwa,QAAQG,oBAAoB3a,EAAMya,cAAcG,aAAa5a,EAAMwa,QAAQK,mBAAmB7a,EAAMya,iBAAuBH,EAAoB15B,KAAK,mBAAc,mBAAc,CAAC,EAAEof,GAAO,CAAC,EAAE,CAAC0a,cAAc,IAAIC,oBAAoB,IAAIC,aAAa5a,EAAMwa,QAAQK,mBAAmB7a,EAAMya,iBAAwBH,EAAoB15B,KAAKof,GAAS,OAAOsa,CAAoB,IAAG,SAAS/U,kBAAkBvS,GAAK,OAAOsE,EAAmBzW,MAAMwF,KAAKtF,UAAW,GAA8B0G,EAAOie,oBAAkCnO,GAAoB,QAAkB,WAAU,eAACoO,IAAiB,aAAStf,KAAKk0B,gCAAuC,mBAAc,mBAAc,CAAC,EAAE5U,GAAgB,CAAC,EAAE,CAAC6U,QAAQ,IAAIC,cAAc,IAAIC,cAAc/U,EAAe6U,QAAQG,oBAAoBhV,EAAe8U,cAAcG,aAAajV,EAAe6U,QAAQK,mBAAmBlV,EAAe8U,gBAAwB,mBAAc,mBAAc,CAAC,EAAE9U,GAAgB,CAAC,EAAE,CAAC+U,cAAc,IAAIC,oBAAoB,IAAIC,aAAajV,EAAe6U,QAAQK,mBAAmBlV,EAAe8U,eAAgB,IAAG,SAAS/U,mBAAmBnS,GAAK,OAAOgE,EAAoB1W,MAAMwF,KAAKtF,UAAW,GAA+B0G,EAAO8yB,8BAA4C/B,GAA8B,QAAkB,YAAY,IAAIsC,GAAuB,EAAUjgB,QAAqBxU,KAAK8a,oBAAwBxW,QAAWtE,KAAK2U,iBAAqB+f,QAAiB10B,KAAKgG,cAAc2uB,eAAeC,iCAAiC,CAAC9zB,UAAUd,KAAKc,UAAU0T,iBAAelQ,SAAUowB,EAAW/5B,OAAO,UAASqF,KAAKgG,cAAc2uB,eAAeE,oBAAoB,CAAC/zB,UAAUd,KAAKc,UAAUyJ,UAAUvK,KAAKuK,YAAYmqB,QAAiB10B,KAAKgG,cAAc2uB,eAAeC,iCAAiC,CAAC9zB,UAAUd,KAAKc,UAAU0T,iBAAelQ,UAAQ,IAAI,IAAImR,EAAE,EAAEqf,EAAIJ,EAAW/5B,OAAO8a,EAAEqf,EAAIrf,EAAE,EAAG,CAAC,IAA2BW,EAAlBse,EAAWjf,GAAmBrB,UAAUsC,QAAQ,GAAG,GAAGN,EAAOja,OAAO,KAAqB2c,gBAAgB1C,EAAO2C,eAAejB,MAAM,GAAG0B,SAAS,CAACib,GAAuB,EAAK,KAAM,CAAC,CAAC,OAAOA,CAAuB,IAAG,SAASP,+BAA+B,OAAO/B,EAA8B33B,MAAMwF,KAAKtF,UAAW,GAAyC0G,EAAOokB,4BAA0C7B,GAA4B,QAAkB,UAAUjmB,GAAQ,IAAIq3B,EAAMC,YAAYC,MAAUvU,EAAO,IAAI0O,EAAU,CAACC,IAAI3xB,EAAOw3B,SAAaC,QAAsBzU,EAAOuP,gBAAgB,MAAM,CAACmF,aAAatK,KAAKC,MAAMiK,YAAYC,MAAMF,GAAOI,kBAAiB,IAAG,SAAS3P,2BAA2BvY,GAAM,OAAO0W,EAA4BnpB,MAAMwF,KAAKtF,UAAW,GAAuC0G,EAAO+R,mCAAiDtD,GAAmC,QAAkB,UAAUnS,GAAQ,IAAG,cAAC23B,EAAa,SAACtiB,GAAUrV,EAAWw3B,EAAOG,EAAc/F,IAAI,IAAI4F,EAAQ,MAAM,IAAI,KAAoB,mBAAoB,IAAIxU,EAAO,IAAI0O,EAAU,CAACC,IAAI6F,IAAmE,aAApDxU,EAAO5N,qBAAqB,CAACia,MAAMha,EAASga,QAAe,mBAAc,mBAAc,CAAC,EAAErvB,EAAOqV,UAAU,CAAC,EAAE,CAAC7U,KAAK6U,EAAS7U,MAAO,IAAG,SAASiV,kCAAkC1F,GAAM,OAAOoC,EAAmCrV,MAAMwF,KAAKtF,UAAW,IAAqD,OAAa61B,MAAO,CAAj4V,CAAm4VjhB,EAAA,E,yDCAv2a,IAAIgmB,EAAmB,SAASA,GAAwP,OAApOA,EAAuB,GAAE,KAAKA,EAAuB,GAAE,KAAKA,EAA6B,SAAE,WAAWA,EAA6B,SAAE,WAAWA,EAA6B,SAAE,WAAWA,EAA6B,SAAE,WAAkBA,CAAmB,CAA3R,CAA6R,CAAC,GAAcC,EAAa,SAASA,GAAoF,OAAtEA,EAAsB,QAAE,UAAUA,EAAuB,SAAE,WAAkBA,CAAa,CAAjH,CAAmH,CAAC,E,4HCApQ,SAAS37B,QAAQC,EAAEC,GAAG,IAAIC,EAAEC,OAAOC,KAAKJ,GAAG,GAAGG,OAAOE,sBAAsB,CAAC,IAAIC,EAAEH,OAAOE,sBAAsBL,GAAGC,IAAIK,EAAEA,EAAEC,QAAO,SAASN,GAAG,OAAOE,OAAOK,yBAAyBR,EAAEC,GAAGQ,UAAW,KAAIP,EAAEQ,KAAKC,MAAMT,EAAEI,EAAG,CAAC,OAAOJ,CAAE,CAAC,SAASU,cAAcZ,GAAG,IAAI,IAAIC,EAAE,EAAEA,EAAEY,UAAUC,OAAOb,IAAI,CAAC,IAAIC,EAAE,MAAMW,UAAUZ,GAAGY,UAAUZ,GAAG,CAAC,EAAEA,EAAE,EAAEF,QAAQI,OAAOD,IAAG,GAAIa,SAAQ,SAASd,IAAG,OAAgBD,EAAEC,EAAEC,EAAED,GAAI,IAAGE,OAAOa,0BAA0Bb,OAAOc,iBAAiBjB,EAAEG,OAAOa,0BAA0Bd,IAAIH,QAAQI,OAAOD,IAAIa,SAAQ,SAASd,GAAGE,OAAOe,eAAelB,EAAEC,EAAEE,OAAOK,yBAAyBN,EAAED,GAAI,GAAG,CAAC,OAAOD,CAAE,CAAiJ,SAAS27B,iBAAiBC,EAAO/3B,EAAO0F,EAAG,GAAG,MAAM,CAACsyB,QAAQ,MAAMtyB,KAAGqyB,SAAO/3B,SAAQ,CAAC,IAAI6xB,EAAe,WAAW,SAASA,eAAeF,EAAItO,EAAQ6O,EAAQ,KAAQ5vB,KAAKqvB,IAAIA,EAAIrvB,KAAK4vB,QAAQA,EAAQ5vB,KAAK+gB,QAAQ,CAAC,eAAe,oBAAuBA,GAAS/mB,OAAO27B,OAAO31B,KAAK+gB,QAAQA,EAAU,CAACwO,eAAeqG,iBAAiB,SAASA,iBAAiBC,GAAU,GAAqB,iBAAXA,EAAqB,MAAM,IAAI,KAAc,iEAAiEA,GAAgB,GAAGA,EAASz3B,MAAM,CAAC,IAAI03B,EAAQ,0BAA8B13B,EAAMy3B,EAASz3B,MAAiH,MAAxGA,GAAO03B,SAAiC,iBAAjB13B,GAAO03B,UAAoBA,EAAQ,4BAA4B13B,GAAO03B,WAAiB,IAAI,KAAqBA,EAAQD,EAAU,CAAM,KAAK,WAAWA,GAAW,MAAM,IAAI,KAAc,8CAA8CA,GAAW,OAAOvqB,QAAQmB,QAAQopB,EAASh2B,OAAQ,EAAE,IAA+Dk2B,EAAmqBC,EAA4yDC,EAA1gF70B,EAAOmuB,eAAelvB,UAA4nG,OAAlnGe,EAAOb,MAAoBw1B,GAAM,QAAkB,UAAUN,EAAO/3B,EAAOqjB,EAAQ6O,GAAS,IAAI3O,GAAO,OAAc2O,GAAS5vB,KAAK4vB,SAAS,IAAI,IAAIiG,QAAe,OAAM,CAACxG,IAAIrvB,KAAKqvB,IAAIoG,OAAO,OAAO1U,QAAQ/gB,KAAKk2B,gBAAgBnV,GAASxG,KAAK4b,KAAKC,UAAUZ,iBAAiBC,EAAO/3B,IAASujB,WAAS,aAAasO,eAAeqG,iBAAiBC,EAAStb,KAAM,CAAC,MAAMnc,GAAqC,IAAIi4B,EAAlC,GAAG,IAAMC,aAAal4B,GAAkC,MAAM,IAAI,KAAmB,kBAAkE,OAA/Ci4B,EAAsBj4B,EAAMy3B,UAAUlf,QAAc0f,EAAsB,MAAMj4B,EAAMy3B,UAAW,MAAMz3B,CAAM,CAAC,IAAG,SAASmC,KAAKoD,EAAGC,EAAIiB,EAAIC,GAAK,OAAOixB,EAAMv7B,MAAMwF,KAAKtF,UAAW,GAAiB0G,EAAOm1B,WAAyBP,GAAW,QAAkB,UAAUQ,EAAMzV,EAAQ6O,EAAQ6G,GAAgB,EAAKC,GAAwB,GAAM,IAA4/B3vB,EAAx/BnG,EAAMZ,KAAS22B,EAAc,GAA4C,GAAxBD,EAA84BC,QAAoBrrB,QAAQC,IAAIirB,EAAM/5B,KAAmBsK,GAAK,QAAkB,UAAU6vB,GAAG,IAAwD,MAAM,CAAC/2B,aAA7Ce,EAAML,KAAKq2B,EAAE,GAAGA,EAAE,GAAG7V,EAAQ6O,GAA4B,CAAC,MAAMxxB,GAAO,CAAC,IAAU,SAASuO,GAAK,OAAO5F,EAAKvM,MAAMwF,KAAKtF,UAAW,SAAxlC,CAAC,IAAIuO,EAAQutB,EAAM/5B,KAAI,UAAUg5B,EAAO/3B,GAAQ8F,GAAO,OAAOgyB,iBAAiBC,EAAO/3B,EAAO8F,EAAO,IAAG,IAAI,IAAIqyB,QAAe,OAAM,CAACxG,IAAIrvB,KAAKqvB,IAAIoG,OAAO,OAAO1U,QAAQ/gB,KAAKk2B,gBAAgBnV,GAASxG,KAAK4b,KAAKC,UAAUntB,GAASgY,QAAO,OAAc2O,GAAS5vB,KAAK4vB,WAAuC,GAA5B+G,EAAcd,EAAStb,MAASsc,MAAMC,QAAQH,GAAgB,MAAM,IAAI,KAAmB,+DAA+Dd,GAAgB,GAAGW,EAAM77B,SAASg8B,EAAch8B,OAAQ,MAAM,IAAI,KAAmB,+CAA+C67B,EAAM77B,yBAAyBg8B,EAAch8B,mBAAmBk7B,EAAW,CAAC,MAAMz3B,GAAqC,IAAI24B,EAAlC,GAAG,IAAMT,aAAal4B,GAAmC,MAAM,IAAI,KAAmB,kBAAmE,OAAhD24B,EAAuB34B,EAAMy3B,UAAUlf,QAAcogB,EAAuB,MAAM34B,EAAMy3B,UAAW,MAAMz3B,CAAM,CAAC,CAAgQ,OAAOkN,QAAQC,IAAIorB,EAAcl7B,MAAK,UAAU2H,GAAG4zB,IAAM5zB,GAAG6zB,IAAM,OAAOD,EAAIC,CAAI,IAAGx6B,KAAI,SAAS0zB,GAAM,OAAOZ,eAAeqG,iBAAiBzF,GAAM+G,OAAM,SAASr9B,GAAG,KAAGA,aAAa,MAAsB48B,GAAmC,MAAM58B,CAAE,GAAG,IAAI,IAAG,SAAS08B,UAAUvxB,EAAIE,EAAIE,GAAK,OAAO4wB,EAAWx7B,MAAMwF,KAAKtF,UAAW,GAAsB0G,EAAO80B,gBAAgB,SAASA,gBAAgBnV,EAAQ,CAAC,GAAG,OAAOtmB,cAAcA,cAAc,CAAC,EAAEuF,KAAK+gB,SAASA,EAAS,EAAE3f,EAAO+1B,gBAA8BlB,GAAgB,QAAkB,UAAUmB,EAASrW,EAAQ6O,EAAQ6G,GAAgB,GAAM,IAAIY,EAAeD,EAASE,OAAWC,QAAuBv3B,KAAKu2B,UAAUc,EAAetW,EAAQ6O,EAAQ6G,GAAgB,GAAO,IAAII,MAAMC,QAAQS,GAAmB,MAAM,IAAIh7B,MAAM,gEAAiE,IAAIi7B,EAAQ,GAAOC,EAAW,EAAE,IAAI,IAAIC,KAASN,EAAS,CAAC,IAAIO,EAAUD,EAAM/8B,OAAO68B,EAAQj9B,KAAKg9B,EAAiBtZ,MAAMwZ,EAAWA,EAAWE,IAAYF,GAAYE,CAAU,CAAC,OAAOH,CAAQ,IAAG,SAASL,eAAejqB,EAAID,EAAKQ,GAAM,OAAOwoB,EAAgBz7B,MAAMwF,KAAKtF,UAAW,IAAkC,OAAa60B,eAAgB,CAAp9H,E,kBCmB5iC,SAAUqI,GACV,aAsBA,IAAIC,EAAY,CAAC,EAqCjB,SAAS9P,WAAW+P,EAAGC,EAAGpe,GACzB,GAAIA,IAAUke,EACb,OAAIC,aAAa/P,WACT+P,OAEc,IAANA,EACRE,EAEDjQ,WAAWkQ,MAAMH,GAIzB,IADAA,EAAIA,GAAK,GACFA,EAAEn9B,SAAWm9B,EAAEA,EAAEn9B,OAAS,MAC9Bm9B,EAAEn9B,OAELqF,KAAKk4B,GAAKJ,EACV93B,KAAKm4B,GAAKL,EAAEn9B,OAAUo9B,GAAK,EAAK,CACjC,CAEAhQ,WAAWqQ,WAAa,SAASN,EAAGC,GACnC,OAAO,IAAIhQ,WAAW+P,EAAGC,EAAGF,EAC7B,EAKA,IAAIQ,EAAkB,IAGtBtQ,WAAWuQ,KAAOD,EAClBtQ,WAAWwQ,WAHiB,EAK5B,IAAIP,EAAO,IAAIjQ,WAAW,GAAI,EAAG8P,GAGjC9P,WAAWiQ,KAAOA,EAElB,IAAIQ,EAAM,IAAIzQ,WAAW,CAAC,GAAI,EAAG8P,GAGjC9P,WAAWyQ,IAAMA,EAEjB,IAAIC,EAAQ,IAAI1Q,WAAWyQ,EAAIN,IAAK,EAAGL,GAGvC9P,WAAW0Q,MAAQA,EAInB1Q,WAAW2Q,GAAKV,EAIhBjQ,WAAW4Q,GAAKH,EAahBzQ,WAAW6Q,MAAQ,CAClBZ,EACAQ,EAEA,IAAIzQ,WAAY,CAAC,GAAI,EAAG8P,GACxB,IAAI9P,WAAY,CAAC,GAAI,EAAG8P,GACxB,IAAI9P,WAAY,CAAC,GAAI,EAAG8P,GACxB,IAAI9P,WAAY,CAAC,GAAI,EAAG8P,GACxB,IAAI9P,WAAY,CAAC,GAAI,EAAG8P,GACxB,IAAI9P,WAAY,CAAC,GAAI,EAAG8P,GACxB,IAAI9P,WAAY,CAAC,GAAI,EAAG8P,GACxB,IAAI9P,WAAY,CAAC,GAAI,EAAG8P,GACxB,IAAI9P,WAAW,CAAC,IAAK,EAAG8P,GACxB,IAAI9P,WAAW,CAAC,IAAK,EAAG8P,GACxB,IAAI9P,WAAW,CAAC,IAAK,EAAG8P,GACxB,IAAI9P,WAAW,CAAC,IAAK,EAAG8P,GACxB,IAAI9P,WAAW,CAAC,IAAK,EAAG8P,GACxB,IAAI9P,WAAW,CAAC,IAAK,EAAG8P,GACxB,IAAI9P,WAAW,CAAC,IAAK,EAAG8P,GACxB,IAAI9P,WAAW,CAAC,IAAK,EAAG8P,GACxB,IAAI9P,WAAW,CAAC,IAAK,EAAG8P,GACxB,IAAI9P,WAAW,CAAC,IAAK,EAAG8P,GACxB,IAAI9P,WAAW,CAAC,IAAK,EAAG8P,GACxB,IAAI9P,WAAW,CAAC,IAAK,EAAG8P,GACxB,IAAI9P,WAAW,CAAC,IAAK,EAAG8P,GACxB,IAAI9P,WAAW,CAAC,IAAK,EAAG8P,GACxB,IAAI9P,WAAW,CAAC,IAAK,EAAG8P,GACxB,IAAI9P,WAAW,CAAC,IAAK,EAAG8P,GACxB,IAAI9P,WAAW,CAAC,IAAK,EAAG8P,GACxB,IAAI9P,WAAW,CAAC,IAAK,EAAG8P,GACxB,IAAI9P,WAAW,CAAC,IAAK,EAAG8P,GACxB,IAAI9P,WAAW,CAAC,IAAK,EAAG8P,GACxB,IAAI9P,WAAW,CAAC,IAAK,EAAG8P,GACxB,IAAI9P,WAAW,CAAC,IAAK,EAAG8P,GACxB,IAAI9P,WAAW,CAAC,IAAK,EAAG8P,GACxB,IAAI9P,WAAW,CAAC,IAAK,EAAG8P,GACxB,IAAI9P,WAAW,CAAC,IAAK,EAAG8P,GACxB,IAAI9P,WAAW,CAAC,IAAK,EAAG8P,GACxB,IAAI9P,WAAW,CAAC,IAAK,EAAG8P,IAIzB9P,WAAW8Q,OAAS,uCAAuCh6B,MAAM,IAiBjEkpB,WAAW1nB,UAAU8nB,SAAW,SAASmQ,GAExC,IADAA,GAAQA,GAAQ,IACL,GAAKA,EAAO,GACtB,MAAM,IAAI/7B,MAAM,iBAAmB+7B,EAAO,KAE3C,GAAgB,IAAZt4B,KAAKm4B,GACR,MAAO,IAER,GAAa,KAATG,EAAa,CAChB,IAAI1N,EAAM5qB,KAAKm4B,GAAK,EAAI,IAAM,GAC9BvN,GAAO5qB,KAAKk4B,GAAGl4B,KAAKk4B,GAAGv9B,OAAS,GAAGwtB,WACnC,IAAK,IAAI1S,EAAIzV,KAAKk4B,GAAGv9B,OAAS,EAAG8a,GAAK,EAAGA,IAAK,CAE7C,IADA,IAAIqjB,EAAQ94B,KAAKk4B,GAAGziB,GAAG0S,WAChB2Q,EAAMn+B,OA/GY,GA+GoBm+B,EAAQ,IAAMA,EAC3DlO,GAAOkO,CACR,CACA,OAAOlO,CACR,CAEC,IAAImO,EAAWhR,WAAW8Q,OAC1BP,EAAOvQ,WAAW6Q,MAAMN,GAOxB,IANA,IAII1O,EAJAoP,EAAOh5B,KAAKm4B,GAEZL,EAAI93B,KAAKi5B,MACTJ,EAAS,GAGG,IAATf,EAAEK,IAAU,CAClB,IAAIe,EAASpB,EAAEqB,OAAOb,GACtBR,EAAIoB,EAAO,GACXtP,EAAQsP,EAAO,GAGfL,EAAOt+B,KAAKw+B,EAASnP,EAAMtpB,WAC5B,CACA,OAAQ04B,EAAO,EAAI,IAAM,IAAMH,EAAOtK,UAAUxvB,KAAK,GAEvD,EAGAgpB,WAAWqR,WAAa,CACvB,KACA,KACA,UACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,aACA,eACA,iBACA,iBACA,iBACA,iBACA,iBACA,iBACA,iBACA,iBACA,iBACA,iBACA,iBACA,iBACA,iBACA,iBACA,iBACA,iBACA,iBACA,iBACA,iBACA,iBACA,iBACA,iBACA,iBACA,kBAmCDrR,WAAWkQ,MAAQ,SAASF,EAAGO,GAyB9B,IAAIe,EALJtB,EAAIA,EAAE5P,gBACc,IAATmQ,GAAkC,KAATA,IACnCP,EAjBD,SAASuB,kBAAkB1O,GAG1B,OAFAA,EAAMA,EAAI2O,QAAQ,+BAAgC,MAEvCA,QAAQ,0CAA0C,SAASt+B,EAAG88B,EAAGD,EAAG0B,EAAG5C,GAEjF,IAAI6C,GADJ7C,GAAKA,GACO,EACRnhB,EAAIqiB,EAAEn9B,OAASi8B,EACnB37B,GAAKw+B,EAAI3B,EAAI0B,GAAG7+B,OAChBi8B,GAAMA,EAAI9L,KAAKmO,IAAIrC,KAAO37B,EAAI27B,EAAI37B,EAAIw+B,EAAI,EAC1C,IAAIC,EAAI,IAAK7C,MAAMD,EAAI,GAAI73B,KAAK,KAC5BjF,EAAIg+B,EAAI0B,EACZ,OAAQzB,GAAK,KAAO0B,EAAI3/B,EAAI4/B,EAAI5/B,EAAIA,GAAK4/B,GAAGC,OAAO,EAAGlkB,GAAKgkB,EAAIC,EAAE/+B,OAAS,IAAM8a,EAAI3b,EAAEa,OAAS,IAAMb,EAAE6/B,OAAOlkB,GAAK,GACpH,GACD,CAIK6jB,CAAkBvB,IAKtBsB,OADmB,IAATf,EACC,SAEK,IAARA,EACG,KAEK,GAARA,EACG,KAEK,GAARA,EACG,KAGA,GAEZ,IAAIsB,EAAQ,IAAInR,OAAO,cAAgB4Q,EAAW,6BAA8B,KAAKQ,KAAK9B,GAC1F,GAAI6B,EAAO,CACV,IAAIZ,EAAOY,EAAM,IAAM,IACnBE,EAAcF,EAAM,IAAM,GAC1Bf,EAASe,EAAM,IAAM,GAEzB,QAAoB,IAATtB,EAGTA,EADmB,OAAhBwB,GAAwC,OAAhBA,EACpB,GAEiB,OAAhBA,GAAwC,OAAhBA,EACzB,EAEiB,OAAhBA,GAAwC,OAAhBA,EACzB,EAGA,QAGJ,GAAIxB,EAAO,GAAKA,EAAO,GAC3B,MAAM,IAAI/7B,MAAM,iBAAmB+7B,EAAO,KAM3C,GAHAA,GAAQA,GAGFvQ,WAAWqR,WAAWd,GAAM5P,KAAKmQ,GACtC,MAAM,IAAIt8B,MAAM,uBAAyB+7B,GAK1C,GAAsB,KADtBO,EAASA,EAAOU,QAAQ,MAAO,IAAI16B,MAAM,KAC9BlE,OACV,OAAOq9B,EAOR,GAHAgB,EAAiB,MAATA,GAAiB,EAAI,EAGjB,IAARV,EAAY,CAEf,IADA,IAAIyB,EAAI,GACDlB,EAAOl+B,QAvSW,GAwSxBo/B,EAAEx/B,KAAKyC,SAAS67B,EAAOmB,OAAOnB,EAAOl+B,OAAOotB,WAAWwQ,WAAYxQ,WAAWwQ,YAAYx5B,KAAK,IAAK,KAGrG,OADAg7B,EAAEx/B,KAAKyC,SAAS67B,EAAO95B,KAAK,IAAK,KAC1B,IAAIgpB,WAAWgS,EAAGf,EAAMnB,EAChC,CAGIkC,EAAI/B,EACRM,EAAOvQ,WAAW6Q,MAAMN,GAExB,IADA,IAAIM,EAAQ7Q,WAAW6Q,MACdnjB,EAAI,EAAGA,EAAIojB,EAAOl+B,OAAQ8a,IAClCskB,EAAIA,EAAEE,SAAS3B,GAAM4B,IAAItB,EAAM57B,SAAS67B,EAAOpjB,GAAI,MAEpD,OAAO,IAAIsS,WAAWgS,EAAE7B,GAAIc,EAAMnB,EACnC,CAEC,MAAM,IAAIt7B,MAAM,8BAAgCw7B,EAElD,EAkBAhQ,WAAW1nB,UAAU65B,IAAM,SAASpC,GACnC,GAAgB,IAAZ93B,KAAKm4B,GACR,OAAOpQ,WAAW+P,GAInB,GAAa,KADbA,EAAI/P,WAAW+P,IACTK,GACL,OAAOn4B,KAER,GAAIA,KAAKm4B,KAAOL,EAAEK,GAEjB,OADAL,EAAIA,EAAEqC,SACCn6B,KAAKo6B,SAAStC,GAYtB,IATA,IAOIlO,EAPAluB,EAAIsE,KAAKk4B,GACTv8B,EAAIm8B,EAAEI,GACNmC,EAAK3+B,EAAEf,OACP2/B,EAAK3+B,EAAEhB,OACP4/B,EAAM,IAAI1D,MAAM/L,KAAK7uB,IAAIo+B,EAAIC,GAAM,GACnCnQ,EAAOW,KAAK0P,IAAIH,EAAIC,GACpBG,EAAQ,EAGHhlB,EAAI,EAAGA,EAAI0U,EAAM1U,IACzBmU,EAAQluB,EAAE+Z,GAAK9Z,EAAE8Z,GAAKglB,EACtBF,EAAI9kB,GAAKmU,EAAQyO,EACjBoC,EAAS7Q,EAAQyO,EAAmB,EAMrC,IAJIiC,EAAKD,IACR3+B,EAAIC,EACJ0+B,EAAKC,GAED7kB,EAAI0U,EAAMsQ,GAAShlB,EAAI4kB,EAAI5kB,IAC/BmU,EAAQluB,EAAE+Z,GAAKglB,EACfF,EAAI9kB,GAAKmU,EAAQyO,EACjBoC,EAAS7Q,EAAQyO,EAAmB,EAMrC,IAJIoC,IACHF,EAAI9kB,GAAKglB,GAGFhlB,EAAI4kB,EAAI5kB,IACf8kB,EAAI9kB,GAAK/Z,EAAE+Z,GAGZ,OAAO,IAAIsS,WAAWwS,EAAKv6B,KAAKm4B,GAAIN,EACrC,EAcA9P,WAAW1nB,UAAU85B,OAAS,WAC7B,OAAO,IAAIpS,WAAW/nB,KAAKk4B,GAAiB,GAAXl4B,KAAKm4B,GAASN,EAChD,EAcA9P,WAAW1nB,UAAU44B,IAAM,WAC1B,OAAQj5B,KAAKm4B,GAAK,EAAKn4B,KAAKm6B,SAAWn6B,IACxC,EAkBA+nB,WAAW1nB,UAAU+5B,SAAW,SAAStC,GACxC,GAAgB,IAAZ93B,KAAKm4B,GACR,OAAOpQ,WAAW+P,GAAGqC,SAItB,GAAa,KADbrC,EAAI/P,WAAW+P,IACTK,GACL,OAAOn4B,KAER,GAAIA,KAAKm4B,KAAOL,EAAEK,GAEjB,OADAL,EAAIA,EAAEqC,SACCn6B,KAAKk6B,IAAIpC,GAGjB,IAAI4C,EAAI16B,KAEJA,KAAKm4B,GAAK,IACbuC,EAAI,IAAI3S,WAAW+P,EAAEI,GAAI,EAAGL,GAC5BC,EAAI,IAAI/P,WAAW/nB,KAAKk4B,GAAI,EAAGL,IAIhC,IAAImB,EAAO0B,EAAEC,WAAW7C,GACxB,GAAa,IAATkB,EACH,OAAOhB,EAEH,GAAIgB,EAAO,EAAG,CAElB,IAAIj/B,EAAI+9B,EACRA,EAAI4C,EACJA,EAAI3gC,CACL,CAGA,IAMI0b,EACAmU,EAPAluB,EAAIg/B,EAAExC,GACNv8B,EAAIm8B,EAAEI,GACNmC,EAAK3+B,EAAEf,OACP2/B,EAAK3+B,EAAEhB,OACPigC,EAAO,IAAI/D,MAAMwD,GACjBQ,EAAS,EAIb,IAAKplB,EAAI,EAAGA,EAAI6kB,EAAI7kB,KACnBmU,EAAQluB,EAAE+Z,GAAKolB,EAASl/B,EAAE8Z,IACd,GACXmU,GAASyO,EACTwC,EAAS,GAGTA,EAAS,EAEVD,EAAKnlB,GAAKmU,EAEX,IAAKnU,EAAI6kB,EAAI7kB,EAAI4kB,EAAI5kB,IAAK,CAEzB,MADAmU,EAAQluB,EAAE+Z,GAAKolB,GACH,GAGP,CACJD,EAAKnlB,KAAOmU,EACZ,KACD,CALCA,GAASyO,EAMVuC,EAAKnlB,GAAKmU,CACX,CACA,KAAQnU,EAAI4kB,EAAI5kB,IACfmlB,EAAKnlB,GAAK/Z,EAAE+Z,GAGb,OAAO,IAAIsS,WAAW6S,EAAM5B,EAAMnB,EACnC,EAEA,WACC,SAASiD,OAAOhD,EAAGkB,GAMlB,IALA,IAAIt9B,EAAIo8B,EAAEI,GACNqC,EAAM7+B,EAAEuiB,QAERxI,EAAI,IAEK,CACZ,IAAImU,GAASluB,EAAE+Z,IAAM,GAAK,EAE1B,GADA8kB,EAAI9kB,GAAKmU,EAAQyO,EACbzO,GAASyO,QACZ,QAEC5iB,CACH,CAEA,OAAO,IAAIsS,WAAWwS,EAAKvB,EAAMnB,EAClC,CAEA,SAASkD,YAAYjD,EAAGkB,GAMvB,IALA,IAAIt9B,EAAIo8B,EAAEI,GACNqC,EAAM7+B,EAAEuiB,QAERxI,EAAI,IAEK,CACZ,IAAImU,GAASluB,EAAE+Z,IAAM,GAAK,EAC1B,KAAImU,EAAQ,GAGP,CACJ2Q,EAAI9kB,GAAKmU,EACT,KACD,CALC2Q,EAAI9kB,GAAKmU,EAAQyO,IAMhB5iB,CACH,CAEA,OAAO,IAAIsS,WAAWwS,EAAKvB,EAAMnB,EAClC,CAcA9P,WAAW1nB,UAAU26B,KAAO,WAC3B,OAAQh7B,KAAKm4B,IACb,KAAK,EACJ,OAAOK,EACR,KAAM,EACL,OAAOuC,YAAY/6B,MAAO,GAE3B,QACC,OAAO86B,OAAO96B,KAAM,GAEtB,EAcA+nB,WAAW1nB,UAAU46B,KAAO,WAC3B,OAAQj7B,KAAKm4B,IACb,KAAK,EACJ,OAAOM,EACR,KAAM,EACL,OAAOqC,OAAO96B,MAAO,GAEtB,QACC,OAAO+6B,YAAY/6B,KAAM,GAE3B,CACA,CAvFD,GA2GA+nB,WAAW1nB,UAAUs6B,WAAa,SAAS7C,GAC1C,GAAI93B,OAAS83B,EACZ,OAAO,EAGR,KAAMA,aAAa/P,YAAa,CAC/B,IAAKmT,SAASpD,GACb,OAAOx7B,MAAMw7B,GAAKA,GAAK,EAExBA,EAAI/P,WAAW+P,EAChB,CAEA,GAAgB,IAAZ93B,KAAKm4B,GACR,OAAiB,IAATL,EAAEK,IAAa,EAAI,EAE5B,GAAa,IAATL,EAAEK,GACL,OAAO,EAGR,IAAIsB,EAAIz5B,KAAKk4B,GAAGv9B,OACZwgC,EAAKrD,EAAEI,GAAGv9B,OACd,GAAI8+B,EAAI0B,EACP,OAAQ,EAEJ,GAAI1B,EAAI0B,EACZ,OAAO,EAKR,IAFA,IAAIz/B,EAAIsE,KAAKk4B,GACTv8B,EAAIm8B,EAAEI,GACDziB,EAAIgkB,EAAE,EAAGhkB,GAAK,EAAGA,IACzB,GAAI/Z,EAAE+Z,KAAO9Z,EAAE8Z,GACd,OAAO/Z,EAAE+Z,GAAK9Z,EAAE8Z,IAAM,EAAI,EAI5B,OAAO,CACR,EAkBAsS,WAAW1nB,UAAU4nB,QAAU,SAAS6P,GACvC,OAAI93B,OAAS83B,EACL,GAGRA,EAAI/P,WAAW+P,GAEC,IAAZ93B,KAAKm4B,IACAL,EAAEK,GAGPn4B,KAAKm4B,KAAOL,EAAEK,GACPn4B,KAAK26B,WAAW7C,GACb93B,KAAKm4B,GAGXn4B,KAAKm4B,GAEd,EAeApQ,WAAW1nB,UAAU+6B,OAAS,WAC7B,OAAOp7B,OAASw4B,GACfx4B,OAASy4B,GACW,IAAnBz4B,KAAKk4B,GAAGv9B,QAA+B,IAAfqF,KAAKk4B,GAAG,EACnC,EAmBAnQ,WAAW1nB,UAAU45B,SAAW,SAASnC,GAExC,GAAgB,IAAZ93B,KAAKm4B,GACR,OAAOH,EAIR,GAAa,KADbF,EAAI/P,WAAW+P,IACTK,GACL,OAAOH,EAER,GAAIh4B,KAAKo7B,SACR,OAAIp7B,KAAKm4B,GAAK,EACNL,EAAEqC,SAEHrC,EAER,GAAIA,EAAEsD,SACL,OAAItD,EAAEK,GAAK,EACHn4B,KAAKm6B,SAENn6B,KAER,GAAIA,OAAS83B,EACZ,OAAO93B,KAAKq7B,SAGb,IAQI5lB,EARA3b,EAAKkG,KAAKk4B,GAAGv9B,QAAUm9B,EAAEI,GAAGv9B,OAC5Be,GAAK5B,EAAIkG,KAAO83B,GAAGI,GACnBv8B,GAAK7B,EAAIg+B,EAAI93B,MAAMk4B,GACnBmC,EAAK3+B,EAAEf,OACP2/B,EAAK3+B,EAAEhB,OAEP2gC,EAAKjB,EAAKC,EACViB,EAAU,IAAI1E,MAAMyE,GAExB,IAAK7lB,EAAI,EAAGA,EAAI6lB,EAAI7lB,IACnB8lB,EAAQ9lB,GAAK,EAGd,IAAKA,EAAI,EAAGA,EAAI6kB,EAAI7kB,IAAK,CAKxB,IAJA,IAGImU,EAHA6Q,EAAQ,EACRe,EAAK7/B,EAAE8Z,GACPgmB,EAASpB,EAAK5kB,EAETimB,EAAIjmB,EAAGimB,EAAID,EAAQC,IAE3BjB,GADA7Q,EAAQ2R,EAAQG,GAAKF,EAAK9/B,EAAEggC,EAAIjmB,GAAKglB,GACpBpC,EAAmB,EACpCkD,EAAQG,GAAM9R,EAAQyO,EAAmB,EAEtCoC,IAEHA,GADA7Q,EAAQ2R,EAAQG,GAAKjB,GACJpC,EAAmB,EACpCkD,EAAQG,GAAK9R,EAAQyO,EAEvB,CACA,OAAO,IAAItQ,WAAWwT,EAASv7B,KAAKm4B,GAAKL,EAAEK,GAAIN,EAChD,EAKA9P,WAAW1nB,UAAUs7B,oBAAsB,SAAS7D,GACnD,GAAU,IAANA,GAAuB,IAAZ93B,KAAKm4B,GACnB,OAAOH,EAER,GAAU,IAANF,EACH,OAAO93B,KAGR,IAAI4pB,EACJ,GAAuB,IAAnB5pB,KAAKk4B,GAAGv9B,OAEX,OACQ,IAAIotB,YAFZ6B,EAAQ5pB,KAAKk4B,GAAG,GAAKJ,IACRO,EACU,CAAEzO,EAAQyO,EAAiB,EAC9CzO,EAAQyO,EAAiB,GAEP,CAACzO,GAFU,EAAGiO,GAKrC,GAAU,IAANC,EACH,OAAO93B,KAAKk6B,IAAIl6B,MAEjB,GAAIA,KAAKo7B,SACR,OAAO,IAAIrT,WAAW,CAAC+P,GAAI,EAAGD,GAQ/B,IALA,IAAIn8B,EAAIsE,KAAKk4B,GACTmC,EAAK3+B,EAAEf,OAEP2gC,EAAKjB,EAAK,EACVkB,EAAU,IAAI1E,MAAMyE,GACf7lB,EAAI,EAAGA,EAAI6lB,EAAI7lB,IACvB8lB,EAAQ9lB,GAAK,EAId,IADA,IAAIglB,EAAQ,EACHiB,EAAI,EAAGA,EAAIrB,EAAIqB,IAEvBjB,GADA7Q,EAAQkO,EAAIp8B,EAAEggC,GAAKjB,GACFpC,EAAmB,EACpCkD,EAAQG,GAAM9R,EAAQyO,EAAmB,EAM1C,OAJIoC,IACHc,EAAQG,GAAKjB,GAGP,IAAI1S,WAAWwT,EAAS,EAAG1D,EACnC,EAgBA9P,WAAW1nB,UAAUg7B,OAAS,WAM7B,GAAgB,IAAZr7B,KAAKm4B,GACR,OAAOH,EAER,GAAIh4B,KAAKo7B,SACR,OAAO5C,EAGR,IAGI3O,EAAS4Q,EAAOmB,EAChBnmB,EAJAojB,EAAS74B,KAAKk4B,GACdv9B,EAASk+B,EAAOl+B,OAChBkhC,EAAS,IAAIhF,MAAMl8B,EAASA,EAAS,GAKzC,IAAK8a,EAAI,EAAGA,EAAI9a,EAAQ8a,IACvBmmB,EAAQ,EAAJnmB,EAEJglB,GADA5Q,EAAUgP,EAAOpjB,GAAKojB,EAAOpjB,IACV4iB,EAAmB,EACtCwD,EAAOD,GAAK/R,EAAUwO,EACtBwD,EAAOD,EAAI,GAAKnB,EAIjB,IAAKhlB,EAAI,EAAGA,EAAI9a,EAAQ8a,IAAK,CAC5BglB,EAAQ,EACRmB,EAAQ,EAAJnmB,EAAQ,EACZ,IAAK,IAAIimB,EAAIjmB,EAAI,EAAGimB,EAAI/gC,EAAQ+gC,IAAKE,IAEpCnB,GADA5Q,EAAUgP,EAAO6C,GAAK7C,EAAOpjB,GAAK,EAAIomB,EAAOD,GAAKnB,GAC/BpC,EAAmB,EACtCwD,EAAOD,GAAK/R,EAAUwO,EAGvB,IAAIzO,EAAQ6Q,EAAQoB,EADpBD,EAAIjhC,EAAS8a,GAEbglB,EAAS7Q,EAAQyO,EAAmB,EACpCwD,EAAOD,GAAKhS,EAAQyO,EACpBwD,EAAOD,EAAI,IAAMnB,CAClB,CAEA,OAAO,IAAI1S,WAAW8T,EAAQ,EAAGhE,EAClC,EAoBA9P,WAAW1nB,UAAUy7B,SAAW,SAAShE,GACxC,OAAO93B,KAAKm5B,OAAOrB,GAAG,EACvB,EAMA/P,WAAW1nB,UAAU+nB,OAASL,WAAW1nB,UAAUy7B,SAqBnD/T,WAAW1nB,UAAU07B,UAAY,SAASjE,GACzC,OAAO93B,KAAKm5B,OAAOrB,GAAG,EACvB,EA4BA/P,WAAW1nB,UAAU84B,OAAS,SAASrB,GAEtC,GAAa,KADbA,EAAI/P,WAAW+P,IACTK,GACL,MAAM,IAAI57B,MAAM,kBAEjB,GAAgB,IAAZyD,KAAKm4B,GACR,MAAO,CAACH,EAAMA,GAEf,GAAoB,IAAhBF,EAAEI,GAAGv9B,OACR,OAAOqF,KAAKg8B,YAAYlE,EAAEK,GAAKL,EAAEI,GAAG,IAIrC,OAAQl4B,KAAK26B,WAAW7C,IACxB,KAAK,EACJ,MAAO,CAAC93B,KAAKm4B,KAAOL,EAAEK,GAAKK,EAAMC,EAAOT,GACzC,KAAM,EACL,MAAO,CAACA,EAAMh4B,MAGf,IAMIi8B,EANAjD,EAAOh5B,KAAKm4B,GAAKL,EAAEK,GACnBz8B,EAAIo8B,EAAEmB,MACNiD,EAAWl8B,KAAKk4B,GAChBiE,EAAUD,EAASvhC,OAEnByhC,GADStE,EAAEI,GAAGv9B,OACP,IAGP0hC,EAAO,IAAItU,WAAW,GAAI,EAAG8P,GAGjC,IAFAwE,EAAKlE,GAAK,EAEHgE,GAGN,GAFAE,EAAKnE,GAAGoE,QAAQJ,IAAWC,IAEvBE,EAAK1B,WAAW7C,GAAK,EACxBsE,EAAK7hC,KAAK,OADX,CAIA,GAAgB,IAAZ8hC,EAAKlE,GACR8D,EAAQ,MAEJ,CACJ,IAAIM,EAAOF,EAAKnE,GAAGv9B,OAAQ6hC,EAAO9gC,EAAEw8B,GAAGv9B,OACnC8hC,EAAQJ,EAAKnE,GAAGqE,EAAK,GAAGlE,EAAkBgE,EAAKnE,GAAGqE,EAAK,GACvDG,EAAQhhC,EAAEw8B,GAAGsE,EAAK,GAAGnE,EAAkB38B,EAAEw8B,GAAGsE,EAAK,GACjDH,EAAKnE,GAAGv9B,OAASe,EAAEw8B,GAAGv9B,SAGzB8hC,GAASA,EAAM,GAAGpE,GAEnB4D,EAAQnR,KAAK6R,KAAKF,EAAMC,EACzB,CACA,EAAG,CACF,IAAIE,EAAQlhC,EAAEigC,oBAAoBM,GAClC,GAAIW,EAAMjC,WAAW0B,IAAS,EAC7B,MAEDJ,GACD,OAASA,GAGT,GADAG,EAAK7hC,KAAK0hC,GACLA,EAAL,CAGA,IAAIrB,EAAOyB,EAAKjC,SAASwC,GACzBP,EAAKnE,GAAK0C,EAAK1C,GAAGja,QACK,IAAnBoe,EAAKnE,GAAGv9B,SACX0hC,EAAKlE,GAAK,EAJX,CA1BA,CAkCD,MAAO,CAAC,IAAIpQ,WAAWqU,EAAK7N,UAAWyK,EAAMnB,GACzC,IAAI9P,WAAWsU,EAAKnE,GAAIl4B,KAAKm4B,GAAIN,GACtC,EAKA9P,WAAW1nB,UAAU27B,YAAc,SAASlE,GAC3C,IAAIh+B,EAEJ,GAAU,KADVg+B,GAAKA,GAEJ,MAAM,IAAIv7B,MAAM,kBAGjB,IAAIsgC,EAAM/E,EAAI,GAAK,EAAI,EACnBkB,EAAOh5B,KAAKm4B,GAAK0E,EAGrB,IAFA/E,EAAIhN,KAAKmO,IAAInB,IAEL,GAAKA,GAAKO,EACjB,MAAM,IAAI97B,MAAM,yBAGjB,GAAgB,IAAZyD,KAAKm4B,GACR,MAAO,CAACH,EAAMA,GAGf,GAAU,IAANF,IAAkB,IAAPA,EACd,MAAO,CAAW,IAATkB,EAAch5B,KAAKi5B,MAAQ,IAAIlR,WAAW/nB,KAAKk4B,GAAIc,EAAMnB,GAAYG,GAM/E,GAAuB,IAAnBh4B,KAAKk4B,GAAGv9B,OAAc,CACzB,IAAImiC,EAAI,IAAI/U,WAAW,CAAE/nB,KAAKk4B,GAAG,GAAKJ,EAAK,GAAI,EAAGD,GAQlD,OAPA/9B,EAAI,IAAIiuB,WAAW,CAAE/nB,KAAKk4B,GAAG,GAAKJ,EAAK,GAAI,EAAGD,GAC1CmB,EAAO,IACV8D,EAAIA,EAAE3C,UAEHn6B,KAAKm4B,GAAK,IACbr+B,EAAIA,EAAEqgC,UAEA,CAAC2C,EAAGhjC,EACZ,CASA,IAPA,IAKImiC,EALApD,EAAS74B,KAAKk4B,GAAGja,QACjBme,EAAO,IAAIvF,MAAMgC,EAAOl+B,QACxB0hC,EAAO,EACPzB,EAAO,EACPnlB,EAAI,EAGDojB,EAAOl+B,QAAQ,CAErB,IADA0hC,EAAOA,EAAOhE,EAAkBQ,EAAOA,EAAOl+B,OAAS,IAC5Cm9B,EACVsE,EAAK3mB,KAAO,EACZojB,EAAO/5B,MACP87B,EAAOvC,EAAkBuC,EAAOyB,OAWjCzB,EAAOyB,EADKvE,GANXmE,EADY,IAATI,EACK,EAGCA,EAAOvE,EAAK,GAKtBsE,EAAK3mB,KAAOwmB,EACPA,GAKLpD,EAAO/5B,MACPu9B,EAAOzB,GALN/B,EAAO/5B,KAMT,CAMA,OAJAhF,EAAI,IAAIiuB,WAAW,CAAC6S,GAAO,EAAG/C,GAC1B73B,KAAKm4B,GAAK,IACbr+B,EAAIA,EAAEqgC,UAEA,CAAC,IAAIpS,WAAWqU,EAAK7N,UAAWyK,EAAMnB,GAAY/9B,EAC1D,EAgBAiuB,WAAW1nB,UAAU08B,OAAS,WAC7B,IAAIlE,EAAS74B,KAAKk4B,GAClB,OAAmB,IAAZl4B,KAAKm4B,IAA8B,IAAlBU,EAAOl+B,QAAiBk+B,EAAO,GAAK,GAAO,CACpE,EAcA9Q,WAAW1nB,UAAU28B,MAAQ,WAC5B,OAAQh9B,KAAK+8B,QACd,EAgBAhV,WAAW1nB,UAAU24B,KAAO,WAC3B,OAAOh5B,KAAKm4B,EACb,EAcApQ,WAAW1nB,UAAU48B,WAAa,WACjC,OAAOj9B,KAAKm4B,GAAK,CAClB,EAcApQ,WAAW1nB,UAAU68B,WAAa,WACjC,OAAOl9B,KAAKm4B,GAAK,CAClB,EAcApQ,WAAW1nB,UAAU88B,OAAS,WAC7B,OAAmB,IAAZn9B,KAAKm4B,EACb,EA6BApQ,WAAW1nB,UAAU+8B,MAAQ,SAAStF,GAErC,GAAU,KADVA,GAAKA,GAEJ,OAAO93B,KAER,GAAI8qB,KAAKmO,IAAInB,GAAKz7B,OAAOghC,GACxB,MAAM,IAAI9gC,MAAM,0CAEjB,GAAIu7B,EAAI,EAAG,CAGV,IAFA,IAAI8D,EAAI,IAAI7T,WAAW/nB,KAAKk4B,GAAGja,QAASje,KAAKm4B,GAAIN,GAE1CC,GA5uCmB,EA4uCSA,GA5uCT,EA6uCzB8D,EAAE1D,GAAGoE,QAAQ,GAEd,OAAS,GAALxE,EACI8D,GACRA,EAAEzD,GAAK,EACPyD,EAAIA,EAAED,oBAAoB7Q,KAAKzC,IAAI,GAAIyP,IAC/B93B,KAAKm4B,GAAK,EAAIyD,EAAEzB,SAAWyB,EACpC,CAAO,IAAK9D,GApvCe,EAovCV93B,KAAKk4B,GAAGv9B,OACxB,OAAOq9B,EAEH4D,EAAI,IAAI7T,WAAW/nB,KAAKk4B,GAAGja,QAASje,KAAKm4B,GAAIN,GAEjD,IAAKC,GAAKA,EAAGA,GAzvCa,EAyvCeA,GAzvCf,EA0vCzB8D,EAAE1D,GAAGoF,QAEN,OAAa,GAALxF,EAAU8D,EAAIA,EAAEI,YAAYlR,KAAKzC,IAAI,GAAIyP,IAAI,EAEvD,EAqBA/P,WAAW1nB,UAAUgoB,IAAM,SAASyP,GACnC,GAAI93B,KAAKo7B,SACR,OAAIp7B,KAAKm4B,GAAK,GAINpQ,WAAW+P,GAAGkF,QAHdh9B,KAG+BA,KAAKm6B,SAK7C,GAAa,KADbrC,EAAI/P,WAAW+P,IACTK,GACL,OAAOK,EAEH,GAAIV,EAAEK,GAAK,EAAG,CAClB,GAAgB,IAAZn4B,KAAKm4B,GACR,MAAM,IAAI57B,MAAM,kBAGhB,OAAOy7B,CAET,CACA,GAAgB,IAAZh4B,KAAKm4B,GACR,OAAOH,EAER,GAAIF,EAAEsD,SACL,OAAOp7B,KAGR,GAAI83B,EAAE6C,WAAW0C,GAAW,EAC3B,MAAM,IAAI9gC,MAAM,wCAMjB,IAJA,IAAItB,EAAI+E,KACJu9B,EAAM/E,EACNgF,EAAMzV,WAAW6Q,MAAM,GAEpBd,EAAEmF,cAAc,CACtB,GAAInF,EAAEkF,UACLO,EAAMA,EAAItD,SAASh/B,GACf68B,EAAEsD,UACL,OAAOmC,EAGTtiC,EAAIA,EAAEogC,SACNvD,EAAIA,EAAEgE,SAAS0B,EAChB,CAEA,OAAOD,CACR,EAsBAxV,WAAW1nB,UAAUo9B,OAAS,SAASC,EAAUC,GAIhD,IAHA,IAAI99B,EAAS24B,EACTF,EAAOt4B,KAEJ09B,EAAST,cACXS,EAASV,UACZn9B,EAASA,EAAOo6B,SAAS3B,GAAMyD,UAAU4B,KAG1CD,EAAWA,EAAS5B,SAAS/T,WAAW6Q,MAAM,KACjCqE,eACZ3E,EAAOA,EAAK+C,SAASU,UAAU4B,IAIjC,OAAO99B,CACR,EAoBAkoB,WAAW1nB,UAAUu9B,IAAM,WAC1B,OAAQ59B,KAAKm4B,IACb,KAAK,EAAI,OAAQ0F,IACjB,KAAM,EAAG,OAAOC,IAIhB,IAAIrE,EAAIz5B,KAAKk4B,GAAGv9B,OAEhB,GAt4C2B,EAs4CvB8+B,EAA0B,GAC7B,OAAO3O,KAAK8S,IAAI59B,KAAKM,WAGtB,IAAIy9B,EAAIjT,KAAK6R,KAAK,GA14CS,GA24CvBqB,EAAeh+B,KAAKk4B,GAAGja,MAAMwb,EAAIsE,GACrC,OAAOjT,KAAK8S,IAAI,IAAK7V,WAAWiW,EAAc,EAAGnG,GAAYv3B,YAAcm5B,EAAIsE,GAAKjT,KAAK8S,IAAIvF,EAC9F,EAiBAtQ,WAAW1nB,UAAUC,QAAU,WAC9B,OAAOtD,SAASgD,KAAKmoB,WAAY,GAClC,EAgBAJ,WAAW1nB,UAAUioB,UAAY,WAChC,OAAOtrB,SAASgD,KAAKmoB,WAAY,GAClC,EAEAJ,WAAW1nB,UAAU6nB,OAAS,WAC7B,OAAOloB,KAAKk4B,GAAG,IAAM,CACtB,EAEA,IAAImF,EAAUtV,WAAW,YAGzBA,WAAWsV,QAAUA,EAErB,WACC,SAASY,UAAUC,GAClB,OAAO,SAASxiC,GACf,OAAOwiC,EAAG39B,KAAKwnB,WAAWrsB,GAC3B,CACD,CAEA,SAASyiC,WAAWD,GACnB,OAAO,SAASxiC,EAAGC,GAClB,OAAOuiC,EAAG39B,KAAKwnB,WAAWrsB,GAAIqsB,WAAWpsB,GAC1C,CACD,CAEA,SAASyiC,YAAYF,GACpB,OAAO,SAASxiC,EAAGC,EAAGi7B,GACrB,OAAOsH,EAAG39B,KAAKwnB,WAAWrsB,GAAIqsB,WAAWpsB,GAAIosB,WAAW6O,GACzD,CACD,EAEA,WACC,IAAInhB,EAAGyoB,EACHG,EAAQ,2GAA2Gx/B,MAAM,KACzHy/B,EAAS,gFAAgFz/B,MAAM,KAC/F0/B,EAAU,CAAC,UAEf,IAAK9oB,EAAI,EAAGA,EAAI4oB,EAAM1jC,OAAQ8a,IAE7BsS,WADAmW,EAAKG,EAAM5oB,IACMwoB,UAAUlW,WAAW1nB,UAAU69B,IAGjD,IAAKzoB,EAAI,EAAGA,EAAI6oB,EAAO3jC,OAAQ8a,IAE9BsS,WADAmW,EAAKI,EAAO7oB,IACK0oB,WAAWpW,WAAW1nB,UAAU69B,IAGlD,IAAKzoB,EAAI,EAAGA,EAAI8oB,EAAQ5jC,OAAQ8a,IAE/BsS,WADAmW,EAAKK,EAAQ9oB,IACI2oB,YAAYrW,WAAW1nB,UAAU69B,IAGnDnW,WAAWqV,MAAQ,SAASniC,EAAG68B,GAC9B,OAAO/P,WAAW9sB,GAAGmiC,MAAMtF,EAC5B,CACA,CAxBD,EAyBA,CA5CD,GA8CAF,EAAQ7P,WAAaA,UACpB,CAnkDD,CAmkDoC6P,E,2DCtlDrB,SAAS4G,cAAc5O,GACrC,IAAKvzB,OAAOoiC,UAAU7O,GACrB,MAAM,IAAI8O,UAAU,uBAGrB,MAAMC,EAAa,IAAIC,gBAEjBC,EAAYC,YAAW,KAC5BH,EAAWI,OAAO,GAChBnP,GAKH,OAFAiP,GAAWG,UAEJL,EAAW1d,MACnB,C","sources":["webpack://web/../../packages/core/src/utils/coinSelectUtils.ts","webpack://web/../../packages/core/src/utils/index.ts","webpack://web/../../packages/kit-bg/src/vaults/base/KeyringBase.ts","webpack://web/../../packages/kit-bg/src/vaults/base/KeyringExternalBase.ts","webpack://web/../../packages/kit-bg/src/vaults/base/KeyringHardwareBase.ts","webpack://web/../../packages/kit-bg/src/vaults/base/KeyringHdBase.ts","webpack://web/../../packages/kit-bg/src/vaults/base/KeyringImportedBase.ts","webpack://web/../../packages/kit-bg/src/vaults/base/KeyringSoftwareBase.ts","webpack://web/../../packages/kit-bg/src/vaults/base/KeyringWatchingBase.ts","webpack://web/../../packages/kit-bg/src/vaults/base/VaultBase.ts","webpack://web/../../packages/kit-bg/src/vaults/base/VaultContext.ts","webpack://web/../../packages/kit-bg/src/vaults/impls/dnx/KeyringExternal.ts","webpack://web/../../packages/kit-bg/src/vaults/impls/dnx/utils.ts","webpack://web/../../packages/kit-bg/src/vaults/impls/dnx/KeyringHardware.ts","webpack://web/../../packages/kit-bg/src/vaults/impls/dnx/KeyringHd.ts","webpack://web/../../packages/kit-bg/src/vaults/impls/dnx/KeyringImported.ts","webpack://web/../../packages/kit-bg/src/vaults/impls/dnx/KeyringWatching.ts","webpack://web/../../packages/kit-bg/src/vaults/impls/dnx/sdkDnx/ClientDnx.ts","webpack://web/../../packages/kit-bg/src/vaults/impls/dnx/Vault.ts","webpack://web/../../packages/kit-bg/src/vaults/types.ts","webpack://web/../../packages/shared/src/request/JsonRPCRequest.ts","webpack://web/../../node_modules/biginteger/biginteger.js","webpack://web/../../node_modules/timeout-signal/index.js"],"sourcesContent":["import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _isNil from\"lodash/isNil\";function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}import coinSelectAuto from'@onekeyfe/coinselect';import coinSelectAccumulative from'@onekeyfe/coinselect/accumulative';import coinSelectBlackjack from'@onekeyfe/coinselect/blackjack';import coinSelectBreak from'@onekeyfe/coinselect/break';import coinSelectSplit from'@onekeyfe/coinselect/split';import coinSelectUtils from'@onekeyfe/coinselect/utils';import coinSelectWitness from'@onekeyfe/coinselect/witness';import{defaultLogger}from'@onekeyhq/shared/src/logger/logger';import{EAddressEncodings}from\"../types\";function utxoScore(x,feeRate){return x.value-feeRate*coinSelectUtils.inputBytes(x);}function sortUtxo({utxos,feeRate}){return utxos.concat().sort(function(a,b){if(a.forceSelect){return-1;}if(b.forceSelect){return 1;}return utxoScore(b,feeRate)-utxoScore(a,feeRate);});}export function coinSelectAccumulativeDesc(utxos,outputs,feeRate){utxos=sortUtxo({utxos,feeRate});return coinSelectAccumulative(utxos,outputs,feeRate);}export var coinSelect=function({inputsForCoinSelect,outputsForCoinSelect,feeRate,algorithm='auto'}){var max=outputsForCoinSelect.some(function(o){return o.type==='send-max';});var validAmount=outputsForCoinSelect.every(function(o){if(o.type==='send-max'){return typeof o.value==='undefined';}return typeof o.value==='number'&&!Number.isNaN(o.value);});if(!validAmount){throw new Error('coinSelect ERROR: Invalid amount in outputs, you should specify valid value or isMax');}var finalOutputs=outputsForCoinSelect.map(function(o){return{address:o.address,value:o.type==='send-max'?undefined:o.value,script:o.script};});var unspentSelectFn=max?coinSelectSplit:coinSelectAuto;if(algorithm==='accumulative_desc'){unspentSelectFn=coinSelectAccumulativeDesc;}if(algorithm==='accumulative'){unspentSelectFn=coinSelectAccumulative;}if(algorithm==='blackjack'){unspentSelectFn=coinSelectBlackjack;}if(algorithm==='break'){unspentSelectFn=coinSelectBreak;}if(algorithm==='split'){unspentSelectFn=coinSelectSplit;}var{inputs,outputs,fee}=unspentSelectFn(inputsForCoinSelect,finalOutputs,parseInt(feeRate,10));if(_isNil(fee)){throw new Error('coinSelect ERROR: No fee found');}return{inputs,outputs,fee};};export var getCoinSelectTxType=function(encoding){switch(encoding){case EAddressEncodings.P2PKH:return'p2pkh';case EAddressEncodings.P2SH_P2WPKH:return'p2sh';case EAddressEncodings.P2WPKH:return'p2wpkh';case EAddressEncodings.P2TR:return'p2tr';case EAddressEncodings.P2WSH:return'p2wsh';default:throw new Error('coinSelect ERROR: Invalid encoding');}};export function coinSelectWithWitness(params){var{inputsForCoinSelect,outputsForCoinSelect,feeRate,network,changeAddress,txType}=params;var coinselectParams={utxos:inputsForCoinSelect.map(function(u){return _objectSpread(_objectSpread({},u),{},{own:true,coinbase:false,txid:u.txId});}),outputs:outputsForCoinSelect,feeRate,network,changeAddress,txType};try{return coinSelectWitness(coinselectParams);}catch(error){defaultLogger.transaction.coinSelect.coinSelectFailed(coinselectParams);return{inputs:undefined,outputs:undefined,fee:undefined,bytes:undefined};}}","import coinselectUtils from'@onekeyfe/coinselect/utils';import accountUtils from'@onekeyhq/shared/src/utils/accountUtils';export function slicePathTemplate(template){return accountUtils.slicePathTemplate(template);}export function getUtxoAccountPrefixPath({fullPath}){var pathComponent=fullPath.split('/');pathComponent.pop();pathComponent.pop();var prefixPath=pathComponent.join('/');return prefixPath;}export function getBIP44Path(account,address){var realPath='';for(var[key,value]of Object.entries(account.addresses)){if(value===address){realPath=key;break;}}return`${account.path}/${realPath}`;}export function estimateTxSize(inputsForCoinSelect,outputsForCoinSelect){return coinselectUtils.transactionBytes(inputsForCoinSelect,outputsForCoinSelect);}","import _isNil from\"lodash/isNil\";import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import{NotImplemented}from'@onekeyhq/shared/src/errors';import{defaultLogger}from'@onekeyhq/shared/src/logger/logger';import accountUtils from'@onekeyhq/shared/src/utils/accountUtils';import timerUtils from'@onekeyhq/shared/src/utils/timerUtils';import{EDBAccountType}from\"../../dbs/local/consts\";import{EVaultKeyringTypes}from\"../types\";import{VaultContext}from\"./VaultContext\";export var KeyringBase=function(_VaultContext){_inherits(KeyringBase,_VaultContext);var _super=_createSuper(KeyringBase);function KeyringBase(vault){var _this;_this=_super.call(this,vault.options);_this.vault=vault;if(_this.vault.networkId!==vault.options.networkId){throw new Error('KeyringBase ERROR: networkId not match1');}if(_this.networkId!==vault.options.networkId){throw new Error('KeyringBase ERROR: networkId not match2');}return _this;}var _proto=KeyringBase.prototype;_proto.isKeyringImported=function isKeyringImported(){return this.keyringType===EVaultKeyringTypes.imported;};_proto.isKeyringHd=function isKeyringHd(){return this.keyringType===EVaultKeyringTypes.hd;};_proto.isKeyringHardware=function isKeyringHardware(){return this.keyringType===EVaultKeyringTypes.hardware;};_proto.isKeyringWatching=function isKeyringWatching(){return this.keyringType===EVaultKeyringTypes.watching;};_proto.basePrepareHdNormalAccounts=function(){var _basePrepareHdNormalAccounts=_asyncToGenerator(function*(params,options){var{walletId}=this;if(!walletId){throw new Error('walletId is not defined');}var{names,deriveInfo,indexes}=params;var{coinType,template,namePrefix,idSuffix}=deriveInfo;if(!coinType){throw new Error('coinType is not defined');}var settings=yield this.getVaultSettings();var{accountType}=settings;var{buildAddressesInfo}=options;var usedIndexes=indexes;var addressInfos=yield buildAddressesInfo({usedIndexes});var ret=[];for(var idx=0;idx<addressInfos.length;idx+=1){var{path,publicKey,address,addresses,relPath}=addressInfos[idx];if(!path){throw new Error('KeyringHD prepareAccounts ERROR: path not found');}if(accountType===EDBAccountType.VARIANT&&!addresses){throw new Error('addresses is required for variant account');}if(accountType===EDBAccountType.VARIANT&&address){throw new Error('address should not set for variant account');}var pathIndex=usedIndexes[idx];var name=names?.[idx]||accountUtils.buildHDAccountName({pathIndex,namePrefix});var id=accountUtils.buildHDAccountId({walletId,path,idSuffix});var indexedAccountId=accountUtils.buildIndexedAccountId({walletId,index:pathIndex});ret.push({id,name,type:accountType,path,pathIndex,relPath,indexedAccountId,coinType,impl:settings.impl,pub:publicKey,address,addresses,template});}return ret;});function basePrepareHdNormalAccounts(_x,_x2){return _basePrepareHdNormalAccounts.apply(this,arguments);}return basePrepareHdNormalAccounts;}();_proto.basePrepareHdUtxoAccounts=function(){var _basePrepareHdUtxoAccounts=_asyncToGenerator(function*(params,options){var{walletId}=this;if(!walletId){throw new Error('walletId is undefined');}var{indexes,deriveInfo,names,skipCheckAccountExist=true}=params;var{coinType,template,namePrefix}=deriveInfo;if(!coinType){throw new Error('coinType is not defined');}var settings=yield this.getVaultSettings();var{accountType}=settings;if(accountType!==EDBAccountType.UTXO){throw new Error('accountType is not utxo');}var{checkIsAccountUsed,buildAddressesInfo}=options;var ignoreFirst=false;var usedIndexes=[...(ignoreFirst?[indexes[0]-1]:[]),...indexes];defaultLogger.account.accountCreatePerf.utxoBuildAddressesInfo();var addressesInfo=yield buildAddressesInfo({usedIndexes});defaultLogger.account.accountCreatePerf.utxoBuildAddressesInfoDone();defaultLogger.account.accountCreatePerf.buildDBUtxoAccounts();var ret=[];var idx=0;for(var{path,relPath,publicKey,xpub,xpubSegwit,address,addresses}of addressesInfo){if(!path||_isNil(xpub)||!addresses){throw new Error('basePrepareHdUtxoAccounts ERROR: path or xpub or addresses is undefined');}if(!relPath){throw new Error('basePrepareHdUtxoAccounts ERROR: relPath is undefined');}var prefix=namePrefix;var pathIndex=usedIndexes[idx];var name=names?.[idx]||`${prefix} #${pathIndex+1}`;var id=`${this.walletId}--${path}`;if(!ignoreFirst||idx>0){var indexedAccountId=accountUtils.buildIndexedAccountId({walletId:this.walletId,index:pathIndex});ret.push({id,name,type:accountType,path,pathIndex,indexedAccountId,relPath,coinType,impl:settings.impl,pub:publicKey,xpub,xpubSegwit,address,addresses,template});}var isLast=idx===addressesInfo.length-1;if(!skipCheckAccountExist&&!isLast&&checkIsAccountUsed){var{isUsed}=yield checkIsAccountUsed({xpub,xpubSegwit,address});if(!isUsed){break;}yield timerUtils.wait(200);}idx+=1;}defaultLogger.account.accountCreatePerf.buildDBUtxoAccountsDone();return ret;});function basePrepareHdUtxoAccounts(_x3,_x4){return _basePrepareHdUtxoAccounts.apply(this,arguments);}return basePrepareHdUtxoAccounts;}();_proto.batchGetAddresses=function(){var _batchGetAddresses=_asyncToGenerator(function*(params){return[];});function batchGetAddresses(_x5){return _batchGetAddresses.apply(this,arguments);}return batchGetAddresses;}();_proto.exportAccountSecretKeys=function(){var _exportAccountSecretKeys=_asyncToGenerator(function*(params){throw new NotImplemented();});function exportAccountSecretKeys(_x6){return _exportAccountSecretKeys.apply(this,arguments);}return exportAccountSecretKeys;}();_proto.buildHwAllNetworkPrepareAccountsParams=function(){var _buildHwAllNetworkPrepareAccountsParams=_asyncToGenerator(function*(params){return undefined;});function buildHwAllNetworkPrepareAccountsParams(_x7){return _buildHwAllNetworkPrepareAccountsParams.apply(this,arguments);}return buildHwAllNetworkPrepareAccountsParams;}();_proto.buildPrepareAccountsPrefixedPath=function buildPrepareAccountsPrefixedPath(params){throw new NotImplemented();};return _createClass(KeyringBase);}(VaultContext);export var KeyringBaseMock=function(_KeyringBase){_inherits(KeyringBaseMock,_KeyringBase);var _super2=_createSuper(KeyringBaseMock);function KeyringBaseMock(){return _super2.apply(this,arguments);}return _createClass(KeyringBaseMock);}(KeyringBase);","import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import{OneKeyInternalError}from'@onekeyhq/shared/src/errors';import{EVaultKeyringTypes}from\"../types\";import{KeyringBase}from\"./KeyringBase\";export var KeyringExternalBase=function(_KeyringBase){_inherits(KeyringExternalBase,_KeyringBase);var _super=_createSuper(KeyringExternalBase);function KeyringExternalBase(...args){var _this;_this=_super.call(this,...args);_this.keyringType=EVaultKeyringTypes.external;return _this;}var _proto=KeyringExternalBase.prototype;_proto.baseSignMessageByExternalWallet=function(){var _baseSignMessageByExternalWallet=_asyncToGenerator(function*(params){return this.backgroundApi.serviceDappSide.signMessage({account:yield this.vault.getAccount(),networkId:this.networkId,params});});function baseSignMessageByExternalWallet(_x){return _baseSignMessageByExternalWallet.apply(this,arguments);}return baseSignMessageByExternalWallet;}();_proto.baseSendTransactionByExternalWallet=function(){var _baseSendTransactionByExternalWallet=_asyncToGenerator(function*(params){return this.backgroundApi.serviceDappSide.sendTransaction({account:yield this.vault.getAccount(),networkId:this.networkId,params});});function baseSendTransactionByExternalWallet(_x2){return _baseSendTransactionByExternalWallet.apply(this,arguments);}return baseSendTransactionByExternalWallet;}();_proto.prepareAccounts=function prepareAccounts(params){throw new OneKeyInternalError('prepareAccounts is not supported for external accounts, use serviceAccount directly');};_proto.basePrepareExternalAccounts=function(){var _basePrepareExternalAccounts=_asyncToGenerator(function*(params){return[];});function basePrepareExternalAccounts(_x3){return _basePrepareExternalAccounts.apply(this,arguments);}return basePrepareExternalAccounts;}();return _createClass(KeyringExternalBase);}(KeyringBase);","import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import{slicePathTemplate}from'@onekeyhq/core/src/utils';import appGlobals from'@onekeyhq/shared/src/appGlobals';import{OneKeyInternalError,UnsupportedAddressTypeError}from'@onekeyhq/shared/src/errors';import{convertDeviceError,convertDeviceResponse}from'@onekeyhq/shared/src/errors/utils/deviceErrorUtils';import{HardwareSDK}from'@onekeyhq/shared/src/hardware/instance';import{defaultLogger}from'@onekeyhq/shared/src/logger/logger';import{EConfirmOnDeviceType}from'@onekeyhq/shared/types/device';import{EVaultKeyringTypes}from\"../types\";import{KeyringBase}from\"./KeyringBase\";export var KeyringHardwareBase=function(_KeyringBase){_inherits(KeyringHardwareBase,_KeyringBase);var _super=_createSuper(KeyringHardwareBase);function KeyringHardwareBase(...args){var _this;_this=_super.call(this,...args);_this.keyringType=EVaultKeyringTypes.hardware;return _this;}var _proto=KeyringHardwareBase.prototype;_proto.getHardwareSDKInstance=function(){var _getHardwareSDKInstance=_asyncToGenerator(function*(){var _ref;defaultLogger.account.accountCreatePerf.getHardwareSDKInstance();var sdk=yield appGlobals?.$backgroundApiProxy?.backgroundApi?.serviceHardware?.getSDKInstance?.();var r=(_ref=sdk)!=null?_ref:HardwareSDK;defaultLogger.account.accountCreatePerf.getHardwareSDKInstanceDone();return r;});function getHardwareSDKInstance(){return _getHardwareSDKInstance.apply(this,arguments);}return getHardwareSDKInstance;}();_proto.baseGetDeviceAccountData=function(){var _baseGetDeviceAccountData=_asyncToGenerator(function*({params,usedIndexes,sdkGetDataFn,errorMessage}){var{deriveInfo,deviceParams}=params;var{dbDevice,confirmOnDevice}=deviceParams;var{connectId,deviceId}=dbDevice;var{template,coinName}=deriveInfo;var{pathPrefix,pathSuffix}=slicePathTemplate(template);var showOnOnekeyFn=function(arrIndex){if(confirmOnDevice===EConfirmOnDeviceType.EveryItem){return true;}if(confirmOnDevice===EConfirmOnDeviceType.LastItem){return arrIndex===usedIndexes[usedIndexes.length-1];}return false;};var result=yield convertDeviceResponse(_asyncToGenerator(function*(){return sdkGetDataFn({connectId,deviceId,pathPrefix,pathSuffix,template,coinName,showOnOnekeyFn});}));if(!result||result.length!==usedIndexes.length){throw new OneKeyInternalError(errorMessage);}return result;});function baseGetDeviceAccountData(_x){return _baseGetDeviceAccountData.apply(this,arguments);}return baseGetDeviceAccountData;}();_proto.baseGetDeviceAccountPublicKeys=function(){var _baseGetDeviceAccountPublicKeys=_asyncToGenerator(function*({params,usedIndexes,sdkGetPublicKeysFn}){return this.baseGetDeviceAccountData({params,usedIndexes,sdkGetDataFn:sdkGetPublicKeysFn,errorMessage:'Unable to get public keys.'});});function baseGetDeviceAccountPublicKeys(_x2){return _baseGetDeviceAccountPublicKeys.apply(this,arguments);}return baseGetDeviceAccountPublicKeys;}();_proto.baseGetDeviceAccountAddresses=function(){var _baseGetDeviceAccountAddresses=_asyncToGenerator(function*({params,usedIndexes,sdkGetAddressFn}){return this.baseGetDeviceAccountData({params,usedIndexes,sdkGetDataFn:sdkGetAddressFn,errorMessage:'Unable to get addresses.'});});function baseGetDeviceAccountAddresses(_x3){return _baseGetDeviceAccountAddresses.apply(this,arguments);}return baseGetDeviceAccountAddresses;}();_proto.getAllNetworkPrepareAccounts=function(){var _getAllNetworkPrepareAccounts=_asyncToGenerator(function*({hwSdkNetwork,params,usedIndexes,buildPath,buildResultAccount}){if(!hwSdkNetwork){return undefined;}var{hwAllNetworkPrepareAccountsResponse}=params;if(hwAllNetworkPrepareAccountsResponse?.length){var resultAccounts=[];var _loop=function*(){var path=yield buildPath({index});var account=hwAllNetworkPrepareAccountsResponse?.find(function(item){return item.network&&item.path===path&&item.network===hwSdkNetwork;});if(account&&account.success){resultAccounts.push(buildResultAccount({account,index}));}};for(var index of usedIndexes){yield*_loop();}if(resultAccounts.length===usedIndexes.length){return{success:true,payload:resultAccounts};}var hasErrorItem=hwAllNetworkPrepareAccountsResponse?.find(function(item){return!item.success&&!!item.payload?.error;});if(!hasErrorItem?.success&&hasErrorItem?.payload?.error){if(hasErrorItem?.payload?.error?.indexOf('Failure_DataError,Forbidden key path')!==-1){throw new UnsupportedAddressTypeError();}throw convertDeviceError(hasErrorItem.payload);}throw new OneKeyInternalError('SDK GetAllNetworkAccounts Failed');}});function getAllNetworkPrepareAccounts(_x4){return _getAllNetworkPrepareAccounts.apply(this,arguments);}return getAllNetworkPrepareAccounts;}();return _createClass(KeyringHardwareBase);}(KeyringBase);","import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import{EVaultKeyringTypes}from\"../types\";import{KeyringSoftwareBase}from\"./KeyringSoftwareBase\";export var KeyringHdBase=function(_KeyringSoftwareBase){_inherits(KeyringHdBase,_KeyringSoftwareBase);var _super=_createSuper(KeyringHdBase);function KeyringHdBase(...args){var _this;_this=_super.call(this,...args);_this.keyringType=EVaultKeyringTypes.hd;return _this;}return _createClass(KeyringHdBase);}(KeyringSoftwareBase);","import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import{EVaultKeyringTypes}from\"../types\";import{KeyringSoftwareBase}from\"./KeyringSoftwareBase\";export var KeyringImportedBase=function(_KeyringSoftwareBase){_inherits(KeyringImportedBase,_KeyringSoftwareBase);var _super=_createSuper(KeyringImportedBase);function KeyringImportedBase(...args){var _this;_this=_super.call(this,...args);_this.keyringType=EVaultKeyringTypes.imported;return _this;}return _createClass(KeyringImportedBase);}(KeyringSoftwareBase);","import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _isNil from\"lodash/isNil\";import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import{decryptImportedCredential}from'@onekeyhq/core/src/secret';import{OneKeyInternalError}from'@onekeyhq/shared/src/errors';import{defaultLogger}from'@onekeyhq/shared/src/logger/logger';import accountUtils from'@onekeyhq/shared/src/utils/accountUtils';import{checkIsDefined}from'@onekeyhq/shared/src/utils/assertUtils';import{noopObject}from'@onekeyhq/shared/src/utils/miscUtils';import localDb from\"../../dbs/local/localDb\";import{KeyringBase}from\"./KeyringBase\";export var KeyringSoftwareBase=function(_KeyringBase){_inherits(KeyringSoftwareBase,_KeyringBase);var _super=_createSuper(KeyringSoftwareBase);function KeyringSoftwareBase(){return _super.apply(this,arguments);}var _proto=KeyringSoftwareBase.prototype;_proto.baseGetCredentialsInfo=function(){var _baseGetCredentialsInfo=_asyncToGenerator(function*({password}){noopObject(password);var hd;var imported;if(this.isKeyringHd()){var credential=yield localDb.getCredential(checkIsDefined(this.walletId));hd=credential.credential;}if(this.isKeyringImported()){var _credential=yield localDb.getCredential(this.accountId);imported=_credential.credential;}return{hd,imported};});function baseGetCredentialsInfo(_x){return _baseGetCredentialsInfo.apply(this,arguments);}return baseGetCredentialsInfo;}();_proto.baseSignTransactionBtc=function(){var _baseSignTransactionBtc=_asyncToGenerator(function*(params){if(!this.coreApi){throw new Error('coreApi is not defined');}var vault=this.vault;var{password,unsignedTx,signOnly}=params;var credentials=yield this.baseGetCredentialsInfo(params);var networkInfo=yield this.getCoreApiNetworkInfo();var{account,btcExtraInfo,relPaths}=yield vault.prepareBtcSignExtraInfo({unsignedTx});var result=yield this.coreApi.signTransaction({networkInfo,unsignedTx,account,relPaths,password,credentials,btcExtraInfo,signOnly});return result;});function baseSignTransactionBtc(_x2){return _baseSignTransactionBtc.apply(this,arguments);}return baseSignTransactionBtc;}();_proto.baseSignTransaction=function(){var _baseSignTransaction=_asyncToGenerator(function*(params){if(!this.coreApi){throw new Error('coreApi is not defined');}var{password,unsignedTx}=params;var account=yield this.vault.getAccount();var credentials=yield this.baseGetCredentialsInfo(params);var networkInfo=yield this.getCoreApiNetworkInfo();var result=yield this.coreApi.signTransaction({networkInfo,password,account,credentials,unsignedTx});return result;});function baseSignTransaction(_x3){return _baseSignTransaction.apply(this,arguments);}return baseSignTransaction;}();_proto.baseSignMessage=function(){var _baseSignMessage=_asyncToGenerator(function*(params){var _this=this;if(!this.coreApi){throw new Error('coreApi is not defined');}var{password,messages}=params;var account=yield this.vault.getAccount();var credentials=yield this.baseGetCredentialsInfo(params);var networkInfo=yield this.getCoreApiNetworkInfo();var result=yield Promise.all(messages.map(function(msg){return checkIsDefined(_this.coreApi).signMessage({networkInfo,unsignedMsg:msg,account,password,credentials});}));return result;});function baseSignMessage(_x4){return _baseSignMessage.apply(this,arguments);}return baseSignMessage;}();_proto.baseSignMessageBtc=function(){var _baseSignMessageBtc=_asyncToGenerator(function*(params){var _this2=this;if(!this.coreApi){throw new Error('coreApi is not defined');}var vault=this.vault;var{password,messages}=params;var credentials=yield this.baseGetCredentialsInfo(params);var networkInfo=yield this.getCoreApiNetworkInfo();var result=yield Promise.all(messages.map(function(){var _ref=_asyncToGenerator(function*(msg){var{account,btcExtraInfo,relPaths}=yield vault.prepareBtcSignExtraInfo({unsignedMessage:msg});return checkIsDefined(_this2.coreApi).signMessage({networkInfo,unsignedMsg:msg,account,relPaths,password,credentials,btcExtraInfo});});return function(_x6){return _ref.apply(this,arguments);};}()));return result;});function baseSignMessageBtc(_x5){return _baseSignMessageBtc.apply(this,arguments);}return baseSignMessageBtc;}();_proto.basePrepareAccountsImported=function(){var _basePrepareAccountsImported=_asyncToGenerator(function*(params,options={}){if(!this.coreApi){throw new Error('coreApi is not defined');}var{name,importedCredential,password,networks,createAtNetwork}=params;var{privateKey}=decryptImportedCredential({credential:importedCredential,password});var settings=yield this.getVaultSettings();var{onlyAvailableOnCertainNetworks}=options;var accountType=options.accountType||settings.accountType;var impl=options.impl||settings.impl;var coinType=options.coinType||params.deriveInfo?.coinType||settings.coinTypeDefault;var networkInfo=yield this.getCoreApiNetworkInfo();var privateKeyRaw=privateKey;var{address,addresses,publicKey}=yield this.coreApi.getAddressFromPrivate({networkInfo,privateKeyRaw,addressEncoding:params.deriveInfo?.addressEncoding});var addressUsed='';if(onlyAvailableOnCertainNetworks){addressUsed=addresses?.[createAtNetwork]||'';if(!addressUsed){throw new Error(`imported account address is empty of network: ${createAtNetwork}`);}}var accountId=accountUtils.buildImportedAccountId({coinType,pub:publicKey,address:addressUsed,addressEncoding:params.deriveInfo?.addressEncoding});return Promise.resolve([{id:accountId,name:name||'',type:accountType,path:'',coinType,impl,networks:onlyAvailableOnCertainNetworks?networks:undefined,createAtNetwork,pub:publicKey,address,addresses}]);});function basePrepareAccountsImported(_x7){return _basePrepareAccountsImported.apply(this,arguments);}return basePrepareAccountsImported;}();_proto.basePrepareAccountsImportedUtxo=function(){var _basePrepareAccountsImportedUtxo=_asyncToGenerator(function*(params){if(!this.coreApi){throw new Error('coreApi is not defined');}var{name,importedCredential,password,createAtNetwork,deriveInfo}=params;var{privateKey}=decryptImportedCredential({credential:importedCredential,password});var addressEncoding=deriveInfo?.addressEncoding;var settings=yield this.getVaultSettings();var{coinTypeDefault:coinType,accountType}=settings;var networkInfo=yield this.getCoreApiNetworkInfo();var privateKeyRaw=privateKey;var{address,addresses,publicKey,xpub,relPath,xpubSegwit,path}=yield this.coreApi.getAddressFromPrivate({networkInfo,privateKeyRaw,addressEncoding});if(_isNil(xpub)||!addresses){throw new Error('xpub or addresses is undefined');}var accountId=accountUtils.buildImportedAccountId({coinType,xpub:xpub||publicKey,addressEncoding});return Promise.resolve([{id:accountId,name:name||'',type:accountType,path:path||'',relPath,coinType,impl:settings.impl,xpub,xpubSegwit,pub:publicKey,address,addresses,createAtNetwork}]);});function basePrepareAccountsImportedUtxo(_x8){return _basePrepareAccountsImportedUtxo.apply(this,arguments);}return basePrepareAccountsImportedUtxo;}();_proto.basePrepareAccountsHd=function(){var _basePrepareAccountsHd=_asyncToGenerator(function*(params){var _this3=this;var{template,addressEncoding}=params.deriveInfo;var{password}=params;var networkInfo=yield this.getCoreApiNetworkInfo();return this.basePrepareHdNormalAccounts(params,{buildAddressesInfo:function(){var _ref2=_asyncToGenerator(function*({usedIndexes}){if(!_this3.coreApi){throw new Error('coreApi is not defined');}var credentials=yield _this3.baseGetCredentialsInfo({password});var{addresses:addressInfos}=yield _this3.coreApi.getAddressesFromHd({networkInfo,template,hdCredential:checkIsDefined(credentials.hd),password,indexes:usedIndexes,addressEncoding});return addressInfos;});return function buildAddressesInfo(_x10){return _ref2.apply(this,arguments);};}()});});function basePrepareAccountsHd(_x9){return _basePrepareAccountsHd.apply(this,arguments);}return basePrepareAccountsHd;}();_proto.basePrepareAccountsHdUtxo=function(){var _basePrepareAccountsHdUtxo=_asyncToGenerator(function*(params,options){var _this4=this;var{password,indexes,deriveInfo,names,skipCheckAccountExist}=params;var addressEncoding=params?.deriveInfo?.addressEncoding;return this.basePrepareHdUtxoAccounts(params,_objectSpread(_objectSpread({},options),{},{buildAddressesInfo:function(){var _ref3=_asyncToGenerator(function*({usedIndexes}){var{coinType,template,namePrefix}=deriveInfo;defaultLogger.account.accountCreatePerf.getCredentialsInfo();var credentials=yield _this4.baseGetCredentialsInfo({password});if(!_this4.coreApi){throw new Error('coreApi is undefined');}defaultLogger.account.accountCreatePerf.getAddressesFromHd();var{addresses:addressesInfo}=yield _this4.coreApi.getAddressesFromHd({networkInfo:yield _this4.getCoreApiNetworkInfo(),template,hdCredential:checkIsDefined(credentials.hd),password,indexes:usedIndexes,addressEncoding});if(addressesInfo.length!==usedIndexes.length){throw new OneKeyInternalError('Unable to get address');}defaultLogger.account.accountCreatePerf.getAddressesFromHdDone();return addressesInfo;});return function buildAddressesInfo(_x13){return _ref3.apply(this,arguments);};}()}));});function basePrepareAccountsHdUtxo(_x11,_x12){return _basePrepareAccountsHdUtxo.apply(this,arguments);}return basePrepareAccountsHdUtxo;}();_proto.baseExportAccountSecretKeys=function(){var _baseExportAccountSecretKeys=_asyncToGenerator(function*(params){var{password,keyType,relPaths}=params;var account=yield this.vault.getAccount();var networkInfo=yield this.getCoreApiNetworkInfo();var credentials=yield this.baseGetCredentialsInfo({password});var{deriveInfo}=yield this.backgroundApi.serviceNetwork.getDeriveTypeByTemplate({networkId:this.networkId,template:account.template});var addressEncoding=deriveInfo?.addressEncoding;if(!this.coreApi){throw new Error('coreApi is not defined');}return this.coreApi.getExportedSecretKey({networkInfo,password,credentials,account,relPaths,keyType,addressEncoding});});function baseExportAccountSecretKeys(_x14){return _baseExportAccountSecretKeys.apply(this,arguments);}return baseExportAccountSecretKeys;}();_proto.baseGetPrivateKeys=function(){var _baseGetPrivateKeys=_asyncToGenerator(function*(params){var{password,relPaths}=params;if(!this.coreApi){throw new Error('coreApi is not defined');}var account=yield this.vault.getAccount();var credentials=yield this.baseGetCredentialsInfo({password});var networkInfo=yield this.getCoreApiNetworkInfo();var privateKeys=yield this.coreApi.getPrivateKeys({networkInfo,password,account,relPaths,credentials});return privateKeys;});function baseGetPrivateKeys(_x15){return _baseGetPrivateKeys.apply(this,arguments);}return baseGetPrivateKeys;}();return _createClass(KeyringSoftwareBase);}(KeyringBase);","import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import{InvalidAddress,OneKeyInternalError}from'@onekeyhq/shared/src/errors';import{ETranslations}from'@onekeyhq/shared/src/locale';import{appLocale}from'@onekeyhq/shared/src/locale/appLocale';import accountUtils from'@onekeyhq/shared/src/utils/accountUtils';import{checkIsDefined}from'@onekeyhq/shared/src/utils/assertUtils';import{EDBAccountType}from\"../../dbs/local/consts\";import{EVaultKeyringTypes}from\"../types\";import{KeyringBase}from\"./KeyringBase\";export var KeyringWatchingBase=function(_KeyringBase){_inherits(KeyringWatchingBase,_KeyringBase);var _super=_createSuper(KeyringWatchingBase);function KeyringWatchingBase(...args){var _this;_this=_super.call(this,...args);_this.keyringType=EVaultKeyringTypes.watching;return _this;}var _proto=KeyringWatchingBase.prototype;_proto.signTransaction=function(){var _signTransaction=_asyncToGenerator(function*(){throw new OneKeyInternalError(appLocale.intl.formatMessage({id:ETranslations.wallet_error_trade_with_watched_acocunt}));});function signTransaction(){return _signTransaction.apply(this,arguments);}return signTransaction;}();_proto.signMessage=function(){var _signMessage=_asyncToGenerator(function*(){throw new OneKeyInternalError(appLocale.intl.formatMessage({id:ETranslations.wallet_error_trade_with_watched_acocunt}));});function signMessage(){return _signMessage.apply(this,arguments);}return signMessage;}();_proto.basePrepareUtxoWatchingAccounts=function(){var _basePrepareUtxoWatchingAccounts=_asyncToGenerator(function*(params){var{address,xpub,networks,createAtNetwork,name,deriveInfo,isUrlAccount,addresses}=params;if(!address&&!xpub){throw new Error('basePrepareUtxoWatchingAccounts ERROR: address and xpub are not defined');}var networkInfo=yield this.getCoreApiNetworkInfo();var settings=yield this.getVaultSettings();var coinType=settings.coinTypeDefault;var addressEncoding=deriveInfo?.addressEncoding;var id=accountUtils.buildWatchingAccountId({coinType,address,xpub,addressEncoding,isUrlAccount});var addressFromXpub='';var xpubSegwit=xpub;if(!address&&xpub){checkIsDefined(this.coreApi);var result=yield this.coreApi?.getAddressFromPublic({publicKey:xpub,addressEncoding,networkInfo});addressFromXpub=result?.address||'';xpubSegwit=result?.xpubSegwit||xpubSegwit||xpub;}var account={id,name,type:EDBAccountType.UTXO,relPath:'0/0',coinType,impl:settings.impl,networks,createAtNetwork,address:addressFromXpub||address||'',xpub:xpub||'',xpubSegwit,path:'',addresses:addresses||{}};return[account];});function basePrepareUtxoWatchingAccounts(_x){return _basePrepareUtxoWatchingAccounts.apply(this,arguments);}return basePrepareUtxoWatchingAccounts;}();_proto.basePrepareSimpleWatchingAccounts=function(){var _basePrepareSimpleWatchingAccounts=_asyncToGenerator(function*(params,options={}){var{address,name,networks,createAtNetwork,isUrlAccount}=params;if(!address){throw new InvalidAddress();}if(!createAtNetwork){throw new Error('basePrepareSimpleWatchingAccounts ERROR: createAtNetwork is not defined');}var{onlyAvailableOnCertainNetworks=false}=options;var settings=yield this.getVaultSettings();var coinType=options.coinType||settings.coinTypeDefault;var impl=options.impl||settings.impl;var id=accountUtils.buildWatchingAccountId({coinType,address,isUrlAccount});var account={id,name:name||'',type:EDBAccountType.SIMPLE,coinType,impl,networks:onlyAvailableOnCertainNetworks?networks:undefined,createAtNetwork,address,pub:'',path:''};return Promise.resolve([account]);});function basePrepareSimpleWatchingAccounts(_x2){return _basePrepareSimpleWatchingAccounts.apply(this,arguments);}return basePrepareSimpleWatchingAccounts;}();return _createClass(KeyringWatchingBase);}(KeyringBase);","import _objectWithoutProperties from\"@babel/runtime/helpers/objectWithoutProperties\";import _omitBy from\"lodash/omitBy\";import _isEmpty from\"lodash/isEmpty\";import _isNil from\"lodash/isNil\";import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _omit from\"lodash/omit\";import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";var _excluded=[\"accountId\"],_excluded2=[\"accountId\"];function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import qs from'querystring';import{Semaphore}from'async-mutex';import BigNumber from'bignumber.js';import{decodeSensitiveText,encodeSensitiveText}from'@onekeyhq/core/src/secret';import{getNetworkIdsMap}from'@onekeyhq/shared/src/config/networkIds';import{NotImplemented}from'@onekeyhq/shared/src/errors';import platformEnv from'@onekeyhq/shared/src/platformEnv';import accountUtils from'@onekeyhq/shared/src/utils/accountUtils';import chainValueUtils from'@onekeyhq/shared/src/utils/chainValueUtils';import hexUtils from'@onekeyhq/shared/src/utils/hexUtils';import{getOnChainHistoryTxAssetInfo,getOnChainHistoryTxStatus}from'@onekeyhq/shared/src/utils/historyUtils';import{generateUUID}from'@onekeyhq/shared/src/utils/miscUtils';import{buildTxActionDirection,getStakingActionLabel}from'@onekeyhq/shared/src/utils/txActionUtils';import{addressIsEnsFormat}from'@onekeyhq/shared/src/utils/uriUtils';import{EServiceEndpointEnum}from'@onekeyhq/shared/types/endpoint';import{EOnChainHistoryTxType}from'@onekeyhq/shared/types/history';import{EDecodedTxActionType,EDecodedTxDirection}from'@onekeyhq/shared/types/tx';import{VaultContext}from\"./VaultContext\";if(platformEnv.isExtensionUi){debugger;throw new Error('engine/VaultBase is not allowed imported from ui');}export var VaultBaseChainOnly=function(_VaultContext){_inherits(VaultBaseChainOnly,_VaultContext);var _super=_createSuper(VaultBaseChainOnly);function VaultBaseChainOnly(){return _super.apply(this,arguments);}var _proto=VaultBaseChainOnly.prototype;_proto.getXpubFromAccount=function(){var _getXpubFromAccount=_asyncToGenerator(function*(networkAccount){return networkAccount.xpub;});function getXpubFromAccount(_x){return _getXpubFromAccount.apply(this,arguments);}return getXpubFromAccount;}();_proto.proxyJsonRPCCall=function(){var _proxyJsonRPCCall=_asyncToGenerator(function*(request){throw new NotImplemented();});function proxyJsonRPCCall(_x2){return _proxyJsonRPCCall.apply(this,arguments);}return proxyJsonRPCCall;}();_proto.addressFromBase=function(){var _addressFromBase=_asyncToGenerator(function*(account){throw new NotImplemented();});function addressFromBase(_x3){return _addressFromBase.apply(this,arguments);}return addressFromBase;}();_proto.addressToBase=function(){var _addressToBase=_asyncToGenerator(function*(address){throw new NotImplemented();});function addressToBase(_x4){return _addressToBase.apply(this,arguments);}return addressToBase;}();_proto.baseValidatePrivateKey=function(){var _baseValidatePrivateKey=_asyncToGenerator(function*(privateKey){if(!this.coreApi){throw new Error('coreApi not defined in Vault');}try{var networkInfo=yield this.getCoreApiNetworkInfo();var result=yield this.coreApi.getAddressFromPrivate({networkInfo,privateKeyRaw:privateKey});if(result.publicKey){return{isValid:true};}}catch(error){}return{isValid:false};});function baseValidatePrivateKey(_x5){return _baseValidatePrivateKey.apply(this,arguments);}return baseValidatePrivateKey;}();_proto.baseValidateGeneralInput=function(){var _baseValidateGeneralInput=_asyncToGenerator(function*(params){var input=decodeSensitiveText({encodedText:params.input});var{validateAddress,validateXprvt,validateXpub,validatePrivateKey}=params;var result={isValid:false};var isValid=false;var addressResult;var xpubResult;var xprvtResult;var privateKeyResult;if(validateAddress&&!isValid){try{addressResult=yield this.validateAddress(input);result.addressResult=addressResult;isValid=isValid||addressResult?.isValid;}catch(error){}}if(validateXpub&&!isValid){try{xpubResult=yield this.validateXpub(input);result.xpubResult=xpubResult;isValid=isValid||xpubResult?.isValid;}catch(error){}}if(validateXprvt&&!isValid){try{xprvtResult=yield this.validateXprvt(input);result.xprvtResult=xprvtResult;isValid=isValid||xprvtResult?.isValid;}catch(error){}}if(validatePrivateKey&&!isValid){try{privateKeyResult=yield this.validatePrivateKey(input);result.privateKeyResult=privateKeyResult;isValid=isValid||privateKeyResult?.isValid;}catch(error){}}result.isValid=Boolean(isValid);return{result,inputDecoded:input};});function baseValidateGeneralInput(_x6){return _baseValidateGeneralInput.apply(this,arguments);}return baseValidateGeneralInput;}();_proto.baseGetPrivateKeyFromImported=function(){var _baseGetPrivateKeyFromImported=_asyncToGenerator(function*(params){var input=decodeSensitiveText({encodedText:params.input});var privateKey=hexUtils.stripHexPrefix(input);privateKey=encodeSensitiveText({text:privateKey});return{privateKey};});function baseGetPrivateKeyFromImported(_x7){return _baseGetPrivateKeyFromImported.apply(this,arguments);}return baseGetPrivateKeyFromImported;}();_proto.validateAmountInputShown=function(){var _validateAmountInputShown=_asyncToGenerator(function*({toAddress}){return Promise.resolve({isValid:true});});function validateAmountInputShown(_x8){return _validateAmountInputShown.apply(this,arguments);}return validateAmountInputShown;}();_proto.checkIsDomainName=function(){var _checkIsDomainName=_asyncToGenerator(function*({name}){return addressIsEnsFormat(name);});function checkIsDomainName(_x9){return _checkIsDomainName.apply(this,arguments);}return checkIsDomainName;}();_proto.resolveDomainName=function(){var _resolveDomainName=_asyncToGenerator(function*({name}){return null;});function resolveDomainName(_x10){return _resolveDomainName.apply(this,arguments);}return resolveDomainName;}();_proto.getCustomRpcEndpointStatus=function(){var _getCustomRpcEndpointStatus=_asyncToGenerator(function*(params){throw new NotImplemented();});function getCustomRpcEndpointStatus(_x11){return _getCustomRpcEndpointStatus.apply(this,arguments);}return getCustomRpcEndpointStatus;}();_proto.checkFeeSupportInfo=function(){var _checkFeeSupportInfo=_asyncToGenerator(function*(params){throw new NotImplemented();});function checkFeeSupportInfo(_x12){return _checkFeeSupportInfo.apply(this,arguments);}return checkFeeSupportInfo;}();_proto.fetchTokenDetails=function(){var _fetchTokenDetails=_asyncToGenerator(function*(params){var isCustomNetwork=yield this.backgroundApi.serviceNetwork.isCustomNetwork({networkId:this.networkId});if(isCustomNetwork){return this.fetchTokenDetailsByRpc(params);}return this.fetchTokenDetailsByApi(params);});function fetchTokenDetails(_x13){return _fetchTokenDetails.apply(this,arguments);}return fetchTokenDetails;}();_proto.fetchTokenDetailsByApi=function(){var _fetchTokenDetailsByApi=_asyncToGenerator(function*(params){var _params$signal;var client=yield this.backgroundApi.serviceToken.getClient(EServiceEndpointEnum.Wallet);var resp=yield client.post('/wallet/v1/account/token/search',_omit(params,['walletId','accountId','signal']),{headers:yield this.backgroundApi.serviceAccountProfile._getWalletTypeHeader({accountId:params.accountId,walletId:params.walletId}),signal:(_params$signal=params.signal)!=null?_params$signal:undefined});return resp;});function fetchTokenDetailsByApi(_x14){return _fetchTokenDetailsByApi.apply(this,arguments);}return fetchTokenDetailsByApi;}();_proto.fetchTokenDetailsByRpc=function(){var _fetchTokenDetailsByRpc=_asyncToGenerator(function*(params){throw new NotImplemented();});function fetchTokenDetailsByRpc(_x15){return _fetchTokenDetailsByRpc.apply(this,arguments);}return fetchTokenDetailsByRpc;}();return _createClass(VaultBaseChainOnly);}(VaultContext);export var VaultBase=function(_VaultBaseChainOnly){_inherits(VaultBase,_VaultBaseChainOnly);var _super2=_createSuper(VaultBase);function VaultBase(...args){var _this;_this=_super2.call(this,...args);_this.uuid=generateUUID();_this.mutexBuildOnChainHistoryTxGetDBAccount=new Semaphore(1);return _this;}var _proto2=VaultBase.prototype;_proto2.init=function(){var _init=_asyncToGenerator(function*(config){yield this.initKeyring(config);});function init(_x16){return _init.apply(this,arguments);}return init;}();_proto2.initKeyring=function(){var _initKeyring=_asyncToGenerator(function*(config){if(!this.options.isChainOnly){this.keyring=yield config.keyringCreator(this);}});function initKeyring(_x17){return _initKeyring.apply(this,arguments);}return initKeyring;}();_proto2.broadcastTransaction=function(){var _broadcastTransaction=_asyncToGenerator(function*(params){var{signedTx}=params;var txid=yield this.backgroundApi.serviceSend.broadcastTransaction(params);return _objectSpread(_objectSpread({},signedTx),{},{txid,encodedTx:signedTx.encodedTx});});function broadcastTransaction(_x18){return _broadcastTransaction.apply(this,arguments);}return broadcastTransaction;}();_proto2.broadcastTransactionFromCustomRpc=function(){var _broadcastTransactionFromCustomRpc=_asyncToGenerator(function*(params){throw new NotImplemented();});function broadcastTransactionFromCustomRpc(_x19){return _broadcastTransactionFromCustomRpc.apply(this,arguments);}return broadcastTransactionFromCustomRpc;}();_proto2.validateSendAmount=function(){var _validateSendAmount=_asyncToGenerator(function*(params){return Promise.resolve(true);});function validateSendAmount(_x20){return _validateSendAmount.apply(this,arguments);}return validateSendAmount;}();_proto2.buildOnChainHistoryTxExtraInfo=function(){var _buildOnChainHistoryTxExtraInfo=_asyncToGenerator(function*({onChainHistoryTx}){return null;});function buildOnChainHistoryTxExtraInfo(_x21){return _buildOnChainHistoryTxExtraInfo.apply(this,arguments);}return buildOnChainHistoryTxExtraInfo;}();_proto2.precheckUnsignedTx=function(){var _precheckUnsignedTx=_asyncToGenerator(function*(params){return Promise.resolve(true);});function precheckUnsignedTx(_x22){return _precheckUnsignedTx.apply(this,arguments);}return precheckUnsignedTx;}();_proto2.buildEstimateFeeParams=function(){var _buildEstimateFeeParams=_asyncToGenerator(function*({encodedTx}){return Promise.resolve({encodedTx});});function buildEstimateFeeParams(_x23){return _buildEstimateFeeParams.apply(this,arguments);}return buildEstimateFeeParams;}();_proto2.buildParseTransactionParams=function(){var _buildParseTransactionParams=_asyncToGenerator(function*({encodedTx}){return Promise.resolve({encodedTx});});function buildParseTransactionParams(_x24){return _buildParseTransactionParams.apply(this,arguments);}return buildParseTransactionParams;}();_proto2.buildFetchHistoryListParams=function(){var _buildFetchHistoryListParams=_asyncToGenerator(function*(params){return Promise.resolve({});});function buildFetchHistoryListParams(_x25){return _buildFetchHistoryListParams.apply(this,arguments);}return buildFetchHistoryListParams;}();_proto2.buildHistoryTx=function(){var _buildHistoryTx=_asyncToGenerator(function*(params){var{historyTxToMerge,decodedTx,signedTx,isSigner,isLocalCreated,dbAccount}=params;var accountAddress=params.accountAddress||'';var xpub=params.xpub;var txid=signedTx?.txid||decodedTx?.txid||'';if(!txid){throw new Error('buildHistoryTx txid not found');}var{accountId,networkId}=decodedTx;try{var[a,x]=yield Promise.all([this.backgroundApi.serviceAccount.getAccountAddressForApi({dbAccount,accountId,networkId}),this.backgroundApi.serviceAccount.getAccountXpub({dbAccount,accountId,networkId})]);accountAddress=a;xpub=x;}catch(e){}decodedTx.txid=txid||decodedTx.txid;decodedTx.owner=accountAddress;decodedTx.xpub=xpub;if(isSigner){decodedTx.signer=accountAddress;}var historyId=accountUtils.buildLocalHistoryId({networkId,txid,accountAddress,xpub});var historyTx=_objectSpread(_objectSpread({id:historyId,isLocalCreated:Boolean(isLocalCreated)},historyTxToMerge),{},{decodedTx});return Promise.resolve(historyTx);});function buildHistoryTx(_x26){return _buildHistoryTx.apply(this,arguments);}return buildHistoryTx;}();_proto2.fixOnChainHistoryAccountData=function fixOnChainHistoryAccountData(params){var{accountId:originAccountId,networkId:originNetworkId,accountAddress:originAccountAddress,xpub:originXpub,onChainHistoryTx,allNetworkHistoryExtraItems}=params;var accountId=originAccountId;var networkId=originNetworkId;var accountAddress=originAccountAddress;var xpub=originXpub;if(originNetworkId===getNetworkIdsMap().onekeyall){var allNetworkAccount=allNetworkHistoryExtraItems?.find(function(i){var[_,txXpub]=onChainHistoryTx.key.split('_');if(!_isNil(i.accountXpub)){return i.networkId===onChainHistoryTx.networkId&&i.accountXpub===txXpub;}return i.networkId===onChainHistoryTx.networkId;});if(allNetworkAccount){accountId=allNetworkAccount.accountId;networkId=allNetworkAccount.networkId;accountAddress=allNetworkAccount.accountAddress;xpub=allNetworkAccount.accountXpub;}}return{accountId,networkId,accountAddress,xpub};};_proto2.buildOnChainHistoryTx=function(){var _buildOnChainHistoryTx=_asyncToGenerator(function*(params){var _this2=this;var{onChainHistoryTx,tokens,nfts,allNetworkHistoryExtraItems,dbAccountCache}=params;var{accountId,networkId,accountAddress,xpub}=this.fixOnChainHistoryAccountData({accountId:params.accountId,networkId:params.networkId,accountAddress:params.accountAddress,xpub:params.xpub,onChainHistoryTx,allNetworkHistoryExtraItems});if(params.accountId!==accountId){}var key=`${accountId}`;var dbAccount;if(dbAccountCache){yield this.mutexBuildOnChainHistoryTxGetDBAccount.runExclusive(_asyncToGenerator(function*(){dbAccount=dbAccountCache?.[key];if(!dbAccount){dbAccount=yield _this2.backgroundApi.serviceAccount.getDBAccountSafe({accountId});if(dbAccount){dbAccountCache[key]=dbAccount;}}}));}var vaultSettings=yield this.backgroundApi.serviceNetwork.getVaultSettings({networkId});try{var action=yield this.buildHistoryTxAction({tx:onChainHistoryTx,tokens,nfts});var decodedTx={txid:onChainHistoryTx.tx,owner:accountAddress,signer:onChainHistoryTx.from,to:onChainHistoryTx.to,nonce:onChainHistoryTx.nonce,actions:[action],status:getOnChainHistoryTxStatus(onChainHistoryTx.status),networkId,accountId,xpub,totalFeeInNative:onChainHistoryTx.gasFee,totalFeeFiatValue:onChainHistoryTx.gasFeeFiatValue,nativeAmount:vaultSettings.isUtxo?onChainHistoryTx.value:undefined,extraInfo:yield this.buildOnChainHistoryTxExtraInfo({onChainHistoryTx}),payload:{type:onChainHistoryTx.type,value:onChainHistoryTx.value,label:onChainHistoryTx.label}};decodedTx.updatedAt=new Date(onChainHistoryTx.timestamp*1000).getTime();decodedTx.createdAt=decodedTx.updatedAt;decodedTx.isFinal=true;return yield this.buildHistoryTx({dbAccount,decodedTx,accountAddress,xpub});}catch(e){return null;}});function buildOnChainHistoryTx(_x27){return _buildOnChainHistoryTx.apply(this,arguments);}return buildOnChainHistoryTx;}();_proto2.buildHistoryTxAction=function(){var _buildHistoryTxAction=_asyncToGenerator(function*({tx,tokens,nfts}){if(tx.type===EOnChainHistoryTxType.Approve&&tx.tokenApprove){return this.buildHistoryTxApproveAction({tx,tokens,nfts,tokenApprove:tx.tokenApprove});}if(_isEmpty(tx.sends)&&_isEmpty(tx.receives)){if(tx.type)return this.buildHistoryTxFunctionCallAction({tx});return this.buildHistoryTxUnknownAction({tx});}return this.buildHistoryTransferAction({tx,tokens,nfts});});function buildHistoryTxAction(_x28){return _buildHistoryTxAction.apply(this,arguments);}return buildHistoryTxAction;}();_proto2.buildHistoryTxFunctionCallAction=function(){var _buildHistoryTxFunctionCallAction=_asyncToGenerator(function*({tx}){var network=yield this.getNetwork();return{type:EDecodedTxActionType.FUNCTION_CALL,functionCall:{from:tx.from,to:tx.to,functionName:tx.label,functionHash:tx.functionCode,args:tx.params}};});function buildHistoryTxFunctionCallAction(_x29){return _buildHistoryTxFunctionCallAction.apply(this,arguments);}return buildHistoryTxFunctionCallAction;}();_proto2.buildHistoryTxUnknownAction=function(){var _buildHistoryTxUnknownAction=_asyncToGenerator(function*({tx}){var network=yield this.getNetwork();return{type:EDecodedTxActionType.UNKNOWN,unknownAction:{from:tx.from,to:tx.to,label:tx.label}};});function buildHistoryTxUnknownAction(_x30){return _buildHistoryTxUnknownAction.apply(this,arguments);}return buildHistoryTxUnknownAction;}();_proto2.buildHistoryTransferAction=function(){var _buildHistoryTransferAction=_asyncToGenerator(function*({tx,tokens,nfts}){var _this3=this;return{type:EDecodedTxActionType.ASSET_TRANSFER,assetTransfer:{from:tx.from,to:tx.to,label:tx.label,sends:tx.sends.map(function(send){return _this3.buildHistoryTransfer({transfer:send,tokens,nfts});}),receives:tx.receives.map(function(receive){return _this3.buildHistoryTransfer({transfer:receive,tokens,nfts});})}};});function buildHistoryTransferAction(_x31){return _buildHistoryTransferAction.apply(this,arguments);}return buildHistoryTransferAction;}();_proto2.buildHistoryTransfer=function buildHistoryTransfer({transfer,tokens,nfts}){var{icon,symbol,name,isNFT,isNative,price}=getOnChainHistoryTxAssetInfo({key:transfer.key,tokenAddress:transfer.token,tokens,nfts});return{from:transfer.from,to:transfer.to,tokenIdOnNetwork:transfer.token,amount:transfer.amount,label:transfer.label,isOwn:transfer.isOwn,icon,name,symbol,isNFT,isNative,price};};_proto2.buildHistoryTxApproveAction=function buildHistoryTxApproveAction({tx,tokens,nfts,tokenApprove}){var{icon,symbol,name,decimals}=getOnChainHistoryTxAssetInfo({key:tokenApprove.key,tokenAddress:tokenApprove.token,tokens,nfts});return{type:EDecodedTxActionType.TOKEN_APPROVE,tokenApprove:{from:tx.from,to:tx.to,spender:tokenApprove.spender,icon,name,symbol,decimals,label:tx.label,tokenIdOnNetwork:tokenApprove.token,amount:new BigNumber(tokenApprove.amount).shiftedBy(-decimals).toFixed(),isInfiniteAmount:tokenApprove.isInfiniteAmount}};};_proto2.buildTxTransferAssetAction=function(){var _buildTxTransferAssetAction=_asyncToGenerator(function*(params){var{from,to,transfers,data,application,isInternalSwap,isInternalStaking,internalStakingLabel,swapReceivedAddress,swapReceivedNetworkId}=params;var[accountAddress,network]=yield Promise.all([this.getAccountAddress(),this.getNetwork()]);var sendNativeTokenAmountBN=new BigNumber(0);var assetTransfer={from,to,sends:[],receives:[],application,isInternalSwap,isInternalStaking,internalStakingLabel,swapReceivedAddress,swapReceivedNetworkId};transfers.forEach(function(transfer){if(buildTxActionDirection({from:transfer.from,to:transfer.to,accountAddress})===EDecodedTxDirection.OUT){assetTransfer.sends.push(transfer);if(transfer.isNative){sendNativeTokenAmountBN=sendNativeTokenAmountBN.plus(new BigNumber(transfer.amount));}}else{assetTransfer.receives.push(transfer);}});assetTransfer.nativeAmount=sendNativeTokenAmountBN.toFixed();assetTransfer.nativeAmountValue=chainValueUtils.convertAmountToChainValue({value:sendNativeTokenAmountBN,network});return{type:EDecodedTxActionType.ASSET_TRANSFER,data,assetTransfer};});function buildTxTransferAssetAction(_x32){return _buildTxTransferAssetAction.apply(this,arguments);}return buildTxTransferAssetAction;}();_proto2.buildInternalSwapAction=function(){var _buildInternalSwapAction=_asyncToGenerator(function*(params){var _swapSendToken$logoUR,_swapSendToken$name,_swapReceiveToken$log,_swapReceiveToken$nam,_providerInfo$provide;var{swapData,swapInfo,swapToAddress}=params;var swapSendToken=swapInfo.sender.token;var swapReceiveToken=swapInfo.receiver.token;var providerInfo=swapInfo.swapBuildResData.result.info;var otherFeeInfos=swapInfo.swapBuildResData.result.fee?.otherFeeInfos;var otherFeeInfoTransfers=[];var transfers=[{from:swapInfo.accountAddress,to:'',tokenIdOnNetwork:swapSendToken.contractAddress,icon:(_swapSendToken$logoUR=swapSendToken.logoURI)!=null?_swapSendToken$logoUR:'',name:(_swapSendToken$name=swapSendToken.name)!=null?_swapSendToken$name:'',symbol:swapSendToken.symbol,amount:swapInfo.sender.amount,isNFT:false,isNative:swapSendToken.isNative,networkId:swapInfo.sender.accountInfo.networkId},{from:'',to:swapInfo.receivingAddress,tokenIdOnNetwork:swapReceiveToken.contractAddress,icon:(_swapReceiveToken$log=swapReceiveToken.logoURI)!=null?_swapReceiveToken$log:'',name:(_swapReceiveToken$nam=swapReceiveToken.name)!=null?_swapReceiveToken$nam:'',symbol:swapReceiveToken.symbol,amount:swapInfo.receiver.amount,isNFT:false,isNative:swapReceiveToken.isNative,networkId:swapInfo.receiver.accountInfo.networkId}];if(otherFeeInfos){otherFeeInfos.forEach(function(feeInfo){if(feeInfo.token.contractAddress===transfers[0].tokenIdOnNetwork){transfers[0].amount=new BigNumber(transfers[0].amount).plus(feeInfo.amount).toFixed();}else{var _feeInfo$token$logoUR,_feeInfo$token$name;otherFeeInfoTransfers.push({from:swapInfo.accountAddress,to:'',tokenIdOnNetwork:feeInfo.token.contractAddress,icon:(_feeInfo$token$logoUR=feeInfo.token.logoURI)!=null?_feeInfo$token$logoUR:'',name:(_feeInfo$token$name=feeInfo.token.name)!=null?_feeInfo$token$name:'',symbol:feeInfo.token.symbol,amount:feeInfo.amount,isNFT:false,isNative:feeInfo.token.isNative,networkId:swapInfo.sender.accountInfo.networkId});}});}transfers=[...otherFeeInfoTransfers,...transfers];var action=yield this.buildTxTransferAssetAction({from:swapInfo.accountAddress,to:swapToAddress!=null?swapToAddress:'',data:swapData,application:{name:providerInfo.providerName,icon:(_providerInfo$provide=providerInfo.providerLogo)!=null?_providerInfo$provide:''},isInternalSwap:true,swapReceivedAddress:swapInfo.receivingAddress,swapReceivedNetworkId:swapInfo.receiver.token.networkId,transfers});return action;});function buildInternalSwapAction(_x33){return _buildInternalSwapAction.apply(this,arguments);}return buildInternalSwapAction;}();_proto2.buildInternalStakingAction=function(){var _buildInternalStakingAction=_asyncToGenerator(function*(params){var _send$token$logoURI,_send$token$name,_receive$token$logoUR,_receive$token$name;var{stakingInfo,stakingData,accountAddress,stakingToAddress}=params;var{protocol,protocolLogoURI,send,receive}=stakingInfo;var transfers=[send&&{from:accountAddress,to:'',tokenIdOnNetwork:send.token.address,icon:(_send$token$logoURI=send.token.logoURI)!=null?_send$token$logoURI:'',name:(_send$token$name=send.token.name)!=null?_send$token$name:'',symbol:send.token.symbol,amount:send.amount,isNFT:false,isNative:send.token.isNative},receive&&{from:'',to:accountAddress,tokenIdOnNetwork:receive.token.address,icon:(_receive$token$logoUR=receive.token.logoURI)!=null?_receive$token$logoUR:'',name:(_receive$token$name=receive.token.name)!=null?_receive$token$name:'',symbol:receive.token.symbol,amount:receive.amount,isNFT:false,isNative:receive.token.isNative}].filter(Boolean);var action=yield this.buildTxTransferAssetAction({from:accountAddress,to:stakingToAddress!=null?stakingToAddress:'',data:stakingData,application:{name:protocol,icon:protocolLogoURI!=null?protocolLogoURI:''},isInternalStaking:true,internalStakingLabel:getStakingActionLabel({stakingInfo}),transfers});return action;});function buildInternalStakingAction(_x34){return _buildInternalStakingAction.apply(this,arguments);}return buildInternalStakingAction;}();_proto2.signTransaction=function(){var _signTransaction=_asyncToGenerator(function*(params){var _params$signOnly,_signedTx$encodedTx;var{unsignedTx}=params;params.signOnly=(_params$signOnly=params.signOnly)!=null?_params$signOnly:true;var signedTx=yield this.keyring.signTransaction(params);return _objectSpread(_objectSpread({},signedTx),{},{encodedTx:(_signedTx$encodedTx=signedTx.encodedTx)!=null?_signedTx$encodedTx:unsignedTx.encodedTx});});function signTransaction(_x35){return _signTransaction.apply(this,arguments);}return signTransaction;}();_proto2.getAccount=function(){var _getAccount=_asyncToGenerator(function*({dbAccount}={}){var account=dbAccount;if(!account||account?.id!==this.accountId){account=yield this.backgroundApi.serviceAccount.getDBAccount({accountId:this.accountId});}if(!accountUtils.isAccountCompatibleWithNetwork({account,networkId:this.networkId})){throw new Error(`account impl not matched to network: ${this.networkId} ${account.id?.slice(0,30)}`);}var networkInfo=yield this.getNetworkInfo();var externalAccount=account;var externalAccountAddress='';if(externalAccount.connectedAddresses){var buildExternalAccountAddress=function({key,fallbackIndex}){var _externalAccount$sele;if(!key){return'';}var index=(_externalAccount$sele=externalAccount.selectedAddress?.[key])!=null?_externalAccount$sele:fallbackIndex;var addresses=externalAccount.connectedAddresses?.[key]?.split(',').filter(Boolean)||[];return addresses?.[index]||addresses?.[fallbackIndex]||'';};externalAccountAddress=buildExternalAccountAddress({key:this.networkId,fallbackIndex:-1});if(!externalAccountAddress){var impl=yield this.getNetworkImpl();externalAccountAddress=buildExternalAccountAddress({key:impl,fallbackIndex:0});}if(!externalAccountAddress){externalAccountAddress=buildExternalAccountAddress({key:this.networkId,fallbackIndex:0});}}var addressDetail=yield this.buildAccountAddressDetail({networkInfo,account,networkId:this.networkId,externalAccountAddress});var address=addressDetail?.address||'';if(!address&&!addressDetail.allowEmptyAddress||!addressDetail.isValid){throw new Error('VaultBase.getAccount ERROR: address is invalid');}return _objectSpread(_objectSpread({},account),{},{addressDetail,address});});function getAccount(){return _getAccount.apply(this,arguments);}return getAccount;}();_proto2.getAccountAddress=function(){var _getAccountAddress=_asyncToGenerator(function*(){return(yield this.getAccount()).address;});function getAccountAddress(){return _getAccountAddress.apply(this,arguments);}return getAccountAddress;}();_proto2.getAccountPath=function(){var _getAccountPath=_asyncToGenerator(function*(){return(yield this.getAccount()).path;});function getAccountPath(){return _getAccountPath.apply(this,arguments);}return getAccountPath;}();_proto2.getAccountXpub=function(){var _getAccountXpub=_asyncToGenerator(function*({dbAccount}={}){var networkAccount=yield this.getAccount({dbAccount});return this.getXpubFromAccount(networkAccount);});function getAccountXpub(){return _getAccountXpub.apply(this,arguments);}return getAccountXpub;}();_proto2.fillTokensDetails=function(){var _fillTokensDetails=_asyncToGenerator(function*({tokensDetails}){return Promise.resolve(tokensDetails);});function fillTokensDetails(_x36){return _fillTokensDetails.apply(this,arguments);}return fillTokensDetails;}();_proto2.fillAccountDetails=function(){var _fillAccountDetails=_asyncToGenerator(function*({accountDetails}){return Promise.resolve(accountDetails);});function fillAccountDetails(_x37){return _fillAccountDetails.apply(this,arguments);}return fillAccountDetails;}();_proto2.isEarliestLocalPendingTx=function(){var _isEarliestLocalPendingTx=_asyncToGenerator(function*({encodedTx}){return true;});function isEarliestLocalPendingTx(_x38){return _isEarliestLocalPendingTx.apply(this,arguments);}return isEarliestLocalPendingTx;}();_proto2.buildReplaceEncodedTx=function(){var _buildReplaceEncodedTx=_asyncToGenerator(function*({decodedTx,replaceType}){return Promise.resolve(decodedTx.encodedTx);});function buildReplaceEncodedTx(_x39){return _buildReplaceEncodedTx.apply(this,arguments);}return buildReplaceEncodedTx;}();_proto2.attachFeeInfoToDAppEncodedTx=function(){var _attachFeeInfoToDAppEncodedTx=_asyncToGenerator(function*(params){return Promise.resolve(params.encodedTx);});function attachFeeInfoToDAppEncodedTx(_x40){return _attachFeeInfoToDAppEncodedTx.apply(this,arguments);}return attachFeeInfoToDAppEncodedTx;}();_proto2.activateToken=function(){var _activateToken=_asyncToGenerator(function*(params){throw new NotImplemented();});function activateToken(_x41){return _activateToken.apply(this,arguments);}return activateToken;}();_proto2.getAddressType=function(){var _getAddressType=_asyncToGenerator(function*({address}){return Promise.resolve({});});function getAddressType(_x42){return _getAddressType.apply(this,arguments);}return getAddressType;}();_proto2.buildStakeEncodedTx=function buildStakeEncodedTx(params){return Promise.resolve(params);};_proto2.fetchAccountDetails=function(){var _fetchAccountDetails=_asyncToGenerator(function*(params){var isCustomNetwork=yield this.backgroundApi.serviceNetwork.isCustomNetwork({networkId:this.networkId});if(isCustomNetwork){return this.fetchAccountDetailsByRpc(params);}return this.fetchAccountDetailsByApi(params);});function fetchAccountDetails(_x43){return _fetchAccountDetails.apply(this,arguments);}return fetchAccountDetails;}();_proto2.fetchAccountDetailsByApi=function(){var _fetchAccountDetailsByApi=_asyncToGenerator(function*(params){var queryParams=_objectSpread({},_omit(params,['accountId','signal']));var client=yield this.backgroundApi.serviceAccountProfile.getClient(EServiceEndpointEnum.Wallet);var resp=yield client.get(`/wallet/v1/account/get-account?${qs.stringify(_omitBy(queryParams,_isNil))}`,{headers:yield this.backgroundApi.serviceAccountProfile._getWalletTypeHeader({accountId:params.accountId}),signal:params.signal});return resp;});function fetchAccountDetailsByApi(_x44){return _fetchAccountDetailsByApi.apply(this,arguments);}return fetchAccountDetailsByApi;}();_proto2.fetchAccountDetailsByRpc=function(){var _fetchAccountDetailsByRpc=_asyncToGenerator(function*(params){throw new NotImplemented();});function fetchAccountDetailsByRpc(_x45){return _fetchAccountDetailsByRpc.apply(this,arguments);}return fetchAccountDetailsByRpc;}();_proto2.fetchTokenList=function(){var _fetchTokenList=_asyncToGenerator(function*(params){var isCustomNetwork=yield this.backgroundApi.serviceNetwork.isCustomNetwork({networkId:this.networkId});if(isCustomNetwork){return this.fetchTokenListByRpc(params);}return this.fetchTokenListByApi(params);});function fetchTokenList(_x46){return _fetchTokenList.apply(this,arguments);}return fetchTokenList;}();_proto2.fetchTokenListByApi=function(){var _fetchTokenListByApi=_asyncToGenerator(function*(params){var{serviceToken,serviceAccountProfile}=this.backgroundApi;var{requestApiParams,flag,signal,accountId}=params;if(requestApiParams.contractList){requestApiParams.contractList=requestApiParams.contractList.filter(function(contract){return contract!==null&&typeof contract==='string';});}var client=yield serviceToken.getClient(EServiceEndpointEnum.Wallet);var resp=yield client.post(`/wallet/v1/account/token/list?flag=${flag||''}`,requestApiParams,{signal,headers:yield serviceAccountProfile._getWalletTypeHeader({accountId})});return resp;});function fetchTokenListByApi(_x47){return _fetchTokenListByApi.apply(this,arguments);}return fetchTokenListByApi;}();_proto2.fetchTokenListByRpc=function(){var _fetchTokenListByRpc=_asyncToGenerator(function*(params){throw new NotImplemented();});function fetchTokenListByRpc(_x48){return _fetchTokenListByRpc.apply(this,arguments);}return fetchTokenListByRpc;}();_proto2.estimateFee=function(){var _estimateFee=_asyncToGenerator(function*(params){var isCustomNetwork=yield this.backgroundApi.serviceNetwork.isCustomNetwork({networkId:this.networkId});if(isCustomNetwork){return this.estimateFeeByRpc(params);}return this.estimateFeeByApi(params);});function estimateFee(_x49){return _estimateFee.apply(this,arguments);}return estimateFee;}();_proto2.estimateFeeByApi=function(){var _estimateFeeByApi=_asyncToGenerator(function*(params){var{accountId}=params,rest=_objectWithoutProperties(params,_excluded);var client=yield this.backgroundApi.serviceGas.getClient(EServiceEndpointEnum.Wallet);var resp=yield client.post('/wallet/v1/account/estimate-fee',rest,{headers:yield this.backgroundApi.serviceAccountProfile._getWalletTypeHeader({accountId})});return resp;});function estimateFeeByApi(_x50){return _estimateFeeByApi.apply(this,arguments);}return estimateFeeByApi;}();_proto2.estimateFeeByRpc=function(){var _estimateFeeByRpc=_asyncToGenerator(function*(params){throw new NotImplemented();});function estimateFeeByRpc(_x51){return _estimateFeeByRpc.apply(this,arguments);}return estimateFeeByRpc;}();_proto2.fetchAccountHistoryDetail=function(){var _fetchAccountHistoryDetail=_asyncToGenerator(function*(params){var isCustomNetwork=yield this.backgroundApi.serviceNetwork.isCustomNetwork({networkId:this.networkId});if(isCustomNetwork){return this.fetchAccountHistoryDetailByRpc(params);}return this.fetchAccountHistoryDetailByApi(params);});function fetchAccountHistoryDetail(_x52){return _fetchAccountHistoryDetail.apply(this,arguments);}return fetchAccountHistoryDetail;}();_proto2.fetchAccountHistoryDetailByApi=function(){var _fetchAccountHistoryDetailByApi=_asyncToGenerator(function*(params){var{accountId}=params,rest=_objectWithoutProperties(params,_excluded2);var client=yield this.backgroundApi.serviceGas.getClient(EServiceEndpointEnum.Wallet);var resp=yield client.get('/wallet/v1/account/history/detail',{params:rest,headers:yield this.backgroundApi.serviceAccountProfile._getWalletTypeHeader({accountId})});return resp;});function fetchAccountHistoryDetailByApi(_x53){return _fetchAccountHistoryDetailByApi.apply(this,arguments);}return fetchAccountHistoryDetailByApi;}();_proto2.fetchAccountHistoryDetailByRpc=function(){var _fetchAccountHistoryDetailByRpc=_asyncToGenerator(function*(params){throw new NotImplemented();});function fetchAccountHistoryDetailByRpc(_x54){return _fetchAccountHistoryDetailByRpc.apply(this,arguments);}return fetchAccountHistoryDetailByRpc;}();_proto2.buildOkxSwapEncodedTx=function(){var _buildOkxSwapEncodedTx=_asyncToGenerator(function*(params){throw new NotImplemented();});function buildOkxSwapEncodedTx(_x55){return _buildOkxSwapEncodedTx.apply(this,arguments);}return buildOkxSwapEncodedTx;}();return _createClass(VaultBase);}(VaultBaseChainOnly);","import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import accountUtils from'@onekeyhq/shared/src/utils/accountUtils';import networkUtils from'@onekeyhq/shared/src/utils/networkUtils';import{getVaultSettings as _getVaultSettings,getVaultSettingsNetworkInfo}from\"../settings\";export var VaultContext=function(){function VaultContext(options){this.options=options;this.networkId=options.networkId||'';this.accountId=options.accountId||'';this.backgroundApi=options.backgroundApi;this.walletId=options.walletId||(this.accountId?accountUtils.getWalletIdFromAccountId({accountId:this.accountId}):'');if(!this.walletId&&!this.options.isChainOnly){throw new Error('can not get correct walletId');}}var _proto=VaultContext.prototype;_proto.getNetworkId=function(){var _getNetworkId=_asyncToGenerator(function*(){return this.networkId;});function getNetworkId(){return _getNetworkId.apply(this,arguments);}return getNetworkId;}();_proto.getNetwork=function(){var _getNetwork=_asyncToGenerator(function*({cached}={}){if(!cached||!this._network||this._network.id!==this.networkId){var network=yield this.backgroundApi.serviceNetwork.getNetwork({networkId:this.networkId});this._network=network;}return this._network;});function getNetwork(){return _getNetwork.apply(this,arguments);}return getNetwork;}();_proto.getNetworkChainId=function(){var _getNetworkChainId=_asyncToGenerator(function*({hex=false}={}){return networkUtils.getNetworkChainId({networkId:this.networkId,hex});});function getNetworkChainId(){return _getNetworkChainId.apply(this,arguments);}return getNetworkChainId;}();_proto.getNetworkImpl=function(){var _getNetworkImpl=_asyncToGenerator(function*(){return networkUtils.getNetworkImpl({networkId:this.networkId});});function getNetworkImpl(){return _getNetworkImpl.apply(this,arguments);}return getNetworkImpl;}();_proto.getVaultSettings=function(){var _getVaultSettings2=_asyncToGenerator(function*(){return _getVaultSettings({networkId:this.networkId});});function getVaultSettings(){return _getVaultSettings2.apply(this,arguments);}return getVaultSettings;}();_proto.getNetworkInfo=function(){var _getNetworkInfo=_asyncToGenerator(function*(){return getVaultSettingsNetworkInfo({networkId:this.networkId});});function getNetworkInfo(){return _getNetworkInfo.apply(this,arguments);}return getNetworkInfo;}();_proto.getCoreApiNetworkInfo=function(){var _getCoreApiNetworkInfo=_asyncToGenerator(function*(){var network=yield this.getNetwork();var networkInfo=yield this.getNetworkInfo();var{addressPrefix,curve}=networkInfo;var networkImpl=yield this.getNetworkImpl();var chainId=yield this.getNetworkChainId({hex:false});var{isTestnet}=network;var{networkId}=this;return{isTestnet,networkChainCode:network.code,chainId,networkId,networkImpl,addressPrefix,curve};});function getCoreApiNetworkInfo(){return _getCoreApiNetworkInfo.apply(this,arguments);}return getCoreApiNetworkInfo;}();_proto.getRpcUrl=function(){var _getRpcUrl=_asyncToGenerator(function*(){return'';});function getRpcUrl(){return _getRpcUrl.apply(this,arguments);}return getRpcUrl;}();_proto.destroy=function(){var _destroy=_asyncToGenerator(function*(){});function destroy(){return _destroy.apply(this,arguments);}return destroy;}();return _createClass(VaultContext);}();","import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import{NotImplemented}from'@onekeyhq/shared/src/errors';import{KeyringExternalBase}from\"../../base/KeyringExternalBase\";export var KeyringExternal=function(_KeyringExternalBase){_inherits(KeyringExternal,_KeyringExternalBase);var _super=_createSuper(KeyringExternal);function KeyringExternal(){return _super.apply(this,arguments);}var _proto=KeyringExternal.prototype;_proto.signMessage=function signMessage(params){throw new NotImplemented();};_proto.signTransaction=function signTransaction(params){throw new NotImplemented();};return _createClass(KeyringExternal);}(KeyringExternalBase);","import{keccak256}from'@ethersproject/keccak256';import{BigInteger}from'biginteger';import BigNumber from'bignumber.js';var CRYPTONOTE_PUBLIC_ADDRESS_BASE58_PREFIX=185;var CRYPTONOTE_PUBLIC_INTEGRATED_ADDRESS_BASE58_PREFIX=29;var CRYPTONOTE_PUBLIC_SUBADDRESS_BASE58_PREFIX=52;export function encodeVarInt(number){var numberBI=new BigInteger(number);var out='';while(numberBI.compare(0x80)>=0){out+=`0${(numberBI.lowVal()&0x7f|0x80).toString(16)}`.slice(-2);numberBI=numberBI.divide(new BigInteger(2).pow(7));}out+=`0${numberBI.toJSValue().toString(16)}`.slice(-2);return out;}export function integerToLittleEndianHex({number,bytes}){var _hexString$match;var hexString=number.toString(16);if(hexString.length%2!==0){hexString=`0${hexString}`;}while(hexString.length/2<bytes){hexString=`00${hexString}`;}var littleEndianHex=((_hexString$match=hexString.match(/.{2}/g))!=null?_hexString$match:[]).reverse().join('');return littleEndianHex;}export function hexToBin(hex){if(hex.length%2!==0)throw new Error('Hex string has invalid length!');var result=new Uint8Array(hex.length/2);for(var i=0;i<hex.length/2;i+=1){result[i]=parseInt(hex.slice(i*2,i*2+2),16);}return result;}export function validHex(hex){var exp=new RegExp(`[0-9a-fA-F]{${hex.length}}`);return exp.test(hex);}export function cnFastHash(input){if(input.length%2!==0||!validHex(input)){throw new Error('Input invalid');}return keccak256(hexToBin(input));}export function strToBin(str){var res=new Uint8Array(str.length);for(var i=0;i<str.length;i+=1){res[i]=str.charCodeAt(i);}return res;}export function binToHex(bin){var out=[];for(var i=0;i<bin.length;i+=1){out.push(`0${bin[i].toString(16)}`.slice(-2));}return out.join('');}export function uint64To8be(num,size){var numBN=new BigNumber(num);var res=new Uint8Array(size);if(size<1||size>8){throw new Error('Invalid input length');}var twopow8=new BigNumber(2).pow(8);for(var i=size-1;i>=0;i-=1){res[i]=numBN.mod(twopow8).toNumber();numBN=numBN.dividedToIntegerBy(twopow8);}return res;}export function cnBase58Decode(address){var alphabetStr='123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz';var alphabet=[];for(var i=0;i<alphabetStr.length;i+=1){alphabet.push(alphabetStr.charCodeAt(i));}var encodedBlockSizes=[0,2,3,5,6,7,9,10,11];var alphabetSize=alphabet.length;var fullBlockSize=8;var fullEncodedBlockSize=11;var UINT64_MAX=new BigNumber(2).pow(64);var decodeBlock=function(data,buf,index){if(data.length<1||data.length>fullEncodedBlockSize){throw new Error(`Invalid block length: ${data.length}`);}var resSize=encodedBlockSizes.indexOf(data.length);if(resSize<=0){throw new Error('Invalid block size');}var resNum=new BigNumber(0);var order=new BigNumber(1);for(var _i=data.length-1;_i>=0;_i-=1){var digit=alphabet.indexOf(data[_i]);if(digit<0){throw new Error('Invalid symbol');}var product=order.multipliedBy(digit).plus(resNum);if(product.comparedTo(UINT64_MAX)===1){throw new Error('Overflow');}resNum=product;order=order.multipliedBy(alphabetSize);}if(resSize<fullBlockSize&&new BigNumber(2).pow(8*resSize).comparedTo(resNum)<=0){throw new Error('Overflow 2');}buf.set(uint64To8be(resNum,resSize),index);return buf;};var addressArray=strToBin(address);if(addressArray.length===0){return'';}var fullBlockCount=Math.floor(addressArray.length/fullEncodedBlockSize);var lastBlockSize=addressArray.length%fullEncodedBlockSize;var lastBlockDecodedSize=encodedBlockSizes.indexOf(lastBlockSize);if(lastBlockDecodedSize<0){throw new Error('Invalid encoded length');}var dataSize=fullBlockCount*fullBlockSize+lastBlockDecodedSize;var data=new Uint8Array(dataSize);for(var _i2=0;_i2<fullBlockCount;_i2+=1){decodeBlock(addressArray.subarray(_i2*fullEncodedBlockSize,_i2*fullEncodedBlockSize+fullEncodedBlockSize),data,_i2*fullBlockSize);}if(lastBlockSize>0){decodeBlock(addressArray.subarray(fullBlockCount*fullEncodedBlockSize,fullBlockCount*fullEncodedBlockSize+lastBlockSize),data,fullBlockCount*fullBlockSize);}return binToHex(data);}export function decodeAddress(address){var dec=cnBase58Decode(address);var expectedPrefix=encodeVarInt(CRYPTONOTE_PUBLIC_ADDRESS_BASE58_PREFIX);var expectedPrefixInt=encodeVarInt(CRYPTONOTE_PUBLIC_INTEGRATED_ADDRESS_BASE58_PREFIX);var expectedPrefixSub=encodeVarInt(CRYPTONOTE_PUBLIC_SUBADDRESS_BASE58_PREFIX);var prefix=dec.slice(0,expectedPrefix.length);if(prefix!==expectedPrefix&&prefix!==expectedPrefixInt&&prefix!==expectedPrefixSub){throw new Error('Invalid address prefix');}dec=dec.slice(expectedPrefix.length);var spend=dec.slice(0,64);var view=dec.slice(64,128);return{spend,view};}export function serializeTransaction({signTxParams,encodedTx,payload}){var rawTx='';var{txKey,computedKeyImages,signatures,outputKeys}=payload;var version='01';var unlockTime='00';var inputTypeTag='02';var outputTypeTag='02';var txPubkeyTag='01';var fromAddressTag='04';var toAddressTag='05';var amountTag='06';var txSecTag='07';var extraNonceTag='02';var extraNoncePaymentIdTag='00';var decodedFrom=decodeAddress(encodedTx.from);var decodedTo=decodeAddress(encodedTx.to);var totalInputAmountBN=signTxParams.inputs.reduce(function(acc,input){return acc.plus(input.amount);},new BigNumber(0));var chargeAmount=totalInputAmountBN.minus(signTxParams.amount).minus(signTxParams.fee);rawTx+=version;rawTx+=unlockTime;rawTx+=encodeVarInt(signTxParams.inputs.length);for(var i=0;i<signTxParams.inputs.length;i+=1){var input=signTxParams.inputs[i];rawTx+=inputTypeTag;rawTx+=encodeVarInt(input.amount);rawTx+=encodeVarInt(1);rawTx+=encodeVarInt(input.globalIndex);rawTx+=computedKeyImages[i];}rawTx+=encodeVarInt(outputKeys.length);for(var _i3=0;_i3<outputKeys.length;_i3+=1){var outputKey=outputKeys[_i3];rawTx+=encodeVarInt(_i3===outputKeys.length-1&&chargeAmount.gt(0)?chargeAmount.toNumber():Number(signTxParams.amount));rawTx+=outputTypeTag;rawTx+=outputKey;}var extra='';if(signTxParams.paymentIdHex){extra+=extraNonceTag;extra+='21';extra+=extraNoncePaymentIdTag;extra+=signTxParams.paymentIdHex;}extra+=txPubkeyTag;extra+=txKey.ephemeralTxPubKey;extra+=fromAddressTag;extra+=decodedFrom.spend;extra+=decodedFrom.view;extra+=toAddressTag;extra+=decodedTo.spend;extra+=decodedTo.view;extra+=amountTag;extra+=integerToLittleEndianHex({number:Number(signTxParams.amount),bytes:8});extra+=txSecTag;extra+=txKey.ephemeralTxSecKey;rawTx+=encodeVarInt(extra.length/2);rawTx+=extra;for(var signature of signatures){rawTx+=signature;}return rawTx;}","import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import BigNumber from'bignumber.js';import coreChainApi from'@onekeyhq/core/src/instance/coreChainApi';import{NotImplemented}from'@onekeyhq/shared/src/errors';import{convertDeviceResponse}from'@onekeyhq/shared/src/errors/utils/deviceErrorUtils';import accountUtils from'@onekeyhq/shared/src/utils/accountUtils';import{checkIsDefined}from'@onekeyhq/shared/src/utils/assertUtils';import hexUtils from'@onekeyhq/shared/src/utils/hexUtils';import{KeyringHardwareBase}from\"../../base/KeyringHardwareBase\";import{cnFastHash,serializeTransaction}from\"./utils\";export var KeyringHardware=function(_KeyringHardwareBase){_inherits(KeyringHardware,_KeyringHardwareBase);var _super=_createSuper(KeyringHardware);function KeyringHardware(...args){var _this;_this=_super.call(this,...args);_this.coreApi=coreChainApi.dynex.hd;_this.hwSdkNetwork='dynex';return _this;}var _proto=KeyringHardware.prototype;_proto.buildHwAllNetworkPrepareAccountsParams=function(){var _buildHwAllNetworkPrepareAccountsParams=_asyncToGenerator(function*(params){return{network:this.hwSdkNetwork,path:params.path,showOnOneKey:false};});function buildHwAllNetworkPrepareAccountsParams(_x){return _buildHwAllNetworkPrepareAccountsParams.apply(this,arguments);}return buildHwAllNetworkPrepareAccountsParams;}();_proto.prepareAccounts=function prepareAccounts(params){var _this2=this;return this.basePrepareHdNormalAccounts(params,{buildAddressesInfo:function(){var _ref=_asyncToGenerator(function*({usedIndexes}){var dnxAddresses=yield _this2.baseGetDeviceAccountAddresses({params,usedIndexes,sdkGetAddressFn:function(){var _ref2=_asyncToGenerator(function*({connectId,deviceId,pathPrefix,pathSuffix,template,showOnOnekeyFn}){var buildFullPath=function(p){return accountUtils.buildPathFromTemplate({template,index:p.index});};var allNetworkAccounts=yield _this2.getAllNetworkPrepareAccounts({params,usedIndexes,buildPath:buildFullPath,buildResultAccount:function({account}){return{path:account.path,address:account.payload?.address||'',pub:account.payload?.pub||''};},hwSdkNetwork:_this2.hwSdkNetwork});if(allNetworkAccounts){return allNetworkAccounts;}throw new Error('use sdk allNetworkGetAddress instead');});return function sdkGetAddressFn(_x3){return _ref2.apply(this,arguments);};}()});var ret=[];var addressRelPath='';for(var i=0;i<dnxAddresses.length;i+=1){var item=dnxAddresses[i];var{path,address}=item;var addressInfo={address:address!=null?address:'',publicKey:'',path,relPath:addressRelPath,xpub:'',addresses:{}};ret.push(addressInfo);}return ret;});return function buildAddressesInfo(_x2){return _ref.apply(this,arguments);};}()});};_proto.signTransaction=function(){var _signTransaction=_asyncToGenerator(function*(params){var{unsignedTx,deviceParams}=params;var network=yield this.getNetwork();var encodedTx=unsignedTx.encodedTx;var sdk=yield this.getHardwareSDKInstance();var path=yield this.vault.getAccountPath();var{deviceCommonParams,dbDevice}=checkIsDefined(deviceParams);var{connectId,deviceId}=dbDevice;var signTxParams={path,inputs:encodedTx.inputs,toAddress:encodedTx.to,amount:new BigNumber(encodedTx.amount).shiftedBy(network.decimals).toFixed(),fee:new BigNumber(encodedTx.fee).shiftedBy(network.feeMeta.decimals).toFixed(),paymentIdHex:encodedTx.paymentId};var result=yield convertDeviceResponse(_asyncToGenerator(function*(){return sdk.dnxSignTransaction(connectId,deviceId,_objectSpread(_objectSpread({},signTxParams),deviceCommonParams));}));var rawTx=serializeTransaction({encodedTx,signTxParams,payload:result});return{txid:hexUtils.stripHexPrefix(cnFastHash(rawTx)),rawTx,encodedTx:unsignedTx.encodedTx};});function signTransaction(_x4){return _signTransaction.apply(this,arguments);}return signTransaction;}();_proto.signMessage=function signMessage(params){throw new NotImplemented();};return _createClass(KeyringHardware);}(KeyringHardwareBase);","import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import coreChainApi from'@onekeyhq/core/src/instance/coreChainApi';import{NotImplemented}from'@onekeyhq/shared/src/errors';import{ETranslations}from'@onekeyhq/shared/src/locale';import{appLocale}from'@onekeyhq/shared/src/locale/appLocale';import{KeyringHdBase}from\"../../base/KeyringHdBase\";export var KeyringHd=function(_KeyringHdBase){_inherits(KeyringHd,_KeyringHdBase);var _super=_createSuper(KeyringHd);function KeyringHd(...args){var _this;_this=_super.call(this,...args);_this.coreApi=coreChainApi.dynex.hd;return _this;}var _proto=KeyringHd.prototype;_proto.getPrivateKeys=function(){var _getPrivateKeys=_asyncToGenerator(function*(){throw new NotImplemented('Method not implemented');});function getPrivateKeys(){return _getPrivateKeys.apply(this,arguments);}return getPrivateKeys;}();_proto.prepareAccounts=function(){var _prepareAccounts=_asyncToGenerator(function*(){throw new Error(appLocale.intl.formatMessage({id:ETranslations.global_bulk_add_account_dnx_error}));});function prepareAccounts(){return _prepareAccounts.apply(this,arguments);}return prepareAccounts;}();_proto.signTransaction=function(){var _signTransaction=_asyncToGenerator(function*(){throw new NotImplemented('Method not implemented');});function signTransaction(){return _signTransaction.apply(this,arguments);}return signTransaction;}();_proto.signMessage=function(){var _signMessage=_asyncToGenerator(function*(){throw new NotImplemented('Method not implemented');});function signMessage(){return _signMessage.apply(this,arguments);}return signMessage;}();return _createClass(KeyringHd);}(KeyringHdBase);","import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import coreChainApi from'@onekeyhq/core/src/instance/coreChainApi';import{NotImplemented}from'@onekeyhq/shared/src/errors';import{KeyringImportedBase}from\"../../base/KeyringImportedBase\";export var KeyringImported=function(_KeyringImportedBase){_inherits(KeyringImported,_KeyringImportedBase);var _super=_createSuper(KeyringImported);function KeyringImported(...args){var _this;_this=_super.call(this,...args);_this.coreApi=coreChainApi.dynex.imported;return _this;}var _proto=KeyringImported.prototype;_proto.getPrivateKeys=function(){var _getPrivateKeys=_asyncToGenerator(function*(){throw new NotImplemented('Method not implemented');});function getPrivateKeys(){return _getPrivateKeys.apply(this,arguments);}return getPrivateKeys;}();_proto.prepareAccounts=function(){var _prepareAccounts=_asyncToGenerator(function*(){throw new NotImplemented('Method not implemented');});function prepareAccounts(){return _prepareAccounts.apply(this,arguments);}return prepareAccounts;}();_proto.signTransaction=function(){var _signTransaction=_asyncToGenerator(function*(){throw new NotImplemented('Method not implemented');});function signTransaction(){return _signTransaction.apply(this,arguments);}return signTransaction;}();_proto.signMessage=function(){var _signMessage=_asyncToGenerator(function*(){throw new NotImplemented('Method not implemented');});function signMessage(){return _signMessage.apply(this,arguments);}return signMessage;}();return _createClass(KeyringImported);}(KeyringImportedBase);","import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import _get from\"@babel/runtime/helpers/get\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import{KeyringWatchingBase}from\"../../base/KeyringWatchingBase\";export var KeyringWatching=function(_KeyringWatchingBase){_inherits(KeyringWatching,_KeyringWatchingBase);var _super=_createSuper(KeyringWatching);function KeyringWatching(){return _super.apply(this,arguments);}var _proto=KeyringWatching.prototype;_proto.prepareAccounts=function(){var _prepareAccounts=_asyncToGenerator(function*(params){return _get(_getPrototypeOf(KeyringWatching.prototype),\"basePrepareSimpleWatchingAccounts\",this).call(this,params);});function prepareAccounts(_x){return _prepareAccounts.apply(this,arguments);}return prepareAccounts;}();return _createClass(KeyringWatching);}(KeyringWatchingBase);","import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import Axios from'axios';import{JsonRPCRequest}from'@onekeyhq/shared/src/request/JsonRPCRequest';import timerUtils from'@onekeyhq/shared/src/utils/timerUtils';export var ClientDnx=function(){function ClientDnx({url}){this.rpc=new JsonRPCRequest(`${url}/json_rpc`);this.axios=Axios.create({baseURL:url,timeout:timerUtils.getTimeDurationMs({seconds:30})});}var _proto=ClientDnx.prototype;_proto.getBlockCount=function(){var _getBlockCount=_asyncToGenerator(function*(){var resp=yield this.rpc.call('getblockcount',[]);return resp.count;});function getBlockCount(){return _getBlockCount.apply(this,arguments);}return getBlockCount;}();_proto.broadcastTransaction=function(){var _broadcastTransaction=_asyncToGenerator(function*({rawTx}){var resp=yield this.axios.post('/sendrawtransaction',{tx_as_hex:rawTx,do_not_relay:false});if(!resp.data.status||resp.data.status!=='OK')throw new Error('Failed to send transaction');return resp.data.status;});function broadcastTransaction(_x){return _broadcastTransaction.apply(this,arguments);}return broadcastTransaction;}();return _createClass(ClientDnx);}();","import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _isEmpty from\"lodash/isEmpty\";import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import BigNumber from'bignumber.js';import{EOutputsTypeForCoinSelect}from'@onekeyhq/core/src/chains/btc/types';import coreChainApi from'@onekeyhq/core/src/instance/coreChainApi';import{coinSelect}from'@onekeyhq/core/src/utils/coinSelectUtils';import{InsufficientBalance,NotImplemented,OneKeyInternalError}from'@onekeyhq/shared/src/errors';import{memoizee}from'@onekeyhq/shared/src/utils/cacheUtils';import timerUtils from'@onekeyhq/shared/src/utils/timerUtils';import{EDecodedTxActionType,EDecodedTxStatus}from'@onekeyhq/shared/types/tx';import{VaultBase}from\"../../base/VaultBase\";import{KeyringExternal}from\"./KeyringExternal\";import{KeyringHardware}from\"./KeyringHardware\";import{KeyringHd}from\"./KeyringHd\";import{KeyringImported}from\"./KeyringImported\";import{KeyringWatching}from\"./KeyringWatching\";import{ClientDnx}from\"./sdkDnx/ClientDnx\";var DEFAULT_TX_FEE=1_000_000;var Vault=function(_VaultBase){_inherits(Vault,_VaultBase);var _super=_createSuper(Vault);function Vault(...args){var _this;_this=_super.call(this,...args);_this.coreApi=coreChainApi.dynex.hd;_this.keyringMap={hd:KeyringHd,qr:undefined,hw:KeyringHardware,imported:KeyringImported,watching:KeyringWatching,external:KeyringExternal};_this._collectUnspentOutputs=memoizee(_asyncToGenerator(function*(){try{var{utxoList}=yield _this.backgroundApi.serviceAccountProfile.fetchAccountDetails({networkId:_this.networkId,accountId:_this.accountId,withUTXOList:true,withFrozenBalance:true});if(!utxoList){throw new OneKeyInternalError('Failed to get UTXO list.');}return utxoList.map(function(utxo){return{prevIndex:utxo.vout,globalIndex:utxo.globalIndex,txPubkey:utxo.txPubkey,prevOutPubkey:utxo.prevOutPubkey,amount:Number(utxo.value)};});}catch(e){throw new OneKeyInternalError('Failed to get UTXO list.');}}),{promise:true,max:1,maxAge:timerUtils.getTimeDurationMs({seconds:30})});_this._validateAddressCache=memoizee(function(){var _ref2=_asyncToGenerator(function*(address){try{var res=yield _this.backgroundApi.serviceValidator.serverValidateAddress({networkId:_this.networkId,address});if(res.data.data.isValid){return{normalizedAddress:address,displayAddress:address,isValid:true};}}catch(e){}return{normalizedAddress:'',displayAddress:'',isValid:false};});return function(_x){return _ref2.apply(this,arguments);};}(),{primitive:true,maxAge:timerUtils.getTimeDurationMs({minute:3}),max:10});return _this;}var _proto=Vault.prototype;_proto.buildAccountAddressDetail=function(){var _buildAccountAddressDetail=_asyncToGenerator(function*(params){var{account,networkId}=params;var{address}=account;return{networkId,normalizedAddress:address,displayAddress:address,address,baseAddress:address,isValid:true,allowEmptyAddress:false};});function buildAccountAddressDetail(_x2){return _buildAccountAddressDetail.apply(this,arguments);}return buildAccountAddressDetail;}();_proto.buildEncodedTx=function buildEncodedTx(params){var{transfersInfo}=params;if(transfersInfo&&!_isEmpty(transfersInfo)){if(transfersInfo.length===1){return this._buildEncodedTxFromTransfer({transferInfo:transfersInfo[0]});}throw new OneKeyInternalError('Batch transfers not supported');}throw new OneKeyInternalError();};_proto._buildEncodedTxFromTransfer=function(){var _buildEncodedTxFromTransfer2=_asyncToGenerator(function*(params){var{transferInfo}=params;var{tokenInfo}=transferInfo;if(!transferInfo.to){throw new Error('buildEncodedTx ERROR: transferInfo.to is missing');}if(!tokenInfo){throw new Error('buildEncodedTx ERROR: transferInfo.tokenInfo is missing');}var network=yield this.getNetwork();var unspentOutputs=yield this._collectUnspentOutputs();var{inputs,finalAmount}=this._collectInputs({unspentOutputs,amount:new BigNumber(transferInfo.amount).shiftedBy(network.decimals).toFixed(),fee:new BigNumber(DEFAULT_TX_FEE).toFixed(),network});return{from:transferInfo.from,to:transferInfo.to,amount:new BigNumber(finalAmount).shiftedBy(-network.decimals).toFixed(),paymentId:transferInfo.paymentId,fee:new BigNumber(DEFAULT_TX_FEE).shiftedBy(-network.feeMeta.decimals).toFixed(),inputs};});function _buildEncodedTxFromTransfer(_x3){return _buildEncodedTxFromTransfer2.apply(this,arguments);}return _buildEncodedTxFromTransfer;}();_proto._collectInputs=function _collectInputs({unspentOutputs,amount,fee,network}){var _inputsFromCoinSelect;var finalAmount=new BigNumber(amount);var totalUnspentOutputsAmount=unspentOutputs.reduce(function(acc,output){return acc.plus(output.amount);},new BigNumber(0));if(totalUnspentOutputsAmount.lte(fee)){throw new InsufficientBalance({info:{symbol:network.symbol}});}if(totalUnspentOutputsAmount.lt(new BigNumber(finalAmount).plus(fee))){finalAmount=totalUnspentOutputsAmount.minus(fee);}var inputsForCoinSelect=unspentOutputs.map(function(output){return _objectSpread(_objectSpread({txId:'',vout:0,value:output.amount,address:'',path:''},output),{},{amount:new BigNumber(output.amount).toFixed()});});var outputsForCoinSelect=[{type:EOutputsTypeForCoinSelect.Payment,address:'',value:finalAmount.plus(fee).toNumber()}];var{inputs:inputsFromCoinSelect}=coinSelect({inputsForCoinSelect,outputsForCoinSelect,feeRate:'0'});return{finalAmount:finalAmount.toFixed(),inputs:(_inputsFromCoinSelect=inputsFromCoinSelect?.map(function(input){var tempInput=input;return{globalIndex:tempInput.globalIndex,prevIndex:tempInput.prevIndex,prevOutPubkey:tempInput.prevOutPubkey,txPubkey:tempInput.txPubkey,amount:tempInput.amount};}))!=null?_inputsFromCoinSelect:[]};};_proto.buildDecodedTx=function(){var _buildDecodedTx=_asyncToGenerator(function*(params){var{unsignedTx}=params;var encodedTx=unsignedTx.encodedTx;var account=yield this.getAccount();var action={type:EDecodedTxActionType.UNKNOWN,unknownAction:{from:encodedTx.from,to:encodedTx.to}};var nativeToken=yield this.backgroundApi.serviceToken.getNativeToken({networkId:this.networkId,accountId:this.accountId});if(nativeToken){var _nativeToken$logoURI;var transfer={from:encodedTx.from,to:encodedTx.to,tokenIdOnNetwork:nativeToken.address,icon:(_nativeToken$logoURI=nativeToken.logoURI)!=null?_nativeToken$logoURI:'',name:nativeToken.name,symbol:nativeToken.symbol,amount:encodedTx.amount,isNFT:false,isNative:true};action=yield this.buildTxTransferAssetAction({from:transfer.from,to:transfer.to,transfers:[transfer]});}var decodedTx={txid:'',owner:account.address,signer:encodedTx.from||account.address,nonce:0,to:encodedTx.to,actions:[action],status:EDecodedTxStatus.Pending,networkId:this.networkId,accountId:this.accountId,xpub:account.xpub,encodedTx,extraInfo:{paymentId:encodedTx.paymentId}};return decodedTx;});function buildDecodedTx(_x4){return _buildDecodedTx.apply(this,arguments);}return buildDecodedTx;}();_proto.buildOnChainHistoryTxExtraInfo=function(){var _buildOnChainHistoryTxExtraInfo=_asyncToGenerator(function*({onChainHistoryTx}){return{paymentId:onChainHistoryTx.paymentId};});function buildOnChainHistoryTxExtraInfo(_x5){return _buildOnChainHistoryTxExtraInfo.apply(this,arguments);}return buildOnChainHistoryTxExtraInfo;}();_proto.buildUnsignedTx=function(){var _buildUnsignedTx=_asyncToGenerator(function*(params){var _params$encodedTx;var encodedTx=(_params$encodedTx=params.encodedTx)!=null?_params$encodedTx:yield this.buildEncodedTx(params);if(encodedTx){return this._buildUnsignedTxFromEncodedTx(encodedTx);}throw new OneKeyInternalError();});function buildUnsignedTx(_x6){return _buildUnsignedTx.apply(this,arguments);}return buildUnsignedTx;}();_proto._buildUnsignedTxFromEncodedTx=function(){var _buildUnsignedTxFromEncodedTx2=_asyncToGenerator(function*(encodedTx){return{encodedTx};});function _buildUnsignedTxFromEncodedTx(_x7){return _buildUnsignedTxFromEncodedTx2.apply(this,arguments);}return _buildUnsignedTxFromEncodedTx;}();_proto.updateUnsignedTx=function updateUnsignedTx(params){return Promise.resolve(params.unsignedTx);};_proto.validateAddress=function validateAddress(address){return this._validateAddressCache(address);};_proto.validateXpub=function validateXpub(xpub){throw new NotImplemented();};_proto.getPrivateKeyFromImported=function getPrivateKeyFromImported(params){throw new NotImplemented();};_proto.validateXprvt=function validateXprvt(xprvt){throw new NotImplemented();};_proto.validatePrivateKey=function validatePrivateKey(privateKey){throw new NotImplemented();};_proto.validateGeneralInput=function validateGeneralInput(params){throw new NotImplemented();};_proto.fillTokensDetails=function(){var _fillTokensDetails=_asyncToGenerator(function*({tokensDetails}){var filledTokensDetails=[];for(var token of tokensDetails){if(token.info.isNative){if(yield this._checkHasLocalTxOutInPending()){filledTokensDetails.push(_objectSpread(_objectSpread({},token),{},{balance:'0',balanceParsed:'0',frozenBalance:token.balance,frozenBalanceParsed:token.balanceParsed,totalBalance:token.balance,totalBalanceParsed:token.balanceParsed}));}else{filledTokensDetails.push(_objectSpread(_objectSpread({},token),{},{frozenBalance:'0',frozenBalanceParsed:'0',totalBalance:token.balance,totalBalanceParsed:token.balanceParsed}));}}else{filledTokensDetails.push(token);}}return filledTokensDetails;});function fillTokensDetails(_x8){return _fillTokensDetails.apply(this,arguments);}return fillTokensDetails;}();_proto.fillAccountDetails=function(){var _fillAccountDetails=_asyncToGenerator(function*({accountDetails}){if(yield this._checkHasLocalTxOutInPending()){return _objectSpread(_objectSpread({},accountDetails),{},{balance:'0',balanceParsed:'0',frozenBalance:accountDetails.balance,frozenBalanceParsed:accountDetails.balanceParsed,totalBalance:accountDetails.balance,totalBalanceParsed:accountDetails.balanceParsed});}return _objectSpread(_objectSpread({},accountDetails),{},{frozenBalance:'0',frozenBalanceParsed:'0',totalBalance:accountDetails.balance,totalBalanceParsed:accountDetails.balanceParsed});});function fillAccountDetails(_x9){return _fillAccountDetails.apply(this,arguments);}return fillAccountDetails;}();_proto._checkHasLocalTxOutInPending=function(){var _checkHasLocalTxOutInPending2=_asyncToGenerator(function*(){var hasLocalTxOutInPending=false;var accountAddress=yield this.getAccountAddress();var xpub=yield this.getAccountXpub();var pendingTxs=yield this.backgroundApi.serviceHistory.getAccountLocalHistoryPendingTxs({networkId:this.networkId,accountAddress,xpub});if(pendingTxs.length>0){yield this.backgroundApi.serviceHistory.fetchAccountHistory({networkId:this.networkId,accountId:this.accountId});pendingTxs=yield this.backgroundApi.serviceHistory.getAccountLocalHistoryPendingTxs({networkId:this.networkId,accountAddress,xpub});}for(var i=0,len=pendingTxs.length;i<len;i=+1){var item=pendingTxs[i];var action=item.decodedTx.actions[0];if(action.type===EDecodedTxActionType.ASSET_TRANSFER&&action.assetTransfer?.sends[0].isNative){hasLocalTxOutInPending=true;break;}}return hasLocalTxOutInPending;});function _checkHasLocalTxOutInPending(){return _checkHasLocalTxOutInPending2.apply(this,arguments);}return _checkHasLocalTxOutInPending;}();_proto.getCustomRpcEndpointStatus=function(){var _getCustomRpcEndpointStatus=_asyncToGenerator(function*(params){var start=performance.now();var client=new ClientDnx({url:params.rpcUrl});var bestBlockNumber=yield client.getBlockCount();return{responseTime:Math.floor(performance.now()-start),bestBlockNumber};});function getCustomRpcEndpointStatus(_x10){return _getCustomRpcEndpointStatus.apply(this,arguments);}return getCustomRpcEndpointStatus;}();_proto.broadcastTransactionFromCustomRpc=function(){var _broadcastTransactionFromCustomRpc=_asyncToGenerator(function*(params){var{customRpcInfo,signedTx}=params;var rpcUrl=customRpcInfo.rpc;if(!rpcUrl){throw new OneKeyInternalError('Invalid rpc url');}var client=new ClientDnx({url:rpcUrl});yield client.broadcastTransaction({rawTx:signedTx.rawTx});return _objectSpread(_objectSpread({},params.signedTx),{},{txid:signedTx.txid});});function broadcastTransactionFromCustomRpc(_x11){return _broadcastTransactionFromCustomRpc.apply(this,arguments);}return broadcastTransactionFromCustomRpc;}();return _createClass(Vault);}(VaultBase);export{Vault as default};","export var EVaultKeyringTypes=function(EVaultKeyringTypes){EVaultKeyringTypes[\"hd\"]=\"hd\";EVaultKeyringTypes[\"qr\"]=\"qr\";EVaultKeyringTypes[\"hardware\"]=\"hardware\";EVaultKeyringTypes[\"imported\"]=\"imported\";EVaultKeyringTypes[\"watching\"]=\"watching\";EVaultKeyringTypes[\"external\"]=\"external\";return EVaultKeyringTypes;}({});export var EWrappedType=function(EWrappedType){EWrappedType[\"DEPOSIT\"]=\"deposit\";EWrappedType[\"WITHDRAW\"]=\"withdraw\";return EWrappedType;}({});","import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}import axios from'axios';import timeoutSignal from'timeout-signal';import{AxiosResponseError,JsonRPCResponseError,ResponseError}from\"../errors\";function normalizePayload(method,params,id=0){return{jsonrpc:'2.0',id,method,params};}var JsonRPCRequest=function(){function JsonRPCRequest(url,headers,timeout=30_000){this.url=url;this.timeout=timeout;this.headers={'Content-Type':'application/json'};if(headers){Object.assign(this.headers,headers);}}JsonRPCRequest.parseRPCResponse=function parseRPCResponse(response){if(typeof response!=='object'){throw new ResponseError('Invalid JSON RPC response, typeof response should be an object',response);}else if(response.error){var message='Error JSON RPC response';var error=response.error;if(error?.message&&typeof error?.message==='string'){message=`Error JSON RPC response: ${error?.message}`;}throw new JsonRPCResponseError(message,response);}else if(!('result'in response)){throw new ResponseError('Invalid JSON RPC response, result not found',response);}return Promise.resolve(response.result);};var _proto=JsonRPCRequest.prototype;_proto.call=function(){var _call=_asyncToGenerator(function*(method,params,headers,timeout){var signal=timeoutSignal(timeout||this.timeout);try{var response=yield axios({url:this.url,method:'POST',headers:this.assembleHeaders(headers),data:JSON.stringify(normalizePayload(method,params)),signal});return yield JsonRPCRequest.parseRPCResponse(response.data);}catch(error){if(axios.isAxiosError(error)){var _error$response$statu;throw new AxiosResponseError(`Wrong response<${(_error$response$statu=error.response?.status)!=null?_error$response$statu:''}>`,error.response);}throw error;}});function call(_x,_x2,_x3,_x4){return _call.apply(this,arguments);}return call;}();_proto.batchCall=function(){var _batchCall=_asyncToGenerator(function*(calls,headers,timeout,ignoreSoloError=true,autoFallbackToRpcSingle=true){var _this=this;var jsonResponses=[];var useRpcBatch=!autoFallbackToRpcSingle;if(useRpcBatch){var payload=calls.map(function([method,params],index){return normalizePayload(method,params,index);});try{var response=yield axios({url:this.url,method:'POST',headers:this.assembleHeaders(headers),data:JSON.stringify(payload),signal:timeoutSignal(timeout||this.timeout)});jsonResponses=response.data;if(!Array.isArray(jsonResponses)){throw new AxiosResponseError('Invalid JSON Batch RPC response, response should be an array',response);}else if(calls.length!==jsonResponses.length){throw new AxiosResponseError(`Invalid JSON Batch RPC response, batch with ${calls.length} calls, but got ${jsonResponses.length} responses`,response);}}catch(error){if(axios.isAxiosError(error)){var _error$response$statu2;throw new AxiosResponseError(`Wrong response<${(_error$response$statu2=error.response?.status)!=null?_error$response$statu2:''}>`,error.response);}throw error;}}else{jsonResponses=yield Promise.all(calls.map(function(){var _ref=_asyncToGenerator(function*(c){try{var res=yield _this.call(c[0],c[1],headers,timeout);return{result:res};}catch(error){}});return function(_x8){return _ref.apply(this,arguments);};}()));}return Promise.all(jsonResponses.sort(function({id:idA},{id:idB}){return idA-idB;}).map(function(resp){return JsonRPCRequest.parseRPCResponse(resp).catch(function(e){if(e instanceof JsonRPCResponseError&&ignoreSoloError){return undefined;}throw e;});}));});function batchCall(_x5,_x6,_x7){return _batchCall.apply(this,arguments);}return batchCall;}();_proto.assembleHeaders=function assembleHeaders(headers={}){return _objectSpread(_objectSpread({},this.headers),headers);};_proto.batchChunkCall=function(){var _batchChunkCall=_asyncToGenerator(function*(payloads,headers,timeout,ignoreSoloError=true){var flattenedCalls=payloads.flat();var flattenedResults=yield this.batchCall(flattenedCalls,headers,timeout,ignoreSoloError,false);if(!Array.isArray(flattenedResults)){throw new Error('Invalid JSON Batch RPC response, response should be an array');}var results=[];var startIndex=0;for(var chunk of payloads){var chunkSize=chunk.length;results.push(flattenedResults.slice(startIndex,startIndex+chunkSize));startIndex+=chunkSize;}return results;});function batchChunkCall(_x9,_x10,_x11){return _batchChunkCall.apply(this,arguments);}return batchChunkCall;}();return _createClass(JsonRPCRequest);}();export{JsonRPCRequest};","/*\n\tJavaScript BigInteger library version 0.9\n\thttp://silentmatt.com/biginteger/\n\n\tCopyright (c) 2009 Matthew Crumley <email@matthewcrumley.com>\n\tCopyright (c) 2010,2011 by John Tobey <John.Tobey@gmail.com>\n\tLicensed under the MIT license.\n\n\tSupport for arbitrary internal representation base was added by\n\tVitaly Magerya.\n*/\n\n/*\n\tFile: biginteger.js\n\n\tExports:\n\n\t\t<BigInteger>\n*/\n(function(exports) {\n\"use strict\";\n/*\n\tClass: BigInteger\n\tAn arbitrarily-large integer.\n\n\t<BigInteger> objects should be considered immutable. None of the \"built-in\"\n\tmethods modify *this* or their arguments. All properties should be\n\tconsidered private.\n\n\tAll the methods of <BigInteger> instances can be called \"statically\". The\n\tstatic versions are convenient if you don't already have a <BigInteger>\n\tobject.\n\n\tAs an example, these calls are equivalent.\n\n\t> BigInteger(4).multiply(5); // returns BigInteger(20);\n\t> BigInteger.multiply(4, 5); // returns BigInteger(20);\n\n\t> var a = 42;\n\t> var a = BigInteger.toJSValue(\"0b101010\"); // Not completely useless...\n*/\n\nvar CONSTRUCT = {}; // Unique token to call \"private\" version of constructor\n\n/*\n\tConstructor: BigInteger()\n\tConvert a value to a <BigInteger>.\n\n\tAlthough <BigInteger()> is the constructor for <BigInteger> objects, it is\n\tbest not to call it as a constructor. If *n* is a <BigInteger> object, it is\n\tsimply returned as-is. Otherwise, <BigInteger()> is equivalent to <parse>\n\twithout a radix argument.\n\n\t> var n0 = BigInteger();      // Same as <BigInteger.ZERO>\n\t> var n1 = BigInteger(\"123\"); // Create a new <BigInteger> with value 123\n\t> var n2 = BigInteger(123);   // Create a new <BigInteger> with value 123\n\t> var n3 = BigInteger(n2);    // Return n2, unchanged\n\n\tThe constructor form only takes an array and a sign. *n* must be an\n\tarray of numbers in little-endian order, where each digit is between 0\n\tand BigInteger.base.  The second parameter sets the sign: -1 for\n\tnegative, +1 for positive, or 0 for zero. The array is *not copied and\n\tmay be modified*. If the array contains only zeros, the sign parameter\n\tis ignored and is forced to zero.\n\n\t> new BigInteger([5], -1): create a new BigInteger with value -5\n\n\tParameters:\n\n\t\tn - Value to convert to a <BigInteger>.\n\n\tReturns:\n\n\t\tA <BigInteger> value.\n\n\tSee Also:\n\n\t\t<parse>, <BigInteger>\n*/\nfunction BigInteger(n, s, token) {\n\tif (token !== CONSTRUCT) {\n\t\tif (n instanceof BigInteger) {\n\t\t\treturn n;\n\t\t}\n\t\telse if (typeof n === \"undefined\") {\n\t\t\treturn ZERO;\n\t\t}\n\t\treturn BigInteger.parse(n);\n\t}\n\n\tn = n || [];  // Provide the nullary constructor for subclasses.\n\twhile (n.length && !n[n.length - 1]) {\n\t\t--n.length;\n\t}\n\tthis._d = n;\n\tthis._s = n.length ? (s || 1) : 0;\n}\n\nBigInteger._construct = function(n, s) {\n\treturn new BigInteger(n, s, CONSTRUCT);\n};\n\n// Base-10 speedup hacks in parse, toString, exp10 and log functions\n// require base to be a power of 10. 10^7 is the largest such power\n// that won't cause a precision loss when digits are multiplied.\nvar BigInteger_base = 10000000;\nvar BigInteger_base_log10 = 7;\n\nBigInteger.base = BigInteger_base;\nBigInteger.base_log10 = BigInteger_base_log10;\n\nvar ZERO = new BigInteger([], 0, CONSTRUCT);\n// Constant: ZERO\n// <BigInteger> 0.\nBigInteger.ZERO = ZERO;\n\nvar ONE = new BigInteger([1], 1, CONSTRUCT);\n// Constant: ONE\n// <BigInteger> 1.\nBigInteger.ONE = ONE;\n\nvar M_ONE = new BigInteger(ONE._d, -1, CONSTRUCT);\n// Constant: M_ONE\n// <BigInteger> -1.\nBigInteger.M_ONE = M_ONE;\n\n// Constant: _0\n// Shortcut for <ZERO>.\nBigInteger._0 = ZERO;\n\n// Constant: _1\n// Shortcut for <ONE>.\nBigInteger._1 = ONE;\n\n/*\n\tConstant: small\n\tArray of <BigIntegers> from 0 to 36.\n\n\tThese are used internally for parsing, but useful when you need a \"small\"\n\t<BigInteger>.\n\n\tSee Also:\n\n\t\t<ZERO>, <ONE>, <_0>, <_1>\n*/\nBigInteger.small = [\n\tZERO,\n\tONE,\n\t/* Assuming BigInteger_base > 36 */\n\tnew BigInteger( [2], 1, CONSTRUCT),\n\tnew BigInteger( [3], 1, CONSTRUCT),\n\tnew BigInteger( [4], 1, CONSTRUCT),\n\tnew BigInteger( [5], 1, CONSTRUCT),\n\tnew BigInteger( [6], 1, CONSTRUCT),\n\tnew BigInteger( [7], 1, CONSTRUCT),\n\tnew BigInteger( [8], 1, CONSTRUCT),\n\tnew BigInteger( [9], 1, CONSTRUCT),\n\tnew BigInteger([10], 1, CONSTRUCT),\n\tnew BigInteger([11], 1, CONSTRUCT),\n\tnew BigInteger([12], 1, CONSTRUCT),\n\tnew BigInteger([13], 1, CONSTRUCT),\n\tnew BigInteger([14], 1, CONSTRUCT),\n\tnew BigInteger([15], 1, CONSTRUCT),\n\tnew BigInteger([16], 1, CONSTRUCT),\n\tnew BigInteger([17], 1, CONSTRUCT),\n\tnew BigInteger([18], 1, CONSTRUCT),\n\tnew BigInteger([19], 1, CONSTRUCT),\n\tnew BigInteger([20], 1, CONSTRUCT),\n\tnew BigInteger([21], 1, CONSTRUCT),\n\tnew BigInteger([22], 1, CONSTRUCT),\n\tnew BigInteger([23], 1, CONSTRUCT),\n\tnew BigInteger([24], 1, CONSTRUCT),\n\tnew BigInteger([25], 1, CONSTRUCT),\n\tnew BigInteger([26], 1, CONSTRUCT),\n\tnew BigInteger([27], 1, CONSTRUCT),\n\tnew BigInteger([28], 1, CONSTRUCT),\n\tnew BigInteger([29], 1, CONSTRUCT),\n\tnew BigInteger([30], 1, CONSTRUCT),\n\tnew BigInteger([31], 1, CONSTRUCT),\n\tnew BigInteger([32], 1, CONSTRUCT),\n\tnew BigInteger([33], 1, CONSTRUCT),\n\tnew BigInteger([34], 1, CONSTRUCT),\n\tnew BigInteger([35], 1, CONSTRUCT),\n\tnew BigInteger([36], 1, CONSTRUCT)\n];\n\n// Used for parsing/radix conversion\nBigInteger.digits = \"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ\".split(\"\");\n\n/*\n\tMethod: toString\n\tConvert a <BigInteger> to a string.\n\n\tWhen *base* is greater than 10, letters are upper case.\n\n\tParameters:\n\n\t\tbase - Optional base to represent the number in (default is base 10).\n\t\t       Must be between 2 and 36 inclusive, or an Error will be thrown.\n\n\tReturns:\n\n\t\tThe string representation of the <BigInteger>.\n*/\nBigInteger.prototype.toString = function(base) {\n\tbase = +base || 10;\n\tif (base < 2 || base > 36) {\n\t\tthrow new Error(\"illegal radix \" + base + \".\");\n\t}\n\tif (this._s === 0) {\n\t\treturn \"0\";\n\t}\n\tif (base === 10) {\n\t\tvar str = this._s < 0 ? \"-\" : \"\";\n\t\tstr += this._d[this._d.length - 1].toString();\n\t\tfor (var i = this._d.length - 2; i >= 0; i--) {\n\t\t\tvar group = this._d[i].toString();\n\t\t\twhile (group.length < BigInteger_base_log10) group = '0' + group;\n\t\t\tstr += group;\n\t\t}\n\t\treturn str;\n\t}\n\telse {\n\t\tvar numerals = BigInteger.digits;\n\t\tbase = BigInteger.small[base];\n\t\tvar sign = this._s;\n\n\t\tvar n = this.abs();\n\t\tvar digits = [];\n\t\tvar digit;\n\n\t\twhile (n._s !== 0) {\n\t\t\tvar divmod = n.divRem(base);\n\t\t\tn = divmod[0];\n\t\t\tdigit = divmod[1];\n\t\t\t// TODO: This could be changed to unshift instead of reversing at the end.\n\t\t\t// Benchmark both to compare speeds.\n\t\t\tdigits.push(numerals[digit.valueOf()]);\n\t\t}\n\t\treturn (sign < 0 ? \"-\" : \"\") + digits.reverse().join(\"\");\n\t}\n};\n\n// Verify strings for parsing\nBigInteger.radixRegex = [\n\t/^$/,\n\t/^$/,\n\t/^[01]*$/,\n\t/^[012]*$/,\n\t/^[0-3]*$/,\n\t/^[0-4]*$/,\n\t/^[0-5]*$/,\n\t/^[0-6]*$/,\n\t/^[0-7]*$/,\n\t/^[0-8]*$/,\n\t/^[0-9]*$/,\n\t/^[0-9aA]*$/,\n\t/^[0-9abAB]*$/,\n\t/^[0-9abcABC]*$/,\n\t/^[0-9a-dA-D]*$/,\n\t/^[0-9a-eA-E]*$/,\n\t/^[0-9a-fA-F]*$/,\n\t/^[0-9a-gA-G]*$/,\n\t/^[0-9a-hA-H]*$/,\n\t/^[0-9a-iA-I]*$/,\n\t/^[0-9a-jA-J]*$/,\n\t/^[0-9a-kA-K]*$/,\n\t/^[0-9a-lA-L]*$/,\n\t/^[0-9a-mA-M]*$/,\n\t/^[0-9a-nA-N]*$/,\n\t/^[0-9a-oA-O]*$/,\n\t/^[0-9a-pA-P]*$/,\n\t/^[0-9a-qA-Q]*$/,\n\t/^[0-9a-rA-R]*$/,\n\t/^[0-9a-sA-S]*$/,\n\t/^[0-9a-tA-T]*$/,\n\t/^[0-9a-uA-U]*$/,\n\t/^[0-9a-vA-V]*$/,\n\t/^[0-9a-wA-W]*$/,\n\t/^[0-9a-xA-X]*$/,\n\t/^[0-9a-yA-Y]*$/,\n\t/^[0-9a-zA-Z]*$/\n];\n\n/*\n\tFunction: parse\n\tParse a string into a <BigInteger>.\n\n\t*base* is optional but, if provided, must be from 2 to 36 inclusive. If\n\t*base* is not provided, it will be guessed based on the leading characters\n\tof *s* as follows:\n\n\t- \"0x\" or \"0X\": *base* = 16\n\t- \"0c\" or \"0C\": *base* = 8\n\t- \"0b\" or \"0B\": *base* = 2\n\t- else: *base* = 10\n\n\tIf no base is provided, or *base* is 10, the number can be in exponential\n\tform. For example, these are all valid:\n\n\t> BigInteger.parse(\"1e9\");              // Same as \"1000000000\"\n\t> BigInteger.parse(\"1.234*10^3\");       // Same as 1234\n\t> BigInteger.parse(\"56789 * 10 ** -2\"); // Same as 567\n\n\tIf any characters fall outside the range defined by the radix, an exception\n\twill be thrown.\n\n\tParameters:\n\n\t\ts - The string to parse.\n\t\tbase - Optional radix (default is to guess based on *s*).\n\n\tReturns:\n\n\t\ta <BigInteger> instance.\n*/\nBigInteger.parse = function(s, base) {\n\t// Expands a number in exponential form to decimal form.\n\t// expandExponential(\"-13.441*10^5\") === \"1344100\";\n\t// expandExponential(\"1.12300e-1\") === \"0.112300\";\n\t// expandExponential(1000000000000000000000000000000) === \"1000000000000000000000000000000\";\n\tfunction expandExponential(str) {\n\t\tstr = str.replace(/\\s*[*xX]\\s*10\\s*(\\^|\\*\\*)\\s*/, \"e\");\n\n\t\treturn str.replace(/^([+\\-])?(\\d+)\\.?(\\d*)[eE]([+\\-]?\\d+)$/, function(x, s, n, f, c) {\n\t\t\tc = +c;\n\t\t\tvar l = c < 0;\n\t\t\tvar i = n.length + c;\n\t\t\tx = (l ? n : f).length;\n\t\t\tc = ((c = Math.abs(c)) >= x ? c - x + l : 0);\n\t\t\tvar z = (new Array(c + 1)).join(\"0\");\n\t\t\tvar r = n + f;\n\t\t\treturn (s || \"\") + (l ? r = z + r : r += z).substr(0, i += l ? z.length : 0) + (i < r.length ? \".\" + r.substr(i) : \"\");\n\t\t});\n\t}\n\n\ts = s.toString();\n\tif (typeof base === \"undefined\" || +base === 10) {\n\t\ts = expandExponential(s);\n\t}\n\n\tvar prefixRE;\n\tif (typeof base === \"undefined\") {\n\t\tprefixRE = '0[xcb]';\n\t}\n\telse if (base == 16) {\n\t\tprefixRE = '0x';\n\t}\n\telse if (base == 8) {\n\t\tprefixRE = '0c';\n\t}\n\telse if (base == 2) {\n\t\tprefixRE = '0b';\n\t}\n\telse {\n\t\tprefixRE = '';\n\t}\n\tvar parts = new RegExp('^([+\\\\-]?)(' + prefixRE + ')?([0-9a-z]*)(?:\\\\.\\\\d*)?$', 'i').exec(s);\n\tif (parts) {\n\t\tvar sign = parts[1] || \"+\";\n\t\tvar baseSection = parts[2] || \"\";\n\t\tvar digits = parts[3] || \"\";\n\n\t\tif (typeof base === \"undefined\") {\n\t\t\t// Guess base\n\t\t\tif (baseSection === \"0x\" || baseSection === \"0X\") { // Hex\n\t\t\t\tbase = 16;\n\t\t\t}\n\t\t\telse if (baseSection === \"0c\" || baseSection === \"0C\") { // Octal\n\t\t\t\tbase = 8;\n\t\t\t}\n\t\t\telse if (baseSection === \"0b\" || baseSection === \"0B\") { // Binary\n\t\t\t\tbase = 2;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tbase = 10;\n\t\t\t}\n\t\t}\n\t\telse if (base < 2 || base > 36) {\n\t\t\tthrow new Error(\"Illegal radix \" + base + \".\");\n\t\t}\n\n\t\tbase = +base;\n\n\t\t// Check for digits outside the range\n\t\tif (!(BigInteger.radixRegex[base].test(digits))) {\n\t\t\tthrow new Error(\"Bad digit for radix \" + base);\n\t\t}\n\n\t\t// Strip leading zeros, and convert to array\n\t\tdigits = digits.replace(/^0+/, \"\").split(\"\");\n\t\tif (digits.length === 0) {\n\t\t\treturn ZERO;\n\t\t}\n\n\t\t// Get the sign (we know it's not zero)\n\t\tsign = (sign === \"-\") ? -1 : 1;\n\n\t\t// Optimize 10\n\t\tif (base == 10) {\n\t\t\tvar d = [];\n\t\t\twhile (digits.length >= BigInteger_base_log10) {\n\t\t\t\td.push(parseInt(digits.splice(digits.length-BigInteger.base_log10, BigInteger.base_log10).join(''), 10));\n\t\t\t}\n\t\t\td.push(parseInt(digits.join(''), 10));\n\t\t\treturn new BigInteger(d, sign, CONSTRUCT);\n\t\t}\n\n\t\t// Do the conversion\n\t\tvar d = ZERO;\n\t\tbase = BigInteger.small[base];\n\t\tvar small = BigInteger.small;\n\t\tfor (var i = 0; i < digits.length; i++) {\n\t\t\td = d.multiply(base).add(small[parseInt(digits[i], 36)]);\n\t\t}\n\t\treturn new BigInteger(d._d, sign, CONSTRUCT);\n\t}\n\telse {\n\t\tthrow new Error(\"Invalid BigInteger format: \" + s);\n\t}\n};\n\n/*\n\tFunction: add\n\tAdd two <BigIntegers>.\n\n\tParameters:\n\n\t\tn - The number to add to *this*. Will be converted to a <BigInteger>.\n\n\tReturns:\n\n\t\tThe numbers added together.\n\n\tSee Also:\n\n\t\t<subtract>, <multiply>, <quotient>, <next>\n*/\nBigInteger.prototype.add = function(n) {\n\tif (this._s === 0) {\n\t\treturn BigInteger(n);\n\t}\n\n\tn = BigInteger(n);\n\tif (n._s === 0) {\n\t\treturn this;\n\t}\n\tif (this._s !== n._s) {\n\t\tn = n.negate();\n\t\treturn this.subtract(n);\n\t}\n\n\tvar a = this._d;\n\tvar b = n._d;\n\tvar al = a.length;\n\tvar bl = b.length;\n\tvar sum = new Array(Math.max(al, bl) + 1);\n\tvar size = Math.min(al, bl);\n\tvar carry = 0;\n\tvar digit;\n\n\tfor (var i = 0; i < size; i++) {\n\t\tdigit = a[i] + b[i] + carry;\n\t\tsum[i] = digit % BigInteger_base;\n\t\tcarry = (digit / BigInteger_base) | 0;\n\t}\n\tif (bl > al) {\n\t\ta = b;\n\t\tal = bl;\n\t}\n\tfor (i = size; carry && i < al; i++) {\n\t\tdigit = a[i] + carry;\n\t\tsum[i] = digit % BigInteger_base;\n\t\tcarry = (digit / BigInteger_base) | 0;\n\t}\n\tif (carry) {\n\t\tsum[i] = carry;\n\t}\n\n\tfor ( ; i < al; i++) {\n\t\tsum[i] = a[i];\n\t}\n\n\treturn new BigInteger(sum, this._s, CONSTRUCT);\n};\n\n/*\n\tFunction: negate\n\tGet the additive inverse of a <BigInteger>.\n\n\tReturns:\n\n\t\tA <BigInteger> with the same magnatude, but with the opposite sign.\n\n\tSee Also:\n\n\t\t<abs>\n*/\nBigInteger.prototype.negate = function() {\n\treturn new BigInteger(this._d, (-this._s) | 0, CONSTRUCT);\n};\n\n/*\n\tFunction: abs\n\tGet the absolute value of a <BigInteger>.\n\n\tReturns:\n\n\t\tA <BigInteger> with the same magnatude, but always positive (or zero).\n\n\tSee Also:\n\n\t\t<negate>\n*/\nBigInteger.prototype.abs = function() {\n\treturn (this._s < 0) ? this.negate() : this;\n};\n\n/*\n\tFunction: subtract\n\tSubtract two <BigIntegers>.\n\n\tParameters:\n\n\t\tn - The number to subtract from *this*. Will be converted to a <BigInteger>.\n\n\tReturns:\n\n\t\tThe *n* subtracted from *this*.\n\n\tSee Also:\n\n\t\t<add>, <multiply>, <quotient>, <prev>\n*/\nBigInteger.prototype.subtract = function(n) {\n\tif (this._s === 0) {\n\t\treturn BigInteger(n).negate();\n\t}\n\n\tn = BigInteger(n);\n\tif (n._s === 0) {\n\t\treturn this;\n\t}\n\tif (this._s !== n._s) {\n\t\tn = n.negate();\n\t\treturn this.add(n);\n\t}\n\n\tvar m = this;\n\t// negative - negative => -|a| - -|b| => -|a| + |b| => |b| - |a|\n\tif (this._s < 0) {\n\t\tm = new BigInteger(n._d, 1, CONSTRUCT);\n\t\tn = new BigInteger(this._d, 1, CONSTRUCT);\n\t}\n\n\t// Both are positive => a - b\n\tvar sign = m.compareAbs(n);\n\tif (sign === 0) {\n\t\treturn ZERO;\n\t}\n\telse if (sign < 0) {\n\t\t// swap m and n\n\t\tvar t = n;\n\t\tn = m;\n\t\tm = t;\n\t}\n\n\t// a > b\n\tvar a = m._d;\n\tvar b = n._d;\n\tvar al = a.length;\n\tvar bl = b.length;\n\tvar diff = new Array(al); // al >= bl since a > b\n\tvar borrow = 0;\n\tvar i;\n\tvar digit;\n\n\tfor (i = 0; i < bl; i++) {\n\t\tdigit = a[i] - borrow - b[i];\n\t\tif (digit < 0) {\n\t\t\tdigit += BigInteger_base;\n\t\t\tborrow = 1;\n\t\t}\n\t\telse {\n\t\t\tborrow = 0;\n\t\t}\n\t\tdiff[i] = digit;\n\t}\n\tfor (i = bl; i < al; i++) {\n\t\tdigit = a[i] - borrow;\n\t\tif (digit < 0) {\n\t\t\tdigit += BigInteger_base;\n\t\t}\n\t\telse {\n\t\t\tdiff[i++] = digit;\n\t\t\tbreak;\n\t\t}\n\t\tdiff[i] = digit;\n\t}\n\tfor ( ; i < al; i++) {\n\t\tdiff[i] = a[i];\n\t}\n\n\treturn new BigInteger(diff, sign, CONSTRUCT);\n};\n\n(function() {\n\tfunction addOne(n, sign) {\n\t\tvar a = n._d;\n\t\tvar sum = a.slice();\n\t\tvar carry = true;\n\t\tvar i = 0;\n\n\t\twhile (true) {\n\t\t\tvar digit = (a[i] || 0) + 1;\n\t\t\tsum[i] = digit % BigInteger_base;\n\t\t\tif (digit <= BigInteger_base - 1) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\t++i;\n\t\t}\n\n\t\treturn new BigInteger(sum, sign, CONSTRUCT);\n\t}\n\n\tfunction subtractOne(n, sign) {\n\t\tvar a = n._d;\n\t\tvar sum = a.slice();\n\t\tvar borrow = true;\n\t\tvar i = 0;\n\n\t\twhile (true) {\n\t\t\tvar digit = (a[i] || 0) - 1;\n\t\t\tif (digit < 0) {\n\t\t\t\tsum[i] = digit + BigInteger_base;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tsum[i] = digit;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\t++i;\n\t\t}\n\n\t\treturn new BigInteger(sum, sign, CONSTRUCT);\n\t}\n\n\t/*\n\t\tFunction: next\n\t\tGet the next <BigInteger> (add one).\n\n\t\tReturns:\n\n\t\t\t*this* + 1.\n\n\t\tSee Also:\n\n\t\t\t<add>, <prev>\n\t*/\n\tBigInteger.prototype.next = function() {\n\t\tswitch (this._s) {\n\t\tcase 0:\n\t\t\treturn ONE;\n\t\tcase -1:\n\t\t\treturn subtractOne(this, -1);\n\t\t// case 1:\n\t\tdefault:\n\t\t\treturn addOne(this, 1);\n\t\t}\n\t};\n\n\t/*\n\t\tFunction: prev\n\t\tGet the previous <BigInteger> (subtract one).\n\n\t\tReturns:\n\n\t\t\t*this* - 1.\n\n\t\tSee Also:\n\n\t\t\t<next>, <subtract>\n\t*/\n\tBigInteger.prototype.prev = function() {\n\t\tswitch (this._s) {\n\t\tcase 0:\n\t\t\treturn M_ONE;\n\t\tcase -1:\n\t\t\treturn addOne(this, -1);\n\t\t// case 1:\n\t\tdefault:\n\t\t\treturn subtractOne(this, 1);\n\t\t}\n\t};\n})();\n\n/*\n\tFunction: compareAbs\n\tCompare the absolute value of two <BigIntegers>.\n\n\tCalling <compareAbs> is faster than calling <abs> twice, then <compare>.\n\n\tParameters:\n\n\t\tn - The number to compare to *this*. Will be converted to a <BigInteger>.\n\n\tReturns:\n\n\t\t-1, 0, or +1 if *|this|* is less than, equal to, or greater than *|n|*.\n\n\tSee Also:\n\n\t\t<compare>, <abs>\n*/\nBigInteger.prototype.compareAbs = function(n) {\n\tif (this === n) {\n\t\treturn 0;\n\t}\n\n\tif (!(n instanceof BigInteger)) {\n\t\tif (!isFinite(n)) {\n\t\t\treturn(isNaN(n) ? n : -1);\n\t\t}\n\t\tn = BigInteger(n);\n\t}\n\n\tif (this._s === 0) {\n\t\treturn (n._s !== 0) ? -1 : 0;\n\t}\n\tif (n._s === 0) {\n\t\treturn 1;\n\t}\n\n\tvar l = this._d.length;\n\tvar nl = n._d.length;\n\tif (l < nl) {\n\t\treturn -1;\n\t}\n\telse if (l > nl) {\n\t\treturn 1;\n\t}\n\n\tvar a = this._d;\n\tvar b = n._d;\n\tfor (var i = l-1; i >= 0; i--) {\n\t\tif (a[i] !== b[i]) {\n\t\t\treturn a[i] < b[i] ? -1 : 1;\n\t\t}\n\t}\n\n\treturn 0;\n};\n\n/*\n\tFunction: compare\n\tCompare two <BigIntegers>.\n\n\tParameters:\n\n\t\tn - The number to compare to *this*. Will be converted to a <BigInteger>.\n\n\tReturns:\n\n\t\t-1, 0, or +1 if *this* is less than, equal to, or greater than *n*.\n\n\tSee Also:\n\n\t\t<compareAbs>, <isPositive>, <isNegative>, <isUnit>\n*/\nBigInteger.prototype.compare = function(n) {\n\tif (this === n) {\n\t\treturn 0;\n\t}\n\n\tn = BigInteger(n);\n\n\tif (this._s === 0) {\n\t\treturn -n._s;\n\t}\n\n\tif (this._s === n._s) { // both positive or both negative\n\t\tvar cmp = this.compareAbs(n);\n\t\treturn cmp * this._s;\n\t}\n\telse {\n\t\treturn this._s;\n\t}\n};\n\n/*\n\tFunction: isUnit\n\tReturn true iff *this* is either 1 or -1.\n\n\tReturns:\n\n\t\ttrue if *this* compares equal to <BigInteger.ONE> or <BigInteger.M_ONE>.\n\n\tSee Also:\n\n\t\t<isZero>, <isNegative>, <isPositive>, <compareAbs>, <compare>,\n\t\t<BigInteger.ONE>, <BigInteger.M_ONE>\n*/\nBigInteger.prototype.isUnit = function() {\n\treturn this === ONE ||\n\t\tthis === M_ONE ||\n\t\t(this._d.length === 1 && this._d[0] === 1);\n};\n\n/*\n\tFunction: multiply\n\tMultiply two <BigIntegers>.\n\n\tParameters:\n\n\t\tn - The number to multiply *this* by. Will be converted to a\n\t\t<BigInteger>.\n\n\tReturns:\n\n\t\tThe numbers multiplied together.\n\n\tSee Also:\n\n\t\t<add>, <subtract>, <quotient>, <square>\n*/\nBigInteger.prototype.multiply = function(n) {\n\t// TODO: Consider adding Karatsuba multiplication for large numbers\n\tif (this._s === 0) {\n\t\treturn ZERO;\n\t}\n\n\tn = BigInteger(n);\n\tif (n._s === 0) {\n\t\treturn ZERO;\n\t}\n\tif (this.isUnit()) {\n\t\tif (this._s < 0) {\n\t\t\treturn n.negate();\n\t\t}\n\t\treturn n;\n\t}\n\tif (n.isUnit()) {\n\t\tif (n._s < 0) {\n\t\t\treturn this.negate();\n\t\t}\n\t\treturn this;\n\t}\n\tif (this === n) {\n\t\treturn this.square();\n\t}\n\n\tvar r = (this._d.length >= n._d.length);\n\tvar a = (r ? this : n)._d; // a will be longer than b\n\tvar b = (r ? n : this)._d;\n\tvar al = a.length;\n\tvar bl = b.length;\n\n\tvar pl = al + bl;\n\tvar partial = new Array(pl);\n\tvar i;\n\tfor (i = 0; i < pl; i++) {\n\t\tpartial[i] = 0;\n\t}\n\n\tfor (i = 0; i < bl; i++) {\n\t\tvar carry = 0;\n\t\tvar bi = b[i];\n\t\tvar jlimit = al + i;\n\t\tvar digit;\n\t\tfor (var j = i; j < jlimit; j++) {\n\t\t\tdigit = partial[j] + bi * a[j - i] + carry;\n\t\t\tcarry = (digit / BigInteger_base) | 0;\n\t\t\tpartial[j] = (digit % BigInteger_base) | 0;\n\t\t}\n\t\tif (carry) {\n\t\t\tdigit = partial[j] + carry;\n\t\t\tcarry = (digit / BigInteger_base) | 0;\n\t\t\tpartial[j] = digit % BigInteger_base;\n\t\t}\n\t}\n\treturn new BigInteger(partial, this._s * n._s, CONSTRUCT);\n};\n\n// Multiply a BigInteger by a single-digit native number\n// Assumes that this and n are >= 0\n// This is not really intended to be used outside the library itself\nBigInteger.prototype.multiplySingleDigit = function(n) {\n\tif (n === 0 || this._s === 0) {\n\t\treturn ZERO;\n\t}\n\tif (n === 1) {\n\t\treturn this;\n\t}\n\n\tvar digit;\n\tif (this._d.length === 1) {\n\t\tdigit = this._d[0] * n;\n\t\tif (digit >= BigInteger_base) {\n\t\t\treturn new BigInteger([(digit % BigInteger_base)|0,\n\t\t\t\t\t(digit / BigInteger_base)|0], 1, CONSTRUCT);\n\t\t}\n\t\treturn new BigInteger([digit], 1, CONSTRUCT);\n\t}\n\n\tif (n === 2) {\n\t\treturn this.add(this);\n\t}\n\tif (this.isUnit()) {\n\t\treturn new BigInteger([n], 1, CONSTRUCT);\n\t}\n\n\tvar a = this._d;\n\tvar al = a.length;\n\n\tvar pl = al + 1;\n\tvar partial = new Array(pl);\n\tfor (var i = 0; i < pl; i++) {\n\t\tpartial[i] = 0;\n\t}\n\n\tvar carry = 0;\n\tfor (var j = 0; j < al; j++) {\n\t\tdigit = n * a[j] + carry;\n\t\tcarry = (digit / BigInteger_base) | 0;\n\t\tpartial[j] = (digit % BigInteger_base) | 0;\n\t}\n\tif (carry) {\n\t\tpartial[j] = carry;\n\t}\n\n\treturn new BigInteger(partial, 1, CONSTRUCT);\n};\n\n/*\n\tFunction: square\n\tMultiply a <BigInteger> by itself.\n\n\tThis is slightly faster than regular multiplication, since it removes the\n\tduplicated multiplcations.\n\n\tReturns:\n\n\t\t> this.multiply(this)\n\n\tSee Also:\n\t\t<multiply>\n*/\nBigInteger.prototype.square = function() {\n\t// Normally, squaring a 10-digit number would take 100 multiplications.\n\t// Of these 10 are unique diagonals, of the remaining 90 (100-10), 45 are repeated.\n\t// This procedure saves (N*(N-1))/2 multiplications, (e.g., 45 of 100 multiplies).\n\t// Based on code by Gary Darby, Intellitech Systems Inc., www.DelphiForFun.org\n\n\tif (this._s === 0) {\n\t\treturn ZERO;\n\t}\n\tif (this.isUnit()) {\n\t\treturn ONE;\n\t}\n\n\tvar digits = this._d;\n\tvar length = digits.length;\n\tvar imult1 = new Array(length + length + 1);\n\tvar product, carry, k;\n\tvar i;\n\n\t// Calculate diagonal\n\tfor (i = 0; i < length; i++) {\n\t\tk = i * 2;\n\t\tproduct = digits[i] * digits[i];\n\t\tcarry = (product / BigInteger_base) | 0;\n\t\timult1[k] = product % BigInteger_base;\n\t\timult1[k + 1] = carry;\n\t}\n\n\t// Calculate repeating part\n\tfor (i = 0; i < length; i++) {\n\t\tcarry = 0;\n\t\tk = i * 2 + 1;\n\t\tfor (var j = i + 1; j < length; j++, k++) {\n\t\t\tproduct = digits[j] * digits[i] * 2 + imult1[k] + carry;\n\t\t\tcarry = (product / BigInteger_base) | 0;\n\t\t\timult1[k] = product % BigInteger_base;\n\t\t}\n\t\tk = length + i;\n\t\tvar digit = carry + imult1[k];\n\t\tcarry = (digit / BigInteger_base) | 0;\n\t\timult1[k] = digit % BigInteger_base;\n\t\timult1[k + 1] += carry;\n\t}\n\n\treturn new BigInteger(imult1, 1, CONSTRUCT);\n};\n\n/*\n\tFunction: quotient\n\tDivide two <BigIntegers> and truncate towards zero.\n\n\t<quotient> throws an exception if *n* is zero.\n\n\tParameters:\n\n\t\tn - The number to divide *this* by. Will be converted to a <BigInteger>.\n\n\tReturns:\n\n\t\tThe *this* / *n*, truncated to an integer.\n\n\tSee Also:\n\n\t\t<add>, <subtract>, <multiply>, <divRem>, <remainder>\n*/\nBigInteger.prototype.quotient = function(n) {\n\treturn this.divRem(n)[0];\n};\n\n/*\n\tFunction: divide\n\tDeprecated synonym for <quotient>.\n*/\nBigInteger.prototype.divide = BigInteger.prototype.quotient;\n\n/*\n\tFunction: remainder\n\tCalculate the remainder of two <BigIntegers>.\n\n\t<remainder> throws an exception if *n* is zero.\n\n\tParameters:\n\n\t\tn - The remainder after *this* is divided *this* by *n*. Will be\n\t\t    converted to a <BigInteger>.\n\n\tReturns:\n\n\t\t*this* % *n*.\n\n\tSee Also:\n\n\t\t<divRem>, <quotient>\n*/\nBigInteger.prototype.remainder = function(n) {\n\treturn this.divRem(n)[1];\n};\n\n/*\n\tFunction: divRem\n\tCalculate the integer quotient and remainder of two <BigIntegers>.\n\n\t<divRem> throws an exception if *n* is zero.\n\n\tParameters:\n\n\t\tn - The number to divide *this* by. Will be converted to a <BigInteger>.\n\n\tReturns:\n\n\t\tA two-element array containing the quotient and the remainder.\n\n\t\t> a.divRem(b)\n\n\t\tis exactly equivalent to\n\n\t\t> [a.quotient(b), a.remainder(b)]\n\n\t\texcept it is faster, because they are calculated at the same time.\n\n\tSee Also:\n\n\t\t<quotient>, <remainder>\n*/\nBigInteger.prototype.divRem = function(n) {\n\tn = BigInteger(n);\n\tif (n._s === 0) {\n\t\tthrow new Error(\"Divide by zero\");\n\t}\n\tif (this._s === 0) {\n\t\treturn [ZERO, ZERO];\n\t}\n\tif (n._d.length === 1) {\n\t\treturn this.divRemSmall(n._s * n._d[0]);\n\t}\n\n\t// Test for easy cases -- |n1| <= |n2|\n\tswitch (this.compareAbs(n)) {\n\tcase 0: // n1 == n2\n\t\treturn [this._s === n._s ? ONE : M_ONE, ZERO];\n\tcase -1: // |n1| < |n2|\n\t\treturn [ZERO, this];\n\t}\n\n\tvar sign = this._s * n._s;\n\tvar a = n.abs();\n\tvar b_digits = this._d;\n\tvar b_index = b_digits.length;\n\tvar digits = n._d.length;\n\tvar quot = [];\n\tvar guess;\n\n\tvar part = new BigInteger([], 0, CONSTRUCT);\n\tpart._s = 1;\n\n\twhile (b_index) {\n\t\tpart._d.unshift(b_digits[--b_index]);\n\n\t\tif (part.compareAbs(n) < 0) {\n\t\t\tquot.push(0);\n\t\t\tcontinue;\n\t\t}\n\t\tif (part._s === 0) {\n\t\t\tguess = 0;\n\t\t}\n\t\telse {\n\t\t\tvar xlen = part._d.length, ylen = a._d.length;\n\t\t\tvar highx = part._d[xlen-1]*BigInteger_base + part._d[xlen-2];\n\t\t\tvar highy = a._d[ylen-1]*BigInteger_base + a._d[ylen-2];\n\t\t\tif (part._d.length > a._d.length) {\n\t\t\t\t// The length of part._d can either match a._d length,\n\t\t\t\t// or exceed it by one.\n\t\t\t\thighx = (highx+1)*BigInteger_base;\n\t\t\t}\n\t\t\tguess = Math.ceil(highx/highy);\n\t\t}\n\t\tdo {\n\t\t\tvar check = a.multiplySingleDigit(guess);\n\t\t\tif (check.compareAbs(part) <= 0) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tguess--;\n\t\t} while (guess);\n\n\t\tquot.push(guess);\n\t\tif (!guess) {\n\t\t\tcontinue;\n\t\t}\n\t\tvar diff = part.subtract(check);\n\t\tpart._d = diff._d.slice();\n\t\tif (part._d.length === 0) {\n\t\t\tpart._s = 0;\n\t\t}\n\t}\n\n\treturn [new BigInteger(quot.reverse(), sign, CONSTRUCT),\n\t\t   new BigInteger(part._d, this._s, CONSTRUCT)];\n};\n\n// Throws an exception if n is outside of (-BigInteger.base, -1] or\n// [1, BigInteger.base).  It's not necessary to call this, since the\n// other division functions will call it if they are able to.\nBigInteger.prototype.divRemSmall = function(n) {\n\tvar r;\n\tn = +n;\n\tif (n === 0) {\n\t\tthrow new Error(\"Divide by zero\");\n\t}\n\n\tvar n_s = n < 0 ? -1 : 1;\n\tvar sign = this._s * n_s;\n\tn = Math.abs(n);\n\n\tif (n < 1 || n >= BigInteger_base) {\n\t\tthrow new Error(\"Argument out of range\");\n\t}\n\n\tif (this._s === 0) {\n\t\treturn [ZERO, ZERO];\n\t}\n\n\tif (n === 1 || n === -1) {\n\t\treturn [(sign === 1) ? this.abs() : new BigInteger(this._d, sign, CONSTRUCT), ZERO];\n\t}\n\n\t// 2 <= n < BigInteger_base\n\n\t// divide a single digit by a single digit\n\tif (this._d.length === 1) {\n\t\tvar q = new BigInteger([(this._d[0] / n) | 0], 1, CONSTRUCT);\n\t\tr = new BigInteger([(this._d[0] % n) | 0], 1, CONSTRUCT);\n\t\tif (sign < 0) {\n\t\t\tq = q.negate();\n\t\t}\n\t\tif (this._s < 0) {\n\t\t\tr = r.negate();\n\t\t}\n\t\treturn [q, r];\n\t}\n\n\tvar digits = this._d.slice();\n\tvar quot = new Array(digits.length);\n\tvar part = 0;\n\tvar diff = 0;\n\tvar i = 0;\n\tvar guess;\n\n\twhile (digits.length) {\n\t\tpart = part * BigInteger_base + digits[digits.length - 1];\n\t\tif (part < n) {\n\t\t\tquot[i++] = 0;\n\t\t\tdigits.pop();\n\t\t\tdiff = BigInteger_base * diff + part;\n\t\t\tcontinue;\n\t\t}\n\t\tif (part === 0) {\n\t\t\tguess = 0;\n\t\t}\n\t\telse {\n\t\t\tguess = (part / n) | 0;\n\t\t}\n\n\t\tvar check = n * guess;\n\t\tdiff = part - check;\n\t\tquot[i++] = guess;\n\t\tif (!guess) {\n\t\t\tdigits.pop();\n\t\t\tcontinue;\n\t\t}\n\n\t\tdigits.pop();\n\t\tpart = diff;\n\t}\n\n\tr = new BigInteger([diff], 1, CONSTRUCT);\n\tif (this._s < 0) {\n\t\tr = r.negate();\n\t}\n\treturn [new BigInteger(quot.reverse(), sign, CONSTRUCT), r];\n};\n\n/*\n\tFunction: isEven\n\tReturn true iff *this* is divisible by two.\n\n\tNote that <BigInteger.ZERO> is even.\n\n\tReturns:\n\n\t\ttrue if *this* is even, false otherwise.\n\n\tSee Also:\n\n\t\t<isOdd>\n*/\nBigInteger.prototype.isEven = function() {\n\tvar digits = this._d;\n\treturn this._s === 0 || digits.length === 0 || (digits[0] % 2) === 0;\n};\n\n/*\n\tFunction: isOdd\n\tReturn true iff *this* is not divisible by two.\n\n\tReturns:\n\n\t\ttrue if *this* is odd, false otherwise.\n\n\tSee Also:\n\n\t\t<isEven>\n*/\nBigInteger.prototype.isOdd = function() {\n\treturn !this.isEven();\n};\n\n/*\n\tFunction: sign\n\tGet the sign of a <BigInteger>.\n\n\tReturns:\n\n\t\t* -1 if *this* < 0\n\t\t* 0 if *this* == 0\n\t\t* +1 if *this* > 0\n\n\tSee Also:\n\n\t\t<isZero>, <isPositive>, <isNegative>, <compare>, <BigInteger.ZERO>\n*/\nBigInteger.prototype.sign = function() {\n\treturn this._s;\n};\n\n/*\n\tFunction: isPositive\n\tReturn true iff *this* > 0.\n\n\tReturns:\n\n\t\ttrue if *this*.compare(<BigInteger.ZERO>) == 1.\n\n\tSee Also:\n\n\t\t<sign>, <isZero>, <isNegative>, <isUnit>, <compare>, <BigInteger.ZERO>\n*/\nBigInteger.prototype.isPositive = function() {\n\treturn this._s > 0;\n};\n\n/*\n\tFunction: isNegative\n\tReturn true iff *this* < 0.\n\n\tReturns:\n\n\t\ttrue if *this*.compare(<BigInteger.ZERO>) == -1.\n\n\tSee Also:\n\n\t\t<sign>, <isPositive>, <isZero>, <isUnit>, <compare>, <BigInteger.ZERO>\n*/\nBigInteger.prototype.isNegative = function() {\n\treturn this._s < 0;\n};\n\n/*\n\tFunction: isZero\n\tReturn true iff *this* == 0.\n\n\tReturns:\n\n\t\ttrue if *this*.compare(<BigInteger.ZERO>) == 0.\n\n\tSee Also:\n\n\t\t<sign>, <isPositive>, <isNegative>, <isUnit>, <BigInteger.ZERO>\n*/\nBigInteger.prototype.isZero = function() {\n\treturn this._s === 0;\n};\n\n/*\n\tFunction: exp10\n\tMultiply a <BigInteger> by a power of 10.\n\n\tThis is equivalent to, but faster than\n\n\t> if (n >= 0) {\n\t>     return this.multiply(BigInteger(\"1e\" + n));\n\t> }\n\t> else { // n <= 0\n\t>     return this.quotient(BigInteger(\"1e\" + -n));\n\t> }\n\n\tParameters:\n\n\t\tn - The power of 10 to multiply *this* by. *n* is converted to a\n\t\tjavascipt number and must be no greater than <BigInteger.MAX_EXP>\n\t\t(0x7FFFFFFF), or an exception will be thrown.\n\n\tReturns:\n\n\t\t*this* * (10 ** *n*), truncated to an integer if necessary.\n\n\tSee Also:\n\n\t\t<pow>, <multiply>\n*/\nBigInteger.prototype.exp10 = function(n) {\n\tn = +n;\n\tif (n === 0) {\n\t\treturn this;\n\t}\n\tif (Math.abs(n) > Number(MAX_EXP)) {\n\t\tthrow new Error(\"exponent too large in BigInteger.exp10\");\n\t}\n\tif (n > 0) {\n\t\tvar k = new BigInteger(this._d.slice(), this._s, CONSTRUCT);\n\n\t\tfor (; n >= BigInteger_base_log10; n -= BigInteger_base_log10) {\n\t\t\tk._d.unshift(0);\n\t\t}\n\t\tif (n == 0)\n\t\t\treturn k;\n\t\tk._s = 1;\n\t\tk = k.multiplySingleDigit(Math.pow(10, n));\n\t\treturn (this._s < 0 ? k.negate() : k);\n\t} else if (-n >= this._d.length*BigInteger_base_log10) {\n\t\treturn ZERO;\n\t} else {\n\t\tvar k = new BigInteger(this._d.slice(), this._s, CONSTRUCT);\n\n\t\tfor (n = -n; n >= BigInteger_base_log10; n -= BigInteger_base_log10) {\n\t\t\tk._d.shift();\n\t\t}\n\t\treturn (n == 0) ? k : k.divRemSmall(Math.pow(10, n))[0];\n\t}\n};\n\n/*\n\tFunction: pow\n\tRaise a <BigInteger> to a power.\n\n\tIn this implementation, 0**0 is 1.\n\n\tParameters:\n\n\t\tn - The exponent to raise *this* by. *n* must be no greater than\n\t\t<BigInteger.MAX_EXP> (0x7FFFFFFF), or an exception will be thrown.\n\n\tReturns:\n\n\t\t*this* raised to the *nth* power.\n\n\tSee Also:\n\n\t\t<modPow>\n*/\nBigInteger.prototype.pow = function(n) {\n\tif (this.isUnit()) {\n\t\tif (this._s > 0) {\n\t\t\treturn this;\n\t\t}\n\t\telse {\n\t\t\treturn BigInteger(n).isOdd() ? this : this.negate();\n\t\t}\n\t}\n\n\tn = BigInteger(n);\n\tif (n._s === 0) {\n\t\treturn ONE;\n\t}\n\telse if (n._s < 0) {\n\t\tif (this._s === 0) {\n\t\t\tthrow new Error(\"Divide by zero\");\n\t\t}\n\t\telse {\n\t\t\treturn ZERO;\n\t\t}\n\t}\n\tif (this._s === 0) {\n\t\treturn ZERO;\n\t}\n\tif (n.isUnit()) {\n\t\treturn this;\n\t}\n\n\tif (n.compareAbs(MAX_EXP) > 0) {\n\t\tthrow new Error(\"exponent too large in BigInteger.pow\");\n\t}\n\tvar x = this;\n\tvar aux = ONE;\n\tvar two = BigInteger.small[2];\n\n\twhile (n.isPositive()) {\n\t\tif (n.isOdd()) {\n\t\t\taux = aux.multiply(x);\n\t\t\tif (n.isUnit()) {\n\t\t\t\treturn aux;\n\t\t\t}\n\t\t}\n\t\tx = x.square();\n\t\tn = n.quotient(two);\n\t}\n\n\treturn aux;\n};\n\n/*\n\tFunction: modPow\n\tRaise a <BigInteger> to a power (mod m).\n\n\tBecause it is reduced by a modulus, <modPow> is not limited by\n\t<BigInteger.MAX_EXP> like <pow>.\n\n\tParameters:\n\n\t\texponent - The exponent to raise *this* by. Must be positive.\n\t\tmodulus - The modulus.\n\n\tReturns:\n\n\t\t*this* ^ *exponent* (mod *modulus*).\n\n\tSee Also:\n\n\t\t<pow>, <mod>\n*/\nBigInteger.prototype.modPow = function(exponent, modulus) {\n\tvar result = ONE;\n\tvar base = this;\n\n\twhile (exponent.isPositive()) {\n\t\tif (exponent.isOdd()) {\n\t\t\tresult = result.multiply(base).remainder(modulus);\n\t\t}\n\n\t\texponent = exponent.quotient(BigInteger.small[2]);\n\t\tif (exponent.isPositive()) {\n\t\t\tbase = base.square().remainder(modulus);\n\t\t}\n\t}\n\n\treturn result;\n};\n\n/*\n\tFunction: log\n\tGet the natural logarithm of a <BigInteger> as a native JavaScript number.\n\n\tThis is equivalent to\n\n\t> Math.log(this.toJSValue())\n\n\tbut handles values outside of the native number range.\n\n\tReturns:\n\n\t\tlog( *this* )\n\n\tSee Also:\n\n\t\t<toJSValue>\n*/\nBigInteger.prototype.log = function() {\n\tswitch (this._s) {\n\tcase 0:\t return -Infinity;\n\tcase -1: return NaN;\n\tdefault: // Fall through.\n\t}\n\n\tvar l = this._d.length;\n\n\tif (l*BigInteger_base_log10 < 30) {\n\t\treturn Math.log(this.valueOf());\n\t}\n\n\tvar N = Math.ceil(30/BigInteger_base_log10);\n\tvar firstNdigits = this._d.slice(l - N);\n\treturn Math.log((new BigInteger(firstNdigits, 1, CONSTRUCT)).valueOf()) + (l - N) * Math.log(BigInteger_base);\n};\n\n/*\n\tFunction: valueOf\n\tConvert a <BigInteger> to a native JavaScript integer.\n\n\tThis is called automatically by JavaScipt to convert a <BigInteger> to a\n\tnative value.\n\n\tReturns:\n\n\t\t> parseInt(this.toString(), 10)\n\n\tSee Also:\n\n\t\t<toString>, <toJSValue>\n*/\nBigInteger.prototype.valueOf = function() {\n\treturn parseInt(this.toString(), 10);\n};\n\n/*\n\tFunction: toJSValue\n\tConvert a <BigInteger> to a native JavaScript integer.\n\n\tThis is the same as valueOf, but more explicitly named.\n\n\tReturns:\n\n\t\t> parseInt(this.toString(), 10)\n\n\tSee Also:\n\n\t\t<toString>, <valueOf>\n*/\nBigInteger.prototype.toJSValue = function() {\n\treturn parseInt(this.toString(), 10);\n};\n\nBigInteger.prototype.lowVal = function () {\n\treturn this._d[0] || 0;\n};\n\nvar MAX_EXP = BigInteger(0x7FFFFFFF);\n// Constant: MAX_EXP\n// The largest exponent allowed in <pow> and <exp10> (0x7FFFFFFF or 2147483647).\nBigInteger.MAX_EXP = MAX_EXP;\n\n(function() {\n\tfunction makeUnary(fn) {\n\t\treturn function(a) {\n\t\t\treturn fn.call(BigInteger(a));\n\t\t};\n\t}\n\n\tfunction makeBinary(fn) {\n\t\treturn function(a, b) {\n\t\t\treturn fn.call(BigInteger(a), BigInteger(b));\n\t\t};\n\t}\n\n\tfunction makeTrinary(fn) {\n\t\treturn function(a, b, c) {\n\t\t\treturn fn.call(BigInteger(a), BigInteger(b), BigInteger(c));\n\t\t};\n\t}\n\n\t(function() {\n\t\tvar i, fn;\n\t\tvar unary = \"toJSValue,isEven,isOdd,sign,isZero,isNegative,abs,isUnit,square,negate,isPositive,toString,next,prev,log\".split(\",\");\n\t\tvar binary = \"compare,remainder,divRem,subtract,add,quotient,divide,multiply,pow,compareAbs\".split(\",\");\n\t\tvar trinary = [\"modPow\"];\n\n\t\tfor (i = 0; i < unary.length; i++) {\n\t\t\tfn = unary[i];\n\t\t\tBigInteger[fn] = makeUnary(BigInteger.prototype[fn]);\n\t\t}\n\n\t\tfor (i = 0; i < binary.length; i++) {\n\t\t\tfn = binary[i];\n\t\t\tBigInteger[fn] = makeBinary(BigInteger.prototype[fn]);\n\t\t}\n\n\t\tfor (i = 0; i < trinary.length; i++) {\n\t\t\tfn = trinary[i];\n\t\t\tBigInteger[fn] = makeTrinary(BigInteger.prototype[fn]);\n\t\t}\n\n\t\tBigInteger.exp10 = function(x, n) {\n\t\t\treturn BigInteger(x).exp10(n);\n\t\t};\n\t})();\n})();\n\nexports.BigInteger = BigInteger;\n})(typeof exports !== 'undefined' ? exports : this);\n","export default function timeoutSignal(timeout) {\r\n\tif (!Number.isInteger(timeout)) {\r\n\t\tthrow new TypeError('Expected an integer');\r\n\t}\r\n\r\n\tconst controller = new AbortController();\r\n\r\n\tconst timeoutId = setTimeout(() => {\r\n\t\tcontroller.abort();\r\n\t}, timeout);\r\n\r\n\t// Allow Node.js processes to exit early if only the timeout is running\r\n\ttimeoutId?.unref?.();\r\n\r\n\treturn controller.signal;\r\n}\r\n"],"names":["ownKeys","e","r","t","Object","keys","getOwnPropertySymbols","o","filter","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","arguments","length","forEach","getOwnPropertyDescriptors","defineProperties","defineProperty","utxoScore","x","feeRate","value","coinSelectAccumulativeDesc","utxos","outputs","sortUtxo","concat","sort","a","b","forceSelect","coinSelect","inputsForCoinSelect","outputsForCoinSelect","algorithm","max","some","type","every","Number","isNaN","Error","finalOutputs","map","address","undefined","script","unspentSelectFn","inputs","fee","parseInt","getCoinSelectTxType","encoding","EAddressEncodings","P2PKH","P2SH_P2WPKH","P2WPKH","P2TR","P2WSH","coinSelectWithWitness","params","network","changeAddress","txType","coinselectParams","u","own","coinbase","txid","txId","error","transaction","coinSelectFailed","bytes","slicePathTemplate","template","getUtxoAccountPrefixPath","fullPath","pathComponent","split","pop","join","getBIP44Path","account","realPath","key","entries","addresses","path","estimateTxSize","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","result","Super","NewTarget","this","constructor","Reflect","construct","Boolean","prototype","valueOf","call","KeyringBase","_VaultContext","_super","vault","_this","options","networkId","_basePrepareHdNormalAccounts","_basePrepareHdUtxoAccounts","_batchGetAddresses","_exportAccountSecretKeys","_buildHwAllNetworkPrepareAccountsParams","_proto","isKeyringImported","keyringType","imported","isKeyringHd","hd","isKeyringHardware","hardware","isKeyringWatching","watching","basePrepareHdNormalAccounts","walletId","names","deriveInfo","indexes","coinType","namePrefix","idSuffix","settings","getVaultSettings","accountType","buildAddressesInfo","usedIndexes","addressInfos","ret","idx","publicKey","relPath","VARIANT","pathIndex","name","buildHDAccountName","id","buildHDAccountId","indexedAccountId","buildIndexedAccountId","index","impl","pub","_x","_x2","basePrepareHdUtxoAccounts","skipCheckAccountExist","UTXO","checkIsAccountUsed","accountCreatePerf","utxoBuildAddressesInfo","addressesInfo","utxoBuildAddressesInfoDone","buildDBUtxoAccounts","xpub","xpubSegwit","prefix","isLast","isUsed","wait","buildDBUtxoAccountsDone","_x3","_x4","batchGetAddresses","_x5","exportAccountSecretKeys","_x6","buildHwAllNetworkPrepareAccountsParams","_x7","buildPrepareAccountsPrefixedPath","_KeyringBase","KeyringBaseMock","_super2","KeyringExternalBase","args","external","_baseSignMessageByExternalWallet","_baseSendTransactionByExternalWallet","_basePrepareExternalAccounts","baseSignMessageByExternalWallet","backgroundApi","serviceDappSide","signMessage","getAccount","baseSendTransactionByExternalWallet","sendTransaction","prepareAccounts","basePrepareExternalAccounts","KeyringHardwareBase","_getHardwareSDKInstance","_baseGetDeviceAccountData","_baseGetDeviceAccountPublicKeys","_baseGetDeviceAccountAddresses","_getAllNetworkPrepareAccounts","getHardwareSDKInstance","_ref","$backgroundApiProxy","serviceHardware","getSDKInstance","getHardwareSDKInstanceDone","baseGetDeviceAccountData","sdkGetDataFn","errorMessage","deviceParams","dbDevice","confirmOnDevice","connectId","deviceId","coinName","pathPrefix","pathSuffix","showOnOnekeyFn","arrIndex","EveryItem","LastItem","baseGetDeviceAccountPublicKeys","sdkGetPublicKeysFn","baseGetDeviceAccountAddresses","sdkGetAddressFn","getAllNetworkPrepareAccounts","hwSdkNetwork","buildPath","buildResultAccount","hwAllNetworkPrepareAccountsResponse","resultAccounts","_loop","find","item","success","payload","hasErrorItem","indexOf","KeyringHdBase","_KeyringSoftwareBase","KeyringImportedBase","KeyringSoftwareBase","_baseGetCredentialsInfo","_baseSignTransactionBtc","_baseSignTransaction","_baseSignMessage","_baseSignMessageBtc","_basePrepareAccountsImported","_basePrepareAccountsImportedUtxo","_basePrepareAccountsHd","_basePrepareAccountsHdUtxo","_baseExportAccountSecretKeys","_baseGetPrivateKeys","baseGetCredentialsInfo","password","getCredential","credential","accountId","baseSignTransactionBtc","coreApi","unsignedTx","signOnly","credentials","networkInfo","getCoreApiNetworkInfo","btcExtraInfo","relPaths","prepareBtcSignExtraInfo","signTransaction","baseSignTransaction","baseSignMessage","messages","Promise","all","msg","unsignedMsg","baseSignMessageBtc","_this2","unsignedMessage","basePrepareAccountsImported","importedCredential","networks","createAtNetwork","privateKey","onlyAvailableOnCertainNetworks","coinTypeDefault","privateKeyRaw","getAddressFromPrivate","addressEncoding","addressUsed","buildImportedAccountId","resolve","basePrepareAccountsImportedUtxo","_x8","basePrepareAccountsHd","_ref2","_this3","getAddressesFromHd","hdCredential","_x10","_x9","basePrepareAccountsHdUtxo","_ref3","_this4","getCredentialsInfo","getAddressesFromHdDone","_x13","_x11","_x12","baseExportAccountSecretKeys","keyType","serviceNetwork","getDeriveTypeByTemplate","getExportedSecretKey","_x14","baseGetPrivateKeys","getPrivateKeys","_x15","KeyringWatchingBase","_signTransaction","_signMessage","_basePrepareUtxoWatchingAccounts","_basePrepareSimpleWatchingAccounts","intl","formatMessage","ETranslations","wallet_error_trade_with_watched_acocunt","basePrepareUtxoWatchingAccounts","isUrlAccount","buildWatchingAccountId","addressFromXpub","getAddressFromPublic","basePrepareSimpleWatchingAccounts","SIMPLE","_excluded","_excluded2","VaultBase","_VaultBaseChainOnly","uuid","mutexBuildOnChainHistoryTxGetDBAccount","_init","_initKeyring","_broadcastTransaction","_broadcastTransactionFromCustomRpc","_validateSendAmount","_buildOnChainHistoryTxExtraInfo","_precheckUnsignedTx","_buildEstimateFeeParams","_buildParseTransactionParams","_buildFetchHistoryListParams","_buildHistoryTx","_buildOnChainHistoryTx","_buildHistoryTxAction","_buildHistoryTxFunctionCallAction","_buildHistoryTxUnknownAction","_buildHistoryTransferAction","_buildTxTransferAssetAction","_buildInternalSwapAction","_buildInternalStakingAction","_getAccount","_getAccountAddress","_getAccountPath","_getAccountXpub","_fillTokensDetails","_fillAccountDetails","_isEarliestLocalPendingTx","_buildReplaceEncodedTx","_attachFeeInfoToDAppEncodedTx","_activateToken","_getAddressType","_fetchAccountDetails","_fetchAccountDetailsByApi","_fetchAccountDetailsByRpc","_fetchTokenList","_fetchTokenListByApi","_fetchTokenListByRpc","_estimateFee","_estimateFeeByApi","_estimateFeeByRpc","_fetchAccountHistoryDetail","_fetchAccountHistoryDetailByApi","_fetchAccountHistoryDetailByRpc","_buildOkxSwapEncodedTx","_proto2","init","config","initKeyring","_x16","isChainOnly","keyring","keyringCreator","_x17","broadcastTransaction","signedTx","serviceSend","encodedTx","_x18","broadcastTransactionFromCustomRpc","_x19","validateSendAmount","_x20","buildOnChainHistoryTxExtraInfo","onChainHistoryTx","_x21","precheckUnsignedTx","_x22","buildEstimateFeeParams","_x23","buildParseTransactionParams","_x24","buildFetchHistoryListParams","_x25","buildHistoryTx","historyTxToMerge","decodedTx","isSigner","isLocalCreated","dbAccount","accountAddress","serviceAccount","getAccountAddressForApi","getAccountXpub","owner","signer","historyTx","buildLocalHistoryId","_x26","fixOnChainHistoryAccountData","originAccountId","originNetworkId","originAccountAddress","originXpub","allNetworkHistoryExtraItems","onekeyall","allNetworkAccount","i","_","txXpub","accountXpub","buildOnChainHistoryTx","tokens","nfts","dbAccountCache","runExclusive","getDBAccountSafe","vaultSettings","action","buildHistoryTxAction","tx","from","to","nonce","actions","status","totalFeeInNative","gasFee","totalFeeFiatValue","gasFeeFiatValue","nativeAmount","isUtxo","extraInfo","label","updatedAt","Date","timestamp","getTime","createdAt","isFinal","_x27","Approve","tokenApprove","buildHistoryTxApproveAction","sends","receives","buildHistoryTxFunctionCallAction","buildHistoryTxUnknownAction","buildHistoryTransferAction","_x28","getNetwork","FUNCTION_CALL","functionCall","functionName","functionHash","functionCode","_x29","UNKNOWN","unknownAction","_x30","ASSET_TRANSFER","assetTransfer","send","buildHistoryTransfer","transfer","receive","_x31","icon","symbol","isNFT","isNative","price","tokenAddress","token","tokenIdOnNetwork","amount","isOwn","decimals","TOKEN_APPROVE","spender","shiftedBy","toFixed","isInfiniteAmount","buildTxTransferAssetAction","transfers","data","application","isInternalSwap","isInternalStaking","internalStakingLabel","swapReceivedAddress","swapReceivedNetworkId","getAccountAddress","sendNativeTokenAmountBN","OUT","plus","nativeAmountValue","convertAmountToChainValue","_x32","buildInternalSwapAction","_swapSendToken$logoUR","_swapSendToken$name","_swapReceiveToken$log","_swapReceiveToken$nam","_providerInfo$provide","swapData","swapInfo","swapToAddress","swapSendToken","sender","swapReceiveToken","receiver","providerInfo","swapBuildResData","info","otherFeeInfos","otherFeeInfoTransfers","contractAddress","logoURI","accountInfo","receivingAddress","feeInfo","_feeInfo$token$logoUR","_feeInfo$token$name","providerName","providerLogo","_x33","buildInternalStakingAction","_send$token$logoURI","_send$token$name","_receive$token$logoUR","_receive$token$name","stakingInfo","stakingData","stakingToAddress","protocol","protocolLogoURI","_x34","_params$signOnly","_signedTx$encodedTx","_x35","getDBAccount","isAccountCompatibleWithNetwork","slice","getNetworkInfo","externalAccount","externalAccountAddress","connectedAddresses","buildExternalAccountAddress","fallbackIndex","_externalAccount$sele","selectedAddress","getNetworkImpl","addressDetail","buildAccountAddressDetail","allowEmptyAddress","isValid","getAccountPath","networkAccount","getXpubFromAccount","fillTokensDetails","tokensDetails","_x36","fillAccountDetails","accountDetails","_x37","isEarliestLocalPendingTx","_x38","buildReplaceEncodedTx","replaceType","_x39","attachFeeInfoToDAppEncodedTx","_x40","activateToken","_x41","getAddressType","_x42","buildStakeEncodedTx","fetchAccountDetails","isCustomNetwork","fetchAccountDetailsByRpc","fetchAccountDetailsByApi","_x43","queryParams","client","serviceAccountProfile","getClient","Wallet","get","headers","_getWalletTypeHeader","signal","_x44","_x45","fetchTokenList","fetchTokenListByRpc","fetchTokenListByApi","_x46","serviceToken","requestApiParams","flag","contractList","contract","post","_x47","_x48","estimateFee","estimateFeeByRpc","estimateFeeByApi","_x49","rest","serviceGas","_x50","_x51","fetchAccountHistoryDetail","fetchAccountHistoryDetailByRpc","fetchAccountHistoryDetailByApi","_x52","_x53","_x54","buildOkxSwapEncodedTx","_x55","VaultBaseChainOnly","_getXpubFromAccount","_proxyJsonRPCCall","_addressFromBase","_addressToBase","_baseValidatePrivateKey","_baseValidateGeneralInput","_baseGetPrivateKeyFromImported","_validateAmountInputShown","_checkIsDomainName","_resolveDomainName","_getCustomRpcEndpointStatus","_checkFeeSupportInfo","_fetchTokenDetails","_fetchTokenDetailsByApi","_fetchTokenDetailsByRpc","proxyJsonRPCCall","request","addressFromBase","addressToBase","baseValidatePrivateKey","baseValidateGeneralInput","addressResult","xpubResult","xprvtResult","privateKeyResult","input","encodedText","validateAddress","validateXprvt","validateXpub","validatePrivateKey","inputDecoded","baseGetPrivateKeyFromImported","stripHexPrefix","text","validateAmountInputShown","toAddress","checkIsDomainName","resolveDomainName","getCustomRpcEndpointStatus","checkFeeSupportInfo","fetchTokenDetails","fetchTokenDetailsByRpc","fetchTokenDetailsByApi","_params$signal","VaultContext","getWalletIdFromAccountId","_getNetworkId","_getNetwork","_getNetworkChainId","_getNetworkImpl","_getVaultSettings2","_getNetworkInfo","_getCoreApiNetworkInfo","_getRpcUrl","_destroy","getNetworkId","cached","_network","getNetworkChainId","hex","addressPrefix","curve","networkImpl","chainId","isTestnet","networkChainCode","code","getRpcUrl","destroy","KeyringExternal","_KeyringExternalBase","CRYPTONOTE_PUBLIC_ADDRESS_BASE58_PREFIX","CRYPTONOTE_PUBLIC_INTEGRATED_ADDRESS_BASE58_PREFIX","CRYPTONOTE_PUBLIC_SUBADDRESS_BASE58_PREFIX","encodeVarInt","number","numberBI","BigInteger","out","compare","lowVal","toString","divide","pow","toJSValue","cnFastHash","validHex","RegExp","test","keccak256","hexToBin","Uint8Array","cnBase58Decode","alphabetStr","alphabet","charCodeAt","encodedBlockSizes","alphabetSize","fullEncodedBlockSize","UINT64_MAX","decodeBlock","buf","resSize","resNum","order","_i","digit","product","multipliedBy","comparedTo","set","uint64To8be","num","size","numBN","res","twopow8","mod","toNumber","dividedToIntegerBy","addressArray","strToBin","str","fullBlockCount","Math","floor","lastBlockSize","lastBlockDecodedSize","_i2","subarray","binToHex","bin","decodeAddress","dec","expectedPrefix","expectedPrefixInt","expectedPrefixSub","spend","view","KeyringHardware","_KeyringHardwareBase","coreChainApi","dynex","showOnOneKey","dnxAddresses","allNetworkAccounts","p","accountUtils","buildPathFromTemplate","addressInfo","sdk","deviceCommonParams","signTxParams","feeMeta","paymentIdHex","paymentId","dnxSignTransaction","rawTx","serializeTransaction","txKey","computedKeyImages","signatures","outputKeys","decodedFrom","decodedTo","totalInputAmountBN","reduce","acc","chargeAmount","minus","globalIndex","_i3","outputKey","gt","extra","signature","ephemeralTxPubKey","integerToLittleEndianHex","_hexString$match","hexString","match","reverse","ephemeralTxSecKey","hexUtils","KeyringHd","_KeyringHdBase","_getPrivateKeys","_prepareAccounts","appLocale","global_bulk_add_account_dnx_error","KeyringImported","_KeyringImportedBase","KeyringWatching","_KeyringWatchingBase","ClientDnx","url","rpc","JsonRPCRequest","axios","A","create","baseURL","timeout","timerUtils","getTimeDurationMs","seconds","_getBlockCount","getBlockCount","count","resp","tx_as_hex","do_not_relay","DEFAULT_TX_FEE","Vault","_VaultBase","keyringMap","qr","hw","_collectUnspentOutputs","utxoList","withUTXOList","withFrozenBalance","utxo","prevIndex","vout","txPubkey","prevOutPubkey","promise","maxAge","_validateAddressCache","serviceValidator","serverValidateAddress","normalizedAddress","displayAddress","primitive","minute","_buildAccountAddressDetail","_buildEncodedTxFromTransfer2","_buildDecodedTx","_buildUnsignedTx","_buildUnsignedTxFromEncodedTx2","_checkHasLocalTxOutInPending2","baseAddress","buildEncodedTx","transfersInfo","_buildEncodedTxFromTransfer","transferInfo","tokenInfo","unspentOutputs","finalAmount","_collectInputs","_inputsFromCoinSelect","totalUnspentOutputsAmount","output","lte","lt","Payment","inputsFromCoinSelect","tempInput","buildDecodedTx","nativeToken","getNativeToken","_nativeToken$logoURI","Pending","buildUnsignedTx","_params$encodedTx","_buildUnsignedTxFromEncodedTx","updateUnsignedTx","getPrivateKeyFromImported","xprvt","validateGeneralInput","filledTokensDetails","_checkHasLocalTxOutInPending","balance","balanceParsed","frozenBalance","frozenBalanceParsed","totalBalance","totalBalanceParsed","hasLocalTxOutInPending","pendingTxs","serviceHistory","getAccountLocalHistoryPendingTxs","fetchAccountHistory","len","start","performance","now","rpcUrl","bestBlockNumber","responseTime","customRpcInfo","EVaultKeyringTypes","EWrappedType","normalizePayload","method","jsonrpc","assign","parseRPCResponse","response","message","_call","_batchCall","_batchChunkCall","assembleHeaders","JSON","stringify","_error$response$statu","isAxiosError","batchCall","calls","ignoreSoloError","autoFallbackToRpcSingle","jsonResponses","c","Array","isArray","_error$response$statu2","idA","idB","catch","batchChunkCall","payloads","flattenedCalls","flat","flattenedResults","results","startIndex","chunk","chunkSize","exports","CONSTRUCT","n","s","ZERO","parse","_d","_s","_construct","BigInteger_base","base","base_log10","ONE","M_ONE","_0","_1","small","digits","group","numerals","sign","abs","divmod","divRem","radixRegex","prefixRE","expandExponential","replace","f","l","z","substr","parts","exec","baseSection","d","splice","multiply","add","negate","subtract","al","bl","sum","min","carry","m","compareAbs","diff","borrow","addOne","subtractOne","next","prev","isFinite","nl","isUnit","square","pl","partial","bi","jlimit","j","multiplySingleDigit","k","imult1","quotient","remainder","divRemSmall","guess","b_digits","b_index","quot","part","unshift","xlen","ylen","highx","highy","ceil","check","n_s","q","isEven","isOdd","isPositive","isNegative","isZero","exp10","MAX_EXP","shift","aux","two","modPow","exponent","modulus","log","Infinity","NaN","N","firstNdigits","makeUnary","fn","makeBinary","makeTrinary","unary","binary","trinary","timeoutSignal","isInteger","TypeError","controller","AbortController","timeoutId","setTimeout","abort","unref"],"sourceRoot":""}