{"version":3,"file":"static/js/92935.f118aacf29.chunk.js","mappings":"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","sources":["webpack://web/../../packages/core/src/chains/kaspa/sdkKaspa/clientRestApi.ts","webpack://web/../../packages/core/src/chains/kaspa/sdkKaspa/constant.ts","webpack://web/../../packages/core/src/chains/kaspa/sdkKaspa/address.ts","webpack://web/../../packages/core/src/chains/kaspa/sdkKaspa/privatekey.ts","webpack://web/../../packages/core/src/chains/kaspa/sdkKaspa/publickey.ts","webpack://web/../../packages/core/src/consts/index.ts","webpack://web/../../packages/core/src/chains/kaspa/sdkKaspa/utxo.ts","webpack://web/../../packages/core/src/chains/kaspa/sdkKaspa/transaction.ts","webpack://web/../../packages/core/src/chains/kaspa/sdkKaspa/types/utxo.ts","webpack://web/../../packages/kit-bg/src/vaults/impls/kaspa/settings.ts"],"sourcesContent":["import _get from\"lodash/get\";import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import Axios from'axios';import{OneKeyInternalError}from'@onekeyhq/shared/src/errors';import{ETranslations}from'@onekeyhq/shared/src/locale';import{submitTransactionFromString}from\"./transaction\";export var RestAPIClient=function(){function RestAPIClient(url){this.axios=Axios.create({baseURL:url,timeout:30*1000});}var _proto=RestAPIClient.prototype;_proto.getBlockdag=function(){var _getBlockdag=_asyncToGenerator(function*(){try{var resp=yield this.axios.get('/info/blockdag',{headers:{'Content-Type':'application/json'}});return resp.data;}catch(error){return{networkName:'',blockCount:'0',headerCount:'0',virtualDaaScore:'0'};}});function getBlockdag(){return _getBlockdag.apply(this,arguments);}return getBlockdag;}();_proto.getNetworkInfo=function(){var _getNetworkInfo=_asyncToGenerator(function*(){try{var resp=yield this.axios.get('/info/network',{headers:{'Content-Type':'application/json'}});return resp.data;}catch(error){return{networkName:'',blockCount:'0',headerCount:'0',virtualDaaScore:'0'};}});function getNetworkInfo(){return _getNetworkInfo.apply(this,arguments);}return getNetworkInfo;}();_proto.queryBalance=function(){var _queryBalance=_asyncToGenerator(function*(address){try{var resp=yield this.axios.get(`/addresses/${address}/balance`,{headers:{'Content-Type':'application/json'}});return resp.data.balance;}catch(error){return 0n;}});function queryBalance(_x){return _queryBalance.apply(this,arguments);}return queryBalance;}();_proto.queryUtxos=function(){var _queryUtxos=_asyncToGenerator(function*(address){try{var resp=yield this.axios.get(`/addresses/${address}/utxos`,{headers:{'Content-Type':'application/json'}});return resp.data;}catch(error){return[];}});function queryUtxos(_x2){return _queryUtxos.apply(this,arguments);}return queryUtxos;}();_proto.sendRawTransaction=function(){var _sendRawTransaction=_asyncToGenerator(function*(rawTx){var transaction=submitTransactionFromString(rawTx);return this.axios.post(`/transactions`,transaction,{headers:{'Content-Type':'application/json'}}).then(function(resp){return resp.data.transactionId;}).catch(function(error){var message=_get(error,'response.data.error','');if(message.match(/payment of \\d+ is dust/)){throw new OneKeyInternalError({message,key:ETranslations.send_amount_too_small});}if(message.toLowerCase().indexOf('insufficient balance')!==-1){throw new OneKeyInternalError({message,key:ETranslations.earn_insufficient_balance});}throw new OneKeyInternalError(message);});});function sendRawTransaction(_x3){return _sendRawTransaction.apply(this,arguments);}return sendRawTransaction;}();_proto.getTransaction=function(){var _getTransaction=_asyncToGenerator(function*(transactionId){var resp=yield this.axios.get(`/transactions/${transactionId}?inputs=true&outputs=true&resolve_previous_outpoints=light`,{headers:{'Content-Type':'application/json'}});return resp.data;});function getTransaction(_x4){return _getTransaction.apply(this,arguments);}return getTransaction;}();_proto.getTransactions=function(){var _getTransactions=_asyncToGenerator(function*(txIds){var resp=yield this.axios.post(`/transactions/search?resolve_previous_outpoints=light`,{transactionIds:[...txIds]},{headers:{'Content-Type':'application/json'}});return resp.data;});function getTransactions(_x5){return _getTransactions.apply(this,arguments);}return getTransactions;}();_proto.getTransactionsByAddress=function(){var _getTransactionsByAddress=_asyncToGenerator(function*(address){var resp=yield this.axios.get(`/addresses/${address}/full-transactions?limit=50&offset=0&resolve_previous_outpoints=light`,{headers:{'Content-Type':'application/json'}});return resp.data;});function getTransactionsByAddress(_x6){return _getTransactionsByAddress.apply(this,arguments);}return getTransactionsByAddress;}();return _createClass(RestAPIClient);}();","export var DEFAULT_FEE=1000;export var CONFIRMATION_COUNT=10;export var DUST_AMOUNT=20_000_000;export var MAX_BLOCK_SIZE=1_000_000;export var MAX_ORPHAN_TX_MASS=100_000;export var SOMPI_PER_KASPA=100_000_000;export var MAX_SOMPI=21_000_000*SOMPI_PER_KASPA;export var MINIMUM_RELAY_TRANSACTION_FEE=DEFAULT_FEE;export var DEFAULT_FEE_RATE=1;export var DEFAULT_SEQNUMBER=0;","import{Address}from'@onekeyfe/kaspa-core-lib';export var EKaspaAddressType=function(EKaspaAddressType){EKaspaAddressType[\"PayToPublicKey\"]=\"pubkey\";EKaspaAddressType[\"PayToScriptHash\"]=\"scripthash\";return EKaspaAddressType;}({});export function addressFromPublicKeyBuffer(pubKey,chainId){return Address.fromPublicKeyBuffer(pubKey,chainId).toString();}export function addressFromPublicKey(pubKey,chainId){return Address.fromPublicKey(pubKey,chainId).toString();}export function fromString(address,chainId,addressType=EKaspaAddressType.PayToPublicKey){return Address.fromString(address,chainId,addressType);}export function isValidAddress(address,chainId,addressType=EKaspaAddressType.PayToPublicKey){return Address.isValid(address,chainId,addressType);}","import{bytesToHex}from'@noble/hashes/utils';import{PrivateKey}from'@onekeyfe/kaspa-core-lib';import{tapTweakHash}from'@onekeyhq/core/src/secret/bip340';import ecc from\"../../../secret/nobleSecp256k1Wrapper\";export function privateKeyFromWIF(wif){return PrivateKey.fromWIF(wif);}export function privateKeyFromBuffer(pri,chainId){return PrivateKey.fromBuffer(pri,chainId);}export function privateKeyFromOriginPrivateKey(pri,pub,chainId){var privateKey=new Uint8Array(pri);var publicKey=pub;if(publicKey[0]===3){privateKey=ecc.privateNegate(privateKey);}if(!privateKey){throw new Error('Private key is required for tweaking signer!');}var tweakedPrivateKey=ecc.privateAdd(privateKey,tapTweakHash(publicKey.slice(1),undefined));return new PrivateKey(bytesToHex(tweakedPrivateKey),chainId);}","import{bytesToHex}from'@noble/hashes/utils';import{PublicKey}from'@onekeyfe/kaspa-core-lib';import{tweakPublicKey}from'@onekeyhq/core/src/secret/bip340';export var EKaspaSignType=function(EKaspaSignType){EKaspaSignType[\"Schnorr\"]=\"schnorr\";EKaspaSignType[\"ECDSA\"]=\"ecdsa\";return EKaspaSignType;}({});export function publicKeyFromDER(der){return PublicKey.fromString(der);}export function publicKeyFromX(odd,x){var pub=odd?`02${x}`:`03${x}`;return PublicKey.fromString(pub);}export function publicKeyFromOriginPubkey(pubkey){var tweakPublic=tweakPublicKey(Buffer.from(pubkey.slice(1)));if(!tweakPublic)throw new Error('Public key tweak failed');var{parity,x:xOnlyPubkey}=tweakPublic;return publicKeyFromX(parity===0,bytesToHex(xOnlyPubkey));}","import BigNumber from'bignumber.js';export var MAX_UINT64_VALUE=new BigNumber('18446744073709551615');","import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import{BigNumber}from'bignumber.js';import{MAX_UINT64_VALUE}from'@onekeyhq/core/src/consts';import{LowerTransactionAmountError}from'@onekeyhq/shared/src/errors';import{CONFIRMATION_COUNT}from\"./constant\";import{UnspentOutput}from\"./types\";function sortUXTO(utxos){return utxos.sort(function(a,b){return a.blockDaaScore-b.blockDaaScore||new BigNumber(b.satoshis).minus(a.satoshis).toNumber()||a.txid.localeCompare(b.txid)||a.vout-b.vout;});}function formatUtxo(entries){var result=[];for(var entry of entries){var _scriptPublicKey$vers;var{transactionId,index}=entry.outpoint;var{address,utxoEntry}=entry;var{amount,scriptPublicKey,blockDaaScore}=utxoEntry;var item={txid:transactionId,address,vout:index,scriptPubKey:scriptPublicKey.scriptPublicKey,scriptPublicKeyVersion:(_scriptPublicKey$vers=scriptPublicKey.version)!=null?_scriptPublicKey$vers:0,satoshis:Array.isArray(amount)?amount[0]:amount,blockDaaScore:parseInt(blockDaaScore,10)};result.push(item);}return result;}export function queryConfirmUTXOs(_x,_x2){return _queryConfirmUTXOs.apply(this,arguments);}function _queryConfirmUTXOs(){_queryConfirmUTXOs=_asyncToGenerator(function*(client,address){var networkInfo=yield client.getNetworkInfo();var utxos=yield client.queryUtxos(address);var blueScore=new BigNumber(networkInfo.virtualDaaScore);var confirmedUtxos=utxos.filter(function(u){return blueScore.minus(u.utxoEntry.blockDaaScore).isGreaterThanOrEqualTo(CONFIRMATION_COUNT);});return Promise.resolve(formatUtxo(confirmedUtxos));});return _queryConfirmUTXOs.apply(this,arguments);}export function selectUTXOs(confirmUtxos,txAmount,prioritys){var sortedUtxos=sortUXTO(confirmUtxos);var selectedUtxos=[];var utxoIds=[];var totalVal=new BigNumber(0);var mass=0;for(var info of sortedUtxos){var utxo=new UnspentOutput(info);utxoIds.push(utxo.id);selectedUtxos.push(info);mass+=utxo.mass;totalVal=totalVal.plus(utxo.satoshis);if(totalVal.isGreaterThanOrEqualTo(txAmount))break;}if(totalVal.isLessThan(txAmount))throw new LowerTransactionAmountError();if(totalVal.isGreaterThan(MAX_UINT64_VALUE)){throw new Error('utxo amount is too large');}return{utxoIds,utxos:selectedUtxos,mass};}","import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import{bytesToHex}from'@noble/hashes/utils';import*as necc from'@noble/secp256k1';import{Transaction,crypto}from'@onekeyfe/kaspa-core-lib';import BigNumber from'bignumber.js';import{OneKeyInternalError}from'@onekeyhq/shared/src/errors';import{ETranslations}from'@onekeyhq/shared/src/locale';import hexUtils from'@onekeyhq/shared/src/utils/hexUtils';import ecc from\"../../../secret/nobleSecp256k1Wrapper\";import{DEFAULT_FEE_RATE,DEFAULT_SEQNUMBER}from\"./constant\";import{UnspentOutput}from\"./types\";export var SignatureType=function(SignatureType){SignatureType[SignatureType[\"SIGHASH_ALL\"]=1]=\"SIGHASH_ALL\";SignatureType[SignatureType[\"SIGHASH_NONE\"]=2]=\"SIGHASH_NONE\";SignatureType[SignatureType[\"SIGHASH_SINGLE\"]=3]=\"SIGHASH_SINGLE\";SignatureType[SignatureType[\"SIGHASH_FORKID\"]=64]=\"SIGHASH_FORKID\";SignatureType[SignatureType[\"SIGHASH_ANYONECANPAY\"]=128]=\"SIGHASH_ANYONECANPAY\";return SignatureType;}({});export var SigningMethodType=function(SigningMethodType){SigningMethodType[\"ECDSA\"]=\"ecdsa\";SigningMethodType[\"Schnorr\"]=\"schnorr\";return SigningMethodType;}({});export function toTransaction(tx){var _tx$feeInfo$price;var{inputs,outputs,mass}=tx;var{address:from}=inputs[0]||{};var{address:to,value}=outputs[0];var sendAmount=new BigNumber(value);var fee=new BigNumber((_tx$feeInfo$price=tx.feeInfo?.price)!=null?_tx$feeInfo$price:DEFAULT_FEE_RATE).multipliedBy(mass).toFixed();if(tx.hasMaxSend){sendAmount=sendAmount.minus(fee);}if(sendAmount.isLessThan(0)){throw new OneKeyInternalError({message:'Insufficient Balance.',key:ETranslations.swap_page_button_insufficient_balance});}var txn=new Transaction().from(inputs.map(function(input){return new UnspentOutput(input);})).to(to,sendAmount.toFixed()).setVersion(0).fee(parseInt(fee,10)).change(from?.toString());txn.inputs.forEach(function(input){input.sequenceNumber=DEFAULT_SEQNUMBER;});return txn;}function sign(_x,_x2,_x3,_x4,_x5,_x6,_x7,_x8){return _sign2.apply(this,arguments);}function _sign2(){_sign2=_asyncToGenerator(function*(transaction,signer,sighashType,inputIndex,subscript,satoshisBN,flags,signingMethod){var hashbuf=Transaction.Sighash.sighash(transaction,sighashType,inputIndex,subscript,satoshisBN,flags);if(signingMethod==='schnorr'){var privateKey=(yield signer.getPrivateKey()).toBuffer();var signatureBuffer=ecc.signSchnorr(hashbuf,privateKey);var signature=bytesToHex(signatureBuffer);var sig=crypto.Signature.fromString(hexUtils.stripHexPrefix(signature));var b=sig.toBuffer('schnorr').toString('hex');if(b.length<128)throw new Error(`Invalid Signature\\nsecp256k1 sig:${hexUtils.hexlify(signature)}\\nSignature.fromString:${b}`);sig.compressed=true;sig.nhashtype=sighashType;return sig;}if(signingMethod==='ecdsa'){var _signatureBuffer=yield necc.sign(hashbuf,(yield signer.getPrivateKey()).toBuffer());var _signature=hexUtils.hexlify(_signatureBuffer);var _sig=crypto.Signature.fromString(hexUtils.stripHexPrefix(_signature));_sig.compressed=true;_sig.nhashtype=sighashType;return _sig;}});return _sign2.apply(this,arguments);}function getSignaturesWithInput(_x9,_x10,_x11,_x12){return _getSignaturesWithInput.apply(this,arguments);}function _getSignaturesWithInput(){_getSignaturesWithInput=_asyncToGenerator(function*(transaction,input,index,signer,sigtype=SignatureType.SIGHASH_ALL|SignatureType.SIGHASH_FORKID,signingMethod=SigningMethodType.Schnorr){if(input instanceof Transaction.Input.PublicKey){var publicKey=signer.getPublicKey();if(publicKey.toString()===hexUtils.hexlify(input?.output?.script?.getPublicKey(),{noPrefix:true})){var txSign=yield sign(transaction,signer,sigtype,index,input.output?.script,input.output?.satoshis,undefined,signingMethod);return[new Transaction.Signature({publicKey,prevTxId:input.prevTxId,outputIndex:input.outputIndex,inputIndex:index,signature:txSign,sigtype})];}return[];}});return _getSignaturesWithInput.apply(this,arguments);}function getSignatures(_x13,_x14,_x15){return _getSignatures.apply(this,arguments);}function _getSignatures(){_getSignatures=_asyncToGenerator(function*(signer,list,transaction,sigtype=SignatureType.SIGHASH_ALL|SignatureType.SIGHASH_FORKID,signingMethod=SigningMethodType.Schnorr){var results=[];var sigs;for(var{input,index}of list){sigs=(yield getSignaturesWithInput(transaction,input,index,signer,sigtype,signingMethod))||[];results.push(...sigs);}return results;});return _getSignatures.apply(this,arguments);}function _sign(_x16,_x17,_x18,_x19){return _sign3.apply(this,arguments);}function _sign3(){_sign3=_asyncToGenerator(function*(signer,list,transaction,sigtype,signingMethod=SigningMethodType.ECDSA){var signatures=(yield getSignatures(signer,list,transaction,sigtype,signingMethod))||[];for(var signature of signatures){transaction.inputs[signature.inputIndex].addSignature(transaction,signature,signingMethod);}return transaction.toBuffer().toString('hex');});return _sign3.apply(this,arguments);}export function signTransaction(transaction,signer){var list=[];for(var i=0;i<transaction.inputs.length;i+=1){var input=transaction.inputs[i];list.push({input,index:i});}return _sign(signer,list,transaction,SignatureType.SIGHASH_ALL,SigningMethodType.Schnorr);}export function transactionFromString(hex){return new Transaction(hex);}export function submitTransactionFromString(hex){var tx=new Transaction(hex);var{nLockTime:lockTime,version}=tx;var inputs=tx.inputs.map(function(input){return{previousOutpoint:{transactionId:input.prevTxId.toString('hex'),index:input.outputIndex},signatureScript:input.script.toBuffer().toString('hex'),sequence:DEFAULT_SEQNUMBER,sigOpCount:1};});var outputs=tx.outputs.map(function(output){return{amount:new BigNumber(output.satoshis).toFixed(),scriptPublicKey:{scriptPublicKey:output.script.toBuffer().toString('hex'),version:0}};});return{transaction:{version,inputs,outputs,lockTime,fee:tx.fee,subnetworkId:'0000000000000000000000000000000000000000'}};}","import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import{Transaction}from'@onekeyfe/kaspa-core-lib';export var UnspentOutput=function(_Transaction$UnspentO){_inherits(UnspentOutput,_Transaction$UnspentO);var _super=_createSuper(UnspentOutput);function UnspentOutput(o){var _this;_this=_super.call(this,o);_this.blockDaaScore=o.blockDaaScore;_this.scriptPublicKeyVersion=o.scriptPublicKeyVersion;_this.id=`${_this.txId}${_this.outputIndex}`;_this.signatureOPCount=_this.script.getSignatureOperationsCount();_this.mass=_this.signatureOPCount*Transaction.MassPerSigOp;_this.mass+=151*Transaction.MassPerTxByte;_this.scriptPubKey=o.scriptPubKey;return _this;}var _proto=UnspentOutput.prototype;_proto.toJSON=function toJSON(){return{txid:this.txId,address:this.address.toString(),vout:this.outputIndex,scriptPubKey:this.scriptPubKey,satoshis:this.satoshis,blockDaaScore:this.blockDaaScore,scriptPublicKeyVersion:this.scriptPublicKeyVersion};};UnspentOutput.fromJSON=function fromJSON(json){return new UnspentOutput(json);};return _createClass(UnspentOutput);}(Transaction.UnspentOutput);","import BigNumber from'bignumber.js';import{DUST_AMOUNT}from'@onekeyhq/core/src/chains/kaspa/sdkKaspa';import{ECoreApiExportedSecretKeyType}from'@onekeyhq/core/src/types';import{COINTYPE_KASPA,IMPL_KASPA,INDEX_PLACEHOLDER}from'@onekeyhq/shared/src/engine/engineConsts';import{ETranslations}from'@onekeyhq/shared/src/locale';import{EDBAccountType}from\"../../../dbs/local/consts\";var accountDeriveInfo={default:{namePrefix:'KASPA',labelKey:ETranslations.bip44__standard,template:`m/44'/${COINTYPE_KASPA}'/0'/0/${INDEX_PLACEHOLDER}`,coinType:COINTYPE_KASPA}};var settings={impl:IMPL_KASPA,coinTypeDefault:COINTYPE_KASPA,accountType:EDBAccountType.SIMPLE,importedAccountEnabled:true,hardwareAccountEnabled:true,externalAccountEnabled:false,watchingAccountEnabled:true,supportExportedSecretKeys:[ECoreApiExportedSecretKeyType.privateKey],defaultFeePresetIndex:1,isUtxo:false,isSingleToken:true,NFTEnabled:false,nonceRequired:false,feeUTXORequired:false,editFeeEnabled:true,replaceTxEnabled:false,estimatedFeePollingInterval:300,customRpcEnabled:true,accountDeriveInfo,networkInfo:{default:{curve:'secp256k1',addressPrefix:''}},minTransferAmount:new BigNumber(DUST_AMOUNT).shiftedBy(-8).toString(),isNativeTokenContractAddressEmpty:true};export default Object.freeze(settings);"],"names":["RestAPIClient","url","this","axios","A","create","baseURL","timeout","_getBlockdag","_getNetworkInfo","_queryBalance","_queryUtxos","_sendRawTransaction","_getTransaction","_getTransactions","_getTransactionsByAddress","_proto","prototype","getBlockdag","get","headers","data","error","networkName","blockCount","headerCount","virtualDaaScore","apply","arguments","getNetworkInfo","queryBalance","address","balance","_x","queryUtxos","_x2","sendRawTransaction","rawTx","transaction","post","then","resp","transactionId","catch","message","match","key","ETranslations","send_amount_too_small","toLowerCase","indexOf","earn_insufficient_balance","_x3","getTransaction","_x4","getTransactions","txIds","transactionIds","_x5","getTransactionsByAddress","_x6","CONFIRMATION_COUNT","DUST_AMOUNT","MAX_BLOCK_SIZE","MAX_ORPHAN_TX_MASS","DEFAULT_FEE_RATE","DEFAULT_SEQNUMBER","EKaspaAddressType","addressFromPublicKey","pubKey","chainId","Address","fromPublicKey","toString","isValidAddress","addressType","PayToPublicKey","isValid","privateKeyFromWIF","wif","PrivateKey","fromWIF","privateKeyFromBuffer","pri","fromBuffer","privateKeyFromOriginPrivateKey","pub","privateKey","Uint8Array","publicKey","privateNegate","Error","tweakedPrivateKey","privateAdd","slice","undefined","EKaspaSignType","publicKeyFromX","odd","x","PublicKey","fromString","publicKeyFromOriginPubkey","pubkey","tweakPublic","Buffer","from","parity","xOnlyPubkey","MAX_UINT64_VALUE","selectUTXOs","confirmUtxos","txAmount","prioritys","sortedUtxos","sortUXTO","utxos","sort","a","b","blockDaaScore","satoshis","minus","toNumber","txid","localeCompare","vout","selectedUtxos","utxoIds","totalVal","mass","info","utxo","UnspentOutput","push","id","plus","isGreaterThanOrEqualTo","isLessThan","isGreaterThan","SignatureType","SigningMethodType","toTransaction","tx","_tx$feeInfo$price","inputs","outputs","to","value","sendAmount","fee","feeInfo","price","multipliedBy","toFixed","hasMaxSend","swap_page_button_insufficient_balance","txn","Transaction","map","input","setVersion","parseInt","change","forEach","sequenceNumber","_sign2","signer","sighashType","inputIndex","subscript","satoshisBN","flags","signingMethod","hashbuf","Sighash","sighash","getPrivateKey","toBuffer","signatureBuffer","signSchnorr","signature","sig","crypto","Signature","stripHexPrefix","length","hexlify","compressed","nhashtype","_signatureBuffer","_signature","_sig","getSignaturesWithInput","_x9","_x10","_x11","_x12","_getSignaturesWithInput","index","sigtype","SIGHASH_ALL","SIGHASH_FORKID","Schnorr","Input","getPublicKey","output","script","noPrefix","txSign","sign","_x7","_x8","prevTxId","outputIndex","_getSignatures","list","sigs","results","_sign3","ECDSA","signatures","getSignatures","_x13","_x14","_x15","addSignature","signTransaction","i","_sign","_x16","_x17","_x18","_x19","submitTransactionFromString","hex","nLockTime","lockTime","version","previousOutpoint","signatureScript","sequence","sigOpCount","amount","scriptPublicKey","subnetworkId","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","result","Super","NewTarget","constructor","Reflect","construct","t","Boolean","valueOf","call","_Transaction$UnspentO","_super","o","_this","scriptPublicKeyVersion","txId","signatureOPCount","getSignatureOperationsCount","MassPerSigOp","MassPerTxByte","scriptPubKey","toJSON","fromJSON","json","accountDeriveInfo","default","namePrefix","labelKey","bip44__standard","template","coinType","settings","impl","coinTypeDefault","accountType","SIMPLE","importedAccountEnabled","hardwareAccountEnabled","externalAccountEnabled","watchingAccountEnabled","supportExportedSecretKeys","ECoreApiExportedSecretKeyType","defaultFeePresetIndex","isUtxo","isSingleToken","NFTEnabled","nonceRequired","feeUTXORequired","editFeeEnabled","replaceTxEnabled","estimatedFeePollingInterval","customRpcEnabled","networkInfo","curve","addressPrefix","minTransferAmount","shiftedBy","isNativeTokenContractAddressEmpty","Object","freeze"],"sourceRoot":""}