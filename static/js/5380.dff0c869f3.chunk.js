!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},o=(new e.Error).stack;o&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[o]="44894024-879d-4446-88f4-a8120b64d1ac",e._sentryDebugIdIdentifier="sentry-dbid-44894024-879d-4446-88f4-a8120b64d1ac")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"5.5.0 (2024121652)"},(self.webpackChunkweb=self.webpackChunkweb||[]).push([[5380],{183259:(e,o,r)=>{r.d(o,{U:()=>i});var n=r(514041),t=r(17617),a=r(490343),s=r(831085);var i=(0,n.memo)((function BasicDiscoveryIcon({uri:e,size:o,borderRadius:r="$2"}){return e?(0,s.jsxs)(a.Image,{size:o,borderRadius:r,borderWidth:t.A.hairlineWidth,borderColor:"$borderSubdued",borderCurve:"continuous","data-sentry-element":"Image","data-sentry-component":"BasicDiscoveryIcon","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Discovery/components/DiscoveryIcon.tsx",children:[(0,s.jsx)(a.Image.Source,{source:{uri:decodeURIComponent(e)},"data-sentry-element":"unknown","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Discovery/components/DiscoveryIcon.tsx"}),(0,s.jsx)(a.Image.Fallback,{"data-sentry-element":"unknown","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Discovery/components/DiscoveryIcon.tsx",children:(0,s.jsx)(a.Stack,{bg:"$bgStrong",ai:"center",jc:"center",width:"100%",height:"100%","data-sentry-element":"Stack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Discovery/components/DiscoveryIcon.tsx",children:(0,s.jsx)(a.Icon,{name:"GlobusOutline",width:"100%",height:"100%","data-sentry-element":"Icon","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Discovery/components/DiscoveryIcon.tsx"})})}),(0,s.jsx)(a.Image.Loading,{"data-sentry-element":"unknown","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Discovery/components/DiscoveryIcon.tsx",children:(0,s.jsx)(a.Skeleton,{width:"100%",height:"100%","data-sentry-element":"Skeleton","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Discovery/components/DiscoveryIcon.tsx"})})]}):(0,s.jsx)(a.Skeleton,{width:o,height:o,radius:"round"})}))},105380:(e,o,r)=>{r.r(o),r.d(o,{default:()=>w});var n=r(324586),t=r(586330),a=r(514041),s=r(908867),i=r(490343),c=r(643087),l=r(791088),d=r(498356),u=r(911998),p=r(657412),m=r(334439),f=r(296827),y=r(899035),g=r(183259),k=r(564452),b=r(831085);function ownKeys(e,o){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);o&&(n=n.filter((function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable}))),r.push.apply(r,n)}return r}function _objectSpread(e){for(var o=1;o<arguments.length;o++){var r=null!=arguments[o]?arguments[o]:{};o%2?ownKeys(Object(r),!0).forEach((function(o){(0,n.A)(e,o,r[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach((function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(r,o))}))}return e}const w=(0,k.k)((function BookmarkListModal(){var e,o=(0,d.A)(),r=(0,s.A)(),{buildBookmarkData:n,removeBrowserBookmark:k,modifyBrowserBookmark:w}=(0,p.Gd)().current,{handleOpenWebSite:v}=(0,p.yZ)().current,[h,x]=(0,a.useState)([]),{run:j,result:D}=(0,u.yk)((0,t.A)((function*(){var e=yield c.A.serviceDiscovery.getBookmarkData({generateIcon:!0});return x(e||[]),e||[]})),[],{watchLoading:!0}),I=(0,a.useCallback)((function(e){i.Dialog.confirm({title:r.formatMessage({id:m.ETranslations.explore_rename}),renderContent:(0,b.jsx)(i.Dialog.Form,{formProps:{defaultValues:{name:e.title}},children:(0,b.jsx)(i.Dialog.FormField,{name:"name",rules:{required:{value:!0,message:r.formatMessage({id:m.ETranslations.global_name})}},children:(0,b.jsx)(i.Input,{autoFocus:!0,flex:1})})}),onConfirm:function(o){var n=o.getForm()?.getValues();n?.name&&w(_objectSpread(_objectSpread({},e),{},{title:n.name})),i.Toast.success({title:r.formatMessage({id:m.ETranslations.explore_bookmark_renamed})}),setTimeout((function(){j()}),200)}})}),[w,j,r]),S=(0,a.useRef)(!1),[_,O]=(0,a.useState)(!1),P=(0,a.useCallback)((e=(0,t.A)((function*(e){var o=e();void 0!==o&&(yield k(h[o].url),S.current=!0,setTimeout((0,t.A)((function*(){yield j()})),200))})),function(o){return e.apply(this,arguments)}),[k,j,h]);(0,a.useEffect)((function(){S.current&&0===D?.length&&(o.pop(),S.current=!1)}),[D?.length,o]);var E=(0,a.useCallback)((function(e){n({data:e}),x(e)}),[n]),B=(0,a.useCallback)((function(){return(0,b.jsx)(i.Button,{variant:"tertiary",onPress:function(){O((function(e){return!e}))},children:_?r.formatMessage({id:m.ETranslations.global_done}):r.formatMessage({id:m.ETranslations.global_edit})})}),[_,r]),{gtMd:M}=(0,i.useMedia)();return(0,b.jsxs)(i.Page,{"data-sentry-element":"Page","data-sentry-component":"BookmarkListModal","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Discovery/pages/BookmarkListModal/index.tsx",children:[(0,b.jsx)(i.Page.Header,{title:r.formatMessage({id:m.ETranslations.explore_bookmarks}),headerRight:B,"data-sentry-element":"unknown","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Discovery/pages/BookmarkListModal/index.tsx"}),(0,b.jsx)(i.Page.Body,{"data-sentry-element":"unknown","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Discovery/pages/BookmarkListModal/index.tsx",children:(0,b.jsx)(i.SortableListView,{data:h,enabled:_,keyExtractor:function(e){return`${e.url}`},getItemLayout:function(e,o){return{length:60,offset:60*o,index:o}},onDragEnd:function(e){return E(e.data)},ListEmptyComponent:(0,b.jsx)(i.Empty,{py:"$32",my:"$4",icon:"BookmarkOutline",title:r.formatMessage({id:m.ETranslations.explore_no_boomark})}),renderItem:function({item:e,getIndex:n,drag:t,dragProps:a}){return(0,b.jsxs)(l.c,_objectSpread(_objectSpread({h:60,testID:`search-modal-${e.url.toLowerCase()}`},!_&&{onPress:function(){v({navigation:o,switchToMultiTabBrowser:M,webSite:{url:e.url,title:e.title}}),f.U.discovery.dapp.enterDapp({dappDomain:e.url,dappName:e.title,enterMethod:y.z.bookmark})}}),{},{children:[_?(0,b.jsx)(l.c.IconButton,{title:r.formatMessage({id:m.ETranslations.global_remove}),icon:"MinusCircleSolid",iconProps:{color:"$iconCritical"},onPress:function(){P(n),i.Toast.success({title:r.formatMessage({id:m.ETranslations.explore_removed_success})})},testID:"action-list-item-rename"},"remove"):null,(0,b.jsx)(l.c.Avatar,{avatar:(0,b.jsx)(g.U,{size:"$10",uri:e.logo})}),(0,b.jsx)(l.c.Text,{primary:e.title,primaryTextProps:{numberOfLines:1},secondary:e.url,secondaryTextProps:{numberOfLines:1},flex:1}),_?(0,b.jsxs)(i.XStack,{gap:"$6",children:[(0,b.jsx)(l.c.IconButton,{title:r.formatMessage({id:m.ETranslations.explore_rename}),icon:"PencilOutline",onPress:function(){return I(e)},testID:"action-list-item-rename"},"rename"),(0,b.jsx)(l.c.IconButton,{cursor:"move",icon:"DragOutline",onPressIn:t,dataSet:a},"darg")]}):null]}))},"data-sentry-element":"SortableListView","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Discovery/pages/BookmarkListModal/index.tsx"})})]})}))}}]);
//# sourceMappingURL=5380.dff0c869f3.chunk.js.map