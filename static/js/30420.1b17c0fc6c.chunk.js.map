{"version":3,"file":"static/js/30420.1b17c0fc6c.chunk.js","mappings":"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","sources":["webpack://web/../../packages/core/src/chains/ckb/sdkCkb/index.ts","webpack://web/../../packages/core/src/utils/index.ts","webpack://web/../../packages/kit-bg/src/vaults/base/KeyringBase.ts","webpack://web/../../packages/kit-bg/src/vaults/base/KeyringExternalBase.ts","webpack://web/../../packages/kit-bg/src/vaults/base/KeyringHardwareBase.ts","webpack://web/../../packages/kit-bg/src/vaults/base/KeyringHdBase.ts","webpack://web/../../packages/kit-bg/src/vaults/base/KeyringImportedBase.ts","webpack://web/../../packages/kit-bg/src/vaults/base/KeyringSoftwareBase.ts","webpack://web/../../packages/kit-bg/src/vaults/base/KeyringWatchingBase.ts","webpack://web/../../packages/kit-bg/src/vaults/base/VaultBase.ts","webpack://web/../../packages/kit-bg/src/vaults/base/VaultContext.ts","webpack://web/../../packages/kit-bg/src/vaults/impls/ckb/KeyringExternal.ts","webpack://web/../../packages/kit-bg/src/vaults/impls/ckb/utils/transaction.ts","webpack://web/../../packages/kit-bg/src/vaults/impls/ckb/KeyringHardware.ts","webpack://web/../../packages/kit-bg/src/vaults/impls/ckb/KeyringHd.ts","webpack://web/../../packages/kit-bg/src/vaults/impls/ckb/KeyringImported.ts","webpack://web/../../packages/kit-bg/src/vaults/impls/ckb/KeyringWatching.ts","webpack://web/../../packages/kit-bg/src/vaults/impls/ckb/sdkCkb/ClientCkb.ts","webpack://web/../../packages/kit-bg/src/vaults/impls/ckb/utils/balance.ts","webpack://web/../../packages/kit-bg/src/vaults/impls/ckb/utils/history.ts","webpack://web/../../packages/kit-bg/src/vaults/impls/ckb/utils/xudt.ts","webpack://web/../../packages/kit-bg/src/vaults/impls/ckb/utils/script.ts","webpack://web/../../packages/kit-bg/src/vaults/impls/ckb/Vault.ts","webpack://web/../../packages/kit-bg/src/vaults/impls/ckb/utils/address.ts","webpack://web/../../packages/kit-bg/src/vaults/types.ts"],"sourcesContent":["import{utils}from'@ckb-lumos/base';import{getConfig as getSDKConfig}from'@ckb-lumos/config-manager';import{generateAddress}from'@ckb-lumos/helpers';function blake160(publicKey){return new utils.CKBHasher().update(publicKey).digestHex().slice(0,42);}export function getConfig(chainId){var config=getSDKConfig();if(chainId==='mainnet'&&config.PREFIX==='ckb'){return config;}if(chainId==='testnet'&&config.PREFIX==='ckt'){return config;}throw new Error('Invalid chainId');}export function scriptToAddress(script,{config=undefined}={}){return generateAddress(script,{config});}export function pubkeyToAddress(publicKey,{config}){var args=blake160(publicKey);var template=config.SCRIPTS.SECP256K1_BLAKE160;if(!template){throw new Error('SECP256K1_BLAKE160 not found in config');}var lockScript={codeHash:template.CODE_HASH,hashType:template.HASH_TYPE,args};return scriptToAddress(lockScript,{config});}","import coinselectUtils from'@onekeyfe/coinselect/utils';import accountUtils from'@onekeyhq/shared/src/utils/accountUtils';export function slicePathTemplate(template){return accountUtils.slicePathTemplate(template);}export function getUtxoAccountPrefixPath({fullPath}){var pathComponent=fullPath.split('/');pathComponent.pop();pathComponent.pop();var prefixPath=pathComponent.join('/');return prefixPath;}export function getBIP44Path(account,address){var realPath='';for(var[key,value]of Object.entries(account.addresses)){if(value===address){realPath=key;break;}}return`${account.path}/${realPath}`;}export function estimateTxSize(inputsForCoinSelect,outputsForCoinSelect){return coinselectUtils.transactionBytes(inputsForCoinSelect,outputsForCoinSelect);}","import _isNil from\"lodash/isNil\";import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import{NotImplemented}from'@onekeyhq/shared/src/errors';import{defaultLogger}from'@onekeyhq/shared/src/logger/logger';import accountUtils from'@onekeyhq/shared/src/utils/accountUtils';import timerUtils from'@onekeyhq/shared/src/utils/timerUtils';import{EDBAccountType}from\"../../dbs/local/consts\";import{EVaultKeyringTypes}from\"../types\";import{VaultContext}from\"./VaultContext\";export var KeyringBase=function(_VaultContext){_inherits(KeyringBase,_VaultContext);var _super=_createSuper(KeyringBase);function KeyringBase(vault){var _this;_this=_super.call(this,vault.options);_this.vault=vault;if(_this.vault.networkId!==vault.options.networkId){throw new Error('KeyringBase ERROR: networkId not match1');}if(_this.networkId!==vault.options.networkId){throw new Error('KeyringBase ERROR: networkId not match2');}return _this;}var _proto=KeyringBase.prototype;_proto.isKeyringImported=function isKeyringImported(){return this.keyringType===EVaultKeyringTypes.imported;};_proto.isKeyringHd=function isKeyringHd(){return this.keyringType===EVaultKeyringTypes.hd;};_proto.isKeyringHardware=function isKeyringHardware(){return this.keyringType===EVaultKeyringTypes.hardware;};_proto.isKeyringWatching=function isKeyringWatching(){return this.keyringType===EVaultKeyringTypes.watching;};_proto.basePrepareHdNormalAccounts=function(){var _basePrepareHdNormalAccounts=_asyncToGenerator(function*(params,options){var{walletId}=this;if(!walletId){throw new Error('walletId is not defined');}var{names,deriveInfo,indexes}=params;var{coinType,template,namePrefix,idSuffix}=deriveInfo;if(!coinType){throw new Error('coinType is not defined');}var settings=yield this.getVaultSettings();var{accountType}=settings;var{buildAddressesInfo}=options;var usedIndexes=indexes;var addressInfos=yield buildAddressesInfo({usedIndexes});var ret=[];for(var idx=0;idx<addressInfos.length;idx+=1){var{path,publicKey,address,addresses,relPath}=addressInfos[idx];if(!path){throw new Error('KeyringHD prepareAccounts ERROR: path not found');}if(accountType===EDBAccountType.VARIANT&&!addresses){throw new Error('addresses is required for variant account');}if(accountType===EDBAccountType.VARIANT&&address){throw new Error('address should not set for variant account');}var pathIndex=usedIndexes[idx];var name=names?.[idx]||accountUtils.buildHDAccountName({pathIndex,namePrefix});var id=accountUtils.buildHDAccountId({walletId,path,idSuffix});var indexedAccountId=accountUtils.buildIndexedAccountId({walletId,index:pathIndex});ret.push({id,name,type:accountType,path,pathIndex,relPath,indexedAccountId,coinType,impl:settings.impl,pub:publicKey,address,addresses,template});}return ret;});function basePrepareHdNormalAccounts(_x,_x2){return _basePrepareHdNormalAccounts.apply(this,arguments);}return basePrepareHdNormalAccounts;}();_proto.basePrepareHdUtxoAccounts=function(){var _basePrepareHdUtxoAccounts=_asyncToGenerator(function*(params,options){var{walletId}=this;if(!walletId){throw new Error('walletId is undefined');}var{indexes,deriveInfo,names,skipCheckAccountExist=true}=params;var{coinType,template,namePrefix}=deriveInfo;if(!coinType){throw new Error('coinType is not defined');}var settings=yield this.getVaultSettings();var{accountType}=settings;if(accountType!==EDBAccountType.UTXO){throw new Error('accountType is not utxo');}var{checkIsAccountUsed,buildAddressesInfo}=options;var ignoreFirst=false;var usedIndexes=[...(ignoreFirst?[indexes[0]-1]:[]),...indexes];defaultLogger.account.accountCreatePerf.utxoBuildAddressesInfo();var addressesInfo=yield buildAddressesInfo({usedIndexes});defaultLogger.account.accountCreatePerf.utxoBuildAddressesInfoDone();defaultLogger.account.accountCreatePerf.buildDBUtxoAccounts();var ret=[];var idx=0;for(var{path,relPath,publicKey,xpub,xpubSegwit,address,addresses}of addressesInfo){if(!path||_isNil(xpub)||!addresses){throw new Error('basePrepareHdUtxoAccounts ERROR: path or xpub or addresses is undefined');}if(!relPath){throw new Error('basePrepareHdUtxoAccounts ERROR: relPath is undefined');}var prefix=namePrefix;var pathIndex=usedIndexes[idx];var name=names?.[idx]||`${prefix} #${pathIndex+1}`;var id=`${this.walletId}--${path}`;if(!ignoreFirst||idx>0){var indexedAccountId=accountUtils.buildIndexedAccountId({walletId:this.walletId,index:pathIndex});ret.push({id,name,type:accountType,path,pathIndex,indexedAccountId,relPath,coinType,impl:settings.impl,pub:publicKey,xpub,xpubSegwit,address,addresses,template});}var isLast=idx===addressesInfo.length-1;if(!skipCheckAccountExist&&!isLast&&checkIsAccountUsed){var{isUsed}=yield checkIsAccountUsed({xpub,xpubSegwit,address});if(!isUsed){break;}yield timerUtils.wait(200);}idx+=1;}defaultLogger.account.accountCreatePerf.buildDBUtxoAccountsDone();return ret;});function basePrepareHdUtxoAccounts(_x3,_x4){return _basePrepareHdUtxoAccounts.apply(this,arguments);}return basePrepareHdUtxoAccounts;}();_proto.batchGetAddresses=function(){var _batchGetAddresses=_asyncToGenerator(function*(params){return[];});function batchGetAddresses(_x5){return _batchGetAddresses.apply(this,arguments);}return batchGetAddresses;}();_proto.exportAccountSecretKeys=function(){var _exportAccountSecretKeys=_asyncToGenerator(function*(params){throw new NotImplemented();});function exportAccountSecretKeys(_x6){return _exportAccountSecretKeys.apply(this,arguments);}return exportAccountSecretKeys;}();_proto.buildHwAllNetworkPrepareAccountsParams=function(){var _buildHwAllNetworkPrepareAccountsParams=_asyncToGenerator(function*(params){return undefined;});function buildHwAllNetworkPrepareAccountsParams(_x7){return _buildHwAllNetworkPrepareAccountsParams.apply(this,arguments);}return buildHwAllNetworkPrepareAccountsParams;}();_proto.buildPrepareAccountsPrefixedPath=function buildPrepareAccountsPrefixedPath(params){throw new NotImplemented();};return _createClass(KeyringBase);}(VaultContext);export var KeyringBaseMock=function(_KeyringBase){_inherits(KeyringBaseMock,_KeyringBase);var _super2=_createSuper(KeyringBaseMock);function KeyringBaseMock(){return _super2.apply(this,arguments);}return _createClass(KeyringBaseMock);}(KeyringBase);","import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import{OneKeyInternalError}from'@onekeyhq/shared/src/errors';import{EVaultKeyringTypes}from\"../types\";import{KeyringBase}from\"./KeyringBase\";export var KeyringExternalBase=function(_KeyringBase){_inherits(KeyringExternalBase,_KeyringBase);var _super=_createSuper(KeyringExternalBase);function KeyringExternalBase(...args){var _this;_this=_super.call(this,...args);_this.keyringType=EVaultKeyringTypes.external;return _this;}var _proto=KeyringExternalBase.prototype;_proto.baseSignMessageByExternalWallet=function(){var _baseSignMessageByExternalWallet=_asyncToGenerator(function*(params){return this.backgroundApi.serviceDappSide.signMessage({account:yield this.vault.getAccount(),networkId:this.networkId,params});});function baseSignMessageByExternalWallet(_x){return _baseSignMessageByExternalWallet.apply(this,arguments);}return baseSignMessageByExternalWallet;}();_proto.baseSendTransactionByExternalWallet=function(){var _baseSendTransactionByExternalWallet=_asyncToGenerator(function*(params){return this.backgroundApi.serviceDappSide.sendTransaction({account:yield this.vault.getAccount(),networkId:this.networkId,params});});function baseSendTransactionByExternalWallet(_x2){return _baseSendTransactionByExternalWallet.apply(this,arguments);}return baseSendTransactionByExternalWallet;}();_proto.prepareAccounts=function prepareAccounts(params){throw new OneKeyInternalError('prepareAccounts is not supported for external accounts, use serviceAccount directly');};_proto.basePrepareExternalAccounts=function(){var _basePrepareExternalAccounts=_asyncToGenerator(function*(params){return[];});function basePrepareExternalAccounts(_x3){return _basePrepareExternalAccounts.apply(this,arguments);}return basePrepareExternalAccounts;}();return _createClass(KeyringExternalBase);}(KeyringBase);","import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import{slicePathTemplate}from'@onekeyhq/core/src/utils';import appGlobals from'@onekeyhq/shared/src/appGlobals';import{OneKeyInternalError,UnsupportedAddressTypeError}from'@onekeyhq/shared/src/errors';import{convertDeviceError,convertDeviceResponse}from'@onekeyhq/shared/src/errors/utils/deviceErrorUtils';import{HardwareSDK}from'@onekeyhq/shared/src/hardware/instance';import{defaultLogger}from'@onekeyhq/shared/src/logger/logger';import{EConfirmOnDeviceType}from'@onekeyhq/shared/types/device';import{EVaultKeyringTypes}from\"../types\";import{KeyringBase}from\"./KeyringBase\";export var KeyringHardwareBase=function(_KeyringBase){_inherits(KeyringHardwareBase,_KeyringBase);var _super=_createSuper(KeyringHardwareBase);function KeyringHardwareBase(...args){var _this;_this=_super.call(this,...args);_this.keyringType=EVaultKeyringTypes.hardware;return _this;}var _proto=KeyringHardwareBase.prototype;_proto.getHardwareSDKInstance=function(){var _getHardwareSDKInstance=_asyncToGenerator(function*(){var _ref;defaultLogger.account.accountCreatePerf.getHardwareSDKInstance();var sdk=yield appGlobals?.$backgroundApiProxy?.backgroundApi?.serviceHardware?.getSDKInstance?.();var r=(_ref=sdk)!=null?_ref:HardwareSDK;defaultLogger.account.accountCreatePerf.getHardwareSDKInstanceDone();return r;});function getHardwareSDKInstance(){return _getHardwareSDKInstance.apply(this,arguments);}return getHardwareSDKInstance;}();_proto.baseGetDeviceAccountData=function(){var _baseGetDeviceAccountData=_asyncToGenerator(function*({params,usedIndexes,sdkGetDataFn,errorMessage}){var{deriveInfo,deviceParams}=params;var{dbDevice,confirmOnDevice}=deviceParams;var{connectId,deviceId}=dbDevice;var{template,coinName}=deriveInfo;var{pathPrefix,pathSuffix}=slicePathTemplate(template);var showOnOnekeyFn=function(arrIndex){if(confirmOnDevice===EConfirmOnDeviceType.EveryItem){return true;}if(confirmOnDevice===EConfirmOnDeviceType.LastItem){return arrIndex===usedIndexes[usedIndexes.length-1];}return false;};var result=yield convertDeviceResponse(_asyncToGenerator(function*(){return sdkGetDataFn({connectId,deviceId,pathPrefix,pathSuffix,template,coinName,showOnOnekeyFn});}));if(!result||result.length!==usedIndexes.length){throw new OneKeyInternalError(errorMessage);}return result;});function baseGetDeviceAccountData(_x){return _baseGetDeviceAccountData.apply(this,arguments);}return baseGetDeviceAccountData;}();_proto.baseGetDeviceAccountPublicKeys=function(){var _baseGetDeviceAccountPublicKeys=_asyncToGenerator(function*({params,usedIndexes,sdkGetPublicKeysFn}){return this.baseGetDeviceAccountData({params,usedIndexes,sdkGetDataFn:sdkGetPublicKeysFn,errorMessage:'Unable to get public keys.'});});function baseGetDeviceAccountPublicKeys(_x2){return _baseGetDeviceAccountPublicKeys.apply(this,arguments);}return baseGetDeviceAccountPublicKeys;}();_proto.baseGetDeviceAccountAddresses=function(){var _baseGetDeviceAccountAddresses=_asyncToGenerator(function*({params,usedIndexes,sdkGetAddressFn}){return this.baseGetDeviceAccountData({params,usedIndexes,sdkGetDataFn:sdkGetAddressFn,errorMessage:'Unable to get addresses.'});});function baseGetDeviceAccountAddresses(_x3){return _baseGetDeviceAccountAddresses.apply(this,arguments);}return baseGetDeviceAccountAddresses;}();_proto.getAllNetworkPrepareAccounts=function(){var _getAllNetworkPrepareAccounts=_asyncToGenerator(function*({hwSdkNetwork,params,usedIndexes,buildPath,buildResultAccount}){if(!hwSdkNetwork){return undefined;}var{hwAllNetworkPrepareAccountsResponse}=params;if(hwAllNetworkPrepareAccountsResponse?.length){var resultAccounts=[];var _loop=function*(){var path=yield buildPath({index});var account=hwAllNetworkPrepareAccountsResponse?.find(function(item){return item.network&&item.path===path&&item.network===hwSdkNetwork;});if(account&&account.success){resultAccounts.push(buildResultAccount({account,index}));}};for(var index of usedIndexes){yield*_loop();}if(resultAccounts.length===usedIndexes.length){return{success:true,payload:resultAccounts};}var hasErrorItem=hwAllNetworkPrepareAccountsResponse?.find(function(item){return!item.success&&!!item.payload?.error;});if(!hasErrorItem?.success&&hasErrorItem?.payload?.error){if(hasErrorItem?.payload?.error?.indexOf('Failure_DataError,Forbidden key path')!==-1){throw new UnsupportedAddressTypeError();}throw convertDeviceError(hasErrorItem.payload);}throw new OneKeyInternalError('SDK GetAllNetworkAccounts Failed');}});function getAllNetworkPrepareAccounts(_x4){return _getAllNetworkPrepareAccounts.apply(this,arguments);}return getAllNetworkPrepareAccounts;}();return _createClass(KeyringHardwareBase);}(KeyringBase);","import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import{EVaultKeyringTypes}from\"../types\";import{KeyringSoftwareBase}from\"./KeyringSoftwareBase\";export var KeyringHdBase=function(_KeyringSoftwareBase){_inherits(KeyringHdBase,_KeyringSoftwareBase);var _super=_createSuper(KeyringHdBase);function KeyringHdBase(...args){var _this;_this=_super.call(this,...args);_this.keyringType=EVaultKeyringTypes.hd;return _this;}return _createClass(KeyringHdBase);}(KeyringSoftwareBase);","import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import{EVaultKeyringTypes}from\"../types\";import{KeyringSoftwareBase}from\"./KeyringSoftwareBase\";export var KeyringImportedBase=function(_KeyringSoftwareBase){_inherits(KeyringImportedBase,_KeyringSoftwareBase);var _super=_createSuper(KeyringImportedBase);function KeyringImportedBase(...args){var _this;_this=_super.call(this,...args);_this.keyringType=EVaultKeyringTypes.imported;return _this;}return _createClass(KeyringImportedBase);}(KeyringSoftwareBase);","import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _isNil from\"lodash/isNil\";import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import{decryptImportedCredential}from'@onekeyhq/core/src/secret';import{OneKeyInternalError}from'@onekeyhq/shared/src/errors';import{defaultLogger}from'@onekeyhq/shared/src/logger/logger';import accountUtils from'@onekeyhq/shared/src/utils/accountUtils';import{checkIsDefined}from'@onekeyhq/shared/src/utils/assertUtils';import{noopObject}from'@onekeyhq/shared/src/utils/miscUtils';import localDb from\"../../dbs/local/localDb\";import{KeyringBase}from\"./KeyringBase\";export var KeyringSoftwareBase=function(_KeyringBase){_inherits(KeyringSoftwareBase,_KeyringBase);var _super=_createSuper(KeyringSoftwareBase);function KeyringSoftwareBase(){return _super.apply(this,arguments);}var _proto=KeyringSoftwareBase.prototype;_proto.baseGetCredentialsInfo=function(){var _baseGetCredentialsInfo=_asyncToGenerator(function*({password}){noopObject(password);var hd;var imported;if(this.isKeyringHd()){var credential=yield localDb.getCredential(checkIsDefined(this.walletId));hd=credential.credential;}if(this.isKeyringImported()){var _credential=yield localDb.getCredential(this.accountId);imported=_credential.credential;}return{hd,imported};});function baseGetCredentialsInfo(_x){return _baseGetCredentialsInfo.apply(this,arguments);}return baseGetCredentialsInfo;}();_proto.baseSignTransactionBtc=function(){var _baseSignTransactionBtc=_asyncToGenerator(function*(params){if(!this.coreApi){throw new Error('coreApi is not defined');}var vault=this.vault;var{password,unsignedTx,signOnly}=params;var credentials=yield this.baseGetCredentialsInfo(params);var networkInfo=yield this.getCoreApiNetworkInfo();var{account,btcExtraInfo,relPaths}=yield vault.prepareBtcSignExtraInfo({unsignedTx});var result=yield this.coreApi.signTransaction({networkInfo,unsignedTx,account,relPaths,password,credentials,btcExtraInfo,signOnly});return result;});function baseSignTransactionBtc(_x2){return _baseSignTransactionBtc.apply(this,arguments);}return baseSignTransactionBtc;}();_proto.baseSignTransaction=function(){var _baseSignTransaction=_asyncToGenerator(function*(params){if(!this.coreApi){throw new Error('coreApi is not defined');}var{password,unsignedTx}=params;var account=yield this.vault.getAccount();var credentials=yield this.baseGetCredentialsInfo(params);var networkInfo=yield this.getCoreApiNetworkInfo();var result=yield this.coreApi.signTransaction({networkInfo,password,account,credentials,unsignedTx});return result;});function baseSignTransaction(_x3){return _baseSignTransaction.apply(this,arguments);}return baseSignTransaction;}();_proto.baseSignMessage=function(){var _baseSignMessage=_asyncToGenerator(function*(params){var _this=this;if(!this.coreApi){throw new Error('coreApi is not defined');}var{password,messages}=params;var account=yield this.vault.getAccount();var credentials=yield this.baseGetCredentialsInfo(params);var networkInfo=yield this.getCoreApiNetworkInfo();var result=yield Promise.all(messages.map(function(msg){return checkIsDefined(_this.coreApi).signMessage({networkInfo,unsignedMsg:msg,account,password,credentials});}));return result;});function baseSignMessage(_x4){return _baseSignMessage.apply(this,arguments);}return baseSignMessage;}();_proto.baseSignMessageBtc=function(){var _baseSignMessageBtc=_asyncToGenerator(function*(params){var _this2=this;if(!this.coreApi){throw new Error('coreApi is not defined');}var vault=this.vault;var{password,messages}=params;var credentials=yield this.baseGetCredentialsInfo(params);var networkInfo=yield this.getCoreApiNetworkInfo();var result=yield Promise.all(messages.map(function(){var _ref=_asyncToGenerator(function*(msg){var{account,btcExtraInfo,relPaths}=yield vault.prepareBtcSignExtraInfo({unsignedMessage:msg});return checkIsDefined(_this2.coreApi).signMessage({networkInfo,unsignedMsg:msg,account,relPaths,password,credentials,btcExtraInfo});});return function(_x6){return _ref.apply(this,arguments);};}()));return result;});function baseSignMessageBtc(_x5){return _baseSignMessageBtc.apply(this,arguments);}return baseSignMessageBtc;}();_proto.basePrepareAccountsImported=function(){var _basePrepareAccountsImported=_asyncToGenerator(function*(params,options={}){if(!this.coreApi){throw new Error('coreApi is not defined');}var{name,importedCredential,password,networks,createAtNetwork}=params;var{privateKey}=decryptImportedCredential({credential:importedCredential,password});var settings=yield this.getVaultSettings();var{onlyAvailableOnCertainNetworks}=options;var accountType=options.accountType||settings.accountType;var impl=options.impl||settings.impl;var coinType=options.coinType||params.deriveInfo?.coinType||settings.coinTypeDefault;var networkInfo=yield this.getCoreApiNetworkInfo();var privateKeyRaw=privateKey;var{address,addresses,publicKey}=yield this.coreApi.getAddressFromPrivate({networkInfo,privateKeyRaw,addressEncoding:params.deriveInfo?.addressEncoding});var addressUsed='';if(onlyAvailableOnCertainNetworks){addressUsed=addresses?.[createAtNetwork]||'';if(!addressUsed){throw new Error(`imported account address is empty of network: ${createAtNetwork}`);}}var accountId=accountUtils.buildImportedAccountId({coinType,pub:publicKey,address:addressUsed,addressEncoding:params.deriveInfo?.addressEncoding});return Promise.resolve([{id:accountId,name:name||'',type:accountType,path:'',coinType,impl,networks:onlyAvailableOnCertainNetworks?networks:undefined,createAtNetwork,pub:publicKey,address,addresses}]);});function basePrepareAccountsImported(_x7){return _basePrepareAccountsImported.apply(this,arguments);}return basePrepareAccountsImported;}();_proto.basePrepareAccountsImportedUtxo=function(){var _basePrepareAccountsImportedUtxo=_asyncToGenerator(function*(params){if(!this.coreApi){throw new Error('coreApi is not defined');}var{name,importedCredential,password,createAtNetwork,deriveInfo}=params;var{privateKey}=decryptImportedCredential({credential:importedCredential,password});var addressEncoding=deriveInfo?.addressEncoding;var settings=yield this.getVaultSettings();var{coinTypeDefault:coinType,accountType}=settings;var networkInfo=yield this.getCoreApiNetworkInfo();var privateKeyRaw=privateKey;var{address,addresses,publicKey,xpub,relPath,xpubSegwit,path}=yield this.coreApi.getAddressFromPrivate({networkInfo,privateKeyRaw,addressEncoding});if(_isNil(xpub)||!addresses){throw new Error('xpub or addresses is undefined');}var accountId=accountUtils.buildImportedAccountId({coinType,xpub:xpub||publicKey,addressEncoding});return Promise.resolve([{id:accountId,name:name||'',type:accountType,path:path||'',relPath,coinType,impl:settings.impl,xpub,xpubSegwit,pub:publicKey,address,addresses,createAtNetwork}]);});function basePrepareAccountsImportedUtxo(_x8){return _basePrepareAccountsImportedUtxo.apply(this,arguments);}return basePrepareAccountsImportedUtxo;}();_proto.basePrepareAccountsHd=function(){var _basePrepareAccountsHd=_asyncToGenerator(function*(params){var _this3=this;var{template,addressEncoding}=params.deriveInfo;var{password}=params;var networkInfo=yield this.getCoreApiNetworkInfo();return this.basePrepareHdNormalAccounts(params,{buildAddressesInfo:function(){var _ref2=_asyncToGenerator(function*({usedIndexes}){if(!_this3.coreApi){throw new Error('coreApi is not defined');}var credentials=yield _this3.baseGetCredentialsInfo({password});var{addresses:addressInfos}=yield _this3.coreApi.getAddressesFromHd({networkInfo,template,hdCredential:checkIsDefined(credentials.hd),password,indexes:usedIndexes,addressEncoding});return addressInfos;});return function buildAddressesInfo(_x10){return _ref2.apply(this,arguments);};}()});});function basePrepareAccountsHd(_x9){return _basePrepareAccountsHd.apply(this,arguments);}return basePrepareAccountsHd;}();_proto.basePrepareAccountsHdUtxo=function(){var _basePrepareAccountsHdUtxo=_asyncToGenerator(function*(params,options){var _this4=this;var{password,indexes,deriveInfo,names,skipCheckAccountExist}=params;var addressEncoding=params?.deriveInfo?.addressEncoding;return this.basePrepareHdUtxoAccounts(params,_objectSpread(_objectSpread({},options),{},{buildAddressesInfo:function(){var _ref3=_asyncToGenerator(function*({usedIndexes}){var{coinType,template,namePrefix}=deriveInfo;defaultLogger.account.accountCreatePerf.getCredentialsInfo();var credentials=yield _this4.baseGetCredentialsInfo({password});if(!_this4.coreApi){throw new Error('coreApi is undefined');}defaultLogger.account.accountCreatePerf.getAddressesFromHd();var{addresses:addressesInfo}=yield _this4.coreApi.getAddressesFromHd({networkInfo:yield _this4.getCoreApiNetworkInfo(),template,hdCredential:checkIsDefined(credentials.hd),password,indexes:usedIndexes,addressEncoding});if(addressesInfo.length!==usedIndexes.length){throw new OneKeyInternalError('Unable to get address');}defaultLogger.account.accountCreatePerf.getAddressesFromHdDone();return addressesInfo;});return function buildAddressesInfo(_x13){return _ref3.apply(this,arguments);};}()}));});function basePrepareAccountsHdUtxo(_x11,_x12){return _basePrepareAccountsHdUtxo.apply(this,arguments);}return basePrepareAccountsHdUtxo;}();_proto.baseExportAccountSecretKeys=function(){var _baseExportAccountSecretKeys=_asyncToGenerator(function*(params){var{password,keyType,relPaths}=params;var account=yield this.vault.getAccount();var networkInfo=yield this.getCoreApiNetworkInfo();var credentials=yield this.baseGetCredentialsInfo({password});var{deriveInfo}=yield this.backgroundApi.serviceNetwork.getDeriveTypeByTemplate({networkId:this.networkId,template:account.template});var addressEncoding=deriveInfo?.addressEncoding;if(!this.coreApi){throw new Error('coreApi is not defined');}return this.coreApi.getExportedSecretKey({networkInfo,password,credentials,account,relPaths,keyType,addressEncoding});});function baseExportAccountSecretKeys(_x14){return _baseExportAccountSecretKeys.apply(this,arguments);}return baseExportAccountSecretKeys;}();_proto.baseGetPrivateKeys=function(){var _baseGetPrivateKeys=_asyncToGenerator(function*(params){var{password,relPaths}=params;if(!this.coreApi){throw new Error('coreApi is not defined');}var account=yield this.vault.getAccount();var credentials=yield this.baseGetCredentialsInfo({password});var networkInfo=yield this.getCoreApiNetworkInfo();var privateKeys=yield this.coreApi.getPrivateKeys({networkInfo,password,account,relPaths,credentials});return privateKeys;});function baseGetPrivateKeys(_x15){return _baseGetPrivateKeys.apply(this,arguments);}return baseGetPrivateKeys;}();return _createClass(KeyringSoftwareBase);}(KeyringBase);","import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import{InvalidAddress,OneKeyInternalError}from'@onekeyhq/shared/src/errors';import{ETranslations}from'@onekeyhq/shared/src/locale';import{appLocale}from'@onekeyhq/shared/src/locale/appLocale';import accountUtils from'@onekeyhq/shared/src/utils/accountUtils';import{checkIsDefined}from'@onekeyhq/shared/src/utils/assertUtils';import{EDBAccountType}from\"../../dbs/local/consts\";import{EVaultKeyringTypes}from\"../types\";import{KeyringBase}from\"./KeyringBase\";export var KeyringWatchingBase=function(_KeyringBase){_inherits(KeyringWatchingBase,_KeyringBase);var _super=_createSuper(KeyringWatchingBase);function KeyringWatchingBase(...args){var _this;_this=_super.call(this,...args);_this.keyringType=EVaultKeyringTypes.watching;return _this;}var _proto=KeyringWatchingBase.prototype;_proto.signTransaction=function(){var _signTransaction=_asyncToGenerator(function*(){throw new OneKeyInternalError(appLocale.intl.formatMessage({id:ETranslations.wallet_error_trade_with_watched_acocunt}));});function signTransaction(){return _signTransaction.apply(this,arguments);}return signTransaction;}();_proto.signMessage=function(){var _signMessage=_asyncToGenerator(function*(){throw new OneKeyInternalError(appLocale.intl.formatMessage({id:ETranslations.wallet_error_trade_with_watched_acocunt}));});function signMessage(){return _signMessage.apply(this,arguments);}return signMessage;}();_proto.basePrepareUtxoWatchingAccounts=function(){var _basePrepareUtxoWatchingAccounts=_asyncToGenerator(function*(params){var{address,xpub,networks,createAtNetwork,name,deriveInfo,isUrlAccount,addresses}=params;if(!address&&!xpub){throw new Error('basePrepareUtxoWatchingAccounts ERROR: address and xpub are not defined');}var networkInfo=yield this.getCoreApiNetworkInfo();var settings=yield this.getVaultSettings();var coinType=settings.coinTypeDefault;var addressEncoding=deriveInfo?.addressEncoding;var id=accountUtils.buildWatchingAccountId({coinType,address,xpub,addressEncoding,isUrlAccount});var addressFromXpub='';var xpubSegwit=xpub;if(!address&&xpub){checkIsDefined(this.coreApi);var result=yield this.coreApi?.getAddressFromPublic({publicKey:xpub,addressEncoding,networkInfo});addressFromXpub=result?.address||'';xpubSegwit=result?.xpubSegwit||xpubSegwit||xpub;}var account={id,name,type:EDBAccountType.UTXO,relPath:'0/0',coinType,impl:settings.impl,networks,createAtNetwork,address:addressFromXpub||address||'',xpub:xpub||'',xpubSegwit,path:'',addresses:addresses||{}};return[account];});function basePrepareUtxoWatchingAccounts(_x){return _basePrepareUtxoWatchingAccounts.apply(this,arguments);}return basePrepareUtxoWatchingAccounts;}();_proto.basePrepareSimpleWatchingAccounts=function(){var _basePrepareSimpleWatchingAccounts=_asyncToGenerator(function*(params,options={}){var{address,name,networks,createAtNetwork,isUrlAccount}=params;if(!address){throw new InvalidAddress();}if(!createAtNetwork){throw new Error('basePrepareSimpleWatchingAccounts ERROR: createAtNetwork is not defined');}var{onlyAvailableOnCertainNetworks=false}=options;var settings=yield this.getVaultSettings();var coinType=options.coinType||settings.coinTypeDefault;var impl=options.impl||settings.impl;var id=accountUtils.buildWatchingAccountId({coinType,address,isUrlAccount});var account={id,name:name||'',type:EDBAccountType.SIMPLE,coinType,impl,networks:onlyAvailableOnCertainNetworks?networks:undefined,createAtNetwork,address,pub:'',path:''};return Promise.resolve([account]);});function basePrepareSimpleWatchingAccounts(_x2){return _basePrepareSimpleWatchingAccounts.apply(this,arguments);}return basePrepareSimpleWatchingAccounts;}();return _createClass(KeyringWatchingBase);}(KeyringBase);","import _objectWithoutProperties from\"@babel/runtime/helpers/objectWithoutProperties\";import _omitBy from\"lodash/omitBy\";import _isEmpty from\"lodash/isEmpty\";import _isNil from\"lodash/isNil\";import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _omit from\"lodash/omit\";import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";var _excluded=[\"accountId\"],_excluded2=[\"accountId\"];function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import qs from'querystring';import{Semaphore}from'async-mutex';import BigNumber from'bignumber.js';import{decodeSensitiveText,encodeSensitiveText}from'@onekeyhq/core/src/secret';import{getNetworkIdsMap}from'@onekeyhq/shared/src/config/networkIds';import{NotImplemented}from'@onekeyhq/shared/src/errors';import platformEnv from'@onekeyhq/shared/src/platformEnv';import accountUtils from'@onekeyhq/shared/src/utils/accountUtils';import chainValueUtils from'@onekeyhq/shared/src/utils/chainValueUtils';import hexUtils from'@onekeyhq/shared/src/utils/hexUtils';import{getOnChainHistoryTxAssetInfo,getOnChainHistoryTxStatus}from'@onekeyhq/shared/src/utils/historyUtils';import{generateUUID}from'@onekeyhq/shared/src/utils/miscUtils';import{buildTxActionDirection,getStakingActionLabel}from'@onekeyhq/shared/src/utils/txActionUtils';import{addressIsEnsFormat}from'@onekeyhq/shared/src/utils/uriUtils';import{EServiceEndpointEnum}from'@onekeyhq/shared/types/endpoint';import{EOnChainHistoryTxType}from'@onekeyhq/shared/types/history';import{EDecodedTxActionType,EDecodedTxDirection}from'@onekeyhq/shared/types/tx';import{VaultContext}from\"./VaultContext\";if(platformEnv.isExtensionUi){debugger;throw new Error('engine/VaultBase is not allowed imported from ui');}export var VaultBaseChainOnly=function(_VaultContext){_inherits(VaultBaseChainOnly,_VaultContext);var _super=_createSuper(VaultBaseChainOnly);function VaultBaseChainOnly(){return _super.apply(this,arguments);}var _proto=VaultBaseChainOnly.prototype;_proto.getXpubFromAccount=function(){var _getXpubFromAccount=_asyncToGenerator(function*(networkAccount){return networkAccount.xpub;});function getXpubFromAccount(_x){return _getXpubFromAccount.apply(this,arguments);}return getXpubFromAccount;}();_proto.proxyJsonRPCCall=function(){var _proxyJsonRPCCall=_asyncToGenerator(function*(request){throw new NotImplemented();});function proxyJsonRPCCall(_x2){return _proxyJsonRPCCall.apply(this,arguments);}return proxyJsonRPCCall;}();_proto.addressFromBase=function(){var _addressFromBase=_asyncToGenerator(function*(account){throw new NotImplemented();});function addressFromBase(_x3){return _addressFromBase.apply(this,arguments);}return addressFromBase;}();_proto.addressToBase=function(){var _addressToBase=_asyncToGenerator(function*(address){throw new NotImplemented();});function addressToBase(_x4){return _addressToBase.apply(this,arguments);}return addressToBase;}();_proto.baseValidatePrivateKey=function(){var _baseValidatePrivateKey=_asyncToGenerator(function*(privateKey){if(!this.coreApi){throw new Error('coreApi not defined in Vault');}try{var networkInfo=yield this.getCoreApiNetworkInfo();var result=yield this.coreApi.getAddressFromPrivate({networkInfo,privateKeyRaw:privateKey});if(result.publicKey){return{isValid:true};}}catch(error){}return{isValid:false};});function baseValidatePrivateKey(_x5){return _baseValidatePrivateKey.apply(this,arguments);}return baseValidatePrivateKey;}();_proto.baseValidateGeneralInput=function(){var _baseValidateGeneralInput=_asyncToGenerator(function*(params){var input=decodeSensitiveText({encodedText:params.input});var{validateAddress,validateXprvt,validateXpub,validatePrivateKey}=params;var result={isValid:false};var isValid=false;var addressResult;var xpubResult;var xprvtResult;var privateKeyResult;if(validateAddress&&!isValid){try{addressResult=yield this.validateAddress(input);result.addressResult=addressResult;isValid=isValid||addressResult?.isValid;}catch(error){}}if(validateXpub&&!isValid){try{xpubResult=yield this.validateXpub(input);result.xpubResult=xpubResult;isValid=isValid||xpubResult?.isValid;}catch(error){}}if(validateXprvt&&!isValid){try{xprvtResult=yield this.validateXprvt(input);result.xprvtResult=xprvtResult;isValid=isValid||xprvtResult?.isValid;}catch(error){}}if(validatePrivateKey&&!isValid){try{privateKeyResult=yield this.validatePrivateKey(input);result.privateKeyResult=privateKeyResult;isValid=isValid||privateKeyResult?.isValid;}catch(error){}}result.isValid=Boolean(isValid);return{result,inputDecoded:input};});function baseValidateGeneralInput(_x6){return _baseValidateGeneralInput.apply(this,arguments);}return baseValidateGeneralInput;}();_proto.baseGetPrivateKeyFromImported=function(){var _baseGetPrivateKeyFromImported=_asyncToGenerator(function*(params){var input=decodeSensitiveText({encodedText:params.input});var privateKey=hexUtils.stripHexPrefix(input);privateKey=encodeSensitiveText({text:privateKey});return{privateKey};});function baseGetPrivateKeyFromImported(_x7){return _baseGetPrivateKeyFromImported.apply(this,arguments);}return baseGetPrivateKeyFromImported;}();_proto.validateAmountInputShown=function(){var _validateAmountInputShown=_asyncToGenerator(function*({toAddress}){return Promise.resolve({isValid:true});});function validateAmountInputShown(_x8){return _validateAmountInputShown.apply(this,arguments);}return validateAmountInputShown;}();_proto.checkIsDomainName=function(){var _checkIsDomainName=_asyncToGenerator(function*({name}){return addressIsEnsFormat(name);});function checkIsDomainName(_x9){return _checkIsDomainName.apply(this,arguments);}return checkIsDomainName;}();_proto.resolveDomainName=function(){var _resolveDomainName=_asyncToGenerator(function*({name}){return null;});function resolveDomainName(_x10){return _resolveDomainName.apply(this,arguments);}return resolveDomainName;}();_proto.getCustomRpcEndpointStatus=function(){var _getCustomRpcEndpointStatus=_asyncToGenerator(function*(params){throw new NotImplemented();});function getCustomRpcEndpointStatus(_x11){return _getCustomRpcEndpointStatus.apply(this,arguments);}return getCustomRpcEndpointStatus;}();_proto.checkFeeSupportInfo=function(){var _checkFeeSupportInfo=_asyncToGenerator(function*(params){throw new NotImplemented();});function checkFeeSupportInfo(_x12){return _checkFeeSupportInfo.apply(this,arguments);}return checkFeeSupportInfo;}();_proto.fetchTokenDetails=function(){var _fetchTokenDetails=_asyncToGenerator(function*(params){var isCustomNetwork=yield this.backgroundApi.serviceNetwork.isCustomNetwork({networkId:this.networkId});if(isCustomNetwork){return this.fetchTokenDetailsByRpc(params);}return this.fetchTokenDetailsByApi(params);});function fetchTokenDetails(_x13){return _fetchTokenDetails.apply(this,arguments);}return fetchTokenDetails;}();_proto.fetchTokenDetailsByApi=function(){var _fetchTokenDetailsByApi=_asyncToGenerator(function*(params){var _params$signal;var client=yield this.backgroundApi.serviceToken.getClient(EServiceEndpointEnum.Wallet);var resp=yield client.post('/wallet/v1/account/token/search',_omit(params,['walletId','accountId','signal']),{headers:yield this.backgroundApi.serviceAccountProfile._getWalletTypeHeader({accountId:params.accountId,walletId:params.walletId}),signal:(_params$signal=params.signal)!=null?_params$signal:undefined});return resp;});function fetchTokenDetailsByApi(_x14){return _fetchTokenDetailsByApi.apply(this,arguments);}return fetchTokenDetailsByApi;}();_proto.fetchTokenDetailsByRpc=function(){var _fetchTokenDetailsByRpc=_asyncToGenerator(function*(params){throw new NotImplemented();});function fetchTokenDetailsByRpc(_x15){return _fetchTokenDetailsByRpc.apply(this,arguments);}return fetchTokenDetailsByRpc;}();return _createClass(VaultBaseChainOnly);}(VaultContext);export var VaultBase=function(_VaultBaseChainOnly){_inherits(VaultBase,_VaultBaseChainOnly);var _super2=_createSuper(VaultBase);function VaultBase(...args){var _this;_this=_super2.call(this,...args);_this.uuid=generateUUID();_this.mutexBuildOnChainHistoryTxGetDBAccount=new Semaphore(1);return _this;}var _proto2=VaultBase.prototype;_proto2.init=function(){var _init=_asyncToGenerator(function*(config){yield this.initKeyring(config);});function init(_x16){return _init.apply(this,arguments);}return init;}();_proto2.initKeyring=function(){var _initKeyring=_asyncToGenerator(function*(config){if(!this.options.isChainOnly){this.keyring=yield config.keyringCreator(this);}});function initKeyring(_x17){return _initKeyring.apply(this,arguments);}return initKeyring;}();_proto2.broadcastTransaction=function(){var _broadcastTransaction=_asyncToGenerator(function*(params){var{signedTx}=params;var txid=yield this.backgroundApi.serviceSend.broadcastTransaction(params);return _objectSpread(_objectSpread({},signedTx),{},{txid,encodedTx:signedTx.encodedTx});});function broadcastTransaction(_x18){return _broadcastTransaction.apply(this,arguments);}return broadcastTransaction;}();_proto2.broadcastTransactionFromCustomRpc=function(){var _broadcastTransactionFromCustomRpc=_asyncToGenerator(function*(params){throw new NotImplemented();});function broadcastTransactionFromCustomRpc(_x19){return _broadcastTransactionFromCustomRpc.apply(this,arguments);}return broadcastTransactionFromCustomRpc;}();_proto2.validateSendAmount=function(){var _validateSendAmount=_asyncToGenerator(function*(params){return Promise.resolve(true);});function validateSendAmount(_x20){return _validateSendAmount.apply(this,arguments);}return validateSendAmount;}();_proto2.buildOnChainHistoryTxExtraInfo=function(){var _buildOnChainHistoryTxExtraInfo=_asyncToGenerator(function*({onChainHistoryTx}){return null;});function buildOnChainHistoryTxExtraInfo(_x21){return _buildOnChainHistoryTxExtraInfo.apply(this,arguments);}return buildOnChainHistoryTxExtraInfo;}();_proto2.precheckUnsignedTx=function(){var _precheckUnsignedTx=_asyncToGenerator(function*(params){return Promise.resolve(true);});function precheckUnsignedTx(_x22){return _precheckUnsignedTx.apply(this,arguments);}return precheckUnsignedTx;}();_proto2.buildEstimateFeeParams=function(){var _buildEstimateFeeParams=_asyncToGenerator(function*({encodedTx}){return Promise.resolve({encodedTx});});function buildEstimateFeeParams(_x23){return _buildEstimateFeeParams.apply(this,arguments);}return buildEstimateFeeParams;}();_proto2.buildParseTransactionParams=function(){var _buildParseTransactionParams=_asyncToGenerator(function*({encodedTx}){return Promise.resolve({encodedTx});});function buildParseTransactionParams(_x24){return _buildParseTransactionParams.apply(this,arguments);}return buildParseTransactionParams;}();_proto2.buildFetchHistoryListParams=function(){var _buildFetchHistoryListParams=_asyncToGenerator(function*(params){return Promise.resolve({});});function buildFetchHistoryListParams(_x25){return _buildFetchHistoryListParams.apply(this,arguments);}return buildFetchHistoryListParams;}();_proto2.buildHistoryTx=function(){var _buildHistoryTx=_asyncToGenerator(function*(params){var{historyTxToMerge,decodedTx,signedTx,isSigner,isLocalCreated,dbAccount}=params;var accountAddress=params.accountAddress||'';var xpub=params.xpub;var txid=signedTx?.txid||decodedTx?.txid||'';if(!txid){throw new Error('buildHistoryTx txid not found');}var{accountId,networkId}=decodedTx;try{var[a,x]=yield Promise.all([this.backgroundApi.serviceAccount.getAccountAddressForApi({dbAccount,accountId,networkId}),this.backgroundApi.serviceAccount.getAccountXpub({dbAccount,accountId,networkId})]);accountAddress=a;xpub=x;}catch(e){}decodedTx.txid=txid||decodedTx.txid;decodedTx.owner=accountAddress;decodedTx.xpub=xpub;if(isSigner){decodedTx.signer=accountAddress;}var historyId=accountUtils.buildLocalHistoryId({networkId,txid,accountAddress,xpub});var historyTx=_objectSpread(_objectSpread({id:historyId,isLocalCreated:Boolean(isLocalCreated)},historyTxToMerge),{},{decodedTx});return Promise.resolve(historyTx);});function buildHistoryTx(_x26){return _buildHistoryTx.apply(this,arguments);}return buildHistoryTx;}();_proto2.fixOnChainHistoryAccountData=function fixOnChainHistoryAccountData(params){var{accountId:originAccountId,networkId:originNetworkId,accountAddress:originAccountAddress,xpub:originXpub,onChainHistoryTx,allNetworkHistoryExtraItems}=params;var accountId=originAccountId;var networkId=originNetworkId;var accountAddress=originAccountAddress;var xpub=originXpub;if(originNetworkId===getNetworkIdsMap().onekeyall){var allNetworkAccount=allNetworkHistoryExtraItems?.find(function(i){var[_,txXpub]=onChainHistoryTx.key.split('_');if(!_isNil(i.accountXpub)){return i.networkId===onChainHistoryTx.networkId&&i.accountXpub===txXpub;}return i.networkId===onChainHistoryTx.networkId;});if(allNetworkAccount){accountId=allNetworkAccount.accountId;networkId=allNetworkAccount.networkId;accountAddress=allNetworkAccount.accountAddress;xpub=allNetworkAccount.accountXpub;}}return{accountId,networkId,accountAddress,xpub};};_proto2.buildOnChainHistoryTx=function(){var _buildOnChainHistoryTx=_asyncToGenerator(function*(params){var _this2=this;var{onChainHistoryTx,tokens,nfts,allNetworkHistoryExtraItems,dbAccountCache}=params;var{accountId,networkId,accountAddress,xpub}=this.fixOnChainHistoryAccountData({accountId:params.accountId,networkId:params.networkId,accountAddress:params.accountAddress,xpub:params.xpub,onChainHistoryTx,allNetworkHistoryExtraItems});if(params.accountId!==accountId){}var key=`${accountId}`;var dbAccount;if(dbAccountCache){yield this.mutexBuildOnChainHistoryTxGetDBAccount.runExclusive(_asyncToGenerator(function*(){dbAccount=dbAccountCache?.[key];if(!dbAccount){dbAccount=yield _this2.backgroundApi.serviceAccount.getDBAccountSafe({accountId});if(dbAccount){dbAccountCache[key]=dbAccount;}}}));}var vaultSettings=yield this.backgroundApi.serviceNetwork.getVaultSettings({networkId});try{var action=yield this.buildHistoryTxAction({tx:onChainHistoryTx,tokens,nfts});var decodedTx={txid:onChainHistoryTx.tx,owner:accountAddress,signer:onChainHistoryTx.from,to:onChainHistoryTx.to,nonce:onChainHistoryTx.nonce,actions:[action],status:getOnChainHistoryTxStatus(onChainHistoryTx.status),networkId,accountId,xpub,totalFeeInNative:onChainHistoryTx.gasFee,totalFeeFiatValue:onChainHistoryTx.gasFeeFiatValue,nativeAmount:vaultSettings.isUtxo?onChainHistoryTx.value:undefined,extraInfo:yield this.buildOnChainHistoryTxExtraInfo({onChainHistoryTx}),payload:{type:onChainHistoryTx.type,value:onChainHistoryTx.value,label:onChainHistoryTx.label}};decodedTx.updatedAt=new Date(onChainHistoryTx.timestamp*1000).getTime();decodedTx.createdAt=decodedTx.updatedAt;decodedTx.isFinal=true;return yield this.buildHistoryTx({dbAccount,decodedTx,accountAddress,xpub});}catch(e){return null;}});function buildOnChainHistoryTx(_x27){return _buildOnChainHistoryTx.apply(this,arguments);}return buildOnChainHistoryTx;}();_proto2.buildHistoryTxAction=function(){var _buildHistoryTxAction=_asyncToGenerator(function*({tx,tokens,nfts}){if(tx.type===EOnChainHistoryTxType.Approve&&tx.tokenApprove){return this.buildHistoryTxApproveAction({tx,tokens,nfts,tokenApprove:tx.tokenApprove});}if(_isEmpty(tx.sends)&&_isEmpty(tx.receives)){if(tx.type)return this.buildHistoryTxFunctionCallAction({tx});return this.buildHistoryTxUnknownAction({tx});}return this.buildHistoryTransferAction({tx,tokens,nfts});});function buildHistoryTxAction(_x28){return _buildHistoryTxAction.apply(this,arguments);}return buildHistoryTxAction;}();_proto2.buildHistoryTxFunctionCallAction=function(){var _buildHistoryTxFunctionCallAction=_asyncToGenerator(function*({tx}){var network=yield this.getNetwork();return{type:EDecodedTxActionType.FUNCTION_CALL,functionCall:{from:tx.from,to:tx.to,functionName:tx.label,functionHash:tx.functionCode,args:tx.params}};});function buildHistoryTxFunctionCallAction(_x29){return _buildHistoryTxFunctionCallAction.apply(this,arguments);}return buildHistoryTxFunctionCallAction;}();_proto2.buildHistoryTxUnknownAction=function(){var _buildHistoryTxUnknownAction=_asyncToGenerator(function*({tx}){var network=yield this.getNetwork();return{type:EDecodedTxActionType.UNKNOWN,unknownAction:{from:tx.from,to:tx.to,label:tx.label}};});function buildHistoryTxUnknownAction(_x30){return _buildHistoryTxUnknownAction.apply(this,arguments);}return buildHistoryTxUnknownAction;}();_proto2.buildHistoryTransferAction=function(){var _buildHistoryTransferAction=_asyncToGenerator(function*({tx,tokens,nfts}){var _this3=this;return{type:EDecodedTxActionType.ASSET_TRANSFER,assetTransfer:{from:tx.from,to:tx.to,label:tx.label,sends:tx.sends.map(function(send){return _this3.buildHistoryTransfer({transfer:send,tokens,nfts});}),receives:tx.receives.map(function(receive){return _this3.buildHistoryTransfer({transfer:receive,tokens,nfts});})}};});function buildHistoryTransferAction(_x31){return _buildHistoryTransferAction.apply(this,arguments);}return buildHistoryTransferAction;}();_proto2.buildHistoryTransfer=function buildHistoryTransfer({transfer,tokens,nfts}){var{icon,symbol,name,isNFT,isNative,price}=getOnChainHistoryTxAssetInfo({key:transfer.key,tokenAddress:transfer.token,tokens,nfts});return{from:transfer.from,to:transfer.to,tokenIdOnNetwork:transfer.token,amount:transfer.amount,label:transfer.label,isOwn:transfer.isOwn,icon,name,symbol,isNFT,isNative,price};};_proto2.buildHistoryTxApproveAction=function buildHistoryTxApproveAction({tx,tokens,nfts,tokenApprove}){var{icon,symbol,name,decimals}=getOnChainHistoryTxAssetInfo({key:tokenApprove.key,tokenAddress:tokenApprove.token,tokens,nfts});return{type:EDecodedTxActionType.TOKEN_APPROVE,tokenApprove:{from:tx.from,to:tx.to,spender:tokenApprove.spender,icon,name,symbol,decimals,label:tx.label,tokenIdOnNetwork:tokenApprove.token,amount:new BigNumber(tokenApprove.amount).shiftedBy(-decimals).toFixed(),isInfiniteAmount:tokenApprove.isInfiniteAmount}};};_proto2.buildTxTransferAssetAction=function(){var _buildTxTransferAssetAction=_asyncToGenerator(function*(params){var{from,to,transfers,data,application,isInternalSwap,isInternalStaking,internalStakingLabel,swapReceivedAddress,swapReceivedNetworkId}=params;var[accountAddress,network]=yield Promise.all([this.getAccountAddress(),this.getNetwork()]);var sendNativeTokenAmountBN=new BigNumber(0);var assetTransfer={from,to,sends:[],receives:[],application,isInternalSwap,isInternalStaking,internalStakingLabel,swapReceivedAddress,swapReceivedNetworkId};transfers.forEach(function(transfer){if(buildTxActionDirection({from:transfer.from,to:transfer.to,accountAddress})===EDecodedTxDirection.OUT){assetTransfer.sends.push(transfer);if(transfer.isNative){sendNativeTokenAmountBN=sendNativeTokenAmountBN.plus(new BigNumber(transfer.amount));}}else{assetTransfer.receives.push(transfer);}});assetTransfer.nativeAmount=sendNativeTokenAmountBN.toFixed();assetTransfer.nativeAmountValue=chainValueUtils.convertAmountToChainValue({value:sendNativeTokenAmountBN,network});return{type:EDecodedTxActionType.ASSET_TRANSFER,data,assetTransfer};});function buildTxTransferAssetAction(_x32){return _buildTxTransferAssetAction.apply(this,arguments);}return buildTxTransferAssetAction;}();_proto2.buildInternalSwapAction=function(){var _buildInternalSwapAction=_asyncToGenerator(function*(params){var _swapSendToken$logoUR,_swapSendToken$name,_swapReceiveToken$log,_swapReceiveToken$nam,_providerInfo$provide;var{swapData,swapInfo,swapToAddress}=params;var swapSendToken=swapInfo.sender.token;var swapReceiveToken=swapInfo.receiver.token;var providerInfo=swapInfo.swapBuildResData.result.info;var otherFeeInfos=swapInfo.swapBuildResData.result.fee?.otherFeeInfos;var otherFeeInfoTransfers=[];var transfers=[{from:swapInfo.accountAddress,to:'',tokenIdOnNetwork:swapSendToken.contractAddress,icon:(_swapSendToken$logoUR=swapSendToken.logoURI)!=null?_swapSendToken$logoUR:'',name:(_swapSendToken$name=swapSendToken.name)!=null?_swapSendToken$name:'',symbol:swapSendToken.symbol,amount:swapInfo.sender.amount,isNFT:false,isNative:swapSendToken.isNative,networkId:swapInfo.sender.accountInfo.networkId},{from:'',to:swapInfo.receivingAddress,tokenIdOnNetwork:swapReceiveToken.contractAddress,icon:(_swapReceiveToken$log=swapReceiveToken.logoURI)!=null?_swapReceiveToken$log:'',name:(_swapReceiveToken$nam=swapReceiveToken.name)!=null?_swapReceiveToken$nam:'',symbol:swapReceiveToken.symbol,amount:swapInfo.receiver.amount,isNFT:false,isNative:swapReceiveToken.isNative,networkId:swapInfo.receiver.accountInfo.networkId}];if(otherFeeInfos){otherFeeInfos.forEach(function(feeInfo){if(feeInfo.token.contractAddress===transfers[0].tokenIdOnNetwork){transfers[0].amount=new BigNumber(transfers[0].amount).plus(feeInfo.amount).toFixed();}else{var _feeInfo$token$logoUR,_feeInfo$token$name;otherFeeInfoTransfers.push({from:swapInfo.accountAddress,to:'',tokenIdOnNetwork:feeInfo.token.contractAddress,icon:(_feeInfo$token$logoUR=feeInfo.token.logoURI)!=null?_feeInfo$token$logoUR:'',name:(_feeInfo$token$name=feeInfo.token.name)!=null?_feeInfo$token$name:'',symbol:feeInfo.token.symbol,amount:feeInfo.amount,isNFT:false,isNative:feeInfo.token.isNative,networkId:swapInfo.sender.accountInfo.networkId});}});}transfers=[...otherFeeInfoTransfers,...transfers];var action=yield this.buildTxTransferAssetAction({from:swapInfo.accountAddress,to:swapToAddress!=null?swapToAddress:'',data:swapData,application:{name:providerInfo.providerName,icon:(_providerInfo$provide=providerInfo.providerLogo)!=null?_providerInfo$provide:''},isInternalSwap:true,swapReceivedAddress:swapInfo.receivingAddress,swapReceivedNetworkId:swapInfo.receiver.token.networkId,transfers});return action;});function buildInternalSwapAction(_x33){return _buildInternalSwapAction.apply(this,arguments);}return buildInternalSwapAction;}();_proto2.buildInternalStakingAction=function(){var _buildInternalStakingAction=_asyncToGenerator(function*(params){var _send$token$logoURI,_send$token$name,_receive$token$logoUR,_receive$token$name;var{stakingInfo,stakingData,accountAddress,stakingToAddress}=params;var{protocol,protocolLogoURI,send,receive}=stakingInfo;var transfers=[send&&{from:accountAddress,to:'',tokenIdOnNetwork:send.token.address,icon:(_send$token$logoURI=send.token.logoURI)!=null?_send$token$logoURI:'',name:(_send$token$name=send.token.name)!=null?_send$token$name:'',symbol:send.token.symbol,amount:send.amount,isNFT:false,isNative:send.token.isNative},receive&&{from:'',to:accountAddress,tokenIdOnNetwork:receive.token.address,icon:(_receive$token$logoUR=receive.token.logoURI)!=null?_receive$token$logoUR:'',name:(_receive$token$name=receive.token.name)!=null?_receive$token$name:'',symbol:receive.token.symbol,amount:receive.amount,isNFT:false,isNative:receive.token.isNative}].filter(Boolean);var action=yield this.buildTxTransferAssetAction({from:accountAddress,to:stakingToAddress!=null?stakingToAddress:'',data:stakingData,application:{name:protocol,icon:protocolLogoURI!=null?protocolLogoURI:''},isInternalStaking:true,internalStakingLabel:getStakingActionLabel({stakingInfo}),transfers});return action;});function buildInternalStakingAction(_x34){return _buildInternalStakingAction.apply(this,arguments);}return buildInternalStakingAction;}();_proto2.signTransaction=function(){var _signTransaction=_asyncToGenerator(function*(params){var _params$signOnly,_signedTx$encodedTx;var{unsignedTx}=params;params.signOnly=(_params$signOnly=params.signOnly)!=null?_params$signOnly:true;var signedTx=yield this.keyring.signTransaction(params);return _objectSpread(_objectSpread({},signedTx),{},{encodedTx:(_signedTx$encodedTx=signedTx.encodedTx)!=null?_signedTx$encodedTx:unsignedTx.encodedTx});});function signTransaction(_x35){return _signTransaction.apply(this,arguments);}return signTransaction;}();_proto2.getAccount=function(){var _getAccount=_asyncToGenerator(function*({dbAccount}={}){var account=dbAccount;if(!account||account?.id!==this.accountId){account=yield this.backgroundApi.serviceAccount.getDBAccount({accountId:this.accountId});}if(!accountUtils.isAccountCompatibleWithNetwork({account,networkId:this.networkId})){throw new Error(`account impl not matched to network: ${this.networkId} ${account.id?.slice(0,30)}`);}var networkInfo=yield this.getNetworkInfo();var externalAccount=account;var externalAccountAddress='';if(externalAccount.connectedAddresses){var buildExternalAccountAddress=function({key,fallbackIndex}){var _externalAccount$sele;if(!key){return'';}var index=(_externalAccount$sele=externalAccount.selectedAddress?.[key])!=null?_externalAccount$sele:fallbackIndex;var addresses=externalAccount.connectedAddresses?.[key]?.split(',').filter(Boolean)||[];return addresses?.[index]||addresses?.[fallbackIndex]||'';};externalAccountAddress=buildExternalAccountAddress({key:this.networkId,fallbackIndex:-1});if(!externalAccountAddress){var impl=yield this.getNetworkImpl();externalAccountAddress=buildExternalAccountAddress({key:impl,fallbackIndex:0});}if(!externalAccountAddress){externalAccountAddress=buildExternalAccountAddress({key:this.networkId,fallbackIndex:0});}}var addressDetail=yield this.buildAccountAddressDetail({networkInfo,account,networkId:this.networkId,externalAccountAddress});var address=addressDetail?.address||'';if(!address&&!addressDetail.allowEmptyAddress||!addressDetail.isValid){throw new Error('VaultBase.getAccount ERROR: address is invalid');}return _objectSpread(_objectSpread({},account),{},{addressDetail,address});});function getAccount(){return _getAccount.apply(this,arguments);}return getAccount;}();_proto2.getAccountAddress=function(){var _getAccountAddress=_asyncToGenerator(function*(){return(yield this.getAccount()).address;});function getAccountAddress(){return _getAccountAddress.apply(this,arguments);}return getAccountAddress;}();_proto2.getAccountPath=function(){var _getAccountPath=_asyncToGenerator(function*(){return(yield this.getAccount()).path;});function getAccountPath(){return _getAccountPath.apply(this,arguments);}return getAccountPath;}();_proto2.getAccountXpub=function(){var _getAccountXpub=_asyncToGenerator(function*({dbAccount}={}){var networkAccount=yield this.getAccount({dbAccount});return this.getXpubFromAccount(networkAccount);});function getAccountXpub(){return _getAccountXpub.apply(this,arguments);}return getAccountXpub;}();_proto2.fillTokensDetails=function(){var _fillTokensDetails=_asyncToGenerator(function*({tokensDetails}){return Promise.resolve(tokensDetails);});function fillTokensDetails(_x36){return _fillTokensDetails.apply(this,arguments);}return fillTokensDetails;}();_proto2.fillAccountDetails=function(){var _fillAccountDetails=_asyncToGenerator(function*({accountDetails}){return Promise.resolve(accountDetails);});function fillAccountDetails(_x37){return _fillAccountDetails.apply(this,arguments);}return fillAccountDetails;}();_proto2.isEarliestLocalPendingTx=function(){var _isEarliestLocalPendingTx=_asyncToGenerator(function*({encodedTx}){return true;});function isEarliestLocalPendingTx(_x38){return _isEarliestLocalPendingTx.apply(this,arguments);}return isEarliestLocalPendingTx;}();_proto2.buildReplaceEncodedTx=function(){var _buildReplaceEncodedTx=_asyncToGenerator(function*({decodedTx,replaceType}){return Promise.resolve(decodedTx.encodedTx);});function buildReplaceEncodedTx(_x39){return _buildReplaceEncodedTx.apply(this,arguments);}return buildReplaceEncodedTx;}();_proto2.attachFeeInfoToDAppEncodedTx=function(){var _attachFeeInfoToDAppEncodedTx=_asyncToGenerator(function*(params){return Promise.resolve(params.encodedTx);});function attachFeeInfoToDAppEncodedTx(_x40){return _attachFeeInfoToDAppEncodedTx.apply(this,arguments);}return attachFeeInfoToDAppEncodedTx;}();_proto2.activateToken=function(){var _activateToken=_asyncToGenerator(function*(params){throw new NotImplemented();});function activateToken(_x41){return _activateToken.apply(this,arguments);}return activateToken;}();_proto2.getAddressType=function(){var _getAddressType=_asyncToGenerator(function*({address}){return Promise.resolve({});});function getAddressType(_x42){return _getAddressType.apply(this,arguments);}return getAddressType;}();_proto2.buildStakeEncodedTx=function buildStakeEncodedTx(params){return Promise.resolve(params);};_proto2.fetchAccountDetails=function(){var _fetchAccountDetails=_asyncToGenerator(function*(params){var isCustomNetwork=yield this.backgroundApi.serviceNetwork.isCustomNetwork({networkId:this.networkId});if(isCustomNetwork){return this.fetchAccountDetailsByRpc(params);}return this.fetchAccountDetailsByApi(params);});function fetchAccountDetails(_x43){return _fetchAccountDetails.apply(this,arguments);}return fetchAccountDetails;}();_proto2.fetchAccountDetailsByApi=function(){var _fetchAccountDetailsByApi=_asyncToGenerator(function*(params){var queryParams=_objectSpread({},_omit(params,['accountId','signal']));var client=yield this.backgroundApi.serviceAccountProfile.getClient(EServiceEndpointEnum.Wallet);var resp=yield client.get(`/wallet/v1/account/get-account?${qs.stringify(_omitBy(queryParams,_isNil))}`,{headers:yield this.backgroundApi.serviceAccountProfile._getWalletTypeHeader({accountId:params.accountId}),signal:params.signal});return resp;});function fetchAccountDetailsByApi(_x44){return _fetchAccountDetailsByApi.apply(this,arguments);}return fetchAccountDetailsByApi;}();_proto2.fetchAccountDetailsByRpc=function(){var _fetchAccountDetailsByRpc=_asyncToGenerator(function*(params){throw new NotImplemented();});function fetchAccountDetailsByRpc(_x45){return _fetchAccountDetailsByRpc.apply(this,arguments);}return fetchAccountDetailsByRpc;}();_proto2.fetchTokenList=function(){var _fetchTokenList=_asyncToGenerator(function*(params){var isCustomNetwork=yield this.backgroundApi.serviceNetwork.isCustomNetwork({networkId:this.networkId});if(isCustomNetwork){return this.fetchTokenListByRpc(params);}return this.fetchTokenListByApi(params);});function fetchTokenList(_x46){return _fetchTokenList.apply(this,arguments);}return fetchTokenList;}();_proto2.fetchTokenListByApi=function(){var _fetchTokenListByApi=_asyncToGenerator(function*(params){var{serviceToken,serviceAccountProfile}=this.backgroundApi;var{requestApiParams,flag,signal,accountId}=params;if(requestApiParams.contractList){requestApiParams.contractList=requestApiParams.contractList.filter(function(contract){return contract!==null&&typeof contract==='string';});}var client=yield serviceToken.getClient(EServiceEndpointEnum.Wallet);var resp=yield client.post(`/wallet/v1/account/token/list?flag=${flag||''}`,requestApiParams,{signal,headers:yield serviceAccountProfile._getWalletTypeHeader({accountId})});return resp;});function fetchTokenListByApi(_x47){return _fetchTokenListByApi.apply(this,arguments);}return fetchTokenListByApi;}();_proto2.fetchTokenListByRpc=function(){var _fetchTokenListByRpc=_asyncToGenerator(function*(params){throw new NotImplemented();});function fetchTokenListByRpc(_x48){return _fetchTokenListByRpc.apply(this,arguments);}return fetchTokenListByRpc;}();_proto2.estimateFee=function(){var _estimateFee=_asyncToGenerator(function*(params){var isCustomNetwork=yield this.backgroundApi.serviceNetwork.isCustomNetwork({networkId:this.networkId});if(isCustomNetwork){return this.estimateFeeByRpc(params);}return this.estimateFeeByApi(params);});function estimateFee(_x49){return _estimateFee.apply(this,arguments);}return estimateFee;}();_proto2.estimateFeeByApi=function(){var _estimateFeeByApi=_asyncToGenerator(function*(params){var{accountId}=params,rest=_objectWithoutProperties(params,_excluded);var client=yield this.backgroundApi.serviceGas.getClient(EServiceEndpointEnum.Wallet);var resp=yield client.post('/wallet/v1/account/estimate-fee',rest,{headers:yield this.backgroundApi.serviceAccountProfile._getWalletTypeHeader({accountId})});return resp;});function estimateFeeByApi(_x50){return _estimateFeeByApi.apply(this,arguments);}return estimateFeeByApi;}();_proto2.estimateFeeByRpc=function(){var _estimateFeeByRpc=_asyncToGenerator(function*(params){throw new NotImplemented();});function estimateFeeByRpc(_x51){return _estimateFeeByRpc.apply(this,arguments);}return estimateFeeByRpc;}();_proto2.fetchAccountHistoryDetail=function(){var _fetchAccountHistoryDetail=_asyncToGenerator(function*(params){var isCustomNetwork=yield this.backgroundApi.serviceNetwork.isCustomNetwork({networkId:this.networkId});if(isCustomNetwork){return this.fetchAccountHistoryDetailByRpc(params);}return this.fetchAccountHistoryDetailByApi(params);});function fetchAccountHistoryDetail(_x52){return _fetchAccountHistoryDetail.apply(this,arguments);}return fetchAccountHistoryDetail;}();_proto2.fetchAccountHistoryDetailByApi=function(){var _fetchAccountHistoryDetailByApi=_asyncToGenerator(function*(params){var{accountId}=params,rest=_objectWithoutProperties(params,_excluded2);var client=yield this.backgroundApi.serviceGas.getClient(EServiceEndpointEnum.Wallet);var resp=yield client.get('/wallet/v1/account/history/detail',{params:rest,headers:yield this.backgroundApi.serviceAccountProfile._getWalletTypeHeader({accountId})});return resp;});function fetchAccountHistoryDetailByApi(_x53){return _fetchAccountHistoryDetailByApi.apply(this,arguments);}return fetchAccountHistoryDetailByApi;}();_proto2.fetchAccountHistoryDetailByRpc=function(){var _fetchAccountHistoryDetailByRpc=_asyncToGenerator(function*(params){throw new NotImplemented();});function fetchAccountHistoryDetailByRpc(_x54){return _fetchAccountHistoryDetailByRpc.apply(this,arguments);}return fetchAccountHistoryDetailByRpc;}();_proto2.buildOkxSwapEncodedTx=function(){var _buildOkxSwapEncodedTx=_asyncToGenerator(function*(params){throw new NotImplemented();});function buildOkxSwapEncodedTx(_x55){return _buildOkxSwapEncodedTx.apply(this,arguments);}return buildOkxSwapEncodedTx;}();return _createClass(VaultBase);}(VaultBaseChainOnly);","import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import accountUtils from'@onekeyhq/shared/src/utils/accountUtils';import networkUtils from'@onekeyhq/shared/src/utils/networkUtils';import{getVaultSettings as _getVaultSettings,getVaultSettingsNetworkInfo}from\"../settings\";export var VaultContext=function(){function VaultContext(options){this.options=options;this.networkId=options.networkId||'';this.accountId=options.accountId||'';this.backgroundApi=options.backgroundApi;this.walletId=options.walletId||(this.accountId?accountUtils.getWalletIdFromAccountId({accountId:this.accountId}):'');if(!this.walletId&&!this.options.isChainOnly){throw new Error('can not get correct walletId');}}var _proto=VaultContext.prototype;_proto.getNetworkId=function(){var _getNetworkId=_asyncToGenerator(function*(){return this.networkId;});function getNetworkId(){return _getNetworkId.apply(this,arguments);}return getNetworkId;}();_proto.getNetwork=function(){var _getNetwork=_asyncToGenerator(function*({cached}={}){if(!cached||!this._network||this._network.id!==this.networkId){var network=yield this.backgroundApi.serviceNetwork.getNetwork({networkId:this.networkId});this._network=network;}return this._network;});function getNetwork(){return _getNetwork.apply(this,arguments);}return getNetwork;}();_proto.getNetworkChainId=function(){var _getNetworkChainId=_asyncToGenerator(function*({hex=false}={}){return networkUtils.getNetworkChainId({networkId:this.networkId,hex});});function getNetworkChainId(){return _getNetworkChainId.apply(this,arguments);}return getNetworkChainId;}();_proto.getNetworkImpl=function(){var _getNetworkImpl=_asyncToGenerator(function*(){return networkUtils.getNetworkImpl({networkId:this.networkId});});function getNetworkImpl(){return _getNetworkImpl.apply(this,arguments);}return getNetworkImpl;}();_proto.getVaultSettings=function(){var _getVaultSettings2=_asyncToGenerator(function*(){return _getVaultSettings({networkId:this.networkId});});function getVaultSettings(){return _getVaultSettings2.apply(this,arguments);}return getVaultSettings;}();_proto.getNetworkInfo=function(){var _getNetworkInfo=_asyncToGenerator(function*(){return getVaultSettingsNetworkInfo({networkId:this.networkId});});function getNetworkInfo(){return _getNetworkInfo.apply(this,arguments);}return getNetworkInfo;}();_proto.getCoreApiNetworkInfo=function(){var _getCoreApiNetworkInfo=_asyncToGenerator(function*(){var network=yield this.getNetwork();var networkInfo=yield this.getNetworkInfo();var{addressPrefix,curve}=networkInfo;var networkImpl=yield this.getNetworkImpl();var chainId=yield this.getNetworkChainId({hex:false});var{isTestnet}=network;var{networkId}=this;return{isTestnet,networkChainCode:network.code,chainId,networkId,networkImpl,addressPrefix,curve};});function getCoreApiNetworkInfo(){return _getCoreApiNetworkInfo.apply(this,arguments);}return getCoreApiNetworkInfo;}();_proto.getRpcUrl=function(){var _getRpcUrl=_asyncToGenerator(function*(){return'';});function getRpcUrl(){return _getRpcUrl.apply(this,arguments);}return getRpcUrl;}();_proto.destroy=function(){var _destroy=_asyncToGenerator(function*(){});function destroy(){return _destroy.apply(this,arguments);}return destroy;}();return _createClass(VaultContext);}();","import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import{NotImplemented}from'@onekeyhq/shared/src/errors';import{KeyringExternalBase}from\"../../base/KeyringExternalBase\";export var KeyringExternal=function(_KeyringExternalBase){_inherits(KeyringExternal,_KeyringExternalBase);var _super=_createSuper(KeyringExternal);function KeyringExternal(){return _super.apply(this,arguments);}var _proto=KeyringExternal.prototype;_proto.signMessage=function signMessage(params){throw new NotImplemented();};_proto.signTransaction=function signTransaction(params){throw new NotImplemented();};return _createClass(KeyringExternal);}(KeyringExternalBase);","import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import{blockchain}from'@ckb-lumos/base';import{BI}from'@ckb-lumos/bi';import{common}from'@ckb-lumos/common-scripts';import{createTransactionFromSkeleton,createTransactionSkeleton}from'@ckb-lumos/helpers';import{ResultFormatter}from'@ckb-lumos/rpc';import{ConvertTxError}from'@onekeyhq/shared/src/errors';import hexUtils from'@onekeyhq/shared/src/utils/hexUtils';export var DEFAULT_MIN_INPUT_CAPACITY=61*100_000_000;export function convertTxToTxSkeleton(_x){return _convertTxToTxSkeleton.apply(this,arguments);}function _convertTxToTxSkeleton(){_convertTxToTxSkeleton=_asyncToGenerator(function*({client,transaction}){var fetcher=function(){var _ref=_asyncToGenerator(function*(outPoint){var content=yield client.getLiveCell(outPoint,true);var rpcCell=content.cell;if(!rpcCell){throw new ConvertTxError();}return{outPoint,cellOutput:{capacity:rpcCell.output.capacity,lock:ResultFormatter.toScript({args:rpcCell.output.lock.args,code_hash:rpcCell.output.lock.codeHash,hash_type:rpcCell.output.lock.hashType}),type:rpcCell.output.type?ResultFormatter.toScript({args:rpcCell.output.type.args,code_hash:rpcCell.output.type.codeHash,hash_type:rpcCell.output.type.hashType}):undefined},data:rpcCell.data.content};});return function fetcher(_x2){return _ref.apply(this,arguments);};}();return createTransactionSkeleton(transaction,fetcher);});return _convertTxToTxSkeleton.apply(this,arguments);}export function serializeTransactionMessage(txSkeleton){var txSkeletonWithMessage=common.prepareSigningEntries(txSkeleton);var signingEntries=txSkeletonWithMessage.get('signingEntries');if(signingEntries?.size===0){throw new Error('No signingEntries');}var message=signingEntries.get(0)?.message;return{txSkeleton:txSkeletonWithMessage,message};}export function convertTxSkeletonToTransaction(txSkeleton){var transaction=createTransactionFromSkeleton(txSkeleton);return transaction;}export function convertRawTxToApiTransaction(rawTx){var transaction=blockchain.Transaction.unpack(hexUtils.addHexPrefix(rawTx));return{version:BI.from(transaction.version).toHexString(),cellDeps:transaction.cellDeps.map(function(cellDep){return{depType:cellDep.depType,outPoint:{txHash:cellDep.outPoint.txHash,index:BI.from(cellDep.outPoint.index).toHexString()}};}),headerDeps:transaction.headerDeps,inputs:transaction.inputs.map(function(input){return{previousOutput:{txHash:input.previousOutput.txHash,index:BI.from(input.previousOutput.index).toHexString()},since:BI.from(input.since).toHexString()};}),outputs:transaction.outputs.map(function(output){return{capacity:BI.from(output.capacity).toHexString(),lock:output.lock,type:output.type};}),outputsData:transaction.outputsData,witnesses:transaction.witnesses};}export function getTransactionSizeByTxSkeleton(txSkeleton){var{txSkeleton:txSkeletonMessage}=serializeTransactionMessage(txSkeleton);var tx=convertTxSkeletonToTransaction(txSkeletonMessage);var serializedTx=blockchain.Transaction.pack(tx);var size=serializedTx.byteLength+4;return size;}","import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import{blockchain}from'@ckb-lumos/base';import{createTransactionFromSkeleton,sealTransaction}from'@ckb-lumos/helpers';import{bytesToHex}from'@noble/hashes/utils';import{getConfig}from'@onekeyhq/core/src/chains/ckb/sdkCkb';import coreChainApi from'@onekeyhq/core/src/instance/coreChainApi';import{NotImplemented,OneKeyInternalError}from'@onekeyhq/shared/src/errors';import{convertDeviceResponse}from'@onekeyhq/shared/src/errors/utils/deviceErrorUtils';import accountUtils from'@onekeyhq/shared/src/utils/accountUtils';import{checkIsDefined}from'@onekeyhq/shared/src/utils/assertUtils';import hexUtils from'@onekeyhq/shared/src/utils/hexUtils';import{KeyringHardwareBase}from\"../../base/KeyringHardwareBase\";import{convertTxToTxSkeleton,serializeTransactionMessage}from\"./utils/transaction\";export var KeyringHardware=function(_KeyringHardwareBase){_inherits(KeyringHardware,_KeyringHardwareBase);var _super=_createSuper(KeyringHardware);function KeyringHardware(...args){var _this;_this=_super.call(this,...args);_this.coreApi=coreChainApi.ckb.hd;_this.hwSdkNetwork='nervos';return _this;}var _proto=KeyringHardware.prototype;_proto.buildHwAllNetworkPrepareAccountsParams=function(){var _buildHwAllNetworkPrepareAccountsParams=_asyncToGenerator(function*(params){return{network:this.hwSdkNetwork,path:params.path,showOnOneKey:false,chainName:'ckb'};});function buildHwAllNetworkPrepareAccountsParams(_x){return _buildHwAllNetworkPrepareAccountsParams.apply(this,arguments);}return buildHwAllNetworkPrepareAccountsParams;}();_proto.prepareAccounts=function(){var _prepareAccounts=_asyncToGenerator(function*(params){var _this2=this;var config=getConfig(yield this.getNetworkChainId());return this.basePrepareHdNormalAccounts(params,{buildAddressesInfo:function(){var _ref=_asyncToGenerator(function*({usedIndexes}){var addresses=yield _this2.baseGetDeviceAccountAddresses({params,usedIndexes,sdkGetAddressFn:function(){var _ref2=_asyncToGenerator(function*({connectId,deviceId,pathPrefix,template,pathSuffix,showOnOnekeyFn}){var buildFullPath=function(p){return accountUtils.buildPathFromTemplate({template,index:p.index});};var allNetworkAccounts=yield _this2.getAllNetworkPrepareAccounts({params,usedIndexes,buildPath:buildFullPath,buildResultAccount:function({account}){return{path:account.path,address:account.payload?.address||'',pub:account.payload?.pub||''};},hwSdkNetwork:_this2.hwSdkNetwork});if(allNetworkAccounts){return allNetworkAccounts;}throw new Error('use sdk allNetworkGetAddress instead');});return function sdkGetAddressFn(_x4){return _ref2.apply(this,arguments);};}()});var ret=[];for(var i=0;i<addresses.length;i+=1){var item=addresses[i];var{path,address}=item;var{normalizedAddress}=yield _this2.vault.validateAddress(address!=null?address:'');var addressInfo={address:normalizedAddress||address||'',path,publicKey:''};ret.push(addressInfo);}return ret;});return function buildAddressesInfo(_x3){return _ref.apply(this,arguments);};}()});});function prepareAccounts(_x2){return _prepareAccounts.apply(this,arguments);}return prepareAccounts;}();_proto.signTransaction=function(){var _signTransaction=_asyncToGenerator(function*(params){var{unsignedTx,deviceParams}=params;var encodedTx=unsignedTx.encodedTx;var sdk=yield this.getHardwareSDKInstance();var path=yield this.vault.getAccountPath();var{deviceCommonParams,dbDevice}=checkIsDefined(deviceParams);var{connectId,deviceId}=dbDevice;var chainId=yield this.getNetworkChainId();var config=getConfig(chainId);var client=yield this.vault.getClient();var txSkeleton=yield convertTxToTxSkeleton({client,transaction:encodedTx.tx});var{txSkeleton:txSkeletonWithMessage}=serializeTransactionMessage(txSkeleton);var witnessHex=txSkeleton.witnesses.get(0);if(!witnessHex){throw new OneKeyInternalError('Transaction serialization failure');}var transaction=createTransactionFromSkeleton(txSkeleton);var serialize=blockchain.RawTransaction.pack(transaction);var result=yield convertDeviceResponse(_asyncToGenerator(function*(){return sdk.nervosSignTransaction(connectId,deviceId,_objectSpread({path,network:config.PREFIX,rawTx:bytesToHex(serialize),witnessHex},deviceCommonParams));}));var{signature}=result;var tx=sealTransaction(txSkeletonWithMessage,[hexUtils.addHexPrefix(signature)]);var rawTx=bytesToHex(blockchain.Transaction.pack(tx));return{txid:'',rawTx,encodedTx:''};});function signTransaction(_x5){return _signTransaction.apply(this,arguments);}return signTransaction;}();_proto.signMessage=function signMessage(params){throw new NotImplemented();};return _createClass(KeyringHardware);}(KeyringHardwareBase);","import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import{blockchain}from'@ckb-lumos/base';import{sealTransaction}from'@ckb-lumos/helpers';import coreChainApi from'@onekeyhq/core/src/instance/coreChainApi';import{NotImplemented,OneKeyInternalError}from'@onekeyhq/shared/src/errors';import bufferUtils from'@onekeyhq/shared/src/utils/bufferUtils';import{KeyringHdBase}from\"../../base/KeyringHdBase\";import{convertTxToTxSkeleton,serializeTransactionMessage}from\"./utils/transaction\";export var KeyringHd=function(_KeyringHdBase){_inherits(KeyringHd,_KeyringHdBase);var _super=_createSuper(KeyringHd);function KeyringHd(...args){var _this;_this=_super.call(this,...args);_this.coreApi=coreChainApi.ckb.hd;return _this;}var _proto=KeyringHd.prototype;_proto.getPrivateKeys=function(){var _getPrivateKeys=_asyncToGenerator(function*(params){return this.baseGetPrivateKeys(params);});function getPrivateKeys(_x){return _getPrivateKeys.apply(this,arguments);}return getPrivateKeys;}();_proto.prepareAccounts=function(){var _prepareAccounts=_asyncToGenerator(function*(params){return this.basePrepareAccountsHd(params);});function prepareAccounts(_x2){return _prepareAccounts.apply(this,arguments);}return prepareAccounts;}();_proto.signTransaction=function(){var _signTransaction=_asyncToGenerator(function*(params){var{unsignedTx}=params;var encodedTx=unsignedTx.encodedTx;var client=yield this.vault.getClient();var txSkeleton=yield convertTxToTxSkeleton({client,transaction:encodedTx.tx});var{txSkeleton:txSkeletonWithMessage,message}=serializeTransactionMessage(txSkeleton);if(!message){throw new OneKeyInternalError('Unable to serialize transaction message.');}var result=yield this.baseSignTransaction(_objectSpread(_objectSpread({},params),{},{unsignedTx:_objectSpread(_objectSpread({},params.unsignedTx),{},{rawTxUnsigned:message})}));var tx=sealTransaction(txSkeletonWithMessage,[result.rawTx]);var signedTx=blockchain.Transaction.pack(tx);return _objectSpread(_objectSpread({},result),{},{rawTx:bufferUtils.bytesToHex(signedTx)});});function signTransaction(_x3){return _signTransaction.apply(this,arguments);}return signTransaction;}();_proto.signMessage=function(){var _signMessage=_asyncToGenerator(function*(){throw new NotImplemented();});function signMessage(){return _signMessage.apply(this,arguments);}return signMessage;}();return _createClass(KeyringHd);}(KeyringHdBase);","import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import coreChainApi from'@onekeyhq/core/src/instance/coreChainApi';import{NotImplemented}from'@onekeyhq/shared/src/errors';import{KeyringImportedBase}from\"../../base/KeyringImportedBase\";export var KeyringImported=function(_KeyringImportedBase){_inherits(KeyringImported,_KeyringImportedBase);var _super=_createSuper(KeyringImported);function KeyringImported(...args){var _this;_this=_super.call(this,...args);_this.coreApi=coreChainApi.ckb.imported;return _this;}var _proto=KeyringImported.prototype;_proto.getPrivateKeys=function(){var _getPrivateKeys=_asyncToGenerator(function*(params){return this.baseGetPrivateKeys(params);});function getPrivateKeys(_x){return _getPrivateKeys.apply(this,arguments);}return getPrivateKeys;}();_proto.prepareAccounts=function(){var _prepareAccounts=_asyncToGenerator(function*(params){return this.basePrepareAccountsImported(params);});function prepareAccounts(_x2){return _prepareAccounts.apply(this,arguments);}return prepareAccounts;}();_proto.signTransaction=function(){var _signTransaction=_asyncToGenerator(function*(params){return this.baseSignTransaction(params);});function signTransaction(_x3){return _signTransaction.apply(this,arguments);}return signTransaction;}();_proto.signMessage=function(){var _signMessage=_asyncToGenerator(function*(){throw new NotImplemented();});function signMessage(){return _signMessage.apply(this,arguments);}return signMessage;}();return _createClass(KeyringImported);}(KeyringImportedBase);","import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import _get from\"@babel/runtime/helpers/get\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import{KeyringWatchingBase}from\"../../base/KeyringWatchingBase\";export var KeyringWatching=function(_KeyringWatchingBase){_inherits(KeyringWatching,_KeyringWatchingBase);var _super=_createSuper(KeyringWatching);function KeyringWatching(){return _super.apply(this,arguments);}var _proto=KeyringWatching.prototype;_proto.prepareAccounts=function(){var _prepareAccounts=_asyncToGenerator(function*(params){return _get(_getPrototypeOf(KeyringWatching.prototype),\"basePrepareSimpleWatchingAccounts\",this).call(this,params);});function prepareAccounts(_x){return _prepareAccounts.apply(this,arguments);}return prepareAccounts;}();return _createClass(KeyringWatching);}(KeyringWatchingBase);","import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import{ParamsFormatter,ResultFormatter}from'@ckb-lumos/rpc';var ClientCkb=function(){function ClientCkb({backgroundApi,networkId}){this.networkId=networkId;this.backgroundApi=backgroundApi;}var _proto=ClientCkb.prototype;_proto.getCells=function(){var _getCells=_asyncToGenerator(function*(searchKey,order,limit,cursor){var params=[ParamsFormatter.toGetCellsSearchKey(searchKey),order,limit,cursor];var[result]=yield this.backgroundApi.serviceAccountProfile.sendProxyRequest({networkId:this.networkId,body:[{route:'rpc',params:{method:'get_cells',params}}]});return ResultFormatter.toGetCellsResult(result);});function getCells(_x,_x2,_x3,_x4){return _getCells.apply(this,arguments);}return getCells;}();_proto.getFeeRateStatistics=function(){var _getFeeRateStatistics=_asyncToGenerator(function*(){var[result]=yield this.backgroundApi.serviceAccountProfile.sendProxyRequest({networkId:this.networkId,body:[{route:'rpc',params:{method:'get_fee_rate_statistics',params:[]}}]});return result;});function getFeeRateStatistics(){return _getFeeRateStatistics.apply(this,arguments);}return getFeeRateStatistics;}();_proto.getLiveCell=function(){var _getLiveCell=_asyncToGenerator(function*(outPoint,withData){var params=[ParamsFormatter.toOutPoint(outPoint),withData];var[result]=yield this.backgroundApi.serviceAccountProfile.sendProxyRequest({networkId:this.networkId,body:[{route:'rpc',params:{method:'get_live_cell',params}}]});return ResultFormatter.toLiveCellWithStatus(result);});function getLiveCell(_x5,_x6){return _getLiveCell.apply(this,arguments);}return getLiveCell;}();return _createClass(ClientCkb);}();export default ClientCkb;","import{bytes,number}from'@ckb-lumos/codec';import BigNumber from'bignumber.js';export var DEFAULT_CONFIRM_BLOCK=24;export function decodeNaiveBalance(cell){return new BigNumber(cell.cellOutput.capacity,16);}export function decodeBalanceWithCell(cell,config){if(cell?.cellOutput?.type){if(cell?.cellOutput?.type?.codeHash===config.SCRIPTS.XUDT?.CODE_HASH){return new BigNumber(number.Uint128.unpack(bytes.bytify(cell.data).slice(0,16)).toString());}if(cell?.cellOutput?.type?.codeHash===config.SCRIPTS.SUDT?.CODE_HASH){return new BigNumber(number.Uint128LE.unpack(bytes.bytify(cell.data).slice(0,16)).toString());}}return decodeNaiveBalance(cell);}export function selectCellsByAddress(confirmCell,targetAmount){var collectedSum=new BigNumber(0);var collected=[];for(var cell of confirmCell){collectedSum=collectedSum.plus(new BigNumber(cell.cellOutput.capacity,16));collected.push(cell);if(collectedSum.isGreaterThanOrEqualTo(targetAmount))break;}return{collected,collectedSum};}","import{scriptToAddress}from'@onekeyhq/core/src/chains/ckb/sdkCkb';import{decodeBalanceWithCell}from\"./balance\";export function convertTokenHistoryUtxos(cell,mineAddress,tokenInfo,config){return cell?.map(function(c){return{address:scriptToAddress(c.cellOutput.lock,{config}),balance:decodeBalanceWithCell(c,config).shiftedBy(-tokenInfo.decimals).toFixed(),balanceValue:decodeBalanceWithCell(c,config).toString(),symbol:tokenInfo.symbol,isMine:scriptToAddress(c.cellOutput.lock,{config})===mineAddress};});}","import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";function _asyncIterator(r){var n,t,o,e=2;for(\"undefined\"!=typeof Symbol&&(t=Symbol.asyncIterator,o=Symbol.iterator);e--;){if(t&&null!=(n=r[t]))return n.call(r);if(o&&null!=(n=r[o]))return new AsyncFromSyncIterator(n.call(r));t=\"@@asyncIterator\",o=\"@@iterator\";}throw new TypeError(\"Object is not async iterable\");}function AsyncFromSyncIterator(r){function AsyncFromSyncIteratorContinuation(r){if(Object(r)!==r)return Promise.reject(new TypeError(r+\" is not an object.\"));var n=r.done;return Promise.resolve(r.value).then(function(r){return{value:r,done:n};});}return AsyncFromSyncIterator=function(r){this.s=r,this.n=r.next;},AsyncFromSyncIterator.prototype={s:null,n:null,next:function(){return AsyncFromSyncIteratorContinuation(this.n.apply(this.s,arguments));},return:function(r){var n=this.s.return;return void 0===n?Promise.resolve({value:r,done:!0}):AsyncFromSyncIteratorContinuation(n.apply(this.s,arguments));},throw:function(r){var n=this.s.return;return void 0===n?Promise.reject(r):AsyncFromSyncIteratorContinuation(n.apply(this.s,arguments));}},new AsyncFromSyncIterator(r);}import{BI}from'@ckb-lumos/bi';import{bytes,number}from'@ckb-lumos/codec';import{common,secp256k1Blake160}from'@ckb-lumos/common-scripts';import{getConfig}from'@ckb-lumos/config-manager';import{minimalCellCapacityCompatible,parseAddress}from'@ckb-lumos/helpers';import BigNumber from'bignumber.js';import{List,Set}from'immutable';import{MinimumTransferBalanceRequiredForSendingAssetError}from'@onekeyhq/shared/src/errors';import{addCellDep}from\"./script\";export function generateXudtScript(token,config){var SUDT_SCRIPT=config.SCRIPTS.XUDT;return{codeHash:SUDT_SCRIPT.CODE_HASH,hashType:SUDT_SCRIPT.HASH_TYPE,args:token};}export function unpackAmount(data){return number.Uint128.unpack(bytes.bytify(data).slice(0,16));}export function packAmount(amount){return bytes.hexify(number.Uint128.pack(amount));}export function transfer(_x,_x2,_x3,_x4,_x5,_x6,_x7,_x8){return _transfer.apply(this,arguments);}function _transfer(){_transfer=_asyncToGenerator(function*(txSkeleton,fromAddress,token,xudtToken,toAddress,amount,changeAddress,capacity,{config=undefined,requireToAddress=true,splitChangeCell=false}={requireToAddress:true,splitChangeCell:false}){config=config||getConfig();var _amount=BI.from(amount);var _capacity=capacity?BI.from(capacity):undefined;var XUDT_SCRIPT=config.SCRIPTS.XUDT;if(!XUDT_SCRIPT){throw new Error('Provided config does not have XUDT script setup!');}var fromScript=parseAddress(fromAddress,{config});if(requireToAddress&&!toAddress){throw new Error('You must provide a to address!');}var toScript=parseAddress(toAddress,{config});var changeOutputLockScript=changeAddress?parseAddress(changeAddress,{config}):fromScript;if(_amount.lte(0)){throw new Error('amount must be greater than 0');}var xudtType=generateXudtScript(xudtToken,config);var cellProvider=txSkeleton.get('cellProvider');if(!cellProvider){throw new Error('Cell provider is missing!');}var targetOutput={cellOutput:{capacity:'0x0',lock:toScript,type:xudtType},data:packAmount(_amount),outPoint:undefined,blockHash:undefined};if(!_capacity){_capacity=BI.from(minimalCellCapacityCompatible(targetOutput));}targetOutput.cellOutput.capacity=`0x${_capacity.toString(16)}`;txSkeleton=txSkeleton.update('outputs',function(outputs){return outputs.push(targetOutput);});txSkeleton=txSkeleton.update('fixedEntries',function(fixedEntries){return fixedEntries.push({field:'outputs',index:txSkeleton.get('outputs').size-1});});txSkeleton=addCellDep(txSkeleton,{outPoint:{txHash:XUDT_SCRIPT.TX_HASH,index:XUDT_SCRIPT.INDEX},depType:XUDT_SCRIPT.DEP_TYPE});var changeCell={cellOutput:{capacity:'0x0',lock:changeOutputLockScript,type:xudtType},data:packAmount(0),outPoint:undefined,blockHash:undefined};var changeCellWithoutXudt={cellOutput:{capacity:'0x0',lock:changeOutputLockScript,type:undefined},data:'0x',outPoint:undefined,blockHash:undefined};var changeCapacity=BI.from(0);var changeAmount=BI.from(0);var previousInputs=Set();for(var input of txSkeleton.get('inputs')){previousInputs=previousInputs.add(`${input.outPoint.txHash}_${input.outPoint.index}`);}var cellCollectorInfos=List();var xUDTsecpCollector=new secp256k1Blake160.CellCollector(fromAddress,cellProvider,{config,queryOptions:{type:xudtType,data:'any'}});var secpCollector=new secp256k1Blake160.CellCollector(fromAddress,cellProvider,{config});cellCollectorInfos=cellCollectorInfos.push({cellCollector:xUDTsecpCollector,index:0},{cellCollector:secpCollector,index:0});var _totalCapacity=BI.from(0);var _totalAmount=BI.from(0);var _totalTokenCapacity=BI.from(0);var _requiresExtraNativeToken=BI.from(0);var done=false;for(var{cellCollector}of cellCollectorInfos){var _iteratorAbruptCompletion=false;var _didIteratorError=false;var _iteratorError;try{var _loop=function*(){var inputCell=_step.value;{if(done){return 0;}var key=`${inputCell.outPoint.txHash}_${inputCell.outPoint.index}`;if(previousInputs.has(key)){return 1;}previousInputs=previousInputs.add(key);var fromInfo=fromAddress;txSkeleton=yield common.setupInputCell(txSkeleton,inputCell,fromInfo,{config});var lastOutputIndex=txSkeleton.get('outputs').size-1;txSkeleton=txSkeleton.update('outputs',function(outputs){return outputs.remove(lastOutputIndex);});var fixedEntryIndex=txSkeleton.get('fixedEntries').findIndex(function(fixedEntry){return fixedEntry.field==='outputs'&&fixedEntry.index===lastOutputIndex;});if(fixedEntryIndex>=0){txSkeleton=txSkeleton.update('fixedEntries',function(fixedEntries){return fixedEntries.remove(fixedEntryIndex);});}var inputCapacity=BI.from(inputCell.cellOutput.capacity);var inputAmount=inputCell.cellOutput.type?unpackAmount(inputCell.data):BI.from(0);_totalCapacity=_totalCapacity.add(inputCapacity);_totalAmount=_totalAmount.add(inputAmount);if(inputCell.cellOutput.type?.args===xudtToken){_totalTokenCapacity=_totalTokenCapacity.add(inputCapacity);}var requiresAmount=_amount;var requiresCapacity=minimalCellCapacityCompatible(targetOutput);if(_totalAmount.gt(requiresAmount)){requiresCapacity=requiresCapacity.add(minimalCellCapacityCompatible(changeCell));}var targetCapacity=requiresCapacity.add(minimalCellCapacityCompatible(changeCellWithoutXudt));_requiresExtraNativeToken=targetCapacity.sub(_totalTokenCapacity);if(_totalCapacity.gt(targetCapacity)&&_totalAmount.gte(requiresAmount)){changeCapacity=_totalCapacity.sub(requiresCapacity);changeAmount=_totalAmount.sub(requiresAmount);done=true;return 0;}}},_ret;for(var _iterator=_asyncIterator(cellCollector.collect()),_step;_iteratorAbruptCompletion=!(_step=yield _iterator.next()).done;_iteratorAbruptCompletion=false){_ret=yield*_loop();if(_ret===0)break;if(_ret===1)continue;}}catch(err){_didIteratorError=true;_iteratorError=err;}finally{try{if(_iteratorAbruptCompletion&&_iterator.return!=null){yield _iterator.return();}}finally{if(_didIteratorError){throw _iteratorError;}}}}if(!done||changeAmount.lt(0)||changeCapacity.lt(0)){throw new MinimumTransferBalanceRequiredForSendingAssetError({info:{name:`${new BigNumber(amount.toString()).shiftedBy(-token.decimals).toString()} ${token.symbol}`,amount:_requiresExtraNativeToken.div(10**8).toString(),symbol:'CKB'}});}var minimalChangeCellWithoutSudtCapacity=BI.from(minimalCellCapacityCompatible(changeCellWithoutXudt));if(changeCapacity.gte(minimalChangeCellWithoutSudtCapacity)){var minimalChangeCellCapcaity=BI.from(minimalCellCapacityCompatible(changeCell));changeCell.cellOutput.capacity=`0x${minimalChangeCellCapcaity.toString(16)}`;if(changeAmount.gt(0)){changeCell.data=packAmount(changeAmount);}if(changeCapacity.gt(0)){changeCellWithoutXudt.cellOutput.capacity=`0x${changeCapacity.toString(16)}`;}if(changeAmount.gt(0)){txSkeleton=txSkeleton.update('outputs',function(outputs){return outputs.push(changeCell);});txSkeleton=txSkeleton.update('fixedEntries',function(fixedEntries){return fixedEntries.push({field:'outputs',index:txSkeleton.get('outputs').size-1});});}txSkeleton=txSkeleton.update('outputs',function(outputs){return outputs.push(changeCellWithoutXudt);});}else if(changeAmount.gt(0)&&changeCapacity.lt(minimalCellCapacityCompatible(changeCell))){throw new Error('Not enough capacity for change in from infos!');}return txSkeleton;});return _transfer.apply(this,arguments);}","import{values}from'@ckb-lumos/base';import{bytes}from'@ckb-lumos/codec';export function createScript(config,args){if(!config){return undefined;}return{codeHash:config.CODE_HASH,hashType:config.HASH_TYPE,args:bytes.hexify(args)};}export function addCellDep(txSkeleton,newCellDep){var cellDep=txSkeleton.get('cellDeps').find(function(cellDep){return cellDep.depType===newCellDep.depType&&new values.OutPointValue(cellDep.outPoint,{validate:false}).equals(new values.OutPointValue(newCellDep.outPoint,{validate:false}));});if(!cellDep){txSkeleton=txSkeleton.update('cellDeps',function(cellDeps){return cellDeps.push({outPoint:newCellDep.outPoint,depType:newCellDep.depType});});}return txSkeleton;}","import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _isNil from\"lodash/isNil\";import _isEmpty from\"lodash/isEmpty\";import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import{BI}from'@ckb-lumos/bi';import{CellCollector,TerminableCellAdapter}from'@ckb-lumos/ckb-indexer';import{common,secp256k1Blake160}from'@ckb-lumos/common-scripts';import{TransactionSkeleton,minimalCellCapacityCompatible}from'@ckb-lumos/helpers';import{RPC}from'@ckb-lumos/rpc';import BigNumber from'bignumber.js';import{getConfig,scriptToAddress}from'@onekeyhq/core/src/chains/ckb/sdkCkb';import coreChainApi from'@onekeyhq/core/src/instance/coreChainApi';import{MinimumTransferAmountError,OneKeyInternalError,RemainingMinBalanceError}from'@onekeyhq/shared/src/errors';import{memoizee}from'@onekeyhq/shared/src/utils/cacheUtils';import timerUtils from'@onekeyhq/shared/src/utils/timerUtils';import{EDecodedTxDirection,EDecodedTxStatus}from'@onekeyhq/shared/types/tx';import{VaultBase}from\"../../base/VaultBase\";import{KeyringExternal}from\"./KeyringExternal\";import{KeyringHardware}from\"./KeyringHardware\";import{KeyringHd}from\"./KeyringHd\";import{KeyringImported}from\"./KeyringImported\";import{KeyringWatching}from\"./KeyringWatching\";import ClientCkb from\"./sdkCkb/ClientCkb\";import{isValidateAddress}from\"./utils/address\";import{decodeBalanceWithCell,decodeNaiveBalance}from\"./utils/balance\";import{convertTokenHistoryUtxos}from\"./utils/history\";import{DEFAULT_MIN_INPUT_CAPACITY,convertRawTxToApiTransaction,convertTxSkeletonToTransaction,convertTxToTxSkeleton,getTransactionSizeByTxSkeleton}from\"./utils/transaction\";import{transfer as xUDTTransafer}from\"./utils/xudt\";var Vault=function(_VaultBase){_inherits(Vault,_VaultBase);var _super=_createSuper(Vault);function Vault(...args){var _this;_this=_super.call(this,...args);_this.coreApi=coreChainApi.ckb.hd;_this.keyringMap={hd:KeyringHd,qr:undefined,hw:KeyringHardware,imported:KeyringImported,watching:KeyringWatching,external:KeyringExternal};_this.getClientCache=memoizee(_asyncToGenerator(function*(){return new ClientCkb({backgroundApi:_this.backgroundApi,networkId:_this.networkId});}),{maxAge:timerUtils.getTimeDurationMs({minute:3})});_this.getIndexer=memoizee(_asyncToGenerator(function*(){var client=yield _this.getClient();var indexer=new TerminableCellAdapter({getCells:client.getCells.bind(client)});return indexer;}),{promise:true,max:1,maxAge:timerUtils.getTimeDurationMs({minute:3})});return _this;}var _proto=Vault.prototype;_proto.getClient=function(){var _getClient=_asyncToGenerator(function*(){return this.getClientCache();});function getClient(){return _getClient.apply(this,arguments);}return getClient;}();_proto._getCurrentConfig=function(){var _getCurrentConfig2=_asyncToGenerator(function*(){return getConfig(yield this.getNetworkChainId());});function _getCurrentConfig(){return _getCurrentConfig2.apply(this,arguments);}return _getCurrentConfig;}();_proto.buildAccountAddressDetail=function(){var _buildAccountAddressDetail=_asyncToGenerator(function*(params){var{account,networkId}=params;var address=account.address||'';var{normalizedAddress,displayAddress,isValid}=yield this.validateAddress(address);return{networkId,normalizedAddress,displayAddress,address:displayAddress,baseAddress:normalizedAddress,isValid,allowEmptyAddress:false};});function buildAccountAddressDetail(_x){return _buildAccountAddressDetail.apply(this,arguments);}return buildAccountAddressDetail;}();_proto.buildEncodedTx=function buildEncodedTx(params){var{transfersInfo,specifiedFeeRate}=params;if(transfersInfo&&!_isEmpty(transfersInfo)){if(transfersInfo.length===1){return this._buildEncodedTxFromTransfer({transferInfo:transfersInfo[0],specifiedFeeRate});}throw new OneKeyInternalError('Batch transfers not supported');}throw new OneKeyInternalError();};_proto._buildEncodedTxFromTransfer=function(){var _buildEncodedTxFromTransfer2=_asyncToGenerator(function*({transferInfo,specifiedFeeRate}){var{tokenInfo,amount,from,to}=transferInfo;if(!transferInfo.to){throw new Error('buildEncodedTx ERROR: transferInfo.to is missing');}if(!tokenInfo){throw new Error('buildEncodedTx ERROR: transferInfo.tokenInfo is missing');}var client=yield this.getClient();var indexer=yield this.getIndexer();var accountAddress=yield this.getAccountAddress();var network=yield this.getNetwork();var feeRate='';if(!_isNil(specifiedFeeRate)){feeRate=specifiedFeeRate;}else{var{median}=yield client.getFeeRateStatistics();feeRate=median;}var txSkeleton=TransactionSkeleton({cellProvider:{collector:function(query){var queries=_objectSpread({type:'empty',data:'0x'},query);var cellCollector=new CellCollector(indexer,queries);return cellCollector;}}});var amountValue;if(tokenInfo.isNative){amountValue=new BigNumber(amount).shiftedBy(tokenInfo.decimals).toFixed();if(BI.from(amountValue).lt(DEFAULT_MIN_INPUT_CAPACITY)){throw new MinimumTransferAmountError({info:{amount:'61'}});}txSkeleton=yield secp256k1Blake160.transferCompatible(txSkeleton,from!=null?from:accountAddress,to,BI.from(amountValue));}else{if(!tokenInfo.address){throw new Error('buildEncodedTx ERROR: tokenInfo.address is missing');}amountValue=new BigNumber(amount).shiftedBy(tokenInfo.decimals).toFixed();txSkeleton=yield xUDTTransafer(txSkeleton,from,tokenInfo,tokenInfo.address,to,BI.from(amountValue));}try{var config=yield this._getCurrentConfig();txSkeleton=yield common.payFeeByFeeRate(txSkeleton,[from],feeRate,undefined,{config});}catch(err){var outputs=txSkeleton.get('outputs').toArray();var lastIndex=outputs.length-1;var lastOutput=outputs[lastIndex];if(lastOutput&&BI.from(lastOutput.cellOutput.capacity).lt(minimalCellCapacityCompatible(lastOutput))){var miniAmount=new BigNumber(minimalCellCapacityCompatible(lastOutput).toString()).shiftedBy(-network.decimals).toFixed();throw new RemainingMinBalanceError({info:{miniAmount}});}}txSkeleton=txSkeleton.update('witnesses',function(witnesses){return witnesses.filter(function(witness){return witness!=='0x';});});var allInputAmount=txSkeleton.get('inputs').toArray().reduce(function(acc,cur){return acc.plus(new BigNumber(cur.cellOutput.capacity,16));},new BigNumber(0));var allOutputAmount=txSkeleton.get('outputs').toArray().reduce(function(acc,cur){return acc.plus(new BigNumber(cur.cellOutput.capacity,16));},new BigNumber(0));var limit=allInputAmount.minus(allOutputAmount).toString();var size=getTransactionSizeByTxSkeleton(txSkeleton);if(allInputAmount.isLessThanOrEqualTo(allOutputAmount)){limit=new BigNumber(feeRate).multipliedBy(size).div(1000).toFixed(0);txSkeleton=txSkeleton.update('outputs',function(outputs){return outputs.update(outputs.size-1,function(output){if(!output){return output;}output.cellOutput.capacity=BI.from(output.cellOutput.capacity).sub(limit).toHexString();return output;});});}var tx=convertTxSkeletonToTransaction(txSkeleton);return{tx,txSize:size,feeInfo:{limit,price:'1',feeRate}};});function _buildEncodedTxFromTransfer(_x2){return _buildEncodedTxFromTransfer2.apply(this,arguments);}return _buildEncodedTxFromTransfer;}();_proto.buildDecodedTx=function(){var _buildDecodedTx=_asyncToGenerator(function*(params){var _outputs$find;var{unsignedTx}=params;var encodedTx=unsignedTx.encodedTx;var client=yield this.getClient();var txs=yield convertTxToTxSkeleton({client,transaction:encodedTx.tx});var inputs=txs.get('inputs').toArray();var outputs=txs.get('outputs').toArray();var config=yield this._getCurrentConfig();var network=yield this.getNetwork();var accountAddress=yield this.getAccountAddress();var toAddressOutput=(_outputs$find=outputs.find(function(output){return scriptToAddress(output.cellOutput.lock,{config})!==accountAddress;}))!=null?_outputs$find:outputs[0];if(!toAddressOutput){throw new OneKeyInternalError('No to address output found');}var toAddress=scriptToAddress(toAddressOutput.cellOutput.lock,{config});var transfers=[];var nativeToken=yield this.backgroundApi.serviceToken.getNativeToken({networkId:this.networkId,accountId:this.accountId});if(nativeToken){var _nativeToken$logoURI;var transfer={from:accountAddress,to:toAddress,amount:decodeNaiveBalance(toAddressOutput).shiftedBy(-nativeToken.decimals).toFixed(),tokenIdOnNetwork:nativeToken.address,icon:(_nativeToken$logoURI=nativeToken.logoURI)!=null?_nativeToken$logoURI:'',name:nativeToken.name,symbol:nativeToken.symbol,isNFT:false,isNative:true};transfers.push(transfer);}var tokens=inputs.reduce(function(acc,cur){var tokenAddress=cur.cellOutput.type?.args;if(tokenAddress){return acc.add(tokenAddress);}return acc;},new Set());var existsToken=false;for(var tokenAddress of tokens){var tokenTransfers=yield this._decodeTokenTransfers({txSkeleton:txs,config,tokenAddress});transfers=[...transfers,...tokenTransfers];if(tokenTransfers.length>0){existsToken=true;}}if(existsToken&&transfers.length>1){var _transfer$amount;var _transfer=transfers[0];var isNativeToken=_transfer.isNative;var isZero=new BigNumber((_transfer$amount=_transfer.amount)!=null?_transfer$amount:'0').isLessThanOrEqualTo('0');if(isNativeToken&&isZero){transfers=transfers.slice(1);}}var totalInput=inputs.reduce(function(acc,cur){return acc.plus(decodeBalanceWithCell(cur,config).shiftedBy(-network.decimals));},new BigNumber(0));var totalOutput=outputs.reduce(function(acc,cur){return acc.plus(decodeBalanceWithCell(cur,config).shiftedBy(-network.decimals));},new BigNumber(0));var fee=totalInput.minus(totalOutput).toFixed();var action=yield this.buildTxTransferAssetAction({from:accountAddress,to:toAddress,transfers});return{txid:'',owner:accountAddress,signer:accountAddress,nonce:0,actions:[action],status:EDecodedTxStatus.Pending,networkId:this.networkId,accountId:this.accountId,extraInfo:null,totalFeeInNative:fee};});function buildDecodedTx(_x3){return _buildDecodedTx.apply(this,arguments);}return buildDecodedTx;}();_proto._decodeTokenTransfers=function(){var _decodeTokenTransfers2=_asyncToGenerator(function*({txSkeleton,config,tokenAddress}){var accountAddress=yield this.getAccountAddress();var token=yield this.backgroundApi.serviceToken.getToken({networkId:this.networkId,accountId:this.accountId,tokenIdOnNetwork:tokenAddress});if(!token)return[];var inputs=txSkeleton.get('inputs').toArray().filter(function(input){return input.cellOutput.type?.args.toLowerCase()===tokenAddress.toLowerCase();});var outputs=txSkeleton.get('outputs').toArray().filter(function(input){return input.cellOutput.type?.args.toLowerCase()===tokenAddress.toLowerCase();});var utxoFrom=convertTokenHistoryUtxos(Array.from(inputs),accountAddress,token,config);var utxoTo=convertTokenHistoryUtxos(Array.from(outputs),accountAddress,token,config);var inputWithMine=utxoFrom.find(function(input){return input.isMine;});var utxoToWithoutMine=utxoTo.filter(function(output){return!output.isMine;});var utxoToWithMine=utxoTo.filter(function(output){return output.isMine;});var direction;var from=accountAddress;var to=accountAddress;var amount='0';var amountValue='0';if(inputWithMine){direction=EDecodedTxDirection.OUT;var res=utxoTo.find(function(output){return!output.isMine;});to=res?res.address:accountAddress;amountValue=utxoToWithoutMine.filter(function(utxo){return utxo.address===to;}).reduce(function(acc,cur){return acc.plus(cur.balanceValue);},new BigNumber(0)).toFixed();amount=new BigNumber(amountValue).shiftedBy(-token.decimals).toFixed();}else{direction=EDecodedTxDirection.IN;var _res=utxoFrom.find(function(output){return!output.isMine;});from=_res?_res.address:accountAddress;amountValue=utxoToWithMine.reduce(function(acc,cur){return acc.plus(cur.balanceValue);},new BigNumber(0)).toFixed();amount=new BigNumber(amountValue).shiftedBy(-token.decimals).toFixed();}var transfers=[];if(utxoToWithoutMine&&utxoToWithoutMine.length){var outputTo=direction===EDecodedTxDirection.OUT?utxoToWithoutMine:utxoToWithMine;transfers=outputTo.map(function(utxo){var _token$logoURI;return{from,to:utxo.address,tokenIdOnNetwork:token.address,icon:(_token$logoURI=token.logoURI)!=null?_token$logoURI:'',name:token.name,symbol:token.symbol,amount,isNFT:false,isNative:false};});}else{var _token$logoURI2;transfers=[{from,to,tokenIdOnNetwork:token.address,icon:(_token$logoURI2=token.logoURI)!=null?_token$logoURI2:'',name:token.name,symbol:token.symbol,amount,isNFT:false,isNative:true}];}return transfers;});function _decodeTokenTransfers(_x4){return _decodeTokenTransfers2.apply(this,arguments);}return _decodeTokenTransfers;}();_proto.buildUnsignedTx=function(){var _buildUnsignedTx=_asyncToGenerator(function*(params){var _params$encodedTx;var encodedTx=(_params$encodedTx=params.encodedTx)!=null?_params$encodedTx:yield this.buildEncodedTx(params);if(encodedTx){var _params$transfersInfo;return this._buildUnsignedTxFromEncodedTx({encodedTx:encodedTx,transfersInfo:(_params$transfersInfo=params.transfersInfo)!=null?_params$transfersInfo:[]});}throw new OneKeyInternalError();});function buildUnsignedTx(_x5){return _buildUnsignedTx.apply(this,arguments);}return buildUnsignedTx;}();_proto._buildUnsignedTxFromEncodedTx=function(){var _buildUnsignedTxFromEncodedTx2=_asyncToGenerator(function*({encodedTx,transfersInfo}){var client=yield this.getClient();var txs=yield convertTxToTxSkeleton({client,transaction:encodedTx.tx});var allInputAmount=txs.get('inputs').toArray().reduce(function(acc,cur){return acc.plus(new BigNumber(cur.cellOutput.capacity,16));},new BigNumber(0));var allOutputAmount=txs.get('outputs').toArray().reduce(function(acc,cur){return acc.plus(new BigNumber(cur.cellOutput.capacity,16));},new BigNumber(0));if(allInputAmount.minus(allOutputAmount).isGreaterThan(new BigNumber(1.5*100_000_000))){throw new OneKeyInternalError('Fee is too high');}return{encodedTx,txSize:encodedTx.txSize,transfersInfo};});function _buildUnsignedTxFromEncodedTx(_x6){return _buildUnsignedTxFromEncodedTx2.apply(this,arguments);}return _buildUnsignedTxFromEncodedTx;}();_proto.updateUnsignedTx=function(){var _updateUnsignedTx=_asyncToGenerator(function*(options){var{unsignedTx,feeInfo}=options;var encodedTxNew=unsignedTx.encodedTx;if(feeInfo){if(!unsignedTx.transfersInfo||_isEmpty(unsignedTx.transfersInfo)){throw new OneKeyInternalError('transfersInfo is required');}encodedTxNew=yield this._attachFeeInfoToEncodedTx({encodedTx:unsignedTx.encodedTx,transfersInfo:unsignedTx.transfersInfo,feeInfo});}unsignedTx.encodedTx=encodedTxNew;return Promise.resolve(unsignedTx);});function updateUnsignedTx(_x7){return _updateUnsignedTx.apply(this,arguments);}return updateUnsignedTx;}();_proto._attachFeeInfoToEncodedTx=function(){var _attachFeeInfoToEncodedTx2=_asyncToGenerator(function*({encodedTx,feeInfo,transfersInfo}){if(feeInfo.feeCkb?.feeRate){var feeRate=feeInfo.feeCkb.feeRate;if(typeof feeRate==='string'){return this._buildEncodedTxFromTransfer({transferInfo:transfersInfo[0],specifiedFeeRate:feeRate});}}return Promise.resolve(encodedTx);});function _attachFeeInfoToEncodedTx(_x8){return _attachFeeInfoToEncodedTx2.apply(this,arguments);}return _attachFeeInfoToEncodedTx;}();_proto.validateAddress=function(){var _validateAddress=_asyncToGenerator(function*(address){var config=yield this._getCurrentConfig();if(isValidateAddress(address,{config})){return{isValid:true,normalizedAddress:address,displayAddress:address};}return{isValid:false,normalizedAddress:'',displayAddress:''};});function validateAddress(_x9){return _validateAddress.apply(this,arguments);}return validateAddress;}();_proto.validateXpub=function validateXpub(xpub){return Promise.resolve({isValid:false});};_proto.getPrivateKeyFromImported=function getPrivateKeyFromImported(params){return this.baseGetPrivateKeyFromImported(params);};_proto.validateXprvt=function validateXprvt(xprvt){return Promise.resolve({isValid:false});};_proto.validatePrivateKey=function validatePrivateKey(privateKey){return this.baseValidatePrivateKey(privateKey);};_proto.validateGeneralInput=function(){var _validateGeneralInput=_asyncToGenerator(function*(params){var{result}=yield this.baseValidateGeneralInput(params);return result;});function validateGeneralInput(_x10){return _validateGeneralInput.apply(this,arguments);}return validateGeneralInput;}();_proto.getCustomRpcEndpointStatus=function(){var _getCustomRpcEndpointStatus=_asyncToGenerator(function*(params){var client=new RPC(params.rpcUrl);var start=performance.now();var bestBlockNumber=yield client.getTipBlockNumber();return{responseTime:Math.floor(performance.now()-start),bestBlockNumber:parseInt(bestBlockNumber,10)};});function getCustomRpcEndpointStatus(_x11){return _getCustomRpcEndpointStatus.apply(this,arguments);}return getCustomRpcEndpointStatus;}();_proto.broadcastTransactionFromCustomRpc=function(){var _broadcastTransactionFromCustomRpc=_asyncToGenerator(function*(params){var{customRpcInfo,signedTx}=params;var rpcUrl=customRpcInfo.rpc;if(!rpcUrl){throw new OneKeyInternalError('Invalid rpc url');}var client=new RPC(rpcUrl);var transaction=convertRawTxToApiTransaction(signedTx.rawTx);var txId=yield client.sendTransaction(transaction,'passthrough');return _objectSpread(_objectSpread({},params.signedTx),{},{txid:txId});});function broadcastTransactionFromCustomRpc(_x12){return _broadcastTransactionFromCustomRpc.apply(this,arguments);}return broadcastTransactionFromCustomRpc;}();return _createClass(Vault);}(VaultBase);export{Vault as default};","import{parseAddress}from'@ckb-lumos/helpers';export function isValidateAddress(address,{config=undefined}={}){try{parseAddress(address,{config});return true;}catch{return false;}}","export var EVaultKeyringTypes=function(EVaultKeyringTypes){EVaultKeyringTypes[\"hd\"]=\"hd\";EVaultKeyringTypes[\"qr\"]=\"qr\";EVaultKeyringTypes[\"hardware\"]=\"hardware\";EVaultKeyringTypes[\"imported\"]=\"imported\";EVaultKeyringTypes[\"watching\"]=\"watching\";EVaultKeyringTypes[\"external\"]=\"external\";return EVaultKeyringTypes;}({});export var EWrappedType=function(EWrappedType){EWrappedType[\"DEPOSIT\"]=\"deposit\";EWrappedType[\"WITHDRAW\"]=\"withdraw\";return EWrappedType;}({});"],"names":["getConfig","chainId","config","PREFIX","Error","scriptToAddress","script","generateAddress","pubkeyToAddress","publicKey","args","blake160","utils","CKBHasher","update","digestHex","slice","template","SCRIPTS","SECP256K1_BLAKE160","codeHash","CODE_HASH","hashType","HASH_TYPE","slicePathTemplate","getUtxoAccountPrefixPath","fullPath","pathComponent","split","pop","join","getBIP44Path","account","address","realPath","key","value","Object","entries","addresses","path","estimateTxSize","inputsForCoinSelect","outputsForCoinSelect","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","result","Super","NewTarget","this","constructor","Reflect","construct","arguments","apply","t","Boolean","prototype","valueOf","call","KeyringBase","_VaultContext","_super","vault","_this","options","networkId","_basePrepareHdNormalAccounts","_basePrepareHdUtxoAccounts","_batchGetAddresses","_exportAccountSecretKeys","_buildHwAllNetworkPrepareAccountsParams","_proto","isKeyringImported","keyringType","imported","isKeyringHd","hd","isKeyringHardware","hardware","isKeyringWatching","watching","basePrepareHdNormalAccounts","params","walletId","names","deriveInfo","indexes","coinType","namePrefix","idSuffix","settings","getVaultSettings","accountType","buildAddressesInfo","usedIndexes","addressInfos","ret","idx","length","relPath","VARIANT","pathIndex","name","buildHDAccountName","id","buildHDAccountId","indexedAccountId","buildIndexedAccountId","index","push","type","impl","pub","_x","_x2","basePrepareHdUtxoAccounts","skipCheckAccountExist","UTXO","checkIsAccountUsed","accountCreatePerf","utxoBuildAddressesInfo","addressesInfo","utxoBuildAddressesInfoDone","buildDBUtxoAccounts","xpub","xpubSegwit","prefix","isLast","isUsed","wait","buildDBUtxoAccountsDone","_x3","_x4","batchGetAddresses","_x5","exportAccountSecretKeys","_x6","buildHwAllNetworkPrepareAccountsParams","_x7","buildPrepareAccountsPrefixedPath","_KeyringBase","KeyringBaseMock","_super2","KeyringExternalBase","external","_baseSignMessageByExternalWallet","_baseSendTransactionByExternalWallet","_basePrepareExternalAccounts","baseSignMessageByExternalWallet","backgroundApi","serviceDappSide","signMessage","getAccount","baseSendTransactionByExternalWallet","sendTransaction","prepareAccounts","basePrepareExternalAccounts","KeyringHardwareBase","_getHardwareSDKInstance","_baseGetDeviceAccountData","_baseGetDeviceAccountPublicKeys","_baseGetDeviceAccountAddresses","_getAllNetworkPrepareAccounts","getHardwareSDKInstance","_ref","r","$backgroundApiProxy","serviceHardware","getSDKInstance","getHardwareSDKInstanceDone","baseGetDeviceAccountData","sdkGetDataFn","errorMessage","deviceParams","dbDevice","confirmOnDevice","connectId","deviceId","coinName","pathPrefix","pathSuffix","showOnOnekeyFn","arrIndex","EveryItem","LastItem","baseGetDeviceAccountPublicKeys","sdkGetPublicKeysFn","baseGetDeviceAccountAddresses","sdkGetAddressFn","getAllNetworkPrepareAccounts","hwSdkNetwork","buildPath","buildResultAccount","hwAllNetworkPrepareAccountsResponse","resultAccounts","_loop","find","item","network","success","payload","hasErrorItem","error","indexOf","KeyringHdBase","_KeyringSoftwareBase","KeyringImportedBase","ownKeys","e","keys","getOwnPropertySymbols","o","filter","getOwnPropertyDescriptor","enumerable","_objectSpread","forEach","getOwnPropertyDescriptors","defineProperties","defineProperty","KeyringSoftwareBase","_baseGetCredentialsInfo","_baseSignTransactionBtc","_baseSignTransaction","_baseSignMessage","_baseSignMessageBtc","_basePrepareAccountsImported","_basePrepareAccountsImportedUtxo","_basePrepareAccountsHd","_basePrepareAccountsHdUtxo","_baseExportAccountSecretKeys","_baseGetPrivateKeys","baseGetCredentialsInfo","password","getCredential","credential","accountId","baseSignTransactionBtc","coreApi","unsignedTx","signOnly","credentials","networkInfo","getCoreApiNetworkInfo","btcExtraInfo","relPaths","prepareBtcSignExtraInfo","signTransaction","baseSignTransaction","baseSignMessage","messages","Promise","all","map","msg","unsignedMsg","baseSignMessageBtc","_this2","unsignedMessage","basePrepareAccountsImported","importedCredential","networks","createAtNetwork","privateKey","onlyAvailableOnCertainNetworks","coinTypeDefault","privateKeyRaw","getAddressFromPrivate","addressEncoding","addressUsed","buildImportedAccountId","resolve","undefined","basePrepareAccountsImportedUtxo","_x8","basePrepareAccountsHd","_ref2","_this3","getAddressesFromHd","hdCredential","_x10","_x9","basePrepareAccountsHdUtxo","_ref3","_this4","getCredentialsInfo","getAddressesFromHdDone","_x13","_x11","_x12","baseExportAccountSecretKeys","keyType","serviceNetwork","getDeriveTypeByTemplate","getExportedSecretKey","_x14","baseGetPrivateKeys","getPrivateKeys","_x15","KeyringWatchingBase","_signTransaction","_signMessage","_basePrepareUtxoWatchingAccounts","_basePrepareSimpleWatchingAccounts","a","intl","formatMessage","ETranslations","wallet_error_trade_with_watched_acocunt","basePrepareUtxoWatchingAccounts","isUrlAccount","buildWatchingAccountId","addressFromXpub","getAddressFromPublic","basePrepareSimpleWatchingAccounts","SIMPLE","_excluded","_excluded2","VaultBase","_VaultBaseChainOnly","uuid","mutexBuildOnChainHistoryTxGetDBAccount","_init","_initKeyring","_broadcastTransaction","_broadcastTransactionFromCustomRpc","_validateSendAmount","_buildOnChainHistoryTxExtraInfo","_precheckUnsignedTx","_buildEstimateFeeParams","_buildParseTransactionParams","_buildFetchHistoryListParams","_buildHistoryTx","_buildOnChainHistoryTx","_buildHistoryTxAction","_buildHistoryTxFunctionCallAction","_buildHistoryTxUnknownAction","_buildHistoryTransferAction","_buildTxTransferAssetAction","_buildInternalSwapAction","_buildInternalStakingAction","_getAccount","_getAccountAddress","_getAccountPath","_getAccountXpub","_fillTokensDetails","_fillAccountDetails","_isEarliestLocalPendingTx","_buildReplaceEncodedTx","_attachFeeInfoToDAppEncodedTx","_activateToken","_getAddressType","_fetchAccountDetails","_fetchAccountDetailsByApi","_fetchAccountDetailsByRpc","_fetchTokenList","_fetchTokenListByApi","_fetchTokenListByRpc","_estimateFee","_estimateFeeByApi","_estimateFeeByRpc","_fetchAccountHistoryDetail","_fetchAccountHistoryDetailByApi","_fetchAccountHistoryDetailByRpc","_buildOkxSwapEncodedTx","_proto2","init","initKeyring","_x16","isChainOnly","keyring","keyringCreator","_x17","broadcastTransaction","signedTx","txid","serviceSend","encodedTx","_x18","broadcastTransactionFromCustomRpc","_x19","validateSendAmount","_x20","buildOnChainHistoryTxExtraInfo","onChainHistoryTx","_x21","precheckUnsignedTx","_x22","buildEstimateFeeParams","_x23","buildParseTransactionParams","_x24","buildFetchHistoryListParams","_x25","buildHistoryTx","historyTxToMerge","decodedTx","isSigner","isLocalCreated","dbAccount","accountAddress","x","serviceAccount","getAccountAddressForApi","getAccountXpub","owner","signer","historyTx","buildLocalHistoryId","_x26","fixOnChainHistoryAccountData","originAccountId","originNetworkId","originAccountAddress","originXpub","allNetworkHistoryExtraItems","onekeyall","allNetworkAccount","i","_","txXpub","accountXpub","buildOnChainHistoryTx","tokens","nfts","dbAccountCache","runExclusive","getDBAccountSafe","vaultSettings","action","buildHistoryTxAction","tx","from","to","nonce","actions","status","totalFeeInNative","gasFee","totalFeeFiatValue","gasFeeFiatValue","nativeAmount","isUtxo","extraInfo","label","updatedAt","Date","timestamp","getTime","createdAt","isFinal","_x27","Approve","tokenApprove","buildHistoryTxApproveAction","sends","receives","buildHistoryTxFunctionCallAction","buildHistoryTxUnknownAction","buildHistoryTransferAction","_x28","getNetwork","FUNCTION_CALL","functionCall","functionName","functionHash","functionCode","_x29","UNKNOWN","unknownAction","_x30","ASSET_TRANSFER","assetTransfer","send","buildHistoryTransfer","transfer","receive","_x31","icon","symbol","isNFT","isNative","price","tokenAddress","token","tokenIdOnNetwork","amount","isOwn","decimals","TOKEN_APPROVE","spender","shiftedBy","toFixed","isInfiniteAmount","buildTxTransferAssetAction","transfers","data","application","isInternalSwap","isInternalStaking","internalStakingLabel","swapReceivedAddress","swapReceivedNetworkId","getAccountAddress","sendNativeTokenAmountBN","OUT","plus","nativeAmountValue","convertAmountToChainValue","_x32","buildInternalSwapAction","_swapSendToken$logoUR","_swapSendToken$name","_swapReceiveToken$log","_swapReceiveToken$nam","_providerInfo$provide","swapData","swapInfo","swapToAddress","swapSendToken","sender","swapReceiveToken","receiver","providerInfo","swapBuildResData","info","otherFeeInfos","fee","otherFeeInfoTransfers","contractAddress","logoURI","accountInfo","receivingAddress","feeInfo","_feeInfo$token$logoUR","_feeInfo$token$name","providerName","providerLogo","_x33","buildInternalStakingAction","_send$token$logoURI","_send$token$name","_receive$token$logoUR","_receive$token$name","stakingInfo","stakingData","stakingToAddress","protocol","protocolLogoURI","_x34","_params$signOnly","_signedTx$encodedTx","_x35","getDBAccount","isAccountCompatibleWithNetwork","getNetworkInfo","externalAccount","externalAccountAddress","connectedAddresses","buildExternalAccountAddress","fallbackIndex","_externalAccount$sele","selectedAddress","getNetworkImpl","addressDetail","buildAccountAddressDetail","allowEmptyAddress","isValid","getAccountPath","networkAccount","getXpubFromAccount","fillTokensDetails","tokensDetails","_x36","fillAccountDetails","accountDetails","_x37","isEarliestLocalPendingTx","_x38","buildReplaceEncodedTx","replaceType","_x39","attachFeeInfoToDAppEncodedTx","_x40","activateToken","_x41","getAddressType","_x42","buildStakeEncodedTx","fetchAccountDetails","isCustomNetwork","fetchAccountDetailsByRpc","fetchAccountDetailsByApi","_x43","queryParams","client","serviceAccountProfile","getClient","Wallet","get","headers","_getWalletTypeHeader","signal","_x44","_x45","fetchTokenList","fetchTokenListByRpc","fetchTokenListByApi","_x46","serviceToken","requestApiParams","flag","contractList","contract","post","_x47","_x48","estimateFee","estimateFeeByRpc","estimateFeeByApi","_x49","rest","serviceGas","_x50","_x51","fetchAccountHistoryDetail","fetchAccountHistoryDetailByRpc","fetchAccountHistoryDetailByApi","_x52","_x53","_x54","buildOkxSwapEncodedTx","_x55","VaultBaseChainOnly","_getXpubFromAccount","_proxyJsonRPCCall","_addressFromBase","_addressToBase","_baseValidatePrivateKey","_baseValidateGeneralInput","_baseGetPrivateKeyFromImported","_validateAmountInputShown","_checkIsDomainName","_resolveDomainName","_getCustomRpcEndpointStatus","_checkFeeSupportInfo","_fetchTokenDetails","_fetchTokenDetailsByApi","_fetchTokenDetailsByRpc","proxyJsonRPCCall","request","addressFromBase","addressToBase","baseValidatePrivateKey","baseValidateGeneralInput","addressResult","xpubResult","xprvtResult","privateKeyResult","input","encodedText","validateAddress","validateXprvt","validateXpub","validatePrivateKey","inputDecoded","baseGetPrivateKeyFromImported","stripHexPrefix","text","validateAmountInputShown","toAddress","checkIsDomainName","resolveDomainName","getCustomRpcEndpointStatus","checkFeeSupportInfo","fetchTokenDetails","fetchTokenDetailsByRpc","fetchTokenDetailsByApi","_params$signal","VaultContext","getWalletIdFromAccountId","_getNetworkId","_getNetwork","_getNetworkChainId","_getNetworkImpl","_getVaultSettings2","_getNetworkInfo","_getCoreApiNetworkInfo","_getRpcUrl","_destroy","getNetworkId","cached","_network","getNetworkChainId","hex","addressPrefix","curve","networkImpl","isTestnet","networkChainCode","code","getRpcUrl","destroy","KeyringExternal","_KeyringExternalBase","convertTxToTxSkeleton","_convertTxToTxSkeleton","transaction","fetcher","outPoint","rpcCell","getLiveCell","cell","cellOutput","capacity","output","lock","ResultFormatter","toScript","code_hash","hash_type","content","createTransactionSkeleton","serializeTransactionMessage","txSkeleton","txSkeletonWithMessage","common","prepareSigningEntries","signingEntries","size","message","convertTxSkeletonToTransaction","createTransactionFromSkeleton","KeyringHardware","_KeyringHardwareBase","coreChainApi","ckb","_prepareAccounts","showOnOneKey","chainName","allNetworkAccounts","p","accountUtils","buildPathFromTemplate","normalizedAddress","addressInfo","sdk","deviceCommonParams","witnessHex","witnesses","serialize","blockchain","RawTransaction","pack","nervosSignTransaction","rawTx","signature","sealTransaction","hexUtils","addHexPrefix","Transaction","KeyringHd","_KeyringHdBase","_getPrivateKeys","rawTxUnsigned","bufferUtils","bytesToHex","KeyringImported","_KeyringImportedBase","KeyringWatching","_KeyringWatchingBase","ClientCkb","_getCells","_getFeeRateStatistics","_getLiveCell","getCells","searchKey","order","limit","cursor","ParamsFormatter","toGetCellsSearchKey","sendProxyRequest","body","route","method","toGetCellsResult","getFeeRateStatistics","withData","toOutPoint","toLiveCellWithStatus","decodeNaiveBalance","decodeBalanceWithCell","XUDT","number","Uint128","unpack","bytes","bytify","toString","SUDT","Uint128LE","convertTokenHistoryUtxos","mineAddress","tokenInfo","c","balance","balanceValue","isMine","_asyncIterator","n","Symbol","asyncIterator","iterator","AsyncFromSyncIterator","TypeError","AsyncFromSyncIteratorContinuation","reject","done","then","s","next","return","throw","packAmount","hexify","_transfer","fromAddress","xudtToken","changeAddress","requireToAddress","splitChangeCell","_amount","BI","_capacity","XUDT_SCRIPT","fromScript","parseAddress","changeOutputLockScript","lte","xudtType","generateXudtScript","SUDT_SCRIPT","cellProvider","targetOutput","blockHash","minimalCellCapacityCompatible","addCellDep","newCellDep","cellDep","depType","values","OutPointValue","validate","equals","cellDeps","outputs","fixedEntries","field","txHash","TX_HASH","INDEX","DEP_TYPE","changeCell","changeCellWithoutXudt","changeCapacity","changeAmount","previousInputs","Set","add","cellCollectorInfos","List","xUDTsecpCollector","secp256k1Blake160","CellCollector","queryOptions","secpCollector","cellCollector","_totalCapacity","_totalAmount","_totalTokenCapacity","_requiresExtraNativeToken","_iteratorError","_iteratorAbruptCompletion","_didIteratorError","_step","inputCell","has","fromInfo","lastOutputIndex","setupInputCell","fixedEntryIndex","remove","findIndex","fixedEntry","inputCapacity","inputAmount","requiresAmount","requiresCapacity","gt","targetCapacity","sub","gte","_iterator","collect","err","lt","div","minimalChangeCellWithoutSudtCapacity","minimalChangeCellCapcaity","Vault","_VaultBase","keyringMap","qr","hw","getClientCache","maxAge","timerUtils","getTimeDurationMs","minute","getIndexer","bind","promise","max","_getClient","_getCurrentConfig2","_buildAccountAddressDetail","_buildEncodedTxFromTransfer2","_buildDecodedTx","_decodeTokenTransfers2","_buildUnsignedTx","_buildUnsignedTxFromEncodedTx2","_updateUnsignedTx","_attachFeeInfoToEncodedTx2","_validateAddress","_validateGeneralInput","_getCurrentConfig","displayAddress","baseAddress","buildEncodedTx","transfersInfo","specifiedFeeRate","_buildEncodedTxFromTransfer","transferInfo","indexer","feeRate","median","amountValue","TransactionSkeleton","collector","query","queries","transferCompatible","payFeeByFeeRate","toArray","lastOutput","miniAmount","allInputAmount","witness","reduce","acc","cur","allOutputAmount","minus","getTransactionSizeByTxSkeleton","txSkeletonMessage","byteLength","isLessThanOrEqualTo","multipliedBy","toHexString","txSize","buildDecodedTx","_outputs$find","txs","inputs","toAddressOutput","nativeToken","getNativeToken","_nativeToken$logoURI","existsToken","tokenTransfers","_decodeTokenTransfers","_transfer$amount","isNativeToken","isZero","totalInput","totalOutput","Pending","getToken","direction","toLowerCase","utxoFrom","Array","utxoTo","inputWithMine","utxoToWithoutMine","utxoToWithMine","res","utxo","IN","_res","_token$logoURI2","_token$logoURI","buildUnsignedTx","_params$encodedTx","_params$transfersInfo","_buildUnsignedTxFromEncodedTx","isGreaterThan","updateUnsignedTx","encodedTxNew","_attachFeeInfoToEncodedTx","feeCkb","isValidateAddress","getPrivateKeyFromImported","xprvt","validateGeneralInput","RPC","rpcUrl","start","performance","now","bestBlockNumber","getTipBlockNumber","responseTime","Math","floor","parseInt","customRpcInfo","rpc","convertRawTxToApiTransaction","version","headerDeps","previousOutput","since","outputsData","txId","EVaultKeyringTypes","EWrappedType"],"sourceRoot":""}