{"version":3,"file":"static/js/95074.a15685fb63.chunk.js","mappings":"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","sources":["webpack://web/../../packages/kit/src/views/AssetDetails/pages/UTXODetails.tsx"],"sourcesContent":["import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}import{useCallback}from'react';import{useRoute}from'@react-navigation/core';import{useIntl}from'react-intl';import{Heading,Icon,Page,SizableText,Spinner,Stack,YStack}from'@onekeyhq/components';import{ETranslations}from'@onekeyhq/shared/src/locale';import backgroundApiProxy from\"../../../background/instance/backgroundApiProxy\";import{useAccountData}from\"../../../hooks/useAccountData\";import{usePromiseResult}from\"../../../hooks/usePromiseResult\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function UTXODetails(){var route=useRoute();var intl=useIntl();var{inputs,outputs,networkId,accountId,txId}=route.params;var{network}=useAccountData({networkId});var{result,isLoading}=usePromiseResult(_asyncToGenerator(function*(){if(inputs&&outputs){return Promise.resolve({inputs,outputs});}var r=yield backgroundApiProxy.serviceHistory.fetchHistoryTxDetails({accountId,networkId,txid:txId,withUTXOs:true});if(r){return{inputs:r.data.sends?.map(function(send){return{address:send.from,balance:send.amount};}),outputs:r.data.receives?.map(function(receive){return{address:receive.to,balance:receive.amount};})};}return{inputs:[],outputs:[]};}),[inputs,networkId,accountId,outputs,txId],{watchLoading:true});var renderUTXOList=useCallback(function(utxos){return _jsx(Stack,{children:utxos.map(function(utxo,index){var _network$symbol;return _jsxs(YStack,_objectSpread(_objectSpread({},index!==0&&{mt:'$2.5'}),{},{children:[_jsx(SizableText,{mb:\"$1\",size:\"$bodyMd\",$gtMd:{size:'$bodySm'},children:utxo.address}),_jsx(SizableText,{color:\"$textSubdued\",size:\"$bodyMd\",$gtMd:{size:'$bodySm'},children:`${utxo.balance} ${(_network$symbol=network?.symbol)!=null?_network$symbol:''}`})]}),index);})});},[network?.symbol]);var renderUTXODetails=useCallback(function(){var _result$inputs$length,_result$inputs,_result$outputs$lengt,_result$outputs;if(isLoading){return _jsx(Stack,{pt:240,justifyContent:\"center\",alignContent:\"center\",children:_jsx(Spinner,{size:\"large\"})});}return _jsxs(Stack,{px:\"$5\",$gtMd:{flexDirection:'row'},children:[_jsxs(Stack,{$gtMd:{flexGrow:1,flexBasis:0},children:[_jsxs(Heading,{mb:\"$2.5\",color:\"$textSuccess\",size:\"$headingSm\",$gtMd:{size:'$headingXs'},children:[intl.formatMessage({id:ETranslations.global_inputs}),' ',\"\\u2022 \",(_result$inputs$length=result?.inputs.length)!=null?_result$inputs$length:0]}),renderUTXOList((_result$inputs=result?.inputs)!=null?_result$inputs:[])]}),_jsx(Icon,{flexShrink:0,name:\"ChevronDownSmallOutline\",color:\"$iconSubdued\",alignSelf:\"center\",my:\"$2\",$gtMd:{rotate:'-90deg',my:'$0',mx:'$2.5'}}),_jsxs(Stack,{$gtMd:{flexGrow:1,flexBasis:0},children:[_jsxs(Heading,{mb:\"$2.5\",color:\"$textSuccess\",size:\"$headingSm\",$gtMd:{size:'$headingXs'},children:[intl.formatMessage({id:ETranslations.global_outputs}),' ',\"\\u2022 \",(_result$outputs$lengt=result?.outputs.length)!=null?_result$outputs$lengt:0]}),renderUTXOList((_result$outputs=result?.outputs)!=null?_result$outputs:[])]})]});},[intl,isLoading,renderUTXOList,result?.inputs,result?.outputs]);return _jsxs(Page,{scrollEnabled:true,\"data-sentry-element\":\"Page\",\"data-sentry-component\":\"UTXODetails\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/AssetDetails/pages/UTXODetails.tsx\",children:[_jsx(Page.Header,{title:`${intl.formatMessage({id:ETranslations.global_inputs})} & ${intl.formatMessage({id:ETranslations.global_outputs})}`,\"data-sentry-element\":\"unknown\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/AssetDetails/pages/UTXODetails.tsx\"}),_jsx(Page.Body,{testID:\"history-details-inputs-and-outputs\",\"data-sentry-element\":\"unknown\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/AssetDetails/pages/UTXODetails.tsx\",children:renderUTXODetails()})]});}export default UTXODetails;"],"names":["ownKeys","e","r","t","Object","keys","getOwnPropertySymbols","o","filter","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","arguments","length","forEach","getOwnPropertyDescriptors","defineProperties","defineProperty","UTXODetails","route","intl","inputs","outputs","networkId","accountId","txId","params","network","result","isLoading","Promise","resolve","serviceHistory","fetchHistoryTxDetails","txid","withUTXOs","data","sends","map","send","address","from","balance","amount","receives","receive","to","watchLoading","renderUTXOList","useCallback","utxos","Stack","children","utxo","index","_network$symbol","YStack","mt","SizableText","mb","size","$gtMd","color","symbol","renderUTXODetails","_result$inputs$length","_result$inputs","_result$outputs$lengt","_result$outputs","pt","justifyContent","alignContent","Spinner","px","flexDirection","flexGrow","flexBasis","Heading","formatMessage","id","ETranslations","global_inputs","Icon","flexShrink","name","alignSelf","my","rotate","mx","global_outputs","Page","scrollEnabled","Header","title","Body","testID"],"sourceRoot":""}