!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},a=(new e.Error).stack;a&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[a]="14431993-6a54-456d-96c6-426aa4cb7ae3",e._sentryDebugIdIdentifier="sentry-dbid-14431993-6a54-456d-96c6-426aa4cb7ae3")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"5.5.0 (2024121652)"},(self.webpackChunkweb=self.webpackChunkweb||[]).push([[71214],{331250:(e,a,t)=>{t.d(a,{l:()=>ViewUpdateHistory});var n=t(514041),o=t(908867),r=t(490343),s=t(334439),p=t(117746),i=t(831085);function ViewUpdateHistory(){var e=(0,o.A)(),a=(0,n.useCallback)((function(){(0,p.Dr)("https://github.com/OneKeyHQ/app-monorepo/releases")}),[]);return(0,i.jsx)(r.XStack,{"data-sentry-element":"XStack","data-sentry-component":"ViewUpdateHistory","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/AppUpdate/components/ViewUpdateHistory.tsx",children:(0,i.jsx)(r.Button,{mt:"$5",iconAfter:"ArrowTopRightOutline",onPress:a,size:"small","data-sentry-element":"Button","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/AppUpdate/components/ViewUpdateHistory.tsx",children:e.formatMessage({id:s.ETranslations.update_update_history})})})}},671214:(e,a,t)=>{t.r(a),t.d(a,{default:()=>k});var n=t(654266),o=t(908867),r=t(490343),s=t(334439),p=t(663522),i=t(536612),d=t(586330),c=t(514041),l=t(713132),u=t(639451),m=t(117746),w=t(831085),UpdatePreviewActionButton=function({autoClose:e}){var a=(0,o.A)(),t=(0,i.SX)(),n=(0,i.sx)(),p=(0,c.useCallback)((function(){}),[]),g=(0,c.useCallback)((function(){}),[]),k=(0,u.xf)(p,g),f=(0,c.useCallback)((function(a){t.data&&(t.data.storeUrl?(0,m.Dr)(t.data.storeUrl):t.data.downloadUrl&&(n(t.data),e&&a()))}),[t.data,e,n]),y=(0,c.useCallback)((0,d.A)((function*(){try{yield(0,u.Ed)(t.data)}catch(a){var{message:e}=a;e&&r.Toast.error({title:e})}})),[t.data]),v=[l.ue.downloading,l.ue.verifying].includes(t.data?.status),x=l.ue.ready===t.data?.status,U=(0,c.useCallback)((function(){switch(t.data?.status){case l.ue.downloading:return a.formatMessage({id:s.ETranslations.update_progress_downloading},{progress:k});case l.ue.verifying:return a.formatMessage({id:s.ETranslations.update_verifying});default:return a.formatMessage({id:s.ETranslations.update_update_now})}}),[t.data?.status,a,k]);return(0,w.jsx)(r.Page.Footer,{"data-sentry-element":"unknown","data-sentry-component":"UpdatePreviewActionButton","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/AppUpdate/components/UpdatePreviewActionButton/index.tsx",children:(0,w.jsx)(r.YStack,{"data-sentry-element":"YStack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/AppUpdate/components/UpdatePreviewActionButton/index.tsx",children:(0,w.jsx)(r.Page.FooterActions,{confirmButtonProps:{disabled:v,loading:v},onConfirmText:U(),onConfirm:x?y:f,"data-sentry-element":"unknown","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/AppUpdate/components/UpdatePreviewActionButton/index.tsx"})})})},g=t(331250),ExtPluginText=function(){return null};const k=function UpdatePreview({route:e}){var a=(0,o.A)(),{latestVersion:t,isForceUpdate:d,autoClose:c=!1}=e.params||{};(0,n.Fw)(!!d,(function(){}));var l=(0,i.x7)(t);return(0,w.jsxs)(r.Page,{"data-sentry-element":"Page","data-sentry-component":"UpdatePreview","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/AppUpdate/pages/UpdatePreview.tsx",children:[(0,w.jsx)(r.Page.Header,{title:a.formatMessage({id:s.ETranslations.update_app_update}),"data-sentry-element":"unknown","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/AppUpdate/pages/UpdatePreview.tsx"}),(0,w.jsxs)(r.Page.Body,{m:"$5","data-sentry-element":"unknown","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/AppUpdate/pages/UpdatePreview.tsx",children:[(0,w.jsxs)(r.YStack,{gap:"$3","data-sentry-element":"YStack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/AppUpdate/pages/UpdatePreview.tsx",children:[(0,w.jsx)(r.Heading,{size:"$heading2xl","data-sentry-element":"Heading","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/AppUpdate/pages/UpdatePreview.tsx",children:a.formatMessage({id:s.ETranslations.update_new_app_version})}),(0,w.jsx)(ExtPluginText,{"data-sentry-element":"ExtPluginText","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/AppUpdate/pages/UpdatePreview.tsx"}),(0,w.jsxs)(r.XStack,{gap:"$2.5",alignItems:"center","data-sentry-element":"XStack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/AppUpdate/pages/UpdatePreview.tsx",children:[(0,w.jsx)(r.Badge,{badgeType:"default",badgeSize:"lg","data-sentry-element":"Badge","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/AppUpdate/pages/UpdatePreview.tsx",children:p.Ay.version}),(0,w.jsx)(r.Icon,{name:"ArrowRightSolid",size:"$4","data-sentry-element":"Icon","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/AppUpdate/pages/UpdatePreview.tsx"}),(0,w.jsx)(r.Badge,{badgeType:"info",badgeSize:"lg","data-sentry-element":"Badge","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/AppUpdate/pages/UpdatePreview.tsx",children:t})]})]}),l?(0,w.jsxs)(r.ScrollView,{mt:"$7",contentInsetAdjustmentBehavior:"automatic",contentContainerStyle:{pb:"$5"},children:[(0,w.jsx)(r.Markdown,{children:l}),(0,w.jsx)(g.l,{})]}):null]}),(0,w.jsx)(UpdatePreviewActionButton,{autoClose:c,"data-sentry-element":"UpdatePreviewActionButton","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/AppUpdate/pages/UpdatePreview.tsx"})]})}}}]);
//# sourceMappingURL=71214.4a87601dc3.chunk.js.map