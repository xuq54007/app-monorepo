!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="82d4460f-c5a2-4823-9717-a9243c1544c6",e._sentryDebugIdIdentifier="sentry-dbid-82d4460f-c5a2-4823-9717-a9243c1544c6")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"5.5.0 (2024121652)"},(self.webpackChunkweb=self.webpackChunkweb||[]).push([[26665],{351574:(e,n,t)=>{"use strict";t.d(n,{g:()=>ScanQrCode});var r=t(586330),a=t(514041),i=t(324586),o=t(230414),s=t(929296),c=t(195309),u=t(972715),l=t(72631),d=t(719102),p=t(16706);function _handleRequestPermissionsAsync(){return _handleRequestPermissionsAsync=(0,r.A)((function*(){try{return yield function getUserMedia(e){if(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia)return navigator.mediaDevices.getUserMedia(e);var n=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||function(){var e=new Error("Permission unimplemented");throw e.code=0,e.name="NotAllowedError",e};return new Promise((function(t,r){n.call(navigator,e,t,r)}))}({video:!0}),{status:p.W.GRANTED,expires:"never",canAskAgain:!0,granted:!0}}catch({message:e}){return function handleGetUserMediaError({message:e}){return"Permission dismissed"===e?{status:p.W.UNDETERMINED,expires:"never",canAskAgain:!0,granted:!1}:{status:p.W.DENIED,expires:"never",canAskAgain:!0,granted:!1}}({message:e})}})),_handleRequestPermissionsAsync.apply(this,arguments)}function _handlePermissionsQueryAsync(){return(_handlePermissionsQueryAsync=(0,r.A)((function*(){if(!navigator?.permissions?.query)throw new l.V("expo-barcode-scanner","navigator.permissions API is not available");var{state:e}=yield navigator.permissions.query({name:"camera"});switch(e){case"prompt":return{status:p.W.UNDETERMINED,expires:"never",canAskAgain:!0,granted:!1};case"granted":return{status:p.W.GRANTED,expires:"never",canAskAgain:!0,granted:!0};case"denied":return{status:p.W.DENIED,expires:"never",canAskAgain:!0,granted:!1}}}))).apply(this,arguments)}const f={get name(){return"ExpoBarCodeScannerModule"},get BarCodeType(){return{code39mod43:"code39mod43",code138:"code138",interleaved2of5:"interleaved2of5",aztec:"aztec",ean13:"ean13",ean8:"ean8",qr:"qr",pdf417:"pdf417",upc_e:"upc_e",datamatrix:"datamatrix",code39:"code39",code93:"code93",itf14:"itf14",codabar:"codabar",code128:"code128",upc_a:"upc_a"}},get Type(){return{front:"front",back:"back"}},requestPermissionsAsync:()=>(0,r.A)((function*(){return function handleRequestPermissionsAsync(){return _handleRequestPermissionsAsync.apply(this,arguments)}()}))(),getPermissionsAsync:()=>(0,r.A)((function*(){return function handlePermissionsQueryAsync(){return _handlePermissionsQueryAsync.apply(this,arguments)}()}))()};var m=t(722844),y=t(230690),g=t(831085);function _createSuper(e){var n=_isNativeReflectConstruct();return function _createSuperInternal(){var t,r=(0,u.A)(e);if(n){var a=(0,u.A)(this).constructor;t=Reflect.construct(r,arguments,a)}else t=r.apply(this,arguments);return(0,c.A)(this,t)}}function _isNativeReflectConstruct(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(_isNativeReflectConstruct=function(){return!!e})()}var h,A=function(e){(0,s.A)(ExpoBarCodeScannerView,e);var n=_createSuper(ExpoBarCodeScannerView);function ExpoBarCodeScannerView(){return n.apply(this,arguments)}return ExpoBarCodeScannerView.prototype.render=function render(){return(0,g.jsx)(y.A,{"data-sentry-element":"View","data-sentry-component":"ExpoBarCodeScannerView","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/node_modules/expo-barcode-scanner/build/ExpoBarCodeScannerView.web.js",children:(0,g.jsx)(m.A,{"data-sentry-element":"Text","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/node_modules/expo-barcode-scanner/build/ExpoBarCodeScannerView.web.js",children:"BarCodeScanner Component not supported on the web"})})},(0,o.A)(ExpoBarCodeScannerView)}(a.Component);function ownKeys(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function _objectSpread(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?ownKeys(Object(t),!0).forEach((function(n){(0,i.A)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function BarCodeScanner_createSuper(e){var n=BarCodeScanner_isNativeReflectConstruct();return function _createSuperInternal(){var t,r=(0,u.A)(e);if(n){var a=(0,u.A)(this).constructor;t=Reflect.construct(r,arguments,a)}else t=r.apply(this,arguments);return(0,c.A)(this,t)}}function BarCodeScanner_isNativeReflectConstruct(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(BarCodeScanner_isNativeReflectConstruct=function(){return!!e})()}var{BarCodeType:v,Type:_}=f,b=!1,C=function(e){(0,s.A)(BarCodeScanner,e);var n=BarCodeScanner_createSuper(BarCodeScanner);function BarCodeScanner(...e){var t;return(t=n.call(this,...e)).lastEvents={},t.lastEventsTimes={},t.onObjectDetected=function(e){return function({nativeEvent:n}){var{type:r}=n;t.lastEvents[r]&&t.lastEventsTimes[r]&&JSON.stringify(n)===t.lastEvents[r]&&Date.now()-t.lastEventsTimes[r]<500||e&&(e(n),t.lastEventsTimes[r]=new Date,t.lastEvents[r]=JSON.stringify(n))}},t}var t,a,i,c=BarCodeScanner.prototype;return c.componentDidMount=function componentDidMount(){b||(b=!0)},BarCodeScanner.getPermissionsAsync=(t=(0,r.A)((function*(){return f.getPermissionsAsync()})),function getPermissionsAsync(){return t.apply(this,arguments)}),BarCodeScanner.requestPermissionsAsync=(a=(0,r.A)((function*(){return f.requestPermissionsAsync()})),function requestPermissionsAsync(){return a.apply(this,arguments)}),BarCodeScanner.scanFromURLAsync=(i=(0,r.A)((function*(e,n=Object.values(v)){if(!f.scanFromURLAsync)throw new l.V("expo-barcode-scanner","scanFromURLAsync");if(Array.isArray(n)&&!n.length)throw new Error("No barCodeTypes specified; provide at least one barCodeType for scanner");return yield f.scanFromURLAsync(e,n)})),function scanFromURLAsync(e){return i.apply(this,arguments)}),c.render=function render(){var e=this.convertNativeProps(this.props),{onBarCodeScanned:n}=this.props;return(0,g.jsx)(A,_objectSpread(_objectSpread({},e),{},{onBarCodeScanned:this.onObjectDetected(n),"data-sentry-element":"ExpoBarCodeScannerView","data-sentry-component":"BarCodeScanner","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/node_modules/expo-barcode-scanner/build/BarCodeScanner.js"}))},c.convertNativeProps=function convertNativeProps(e){var n={};for(var[t,r]of Object.entries(e))"string"==typeof r&&BarCodeScanner.ConversionTables[t]?n[t]=BarCodeScanner.ConversionTables[t][r]:n[t]=r;return n},(0,o.A)(BarCodeScanner)}(a.Component);h=C,C.Constants={BarCodeType:v,Type:_},C.ConversionTables={type:_},C.defaultProps={type:_.back,barCodeTypes:Object.values(v)},C.usePermissions=(0,d.V)({getMethod:h.getPermissionsAsync,requestMethod:h.requestPermissionsAsync});var w,S,E,P,R,M,O,T,j,{Constants:D,getPermissionsAsync:I,requestPermissionsAsync:x,scanFromURLAsync:k}=C,B=t(908867),U=t(490343),N=t(153763),F=t(334439),q=t(663522),G=(t(596020),t(117746)),V=t(839850),L=t(34546),W=t(17617),H=t(867597);!function(e){e.front="front",e.back="back"}(w||(w={})),function(e){e.on="on",e.off="off",e.auto="auto",e.torch="torch"}(S||(S={})),function(e){e.on="on",e.off="off",e.auto="auto",e.singleShot="singleShot"}(E||(E={})),function(e){e.auto="auto",e.sunny="sunny",e.cloudy="cloudy",e.shadow="shadow",e.incandescent="incandescent",e.fluorescent="fluorescent",e.continuous="continuous",e.manual="manual"}(P||(P={})),function(e){e.png="png",e.jpg="jpg"}(R||(R={})),function(e){e.H264="avc1",e.HEVC="hvc1",e.JPEG="jpeg",e.AppleProRes422="apcn",e.AppleProRes4444="ap4h"}(M||(M={})),function(e){e.off="off",e.standard="standard",e.cinematic="cinematic",e.auto="auto"}(O||(O={})),function(e){e["2160p"]="2160p",e["1080p"]="1080p",e["720p"]="720p",e["480p"]="480p",e["4:3"]="4:3"}(T||(T={})),function(e){e[e.portrait=1]="portrait",e[e.portraitUpsideDown=2]="portraitUpsideDown",e[e.landscapeLeft=3]="landscapeLeft",e[e.landscapeRight=4]="landscapeRight"}(j||(j={}));var Q=t(683180);function WebUserMediaManager_ownKeys(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function WebUserMediaManager_objectSpread(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?WebUserMediaManager_ownKeys(Object(t),!0).forEach((function(n){(0,i.A)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):WebUserMediaManager_ownKeys(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function _requestLegacyUserMediaAsync(){return(_requestLegacyUserMediaAsync=(0,r.A)((function*(e){var optionalSource=function(e){return{optional:[{sourceId:e}]}},constraintToSourceId=function(e){var{deviceId:n}=e;return"string"==typeof n?n:Array.isArray(n)&&n.length>0?n[0]:"object"==typeof n&&n.ideal?n.ideal:null},n=yield new Promise((function(e){return MediaStreamTrack.getSources((function(n){return e(n)}))})),t=null,r=null;n.forEach((function(e){"audio"===e.kind?t=e.id:"video"===e.kind&&(r=e.id)}));var a=constraintToSourceId(e.audioConstraints);a&&(t=a);var i=constraintToSourceId(e.videoConstraints);return i&&(r=i),[optionalSource(t),optionalSource(r)]}))).apply(this,arguments)}function sourceSelectedAsync(e,n,t){return _sourceSelectedAsync.apply(this,arguments)}function _sourceSelectedAsync(){return(_sourceSelectedAsync=(0,r.A)((function*(e,n,t){var r={video:void 0===t||t};return e||(r.audio=void 0===n||n),yield getAnyUserMediaAsync(r)}))).apply(this,arguments)}function _requestUserMediaAsync(){return _requestUserMediaAsync=(0,r.A)((function*(e,n=!0){if(canGetUserMedia())return yield sourceSelectedAsync(n,e.audio,e.video);var[t,r]=yield function requestLegacyUserMediaAsync(e){return _requestLegacyUserMediaAsync.apply(this,arguments)}(e);return yield sourceSelectedAsync(n,t,r)})),_requestUserMediaAsync.apply(this,arguments)}function getAnyUserMediaAsync(e){return _getAnyUserMediaAsync.apply(this,arguments)}function _getAnyUserMediaAsync(){return _getAnyUserMediaAsync=(0,r.A)((function*(e,n=!1){try{return yield function getUserMediaAsync(e){return _getUserMediaAsync.apply(this,arguments)}(WebUserMediaManager_objectSpread(WebUserMediaManager_objectSpread({},e),{},{video:n||e.video}))}catch(t){if(!n&&"ConstraintNotSatisfiedError"===t.name)return yield getAnyUserMediaAsync(e,!0);throw t}})),_getAnyUserMediaAsync.apply(this,arguments)}function _getUserMediaAsync(){return(_getUserMediaAsync=(0,r.A)((function*(e){if(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia)return navigator.mediaDevices.getUserMedia(e);var n=navigator.mozGetUserMedia||navigator.webkitGetUserMedia||navigator.msGetUserMedia;return new Promise((function(t,r){return n.call(navigator,e,t,r)}))}))).apply(this,arguments)}function canGetUserMedia(){return Q.A.isDOMAvailable&&!!(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia||navigator.mozGetUserMedia||navigator.webkitGetUserMedia||navigator.msGetUserMedia)}function isFrontCameraAvailableAsync(e){return _isFrontCameraAvailableAsync.apply(this,arguments)}function _isFrontCameraAvailableAsync(){return(_isFrontCameraAvailableAsync=(0,r.A)((function*(e){return yield supportsCameraType(["front","user","facetime"],"user",e)}))).apply(this,arguments)}function isBackCameraAvailableAsync(e){return _isBackCameraAvailableAsync.apply(this,arguments)}function _isBackCameraAvailableAsync(){return(_isBackCameraAvailableAsync=(0,r.A)((function*(e){return yield supportsCameraType(["back","rear"],"environment",e)}))).apply(this,arguments)}function supportsCameraType(e,n,t){return _supportsCameraType.apply(this,arguments)}function _supportsCameraType(){return(_supportsCameraType=(0,r.A)((function*(e,n,t){if(!t){if(!navigator.mediaDevices.enumerateDevices)return null;t=yield navigator.mediaDevices.enumerateDevices()}var r=t.filter((function(e){return"videoinput"===e.kind})),[a]=r.filter((function(n){return e.some((function(e){return n.label.toLowerCase().includes(e)}))})),[i]=r.filter((function(e){if(!("getCapabilities"in e))return null;var t=e.getCapabilities();return t.facingMode?t.facingMode.find((function(e){return n})):null}));return i?.deviceId||a?.deviceId||null}))).apply(this,arguments)}function ExpoCameraManager_web_getUserMedia(e){if(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia)return navigator.mediaDevices.getUserMedia(e);var n=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||function(){var e=new Error("Permission unimplemented");throw e.code=0,e.name="NotAllowedError",e};return new Promise((function(t,r){n.call(navigator,e,t,r)}))}function ExpoCameraManager_web_handleGetUserMediaError({message:e}){return"Permission dismissed"===e?{status:p.W.UNDETERMINED,expires:"never",canAskAgain:!0,granted:!1}:{status:p.W.DENIED,expires:"never",canAskAgain:!0,granted:!1}}function ExpoCameraManager_web_handleRequestPermissionsAsync(){return build_ExpoCameraManager_web_handleRequestPermissionsAsync.apply(this,arguments)}function build_ExpoCameraManager_web_handleRequestPermissionsAsync(){return(build_ExpoCameraManager_web_handleRequestPermissionsAsync=(0,r.A)((function*(){try{return yield ExpoCameraManager_web_getUserMedia({video:!0}),{status:p.W.GRANTED,expires:"never",canAskAgain:!0,granted:!0}}catch({message:e}){return ExpoCameraManager_web_handleGetUserMediaError({message:e})}}))).apply(this,arguments)}function ExpoCameraManager_web_handlePermissionsQueryAsync(e){return build_ExpoCameraManager_web_handlePermissionsQueryAsync.apply(this,arguments)}function build_ExpoCameraManager_web_handlePermissionsQueryAsync(){return(build_ExpoCameraManager_web_handlePermissionsQueryAsync=(0,r.A)((function*(e){if(!navigator?.permissions?.query)throw new l.V("expo-camera","navigator.permissions API is not available");try{var{state:n}=yield navigator.permissions.query({name:e});switch(n){case"prompt":return{status:p.W.UNDETERMINED,expires:"never",canAskAgain:!0,granted:!1};case"granted":return{status:p.W.GRANTED,expires:"never",canAskAgain:!0,granted:!0};case"denied":return{status:p.W.DENIED,expires:"never",canAskAgain:!0,granted:!1}}}catch(e){if(e instanceof TypeError)return{status:p.W.UNDETERMINED,expires:"never",canAskAgain:!0,granted:!1};throw e}}))).apply(this,arguments)}const Z={get name(){return"ExponentCameraManager"},get Type(){return{back:"back",front:"front"}},get FlashMode(){return{on:"on",off:"off",auto:"auto",torch:"torch"}},get AutoFocus(){return{on:"on",off:"off",auto:"auto",singleShot:"singleShot"}},get WhiteBalance(){return{auto:"auto",continuous:"continuous",manual:"manual"}},get VideoQuality(){return{}},get VideoStabilization(){return{}},isAvailableAsync:()=>(0,r.A)((function*(){return canGetUserMedia()}))(),takePicture:(e,n)=>(0,r.A)((function*(){return yield n.takePicture(e)}))(),pausePreview:e=>(0,r.A)((function*(){yield e.pausePreview()}))(),resumePreview:e=>(0,r.A)((function*(){return yield e.resumePreview()}))(),getAvailableCameraTypesAsync:()=>(0,r.A)((function*(){if(!canGetUserMedia()||!navigator.mediaDevices.enumerateDevices)return[];var e=yield navigator.mediaDevices.enumerateDevices();return(yield Promise.all([(yield isFrontCameraAvailableAsync(e))&&w.front,(yield isBackCameraAvailableAsync())&&w.back])).filter(Boolean)}))(),getAvailablePictureSizes:(e,n)=>(0,r.A)((function*(){return yield n.getAvailablePictureSizes(e)}))(),getPermissionsAsync:()=>(0,r.A)((function*(){return ExpoCameraManager_web_handlePermissionsQueryAsync("camera")}))(),requestPermissionsAsync:()=>(0,r.A)((function*(){return ExpoCameraManager_web_handleRequestPermissionsAsync()}))(),getCameraPermissionsAsync:()=>(0,r.A)((function*(){return ExpoCameraManager_web_handlePermissionsQueryAsync("camera")}))(),requestCameraPermissionsAsync:()=>(0,r.A)((function*(){return ExpoCameraManager_web_handleRequestPermissionsAsync()}))(),getMicrophonePermissionsAsync:()=>(0,r.A)((function*(){return ExpoCameraManager_web_handlePermissionsQueryAsync("microphone")}))(),requestMicrophonePermissionsAsync:()=>(0,r.A)((function*(){try{return yield ExpoCameraManager_web_getUserMedia({audio:!0}),{status:p.W.GRANTED,expires:"never",canAskAgain:!0,granted:!0}}catch({message:e}){return ExpoCameraManager_web_handleGetUserMediaError({message:e})}}))()};var z=t(78958),K=t.n(z);function convertFlashModeJSONToNative(e){return"torch"===e}function convertWhiteBalanceJSONToNative(e){switch(e){case"on":case"auto":return"continuous";case"off":return"none";case"singleShot":return"single-shot";default:return}}function convertAutoFocusJSONToNative(e){switch(e){case"on":case"auto":return"continuous";case"off":return"manual";case"singleShot":return"single-shot";default:return}}var $=Object.keys({"3840x2160":3840/2160,"1920x1080":1920/1080,"1280x720":1280/720,"640x480":640/480,"352x288":352/288}),Y={[R.jpg]:"image/jpeg",[R.png]:"image/png"},X={audio:!1,video:!0},J={[w.front]:"user",[w.back]:"environment"},ee={user:w.front,environment:w.back};var ne=.92;function captureImageContext(e,{scale:n=1,isImageMirror:t=!1}){var{videoWidth:r,videoHeight:a}=e,{width:i,height:o}=function getImageSize(e,n,t){var r=e*t;return{width:r,height:n/(e/r)}}(r,a,n),s=document.createElement("canvas");s.width=i,s.height=o;var c=s.getContext("2d",{alpha:!1});if(!c)throw new Error("Context is not defined");return t&&c.setTransform(-1,0,0,1,s.width,0),c.drawImage(e,0,0,i,o),s}function captureImage(e,n){var t=function ensureCameraPictureOptions(e){var n={scale:1,imageType:R.png,isImageMirror:!1};for(var t in e)t in e&&void 0!==e[t]&&t in n&&(n[t]=e[t]);return n}(n),r=captureImageContext(e,t),{imageType:a,quality:i=ne}=t;return function toDataURL(e,n,t){K()(Object.values(R).includes(n),`expo-camera: ${n} is not a valid ImageType. Expected a string from: ${Object.values(R).join(", ")}`);var r=Y[n];return n===R.jpg?(K()(t<=1&&t>=0,`expo-camera: ${t} is not a valid image quality. Expected a number from 0...1`),e.toDataURL(r,t)):e.toDataURL(r)}(r,a,i)}function getIdealConstraints(e,n,t){var r={audio:!1,video:{}};if(function hasValidConstraints(e,n,t){return void 0!==e&&void 0!==n&&void 0!==t}(e,n,t))return X;var a=function getSupportedConstraints(){return navigator.mediaDevices&&navigator.mediaDevices.getSupportedConstraints?navigator.mediaDevices.getSupportedConstraints():null}();if(!(a&&a.facingMode&&a.width&&a.height))return X;if(e&&Object.values(w).includes(e)){var i=J[e];if(function isWebKit(){return/WebKit/.test(navigator.userAgent)&&!/Edg/.test(navigator.userAgent)}()){var o="user"===i?"exact":"ideal";r.video.facingMode={[o]:i}}else r.video.facingMode={ideal:J[e]}}return function isMediaTrackConstraints(e){return e&&"boolean"!=typeof e.video}(r.video)&&(r.video.width=n,r.video.height=t),r}function _getPreferredStreamDevice(){return(_getPreferredStreamDevice=(0,r.A)((function*(e,n,t){try{return yield getStreamDevice(e,n,t)}catch(a){if(a instanceof OverconstrainedError&&"facingMode"===a.constraint){var r=e===w.back?w.front:w.back;return yield getStreamDevice(r,n,t)}throw a}}))).apply(this,arguments)}function getStreamDevice(e,n,t){return _getStreamDevice.apply(this,arguments)}function _getStreamDevice(){return _getStreamDevice=(0,r.A)((function*(e,n,t){var r=getIdealConstraints(e,n,t),a=yield function requestUserMediaAsync(e){return _requestUserMediaAsync.apply(this,arguments)}(r);return a})),_getStreamDevice.apply(this,arguments)}function syncTrackCapabilities(e,n){return _syncTrackCapabilities.apply(this,arguments)}function _syncTrackCapabilities(){return _syncTrackCapabilities=(0,r.A)((function*(e,n,t={}){n?.getVideoTracks&&(yield Promise.all(n.getVideoTracks().map((function(n){return function onCapabilitiesReady(e,n){return _onCapabilitiesReady.apply(this,arguments)}(e,n,t)}))))})),_syncTrackCapabilities.apply(this,arguments)}function _onCapabilitiesReady(){return(_onCapabilitiesReady=(0,r.A)((function*(e,n,t={}){var r=n.getCapabilities(),a={};for(var i of["exposureCompensation","colorTemperature","iso","brightness","contrast","saturation","sharpness","focusDistance","zoom"])r[i]&&(a[i]=convertNormalizedSetting(r[i],t[i]));function validatedInternalConstrainedValue(n,a,i){return function validatedConstrainedValue(e){var{constraintKey:n,settingsKey:t,convertedSetting:r,capabilities:a,settings:i,cameraType:o}=e;i[t];if(Array.isArray(a[n])&&r&&!a[n].includes(r))return void 0;return r}({constraintKey:n,settingsKey:a,convertedSetting:i(t[a]),capabilities:r,settings:t,cameraType:e})}r.focusMode&&void 0!==t.autoFocus&&(a.focusMode=validatedInternalConstrainedValue("focusMode","autoFocus",convertAutoFocusJSONToNative)),r.torch&&void 0!==t.flashMode&&(a.torch=validatedInternalConstrainedValue("torch","flashMode",convertFlashModeJSONToNative)),r.whiteBalanceMode&&void 0!==t.whiteBalance&&(a.whiteBalanceMode=validatedInternalConstrainedValue("whiteBalanceMode","whiteBalance",convertWhiteBalanceJSONToNative));try{yield n.applyConstraints({advanced:[a]})}catch(e){0}}))).apply(this,arguments)}function stopMediaStream(e){e&&(e.getAudioTracks&&e.getAudioTracks().forEach((function(e){return e.stop()})),e.getVideoTracks&&e.getVideoTracks().forEach((function(e){return e.stop()})),function isMediaStreamTrack(e){return"function"==typeof e.stop}(e)&&e.stop())}function setVideoSource(e,n){var t,r=null!=(t=window.URL.createObjectURL)?t:window.webkitURL.createObjectURL;if(void 0!==e.srcObject?e.srcObject=n:void 0!==e.mozSrcObject?e.mozSrcObject=n:n&&r&&(e.src=r(n)),!n){var a,i,o,s=null!=(a=window.URL.revokeObjectURL)?a:window.webkitURL.revokeObjectURL,c=null!=(i=null!=(o=e.src)?o:e.srcObject)?i:e.mozSrcObject;s&&"string"==typeof c&&s(c)}}function convertNormalizedSetting(e,n){if(n){var t=function convertRange(e,n,t=[0,1]){return(e-t[0])*(n[1]-n[0])/(t[1]-t[0])+n[0]}(n,[e.min,e.max]);return Math.min(e.max,Math.max(e.min,t))}}function useWebCameraStream_ownKeys(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function useWebCameraStream_objectSpread(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?useWebCameraStream_ownKeys(Object(t),!0).forEach((function(n){(0,i.A)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):useWebCameraStream_ownKeys(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var te=["autoFocus","flashMode","exposureCompensation","colorTemperature","iso","brightness","contrast","saturation","sharpness","focusDistance","whiteBalance","zoom"];function useWebCameraStream(e,n,t,{onCameraReady:i,onMountError:o}){var s=a.useRef(!1),c=a.useRef([]),u=a.useRef({autoFocus:"continuous",flashMode:"off",whiteBalance:"continuous",zoom:1}),[l,d]=a.useState(null),p=a.useMemo((function(){return l?l.getTracks()[0].getSettings():null}),[l]),f=a.useMemo((function(){if(!p)return null;var{facingMode:e="user"}=p;return ee[e]}),[p]),m=a.useCallback((0,r.A)((function*(){try{return yield function getPreferredStreamDevice(e,n,t){return _getPreferredStreamDevice.apply(this,arguments)}(n)}catch(e){return o&&o({nativeEvent:e}),null}})),[n,o]),y=a.useCallback((0,r.A)((function*(){var e=yield m();return function compareStreams(e,n){if(!e||!n)return!1;var t=e.getTracks()[0].getSettings(),r=n.getTracks()[0].getSettings();return t.deviceId===r.deviceId}(e,l)||(c.current.some((function(n){return n.id===e?.id}))||c.current.push(e),d(e),i&&i()),!1})),[m,d,i,l,c.current]);return a.useEffect((function(){s.current||(s.current=!0,y().then((function(e){s.current=e})).catch((function(){s.current=!1})))}),[n]),a.useEffect((function(){var e={};for(var r of Object.keys(t))if(te.includes(r)){var a=t[r];a!==u.current[r]&&(e[r]=a)}var i=!!Object.keys(e).length,o=useWebCameraStream_objectSpread(useWebCameraStream_objectSpread({},u.current),e);i&&syncTrackCapabilities(n,l,e),u.current=o}),[t.autoFocus,t.flashMode,t.exposureCompensation,t.colorTemperature,t.iso,t.brightness,t.contrast,t.saturation,t.sharpness,t.focusDistance,t.whiteBalance,t.zoom]),a.useEffect((function(){e.current&&setVideoSource(e.current,l)}),[e.current,l]),a.useEffect((function(){return function(){for(var n of c.current)stopMediaStream(n);e.current&&setVideoSource(e.current,l)}}),[]),function useLoadedVideo(e,n){a.useEffect((function(){e&&e.addEventListener("loadedmetadata",(function(){requestAnimationFrame((function(){n()}))}))}),[e])}(e.current,(function(){syncTrackCapabilities(n,l,u.current)})),{type:f,mediaTrackSettings:p}}var re=t(166062);function useWebQRScanner(e,{isEnabled:n,captureOptions:t,interval:i,onScanned:o,onError:s}){var c=a.useRef(!1),u=a.useRef(void 0);function scanAsync(){return _scanAsync.apply(this,arguments)}function _scanAsync(){return _scanAsync=(0,r.A)((function*(){if(c.current&&o)try{var n=function captureImageData(e,n={}){if(!e||e.readyState!==e.HAVE_ENOUGH_DATA)return null;var t=captureImageContext(e,n),r=t.getContext("2d",{alpha:!1});return r&&t.width&&t.height?r.getImageData(0,0,t.width,t.height):null}(e.current,t);if(n){var[r]=yield(0,re.scanImageData)(n);r&&o({nativeEvent:{type:r.typeName,data:r.decode(),cornerPoints:r.points}})}}catch(e){s&&s({nativeEvent:e})}finally{if(0===i)return void stop();var a=!i||i<0?16:i;u.current=setTimeout((function(){scanAsync()}),a)}else stop()})),_scanAsync.apply(this,arguments)}function stop(){c.current=!1,clearTimeout(u.current)}a.useEffect((function(){return n&&(c.current=!0,scanAsync()),function(){n&&stop()}}),[n])}var ae=["type","pictureSize","poster"];function ExpoCamera_web_ownKeys(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function ExpoCamera_web_objectSpread(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?ExpoCamera_web_ownKeys(Object(t),!0).forEach((function(n){(0,i.A)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ExpoCamera_web_ownKeys(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}const ie=a.forwardRef((function(e,n){var{type:t,pictureSize:i,poster:o}=e,s=(0,V.A)(e,ae),c=a.useRef(null),u=useWebCameraStream(c,t,s,{onCameraReady(){s.onCameraReady&&s.onCameraReady()},onMountError:s.onMountError}),l=a.useMemo((function(){return!(!s.barCodeScannerSettings?.barCodeTypes?.includes("qr")||!s.onBarCodeScanned)}),[s.barCodeScannerSettings?.barCodeTypes,s.onBarCodeScanned]);useWebQRScanner(c,{interval:s.barCodeScannerSettings?.interval,isEnabled:l,captureOptions:{scale:1,isImageMirror:u.type===w.front},onScanned(e){s.onBarCodeScanned&&s.onBarCodeScanned(e)}}),a.useImperativeHandle(n,(function(){return{getAvailablePictureSizes:e=>(0,r.A)((function*(){return $}))(),takePicture:e=>(0,r.A)((function*(){if(!c.current||c.current?.readyState!==c.current?.HAVE_ENOUGH_DATA)throw new L.A("ERR_CAMERA_NOT_READY","HTMLVideoElement does not have enough camera data to construct an image yet.");var n=u.mediaTrackSettings;if(!n)throw new L.A("ERR_CAMERA_NOT_READY","MediaStream is not ready yet.");return function capture(e,n,t){var r=captureImage(e,t),a={uri:r,base64:r,width:0,height:0};if(n){var{width:i=0,height:o=0}=n;a.width=i,a.height=o,a.exif=n}return t.onPictureSaved&&t.onPictureSaved(a),a}(c.current,n,ExpoCamera_web_objectSpread(ExpoCamera_web_objectSpread({},e),{},{onPictureSaved(n){e.onPictureSaved&&e.onPictureSaved(n),s.onPictureSaved&&s.onPictureSaved({nativeEvent:{data:n,id:-1}})}}))}))(),resumePreview:()=>(0,r.A)((function*(){c.current&&c.current.play()}))(),pausePreview:()=>(0,r.A)((function*(){c.current&&c.current.pause()}))()}}),[u.mediaTrackSettings,s.onPictureSaved]);var d=a.useMemo((function(){var e=u.type===Z.Type.front;return[W.A.absoluteFill,ce.video,{pointerEvents:s.pointerEvents,transform:e?[{scaleX:-1}]:void 0}]}),[s.pointerEvents,u.type]);return(0,g.jsxs)(y.A,{style:[ce.videoWrapper,s.style],children:[(0,g.jsx)(se,{autoPlay:!0,playsInline:!0,muted:!0,poster:o,ref:c,style:d}),s.children]})}));var oe,se=a.forwardRef((function(e,n){return(0,H.A)("video",ExpoCamera_web_objectSpread(ExpoCamera_web_objectSpread({},e),{},{ref:n}))})),ce=W.A.create({videoWrapper:{flex:1,alignItems:"stretch",pointerEvents:"box-none"},video:{width:"100%",height:"100%",objectFit:"cover"}}),ue={type:Z.Type,flashMode:Z.FlashMode,autoFocus:Z.AutoFocus,whiteBalance:Z.WhiteBalance};function ensureNativeProps(e){var n=function convertNativeProps(e){if(!e||"object"!=typeof e)return{};var n={};for(var[t,r]of Object.entries(e))"string"==typeof r&&ue[t]?n[t]=ue[t][r]:n[t]=r;return n}(e);return n.onBarCodeScanned&&(n.barCodeScannerEnabled=!0),n.onFacesDetected&&(n.faceDetectorEnabled=!0),delete n.ratio,delete n.useCamera2Api,n}function Camera_ownKeys(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Camera_objectSpread(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Camera_ownKeys(Object(t),!0).forEach((function(n){(0,i.A)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Camera_ownKeys(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function Camera_createSuper(e){var n=Camera_isNativeReflectConstruct();return function _createSuperInternal(){var t,r=(0,u.A)(e);if(n){var a=(0,u.A)(this).constructor;t=Reflect.construct(r,arguments,a)}else t=r.apply(this,arguments);return(0,c.A)(this,t)}}function Camera_isNativeReflectConstruct(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Camera_isNativeReflectConstruct=function(){return!!e})()}var le={},de=1;function ensureRecordingOptions(e){var n=e||{};return n&&"object"==typeof n?"string"==typeof n.quality&&(n.quality=pe.Constants.VideoQuality[n.quality]):n={},n}function _onPictureSaved({nativeEvent:e}){var{id:n,data:t}=e,r=le[n];r&&(r(t),delete le[n])}var pe=function(e){(0,s.A)(Camera,e);var n,t,a,i,c,u,d,p,f,m=Camera_createSuper(Camera);function Camera(...e){var n;return(n=m.call(this,...e))._lastEvents={},n._lastEventsTimes={},n._onCameraReady=function(){n.props.onCameraReady&&n.props.onCameraReady()},n._onMountError=function({nativeEvent:e}){n.props.onMountError&&n.props.onMountError(e)},n._onResponsiveOrientationChanged=function({nativeEvent:e}){n.props.onResponsiveOrientationChanged&&n.props.onResponsiveOrientationChanged(e)},n._onObjectDetected=function(e){return function({nativeEvent:t}){var{type:r}=t;n._lastEvents[r]&&n._lastEventsTimes[r]&&JSON.stringify(t)===n._lastEvents[r]&&(new Date).getTime()-n._lastEventsTimes[r].getTime()<500||e&&(e(t),n._lastEventsTimes[r]=new Date,n._lastEvents[r]=JSON.stringify(t))}},n._setReference=function(e){e?(n._cameraRef=e,n._cameraHandle=e):(n._cameraRef=null,n._cameraHandle=null)},n}Camera.isAvailableAsync=(n=(0,r.A)((function*(){if(!Z.isAvailableAsync)throw new l.V("expo-camera","isAvailableAsync");return yield Z.isAvailableAsync()})),function isAvailableAsync(){return n.apply(this,arguments)}),Camera.getAvailableCameraTypesAsync=(t=(0,r.A)((function*(){if(!Z.getAvailableCameraTypesAsync)throw new l.V("expo-camera","getAvailableCameraTypesAsync");return yield Z.getAvailableCameraTypesAsync()})),function getAvailableCameraTypesAsync(){return t.apply(this,arguments)}),Camera.getAvailableVideoCodecsAsync=(a=(0,r.A)((function*(){if(!Z.getAvailableVideoCodecsAsync)throw new l.V("Camera","getAvailableVideoCodecsAsync");return yield Z.getAvailableVideoCodecsAsync()})),function getAvailableVideoCodecsAsync(){return a.apply(this,arguments)}),Camera.getPermissionsAsync=(i=(0,r.A)((function*(){return Z.getPermissionsAsync()})),function getPermissionsAsync(){return i.apply(this,arguments)}),Camera.requestPermissionsAsync=(c=(0,r.A)((function*(){return Z.requestPermissionsAsync()})),function requestPermissionsAsync(){return c.apply(this,arguments)}),Camera.getCameraPermissionsAsync=(u=(0,r.A)((function*(){return Z.getCameraPermissionsAsync()})),function getCameraPermissionsAsync(){return u.apply(this,arguments)}),Camera.requestCameraPermissionsAsync=(d=(0,r.A)((function*(){return Z.requestCameraPermissionsAsync()})),function requestCameraPermissionsAsync(){return d.apply(this,arguments)}),Camera.getMicrophonePermissionsAsync=(p=(0,r.A)((function*(){return Z.getMicrophonePermissionsAsync()})),function getMicrophonePermissionsAsync(){return p.apply(this,arguments)}),Camera.requestMicrophonePermissionsAsync=(f=(0,r.A)((function*(){return Z.requestMicrophonePermissionsAsync()})),function requestMicrophonePermissionsAsync(){return f.apply(this,arguments)});var y,h,A,v,_,b,C,w=Camera.prototype;return w.takePictureAsync=(y=(0,r.A)((function*(e){var n=function ensurePictureOptions(e){var n=e&&"object"==typeof e?e:{};if(n.quality||(n.quality=1),n.onPictureSaved){var t=de++;le[t]=n.onPictureSaved,n.id=t,n.fastMode=!0}return n}(e);return yield Z.takePicture(n,this._cameraHandle)})),function takePictureAsync(e){return y.apply(this,arguments)}),w.getSupportedRatiosAsync=(h=(0,r.A)((function*(){if(!Z.getSupportedRatios)throw new l.V("Camera","getSupportedRatiosAsync");return yield Z.getSupportedRatios(this._cameraHandle)})),function getSupportedRatiosAsync(){return h.apply(this,arguments)}),w.getAvailablePictureSizesAsync=(A=(0,r.A)((function*(e){if(!Z.getAvailablePictureSizes)throw new l.V("Camera","getAvailablePictureSizesAsync");return yield Z.getAvailablePictureSizes(e,this._cameraHandle)})),function getAvailablePictureSizesAsync(e){return A.apply(this,arguments)}),w.recordAsync=(v=(0,r.A)((function*(e){if(!Z.record)throw new l.V("Camera","recordAsync");var n=ensureRecordingOptions(e);return yield Z.record(n,this._cameraHandle)})),function recordAsync(e){return v.apply(this,arguments)}),w.stopRecording=(_=(0,r.A)((function*(){if(!Z.stopRecording)throw new l.V("Camera","stopRecording");return yield Z.stopRecording(this._cameraHandle)})),function stopRecording(){return _.apply(this,arguments)}),w.pausePreview=(b=(0,r.A)((function*(){if(!Z.pausePreview)throw new l.V("Camera","pausePreview");return yield Z.pausePreview(this._cameraHandle)})),function pausePreview(){return b.apply(this,arguments)}),w.resumePreview=(C=(0,r.A)((function*(){if(!Z.resumePreview)throw new l.V("Camera","resumePreview");return yield Z.resumePreview(this._cameraHandle)})),function resumePreview(){return C.apply(this,arguments)}),w.render=function render(){var e=ensureNativeProps(this.props),n=this.props.onBarCodeScanned?this._onObjectDetected(this.props.onBarCodeScanned):void 0,t=this._onObjectDetected(this.props.onFacesDetected);return(0,g.jsx)(ie,Camera_objectSpread(Camera_objectSpread({},e),{},{ref:this._setReference,onCameraReady:this._onCameraReady,onMountError:this._onMountError,onBarCodeScanned:n,onFacesDetected:t,onPictureSaved:_onPictureSaved,onResponsiveOrientationChanged:this._onResponsiveOrientationChanged,"data-sentry-element":"ExpoCamera","data-sentry-component":"Camera","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/node_modules/expo-camera/build/Camera.js"}))},(0,o.A)(Camera)}(a.Component);oe=pe,pe.Constants={Type:Z.Type,FlashMode:Z.FlashMode,AutoFocus:Z.AutoFocus,WhiteBalance:Z.WhiteBalance,VideoQuality:Z.VideoQuality,VideoStabilization:Z.VideoStabilization||{},VideoCodec:Z.VideoCodec},pe.ConversionTables=ue,pe.defaultProps={zoom:0,ratio:"4:3",focusDepth:0,faceDetectorSettings:{},type:Z.Type.back,autoFocus:Z.AutoFocus.on,flashMode:Z.FlashMode.off,whiteBalance:Z.WhiteBalance.auto},pe.useCameraPermissions=(0,d.V)({getMethod:oe.getCameraPermissionsAsync,requestMethod:oe.requestCameraPermissionsAsync}),pe.useMicrophonePermissions=(0,d.V)({getMethod:oe.getMicrophonePermissionsAsync,requestMethod:oe.requestMicrophonePermissionsAsync});var{Constants:fe,getPermissionsAsync:me,requestPermissionsAsync:ye,getCameraPermissionsAsync:ge,requestCameraPermissionsAsync:he,getMicrophonePermissionsAsync:Ae,requestMicrophonePermissionsAsync:ve}=pe,_e=t(296827),be=["style","children","handleScanResult"];function ScanCamera_ownKeys(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function ScanCamera_objectSpread(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?ScanCamera_ownKeys(Object(t),!0).forEach((function(n){(0,i.A)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ScanCamera_ownKeys(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function ScanCamera(e){var{style:n,children:t,handleScanResult:r}=e,a=(0,V.A)(e,be);return(0,g.jsx)(pe,ScanCamera_objectSpread(ScanCamera_objectSpread({ref:function(e){return null===e&&_e.U.scanQrCode.readQrCode.releaseCamera()},style:n,onBarCodeScanned:function({data:e}){return r?.(e)},barCodeScannerSettings:{barCodeTypes:[C.Constants.BarCodeType.qr]},responsiveOrientationWhenOrientationLocked:q.Ay.isNativeIOSPad},a),{},{"data-sentry-element":"Camera","data-sentry-component":"ScanCamera","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/ScanQrCode/components/ScanCamera/index.tsx",children:t}))}function ScanQrCode({handleBarCodeScanned:e,qrWalletScene:n}){var t=(0,B.A)(),i=(0,a.useRef)(void 0),[o,s]=(0,a.useState)(p.W.UNDETERMINED),c=(0,N.E)(),[u,l]=(0,a.useState)();c&&(i.current=void 0);var d,f=(0,a.useCallback)((d=(0,r.A)((function*(n){if(n&&i.current!==n&&(i.current=n,e)){var{progress:t}=yield e(n);t&&l(t)}})),function(e){return d.apply(this,arguments)}),[e]);(0,a.useEffect)((function(){return function(){i.current||e?.("")}}),[e]);var m=(0,a.useCallback)((0,r.A)((function*(){if((q.Ay.isDesktopMac||q.Ay.isDesktopWin?globalThis.desktopApi.getMediaAccessStatus("camera"):(yield I())?.status)!==p.W.GRANTED){var{status:e}=yield x();if(s(e),e!==p.W.GRANTED){var n=q.Ay.isRuntimeBrowser&&(q.Ay.isRuntimeChrome||q.Ay.isRuntimeEdge||q.Ay.isRuntimeBrave)?F.ETranslations.global_view_tutorial:F.ETranslations.global_go_settings;U.Dialog.show({tone:"warning",icon:"ErrorOutline",title:t.formatMessage({id:F.ETranslations.scan_camera_access_denied}),description:t.formatMessage({id:F.ETranslations.scan_enable_camera_permissions}),onConfirmText:t.formatMessage({id:n}),showCancelButton:!0,showConfirmButton:!0,onConfirm:function(){if(q.Ay.isRuntimeBrowser){if(q.Ay.isRuntimeChrome)return void(0,G.Dr)("https://support.google.com/chrome/answer/2693767");if(q.Ay.isRuntimeEdge)return void(0,G.Dr)("https://support.microsoft.com/zh-cn/windows/a83257bc-e990-d54a-d212-b5e41beba857");if(q.Ay.isRuntimeBrave)return void(0,G.Dr)("https://support.brave.com/hc/en-us/articles/360018205431")}(0,G.Ow)("camera")}})}}else s(p.W.GRANTED)})),[t]);return(0,a.useEffect)((function(){m()}),[m]),o===p.W.GRANTED?(0,g.jsxs)(ScanCamera,{style:{flex:1},handleScanResult:f,children:[n?(0,g.jsx)(U.YStack,{fullscreen:!0,children:q.Ay.isNativeAndroid?null:(0,g.jsx)(U.BlurView,{flex:1,contentStyle:{flex:1}})}):null,u?(0,g.jsx)(U.YStack,{fullscreen:!0,justifyContent:"flex-end",alignItems:"flex-end",children:(0,g.jsx)(U.Stack,{bg:"$blackA9",borderRadius:"$2",mr:"$3",mb:"$3",px:"$2",py:"$1",children:(0,g.jsx)(U.SizableText,{size:"$bodySmMedium",color:"$whiteA12",children:`${t.formatMessage({id:F.ETranslations.scanning_text})} ${(100*u).toFixed(0)}%`})})}):null]}):null}},626665:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>ScanQrCodeModal});var r,a,i,o,s,c,u=t(586330),l=t(324586),d=t(514041),p=t(654266),f=t(719102),m=t(72631),y=t(683180),g=t(16706);function ownKeys(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}!function(e){e.All="All",e.Videos="Videos",e.Images="Images"}(r||(r={})),function(e){e[e.Passthrough=0]="Passthrough",e[e.LowQuality=1]="LowQuality",e[e.MediumQuality=2]="MediumQuality",e[e.HighestQuality=3]="HighestQuality",e[e.H264_640x480=4]="H264_640x480",e[e.H264_960x540=5]="H264_960x540",e[e.H264_1280x720=6]="H264_1280x720",e[e.H264_1920x1080=7]="H264_1920x1080",e[e.H264_3840x2160=8]="H264_3840x2160",e[e.HEVC_1920x1080=9]="HEVC_1920x1080",e[e.HEVC_3840x2160=10]="HEVC_3840x2160"}(a||(a={})),function(e){e[e.High=0]="High",e[e.Medium=1]="Medium",e[e.Low=2]="Low",e[e.VGA640x480=3]="VGA640x480",e[e.IFrame1280x720=4]="IFrame1280x720",e[e.IFrame960x540=5]="IFrame960x540"}(i||(i={})),function(e){e.FULL_SCREEN="fullScreen",e.PAGE_SHEET="pageSheet",e.FORM_SHEET="formSheet",e.CURRENT_CONTEXT="currentContext",e.OVER_FULL_SCREEN="overFullScreen",e.OVER_CURRENT_CONTEXT="overCurrentContext",e.POPOVER="popover",e.AUTOMATIC="automatic"}(o||(o={})),function(e){e.Automatic="automatic",e.Compatible="compatible",e.Current="current"}(s||(s={})),function(e){e.back="back",e.front="front"}(c||(c={}));var h={[r.All]:"video/mp4,video/quicktime,video/x-m4v,video/*,image/*",[r.Images]:"image/*",[r.Videos]:"video/mp4,video/quicktime,video/x-m4v,video/*"};const A={get name(){return"ExponentImagePicker"},launchImageLibraryAsync:({mediaTypes:e=r.Images,allowsMultipleSelection:n=!1,base64:t=!1})=>(0,u.A)((function*(){return y.A.isDOMAvailable?yield openFileBrowserAsync({mediaTypes:e,allowsMultipleSelection:n,base64:t}):{canceled:!0,assets:null}}))(),launchCameraAsync:({mediaTypes:e=r.Images,allowsMultipleSelection:n=!1,base64:t=!1})=>(0,u.A)((function*(){return y.A.isDOMAvailable?yield openFileBrowserAsync({mediaTypes:e,allowsMultipleSelection:n,capture:!0,base64:t}):{canceled:!0,assets:null}}))(),getCameraPermissionsAsync:()=>(0,u.A)((function*(){return permissionGrantedResponse()}))(),requestCameraPermissionsAsync:()=>(0,u.A)((function*(){return permissionGrantedResponse()}))(),getMediaLibraryPermissionsAsync:e=>(0,u.A)((function*(){return permissionGrantedResponse()}))(),requestMediaLibraryPermissionsAsync:e=>(0,u.A)((function*(){return permissionGrantedResponse()}))()};function permissionGrantedResponse(){return{status:g.W.GRANTED,expires:"never",granted:!0,canAskAgain:!0}}function openFileBrowserAsync({mediaTypes:e,capture:n=!1,allowsMultipleSelection:t=!1,base64:r}){var a=h[e],i=document.createElement("input");return i.style.display="none",i.setAttribute("type","file"),i.setAttribute("accept",a),i.setAttribute("id",String(Math.random())),t&&i.setAttribute("multiple","multiple"),n&&i.setAttribute("capture","camera"),document.body.appendChild(i),new Promise((function(e){i.addEventListener("change",(0,u.A)((function*(){if(i.files){var n=t?i.files:[i.files[0]],a=yield Promise.all(Array.from(n).map((function(e){return function readFile(e,n){return new Promise((function(t,r){var a=new FileReader;a.onerror=function(){r(new Error("Failed to read the selected media because the operation failed."))},a.onload=function({target:e}){var r=e.result,returnRaw=function(){return t({uri:r,width:0,height:0})};if("string"==typeof r){var a=new Image;a.src=r,a.onload=function(){var e,i;t(function _objectSpread(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?ownKeys(Object(t),!0).forEach((function(n){(0,l.A)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}({uri:r,width:null!=(e=a.naturalWidth)?e:a.width,height:null!=(i=a.naturalHeight)?i:a.height},n.base64&&{base64:r.substr(r.indexOf(",")+1)}))},a.onerror=function(){return returnRaw()}}else returnRaw()},a.readAsDataURL(e)}))}(e,{base64:r})})));e({canceled:!1,assets:a})}else e({canceled:!0,assets:null});document.body.removeChild(i)})));var n=new MouseEvent("click");i.dispatchEvent(n)}))}function _getCameraPermissionsAsync(){return(_getCameraPermissionsAsync=(0,u.A)((function*(){return A.getCameraPermissionsAsync()}))).apply(this,arguments)}function _getMediaLibraryPermissionsAsync(){return(_getMediaLibraryPermissionsAsync=(0,u.A)((function*(e=!1){return A.getMediaLibraryPermissionsAsync(e)}))).apply(this,arguments)}function _requestCameraPermissionsAsync(){return(_requestCameraPermissionsAsync=(0,u.A)((function*(){return A.requestCameraPermissionsAsync()}))).apply(this,arguments)}function _requestMediaLibraryPermissionsAsync(){return(_requestMediaLibraryPermissionsAsync=(0,u.A)((function*(e=!1){return(0,A.requestMediaLibraryPermissionsAsync)(e)}))).apply(this,arguments)}(0,f.V)({getMethod:function(e){return function getMediaLibraryPermissionsAsync(){return _getMediaLibraryPermissionsAsync.apply(this,arguments)}(e?.writeOnly)},requestMethod:function(e){return function requestMediaLibraryPermissionsAsync(){return _requestMediaLibraryPermissionsAsync.apply(this,arguments)}(e?.writeOnly)}}),(0,f.V)({getMethod:function getCameraPermissionsAsync(){return _getCameraPermissionsAsync.apply(this,arguments)},requestMethod:function requestCameraPermissionsAsync(){return _requestCameraPermissionsAsync.apply(this,arguments)}});function _launchImageLibraryAsync(){return(_launchImageLibraryAsync=(0,u.A)((function*(e){if(!A.launchImageLibraryAsync)throw new m.V("ImagePicker","launchImageLibraryAsync");return e?.allowsEditing&&e.allowsMultipleSelection,yield A.launchImageLibraryAsync(null!=e?e:{})}))).apply(this,arguments)}var v=t(908867),_=t(17617),b=t(490343),C=t(697346),w=t(688815),S=t(334439),E=t(296827),P=t(663522),R=(t(498356),t(351574));function _getImageData(){return(_getImageData=(0,u.A)((function*(e){return new Promise((function(n){var t=new Image;t.crossOrigin="anonymous",t.onload=function(){var e=t.width||t.naturalWidth||150,r=t.height||t.naturalHeight||150,a=Math.min(960,e),i=r*(a/e),o=document.createElement("canvas");o.width=a,o.height=i;var s=o.getContext("2d");s.drawImage(t,0,0,e,r,0,0,a,i),n(s.getImageData(0,0,a,i))},t.src=e}))}))).apply(this,arguments)}function _scanFromURLAsync(){return _scanFromURLAsync=(0,u.A)((function*(e){var n=yield function getImageData(e){return _getImageData.apply(this,arguments)}(e),{scanImageData:r}=t(166062);return(yield r(n))[0].decode()})),_scanFromURLAsync.apply(this,arguments)}var M=t(831085);function ScanQrCodeModal_ownKeys(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function ScanQrCodeModal_objectSpread(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?ScanQrCodeModal_ownKeys(Object(t),!0).forEach((function(n){(0,l.A)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ScanQrCodeModal_ownKeys(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function ScanQrCodeModalFooter({qrWalletScene:e,showProTutorial:n}){var t=(0,v.A)(),r=[{icon:"Copy3Outline",title:t.formatMessage({id:S.ETranslations.scan_scan_address_codes_to_copy_address})},{icon:"WalletconnectBrand",title:t.formatMessage({id:S.ETranslations.scan_scan_walletconnect_code_to_connect_to_sites})}],a=[{icon:"QrCodeOutline",title:t.formatMessage({id:S.ETranslations.scan_show_qr_code_steps})}],i=[{icon:"CameraExposureZoomInOutline",title:t.formatMessage({id:S.ETranslations.scan_move_closer_if_scan_fails})},...P.Ay.isNativeAndroid?[]:[{icon:"ShieldCheckDoneOutline",title:t.formatMessage({id:S.ETranslations.scan_screen_blurred_for_security})}]],o=e?[...n?a:[],...i]:r;return(0,M.jsx)(b.Stack,{w:"100%",mx:"auto",flex:1,$gtMd:{maxWidth:"$80"},p:"$5","data-sentry-element":"Stack","data-sentry-component":"ScanQrCodeModalFooter","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/ScanQrCode/pages/ScanQrCodeModal.tsx",children:o.map((function(e,n){return(0,M.jsxs)(b.XStack,ScanQrCodeModal_objectSpread(ScanQrCodeModal_objectSpread({},0!==n?{pt:"$4"}:null),{},{children:[(0,M.jsx)(b.Stack,{$md:{pt:"$0.5"},children:(0,M.jsx)(b.Icon,{name:e.icon,size:"$5",color:"$iconSubdued"})}),(0,M.jsx)(b.SizableText,{flex:1,pl:"$4",size:"$bodyLg",color:"$textSubdued",$gtMd:{size:"$bodyMd"},children:e.title})]}),n)}))})}function ScanQrCodeModal(){var e,n=(0,v.A)(),t=(0,p.lq)(),{callback:r,qrWalletScene:a,showProTutorial:i}=t.params,o=(0,d.useRef)(!1),s=(0,d.useCallback)((0,u.A)((function*(){var e=yield function launchImageLibraryAsync(e){return _launchImageLibraryAsync.apply(this,arguments)}({base64:!0,allowsMultipleSelection:!1});if(!e.canceled){var t=e?.assets?.[0]?.uri,a=null;try{a=yield function scanFromURLAsync(e){return _scanFromURLAsync.apply(this,arguments)}(t)}catch{a=null}a&&a.length>0?(o.current=!0,yield r(a)):b.Toast.error({title:n.formatMessage({id:S.ETranslations.scan_no_recognizable_qr_code_found})}),E.U.scanQrCode.readQrCode.readFromLibrary(JSON.stringify(e),a)}})),[r,n]),c=(0,d.useCallback)((e=(0,u.A)((function*(e){return o.current?{}:(E.U.scanQrCode.readQrCode.readFromCamera(e),r(e))})),function(n){return e.apply(this,arguments)}),[r]),l=(0,d.useCallback)((function(){return a?null:(0,M.jsx)(C.A,{onPress:s,icon:"ImageSquareMountainOutline",testID:"scan-open-photo",title:n.formatMessage({id:S.ETranslations.scan_select_a_photo})})}),[n,s,a]);return(0,M.jsxs)(b.Page,{safeAreaEnabled:!1,"data-sentry-element":"Page","data-sentry-component":"ScanQrCodeModal","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/ScanQrCode/pages/ScanQrCodeModal.tsx",children:[(0,M.jsx)(b.Page.Header,{title:n.formatMessage({id:S.ETranslations.scan_scan_qr_code}),headerRight:l,"data-sentry-element":"unknown","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/ScanQrCode/pages/ScanQrCodeModal.tsx"}),(0,M.jsxs)(b.Page.Body,{$gtMd:{jc:"center"},"data-sentry-element":"unknown","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/ScanQrCode/pages/ScanQrCodeModal.tsx",children:[(0,M.jsx)(b.Stack,{w:"100%",mx:"auto",$gtMd:{maxWidth:"$80"},"data-sentry-element":"Stack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/ScanQrCode/pages/ScanQrCodeModal.tsx",children:(0,M.jsx)(b.Stack,{w:"100%",pb:"100%","data-sentry-element":"Stack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/ScanQrCode/pages/ScanQrCodeModal.tsx",children:(0,M.jsx)(b.YStack,{fullscreen:!0,p:"$5","data-sentry-element":"YStack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/ScanQrCode/pages/ScanQrCodeModal.tsx",children:(0,M.jsx)(b.Stack,{w:"100%",h:"100%",borderRadius:"$6",$gtMd:{borderRadius:"$3"},borderCurve:"continuous",overflow:"hidden",borderWidth:_.A.hairlineWidth,borderColor:"$borderSubdued",style:{filter:"blur(0px)"},"data-sentry-element":"Stack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/ScanQrCode/pages/ScanQrCodeModal.tsx",children:(0,M.jsx)(R.g,{handleBarCodeScanned:c,qrWalletScene:a,"data-sentry-element":"ScanQrCode","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/ScanQrCode/pages/ScanQrCodeModal.tsx"})})})})}),(0,M.jsx)(ScanQrCodeModalFooter,{qrWalletScene:a,showProTutorial:i,"data-sentry-element":"ScanQrCodeModalFooter","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/ScanQrCode/pages/ScanQrCodeModal.tsx"})]}),null]})}w.A.$$scanNavigation=void 0},719102:(e,n,t)=>{"use strict";t.d(n,{V:()=>createPermissionHook});var r=t(586330),a=t(839850),i=t(514041),o=["get","request"];function createPermissionHook(e){return function(n){return function usePermission(e,n){var t=(0,i.useRef)(!0),[s,c]=(0,i.useState)(null),u=n||{},{get:l=!0,request:d=!1}=u,p=(0,a.A)(u,o),f=(0,i.useCallback)((0,r.A)((function*(){var n=yield e.getMethod(Object.keys(p).length>0?p:void 0);return t.current&&c(n),n})),[e.getMethod]),m=(0,i.useCallback)((0,r.A)((function*(){var n=yield e.requestMethod(Object.keys(p).length>0?p:void 0);return t.current&&c(n),n})),[e.requestMethod]);return(0,i.useEffect)((function runMethods(){d&&m(),!d&&l&&f()}),[l,d,m,f]),(0,i.useEffect)((function didMount(){return t.current=!0,function(){t.current=!1}}),[]),[s,m,f]}(e,n)}}},16706:(e,n,t)=>{"use strict";var r;t.d(n,{W:()=>r}),function(e){e.GRANTED="granted",e.UNDETERMINED="undetermined",e.DENIED="denied"}(r||(r={}))},614745:e=>{e.exports={}},486e3:(e,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.CppObject=void 0;n.CppObject=class CppObject{constructor(e,n){this.ptr=e,this.inst=n}checkAlive(){if(!this.ptr)throw Error("Call after destroyed")}getPointer(){return this.checkAlive(),this.ptr}}},565859:(e,n,t)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Image=void 0;const r=t(486e3),a=t(244292),i=t(21323);class Image extends r.CppObject{static async createFromGrayBuffer(e,n,t,r=0){const a=await(0,i.getInstance)(),o=a.HEAPU8,s=new Uint8Array(t),c=e*n;if(c!==s.byteLength)throw Error("dataBuf does not match width and height");const u=a._malloc(c);o.set(s,u);return new this(a._Image_create(e,n,808466521,u,c,r),a)}static async createFromRGBABuffer(e,n,t,r=0){const a=await(0,i.getInstance)(),o=a.HEAPU8,s=new Uint8Array(t),c=e*n;if(4*c!==s.byteLength)throw Error("dataBuf does not match width and height");const u=a._malloc(c);for(let e=0;e<c;++e){const n=s[4*e],t=s[4*e+1],r=s[4*e+2];o[u+e]=19595*n+38469*t+7472*r>>16}return new this(a._Image_create(e,n,808466521,u,c,r),a)}destroy(){this.checkAlive(),this.inst._Image_destory(this.ptr),this.ptr=0}getSymbols(){this.checkAlive();const e=this.inst._Image_get_symbols(this.ptr);return a.Symbol.createSymbolsFromPtr(e,this.inst.HEAPU8.buffer)}}n.Image=Image},586837:(e,n,t)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.ImageScanner=void 0;const r=t(486e3),a=t(21323),i=t(244292);class ImageScanner extends r.CppObject{static async create(){const e=await(0,a.getInstance)();return new this(e._ImageScanner_create(),e)}destroy(){this.checkAlive(),this.inst._ImageScanner_destory(this.ptr),this.ptr=0}setConfig(e,n,t){return this.checkAlive(),this.inst._ImageScanner_set_config(this.ptr,e,n,t)}enableCache(e=!0){this.checkAlive(),this.inst._ImageScanner_enable_cache(this.ptr,e)}recycleImage(e){this.checkAlive(),this.inst._ImageScanner_recycle_image(this.ptr,e.getPointer())}getResults(){this.checkAlive();const e=this.inst._ImageScanner_get_results(this.ptr);return i.Symbol.createSymbolsFromPtr(e,this.inst.HEAPU8.buffer)}scan(e){return this.checkAlive(),this.inst._ImageScanner_scan(this.ptr,e.getPointer())}}n.ImageScanner=ImageScanner},244292:(e,n,t)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Symbol=void 0;const r=t(16537);class TypePointer{constructor(e,n){this.ptr=e,this.ptr32=e>>2,this.buf=n,this.HEAP8=new Int8Array(n),this.HEAPU32=new Uint32Array(n),this.HEAP32=new Int32Array(n)}}class SymbolPtr extends TypePointer{get type(){return this.HEAPU32[this.ptr32]}get data(){const e=this.HEAPU32[this.ptr32+4],n=this.HEAPU32[this.ptr32+5];return Int8Array.from(this.HEAP8.subarray(n,n+e))}get points(){const e=this.HEAPU32[this.ptr32+7],n=this.HEAPU32[this.ptr32+8]>>2,t=[];for(let r=0;r<e;++r){const e=this.HEAP32[n+2*r],a=this.HEAP32[n+2*r+1];t.push({x:e,y:a})}return t}get next(){const e=this.HEAPU32[this.ptr32+11];return e?new SymbolPtr(e,this.buf):null}get time(){return this.HEAPU32[this.ptr32+13]}get cacheCount(){return this.HEAP32[this.ptr32+14]}get quality(){return this.HEAP32[this.ptr32+15]}}class SymbolSetPtr extends TypePointer{get head(){const e=this.HEAPU32[this.ptr32+2];return e?new SymbolPtr(e,this.buf):null}}class Symbol{constructor(e){this.type=e.type,this.typeName=r.ZBarSymbolType[this.type],this.data=e.data,this.points=e.points,this.time=e.time,this.cacheCount=e.cacheCount,this.quality=e.quality}static createSymbolsFromPtr(e,n){if(0==e)return[];let t=new SymbolSetPtr(e,n).head;const r=[];for(;null!==t;)r.push(new Symbol(t)),t=t.next;return r}decode(e){return new TextDecoder(e).decode(this.data)}}n.Symbol=Symbol},16537:(e,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.ZBarConfigType=n.ZBarSymbolType=void 0,function(e){e[e.ZBAR_NONE=0]="ZBAR_NONE",e[e.ZBAR_PARTIAL=1]="ZBAR_PARTIAL",e[e.ZBAR_EAN8=8]="ZBAR_EAN8",e[e.ZBAR_UPCE=9]="ZBAR_UPCE",e[e.ZBAR_ISBN10=10]="ZBAR_ISBN10",e[e.ZBAR_UPCA=12]="ZBAR_UPCA",e[e.ZBAR_EAN13=13]="ZBAR_EAN13",e[e.ZBAR_ISBN13=14]="ZBAR_ISBN13",e[e.ZBAR_I25=25]="ZBAR_I25",e[e.ZBAR_CODE39=39]="ZBAR_CODE39",e[e.ZBAR_PDF417=57]="ZBAR_PDF417",e[e.ZBAR_QRCODE=64]="ZBAR_QRCODE",e[e.ZBAR_CODE128=128]="ZBAR_CODE128",e[e.ZBAR_SYMBOL=255]="ZBAR_SYMBOL",e[e.ZBAR_ADDON2=512]="ZBAR_ADDON2",e[e.ZBAR_ADDON5=1280]="ZBAR_ADDON5",e[e.ZBAR_ADDON=1792]="ZBAR_ADDON"}(n.ZBarSymbolType||(n.ZBarSymbolType={})),function(e){e[e.ZBAR_CFG_ENABLE=0]="ZBAR_CFG_ENABLE",e[e.ZBAR_CFG_ADD_CHECK=1]="ZBAR_CFG_ADD_CHECK",e[e.ZBAR_CFG_EMIT_CHECK=2]="ZBAR_CFG_EMIT_CHECK",e[e.ZBAR_CFG_ASCII=3]="ZBAR_CFG_ASCII",e[e.ZBAR_CFG_NUM=4]="ZBAR_CFG_NUM",e[e.ZBAR_CFG_MIN_LEN=32]="ZBAR_CFG_MIN_LEN",e[e.ZBAR_CFG_MAX_LEN=33]="ZBAR_CFG_MAX_LEN",e[e.ZBAR_CFG_UNCERTAINTY=64]="ZBAR_CFG_UNCERTAINTY",e[e.ZBAR_CFG_POSITION=128]="ZBAR_CFG_POSITION",e[e.ZBAR_CFG_X_DENSITY=256]="ZBAR_CFG_X_DENSITY",e[e.ZBAR_CFG_Y_DENSITY=257]="ZBAR_CFG_Y_DENSITY"}(n.ZBarConfigType||(n.ZBarConfigType={}))},166062:function(e,n,t){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,n,t,r){void 0===r&&(r=t),Object.defineProperty(e,r,{enumerable:!0,get:function(){return n[t]}})}:function(e,n,t,r){void 0===r&&(r=t),e[r]=n[t]}),a=this&&this.__exportStar||function(e,n){for(var t in e)"default"===t||Object.prototype.hasOwnProperty.call(n,t)||r(n,e,t)};Object.defineProperty(n,"__esModule",{value:!0}),a(t(565859),n),a(t(586837),n),a(t(218120),n),a(t(244292),n)},21323:(e,n,t)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.getInstance=void 0;const r=t(943573);let a=null,i=(async()=>{if(a=await(0,r.loadWasmInstance)({}),!a)throw Error("WASM was not loaded");return a})();n.getInstance=async()=>await i},943573:function(e,n,t){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.loadWasmInstance=void 0;const a=r(t(242998)),i=r(t(843703)),locateFile=(e,n)=>("zbar.wasm"!=e&&console.error("Unexpected file:",e),a.default);n.loadWasmInstance=async e=>(e.locateFile=locateFile,await(0,i.default)(e))},218120:(e,n,t)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.scanImageData=n.scanRGBABuffer=n.scanGrayBuffer=n.getDefaultScanner=void 0;const r=t(565859),a=t(586837).ImageScanner.create();n.getDefaultScanner=async()=>await a;const scanImage=async(e,n)=>{void 0===n&&(n=await a);const t=n.scan(e);if(t<0)throw Error("Scan Failed");return 0===t?[]:e.getSymbols()};n.scanGrayBuffer=async(e,n,t,a)=>{const i=await r.Image.createFromGrayBuffer(n,t,e),o=await scanImage(i,a);return i.destroy(),o};n.scanRGBABuffer=async(e,n,t,a)=>{const i=await r.Image.createFromRGBABuffer(n,t,e),o=await scanImage(i,a);return i.destroy(),o};n.scanImageData=async(e,t)=>await(0,n.scanRGBABuffer)(e.data.buffer,e.width,e.height,t)},843703:(e,n,t)=>{var r,a=(r=(r="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0)||"/index.js",function(e){var n,a,i=void 0!==(e=e||{})?e:{};i.ready=new Promise((function(e,t){n=e,a=t}));var o,s={};for(o in i)i.hasOwnProperty(o)&&(s[o]=i[o]);var c,u,l,d,p,f=[],m="object"==typeof window,y="function"==typeof importScripts,g="object"==typeof{env:{ONEKEY_PROXY:void 0,NODE_ENV:"production",TAMAGUI_TARGET:"web"}}.versions&&"string"==typeof{env:{ONEKEY_PROXY:void 0,NODE_ENV:"production",TAMAGUI_TARGET:"web"}}.versions.node,h="";g?(h=y?t(241297).dirname(h)+"/":"//",c=function shell_read(e,n){return d||(d=t(614745)),p||(p=t(241297)),e=p.normalize(e),d.readFileSync(e,n?null:"utf8")},l=function readBinary(e){var n=c(e,!0);return n.buffer||(n=new Uint8Array(n)),function assert(e,n){e||abort("Assertion failed: "+n)}(n.buffer),n},u=function readAsync(e,n,r){d||(d=t(614745)),p||(p=t(241297)),e=p.normalize(e),d.readFile(e,(function(e,t){e?r(e):n(t.buffer)}))},{env:{ONEKEY_PROXY:void 0,NODE_ENV:"production",TAMAGUI_TARGET:"web"}}.argv.length>1&&{env:{ONEKEY_PROXY:void 0,NODE_ENV:"production",TAMAGUI_TARGET:"web"}}.argv[1].replace(/\\/g,"/"),f={env:{ONEKEY_PROXY:void 0,NODE_ENV:"production",TAMAGUI_TARGET:"web"}}.argv.slice(2),{env:{ONEKEY_PROXY:void 0,NODE_ENV:"production",TAMAGUI_TARGET:"web"}}.on("uncaughtException",(function(e){if(!(e instanceof ExitStatus))throw e})),{env:{ONEKEY_PROXY:void 0,NODE_ENV:"production",TAMAGUI_TARGET:"web"}}.on("unhandledRejection",(function(e){throw e})),i.inspect=function(){return"[Emscripten Module object]"}):(m||y)&&(y?h=self.location.href:"undefined"!=typeof document&&document.currentScript&&(h=document.currentScript.src),r&&(h=r),h=0!==h.indexOf("blob:")?h.substr(0,h.replace(/[?#].*/,"").lastIndexOf("/")+1):"",c=function(e){var n=new XMLHttpRequest;return n.open("GET",e,!1),n.send(null),n.responseText},y&&(l=function(e){var n=new XMLHttpRequest;return n.open("GET",e,!1),n.responseType="arraybuffer",n.send(null),new Uint8Array(n.response)}),u=function(e,n,t){var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="arraybuffer",r.onload=function(){200==r.status||0==r.status&&r.response?n(r.response):t()},r.onerror=t,r.send(null)});var A,v=i.print||console.log.bind(console),_=i.printErr||console.warn.bind(console);for(o in s)s.hasOwnProperty(o)&&(i[o]=s[o]);s=null,i.arguments&&(f=i.arguments),i.thisProgram&&i.thisProgram,i.quit&&i.quit,i.wasmBinary&&(A=i.wasmBinary);var b;i.noExitRuntime;"object"!=typeof WebAssembly&&abort("no native wasm support detected");var C,w,S,E=!1,P="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function UTF8ArrayToString(e,n,t){for(var r=n+t,a=n;e[a]&&!(a>=r);)++a;if(a-n>16&&e.subarray&&P)return P.decode(e.subarray(n,a));for(var i="";n<a;){var o=e[n++];if(128&o){var s=63&e[n++];if(192!=(224&o)){var c=63&e[n++];if((o=224==(240&o)?(15&o)<<12|s<<6|c:(7&o)<<18|s<<12|c<<6|63&e[n++])<65536)i+=String.fromCharCode(o);else{var u=o-65536;i+=String.fromCharCode(55296|u>>10,56320|1023&u)}}else i+=String.fromCharCode((31&o)<<6|s)}else i+=String.fromCharCode(o)}return i}function updateGlobalBufferAndViews(e){C=e,i.HEAP8=new Int8Array(e),i.HEAP16=new Int16Array(e),i.HEAP32=S=new Int32Array(e),i.HEAPU8=w=new Uint8Array(e),i.HEAPU16=new Uint16Array(e),i.HEAPU32=new Uint32Array(e),i.HEAPF32=new Float32Array(e),i.HEAPF64=new Float64Array(e)}i.INITIAL_MEMORY;var R,M=[],O=[],T=[],j=0,D=null,I=null;function abort(e){i.onAbort&&i.onAbort(e),_(e="Aborted("+e+")"),E=!0,e+=". Build with -s ASSERTIONS=1 for more info.";var n=new WebAssembly.RuntimeError(e);throw a(n),n}i.preloadedImages={},i.preloadedAudios={};var x,k,B="data:application/octet-stream;base64,";function isDataURI(e){return e.startsWith(B)}function isFileURI(e){return e.startsWith("file://")}function getBinary(e){try{if(e==x&&A)return new Uint8Array(A);if(l)return l(e);throw"both async and sync fetching of the wasm failed"}catch(e){abort(e)}}function callRuntimeCallbacks(e){for(;e.length>0;){var n=e.shift();if("function"!=typeof n){var t=n.func;"number"==typeof t?void 0===n.arg?getWasmTableEntry(t)():getWasmTableEntry(t)(n.arg):t(void 0===n.arg?null:n.arg)}else n(i)}}function getWasmTableEntry(e){return R.get(e)}function emscripten_realloc_buffer(e){try{return b.grow(e-C.byteLength+65535>>>16),updateGlobalBufferAndViews(b.buffer),1}catch(e){}}isDataURI(x="zbar.wasm")||(x=function locateFile(e){return i.locateFile?i.locateFile(e,h):h+e}(x)),k=g?function(){var e={env:{ONEKEY_PROXY:void 0,NODE_ENV:"production",TAMAGUI_TARGET:"web"}}.hrtime();return 1e3*e[0]+e[1]/1e6}:function(){return performance.now()};var U,N={mappings:{},buffers:[null,[],[]],printChar:function(e,n){var t=N.buffers[e];0===n||10===n?((1===e?v:_)(UTF8ArrayToString(t,0)),t.length=0):t.push(n)},varargs:void 0,get:function(){return N.varargs+=4,S[N.varargs-4>>2]},getStr:function(e){var n=function UTF8ToString(e,n){return e?UTF8ArrayToString(w,e,n):""}(e);return n},get64:function(e,n){return e}},F={f:function _clock_gettime(e,n){var t;if(0===e)t=Date.now();else{if(1!==e&&4!==e)return function setErrNo(e){return S[q()>>2]=e,e}(28),-1;t=k()}return S[n>>2]=t/1e3|0,S[n+4>>2]=t%1e3*1e3*1e3|0,0},c:function _emscripten_memcpy_big(e,n,t){w.copyWithin(e,n,n+t)},d:function _emscripten_resize_heap(e){var n,t,r=w.length,a=2147483648;if((e>>>=0)>a)return!1;for(var i=1;i<=4;i*=2){var o=r*(1+.2/i);if(o=Math.min(o,e+100663296),emscripten_realloc_buffer(Math.min(a,((n=Math.max(e,o))%(t=65536)>0&&(n+=t-n%t),n))))return!0}return!1},e:function _fd_close(e){return 0},b:function _fd_seek(e,n,t,r,a){},a:function _fd_write(e,n,t,r){for(var a=0,i=0;i<t;i++){var o=S[n>>2],s=S[n+4>>2];n+=8;for(var c=0;c<s;c++)N.printChar(e,w[o+c]);a+=s}return S[r>>2]=a,0}},q=(function createWasm(){var e={a:F};function receiveInstance(e,n){var t=e.exports;i.asm=t,updateGlobalBufferAndViews((b=i.asm.g).buffer),R=i.asm.s,function addOnInit(e){O.unshift(e)}(i.asm.h),function removeRunDependency(e){if(j--,i.monitorRunDependencies&&i.monitorRunDependencies(j),0==j&&(null!==D&&(clearInterval(D),D=null),I)){var n=I;I=null,n()}}()}function receiveInstantiationResult(e){receiveInstance(e.instance)}function instantiateArrayBuffer(n){return function getBinaryPromise(){if(!A&&(m||y)){if("function"==typeof fetch&&!isFileURI(x))return fetch(x,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at '"+x+"'";return e.arrayBuffer()})).catch((function(){return getBinary(x)}));if(u)return new Promise((function(e,n){u(x,(function(n){e(new Uint8Array(n))}),n)}))}return Promise.resolve().then((function(){return getBinary(x)}))}().then((function(n){return WebAssembly.instantiate(n,e)})).then((function(e){return e})).then(n,(function(e){_("failed to asynchronously prepare wasm: "+e),abort(e)}))}if(function addRunDependency(e){j++,i.monitorRunDependencies&&i.monitorRunDependencies(j)}(),i.instantiateWasm)try{return i.instantiateWasm(e,receiveInstance)}catch(e){return _("Module.instantiateWasm callback failed with error: "+e),!1}return function instantiateAsync(){return A||"function"!=typeof WebAssembly.instantiateStreaming||isDataURI(x)||isFileURI(x)||"function"!=typeof fetch?instantiateArrayBuffer(receiveInstantiationResult):fetch(x,{credentials:"same-origin"}).then((function(n){return WebAssembly.instantiateStreaming(n,e).then(receiveInstantiationResult,(function(e){return _("wasm streaming compile failed: "+e),_("falling back to ArrayBuffer instantiation"),instantiateArrayBuffer(receiveInstantiationResult)}))}))}().catch(a),{}}(),i.___wasm_call_ctors=function(){return(i.___wasm_call_ctors=i.asm.h).apply(null,arguments)},i._ImageScanner_create=function(){return(i._ImageScanner_create=i.asm.i).apply(null,arguments)},i._ImageScanner_destory=function(){return(i._ImageScanner_destory=i.asm.j).apply(null,arguments)},i._ImageScanner_set_config=function(){return(i._ImageScanner_set_config=i.asm.k).apply(null,arguments)},i._ImageScanner_enable_cache=function(){return(i._ImageScanner_enable_cache=i.asm.l).apply(null,arguments)},i._ImageScanner_recycle_image=function(){return(i._ImageScanner_recycle_image=i.asm.m).apply(null,arguments)},i._ImageScanner_get_results=function(){return(i._ImageScanner_get_results=i.asm.n).apply(null,arguments)},i._ImageScanner_scan=function(){return(i._ImageScanner_scan=i.asm.o).apply(null,arguments)},i._Image_create=function(){return(i._Image_create=i.asm.p).apply(null,arguments)},i._Image_destory=function(){return(i._Image_destory=i.asm.q).apply(null,arguments)},i._Image_get_symbols=function(){return(i._Image_get_symbols=i.asm.r).apply(null,arguments)},i.___errno_location=function(){return(q=i.___errno_location=i.asm.t).apply(null,arguments)});function ExitStatus(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function run(e){function doRun(){U||(U=!0,i.calledRun=!0,E||(function initRuntime(){callRuntimeCallbacks(O)}(),n(i),i.onRuntimeInitialized&&i.onRuntimeInitialized(),function postRun(){if(i.postRun)for("function"==typeof i.postRun&&(i.postRun=[i.postRun]);i.postRun.length;)e=i.postRun.shift(),T.unshift(e);var e;callRuntimeCallbacks(T)}()))}e=e||f,j>0||(function preRun(){if(i.preRun)for("function"==typeof i.preRun&&(i.preRun=[i.preRun]);i.preRun.length;)e=i.preRun.shift(),M.unshift(e);var e;callRuntimeCallbacks(M)}(),j>0||(i.setStatus?(i.setStatus("Running..."),setTimeout((function(){setTimeout((function(){i.setStatus("")}),1),doRun()}),1)):doRun()))}if(i._free=function(){return(i._free=i.asm.u).apply(null,arguments)},i._malloc=function(){return(i._malloc=i.asm.v).apply(null,arguments)},I=function runCaller(){U||run(),U||(I=runCaller)},i.run=run,i.preInit)for("function"==typeof i.preInit&&(i.preInit=[i.preInit]);i.preInit.length>0;)i.preInit.pop()();return run(),e.ready});e.exports=a},242998:(e,n,t)=>{"use strict";e.exports=t.p+"static/media/zbar.wasm.235eff51d7a9ded7a612.bin"},241297:()=>{}}]);
//# sourceMappingURL=26665.c033e5ae5c.chunk.js.map