{"version":3,"file":"static/js/21732.35cd74cd52.chunk.js","mappings":"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","sources":["webpack://web/../../packages/kit/src/hooks/useDebounce.ts","webpack://web/../../packages/kit/src/views/DAppConnection/components/DAppAccountList/DAppAccountListItem.tsx","webpack://web/../../packages/kit/src/views/DAppConnection/hooks/useHandleAccountChanged.ts","webpack://web/../../packages/kit/src/views/DAppConnection/components/DAppRequestContent/DAppRequestedPermissionContent.tsx","webpack://web/../../packages/kit/src/views/DAppConnection/components/DAppRequestContent/DAppSignMessageContent.tsx","webpack://web/../../packages/kit/src/views/DAppConnection/pages/DappOpenModalPage.tsx","webpack://web/../../packages/kit/src/views/DAppConnection/pages/SignMessageModal.tsx"],"sourcesContent":["import{useDebounce as useDebounceOriginal}from'use-debounce';export function useDebounce(value,delay,options){var[debounce]=useDebounceOriginal(value,delay,options);return debounce;}export{useDebouncedCallback}from'use-debounce';","import _isNumber from\"lodash/isNumber\";import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}import{useEffect}from'react';import{useIntl}from'react-intl';import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import{Divider,SizableText,Stack,YGroup,YStack}from'@onekeyhq/components';import backgroundApiProxy from'@onekeyhq/kit/src/background/instance/backgroundApiProxy';import{AccountSelectorProviderMirror,NetworkSelectorTriggerDappConnection}from'@onekeyhq/kit/src/components/AccountSelector';import{AccountSelectorTriggerDappConnection}from'@onekeyhq/kit/src/components/AccountSelector/AccountSelectorTrigger/AccountSelectorTriggerDApp';import useDappQuery from'@onekeyhq/kit/src/hooks/useDappQuery';import{usePromiseResult}from'@onekeyhq/kit/src/hooks/usePromiseResult';import{useAccountSelectorActions,useAccountSelectorSyncLoadingAtom}from'@onekeyhq/kit/src/states/jotai/contexts/accountSelector';import{getNetworkImplsFromDappScope}from'@onekeyhq/shared/src/background/backgroundUtils';import{ETranslations}from'@onekeyhq/shared/src/locale';import platformEnv from'@onekeyhq/shared/src/platformEnv';import timerUtils from'@onekeyhq/shared/src/utils/timerUtils';import{EAccountSelectorSceneName}from'@onekeyhq/shared/types';import{useHandleDiscoveryAccountChanged}from\"../../hooks/useHandleAccountChanged\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function DAppAccountListInitFromHome({num,shouldSyncFromHome}){var[,setSyncLoading]=useAccountSelectorSyncLoadingAtom();var actions=useAccountSelectorActions();useEffect(function(){void _asyncToGenerator(function*(){try{setSyncLoading(function(v){return _objectSpread(_objectSpread({},v),{},{[num]:{isLoading:true}});});yield timerUtils.wait(600);if(shouldSyncFromHome){yield actions.current.syncFromScene({from:{sceneName:EAccountSelectorSceneName.home,sceneNum:0},num});}}finally{if(shouldSyncFromHome){yield timerUtils.wait(300);}setSyncLoading(function(v){return _objectSpread(_objectSpread({},v),{},{[num]:{isLoading:false}});});}})();return function(){setSyncLoading(function(v){return _objectSpread(_objectSpread({},v),{},{[num]:{isLoading:false}});});};},[actions,num,setSyncLoading,shouldSyncFromHome]);return null;}var getLoadingDuration=function({skeletonRenderDuration,shouldSyncFromHome}){if(skeletonRenderDuration){return skeletonRenderDuration;}var syncFromHomeDuration=false?1200:1000;var normalLoadingDuration=false?800:500;return shouldSyncFromHome?syncFromHomeDuration:normalLoadingDuration;};function DAppAccountListItem({num,handleAccountChanged,readonly,networkReadonly,compressionUiMode,initFromHome,beforeShowTrigger,skeletonRenderDuration}){useHandleDiscoveryAccountChanged({num,handleAccountChanged});var shouldSyncFromHome=Boolean(initFromHome&&!readonly);var loadingDuration=0;return _jsxs(_Fragment,{children:[_jsxs(YGroup,{bg:\"$bg\",borderRadius:\"$3\",borderColor:\"$borderSubdued\",borderWidth:StyleSheet.hairlineWidth,separator:_jsx(Divider,{}),disabled:readonly,\"data-sentry-element\":\"YGroup\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/DAppConnection/components/DAppAccountList/DAppAccountListItem.tsx\",children:[_jsx(YGroup.Item,{\"data-sentry-element\":\"unknown\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/DAppConnection/components/DAppAccountList/DAppAccountListItem.tsx\",children:_jsx(NetworkSelectorTriggerDappConnection,{num:num,beforeShowTrigger:beforeShowTrigger,disabled:networkReadonly||readonly,loadingDuration:loadingDuration,\"data-sentry-element\":\"NetworkSelectorTriggerDappConnection\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/DAppConnection/components/DAppAccountList/DAppAccountListItem.tsx\"})}),_jsx(YGroup.Item,{\"data-sentry-element\":\"unknown\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/DAppConnection/components/DAppAccountList/DAppAccountListItem.tsx\",children:_jsx(AccountSelectorTriggerDappConnection,{num:num,compressionUiMode:compressionUiMode,beforeShowTrigger:beforeShowTrigger,loadingDuration:loadingDuration,\"data-sentry-element\":\"AccountSelectorTriggerDappConnection\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/DAppConnection/components/DAppAccountList/DAppAccountListItem.tsx\"})})]}),_jsx(DAppAccountListInitFromHome,{num:num,shouldSyncFromHome:shouldSyncFromHome,\"data-sentry-element\":\"DAppAccountListInitFromHome\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/DAppConnection/components/DAppAccountList/DAppAccountListItem.tsx\"})]});}function DAppAccountListStandAloneItem({readonly,handleAccountChanged,onConnectedAccountInfoChanged}){var intl=useIntl();var{serviceDApp,serviceNetwork}=backgroundApiProxy;var{$sourceInfo}=useDappQuery();var{result}=usePromiseResult(_asyncToGenerator(function*(){var _$sourceInfo$scope,_$sourceInfo$scope2;if(!$sourceInfo?.origin||!$sourceInfo.scope){return{accountSelectorNum:null,networkIds:null};}var impls=getNetworkImplsFromDappScope($sourceInfo.scope);var networkIds=impls?(yield serviceNetwork.getNetworkIdsByImpls({impls})).networkIds:null;var accountsInfo=yield serviceDApp.getConnectedAccountsInfo({origin:$sourceInfo.origin,scope:(_$sourceInfo$scope=$sourceInfo.scope)!=null?_$sourceInfo$scope:'',isWalletConnectRequest:$sourceInfo.isWalletConnectRequest});if(Array.isArray(accountsInfo)&&accountsInfo.length>0&&typeof accountsInfo[0]?.num==='number'){return{accountSelectorNum:accountsInfo[0].num,networkIds,existConnectedAccount:true};}var accountSelectorNum=yield serviceDApp.getAccountSelectorNum({origin:$sourceInfo.origin,scope:(_$sourceInfo$scope2=$sourceInfo.scope)!=null?_$sourceInfo$scope2:'',isWalletConnectRequest:$sourceInfo.isWalletConnectRequest});return{accountSelectorNum,networkIds,existConnectedAccount:false};}),[$sourceInfo?.origin,$sourceInfo?.scope,$sourceInfo?.isWalletConnectRequest,serviceDApp,serviceNetwork]);useEffect(function(){if(_isNumber(result?.accountSelectorNum)&&onConnectedAccountInfoChanged){onConnectedAccountInfoChanged({num:result.accountSelectorNum,existConnectedAccount:result.existConnectedAccount});}},[result?.accountSelectorNum,result?.existConnectedAccount,onConnectedAccountInfoChanged]);return _jsxs(YStack,{gap:\"$2\",testID:\"DAppAccountListStandAloneItem\",\"data-sentry-element\":\"YStack\",\"data-sentry-component\":\"DAppAccountListStandAloneItem\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/DAppConnection/components/DAppAccountList/DAppAccountListItem.tsx\",children:[_jsx(SizableText,{size:\"$headingMd\",color:\"$text\",\"data-sentry-element\":\"SizableText\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/DAppConnection/components/DAppAccountList/DAppAccountListItem.tsx\",children:intl.formatMessage({id:ETranslations.global_accounts})}),typeof result?.accountSelectorNum==='number'&&Array.isArray(result?.networkIds)?_jsx(AccountSelectorProviderMirror,{config:{sceneName:EAccountSelectorSceneName.discover,sceneUrl:$sourceInfo?.origin},enabledNum:[result.accountSelectorNum],availableNetworksMap:{[result.accountSelectorNum]:{networkIds:result.networkIds}},children:_jsx(DAppAccountListItem,{initFromHome:!result?.existConnectedAccount,num:result?.accountSelectorNum,handleAccountChanged:handleAccountChanged,readonly:readonly})}):null]});}function DAppAccountListStandAloneItemForHomeScene(){var intl=useIntl();return _jsxs(YStack,{gap:\"$2\",testID:\"DAppAccountListStandAloneItem\",\"data-sentry-element\":\"YStack\",\"data-sentry-component\":\"DAppAccountListStandAloneItemForHomeScene\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/DAppConnection/components/DAppAccountList/DAppAccountListItem.tsx\",children:[_jsx(SizableText,{size:\"$headingMd\",color:\"$text\",\"data-sentry-element\":\"SizableText\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/DAppConnection/components/DAppAccountList/DAppAccountListItem.tsx\",children:intl.formatMessage({id:ETranslations.global_accounts})}),_jsx(AccountSelectorProviderMirror,{config:{sceneName:EAccountSelectorSceneName.home},enabledNum:[0],\"data-sentry-element\":\"AccountSelectorProviderMirror\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/DAppConnection/components/DAppAccountList/DAppAccountListItem.tsx\",children:_jsx(DAppAccountListItem,{initFromHome:false,num:0,readonly:true,\"data-sentry-element\":\"DAppAccountListItem\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/DAppConnection/components/DAppAccountList/DAppAccountListItem.tsx\"})})]});}function WalletConnectAccountTriggerList({sceneUrl,sessionAccountsInfo,handleAccountChanged}){var enabledNum=sessionAccountsInfo.map(function(i){return i.accountSelectorNum;});var availableNetworksMap=sessionAccountsInfo.reduce(function(acc,accountInfo){var networkIds=accountInfo.networkIds.filter(Boolean);acc[accountInfo.accountSelectorNum]={networkIds,defaultNetworkId:networkIds[0]};return acc;},{});return _jsxs(YStack,{gap:\"$2\",\"data-sentry-element\":\"YStack\",\"data-sentry-component\":\"WalletConnectAccountTriggerList\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/DAppConnection/components/DAppAccountList/DAppAccountListItem.tsx\",children:[_jsx(SizableText,{size:\"$headingMd\",color:\"$text\",\"data-sentry-element\":\"SizableText\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/DAppConnection/components/DAppAccountList/DAppAccountListItem.tsx\",children:\"Accounts\"}),Array.isArray(sessionAccountsInfo)&&sessionAccountsInfo.length?_jsx(AccountSelectorProviderMirror,{config:{sceneName:EAccountSelectorSceneName.discover,sceneUrl},enabledNum:enabledNum,availableNetworksMap:availableNetworksMap,children:_jsx(YStack,{gap:\"$2\",children:sessionAccountsInfo.map(function(i){return _jsx(Stack,{children:_jsx(DAppAccountListItem,{initFromHome:true,num:i.accountSelectorNum,handleAccountChanged:handleAccountChanged})},i.accountSelectorNum);})})}):null]});}export{DAppAccountListItem,DAppAccountListStandAloneItem,DAppAccountListStandAloneItemForHomeScene,WalletConnectAccountTriggerList};","import{useEffect,useRef}from'react';import{useActiveAccount,useSelectedAccount}from'@onekeyhq/kit/src/states/jotai/contexts/accountSelector';import{useDebounce}from\"../../../hooks/useDebounce\";export function useHandleDiscoveryAccountChanged({num,handleAccountChanged}){var{activeAccount}=useActiveAccount({num});var{selectedAccount}=useSelectedAccount({num});var debouncedActiveAccount=useDebounce(activeAccount,200);var debouncedSelectedAccount=useDebounce(selectedAccount,200);var activeAccountRef=useRef(activeAccount);var selectedAccountRef=useRef(selectedAccount);useEffect(function(){activeAccountRef.current=activeAccount;selectedAccountRef.current=selectedAccount;},[activeAccount,selectedAccount]);useEffect(function(){if(handleAccountChanged){if(debouncedActiveAccount.isOthersWallet&&debouncedActiveAccount.account?.id===debouncedSelectedAccount.othersWalletAccountId||debouncedActiveAccount.indexedAccount?.id===debouncedSelectedAccount.indexedAccountId){handleAccountChanged({activeAccount:activeAccountRef.current,selectedAccount:selectedAccountRef.current},num);}}},[debouncedActiveAccount,debouncedSelectedAccount,handleAccountChanged,num]);}","import{useIntl}from'react-intl';import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import{Icon,SizableText,XStack,YStack}from'@onekeyhq/components';import{ETranslations}from'@onekeyhq/shared/src/locale';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function DAppRequestedPermissionContent({requestPermissions}){var intl=useIntl();return _jsxs(YStack,{gap:\"$2\",\"data-sentry-element\":\"YStack\",\"data-sentry-component\":\"DAppRequestedPermissionContent\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/DAppConnection/components/DAppRequestContent/DAppRequestedPermissionContent.tsx\",children:[_jsx(SizableText,{color:\"$text\",size:\"$headingMd\",\"data-sentry-element\":\"SizableText\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/DAppConnection/components/DAppRequestContent/DAppRequestedPermissionContent.tsx\",children:intl.formatMessage({id:ETranslations.dapp_connect_requested_permissions})}),_jsx(YStack,{py:\"$2.5\",px:\"$3\",gap:\"$3\",minHeight:\"$8\",bg:\"$bg\",borderRadius:\"$3\",borderWidth:StyleSheet.hairlineWidth,borderColor:\"$borderSubdued\",borderCurve:\"continuous\",\"data-sentry-element\":\"YStack\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/DAppConnection/components/DAppRequestContent/DAppRequestedPermissionContent.tsx\",children:(requestPermissions!=null?requestPermissions:[intl.formatMessage({id:ETranslations.dapp_connect_view_your_balance_and_activity}),intl.formatMessage({id:ETranslations.dapp_connect_send_approval_requests})]).map(function(text){return _jsxs(XStack,{gap:\"$3\",children:[_jsx(Icon,{name:\"CheckLargeOutline\",color:\"$icon\",size:\"$5\"}),_jsx(SizableText,{color:\"$text\",size:\"$bodyMd\",children:text})]},text);})})]});}export{DAppRequestedPermissionContent};","import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import{useCallback,useMemo,useState}from'react';import*as ethUtils from'ethereumjs-util';import{useIntl}from'react-intl';import{Badge,Button,SizableText,TextAreaInput,XStack,YStack}from'@onekeyhq/components';import{usePromiseResult}from'@onekeyhq/kit/src/hooks/usePromiseResult';import{ETranslations}from'@onekeyhq/shared/src/locale';import{parsePrimaryType}from'@onekeyhq/shared/src/signMessage';import{EMessageTypesAptos,EMessageTypesBtc,EMessageTypesCommon,EMessageTypesEth}from'@onekeyhq/shared/types/message';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function DAppSignMessageContent({unsignedMessage}){var intl=useIntl();var[showRawMessage,setShowRawMessage]=useState(false);var parseMessage=useMemo(function(){var{message,type,payload}=unsignedMessage;switch(type){case EMessageTypesBtc.ECDSA:case EMessageTypesBtc.BIP322_SIMPLE:case EMessageTypesEth.ETH_SIGN:case EMessageTypesCommon.SIMPLE_SIGN:{return message;}case EMessageTypesEth.PERSONAL_SIGN:case EMessageTypesCommon.SIGN_MESSAGE:{try{var buffer=ethUtils.toBuffer(message);return buffer.toString('utf8');}catch(e){return message;}}case EMessageTypesCommon.HEX_MESSAGE:{return Buffer.from(message,'hex').toString('utf8');}case EMessageTypesAptos.SIGN_MESSAGE:{var _payload$message;return(_payload$message=payload?.message)!=null?_payload$message:message;}case EMessageTypesEth.TYPED_DATA_V1:{var _JSON$parse,_messageObject$messag;var messageObject=(_JSON$parse=JSON.parse(message))!=null?_JSON$parse:{};messageObject=(_messageObject$messag=messageObject.message)!=null?_messageObject$messag:messageObject;if(Array.isArray(messageObject)){var v1Message=messageObject;messageObject=v1Message.reduce(function(acc,cur){acc[cur.name]=cur.value;return acc;},{});}return JSON.stringify(messageObject,null,2);}case EMessageTypesEth.TYPED_DATA_V3:case EMessageTypesEth.TYPED_DATA_V4:{try{var _messageObject$messag2,_JSON$parse2;var _messageObject=JSON.parse(message);_messageObject=(_messageObject$messag2=_messageObject?.message)!=null?_messageObject$messag2:_messageObject;return JSON.stringify(typeof _messageObject==='string'?(_JSON$parse2=JSON.parse(_messageObject))!=null?_JSON$parse2:{}:_messageObject,null,2);}catch{return message;}}default:{return message;}}},[unsignedMessage]);var renderRawMessage=useCallback(function(){var{message,type}=unsignedMessage;if(type===EMessageTypesBtc.ECDSA||type===EMessageTypesBtc.BIP322_SIMPLE||type===EMessageTypesEth.ETH_SIGN||type===EMessageTypesCommon.SIMPLE_SIGN){return null;}var text=message;if(type===EMessageTypesEth.TYPED_DATA_V1||type===EMessageTypesEth.TYPED_DATA_V3||type===EMessageTypesEth.TYPED_DATA_V4){try{text=JSON.parse(text);}catch(e){}text=JSON.stringify(text,null,2);}return _jsxs(YStack,{gap:\"$2\",children:[_jsx(Button,{variant:\"secondary\",onPress:function(){return setShowRawMessage(!showRawMessage);},children:showRawMessage?intl.formatMessage({id:ETranslations.dapp_connect_hide_full_message}):intl.formatMessage({id:ETranslations.dapp_connect_view_full_message})}),showRawMessage?_jsx(TextAreaInput,{editable:false,numberOfLines:11,value:text}):null]});},[intl,unsignedMessage,showRawMessage]);var primaryType=usePromiseResult(_asyncToGenerator(function*(){return parsePrimaryType({unsignedMessage});}),[unsignedMessage]);return _jsxs(YStack,{justifyContent:\"center\",\"data-sentry-element\":\"YStack\",\"data-sentry-component\":\"DAppSignMessageContent\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/DAppConnection/components/DAppRequestContent/DAppSignMessageContent.tsx\",children:[_jsxs(XStack,{alignItems:\"center\",justifyContent:\"space-between\",\"data-sentry-element\":\"XStack\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/DAppConnection/components/DAppRequestContent/DAppSignMessageContent.tsx\",children:[_jsx(SizableText,{color:\"$text\",size:\"$headingMd\",mb:\"$2\",\"data-sentry-element\":\"SizableText\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/DAppConnection/components/DAppRequestContent/DAppSignMessageContent.tsx\",children:intl.formatMessage({id:ETranslations.dapp_connect_message})}),primaryType.result?_jsx(Badge,{badgeType:\"info\",badgeSize:\"sm\",children:primaryType.result}):null]}),_jsxs(YStack,{gap:\"$2\",\"data-sentry-element\":\"YStack\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/DAppConnection/components/DAppRequestContent/DAppSignMessageContent.tsx\",children:[_jsx(TextAreaInput,{value:parseMessage,editable:false,numberOfLines:11,\"data-sentry-element\":\"TextAreaInput\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/DAppConnection/components/DAppRequestContent/DAppSignMessageContent.tsx\"}),renderRawMessage()]})]});}export{DAppSignMessageContent};","import{Page}from'@onekeyhq/components';import{EDAppModalPageStatus}from'@onekeyhq/shared/types/dappConnection';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export function useDappCloseHandler(dappApprove,onClose){var handleOnClose=function(extra){if(extra?.flag!==EDAppModalPageStatus.Confirmed){dappApprove.reject();}if(typeof onClose==='function'){onClose(extra);}};return handleOnClose;}function DappOpenModalPage({children,onClose,dappApprove}){var handleOnClose=useDappCloseHandler(dappApprove,onClose);return _jsxs(Page,{scrollEnabled:true,onClose:handleOnClose,\"data-sentry-element\":\"Page\",\"data-sentry-component\":\"DappOpenModalPage\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/DAppConnection/pages/DappOpenModalPage.tsx\",children:[_jsx(Page.Header,{headerShown:false,\"data-sentry-element\":\"unknown\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/DAppConnection/pages/DappOpenModalPage.tsx\"}),children]});}export default DappOpenModalPage;","import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import{useCallback,useEffect,useMemo,useState}from'react';import{useIntl}from'react-intl';import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import{Divider,Page,SizableText,YGroup,YStack}from'@onekeyhq/components';import{NetworkSelectorTriggerDappConnectionCmp}from'@onekeyhq/kit/src/components/AccountSelector';import{AccountSelectorTriggerDappConnectionCmp}from'@onekeyhq/kit/src/components/AccountSelector/AccountSelectorTrigger/AccountSelectorTriggerDApp';import{ETranslations}from'@onekeyhq/shared/src/locale';import platformEnv from'@onekeyhq/shared/src/platformEnv';import{isPrimaryTypeOrderSign,isPrimaryTypePermitSign}from'@onekeyhq/shared/src/signMessage';import accountUtils from'@onekeyhq/shared/src/utils/accountUtils';import{validateSignMessageData,validateTypedSignMessageDataV1,validateTypedSignMessageDataV3V4}from'@onekeyhq/shared/src/utils/messageUtils';import networkUtils from'@onekeyhq/shared/src/utils/networkUtils';import{EDAppModalPageStatus}from'@onekeyhq/shared/types/dappConnection';import{EHostSecurityLevel}from'@onekeyhq/shared/types/discovery';import{EMessageTypesEth}from'@onekeyhq/shared/types/message';import backgroundApiProxy from\"../../../background/instance/backgroundApiProxy\";import useDappApproveAction from\"../../../hooks/useDappApproveAction\";import useDappQuery from\"../../../hooks/useDappQuery\";import{usePromiseResult}from\"../../../hooks/usePromiseResult\";import{DAppAccountListStandAloneItem}from\"../components/DAppAccountList\";import{DAppSignMessageContent}from\"../components/DAppRequestContent\";import{DAppRequestFooter,DAppRequestLayout}from\"../components/DAppRequestLayout\";import{useRiskDetection}from\"../hooks/useRiskDetection\";import DappOpenModalPage from\"./DappOpenModalPage\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var WalletAccountListItem=function({networkId,accountId}){var intl=useIntl();var{result,isLoading}=usePromiseResult(_asyncToGenerator(function*(){var[network,account,wallet]=yield Promise.all([backgroundApiProxy.serviceNetwork.getNetworkSafe({networkId}),backgroundApiProxy.serviceAccount.getAccount({accountId,networkId}),backgroundApiProxy.serviceAccount.getWallet({walletId:accountUtils.getWalletIdFromAccountId({accountId})})]);var indexedAccount;if(account.indexedAccountId){indexedAccount=yield backgroundApiProxy.serviceAccount.getIndexedAccount({id:account.indexedAccountId});}return{network,account,wallet,indexedAccount};}),[networkId,accountId]);return _jsxs(YStack,{gap:\"$2\",\"data-sentry-element\":\"YStack\",\"data-sentry-component\":\"WalletAccountListItem\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/DAppConnection/pages/SignMessageModal.tsx\",children:[_jsx(SizableText,{size:\"$headingMd\",color:\"$text\",\"data-sentry-element\":\"SizableText\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/DAppConnection/pages/SignMessageModal.tsx\",children:intl.formatMessage({id:ETranslations.global_accounts})}),_jsxs(YGroup,{bg:\"$bg\",borderRadius:\"$3\",borderColor:\"$borderSubdued\",borderWidth:StyleSheet.hairlineWidth,separator:_jsx(Divider,{}),disabled:true,overflow:\"hidden\",\"data-sentry-element\":\"YGroup\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/DAppConnection/pages/SignMessageModal.tsx\",children:[_jsx(YGroup.Item,{\"data-sentry-element\":\"unknown\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/DAppConnection/pages/SignMessageModal.tsx\",children:_jsx(NetworkSelectorTriggerDappConnectionCmp,{isLoading:isLoading,network:result?.network,triggerDisabled:true,\"data-sentry-element\":\"NetworkSelectorTriggerDappConnectionCmp\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/DAppConnection/pages/SignMessageModal.tsx\"})}),_jsx(YGroup.Item,{\"data-sentry-element\":\"unknown\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/DAppConnection/pages/SignMessageModal.tsx\",children:_jsx(AccountSelectorTriggerDappConnectionCmp,{isLoading:isLoading,account:result?.account,wallet:result?.wallet,indexedAccount:result?.indexedAccount,triggerDisabled:true,\"data-sentry-element\":\"AccountSelectorTriggerDappConnectionCmp\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/DAppConnection/pages/SignMessageModal.tsx\"})})]})]});};function SignMessageModal(){var _$sourceInfo$id,_$sourceInfo$origin2,_$sourceInfo$origin3;var intl=useIntl();var[isLoading,setIsLoading]=useState(false);var{$sourceInfo,unsignedMessage,accountId,networkId,walletInternalSign}=useDappQuery();var dappApprove=useDappApproveAction({id:(_$sourceInfo$id=$sourceInfo?.id)!=null?_$sourceInfo$id:'',closeWindowAfterResolved:true});var{result:currentNetwork}=usePromiseResult(function(){return backgroundApiProxy.serviceNetwork.getNetwork({networkId});},[networkId]);var isPermitSignMethod=isPrimaryTypePermitSign({unsignedMessage});var isOrderSignMethod=isPrimaryTypeOrderSign({unsignedMessage});var isSignTypedDataV3orV4Method=unsignedMessage.type===EMessageTypesEth.TYPED_DATA_V3||unsignedMessage.type===EMessageTypesEth.TYPED_DATA_V4;useEffect(function(){if(isSignTypedDataV3orV4Method){var _$sourceInfo$origin;void backgroundApiProxy.serviceDiscovery.postSignTypedDataMessage({networkId,accountId,origin:(_$sourceInfo$origin=$sourceInfo?.origin)!=null?_$sourceInfo$origin:'',typedData:unsignedMessage.message});}},[isSignTypedDataV3orV4Method,$sourceInfo?.origin,accountId,networkId,unsignedMessage.message]);var subtitle=useMemo(function(){if(!currentNetwork?.name){return'';}return intl.formatMessage({id:ETranslations.dapp_connect_allow_to_access_your_chain_message_signature},{chain:currentNetwork.name});},[intl,currentNetwork]);var{showContinueOperate,continueOperate,setContinueOperate,riskLevel,urlSecurityInfo,isRiskSignMethod}=useRiskDetection({origin:(_$sourceInfo$origin2=$sourceInfo?.origin)!=null?_$sourceInfo$origin2:'',unsignedMessage});var handleSignMessage=useCallback(function(){var _ref2=_asyncToGenerator(function*(close){setIsLoading(true);try{if(unsignedMessage.type===EMessageTypesEth.ETH_SIGN||unsignedMessage.type===EMessageTypesEth.PERSONAL_SIGN){validateSignMessageData(unsignedMessage,currentNetwork?.impl);}if(unsignedMessage.type===EMessageTypesEth.TYPED_DATA_V1){validateTypedSignMessageDataV1(unsignedMessage,currentNetwork?.impl);}if(unsignedMessage.type===EMessageTypesEth.TYPED_DATA_V3||unsignedMessage.type===EMessageTypesEth.TYPED_DATA_V4){validateTypedSignMessageDataV3V4(unsignedMessage,networkUtils.getNetworkChainId({networkId}),currentNetwork?.impl);}}catch(e){setIsLoading(false);dappApprove?.reject({error:e});close?.();return;}try{var result=yield backgroundApiProxy.serviceSend.signMessage({unsignedMessage,networkId,accountId});void dappApprove.resolve({result});try{yield backgroundApiProxy.serviceSignature.addItemFromSignMessage({networkId,accountId,message:unsignedMessage.message,sourceInfo:$sourceInfo});}catch{}close?.({flag:EDAppModalPageStatus.Confirmed});}finally{setIsLoading(false);}});return function(_x){return _ref2.apply(this,arguments);};}(),[unsignedMessage,currentNetwork?.impl,networkId,dappApprove,accountId,$sourceInfo]);var getSignMessageAlertProps=function(){if(!isSignTypedDataV3orV4Method){return undefined;}var type='default';var messageType='signTypedData';if(isPermitSignMethod||isOrderSignMethod){type='warning';messageType=isPermitSignMethod?'permit':'order';}return{type,icon:'InfoSquareSolid',title:intl.formatMessage({id:ETranslations.dapp_connect_permit_sign_alert},{type:messageType})};};return _jsx(DappOpenModalPage,{dappApprove:dappApprove,\"data-sentry-element\":\"DappOpenModalPage\",\"data-sentry-component\":\"SignMessageModal\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/DAppConnection/pages/SignMessageModal.tsx\",children:_jsxs(_Fragment,{children:[_jsx(Page.Header,{headerShown:false,\"data-sentry-element\":\"unknown\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/DAppConnection/pages/SignMessageModal.tsx\"}),_jsx(Page.Body,{\"data-sentry-element\":\"unknown\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/DAppConnection/pages/SignMessageModal.tsx\",children:_jsxs(DAppRequestLayout,{title:intl.formatMessage({id:ETranslations.dapp_connect_initiate_message_signature_request}),subtitle:subtitle,origin:(_$sourceInfo$origin3=$sourceInfo?.origin)!=null?_$sourceInfo$origin3:'',urlSecurityInfo:urlSecurityInfo,displaySignMessageAlert:isRiskSignMethod||isSignTypedDataV3orV4Method,signMessageAlertProps:getSignMessageAlertProps(),fullScreen:!platformEnv.isNativeIOS,\"data-sentry-element\":\"DAppRequestLayout\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/DAppConnection/pages/SignMessageModal.tsx\",children:[walletInternalSign?_jsx(WalletAccountListItem,{accountId:accountId,networkId:networkId}):_jsx(DAppAccountListStandAloneItem,{readonly:true}),_jsx(DAppSignMessageContent,{unsignedMessage:unsignedMessage,\"data-sentry-element\":\"DAppSignMessageContent\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/DAppConnection/pages/SignMessageModal.tsx\"})]})}),_jsx(Page.Footer,{\"data-sentry-element\":\"unknown\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/DAppConnection/pages/SignMessageModal.tsx\",children:_jsx(DAppRequestFooter,{confirmText:intl.formatMessage({id:ETranslations.dapp_connect_confirm}),continueOperate:continueOperate,setContinueOperate:function(checked){setContinueOperate(!!checked);},onConfirm:function(params){return handleSignMessage(params);},onCancel:function(){return dappApprove.reject();},confirmButtonProps:{loading:isLoading,disabled:!continueOperate},showContinueOperateCheckbox:showContinueOperate,riskLevel:isRiskSignMethod?EHostSecurityLevel.High:riskLevel,\"data-sentry-element\":\"DAppRequestFooter\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/DAppConnection/pages/SignMessageModal.tsx\"})})]})});}export default SignMessageModal;"],"names":["useDebounce","value","delay","options","debounce","ownKeys","e","r","t","Object","keys","getOwnPropertySymbols","o","filter","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","arguments","length","forEach","getOwnPropertyDescriptors","defineProperties","defineProperty","DAppAccountListInitFromHome","num","shouldSyncFromHome","setSyncLoading","actions","useEffect","v","isLoading","timerUtils","wait","current","syncFromScene","from","sceneName","home","sceneNum","DAppAccountListItem","handleAccountChanged","readonly","networkReadonly","compressionUiMode","initFromHome","beforeShowTrigger","skeletonRenderDuration","useHandleDiscoveryAccountChanged","activeAccount","selectedAccount","debouncedActiveAccount","debouncedSelectedAccount","activeAccountRef","useRef","selectedAccountRef","isOthersWallet","account","id","othersWalletAccountId","indexedAccount","indexedAccountId","Boolean","children","YGroup","bg","borderRadius","borderColor","borderWidth","StyleSheet","hairlineWidth","separator","Divider","disabled","Item","loadingDuration","DAppAccountListStandAloneItem","onConnectedAccountInfoChanged","intl","useIntl","serviceDApp","serviceNetwork","backgroundApiProxy","$sourceInfo","useDappQuery","result","usePromiseResult","_$sourceInfo$scope","_$sourceInfo$scope2","origin","scope","accountSelectorNum","networkIds","impls","getNetworkIdsByImpls","accountsInfo","getConnectedAccountsInfo","isWalletConnectRequest","Array","isArray","existConnectedAccount","getAccountSelectorNum","YStack","gap","testID","SizableText","size","color","formatMessage","ETranslations","global_accounts","AccountSelector","config","discover","sceneUrl","enabledNum","availableNetworksMap","DAppAccountListStandAloneItemForHomeScene","WalletConnectAccountTriggerList","sessionAccountsInfo","map","i","reduce","acc","accountInfo","defaultNetworkId","Stack","DAppRequestedPermissionContent","requestPermissions","dapp_connect_requested_permissions","py","px","minHeight","borderCurve","dapp_connect_view_your_balance_and_activity","dapp_connect_send_approval_requests","text","XStack","Icon","name","DAppSignMessageContent","unsignedMessage","showRawMessage","setShowRawMessage","useState","parseMessage","useMemo","message","type","payload","ECDSA","BIP322_SIMPLE","ETH_SIGN","SIMPLE_SIGN","PERSONAL_SIGN","SIGN_MESSAGE","toString","HEX_MESSAGE","Buffer","_payload$message","TYPED_DATA_V1","_JSON$parse","_messageObject$messag","messageObject","JSON","parse","cur","stringify","TYPED_DATA_V3","TYPED_DATA_V4","_messageObject$messag2","_JSON$parse2","_messageObject","renderRawMessage","useCallback","Button","variant","onPress","dapp_connect_hide_full_message","dapp_connect_view_full_message","TextAreaInput","editable","numberOfLines","primaryType","justifyContent","alignItems","mb","dapp_connect_message","Badge","badgeType","badgeSize","useDappCloseHandler","dappApprove","onClose","extra","flag","Confirmed","reject","DappOpenModalPage","handleOnClose","Page","scrollEnabled","Header","headerShown","WalletAccountListItem","networkId","accountId","network","wallet","Promise","all","getNetworkSafe","serviceAccount","getAccount","getWallet","walletId","getWalletIdFromAccountId","getIndexedAccount","overflow","triggerDisabled","SignMessageModal","_$sourceInfo$id","_$sourceInfo$origin2","_$sourceInfo$origin3","setIsLoading","walletInternalSign","closeWindowAfterResolved","currentNetwork","getNetwork","isPermitSignMethod","isOrderSignMethod","isSignTypedDataV3orV4Method","_$sourceInfo$origin","serviceDiscovery","postSignTypedDataMessage","typedData","_ref2","subtitle","dapp_connect_allow_to_access_your_chain_message_signature","chain","showContinueOperate","continueOperate","setContinueOperate","riskLevel","urlSecurityInfo","isRiskSignMethod","handleSignMessage","close","impl","getNetworkChainId","error","serviceSend","signMessage","resolve","serviceSignature","addItemFromSignMessage","sourceInfo","_x","this","Body","title","dapp_connect_initiate_message_signature_request","displaySignMessageAlert","signMessageAlertProps","messageType","icon","dapp_connect_permit_sign_alert","getSignMessageAlertProps","fullScreen","isNativeIOS","Footer","confirmText","dapp_connect_confirm","checked","onConfirm","params","onCancel","confirmButtonProps","loading","showContinueOperateCheckbox","High"],"sourceRoot":""}