{"version":3,"file":"static/js/22822.2c553d07ff.chunk.js","mappings":"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","sources":["webpack://web/../../packages/kit-bg/src/vaults/types.ts","webpack://web/../../packages/kit/src/hooks/useDebounce.ts","webpack://web/../../packages/kit/src/views/AssetDetails/pages/TokenDetails/ActionBase.tsx","webpack://web/../../packages/kit/src/views/AssetDetails/pages/TokenDetails/ActionBuy.tsx","webpack://web/../../packages/kit/src/views/FiatCrypto/hooks/index.ts","webpack://web/../../packages/kit/src/views/Home/components/WalletActions/RawActions.tsx","webpack://web/../../packages/kit/src/views/Swap/hooks/useSwapAccount.ts","webpack://web/../../packages/kit/src/views/Swap/hooks/useSwapTokens.ts","webpack://web/../../packages/kit/src/views/Swap/pages/SwapProviderMirror.tsx","webpack://web/../../packages/kit/src/views/Swap/components/SwapRecentTokenPairsGroup.tsx","webpack://web/../../packages/kit/src/views/Swap/hooks/useSwapState.ts","webpack://web/../../packages/kit/src/views/Swap/hooks/useSwapBuiltTx.ts","webpack://web/../../packages/kit/src/views/Swap/hooks/useSwapTxHistory.ts","webpack://web/../../packages/kit/src/views/Swap/pages/components/SwapActionsState.tsx","webpack://web/../../packages/kit/src/views/Swap/pages/components/SwapAlertContainer.tsx","webpack://web/../../packages/kit/src/views/Swap/pages/components/SwapSlippageContentContainer.tsx","webpack://web/../../packages/kit/src/views/Swap/pages/components/SwapHeaderRightActionContainer.tsx","webpack://web/../../packages/kit/src/views/Swap/pages/components/SwapHeaderContainer.tsx","webpack://web/../../packages/kit/src/views/Swap/hooks/useSwapApproving.ts","webpack://web/../../packages/kit/src/views/Swap/pages/components/SwapAccountAddressContainer.tsx","webpack://web/../../packages/kit/src/views/Swap/pages/components/SwapInputActions.tsx","webpack://web/../../packages/kit/src/views/Swap/pages/components/SwapInputContainer.tsx","webpack://web/../../packages/kit/src/views/Swap/pages/components/SwapQuoteInput.tsx","webpack://web/../../packages/kit/src/views/Swap/hooks/useSwapQuote.ts","webpack://web/../../packages/kit/src/views/Swap/components/SwapCommonInfoItem.tsx","webpack://web/../../packages/kit/src/views/Swap/components/SwapProviderInfoItem.tsx","webpack://web/../../packages/kit/src/views/Swap/components/SwapRefreshButton.tsx","webpack://web/../../packages/kit/src/views/Swap/components/SwapQuoteResultRate.tsx","webpack://web/../../packages/kit/src/views/Swap/hooks/useSwapSlippageActions.tsx","webpack://web/../../packages/kit/src/views/Swap/components/SwapApproveAllowanceSelect.tsx","webpack://web/../../packages/kit/src/views/Swap/pages/components/SwapApproveAllowanceSelectContainer.tsx","webpack://web/../../packages/kit/src/views/Swap/pages/components/SwapSlippageTriggerContainer.tsx","webpack://web/../../packages/kit/src/views/Swap/pages/components/SwapQuoteResult.tsx","webpack://web/../../packages/kit/src/views/Swap/pages/components/SwapMainLand.tsx"],"sourcesContent":["export var EVaultKeyringTypes=function(EVaultKeyringTypes){EVaultKeyringTypes[\"hd\"]=\"hd\";EVaultKeyringTypes[\"qr\"]=\"qr\";EVaultKeyringTypes[\"hardware\"]=\"hardware\";EVaultKeyringTypes[\"imported\"]=\"imported\";EVaultKeyringTypes[\"watching\"]=\"watching\";EVaultKeyringTypes[\"external\"]=\"external\";return EVaultKeyringTypes;}({});export var EWrappedType=function(EWrappedType){EWrappedType[\"DEPOSIT\"]=\"deposit\";EWrappedType[\"WITHDRAW\"]=\"withdraw\";return EWrappedType;}({});","import{useDebounce as useDebounceOriginal}from'use-debounce';export function useDebounce(value,delay,options){var[debounce]=useDebounceOriginal(value,delay,options);return debounce;}export{useDebouncedCallback}from'use-debounce';","import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _objectWithoutProperties from\"@babel/runtime/helpers/objectWithoutProperties\";var _excluded=[\"networkId\",\"tokenAddress\",\"type\",\"label\",\"icon\",\"accountId\",\"walletType\",\"disabled\",\"hiddenIfDisabled\"];function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}import{useCallback,useMemo,useState}from'react';import{Toast}from'@onekeyhq/components';import backgroundApiProxy from'@onekeyhq/kit/src/background/instance/backgroundApiProxy';import{ActionItem}from'@onekeyhq/kit/src/views/Home/components/WalletActions/RawActions';import{WALLET_TYPE_WATCHING}from'@onekeyhq/shared/src/consts/dbConsts';import platformEnv from'@onekeyhq/shared/src/platformEnv';import{openUrlExternal}from'@onekeyhq/shared/src/utils/openUrlUtils';import{useSupportToken}from\"../../../FiatCrypto/hooks\";import{jsx as _jsx}from\"react/jsx-runtime\";export var ActionBase=function(_ref){var{networkId,tokenAddress,type,label,icon,accountId,walletType,disabled,hiddenIfDisabled}=_ref,rest=_objectWithoutProperties(_ref,_excluded);var[loading,setLoading]=useState(false);var{result:isSupported}=useSupportToken(networkId,tokenAddress,type);var isDisabled=useMemo(function(){if(walletType===WALLET_TYPE_WATCHING&&!false){return true;}if(!isSupported){return true;}return false;},[isSupported,walletType]);var handlePress=useCallback(_asyncToGenerator(function*(){setLoading(true);try{var{url}=yield backgroundApiProxy.serviceFiatCrypto.generateWidgetUrl({networkId,tokenAddress,accountId,type});if(!url){Toast.error({title:'Failed to get widget url'});return;}openUrlExternal(url);}finally{setLoading(false);}}),[networkId,tokenAddress,type,accountId]);if(hiddenIfDisabled&&isDisabled){return null;}return _jsx(ActionItem,_objectSpread(_objectSpread({loading:loading,label:label,icon:icon,disabled:disabled||isDisabled,onPress:handlePress},rest),{},{\"data-sentry-element\":\"ActionItem\",\"data-sentry-component\":\"ActionBase\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/AssetDetails/pages/TokenDetails/ActionBase.tsx\"}));};","import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _objectWithoutProperties from\"@babel/runtime/helpers/objectWithoutProperties\";var _excluded=[\"networkId\",\"tokenAddress\",\"accountId\",\"walletType\"];function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}import{useIntl}from'react-intl';import{withBrowserProvider}from'@onekeyhq/kit/src/views/Discovery/pages/Browser/WithBrowserProvider';import{ETranslations}from'@onekeyhq/shared/src/locale';import{ActionBase}from\"./ActionBase\";import{jsx as _jsx}from\"react/jsx-runtime\";var ActionBuy=function(_ref){var{networkId,tokenAddress,accountId,walletType}=_ref,rest=_objectWithoutProperties(_ref,_excluded);var intl=useIntl();return _jsx(ActionBase,_objectSpread(_objectSpread({networkId:networkId,tokenAddress:tokenAddress,accountId:accountId,label:intl.formatMessage({id:ETranslations.global_buy}),icon:\"PlusLargeOutline\",type:\"buy\",walletType:walletType},rest),{},{\"data-sentry-element\":\"ActionBase\",\"data-sentry-component\":\"ActionBuy\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/AssetDetails/pages/TokenDetails/ActionBuy.tsx\"}));};export default withBrowserProvider(ActionBuy);","import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import{useCallback}from'react';import useAppNavigation from'@onekeyhq/kit/src/hooks/useAppNavigation';import{useAllTokenListAtom,useAllTokenListMapAtom}from'@onekeyhq/kit/src/states/jotai/contexts/tokenList';import{EModalFiatCryptoRoutes,EModalRoutes}from'@onekeyhq/shared/src/routes';import networkUtils from'@onekeyhq/shared/src/utils/networkUtils';import backgroundApiProxy from\"../../../background/instance/backgroundApiProxy\";import{usePromiseResult}from\"../../../hooks/usePromiseResult\";export var useSupportNetworkId=function(type,networkId){return usePromiseResult(_asyncToGenerator(function*(){if(!networkId)return false;if(networkUtils.isAllNetwork({networkId}))return true;return backgroundApiProxy.serviceFiatCrypto.isNetworkSupported({networkId,type});}),[networkId,type],{initResult:false,debounced:100});};export var useSupportToken=function(networkId,tokenAddress,type){return usePromiseResult(_asyncToGenerator(function*(){return backgroundApiProxy.serviceFiatCrypto.isTokenSupported({networkId,tokenAddress,type});}),[networkId,tokenAddress,type],{initResult:false,debounced:100});};export var useGetTokensList=function({networkId,type,accountId}){return usePromiseResult(_asyncToGenerator(function*(){var data=yield backgroundApiProxy.serviceFiatCrypto.getTokensList({networkId,type,accountId});return data;}),[networkId,type,accountId],{initResult:[],watchLoading:true});};export function useFiatCrypto({accountId,networkId,fiatCryptoType}){var{result:isSupported}=useSupportNetworkId(fiatCryptoType,networkId);var[allTokens]=useAllTokenListAtom();var[map]=useAllTokenListMapAtom();var navigation=useAppNavigation();var handleFiatCrypto=useCallback(function(){navigation.pushModal(EModalRoutes.FiatCryptoModal,{screen:fiatCryptoType==='buy'?EModalFiatCryptoRoutes.BuyModal:EModalFiatCryptoRoutes.SellModal,params:{networkId,accountId,tokens:allTokens.tokens,map}});},[accountId,navigation,networkId,allTokens,map,fiatCryptoType]);return{handleFiatCrypto,isSupported:Boolean(networkId&&accountId&&isSupported)};}","import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _objectWithoutProperties from\"@babel/runtime/helpers/objectWithoutProperties\";var _excluded=[\"icon\",\"label\",\"verticalContainerProps\",\"showButtonStyle\"],_excluded2=[\"children\"];function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}import{Children}from'react';import{useIntl}from'react-intl';import{ActionList,Button,IconButton,SizableText,Stack,XStack,useMedia}from'@onekeyhq/components';import{ETranslations}from'@onekeyhq/shared/src/locale';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function ActionItem(_ref){var{icon='PlaceholderOutline',label,verticalContainerProps,showButtonStyle=false}=_ref,rest=_objectWithoutProperties(_ref,_excluded);var media=useMedia();if(showButtonStyle||media.gtSm){return _jsx(Button,_objectSpread(_objectSpread(_objectSpread({},!label&&{icon,py:'$2',pl:'$2.5',pr:'$0.5'}),rest),{},{children:label}));}return _jsxs(Stack,_objectSpread(_objectSpread({alignItems:\"center\",maxWidth:50},verticalContainerProps),{},{\"data-sentry-element\":\"Stack\",\"data-sentry-component\":\"ActionItem\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Home/components/WalletActions/RawActions.tsx\",children:[_jsx(IconButton,_objectSpread(_objectSpread({size:\"large\",icon:icon},rest),{},{\"data-sentry-element\":\"IconButton\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Home/components/WalletActions/RawActions.tsx\"})),_jsx(SizableText,{mt:\"$2\",textAlign:\"center\",size:\"$bodySm\",color:\"$textSubdued\",minWidth:\"$20\",numberOfLines:1,\"data-sentry-element\":\"SizableText\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Home/components/WalletActions/RawActions.tsx\",children:label})]}));}function ActionBuy(props){var intl=useIntl();return _jsx(ActionItem,_objectSpread(_objectSpread({label:intl.formatMessage({id:ETranslations.global_buy}),icon:\"PlusLargeOutline\"},props),{},{\"data-sentry-element\":\"ActionItem\",\"data-sentry-component\":\"ActionBuy\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Home/components/WalletActions/RawActions.tsx\"}));}function ActionSell(props){var intl=useIntl();return _jsx(ActionItem,_objectSpread(_objectSpread({label:intl.formatMessage({id:ETranslations.global_cash_out}),icon:\"MinusLargeOutline\"},props),{},{\"data-sentry-element\":\"ActionItem\",\"data-sentry-component\":\"ActionSell\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Home/components/WalletActions/RawActions.tsx\"}));}function ActionSend(props){var intl=useIntl();return _jsx(ActionItem,_objectSpread(_objectSpread({label:intl.formatMessage({id:ETranslations.global_send}),icon:\"ArrowTopOutline\"},props),{},{\"data-sentry-element\":\"ActionItem\",\"data-sentry-component\":\"ActionSend\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Home/components/WalletActions/RawActions.tsx\"}));}function ActionReceive(props){var intl=useIntl();return _jsx(ActionItem,_objectSpread(_objectSpread({label:intl.formatMessage({id:ETranslations.global_receive}),icon:\"ArrowBottomOutline\"},props),{},{\"data-sentry-element\":\"ActionItem\",\"data-sentry-component\":\"ActionReceive\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Home/components/WalletActions/RawActions.tsx\"}));}function ActionSwap(props){var intl=useIntl();return _jsx(ActionItem,_objectSpread(_objectSpread({label:intl.formatMessage({id:ETranslations.global_swap}),icon:\"SwitchHorOutline\"},props),{},{\"data-sentry-element\":\"ActionItem\",\"data-sentry-component\":\"ActionSwap\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Home/components/WalletActions/RawActions.tsx\"}));}function ActionBridge(props){var intl=useIntl();return _jsx(ActionItem,_objectSpread(_objectSpread({label:intl.formatMessage({id:ETranslations.swap_page_bridge}),icon:\"BridgeOutline\"},props),{},{\"data-sentry-element\":\"ActionItem\",\"data-sentry-component\":\"ActionBridge\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Home/components/WalletActions/RawActions.tsx\"}));}function ActionMore({sections}){var intl=useIntl();var media=useMedia();return _jsx(ActionList,{title:intl.formatMessage({id:ETranslations.global_more}),floatingPanelProps:{w:'$60'},renderTrigger:_jsx(ActionItem,_objectSpread({icon:\"DotHorOutline\"},media.sm&&{label:intl.formatMessage({id:ETranslations.global_more})})),sections:sections,\"data-sentry-element\":\"ActionList\",\"data-sentry-component\":\"ActionMore\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Home/components/WalletActions/RawActions.tsx\"});}function RawActions(_ref2){var{children}=_ref2,rest=_objectWithoutProperties(_ref2,_excluded2);return _jsx(XStack,_objectSpread(_objectSpread({justifyContent:\"space-between\",$gtSm:{flexDirection:'row',justifyContent:'flex-start',gap:'$2'}},rest),{},{\"data-sentry-element\":\"XStack\",\"data-sentry-component\":\"RawActions\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Home/components/WalletActions/RawActions.tsx\",children:Children.toArray(children)}));}RawActions.More=ActionMore;RawActions.Buy=ActionBuy;RawActions.Sell=ActionSell;RawActions.Send=ActionSend;RawActions.Receive=ActionReceive;RawActions.Swap=ActionSwap;RawActions.Bridge=ActionBridge;export{RawActions,ActionItem};","import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _debounce from\"lodash/debounce\";function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}import{useCallback,useEffect,useMemo,useRef}from'react';import{EPageType,usePageType}from'@onekeyhq/components';import{useRouteIsFocused as useIsFocused}from'@onekeyhq/kit/src/hooks/useRouteIsFocused';import{useSettingsAtom}from'@onekeyhq/kit-bg/src/states/jotai/atoms';import{ETabRoutes}from'@onekeyhq/shared/src/routes';import accountUtils from'@onekeyhq/shared/src/utils/accountUtils';import networkUtils from'@onekeyhq/shared/src/utils/networkUtils';import{ESwapDirectionType}from'@onekeyhq/shared/types/swap/types';import backgroundApiProxy from\"../../../background/instance/backgroundApiProxy\";import useListenTabFocusState from\"../../../hooks/useListenTabFocusState\";import{usePromiseResult}from\"../../../hooks/usePromiseResult\";import{useAccountSelectorActions,useActiveAccount}from\"../../../states/jotai/contexts/accountSelector\";import{useSwapProviderSupportReceiveAddressAtom,useSwapQuoteCurrentSelectAtom,useSwapSelectFromTokenAtom,useSwapSelectToTokenAtom,useSwapToAnotherAccountAddressAtom}from\"../../../states/jotai/contexts/swap\";export function useSwapFromAccountNetworkSync(){var{updateSelectedAccountNetwork}=useAccountSelectorActions().current;var[fromToken]=useSwapSelectFromTokenAtom();var{activeAccount:toActiveAccount}=useActiveAccount({num:1});var{activeAccount:fromActiveAccount}=useActiveAccount({num:0});var[swapToAnotherAccount,setSwapToAnotherAccount]=useSwapToAnotherAccountAddressAtom();var[swapProviderSupportReceiveAddress]=useSwapProviderSupportReceiveAddressAtom();var[,setSettings]=useSettingsAtom();var[toToken]=useSwapSelectToTokenAtom();var fromTokenRef=useRef();var toTokenRef=useRef();var swapProviderSupportReceiveAddressRef=useRef();var swapToAnotherAccountRef=useRef(swapToAnotherAccount);var swapToAccountRef=useRef(toActiveAccount);var swapFromAccountRef=useRef(fromActiveAccount);if(swapToAccountRef.current!==toActiveAccount){swapToAccountRef.current=toActiveAccount;}if(swapFromAccountRef.current!==fromActiveAccount){swapFromAccountRef.current=fromActiveAccount;}if(fromTokenRef.current!==fromToken){fromTokenRef.current=fromToken;}if(toTokenRef.current!==toToken){toTokenRef.current=toToken;}if(swapToAnotherAccountRef.current!==swapToAnotherAccount){swapToAnotherAccountRef.current=swapToAnotherAccount;}if(swapProviderSupportReceiveAddressRef.current!==swapProviderSupportReceiveAddress){swapProviderSupportReceiveAddressRef.current=swapProviderSupportReceiveAddress;}var checkTokenForAccountNetworkDebounce=useCallback(_debounce(_asyncToGenerator(function*(){if(fromTokenRef.current){yield updateSelectedAccountNetwork({num:0,networkId:fromTokenRef.current?.networkId});}if(toTokenRef.current){yield updateSelectedAccountNetwork({num:1,networkId:toTokenRef.current?.networkId});}if(fromTokenRef.current&&toTokenRef.current){if(swapToAnotherAccountRef.current?.networkId&&toTokenRef.current?.networkId!==swapToAnotherAccountRef.current?.networkId||!swapToAnotherAccountRef.current?.networkId&&!swapToAccountRef.current?.account&&swapToAccountRef.current?.wallet||swapProviderSupportReceiveAddressRef.current===false||!swapToAnotherAccountRef.current.address&&swapToAccountRef.current.account?.id!==swapFromAccountRef.current.account?.id){setSettings(function(v){return _objectSpread(_objectSpread({},v),{},{swapToAnotherAccountSwitchOn:false});});setSwapToAnotherAccount(function(v){return _objectSpread(_objectSpread({},v),{},{address:undefined});});setTimeout(function(){if(toTokenRef.current?.networkId&&swapToAccountRef.current.network?.id&&toTokenRef.current?.networkId!==swapToAccountRef.current.network.id)void updateSelectedAccountNetwork({num:1,networkId:toTokenRef.current?.networkId});},500);}}}),100),[setSettings,updateSelectedAccountNetwork]);var pageType=usePageType();useListenTabFocusState(ETabRoutes.Swap,function(){var _ref2=_asyncToGenerator(function*(isFocus,isHideByModal){if(pageType!==EPageType.modal){if(isHideByModal)return;if(isFocus){yield checkTokenForAccountNetworkDebounce();}}});return function(_x,_x2){return _ref2.apply(this,arguments);};}());useEffect(function(){if(pageType!==EPageType.modal){void _asyncToGenerator(function*(){yield checkTokenForAccountNetworkDebounce();})();}},[checkTokenForAccountNetworkDebounce,fromToken?.networkId,fromToken?.contractAddress,toToken?.networkId,toToken?.contractAddress,swapProviderSupportReceiveAddress,pageType]);var isFocused=useIsFocused();useEffect(function(){if(pageType===EPageType.modal){if(isFocused){void _asyncToGenerator(function*(){yield checkTokenForAccountNetworkDebounce();})();}}},[checkTokenForAccountNetworkDebounce,isFocused,pageType,fromToken?.networkId,fromToken?.contractAddress,toToken?.networkId,toToken?.contractAddress,swapProviderSupportReceiveAddress]);}export function useSwapAddressInfo(type){var{activeAccount}=useActiveAccount({num:type===ESwapDirectionType.FROM?0:1});var[{swapToAnotherAccountSwitchOn}]=useSettingsAtom();var[swapToAnotherAccountAddressAtom]=useSwapToAnotherAccountAddressAtom();var addressInfo=useMemo(function(){var res={networkId:undefined,address:undefined,accountInfo:undefined,activeAccount:undefined};if(type===ESwapDirectionType.TO&&swapToAnotherAccountSwitchOn&&swapToAnotherAccountAddressAtom.address&&swapToAnotherAccountAddressAtom.networkId&&activeAccount&&activeAccount.network?.id===swapToAnotherAccountAddressAtom.networkId){return _objectSpread(_objectSpread({},res),{},{address:swapToAnotherAccountAddressAtom.address,networkId:swapToAnotherAccountAddressAtom.networkId,accountInfo:swapToAnotherAccountAddressAtom.accountInfo,activeAccount:_objectSpread({},activeAccount)});}if(activeAccount){return _objectSpread(_objectSpread({},res),{},{address:activeAccount.account?.address,networkId:activeAccount.network?.id,accountInfo:_objectSpread({},activeAccount),activeAccount:_objectSpread({},activeAccount)});}return res;},[type,swapToAnotherAccountSwitchOn,swapToAnotherAccountAddressAtom,activeAccount]);return addressInfo;}export function useSwapRecipientAddressInfo(enable){var fromAccountInfo=useSwapAddressInfo(ESwapDirectionType.FROM);var swapToAddressInfo=useSwapAddressInfo(ESwapDirectionType.TO);var[currentQuoteRes]=useSwapQuoteCurrentSelectAtom();var[{swapToAnotherAccountSwitchOn}]=useSettingsAtom();var[swapToAnotherAddressInfo]=useSwapToAnotherAccountAddressAtom();var getToNetWorkAddressFromAccountId=usePromiseResult(_asyncToGenerator(function*(){if(!enable){return null;}if(swapToAddressInfo.networkId&&!networkUtils.isAllNetwork({networkId:swapToAddressInfo.networkId})&&fromAccountInfo.accountInfo?.account?.id&&fromAccountInfo.accountInfo?.indexedAccount?.id){var accountInfos=yield backgroundApiProxy.serviceStaking.getEarnAccount({accountId:fromAccountInfo.accountInfo?.account?.id,networkId:swapToAddressInfo.networkId,indexedAccountId:fromAccountInfo.accountInfo?.indexedAccount?.id});return accountInfos;}}),[enable,swapToAddressInfo.networkId,fromAccountInfo.accountInfo?.account?.id,fromAccountInfo.accountInfo?.indexedAccount?.id],{});var getToAddressAccountInfos=usePromiseResult(_asyncToGenerator(function*(){if(swapToAnotherAddressInfo.networkId&&swapToAnotherAddressInfo.address){var res=yield backgroundApiProxy.serviceAccount.getAccountNameFromAddress({networkId:swapToAnotherAddressInfo.networkId,address:swapToAnotherAddressInfo.address});if(res.length>0){return res[0];}}}),[swapToAnotherAddressInfo.address,swapToAnotherAddressInfo.networkId],{});if(swapToAddressInfo.address===swapToAnotherAddressInfo.address&&swapToAnotherAccountSwitchOn){if(getToNetWorkAddressFromAccountId?.result?.accountAddress&&getToNetWorkAddressFromAccountId?.result?.accountAddress!==swapToAnotherAddressInfo.address&&swapToAnotherAddressInfo.networkId===currentQuoteRes?.toTokenInfo.networkId){return{accountInfo:swapToAnotherAddressInfo.accountInfo?.account?.address===swapToAnotherAddressInfo.address?{walletName:swapToAnotherAddressInfo.accountInfo?.wallet?.name,accountName:swapToAnotherAddressInfo.accountInfo?.accountName,accountId:swapToAnotherAddressInfo.accountInfo?.account?.id}:getToAddressAccountInfos.result,showAddress:accountUtils.shortenAddress({address:swapToAnotherAddressInfo.address,leadingLength:6,trailingLength:6}),isExtAccount:swapToAnotherAddressInfo.accountInfo?.account?.address!==swapToAnotherAddressInfo.address&&!getToAddressAccountInfos.result};}}}","import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _isNil from\"lodash/isNil\";import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}import{useCallback,useEffect,useMemo,useRef,useState}from'react';import BigNumber from'bignumber.js';import{EPageType,usePageType}from'@onekeyhq/components';import{useRouteIsFocused as useIsFocused}from'@onekeyhq/kit/src/hooks/useRouteIsFocused';import{useInAppNotificationAtom}from'@onekeyhq/kit-bg/src/states/jotai/atoms';import{getNetworkIdsMap}from'@onekeyhq/shared/src/config/networkIds';import{useFuse}from'@onekeyhq/shared/src/modules3rdParty/fuse';import{ETabRoutes}from'@onekeyhq/shared/src/routes';import networkUtils from'@onekeyhq/shared/src/utils/networkUtils';import{equalTokenNoCaseSensitive}from'@onekeyhq/shared/src/utils/tokenUtils';import{swapDefaultSetTokens,tokenDetailSwapDefaultToTokens}from'@onekeyhq/shared/types/swap/SwapProvider.constants';import{ESwapDirectionType,ESwapTabSwitchType,ESwapTxHistoryStatus}from'@onekeyhq/shared/types/swap/types';import backgroundApiProxy from\"../../../background/instance/backgroundApiProxy\";import useListenTabFocusState from\"../../../hooks/useListenTabFocusState\";import{useAccountSelectorActions}from\"../../../states/jotai/contexts/accountSelector\";import{useSwapActions,useSwapAllNetworkTokenListMapAtom,useSwapNetworksAtom,useSwapNetworksIncludeAllNetworkAtom,useSwapSelectFromTokenAtom,useSwapSelectToTokenAtom,useSwapTokenFetchingAtom,useSwapTokenMapAtom,useSwapTypeSwitchAtom}from\"../../../states/jotai/contexts/swap\";import{useSwapAddressInfo}from\"./useSwapAccount\";export function useSwapInit(params){var[swapNetworks,setSwapNetworks]=useSwapNetworksAtom();var[fromToken,setFromToken]=useSwapSelectFromTokenAtom();var[toToken,setToToken]=useSwapSelectToTokenAtom();var[,setInAppNotificationAtom]=useInAppNotificationAtom();var{syncNetworksSort}=useSwapActions().current;var swapAddressInfo=useSwapAddressInfo(ESwapDirectionType.FROM);var{updateSelectedAccountNetwork}=useAccountSelectorActions().current;var[networkListFetching,setNetworkListFetching]=useState(true);var[skipSyncDefaultSelectedToken,setSkipSyncDefaultSelectedToken]=useState(false);var swapAddressInfoRef=useRef();var[swapTypeSwitch]=useSwapTypeSwitchAtom();var{swapTypeSwitchAction}=useSwapActions().current;if(swapAddressInfoRef.current!==swapAddressInfo){swapAddressInfoRef.current=swapAddressInfo;}var swapNetworksRef=useRef([]);if(swapNetworksRef.current!==swapNetworks){swapNetworksRef.current=swapNetworks;}var fromTokenRef=useRef();if(fromTokenRef.current!==fromToken){fromTokenRef.current=fromToken;}var toTokenRef=useRef();if(toTokenRef.current!==toToken){toTokenRef.current=toToken;}var fetchSwapNetworks=useCallback(_asyncToGenerator(function*(){if(swapNetworks.length){setNetworkListFetching(false);return;}var swapNetworksSortList=yield backgroundApiProxy.simpleDb.swapNetworksSort.getRawData();if(swapNetworksSortList?.data?.length){var noSupportInfo=swapNetworksSortList?.data.every(function(net){return _isNil(net.supportCrossChainSwap)&&_isNil(net.supportSingleSwap);});if(!noSupportInfo){setSwapNetworks(swapNetworksSortList.data);setNetworkListFetching(false);}else{swapNetworksSortList=null;void backgroundApiProxy.simpleDb.swapNetworksSort.setRawData({data:[]});}}var networks=[];var fetchNetworks=yield backgroundApiProxy.serviceSwap.fetchSwapNetworks();networks=[...fetchNetworks];if(swapNetworksSortList?.data?.length&&fetchNetworks?.length){var sortNetworks=swapNetworksSortList.data;networks=sortNetworks.filter(function(network){return fetchNetworks.find(function(n){return n.networkId===network.networkId;});}).map(function(net){var serverNetwork=fetchNetworks.find(function(n){return n.networkId===net.networkId;});return _objectSpread(_objectSpread({},net),serverNetwork);}).concat(fetchNetworks.filter(function(network){return!sortNetworks.find(function(n){return n.networkId===network.networkId;});}));}if(networks.length){yield backgroundApiProxy.simpleDb.swapNetworksSort.setRawData({data:networks});if(!swapNetworksSortList?.data?.length||swapNetworksSortList?.data?.length!==networks.length){setSwapNetworks(networks);setNetworkListFetching(false);}}}),[setSwapNetworks,swapNetworks.length]);var checkSupportTokenSwapType=useCallback(function(token,enableSwitchAction){var supportNet=swapNetworks.find(function(net){return net.networkId===token.networkId;});var supportTypes=[];if(supportNet){if(supportNet.supportSingleSwap){supportTypes=[...supportTypes,ESwapTabSwitchType.SWAP];}if(supportNet.supportCrossChainSwap){supportTypes=[...supportTypes,ESwapTabSwitchType.BRIDGE];}}if(!params?.swapTabSwitchType&&enableSwitchAction){if(supportTypes.length>0&&!supportTypes.includes(swapTypeSwitch)){var needSwitchType=supportTypes.find(function(t){return t!==swapTypeSwitch;});if(needSwitchType){var _swapAddressInfoRef$c;void swapTypeSwitchAction(needSwitchType,(_swapAddressInfoRef$c=swapAddressInfoRef.current?.networkId)!=null?_swapAddressInfoRef$c:fromTokenRef.current?.networkId);}}}return supportTypes;},[params?.swapTabSwitchType,swapNetworks,swapTypeSwitch,swapTypeSwitchAction]);var syncDefaultSelectedToken=useCallback(_asyncToGenerator(function*(){if(!!fromTokenRef.current||!!toTokenRef.current){return;}if(params?.importFromToken&&swapNetworksRef.current.find(function(net){return net.networkId===params?.importFromToken?.networkId;})||params?.importToToken&&swapNetworksRef.current.find(function(net){return net.networkId===params?.importToToken?.networkId;})){var _ref3,_params$importFromTok;if(params?.importFromToken){var fromTokenSupportTypes=checkSupportTokenSwapType(params?.importFromToken);if(params?.swapTabSwitchType&&fromTokenSupportTypes.includes(params?.swapTabSwitchType)){setFromToken(params?.importFromToken);}}if(params?.importToToken){var toTokenSupportTypes=checkSupportTokenSwapType(params?.importToToken);if(params?.swapTabSwitchType&&toTokenSupportTypes.includes(params?.swapTabSwitchType)){setToToken(params?.importToToken);}}if(params?.importFromToken&&!params?.importToToken){var fromNetworkDefault=swapDefaultSetTokens[params?.importFromToken.networkId];var defaultToToken=!params?.importFromToken?.isNative?tokenDetailSwapDefaultToTokens[params?.importFromToken.networkId]:fromNetworkDefault?.toToken;if(defaultToToken){var defaultTokenSupportTypes=checkSupportTokenSwapType(defaultToToken);if(params?.swapTabSwitchType&&defaultTokenSupportTypes.includes(params?.swapTabSwitchType)){setToToken(defaultToToken);}}}void syncNetworksSort((_ref3=(_params$importFromTok=params?.importFromToken?.networkId)!=null?_params$importFromTok:params?.importToToken?.networkId)!=null?_ref3:getNetworkIdsMap().onekeyall);return;}if(!swapAddressInfoRef.current?.accountInfo?.ready||!swapAddressInfoRef.current?.networkId||!swapNetworksRef.current.length||params?.importNetworkId&&swapAddressInfoRef.current?.networkId&&params?.importNetworkId!==swapAddressInfoRef.current?.networkId||skipSyncDefaultSelectedToken){return;}var isAllNet=networkUtils.isAllNetwork({networkId:swapAddressInfoRef.current?.networkId});var accountNetwork=swapNetworksRef.current.find(function(net){return net.networkId===swapAddressInfoRef.current?.networkId;});var netInfo=accountNetwork;var netId=accountNetwork?.networkId;if(isAllNet){netId=getNetworkIdsMap().onekeyall;var allNetDefaultToken=swapDefaultSetTokens[netId]?.fromToken;netInfo=swapNetworksRef.current.find(function(net){return net.networkId===allNetDefaultToken?.networkId;});}if(netInfo&&netId){if(!_isNil(swapDefaultSetTokens[netId]?.fromToken)||!_isNil(swapDefaultSetTokens[netId]?.toToken)){var defaultFromToken=swapDefaultSetTokens[netId]?.fromToken;var _defaultToToken=swapDefaultSetTokens[netId]?.toToken;if(defaultFromToken){setFromToken(_objectSpread(_objectSpread({},defaultFromToken),{},{networkLogoURI:isAllNet?defaultFromToken.networkLogoURI:netInfo?.logoURI}));void syncNetworksSort(defaultFromToken.networkId);}if(_defaultToToken){setToToken(_objectSpread(_objectSpread({},_defaultToToken),{},{networkLogoURI:isAllNet?_defaultToToken.networkLogoURI:netInfo?.logoURI}));void syncNetworksSort(_defaultToToken.networkId);}if(defaultFromToken){checkSupportTokenSwapType(defaultFromToken,true);}}}}),[params?.importFromToken,params?.importToToken,params?.importNetworkId,params?.swapTabSwitchType,skipSyncDefaultSelectedToken,syncNetworksSort,checkSupportTokenSwapType,setFromToken,setToToken]);useEffect(function(){void _asyncToGenerator(function*(){yield backgroundApiProxy.serviceSwap.swapRecentTokenSync();})();},[setInAppNotificationAtom]);useEffect(function(){void _asyncToGenerator(function*(){yield fetchSwapNetworks();})();},[fetchSwapNetworks,swapNetworks.length]);useEffect(function(){void _asyncToGenerator(function*(){if(params?.importNetworkId&&swapAddressInfoRef.current?.networkId&&params?.importNetworkId!==swapAddressInfoRef.current.networkId){yield updateSelectedAccountNetwork({num:0,networkId:params?.importNetworkId});}})();},[params?.importNetworkId,updateSelectedAccountNetwork]);useEffect(function(){void _asyncToGenerator(function*(){yield syncDefaultSelectedToken();})();},[swapAddressInfo.accountInfo?.ready,swapNetworks.length,swapAddressInfo.networkId,params?.importFromToken,params?.importToToken,params?.importNetworkId]);var pageType=usePageType();useListenTabFocusState(ETabRoutes.Swap,function(isFocus,isHiddenModel){if(pageType!==EPageType.modal){if(isFocus){if(isHiddenModel){setSkipSyncDefaultSelectedToken(true);}else{setSkipSyncDefaultSelectedToken(false);}}}});return{fetchLoading:networkListFetching};}export function useSwapTokenList(selectTokenModalType,currentNetworkId,keywords){var[currentTokens,setCurrentTokens]=useState([]);var[{tokenCatch}]=useSwapTokenMapAtom();var[swapAllNetworkTokenListMap]=useSwapAllNetworkTokenListMapAtom();var[swapSupportAllAccounts,setSwapSupportAllAccounts]=useState([]);var[swapNetworks]=useSwapNetworksAtom();var[swapSupportAllNetworks]=useSwapNetworksIncludeAllNetworkAtom();var{tokenListFetchAction,swapLoadAllNetworkTokenList}=useSwapActions().current;var swapAddressInfo=useSwapAddressInfo(selectTokenModalType);var[swapTokenFetching]=useSwapTokenFetchingAtom();useEffect(function(){void _asyncToGenerator(function*(){var _swapAddressInfo$acco;var{swapSupportAccounts}=yield backgroundApiProxy.serviceSwap.getSupportSwapAllAccounts({indexedAccountId:swapAddressInfo?.accountInfo?.indexedAccount?.id,otherWalletTypeAccountId:!swapAddressInfo?.accountInfo?.indexedAccount?.id?(_swapAddressInfo$acco=swapAddressInfo?.accountInfo?.account?.id)!=null?_swapAddressInfo$acco:swapAddressInfo?.accountInfo?.dbAccount?.id:undefined,swapSupportNetworks:swapNetworks});setSwapSupportAllAccounts(swapSupportAccounts);})();},[swapAddressInfo?.accountInfo?.account?.id,swapAddressInfo?.accountInfo?.dbAccount?.id,swapAddressInfo?.accountInfo?.indexedAccount?.id,swapNetworks]);var tokenFetchParams=useMemo(function(){var findNetInfo=swapSupportAllAccounts.find(function(net){return net.networkId===currentNetworkId;});if(swapAddressInfo.networkId===currentNetworkId){return{networkId:currentNetworkId,keywords,accountAddress:swapAddressInfo?.address,accountNetworkId:swapAddressInfo?.networkId,accountId:swapAddressInfo?.accountInfo?.account?.id};}return{networkId:currentNetworkId,keywords,accountAddress:findNetInfo?.apiAddress,accountNetworkId:findNetInfo?.networkId,accountId:findNetInfo?.accountId};},[currentNetworkId,swapAddressInfo.networkId,swapAddressInfo?.address,swapAddressInfo?.accountInfo?.account?.id,swapSupportAllAccounts,keywords]);var swapAllNetworkTokenList=useMemo(function(){var _ref9,_ref10,_swapAddressInfo$acco2;return swapAllNetworkTokenListMap[(_ref9=(_ref10=(_swapAddressInfo$acco2=swapAddressInfo?.accountInfo?.indexedAccount?.id)!=null?_swapAddressInfo$acco2:swapAddressInfo?.accountInfo?.account?.id)!=null?_ref10:swapAddressInfo?.accountInfo?.dbAccount?.id)!=null?_ref9:'noAccountId'];},[swapAllNetworkTokenListMap,swapAddressInfo?.accountInfo?.indexedAccount?.id,swapAddressInfo?.accountInfo?.account?.id,swapAddressInfo?.accountInfo?.dbAccount?.id]);var sortAllNetworkTokens=useCallback(function(tokens){var havePriceTokens=tokens.filter(function(token){var _token$price;var priceBN=new BigNumber((_token$price=token.price)!=null?_token$price:'0');return!priceBN.isNaN()&&!priceBN.isZero();})?.sort(function(a,b){var _a$fiatValue,_b$fiatValue;var aBalanceBN=new BigNumber((_a$fiatValue=a.fiatValue)!=null?_a$fiatValue:'0');var bBalanceBN=new BigNumber((_b$fiatValue=b.fiatValue)!=null?_b$fiatValue:'0');return bBalanceBN.comparedTo(aBalanceBN);});var noPriceTokens=tokens.filter(function(token){var _token$price2;var priceBN=new BigNumber((_token$price2=token.price)!=null?_token$price2:'0');return priceBN.isNaN()||priceBN.isZero();})?.sort(function(a,b){var _a$fiatValue2,_b$fiatValue2;var aBalanceBN=new BigNumber((_a$fiatValue2=a.fiatValue)!=null?_a$fiatValue2:'0');var bBalanceBN=new BigNumber((_b$fiatValue2=b.fiatValue)!=null?_b$fiatValue2:'0');return bBalanceBN.comparedTo(aBalanceBN);});return[...havePriceTokens,...noPriceTokens];},[]);var mergedAllNetworkTokenList=useCallback(function({swapAllNetRecommend,swapSearchTokens}){var _swapAllNetworkTokenL,_allNetworkTokenList$;if(swapAllNetRecommend?.length&&!swapAllNetworkTokenList){return[];}var allNetworkTokenList=(_swapAllNetworkTokenL=swapAllNetworkTokenList?.map(function(token){var swapNet=swapNetworks.find(function(net){return net.networkId===token.networkId;});if(swapNet){return _objectSpread(_objectSpread({},token),{},{networkLogoURI:swapNet.logoURI});}return token;})?.filter(function(token){return swapSupportAllNetworks.find(function(net){return net.networkId===token.networkId;});}))!=null?_swapAllNetworkTokenL:[];var haveBalanceTokenList=(_allNetworkTokenList$=allNetworkTokenList?.filter(function(token){var _token$balanceParsed;var balanceBN=new BigNumber((_token$balanceParsed=token?.balanceParsed)!=null?_token$balanceParsed:'0');if(!balanceBN.isNaN()&&!balanceBN.isZero()){return true;}return false;}))!=null?_allNetworkTokenList$:[];if(swapAllNetRecommend){var _swapAllNetRecommend$;var filterRecommendTokenList=(_swapAllNetRecommend$=swapAllNetRecommend?.filter(function(token){return!haveBalanceTokenList?.find(function(balanceToken){return equalTokenNoCaseSensitive({token1:{networkId:balanceToken?.networkId,contractAddress:balanceToken?.contractAddress},token2:{networkId:token?.networkId,contractAddress:token?.contractAddress}});});})?.filter(function(token){return swapSupportAllNetworks.find(function(net){return net.networkId===token.networkId;});}))!=null?_swapAllNetRecommend$:[];var allNetTokens=[...haveBalanceTokenList,...filterRecommendTokenList];return sortAllNetworkTokens(allNetTokens!=null?allNetTokens:[]);}if(swapSearchTokens){var allNetSearchTokens=swapSearchTokens.map(function(token){if(!swapSupportAllNetworks.find(function(net){return net.networkId===token.networkId;})){return undefined;}var balanceToken=haveBalanceTokenList.find(function(walletToken){return walletToken?.contractAddress===token?.contractAddress&&walletToken?.networkId===token?.networkId;});if(balanceToken){return balanceToken;}return token;}).filter(function(token){return token;});return sortAllNetworkTokens(allNetSearchTokens!=null?allNetSearchTokens:[]);}return[];},[sortAllNetworkTokens,swapAllNetworkTokenList,swapNetworks,swapSupportAllNetworks]);var fuseRemoteTokensSearch=useFuse(networkUtils.isAllNetwork({networkId:tokenFetchParams.networkId})&&keywords?mergedAllNetworkTokenList({swapSearchTokens:tokenCatch?.[JSON.stringify(tokenFetchParams)]?.data||[]}):tokenCatch?.[JSON.stringify(tokenFetchParams)]?.data||[],{shouldSort:false,keys:['symbol','contractAddress']});var fuseRemoteTokensSearchRef=useRef(fuseRemoteTokensSearch);if(fuseRemoteTokensSearchRef.current!==fuseRemoteTokensSearch){fuseRemoteTokensSearchRef.current=fuseRemoteTokensSearch;}useEffect(function(){if(tokenFetchParams.networkId&&!keywords&&networkUtils.isAllNetwork({networkId:tokenFetchParams.networkId})){var _swapAddressInfo$acco3;void swapLoadAllNetworkTokenList(swapAddressInfo?.accountInfo?.indexedAccount?.id,!swapAddressInfo?.accountInfo?.indexedAccount?.id?(_swapAddressInfo$acco3=swapAddressInfo?.accountInfo?.account?.id)!=null?_swapAddressInfo$acco3:swapAddressInfo?.accountInfo?.dbAccount?.id:undefined);}void tokenListFetchAction(tokenFetchParams);},[swapAddressInfo?.accountInfo?.account?.id,swapAddressInfo?.accountInfo?.dbAccount?.id,swapAddressInfo?.accountInfo?.indexedAccount?.id,swapLoadAllNetworkTokenList,tokenFetchParams,tokenListFetchAction,keywords]);useEffect(function(){if(keywords&&fuseRemoteTokensSearchRef.current){setCurrentTokens(fuseRemoteTokensSearchRef.current.search(keywords));}else{setCurrentTokens(networkUtils.isAllNetwork({networkId:tokenFetchParams.networkId})?mergedAllNetworkTokenList({swapAllNetRecommend:tokenCatch?.[JSON.stringify(tokenFetchParams)]?.data||[]}):tokenCatch?.[JSON.stringify(tokenFetchParams)]?.data||[]);}},[tokenCatch,tokenFetchParams,currentNetworkId,keywords,mergedAllNetworkTokenList]);return{fetchLoading:swapTokenFetching&&currentTokens.length===0||networkUtils.isAllNetwork({networkId:tokenFetchParams.networkId})&&!swapAllNetworkTokenList,currentTokens};}export function useSwapSelectedTokenInfo({token,type}){var swapAddressInfo=useSwapAddressInfo(ESwapDirectionType.FROM);var[orderFinishCheckBalance,setOrderFinishCheckBalance]=useState(0);var[{swapHistoryPendingList}]=useInAppNotificationAtom();var{loadSwapSelectTokenDetail}=useSwapActions().current;var swapHistoryPendingListRef=useRef(swapHistoryPendingList);if(swapHistoryPendingListRef.current!==swapHistoryPendingList){swapHistoryPendingListRef.current=swapHistoryPendingList;}var orderFinishCheckBalanceRef=useRef(orderFinishCheckBalance);if(orderFinishCheckBalanceRef.current!==orderFinishCheckBalance){orderFinishCheckBalanceRef.current=orderFinishCheckBalance;}var swapAddressInfoRef=useRef(swapAddressInfo);if(swapAddressInfoRef.current!==swapAddressInfo){swapAddressInfoRef.current=swapAddressInfo;}var isFocused=useIsFocused();var isFocusRef=useRef(isFocused);if(isFocusRef.current!==isFocused){isFocusRef.current=isFocused;}useEffect(function(){if(!isFocusRef.current)return;if(swapHistoryPendingList.length){var successOrder=swapHistoryPendingList.filter(function(item){return item.status===ESwapTxHistoryStatus.SUCCESS;}).length;if(successOrder>orderFinishCheckBalanceRef.current){void loadSwapSelectTokenDetail(type,swapAddressInfoRef.current,true);setOrderFinishCheckBalance(successOrder);}}},[loadSwapSelectTokenDetail,swapHistoryPendingList,type]);useEffect(function(){void loadSwapSelectTokenDetail(type,swapAddressInfoRef.current,!token?.reservationValue&&token?.isNative);},[type,swapAddressInfo,token?.networkId,token?.contractAddress,loadSwapSelectTokenDetail,token?.reservationValue,token?.isNative]);var pageType=usePageType();useListenTabFocusState(ETabRoutes.Swap,function(isFocus,isHiddenModel){if(pageType!==EPageType.modal){if(isFocus&&!isHiddenModel&&swapHistoryPendingListRef.current.length){var successOrder=swapHistoryPendingListRef.current.filter(function(item){return item.status===ESwapTxHistoryStatus.SUCCESS;}).length;if(successOrder>orderFinishCheckBalanceRef.current){void loadSwapSelectTokenDetail(type,swapAddressInfoRef.current,true);setOrderFinishCheckBalance(successOrder);}}}});}","import _defineProperty from\"@babel/runtime/helpers/defineProperty\";function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}import{memo}from'react';import{ProviderJotaiContextSwap}from\"../../../states/jotai/contexts/swap\";import{jotaiContextStore}from\"../../../states/jotai/utils/jotaiContextStore\";import{JotaiContextStoreMirrorTracker}from\"../../../states/jotai/utils/JotaiContextStoreMirrorTracker\";import{useSwapContextStoreInitData}from\"./SwapRootProvider\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var SwapProviderMirror=memo(function(props){var{children,storeName}=props;var data=useSwapContextStoreInitData(storeName);var store=jotaiContextStore.getOrCreateStore(data);return _jsxs(_Fragment,{children:[_jsx(JotaiContextStoreMirrorTracker,_objectSpread({},data)),_jsx(ProviderJotaiContextSwap,{store:store,children:children})]});});SwapProviderMirror.displayName='SwapProviderMirror';","import{memo,useCallback,useMemo,useState}from'react';import BigNumber from'bignumber.js';import{useIntl}from'react-intl';import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import{Icon,SizableText,XStack,YStack}from'@onekeyhq/components';import{ETranslations}from'@onekeyhq/shared/src/locale';import{ESwapTabSwitchType}from'@onekeyhq/shared/types/swap/types';import{Token}from\"../../../components/Token\";import{useSwapTypeSwitchAtom}from\"../../../states/jotai/contexts/swap\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var needFoldingMinCount=4;var SwapRecentTokenPairsGroup=function({onSelectTokenPairs,tokenPairs,fromTokenAmount}){var intl=useIntl();var[openMore,setOpenMore]=useState(false);var[swapTypeSwitchAtom]=useSwapTypeSwitchAtom();var fromTokenAmountBN=new BigNumber(fromTokenAmount!=null?fromTokenAmount:0);var tokenPairsInCurrentType=useMemo(function(){if(swapTypeSwitchAtom===ESwapTabSwitchType.BRIDGE){return tokenPairs?.filter(function(tokens){return tokens.fromToken.networkId!==tokens.toToken.networkId;});}if(swapTypeSwitchAtom===ESwapTabSwitchType.SWAP){return tokenPairs?.filter(function(tokens){return tokens.toToken.networkId===tokens.fromToken.networkId;});}return[];},[swapTypeSwitchAtom,tokenPairs]);var rerenderRecentTokenPairs=useCallback(function(){var tokenPairsToShow=!openMore&&tokenPairsInCurrentType.length>=needFoldingMinCount?tokenPairsInCurrentType.slice(0,needFoldingMinCount-1):tokenPairsInCurrentType;return _jsx(XStack,{pt:\"$1\",pb:\"$3\",gap:\"$1.5\",flexWrap:\"wrap\",children:_jsxs(_Fragment,{children:[tokenPairsToShow.map(function(tokenPair,index){return _jsxs(XStack,{role:\"button\",userSelect:\"none\",alignItems:\"center\",pl:\"$1\",pr:\"$2.5\",py:\"$1\",bg:\"$bg\",borderRadius:\"$4\",borderWidth:StyleSheet.hairlineWidth,borderColor:\"$borderSubdued\",hoverStyle:{bg:'$bgHover'},pressStyle:{bg:'$bgActive'},focusable:true,focusVisibleStyle:{outlineColor:'$focusRing',outlineStyle:'solid',outlineWidth:2,outlineOffset:2},onPress:function(){onSelectTokenPairs(tokenPair);},children:[_jsx(YStack,{borderWidth:2,borderRadius:\"$full\",borderColor:\"$bg\",my:\"$-0.5\",children:_jsx(Token,{w:\"$4.5\",h:\"$4.5\",size:\"sm\",tokenImageUri:tokenPair.fromToken.logoURI})}),_jsx(YStack,{borderWidth:2,borderRadius:\"$full\",borderColor:\"$bg\",ml:\"$-2\",my:\"$-0.5\",children:_jsx(Token,{w:\"$4.5\",h:\"$4.5\",size:\"sm\",tokenImageUri:tokenPair.toToken.logoURI})}),_jsx(SizableText,{ml:\"$1\",size:\"$bodyMdMedium\",children:`${tokenPair.fromToken.symbol}  ${tokenPair.toToken.symbol}`})]},index);}),tokenPairsInCurrentType.length>=needFoldingMinCount?_jsxs(XStack,{role:\"button\",userSelect:\"none\",alignItems:\"center\",pl:\"$1.5\",pr:\"$2.5\",py:\"$1\",bg:\"$bg\",gap:\"$1\",borderRadius:\"$full\",borderWidth:StyleSheet.hairlineWidth,borderColor:\"$borderSubdued\",hoverStyle:{bg:'$bgHover'},pressStyle:{bg:'$bgActive'},focusable:true,focusVisibleStyle:{outlineColor:'$focusRing',outlineStyle:'solid',outlineWidth:2,outlineOffset:2},onPress:function(){setOpenMore(!openMore);},children:[_jsx(Icon,{size:\"$4.5\",name:openMore?'MinusSmallOutline':'PlusSmallOutline',color:\"$iconSubdued\"}),_jsx(SizableText,{size:\"$bodyMdMedium\",children:openMore?intl.formatMessage({id:ETranslations.global_show_less}):intl.formatMessage({id:ETranslations.global_show_more})})]},\"more-token-pairs\"):null]})});},[intl,onSelectTokenPairs,openMore,tokenPairsInCurrentType]);if(!fromTokenAmountBN.isZero()&&!fromTokenAmountBN.isNaN()||!tokenPairsInCurrentType?.length){return null;}return _jsxs(YStack,{gap:\"$1\",\"data-sentry-element\":\"YStack\",\"data-sentry-component\":\"SwapRecentTokenPairsGroup\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/components/SwapRecentTokenPairsGroup.tsx\",children:[_jsx(SizableText,{size:\"$bodyMd\",color:\"$textSubdued\",\"data-sentry-element\":\"SizableText\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/components/SwapRecentTokenPairsGroup.tsx\",children:intl.formatMessage({id:ETranslations.swap_page_recent_trade})}),rerenderRecentTokenPairs()]});};export default memo(SwapRecentTokenPairsGroup);","import _isNil from\"lodash/isNil\";import{useCallback,useEffect,useMemo,useRef}from'react';import BigNumber from'bignumber.js';import{useIntl}from'react-intl';import{useRouteIsFocused as useIsFocused}from'@onekeyhq/kit/src/hooks/useRouteIsFocused';import{useSettingsAtom,useSettingsPersistAtom}from'@onekeyhq/kit-bg/src/states/jotai/atoms';import{ETranslations}from'@onekeyhq/shared/src/locale';import{swapQuoteIntervalMaxCount,swapSlippageAutoValue}from'@onekeyhq/shared/types/swap/SwapProvider.constants';import{ESwapAlertLevel,ESwapDirectionType,ESwapSlippageSegmentKey}from'@onekeyhq/shared/types/swap/types';import{useDebounce}from\"../../../hooks/useDebounce\";import{useSwapActions,useSwapAlertsAtom,useSwapBuildTxFetchingAtom,useSwapFromTokenAmountAtom,useSwapQuoteApproveAllowanceUnLimitAtom,useSwapQuoteCurrentSelectAtom,useSwapQuoteEventTotalCountAtom,useSwapQuoteFetchingAtom,useSwapQuoteIntervalCountAtom,useSwapQuoteListAtom,useSwapSelectFromTokenAtom,useSwapSelectToTokenAtom,useSwapSelectedFromTokenBalanceAtom,useSwapShouldRefreshQuoteAtom,useSwapSilenceQuoteLoading}from\"../../../states/jotai/contexts/swap\";import{useSwapAddressInfo}from\"./useSwapAccount\";function useSwapWarningCheck(){var swapFromAddressInfo=useSwapAddressInfo(ESwapDirectionType.FROM);var swapToAddressInfo=useSwapAddressInfo(ESwapDirectionType.TO);var[fromToken]=useSwapSelectFromTokenAtom();var[toToken]=useSwapSelectToTokenAtom();var[quoteCurrentSelect]=useSwapQuoteCurrentSelectAtom();var[fromTokenAmount]=useSwapFromTokenAmountAtom();var[fromTokenBalance]=useSwapSelectedFromTokenBalanceAtom();var{checkSwapWarning}=useSwapActions().current;var refContainer=useRef({swapFromAddressInfo:{address:undefined,networkId:undefined,accountInfo:undefined,activeAccount:undefined},swapToAddressInfo:{address:undefined,networkId:undefined,accountInfo:undefined,activeAccount:undefined}});var isFocused=useIsFocused();var asyncRefContainer=useCallback(function(){if(refContainer.current.swapFromAddressInfo!==swapFromAddressInfo){refContainer.current.swapFromAddressInfo=swapFromAddressInfo;}if(refContainer.current.swapToAddressInfo!==swapToAddressInfo){refContainer.current.swapToAddressInfo=swapToAddressInfo;}},[swapFromAddressInfo,swapToAddressInfo]);useEffect(function(){if(isFocused){asyncRefContainer();void checkSwapWarning(refContainer.current.swapFromAddressInfo,refContainer.current.swapToAddressInfo);}},[asyncRefContainer,checkSwapWarning,fromToken,fromTokenAmount,toToken,fromTokenBalance,quoteCurrentSelect,isFocused]);}export function useSwapQuoteLoading(){var[quoteFetching]=useSwapQuoteFetchingAtom();var[silenceQuoteLoading]=useSwapSilenceQuoteLoading();return quoteFetching||silenceQuoteLoading;}export function useSwapQuoteEventFetching(){var[quoteEventTotalCount]=useSwapQuoteEventTotalCountAtom();var[quoteResult]=useSwapQuoteListAtom();return quoteEventTotalCount>0&&quoteResult.length<quoteEventTotalCount;}export function useSwapActionState(){var intl=useIntl();var quoteLoading=useSwapQuoteLoading();var quoteEventFetching=useSwapQuoteEventFetching();var[quoteCurrentSelect]=useSwapQuoteCurrentSelectAtom();var[buildTxFetching]=useSwapBuildTxFetchingAtom();var[fromTokenAmount]=useSwapFromTokenAmountAtom();var[fromToken]=useSwapSelectFromTokenAtom();var[toToken]=useSwapSelectToTokenAtom();var[settingsPersistAtom]=useSettingsPersistAtom();var[shouldRefreshQuote]=useSwapShouldRefreshQuoteAtom();var[swapQuoteApproveAllowanceUnLimit]=useSwapQuoteApproveAllowanceUnLimitAtom();useSwapWarningCheck();var[alerts]=useSwapAlertsAtom();var[selectedFromTokenBalance]=useSwapSelectedFromTokenBalanceAtom();var isCrossChain=fromToken?.networkId!==toToken?.networkId;var swapFromAddressInfo=useSwapAddressInfo(ESwapDirectionType.FROM);var swapToAddressInfo=useSwapAddressInfo(ESwapDirectionType.TO);var[quoteIntervalCount]=useSwapQuoteIntervalCountAtom();var isRefreshQuote=quoteIntervalCount>swapQuoteIntervalMaxCount||shouldRefreshQuote;var hasError=alerts.states.some(function(item){return item.alertLevel===ESwapAlertLevel.ERROR;});var quoteResultNoMatch=useMemo(function(){return quoteCurrentSelect&&(quoteCurrentSelect.fromTokenInfo.networkId!==fromToken?.networkId||quoteCurrentSelect.toTokenInfo.networkId!==toToken?.networkId||quoteCurrentSelect.fromTokenInfo.contractAddress!==fromToken?.contractAddress||quoteCurrentSelect.toTokenInfo.contractAddress!==toToken?.contractAddress)||quoteCurrentSelect?.allowanceResult&&quoteCurrentSelect.allowanceResult.amount!==fromTokenAmount;},[fromToken?.contractAddress,fromToken?.networkId,fromTokenAmount,quoteCurrentSelect,toToken?.contractAddress,toToken?.networkId]);var quoteResultNoMatchDebounce=useDebounce(quoteResultNoMatch,10);var actionInfo=useMemo(function(){var infoRes={disable:!(!hasError&&!!quoteCurrentSelect),label:intl.formatMessage({id:ETranslations.swap_page_swap_button})};if(!swapFromAddressInfo.address||!swapToAddressInfo.address||quoteCurrentSelect?.fromAmount!==fromTokenAmount){infoRes.disable=true;}if(quoteLoading||quoteEventFetching){infoRes.label=intl.formatMessage({id:ETranslations.swap_page_button_fetching_quotes});}else{if(isCrossChain&&fromToken&&toToken){infoRes.label=intl.formatMessage({id:ETranslations.swap_page_button_cross_chain});}if(quoteCurrentSelect&&quoteCurrentSelect.isWrapped){infoRes.label=intl.formatMessage({id:ETranslations.swap_page_button_wrap});}if(quoteCurrentSelect&&quoteCurrentSelect.allowanceResult){infoRes.label=intl.formatMessage({id:settingsPersistAtom.swapBatchApproveAndSwap?ETranslations.swap_page_approve_and_swap:ETranslations.global_approve});}if(quoteCurrentSelect&&!quoteCurrentSelect.toAmount&&!quoteCurrentSelect.limit){infoRes.label=intl.formatMessage({id:ETranslations.swap_page_alert_no_provider_supports_trade});infoRes.disable=true;}if(quoteCurrentSelect&&quoteCurrentSelect.toAmount&&!swapToAddressInfo.address){infoRes.label=intl.formatMessage({id:ETranslations.swap_page_button_enter_a_recipient});infoRes.disable=true;}var balanceBN=new BigNumber(selectedFromTokenBalance!=null?selectedFromTokenBalance:0);var fromTokenAmountBN=new BigNumber(fromTokenAmount);if(fromToken&&swapFromAddressInfo.address&&balanceBN.lt(fromTokenAmountBN)){infoRes.label=intl.formatMessage({id:ETranslations.swap_page_button_insufficient_balance});infoRes.disable=true;}if(!fromToken||!toToken){infoRes.label=intl.formatMessage({id:ETranslations.swap_page_button_select_token});infoRes.disable=true;}if(!fromTokenAmount){infoRes.label=intl.formatMessage({id:ETranslations.swap_page_button_enter_amount});infoRes.disable=true;}if(isRefreshQuote||quoteResultNoMatchDebounce){infoRes.label=intl.formatMessage({id:ETranslations.swap_page_button_refresh_quotes});infoRes.disable=false;}}return infoRes;},[fromToken,fromTokenAmount,hasError,intl,isCrossChain,isRefreshQuote,quoteCurrentSelect,quoteEventFetching,quoteLoading,quoteResultNoMatchDebounce,selectedFromTokenBalance,settingsPersistAtom.swapBatchApproveAndSwap,swapFromAddressInfo.address,swapToAddressInfo.address,toToken]);var stepState={label:actionInfo.label,isLoading:buildTxFetching,disabled:actionInfo.disable||quoteLoading||quoteEventFetching,approveUnLimit:swapQuoteApproveAllowanceUnLimit,isApprove:!!quoteCurrentSelect?.allowanceResult,isCrossChain,shoutResetApprove:!!quoteCurrentSelect?.allowanceResult?.shouldResetApprove,isWrapped:!!quoteCurrentSelect?.isWrapped,isRefreshQuote:(isRefreshQuote||quoteResultNoMatchDebounce)&&!quoteLoading&&!quoteEventFetching};return stepState;}export function useSwapSlippagePercentageModeInfo(){var[{swapSlippagePercentageCustomValue,swapSlippagePercentageMode}]=useSettingsAtom();var[quoteResult]=useSwapQuoteCurrentSelectAtom();var res=useMemo(function(){var autoValue=swapSlippageAutoValue;var value=swapSlippageAutoValue;if(!_isNil(quoteResult?.autoSuggestedSlippage)){autoValue=quoteResult.autoSuggestedSlippage;}if(swapSlippagePercentageMode===ESwapSlippageSegmentKey.AUTO){value=autoValue;}else{value=swapSlippagePercentageCustomValue;}return{slippageItem:{key:swapSlippagePercentageMode,value},autoValue};},[quoteResult?.autoSuggestedSlippage,swapSlippagePercentageCustomValue,swapSlippagePercentageMode]);return res;}","import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}import{useCallback}from'react';import BigNumber from'bignumber.js';import{useIntl}from'react-intl';import{EPageType,Toast,usePageType}from'@onekeyhq/components';import{useInAppNotificationAtom,useSettingsAtom,useSettingsPersistAtom}from'@onekeyhq/kit-bg/src/states/jotai/atoms';import{EWrappedType}from'@onekeyhq/kit-bg/src/vaults/types';import{ETranslations}from'@onekeyhq/shared/src/locale';import{defaultLogger}from'@onekeyhq/shared/src/logger/logger';import accountUtils from'@onekeyhq/shared/src/utils/accountUtils';import{numberFormat,toBigIntHex}from'@onekeyhq/shared/src/utils/numberUtils';import{equalTokenNoCaseSensitive}from'@onekeyhq/shared/src/utils/tokenUtils';import{swapApproveResetValue}from'@onekeyhq/shared/types/swap/SwapProvider.constants';import{EProtocolOfExchange,ESwapApproveTransactionStatus,ESwapDirectionType,SwapBuildUseMultiplePopoversNetworkIds}from'@onekeyhq/shared/types/swap/types';import backgroundApiProxy from\"../../../background/instance/backgroundApiProxy\";import{useSendConfirm}from\"../../../hooks/useSendConfirm\";import{useSwapBuildTxFetchingAtom,useSwapFromTokenAmountAtom,useSwapManualSelectQuoteProvidersAtom,useSwapQuoteCurrentSelectAtom,useSwapQuoteEventTotalCountAtom,useSwapQuoteListAtom,useSwapSelectFromTokenAtom,useSwapSelectToTokenAtom,useSwapShouldRefreshQuoteAtom}from\"../../../states/jotai/contexts/swap\";import{useSwapAddressInfo}from\"./useSwapAccount\";import{useSwapSlippagePercentageModeInfo}from\"./useSwapState\";import{useSwapTxHistoryActions}from\"./useSwapTxHistory\";export function useSwapBuildTx(){var _swapFromAddressInfo$,_swapFromAddressInfo$2;var intl=useIntl();var[fromToken]=useSwapSelectFromTokenAtom();var[toToken]=useSwapSelectToTokenAtom();var{slippageItem}=useSwapSlippagePercentageModeInfo();var[selectQuote]=useSwapQuoteCurrentSelectAtom();var[,setSwapQuoteResultList]=useSwapQuoteListAtom();var[,setSwapQuoteEventTotalCount]=useSwapQuoteEventTotalCountAtom();var[,setSwapBuildTxFetching]=useSwapBuildTxFetchingAtom();var[inAppNotificationAtom,setInAppNotificationAtom]=useInAppNotificationAtom();var[settingsPersistAtom]=useSettingsPersistAtom();var[,setSwapFromTokenAmount]=useSwapFromTokenAmountAtom();var[,setSwapShouldRefreshQuote]=useSwapShouldRefreshQuoteAtom();var swapFromAddressInfo=useSwapAddressInfo(ESwapDirectionType.FROM);var swapToAddressInfo=useSwapAddressInfo(ESwapDirectionType.TO);var[,setSwapManualSelectQuoteProviders]=useSwapManualSelectQuoteProvidersAtom();var{generateSwapHistoryItem}=useSwapTxHistoryActions();var[{isFirstTimeSwap},setPersistSettings]=useSettingsPersistAtom();var[,setSettings]=useSettingsAtom();var{navigationToSendConfirm}=useSendConfirm({accountId:(_swapFromAddressInfo$=swapFromAddressInfo.accountInfo?.account?.id)!=null?_swapFromAddressInfo$:'',networkId:(_swapFromAddressInfo$2=swapFromAddressInfo.networkId)!=null?_swapFromAddressInfo$2:''});var pageType=usePageType();var syncRecentTokenPairs=useCallback(function(){var _ref=_asyncToGenerator(function*({swapFromToken,swapToToken}){yield backgroundApiProxy.serviceSwap.swapRecentTokenPairsUpdate({fromToken:swapFromToken,toToken:swapToToken});});return function(_x){return _ref.apply(this,arguments);};}(),[]);var handleBuildTxSuccess=useCallback(function(){var _ref2=_asyncToGenerator(function*(data){if(data?.[0]){setSwapFromTokenAmount('');setSwapQuoteResultList([]);setSwapQuoteEventTotalCount(0);setSettings(function(v){return _objectSpread(_objectSpread({},v),{},{swapToAnotherAccountSwitchOn:false});});var transactionSignedInfo=data[0].signedTx;var transactionDecodedInfo=data[0].decodedTx;var txId=transactionSignedInfo.txid;var{swapInfo}=transactionSignedInfo;var{totalFeeInNative,totalFeeFiatValue,networkId}=transactionDecodedInfo;if(swapInfo){yield generateSwapHistoryItem({txId,gasFeeFiatValue:totalFeeFiatValue,gasFeeInNative:totalFeeInNative,swapTxInfo:swapInfo});if(swapInfo.sender.token.networkId===swapInfo.receiver.token.networkId){void backgroundApiProxy.serviceNotification.blockNotificationForTxId({networkId,tx:txId});}}}setSwapBuildTxFetching(false);});return function(_x2){return _ref2.apply(this,arguments);};}(),[generateSwapHistoryItem,setSwapBuildTxFetching,setSwapFromTokenAmount,setSwapQuoteResultList,setSwapQuoteEventTotalCount,setSettings]);var handleApproveTxSuccess=useCallback(function(){var _ref3=_asyncToGenerator(function*(data){if(data?.[0]){var transactionSignedInfo=data[0].signedTx;var txId=transactionSignedInfo.txid;if(inAppNotificationAtom.swapApprovingTransaction&&!inAppNotificationAtom.swapApprovingTransaction.resetApproveValue){void backgroundApiProxy.serviceNotification.blockNotificationForTxId({networkId:inAppNotificationAtom.swapApprovingTransaction.fromToken.networkId,tx:txId});}if(data[0].approveInfo?.swapApproveRes){setSwapManualSelectQuoteProviders(data[0].approveInfo?.swapApproveRes);}setInAppNotificationAtom(function(prev){if(prev.swapApprovingTransaction){return _objectSpread(_objectSpread({},prev),{},{swapApprovingTransaction:_objectSpread(_objectSpread({},prev.swapApprovingTransaction),{},{txId})});}return prev;});}});return function(_x3){return _ref3.apply(this,arguments);};}(),[inAppNotificationAtom.swapApprovingTransaction,setInAppNotificationAtom,setSwapManualSelectQuoteProviders]);var handleTxFail=useCallback(function(){setSwapBuildTxFetching(false);},[setSwapBuildTxFetching]);var cancelBuildTx=useCallback(function(){handleTxFail();setSwapShouldRefreshQuote(true);},[handleTxFail,setSwapShouldRefreshQuote]);var cancelApproveTx=useCallback(function(){handleTxFail();setInAppNotificationAtom(function(prev){if(prev.swapApprovingTransaction){return _objectSpread(_objectSpread({},prev),{},{swapApprovingTransaction:_objectSpread(_objectSpread({},prev.swapApprovingTransaction),{},{status:ESwapApproveTransactionStatus.CANCEL})});}return prev;});},[handleTxFail,setInAppNotificationAtom]);var checkOtherFee=useCallback(function(){var _ref4=_asyncToGenerator(function*(quoteResult){var otherFeeInfo=quoteResult?.fee?.otherFeeInfos;var checkRes=true;if(otherFeeInfo?.length){yield Promise.all(otherFeeInfo.map(function(){var _ref5=_asyncToGenerator(function*(item){var tokenBalanceInfo=yield backgroundApiProxy.serviceSwap.fetchSwapTokenDetails({networkId:item.token?.networkId,contractAddress:item.token?.contractAddress,accountAddress:swapFromAddressInfo.address,accountId:swapFromAddressInfo.accountInfo?.account?.id});if(tokenBalanceInfo?.length){var _tokenBalanceInfo$0$b,_item$amount,_selectQuote$fromAmou;var tokenBalanceBN=new BigNumber((_tokenBalanceInfo$0$b=tokenBalanceInfo[0].balanceParsed)!=null?_tokenBalanceInfo$0$b:0);var shouldAddFromAmount=equalTokenNoCaseSensitive({token1:item.token,token2:fromToken});var tokenAmountBN=new BigNumber((_item$amount=item.amount)!=null?_item$amount:0);var fromTokenAmountBN=new BigNumber((_selectQuote$fromAmou=selectQuote?.fromAmount)!=null?_selectQuote$fromAmou:0);var finalTokenAmount=shouldAddFromAmount?tokenAmountBN.plus(fromTokenAmountBN).toFixed():tokenAmountBN.toFixed();if(tokenBalanceBN.lt(finalTokenAmount)){Toast.error({title:intl.formatMessage({id:ETranslations.swap_page_toast_insufficient_balance_title},{token:item.token.symbol}),message:intl.formatMessage({id:ETranslations.swap_page_toast_insufficient_balance_content},{token:item.token.symbol,number:numberFormat(tokenAmountBN.toFixed(),{formatter:'balance'})})});checkRes=false;}}});return function(_x5){return _ref5.apply(this,arguments);};}()));}return checkRes;});return function(_x4){return _ref4.apply(this,arguments);};}(),[fromToken,intl,selectQuote?.fromAmount,swapFromAddressInfo.accountInfo?.account?.id,swapFromAddressInfo.address]);var wrappedTx=useCallback(_asyncToGenerator(function*(){if(fromToken&&toToken&&selectQuote?.fromAmount&&selectQuote?.toAmount&&swapFromAddressInfo.address&&swapToAddressInfo.address&&swapFromAddressInfo.networkId){setSwapBuildTxFetching(true);var wrappedType=fromToken.isNative?EWrappedType.DEPOSIT:EWrappedType.WITHDRAW;var wrappedInfo={from:swapFromAddressInfo.address,type:wrappedType,contract:wrappedType===EWrappedType.WITHDRAW?fromToken.contractAddress:toToken.contractAddress,amount:selectQuote?.fromAmount};var swapInfo={sender:{amount:selectQuote?.fromAmount,token:fromToken,accountInfo:{accountId:swapFromAddressInfo.accountInfo?.account?.id,networkId:fromToken.networkId}},receiver:{amount:selectQuote.toAmount,token:toToken,accountInfo:{accountId:swapToAddressInfo.accountInfo?.account?.id,networkId:toToken.networkId}},accountAddress:swapFromAddressInfo.address,receivingAddress:swapToAddressInfo.address,swapBuildResData:{result:selectQuote}};yield navigationToSendConfirm({wrappedInfo,swapInfo,isInternalSwap:true,onSuccess:handleBuildTxSuccess,onCancel:handleTxFail});void syncRecentTokenPairs({swapFromToken:fromToken,swapToToken:toToken});}}),[fromToken,toToken,selectQuote,swapFromAddressInfo.address,swapFromAddressInfo.networkId,swapFromAddressInfo.accountInfo?.account?.id,swapToAddressInfo.address,swapToAddressInfo.accountInfo?.account?.id,setSwapBuildTxFetching,navigationToSendConfirm,handleBuildTxSuccess,handleTxFail,syncRecentTokenPairs]);var createBuildTx=useCallback(_asyncToGenerator(function*(){if(fromToken&&toToken&&selectQuote?.fromAmount&&slippageItem&&selectQuote?.toAmount&&swapFromAddressInfo.address&&swapToAddressInfo.address&&swapFromAddressInfo.networkId){try{var checkRes=yield checkOtherFee(selectQuote);if(!checkRes){return null;}var res=yield backgroundApiProxy.serviceSwap.fetchBuildTx({fromToken,toToken,toTokenAmount:selectQuote.toAmount,fromTokenAmount:selectQuote.fromAmount,slippagePercentage:slippageItem.value,receivingAddress:swapToAddressInfo.address,userAddress:swapFromAddressInfo.address,provider:selectQuote?.info.provider,accountId:swapFromAddressInfo.accountInfo?.account?.id,quoteResultCtx:selectQuote?.quoteResultCtx});if(res){var _res$result$gasLimit,_selectQuote$gasLimit;var transferInfo;var encodedTx;if(res?.swftOrder){var _res$result$fromToken;encodedTx=undefined;transferInfo={from:swapFromAddressInfo.address,tokenInfo:_objectSpread(_objectSpread({},res.result.fromTokenInfo),{},{isNative:!!res.result.fromTokenInfo.isNative,address:res.result.fromTokenInfo.contractAddress,name:(_res$result$fromToken=res.result.fromTokenInfo.name)!=null?_res$result$fromToken:res.result.fromTokenInfo.symbol}),to:res.swftOrder.platformAddr,amount:res.swftOrder.depositCoinAmt,memo:res.swftOrder.memo};}else if(res?.changellyOrder){var _res$result$fromToken2;encodedTx=undefined;transferInfo={from:swapFromAddressInfo.address,tokenInfo:_objectSpread(_objectSpread({},res.result.fromTokenInfo),{},{isNative:!!res.result.fromTokenInfo.isNative,address:res.result.fromTokenInfo.contractAddress,name:(_res$result$fromToken2=res.result.fromTokenInfo.name)!=null?_res$result$fromToken2:res.result.fromTokenInfo.symbol}),to:res.changellyOrder.payinAddress,amount:res.changellyOrder.amountExpectedFrom,memo:res.changellyOrder.payinExtraId};}else if(res?.thorSwapCallData){var _res$result$fromToken3;encodedTx=undefined;transferInfo={from:swapFromAddressInfo.address,tokenInfo:_objectSpread(_objectSpread({},res.result.fromTokenInfo),{},{isNative:!!res.result.fromTokenInfo.isNative,address:res.result.fromTokenInfo.contractAddress,name:(_res$result$fromToken3=res.result.fromTokenInfo.name)!=null?_res$result$fromToken3:res.result.fromTokenInfo.symbol}),to:res.thorSwapCallData.vault,opReturn:res.thorSwapCallData.hasStreamingSwap?res.thorSwapCallData.memoStreamingSwap:res.thorSwapCallData.memo,amount:new BigNumber(res.thorSwapCallData.amount).shiftedBy(-fromToken.decimals).toFixed()};}else if(res?.OKXTxObject){var _swapFromAddressInfo$3;encodedTx=yield backgroundApiProxy.serviceSwap.buildOkxSwapEncodedTx({accountId:(_swapFromAddressInfo$3=swapFromAddressInfo?.accountInfo?.account?.id)!=null?_swapFromAddressInfo$3:'',networkId:res.result.fromTokenInfo.networkId,okxTx:res.OKXTxObject,fromTokenInfo:res.result.fromTokenInfo});}else if(res?.tx){transferInfo=undefined;if(typeof res.tx!=='string'&&res.tx.data){var _res$tx$value;var valueHex=toBigIntHex(new BigNumber((_res$tx$value=res.tx.value)!=null?_res$tx$value:0));encodedTx=_objectSpread(_objectSpread({},res?.tx),{},{value:valueHex,from:swapFromAddressInfo.address});}else{encodedTx=res.tx;}}var buildGasLimitBN=new BigNumber((_res$result$gasLimit=res.result?.gasLimit)!=null?_res$result$gasLimit:0);var quoteGasLimitBN=new BigNumber((_selectQuote$gasLimit=selectQuote?.gasLimit)!=null?_selectQuote$gasLimit:0);if((buildGasLimitBN.isNaN()||buildGasLimitBN.isZero())&&!quoteGasLimitBN.isNaN()&&!quoteGasLimitBN.isZero()){res.result.gasLimit=quoteGasLimitBN.toNumber();}if(!res.result?.routesData?.length&&selectQuote?.routesData?.length){res.result.routesData=selectQuote.routesData;}var swapInfo={sender:{amount:selectQuote.fromAmount,token:fromToken,accountInfo:{accountId:swapFromAddressInfo.accountInfo?.account?.id,networkId:fromToken.networkId}},receiver:{amount:selectQuote.toAmount,token:toToken,accountInfo:{accountId:swapToAddressInfo.accountInfo?.account?.id,networkId:toToken.networkId}},accountAddress:swapFromAddressInfo.address,receivingAddress:swapToAddressInfo.address,swapBuildResData:res};return{swapInfo,transferInfo,encodedTx};}}catch(e){}return null;}}),[fromToken,toToken,selectQuote,slippageItem,swapFromAddressInfo.address,swapFromAddressInfo.networkId,swapFromAddressInfo.accountInfo?.account?.id,swapToAddressInfo.address,swapToAddressInfo.accountInfo?.account?.id,checkOtherFee]);var approveTx=useCallback(function(){var _ref8=_asyncToGenerator(function*(amount,isMax,resetApproveValue){var allowanceInfo=selectQuote?.allowanceResult;if(allowanceInfo&&fromToken&&toToken&&swapFromAddressInfo.networkId&&swapFromAddressInfo.accountInfo?.account?.id&&swapFromAddressInfo.address){if(settingsPersistAtom.swapBatchApproveAndSwap){try{var _fromToken$name;setSwapBuildTxFetching(true);var approvesInfo=[];var approveInfo={owner:swapFromAddressInfo.address,spender:allowanceInfo.allowanceTarget,amount,isMax:resetApproveValue?false:isMax,tokenInfo:_objectSpread(_objectSpread({},fromToken),{},{isNative:!!fromToken.isNative,address:fromToken.contractAddress,name:(_fromToken$name=fromToken.name)!=null?_fromToken$name:fromToken.symbol}),swapApproveRes:selectQuote};approvesInfo=[approveInfo];if(resetApproveValue&&amount===swapApproveResetValue){var _fromToken$name2;var approveResetInfo={owner:swapFromAddressInfo.address,spender:allowanceInfo.allowanceTarget,amount:resetApproveValue,isMax,tokenInfo:_objectSpread(_objectSpread({},fromToken),{},{isNative:!!fromToken.isNative,address:fromToken.contractAddress,name:(_fromToken$name2=fromToken.name)!=null?_fromToken$name2:fromToken.symbol}),swapApproveRes:selectQuote};approvesInfo=[...approvesInfo,approveResetInfo];}var createBuildTxRes=yield createBuildTx();if(createBuildTxRes){var _selectQuote$fee$perc,_selectQuote$routesDa;if(accountUtils.isHwAccount({accountId:swapFromAddressInfo.accountInfo.account.id})||accountUtils.isExternalAccount({accountId:swapFromAddressInfo.accountInfo.account.id})||SwapBuildUseMultiplePopoversNetworkIds.includes(fromToken.networkId)){yield navigationToSendConfirm({approvesInfo:[approvesInfo[0]],isInternalSwap:true,onSuccess:function(){var _ref9=_asyncToGenerator(function*(data){if(approvesInfo.length>1){yield navigationToSendConfirm({approvesInfo:[approvesInfo[1]],feeInfo:SwapBuildUseMultiplePopoversNetworkIds.includes(fromToken.networkId)?undefined:data?.[0]?.feeInfo,isInternalSwap:true,onSuccess:function(){var _ref10=_asyncToGenerator(function*(dataRes){yield navigationToSendConfirm({transfersInfo:createBuildTxRes.transferInfo?[createBuildTxRes.transferInfo]:undefined,encodedTx:createBuildTxRes.encodedTx,feeInfo:SwapBuildUseMultiplePopoversNetworkIds.includes(fromToken.networkId)?undefined:dataRes?.[0]?.feeInfo,swapInfo:createBuildTxRes.swapInfo,isInternalSwap:true,onSuccess:handleBuildTxSuccess,onCancel:cancelBuildTx});});return function onSuccess(_x10){return _ref10.apply(this,arguments);};}(),onCancel:cancelBuildTx});}else{yield navigationToSendConfirm({transfersInfo:createBuildTxRes.transferInfo?[createBuildTxRes.transferInfo]:undefined,encodedTx:createBuildTxRes.encodedTx,swapInfo:createBuildTxRes.swapInfo,feeInfo:SwapBuildUseMultiplePopoversNetworkIds.includes(fromToken.networkId)?undefined:data?.[0]?.feeInfo,isInternalSwap:true,onSuccess:handleBuildTxSuccess,onCancel:cancelBuildTx});}});return function onSuccess(_x9){return _ref9.apply(this,arguments);};}(),onCancel:cancelBuildTx});}else{yield navigationToSendConfirm({isInternalSwap:true,transfersInfo:createBuildTxRes.transferInfo?[createBuildTxRes.transferInfo]:undefined,encodedTx:createBuildTxRes.encodedTx,swapInfo:createBuildTxRes.swapInfo,approvesInfo,onSuccess:handleBuildTxSuccess,onCancel:cancelBuildTx});}void syncRecentTokenPairs({swapFromToken:fromToken,swapToToken:toToken});defaultLogger.swap.createSwapOrder.swapCreateOrder({swapProvider:selectQuote?.info.provider,swapProviderName:selectQuote?.info.providerName,swapType:EProtocolOfExchange.SWAP,slippage:slippageItem.value.toString(),sourceChain:fromToken.networkId,receivedChain:toToken.networkId,sourceTokenSymbol:fromToken.symbol,receivedTokenSymbol:toToken.symbol,feeType:(_selectQuote$fee$perc=selectQuote?.fee?.percentageFee?.toString())!=null?_selectQuote$fee$perc:'0',router:JSON.stringify((_selectQuote$routesDa=selectQuote?.routesData)!=null?_selectQuote$routesDa:''),isFirstTime:isFirstTimeSwap,createFrom:pageType===EPageType.modal?'modal':'swapPage'});setPersistSettings(function(prev){return _objectSpread(_objectSpread({},prev),{},{isFirstTimeSwap:false});});}else{setSwapBuildTxFetching(false);setSwapShouldRefreshQuote(true);}}catch(e){setSwapBuildTxFetching(false);setSwapShouldRefreshQuote(true);}}else{try{var _fromToken$name3;setSwapBuildTxFetching(true);var _approveInfo={owner:swapFromAddressInfo.address,spender:allowanceInfo.allowanceTarget,amount,isMax:resetApproveValue?false:isMax,tokenInfo:_objectSpread(_objectSpread({},fromToken),{},{isNative:!!fromToken.isNative,address:fromToken.contractAddress,name:(_fromToken$name3=fromToken.name)!=null?_fromToken$name3:fromToken.symbol}),swapApproveRes:selectQuote};setInAppNotificationAtom(function(pre){var _swapFromAddressInfo$4;return _objectSpread(_objectSpread({},pre),{},{swapApprovingTransaction:{provider:selectQuote?.info.provider,fromToken,toToken,amount,useAddress:(_swapFromAddressInfo$4=swapFromAddressInfo.address)!=null?_swapFromAddressInfo$4:'',spenderAddress:allowanceInfo.allowanceTarget,status:ESwapApproveTransactionStatus.PENDING,resetApproveValue,resetApproveIsMax:isMax}});});yield navigationToSendConfirm({approvesInfo:[_approveInfo],isInternalSwap:true,onSuccess:handleApproveTxSuccess,onCancel:cancelApproveTx});}catch(e){setSwapBuildTxFetching(false);}}}});return function(_x6,_x7,_x8){return _ref8.apply(this,arguments);};}(),[selectQuote,fromToken,toToken,swapFromAddressInfo.networkId,swapFromAddressInfo.accountInfo?.account?.id,swapFromAddressInfo.address,settingsPersistAtom.swapBatchApproveAndSwap,setSwapBuildTxFetching,createBuildTx,syncRecentTokenPairs,slippageItem.value,isFirstTimeSwap,pageType,setPersistSettings,navigationToSendConfirm,cancelBuildTx,handleBuildTxSuccess,setSwapShouldRefreshQuote,setInAppNotificationAtom,handleApproveTxSuccess,cancelApproveTx]);var buildTx=useCallback(_asyncToGenerator(function*(){if(fromToken&&toToken&&selectQuote?.fromAmount&&slippageItem&&selectQuote?.toAmount&&swapFromAddressInfo.address&&swapToAddressInfo.address&&swapFromAddressInfo.networkId){setSwapBuildTxFetching(true);var createBuildTxRes=yield createBuildTx();try{if(createBuildTxRes){var _selectQuote$fee$perc2,_selectQuote$routesDa2;yield navigationToSendConfirm({isInternalSwap:true,transfersInfo:createBuildTxRes.transferInfo?[createBuildTxRes.transferInfo]:undefined,encodedTx:createBuildTxRes.encodedTx,swapInfo:createBuildTxRes.swapInfo,onSuccess:handleBuildTxSuccess,onCancel:cancelBuildTx});void syncRecentTokenPairs({swapFromToken:fromToken,swapToToken:toToken});defaultLogger.swap.createSwapOrder.swapCreateOrder({swapProvider:selectQuote?.info.provider,swapProviderName:selectQuote?.info.providerName,swapType:EProtocolOfExchange.SWAP,slippage:slippageItem.value.toString(),sourceChain:fromToken.networkId,receivedChain:toToken.networkId,sourceTokenSymbol:fromToken.symbol,receivedTokenSymbol:toToken.symbol,feeType:(_selectQuote$fee$perc2=selectQuote?.fee?.percentageFee?.toString())!=null?_selectQuote$fee$perc2:'0',router:JSON.stringify((_selectQuote$routesDa2=selectQuote?.routesData)!=null?_selectQuote$routesDa2:''),isFirstTime:isFirstTimeSwap,createFrom:pageType===EPageType.modal?'modal':'swapPage'});setPersistSettings(function(prev){return _objectSpread(_objectSpread({},prev),{},{isFirstTimeSwap:false});});}else{setSwapBuildTxFetching(false);setSwapShouldRefreshQuote(true);}}catch(e){setSwapBuildTxFetching(false);setSwapShouldRefreshQuote(true);}}}),[fromToken,toToken,selectQuote?.fromAmount,selectQuote?.toAmount,selectQuote?.info.provider,selectQuote?.info.providerName,selectQuote?.fee?.percentageFee,selectQuote?.routesData,slippageItem,swapFromAddressInfo.address,swapFromAddressInfo.networkId,swapToAddressInfo.address,setSwapBuildTxFetching,createBuildTx,navigationToSendConfirm,handleBuildTxSuccess,cancelBuildTx,syncRecentTokenPairs,isFirstTimeSwap,pageType,setPersistSettings,setSwapShouldRefreshQuote]);return{buildTx,wrappedTx,approveTx};}","import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import{useCallback}from'react';import{useSettingsPersistAtom}from'@onekeyhq/kit-bg/src/states/jotai/atoms';import{ESwapTxHistoryStatus}from'@onekeyhq/shared/types/swap/types';import backgroundApiProxy from\"../../../background/instance/backgroundApiProxy\";import{useSwapFromTokenAmountAtom,useSwapNetworksAtom,useSwapSelectFromTokenAtom,useSwapSelectToTokenAtom}from\"../../../states/jotai/contexts/swap\";export function useSwapTxHistoryActions(){var[swapNetworks]=useSwapNetworksAtom();var[,setFromToken]=useSwapSelectFromTokenAtom();var[,setToken]=useSwapSelectToTokenAtom();var[,setFromTokenAmount]=useSwapFromTokenAmountAtom();var[settingsAtom]=useSettingsPersistAtom();var generateSwapHistoryItem=useCallback(function(){var _ref=_asyncToGenerator(function*({txId,gasFeeInNative,gasFeeFiatValue,swapTxInfo}){if(swapTxInfo){var _swapTxInfo$swapBuild,_swapTxInfo$swapBuild2,_swapTxInfo$swapBuild3,_swapTxInfo$swapBuild4;var swapHistoryItem={status:ESwapTxHistoryStatus.PENDING,currency:settingsAtom.currencyInfo.symbol,accountInfo:{sender:{accountId:swapTxInfo.sender.accountInfo?.accountId,networkId:swapTxInfo.sender.accountInfo.networkId},receiver:{accountId:swapTxInfo.receiver.accountInfo?.accountId,networkId:swapTxInfo.receiver.accountInfo.networkId}},baseInfo:{toAmount:swapTxInfo.receiver.amount,fromAmount:swapTxInfo.sender.amount,fromToken:swapTxInfo.sender.token,toToken:swapTxInfo.receiver.token,fromNetwork:swapNetworks.find(function(item){return item?.networkId===swapTxInfo.sender.token.networkId;}),toNetwork:swapNetworks.find(function(item){return item?.networkId===swapTxInfo.receiver.token.networkId;})},txInfo:{txId,gasFeeFiatValue,gasFeeInNative,orderId:swapTxInfo.swapBuildResData.swftOrder?.orderId,sender:swapTxInfo.accountAddress,receiver:swapTxInfo.receivingAddress},date:{created:Date.now(),updated:Date.now()},swapInfo:{instantRate:(_swapTxInfo$swapBuild=swapTxInfo.swapBuildResData.result.instantRate)!=null?_swapTxInfo$swapBuild:'0',provider:swapTxInfo.swapBuildResData.result.info,socketBridgeScanUrl:swapTxInfo.swapBuildResData.socketBridgeScanUrl,oneKeyFee:(_swapTxInfo$swapBuild2=swapTxInfo.swapBuildResData.result.fee?.percentageFee)!=null?_swapTxInfo$swapBuild2:0,protocolFee:(_swapTxInfo$swapBuild3=swapTxInfo.swapBuildResData.result.fee?.protocolFees)!=null?_swapTxInfo$swapBuild3:0,otherFeeInfos:(_swapTxInfo$swapBuild4=swapTxInfo.swapBuildResData.result.fee?.otherFeeInfos)!=null?_swapTxInfo$swapBuild4:[],orderId:swapTxInfo.swapBuildResData.orderId,supportUrl:swapTxInfo.swapBuildResData.result.supportUrl},ctx:swapTxInfo.swapBuildResData.ctx};yield backgroundApiProxy.serviceSwap.addSwapHistoryItem(swapHistoryItem);}});return function(_x){return _ref.apply(this,arguments);};}(),[settingsAtom.currencyInfo.symbol,swapNetworks]);var swapAgainUseHistoryItem=useCallback(function(item){setFromToken(item?.baseInfo.fromToken);setToken(item?.baseInfo.toToken);setFromTokenAmount(item?.baseInfo.fromAmount);},[setFromToken,setFromTokenAmount,setToken]);return{generateSwapHistoryItem,swapAgainUseHistoryItem};}","import _defineProperty from\"@babel/runtime/helpers/defineProperty\";function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}import{memo,useCallback,useMemo,useRef}from'react';import{useIntl}from'react-intl';import{Button,Dialog,EPageType,Icon,Page,Popover,SizableText,Stack,XStack,useMedia,usePageType}from'@onekeyhq/components';import{useSwapActions,useSwapFromTokenAmountAtom,useSwapQuoteCurrentSelectAtom,useSwapSelectFromTokenAtom,useSwapSelectToTokenAtom}from'@onekeyhq/kit/src/states/jotai/contexts/swap';import{useSettingsPersistAtom}from'@onekeyhq/kit-bg/src/states/jotai/atoms';import{ETranslations}from'@onekeyhq/shared/src/locale';import{openUrlExternal}from'@onekeyhq/shared/src/utils/openUrlUtils';import{ESwapDirectionType}from'@onekeyhq/shared/types/swap/types';import{useSwapAddressInfo,useSwapRecipientAddressInfo}from\"../../hooks/useSwapAccount\";import{useSwapActionState,useSwapSlippagePercentageModeInfo}from\"../../hooks/useSwapState\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var SwapActionsState=function({onBuildTx,onApprove,onWrapped,onOpenRecipientAddress}){var intl=useIntl();var[fromToken]=useSwapSelectFromTokenAtom();var[toToken]=useSwapSelectToTokenAtom();var[fromAmount]=useSwapFromTokenAmountAtom();var[currentQuoteRes]=useSwapQuoteCurrentSelectAtom();var swapFromAddressInfo=useSwapAddressInfo(ESwapDirectionType.FROM);var{cleanQuoteInterval,quoteAction}=useSwapActions().current;var swapActionState=useSwapActionState();var{slippageItem}=useSwapSlippagePercentageModeInfo();var swapSlippageRef=useRef(slippageItem);var[{swapEnableRecipientAddress}]=useSettingsPersistAtom();var[{swapBatchApproveAndSwap}]=useSettingsPersistAtom();var swapRecipientAddressInfo=useSwapRecipientAddressInfo(swapEnableRecipientAddress);if(swapSlippageRef.current!==slippageItem){swapSlippageRef.current=slippageItem;}var handleApprove=useCallback(function(){if(swapActionState.shoutResetApprove){Dialog.confirm({onConfirmText:intl.formatMessage({id:ETranslations.global_continue}),onConfirm:function(){onApprove(fromAmount,swapActionState.approveUnLimit,true);},showCancelButton:true,title:intl.formatMessage({id:ETranslations.swap_page_provider_approve_usdt_dialog_title}),description:intl.formatMessage({id:ETranslations.swap_page_provider_approve_usdt_dialog_content}),icon:'ErrorOutline'});}else{onApprove(fromAmount,swapActionState.approveUnLimit);}},[fromAmount,intl,onApprove,swapActionState.approveUnLimit,swapActionState.shoutResetApprove]);var pageType=usePageType();var{md}=useMedia();var onActionHandler=useCallback(function(){if(swapActionState.isRefreshQuote){void quoteAction(swapSlippageRef.current,swapFromAddressInfo?.address,swapFromAddressInfo?.accountInfo?.account?.id);}else{cleanQuoteInterval();if(swapActionState.isApprove){handleApprove();return;}if(swapActionState.isWrapped){onWrapped();return;}onBuildTx();}},[cleanQuoteInterval,handleApprove,onBuildTx,onWrapped,quoteAction,swapActionState.isApprove,swapActionState.isRefreshQuote,swapActionState.isWrapped,swapFromAddressInfo?.accountInfo?.account?.id,swapFromAddressInfo?.address]);var onActionHandlerBefore=useCallback(function(){if(!swapActionState.isRefreshQuote&&currentQuoteRes?.quoteShowTip){var _currentQuoteRes$quot,_currentQuoteRes$quot2,_ref;Dialog.confirm({onConfirmText:intl.formatMessage({id:ETranslations.global_continue}),onConfirm:function(){onActionHandler();},title:(_currentQuoteRes$quot=currentQuoteRes?.quoteShowTip.title)!=null?_currentQuoteRes$quot:'',description:(_currentQuoteRes$quot2=currentQuoteRes.quoteShowTip.detail)!=null?_currentQuoteRes$quot2:'',icon:(_ref=currentQuoteRes?.quoteShowTip.icon)!=null?_ref:'ChecklistBoxOutline',renderContent:currentQuoteRes.quoteShowTip?.link?_jsx(Button,{variant:\"tertiary\",size:\"small\",alignSelf:\"flex-start\",icon:\"QuestionmarkOutline\",onPress:function(){if(currentQuoteRes.quoteShowTip?.link){openUrlExternal(currentQuoteRes.quoteShowTip?.link);}},children:intl.formatMessage({id:ETranslations.global_learn_more})}):undefined});}else{onActionHandler();}},[currentQuoteRes?.quoteShowTip,intl,onActionHandler,swapActionState.isRefreshQuote]);var shouldShowRecipient=useMemo(function(){return swapEnableRecipientAddress&&swapRecipientAddressInfo?.showAddress&&fromToken&&toToken&&currentQuoteRes?.toTokenInfo.networkId===toToken.networkId;},[swapEnableRecipientAddress,currentQuoteRes?.toTokenInfo.networkId,fromToken,swapRecipientAddressInfo?.showAddress,toToken]);var approveStepComponent=useMemo(function(){if(swapActionState.isApprove&&!swapBatchApproveAndSwap){var _fromToken$symbol;return _jsxs(XStack,_objectSpread(_objectSpread({gap:\"$1\"},pageType===EPageType.modal&&!md?{}:{pb:'$4'}),{},{children:[_jsx(Popover,{title:intl.formatMessage({id:ETranslations.global_approve}),placement:\"top-start\",renderContent:_jsx(SizableText,{size:\"$bodyLg\",$gtMd:{size:'$bodyMd',pt:'$5'},pb:\"$5\",px:\"$5\",children:intl.formatMessage({id:ETranslations.swap_page_swap_steps_1_approve_dialog})}),renderTrigger:_jsxs(XStack,{userSelect:\"none\",hoverStyle:{opacity:0.5},children:[_jsx(SizableText,{size:\"$bodyMdMedium\",pr:\"$1\",children:intl.formatMessage({id:ETranslations.swap_page_swap_steps_1},{tokenSymbol:(_fromToken$symbol=fromToken?.symbol)!=null?_fromToken$symbol:''})}),_jsx(Icon,{size:\"$5\",color:\"$iconSubdued\",name:\"QuestionmarkOutline\"})]})}),_jsx(Icon,{name:\"ArrowRightOutline\",size:\"$5\",color:\"$iconSubdued\"}),_jsx(SizableText,{size:\"$bodyMd\",color:\"$textSubdued\",children:intl.formatMessage({id:ETranslations.swap_page_swap_steps_2})})]}));}return null;},[fromToken?.symbol,intl,md,pageType,swapActionState.isApprove,swapBatchApproveAndSwap]);var recipientComponent=useMemo(function(){if(swapActionState.isApprove&&!swapBatchApproveAndSwap){return null;}if(shouldShowRecipient){var _swapRecipientAddress,_swapRecipientAddress2;return _jsxs(XStack,_objectSpread(_objectSpread({gap:\"$1\"},pageType===EPageType.modal&&!md?{flex:1}:{pb:'$4'}),{},{children:[_jsx(Stack,{children:_jsx(Icon,{name:\"AddedPeopleOutline\",w:\"$5\",h:\"$5\"})}),_jsxs(XStack,{flex:1,flexWrap:\"wrap\",gap:\"$1\",children:[_jsx(SizableText,{flexShrink:0,size:\"$bodyMd\",color:\"$textSubdued\",children:intl.formatMessage({id:ETranslations.swap_page_recipient_send_to})}),_jsx(SizableText,{flexShrink:0,size:\"$bodyMd\",cursor:\"pointer\",textDecorationLine:\"underline\",onPress:onOpenRecipientAddress,children:swapRecipientAddressInfo?.showAddress}),_jsx(SizableText,{numberOfLines:1,flexShrink:0,size:\"$bodyMd\",color:\"$textSubdued\",children:`(${!swapRecipientAddressInfo?.isExtAccount?`${(_swapRecipientAddress=swapRecipientAddressInfo?.accountInfo?.walletName)!=null?_swapRecipientAddress:''}-${(_swapRecipientAddress2=swapRecipientAddressInfo?.accountInfo?.accountName)!=null?_swapRecipientAddress2:''}`:intl.formatMessage({id:ETranslations.swap_page_recipient_external_account})})`})]})]}));}return null;},[intl,md,onOpenRecipientAddress,pageType,shouldShowRecipient,swapActionState.isApprove,swapBatchApproveAndSwap,swapRecipientAddressInfo?.accountInfo?.accountName,swapRecipientAddressInfo?.accountInfo?.walletName,swapRecipientAddressInfo?.isExtAccount,swapRecipientAddressInfo?.showAddress]);var haveTips=useMemo(function(){return shouldShowRecipient||swapActionState.isApprove&&!swapBatchApproveAndSwap;},[shouldShowRecipient,swapActionState.isApprove,swapBatchApproveAndSwap]);var actionComponent=useMemo(function(){return _jsxs(Stack,_objectSpread(_objectSpread({flex:1},pageType===EPageType.modal&&!md?{flexDirection:'row',justifyContent:haveTips?'space-between':'flex-end',alignItems:'center'}:{}),{},{children:[approveStepComponent,recipientComponent,_jsx(Button,{onPress:onActionHandlerBefore,size:pageType===EPageType.modal&&!md?'medium':'large',variant:\"primary\",disabled:swapActionState.disabled||swapActionState.isLoading,loading:swapActionState.isLoading,children:swapActionState.label})]}));},[approveStepComponent,haveTips,md,onActionHandlerBefore,pageType,recipientComponent,swapActionState.disabled,swapActionState.isLoading,swapActionState.label]);return _jsx(_Fragment,{children:pageType!==EPageType.modal&&!md?actionComponent:_jsx(Page.Footer,_objectSpread(_objectSpread({},pageType===EPageType.modal&&!md?{buttonContainerProps:{flex:1}}:{}),{},{confirmButton:actionComponent}))});};export default memo(SwapActionsState);","import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}import{memo,useCallback,useMemo,useState}from'react';import{useIntl}from'react-intl';import{Alert,Toast,YStack}from'@onekeyhq/components';import{useAccountSelectorCreateAddress}from'@onekeyhq/kit/src/components/AccountSelector/hooks/useAccountSelectorCreateAddress';import{useSwapSelectTokenDetailFetchingAtom}from'@onekeyhq/kit/src/states/jotai/contexts/swap';import{useAccountManualCreatingAtom}from'@onekeyhq/kit-bg/src/states/jotai/atoms';import{ETranslations}from'@onekeyhq/shared/src/locale';import{ESwapAlertActionType,ESwapAlertLevel}from'@onekeyhq/shared/types/swap/types';import{jsx as _jsx}from\"react/jsx-runtime\";var SwapAlertContainer=function({alerts}){var alertsSorted=useMemo(function(){return alerts?.sort(function(a){if(a.alertLevel===ESwapAlertLevel.ERROR){return-1;}if(a.alertLevel===ESwapAlertLevel.INFO){return 0;}return 1;});},[alerts]);var[selectTokenDetailLoading]=useSwapSelectTokenDetailFetchingAtom();var intl=useIntl();var[accountManualCreatingAtom,setAccountManualCreatingAtom]=useAccountManualCreatingAtom();var{createAddress}=useAccountSelectorCreateAddress();var[createAddressError,setCreateAddressError]=useState(false);var handleAlertAction=useCallback(function(){var _ref=_asyncToGenerator(function*(action){if(action?.actionType===ESwapAlertActionType.CREATE_ADDRESS&&action.actionData?.account){try{var _action$actionData$nu;setAccountManualCreatingAtom(function(prev){return _objectSpread(_objectSpread({},prev),{},{key:action?.actionData?.key,isLoading:true});});yield createAddress({num:(_action$actionData$nu=action?.actionData?.num)!=null?_action$actionData$nu:0,account:action?.actionData?.account,selectAfterCreate:false});Toast.success({title:intl.formatMessage({id:ETranslations.swap_page_toast_address_generated})});setCreateAddressError(false);}catch(e){Toast.error({title:intl.formatMessage({id:ETranslations.swap_page_toast_address_generated_fail})});setCreateAddressError(true);}finally{setAccountManualCreatingAtom(function(prev){return _objectSpread(_objectSpread({},prev),{},{key:action?.actionData?.key,isLoading:false});});}}});return function(_x){return _ref.apply(this,arguments);};}(),[createAddress,intl,setAccountManualCreatingAtom]);var haveErrorAlert=useMemo(function(){return alertsSorted?.some(function(item){return item.alertLevel===ESwapAlertLevel.ERROR;});},[alertsSorted]);var getAlertType=useCallback(function(level){if(level===ESwapAlertLevel.ERROR){return'critical';}return level===ESwapAlertLevel.WARNING?'warning':'default';},[]);var createAlert=useCallback(function(item,index){var _action$actionLabel;var{alertLevel,title,icon,message,action}=item;if(action?.actionType===ESwapAlertActionType.CREATE_ADDRESS&&action?.actionData?.key===accountManualCreatingAtom.key&&!accountManualCreatingAtom.isLoading&&!createAddressError){return null;}if((selectTokenDetailLoading.from||selectTokenDetailLoading.to)&&action?.actionType===ESwapAlertActionType.TOKEN_DETAIL_FETCHING){return null;}if(haveErrorAlert&&item.alertLevel!==ESwapAlertLevel.ERROR&&item.action?.actionType!==ESwapAlertActionType.CREATE_ADDRESS){return null;}return _jsx(Alert,{type:getAlertType(alertLevel),title:title,icon:icon,description:message,action:action?.actionLabel?{primary:(_action$actionLabel=action?.actionLabel)!=null?_action$actionLabel:'',onPrimaryPress:function(){void handleAlertAction(action);},isPrimaryLoading:accountManualCreatingAtom.key===action?.actionData?.key&&accountManualCreatingAtom.isLoading}:undefined},index);},[accountManualCreatingAtom.isLoading,accountManualCreatingAtom.key,createAddressError,getAlertType,handleAlertAction,haveErrorAlert,selectTokenDetailLoading.from,selectTokenDetailLoading.to]);return _jsx(YStack,{gap:\"$2.5\",\"data-sentry-element\":\"YStack\",\"data-sentry-component\":\"SwapAlertContainer\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/pages/components/SwapAlertContainer.tsx\",children:(haveErrorAlert?alertsSorted.reverse():alertsSorted).map(function(item,index){return createAlert(item,index);})});};export default memo(SwapAlertContainer);","import _debounce from\"lodash/debounce\";import _defineProperty from\"@babel/runtime/helpers/defineProperty\";function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}import{memo,useCallback,useEffect,useMemo,useRef,useState}from'react';import{BigNumber}from'bignumber.js';import{useIntl}from'react-intl';import{Button,Dialog,Divider,Input,SegmentControl,SizableText,XStack,YStack}from'@onekeyhq/components';import{ETranslations}from'@onekeyhq/shared/src/locale';import{swapSlippageCustomDefaultList,swapSlippageDecimal,swapSlippageItems,swapSlippageMaxValue,swapSlippageWillAheadMinValue,swapSlippageWillFailMinValue}from'@onekeyhq/shared/types/swap/SwapProvider.constants';import{ESwapSlippageCustomStatus,ESwapSlippageSegmentKey}from'@onekeyhq/shared/types/swap/types';import{validateAmountInput}from\"../../utils/utils\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var BaseSlippageInput=function({swapSlippage,onChangeText,props}){var[inputValue,setInputValue]=useState('');var isOriginalNumberDot=useRef(false);var handleTextChange=useCallback(function(text){if(validateAmountInput(text,swapSlippageDecimal)){isOriginalNumberDot.current=/^\\d+\\.$/.test(text);setInputValue(text);onChangeText(text);}},[onChangeText]);var displaySlippage=useMemo(function(){return new BigNumber(swapSlippage.value).decimalPlaces(swapSlippageDecimal,BigNumber.ROUND_DOWN).toFixed();},[swapSlippage.value]);useEffect(function(){if(!isOriginalNumberDot.current){setInputValue(displaySlippage);}},[displaySlippage]);return _jsx(Input,_objectSpread(_objectSpread({size:\"medium\",containerProps:{flex:1},value:inputValue,autoFocus:swapSlippage.key===ESwapSlippageSegmentKey.CUSTOM,addOns:[{label:'%'}],textAlign:\"left\",disabled:swapSlippage.key===ESwapSlippageSegmentKey.AUTO,placeholder:displaySlippage,onChangeText:handleTextChange},props),{},{\"data-sentry-element\":\"Input\",\"data-sentry-component\":\"BaseSlippageInput\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/pages/components/SwapSlippageContentContainer.tsx\"}));};export var SlippageInput=memo(BaseSlippageInput);var SwapsSlippageContentContainer=function({swapSlippage,onSave,autoValue}){var[swapSlippageStatus,setSwapSlippageStatus]=useState(swapSlippage);var intl=useIntl();var[customValueState,setCustomValueState]=useState({status:ESwapSlippageCustomStatus.NORMAL,message:''});var handleSlippageChange=useCallback(_debounce(function(value){var valueBN=new BigNumber(value);if(valueBN.isNaN()||valueBN.isNegative()||valueBN.gt(swapSlippageMaxValue)){setCustomValueState({status:ESwapSlippageCustomStatus.ERROR,message:intl.formatMessage({id:ETranslations.slippage_tolerance_error_message})});return;}setSwapSlippageStatus({key:ESwapSlippageSegmentKey.CUSTOM,value:valueBN.toNumber()});if(valueBN.lte(swapSlippageWillFailMinValue)){setCustomValueState({status:ESwapSlippageCustomStatus.WRONG,message:intl.formatMessage({id:ETranslations.slippage_tolerance_warning_message_2},{number:swapSlippageWillFailMinValue})});return;}if(valueBN.gte(swapSlippageWillAheadMinValue)){setCustomValueState({status:ESwapSlippageCustomStatus.WRONG,message:intl.formatMessage({id:ETranslations.slippage_tolerance_warning_message_1},{number:swapSlippageWillAheadMinValue})});return;}setCustomValueState({status:ESwapSlippageCustomStatus.NORMAL,message:''});},350),[]);return _jsxs(YStack,{gap:\"$4\",\"data-sentry-element\":\"YStack\",\"data-sentry-component\":\"SwapsSlippageContentContainer\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/pages/components/SwapSlippageContentContainer.tsx\",children:[_jsx(SegmentControl,{fullWidth:true,value:swapSlippageStatus.key,options:swapSlippageItems.map(function(item){return{label:intl.formatMessage({id:item.key===ESwapSlippageSegmentKey.AUTO?ETranslations.slippage_tolerance_switch_auto:ETranslations.slippage_tolerance_switch_custom}),value:item.key};}),onChange:function(value){var keyValue=value;setSwapSlippageStatus({key:keyValue,value:keyValue===ESwapSlippageSegmentKey.AUTO?autoValue:swapSlippage.value});},\"data-sentry-element\":\"SegmentControl\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/pages/components/SwapSlippageContentContainer.tsx\"}),swapSlippageStatus.key!==ESwapSlippageSegmentKey.CUSTOM?_jsx(SlippageInput,{swapSlippage:swapSlippageStatus,onChangeText:handleSlippageChange}):null,swapSlippageStatus.key===ESwapSlippageSegmentKey.CUSTOM?_jsxs(XStack,{gap:\"$2.5\",children:[_jsx(SlippageInput,{swapSlippage:swapSlippageStatus,onChangeText:handleSlippageChange}),_jsx(XStack,{children:swapSlippageCustomDefaultList.map(function(item,index){return _jsxs(_Fragment,{children:[_jsx(Button,{variant:\"secondary\",size:\"medium\",borderTopRightRadius:index!==2?0:'$2',borderBottomRightRadius:index!==2?0:'$2',borderTopLeftRadius:index!==0?0:'$2',borderBottomLeftRadius:index!==0?0:'$2',onPress:function(){setCustomValueState({status:ESwapSlippageCustomStatus.NORMAL,message:''});setSwapSlippageStatus({key:ESwapSlippageSegmentKey.CUSTOM,value:item});},children:`${item}${index===swapSlippageCustomDefaultList.length-1?'  ':''}%`},item),index!==swapSlippageCustomDefaultList.length-1?_jsx(Divider,{vertical:true}):null]});})})]}):null,swapSlippageStatus.key===ESwapSlippageSegmentKey.AUTO?_jsx(SizableText,{size:\"$bodyMd\",color:\"$textSubdued\",children:intl.formatMessage({id:ETranslations.slippage_tolerance_description})}):null,swapSlippageStatus.key!==ESwapSlippageSegmentKey.AUTO&&customValueState.status!==ESwapSlippageCustomStatus.NORMAL?_jsx(SizableText,{size:\"$bodySmMedium\",color:customValueState.status===ESwapSlippageCustomStatus.ERROR?'$textCritical':'$textCaution',children:customValueState.message}):null,_jsx(Dialog.Footer,{showCancelButton:false,onConfirmText:intl.formatMessage({id:ETranslations.slippage_tolerance_button_save}),confirmButtonProps:{variant:'primary',disabled:swapSlippageStatus.key===ESwapSlippageSegmentKey.CUSTOM&&customValueState.status===ESwapSlippageCustomStatus.ERROR},onConfirm:function({close}){onSave(swapSlippageStatus,close);},\"data-sentry-element\":\"unknown\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/pages/components/SwapSlippageContentContainer.tsx\"})]});};export default memo(SwapsSlippageContentContainer);","import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _debounce from\"lodash/debounce\";function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}import{useCallback,useMemo,useState}from'react';import BigNumber from'bignumber.js';import{useIntl}from'react-intl';import{Badge,Button,Dialog,Divider,EPageType,HeightTransition,Icon,SegmentControl,SizableText,Stack,Switch,XStack,YStack}from'@onekeyhq/components';import{HeaderButtonGroup,HeaderIconButton}from'@onekeyhq/components/src/layouts/Navigation/Header';import useAppNavigation from'@onekeyhq/kit/src/hooks/useAppNavigation';import{EJotaiContextStoreNames,useInAppNotificationAtom,useSettingsAtom,useSettingsPersistAtom}from'@onekeyhq/kit-bg/src/states/jotai/atoms';import{ETranslations}from'@onekeyhq/shared/src/locale';import{EModalRoutes}from'@onekeyhq/shared/src/routes';import{EModalSwapRoutes}from'@onekeyhq/shared/src/routes/swap';import{swapSlippageCustomDefaultList,swapSlippageItems,swapSlippageMaxValue,swapSlippageWillAheadMinValue,swapSlippageWillFailMinValue}from'@onekeyhq/shared/types/swap/SwapProvider.constants';import{ESwapSlippageCustomStatus,ESwapSlippageSegmentKey,ESwapTxHistoryStatus}from'@onekeyhq/shared/types/swap/types';import{useSwapSlippagePercentageModeInfo}from\"../../hooks/useSwapState\";import{SwapProviderMirror}from\"../SwapProviderMirror\";import{SlippageInput}from\"./SwapSlippageContentContainer\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var SwapSettingsCommonItem=function({value,onChange,title,content,badgeContent}){return _jsxs(XStack,{justifyContent:\"space-between\",alignItems:\"center\",\"data-sentry-element\":\"XStack\",\"data-sentry-component\":\"SwapSettingsCommonItem\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/pages/components/SwapHeaderRightActionContainer.tsx\",children:[_jsxs(YStack,{flex:1,gap:\"$0.5\",\"data-sentry-element\":\"YStack\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/pages/components/SwapHeaderRightActionContainer.tsx\",children:[_jsxs(XStack,{alignItems:\"center\",gap:\"$1.5\",\"data-sentry-element\":\"XStack\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/pages/components/SwapHeaderRightActionContainer.tsx\",children:[_jsx(SizableText,{size:\"$bodyLgMedium\",\"data-sentry-element\":\"SizableText\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/pages/components/SwapHeaderRightActionContainer.tsx\",children:title}),badgeContent?_jsx(Badge,{badgeSize:\"sm\",badgeType:\"success\",children:badgeContent}):null]}),_jsx(SizableText,{size:\"$bodyMd\",color:\"$textSubdued\",width:\"95%\",\"data-sentry-element\":\"SizableText\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/pages/components/SwapHeaderRightActionContainer.tsx\",children:content})]}),_jsx(Switch,{value:value,onChange:onChange,\"data-sentry-element\":\"Switch\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/pages/components/SwapHeaderRightActionContainer.tsx\"})]});};var SwapSettingsSlippageItem=function({title,rightTrigger}){return _jsxs(XStack,{justifyContent:\"space-between\",alignItems:\"center\",\"data-sentry-element\":\"XStack\",\"data-sentry-component\":\"SwapSettingsSlippageItem\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/pages/components/SwapHeaderRightActionContainer.tsx\",children:[_jsx(XStack,{\"data-sentry-element\":\"XStack\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/pages/components/SwapHeaderRightActionContainer.tsx\",children:_jsx(SizableText,{userSelect:\"none\",mr:\"$1\",size:\"$bodyLgMedium\",color:\"$text\",\"data-sentry-element\":\"SizableText\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/pages/components/SwapHeaderRightActionContainer.tsx\",children:title})}),_jsx(XStack,{gap:\"$2\",\"data-sentry-element\":\"XStack\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/pages/components/SwapHeaderRightActionContainer.tsx\",children:rightTrigger})]});};var SwapSlippageCustomContent=function({swapSlippage}){var intl=useIntl();var[,setSettings]=useSettingsAtom();var[customValueState,setCustomValueState]=useState({status:ESwapSlippageCustomStatus.NORMAL,message:''});var handleSlippageChange=useCallback(_debounce(function(value){var valueBN=new BigNumber(value);if(valueBN.isNaN()||valueBN.isNegative()||valueBN.gt(swapSlippageMaxValue)){setCustomValueState({status:ESwapSlippageCustomStatus.ERROR,message:intl.formatMessage({id:ETranslations.slippage_tolerance_error_message})});return;}setSettings(function(s){return _objectSpread(_objectSpread({},s),{},{swapSlippagePercentageMode:ESwapSlippageSegmentKey.CUSTOM,swapSlippagePercentageCustomValue:valueBN.toNumber()});});if(valueBN.lte(swapSlippageWillFailMinValue)){setCustomValueState({status:ESwapSlippageCustomStatus.WRONG,message:intl.formatMessage({id:ETranslations.slippage_tolerance_warning_message_2},{number:swapSlippageWillFailMinValue})});return;}if(valueBN.gte(swapSlippageWillAheadMinValue)){setCustomValueState({status:ESwapSlippageCustomStatus.WRONG,message:intl.formatMessage({id:ETranslations.slippage_tolerance_warning_message_1},{number:swapSlippageWillAheadMinValue})});return;}setCustomValueState({status:ESwapSlippageCustomStatus.NORMAL,message:''});},350),[]);return _jsxs(YStack,{gap:\"$4\",\"data-sentry-element\":\"YStack\",\"data-sentry-component\":\"SwapSlippageCustomContent\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/pages/components/SwapHeaderRightActionContainer.tsx\",children:[_jsxs(XStack,{gap:\"$2.5\",\"data-sentry-element\":\"XStack\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/pages/components/SwapHeaderRightActionContainer.tsx\",children:[_jsx(SlippageInput,{swapSlippage:swapSlippage,onChangeText:handleSlippageChange,\"data-sentry-element\":\"SlippageInput\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/pages/components/SwapHeaderRightActionContainer.tsx\"}),_jsx(XStack,{\"data-sentry-element\":\"XStack\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/pages/components/SwapHeaderRightActionContainer.tsx\",children:swapSlippageCustomDefaultList.map(function(item,index){return _jsxs(_Fragment,{children:[_jsx(Button,{variant:\"secondary\",size:\"medium\",borderTopRightRadius:index!==2?0:'$2',borderBottomRightRadius:index!==2?0:'$2',borderTopLeftRadius:index!==0?0:'$2',borderBottomLeftRadius:index!==0?0:'$2',onPress:function(){setCustomValueState({status:ESwapSlippageCustomStatus.NORMAL,message:''});setSettings(function(s){return _objectSpread(_objectSpread({},s),{},{swapSlippagePercentageCustomValue:item,swapSlippagePercentageMode:ESwapSlippageSegmentKey.CUSTOM});});},children:`${item}${index===swapSlippageCustomDefaultList.length-1?'  ':''}%`},item),index!==swapSlippageCustomDefaultList.length-1?_jsx(Divider,{vertical:true}):null]});})})]}),swapSlippage.key!==ESwapSlippageSegmentKey.AUTO&&customValueState.status!==ESwapSlippageCustomStatus.NORMAL?_jsx(SizableText,{size:\"$bodySmMedium\",color:customValueState.status===ESwapSlippageCustomStatus.ERROR?'$textCritical':'$textCaution',children:customValueState.message}):null]});};var SwapSettingsDialogContent=function(){var intl=useIntl();var{slippageItem}=useSwapSlippagePercentageModeInfo();var[{swapBatchApproveAndSwap,swapEnableRecipientAddress},setPersistSettings]=useSettingsPersistAtom();var[,setNoPersistSettings]=useSettingsAtom();var rightTrigger=useMemo(function(){return _jsx(SegmentControl,{value:slippageItem.key,options:swapSlippageItems.map(function(item){return{label:_jsxs(XStack,{children:[item.key===ESwapSlippageSegmentKey.AUTO?_jsx(Icon,{name:\"Ai3StarOutline\",size:\"$4.5\",color:\"$iconSuccess\",mr:\"$0.5\"}):null,_jsx(SizableText,{size:\"$bodyMdMedium\",children:intl.formatMessage({id:item.key===ESwapSlippageSegmentKey.AUTO?ETranslations.slippage_tolerance_switch_auto:ETranslations.slippage_tolerance_switch_custom})})]}),value:item.key};}),onChange:function(value){var keyValue=value;setNoPersistSettings(function(s){return _objectSpread(_objectSpread({},s),{},{swapSlippagePercentageMode:keyValue});});}});},[intl,setNoPersistSettings,slippageItem.key]);return _jsxs(YStack,{gap:\"$5\",\"data-sentry-element\":\"YStack\",\"data-sentry-component\":\"SwapSettingsDialogContent\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/pages/components/SwapHeaderRightActionContainer.tsx\",children:[_jsx(HeightTransition,{\"data-sentry-element\":\"HeightTransition\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/pages/components/SwapHeaderRightActionContainer.tsx\",children:_jsxs(YStack,{gap:\"$5\",\"data-sentry-element\":\"YStack\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/pages/components/SwapHeaderRightActionContainer.tsx\",children:[_jsx(SwapSettingsSlippageItem,{title:intl.formatMessage({id:ETranslations.swap_page_provider_slippage_tolerance}),rightTrigger:rightTrigger,\"data-sentry-element\":\"SwapSettingsSlippageItem\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/pages/components/SwapHeaderRightActionContainer.tsx\"}),slippageItem.key===ESwapSlippageSegmentKey.CUSTOM?_jsx(SwapSlippageCustomContent,{swapSlippage:slippageItem}):null]})}),_jsx(Divider,{\"data-sentry-element\":\"Divider\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/pages/components/SwapHeaderRightActionContainer.tsx\"}),_jsx(SwapSettingsCommonItem,{title:intl.formatMessage({id:ETranslations.swap_page_settings_simple_mode}),content:intl.formatMessage({id:ETranslations.swap_page_settings_simple_mode_content}),badgeContent:\"Beta\",value:swapBatchApproveAndSwap,onChange:function(v){setPersistSettings(function(s){return _objectSpread(_objectSpread({},s),{},{swapBatchApproveAndSwap:v});});},\"data-sentry-element\":\"SwapSettingsCommonItem\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/pages/components/SwapHeaderRightActionContainer.tsx\"}),_jsx(SwapSettingsCommonItem,{title:intl.formatMessage({id:ETranslations.swap_page_settings_recipient_title}),content:intl.formatMessage({id:ETranslations.swap_page_settings_recipient_content}),value:swapEnableRecipientAddress,onChange:function(v){setPersistSettings(function(s){return _objectSpread(_objectSpread({},s),{},{swapEnableRecipientAddress:v});});if(!v){setNoPersistSettings(function(s){return _objectSpread(_objectSpread({},s),{},{swapToAnotherAccountSwitchOn:false});});}},\"data-sentry-element\":\"SwapSettingsCommonItem\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/pages/components/SwapHeaderRightActionContainer.tsx\"})]});};var SwapHeaderRightActionContainer=function({pageType}){var navigation=useAppNavigation();var[{swapHistoryPendingList}]=useInAppNotificationAtom();var intl=useIntl();var{slippageItem}=useSwapSlippagePercentageModeInfo();var swapPendingStatusList=useMemo(function(){return swapHistoryPendingList.filter(function(i){return i.status===ESwapTxHistoryStatus.PENDING||i.status===ESwapTxHistoryStatus.CANCELING;});},[swapHistoryPendingList]);var slippageTitle=useMemo(function(){if(slippageItem.key===ESwapSlippageSegmentKey.CUSTOM){return _jsx(SizableText,{color:slippageItem.value>swapSlippageWillAheadMinValue?'$textCaution':'$text',size:\"$bodyMdMedium\",children:`${slippageItem.value}%`});}return null;},[slippageItem.key,slippageItem.value]);var onOpenHistoryListModal=useCallback(function(){navigation.pushModal(EModalRoutes.SwapModal,{screen:EModalSwapRoutes.SwapHistoryList});},[navigation]);var onOpenSwapSettings=useCallback(function(){Dialog.show({title:intl.formatMessage({id:ETranslations.swap_page_settings}),renderContent:_jsx(SwapProviderMirror,{storeName:pageType===EPageType.modal?EJotaiContextStoreNames.swapModal:EJotaiContextStoreNames.swap,children:_jsx(SwapSettingsDialogContent,{})}),showConfirmButton:false,showCancelButton:true,onCancelText:intl.formatMessage({id:ETranslations.global_close}),showFooter:true});},[intl,pageType]);return _jsxs(HeaderButtonGroup,{\"data-sentry-element\":\"HeaderButtonGroup\",\"data-sentry-component\":\"SwapHeaderRightActionContainer\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/pages/components/SwapHeaderRightActionContainer.tsx\",children:[slippageTitle?_jsx(Button,{onPress:onOpenSwapSettings,size:\"medium\",variant:\"tertiary\",borderRadius:\"$3\",bg:\"$bgSubdued\",cursor:\"pointer\",children:_jsxs(XStack,{alignItems:\"center\",gap:\"$1\",children:[slippageTitle,_jsx(Icon,{name:\"SliderHorOutline\",size:\"$6\",color:\"$iconSubdued\"})]})}):_jsx(HeaderIconButton,{icon:\"SliderHorOutline\",onPress:onOpenSwapSettings,iconProps:{size:24},size:\"medium\"}),swapPendingStatusList.length>0?_jsx(Stack,{m:\"$0.5\",w:\"$5\",h:\"$5\",userSelect:\"none\",borderRadius:\"$full\",borderColor:\"$icon\",borderWidth:\"1.2px\",alignItems:\"center\",justifyContent:\"center\",hoverStyle:{bg:'$bgHover'},pressStyle:{bg:'$bgActive'},focusVisibleStyle:{outlineColor:'$focusRing',outlineWidth:2,outlineStyle:'solid',outlineOffset:0},onPress:onOpenHistoryListModal,children:_jsx(SizableText,{color:\"$text\",size:\"$bodySm\",children:`${swapPendingStatusList.length}`})}):_jsx(HeaderIconButton,{icon:\"ClockTimeHistoryOutline\",onPress:onOpenHistoryListModal,iconProps:{size:24},size:\"medium\"})]});};export default SwapHeaderRightActionContainer;","import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _objectWithoutProperties from\"@babel/runtime/helpers/objectWithoutProperties\";var _excluded=[\"children\",\"isSelected\",\"onPress\"];function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}import{memo,useEffect,useRef}from'react';import{useIntl}from'react-intl';import{SizableText,Stack,XStack}from'@onekeyhq/components';import{useSwapActions,useSwapSelectFromTokenAtom,useSwapTypeSwitchAtom}from'@onekeyhq/kit/src/states/jotai/contexts/swap';import{ETranslations}from'@onekeyhq/shared/src/locale';import platformEnv from'@onekeyhq/shared/src/platformEnv';import{ESwapDirectionType,ESwapTabSwitchType}from'@onekeyhq/shared/types/swap/types';import{useSwapAddressInfo}from\"../../hooks/useSwapAccount\";import SwapHeaderRightActionContainer from\"./SwapHeaderRightActionContainer\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function CustomTabItem(_ref){var{children,isSelected,onPress}=_ref,rest=_objectWithoutProperties(_ref,_excluded);return _jsx(Stack,_objectSpread(_objectSpread(_objectSpread({py:\"$1\",px:\"$2.5\",borderRadius:\"$2\",borderCurve:\"continuous\",userSelect:\"none\",hitSlop:{top:4,bottom:4}},isSelected?{bg:'$bgActive'}:{hoverStyle:{bg:'$bgHover'},pressStyle:{bg:'$bgActive'}}),{},{onPress:onPress},rest),{},{\"data-sentry-element\":\"Stack\",\"data-sentry-component\":\"CustomTabItem\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/pages/components/SwapHeaderContainer.tsx\",children:_jsx(SizableText,_objectSpread(_objectSpread({size:\"$headingMd\",color:\"$textSubdued\"},isSelected&&{color:'$text'}),{},{\"data-sentry-element\":\"SizableText\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/pages/components/SwapHeaderContainer.tsx\",children:children}))}));}var SwapHeaderContainer=function({pageType,defaultSwapType}){var intl=useIntl();var[swapTypeSwitch]=useSwapTypeSwitchAtom();var{swapTypeSwitchAction}=useSwapActions().current;var{networkId}=useSwapAddressInfo(ESwapDirectionType.FROM);var[fromToken]=useSwapSelectFromTokenAtom();var networkIdRef=useRef(networkId);if(networkIdRef.current!==networkId){networkIdRef.current=networkId;}if(networkIdRef.current!==fromToken?.networkId){networkIdRef.current=fromToken?.networkId;}useEffect(function(){if(defaultSwapType){setTimeout(function(){void swapTypeSwitchAction(defaultSwapType,networkIdRef.current);},false?100:10);}},[]);return _jsxs(XStack,{justifyContent:\"space-between\",\"data-sentry-element\":\"XStack\",\"data-sentry-component\":\"SwapHeaderContainer\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/pages/components/SwapHeaderContainer.tsx\",children:[_jsxs(XStack,{gap:\"$3\",\"data-sentry-element\":\"XStack\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/pages/components/SwapHeaderContainer.tsx\",children:[_jsx(CustomTabItem,{isSelected:swapTypeSwitch===ESwapTabSwitchType.SWAP,onPress:function(){if(swapTypeSwitch!==ESwapTabSwitchType.SWAP){void swapTypeSwitchAction(ESwapTabSwitchType.SWAP,networkId);}},\"data-sentry-element\":\"CustomTabItem\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/pages/components/SwapHeaderContainer.tsx\",children:intl.formatMessage({id:ETranslations.swap_page_swap})}),_jsx(CustomTabItem,{isSelected:swapTypeSwitch===ESwapTabSwitchType.BRIDGE,onPress:function(){if(swapTypeSwitch!==ESwapTabSwitchType.BRIDGE){void swapTypeSwitchAction(ESwapTabSwitchType.BRIDGE,networkId);}},\"data-sentry-element\":\"CustomTabItem\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/pages/components/SwapHeaderContainer.tsx\",children:intl.formatMessage({id:ETranslations.swap_page_bridge})})]}),_jsx(SwapHeaderRightActionContainer,{pageType:pageType,\"data-sentry-element\":\"SwapHeaderRightActionContainer\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/pages/components/SwapHeaderContainer.tsx\"})]});};export default memo(SwapHeaderContainer);","import _defineProperty from\"@babel/runtime/helpers/defineProperty\";function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}import{useEffect,useRef}from'react';import{useIntl}from'react-intl';import{EPageType,Toast,usePageType}from'@onekeyhq/components';import{useRouteIsFocused as useIsFocused}from'@onekeyhq/kit/src/hooks/useRouteIsFocused';import{useInAppNotificationAtom}from'@onekeyhq/kit-bg/src/states/jotai/atoms';import{ETranslations}from'@onekeyhq/shared/src/locale';import{ETabRoutes}from'@onekeyhq/shared/src/routes';import{ESwapApproveTransactionStatus}from'@onekeyhq/shared/types/swap/types';import useListenTabFocusState from\"../../../hooks/useListenTabFocusState\";import{useSwapActions}from\"../../../states/jotai/contexts/swap\";import{useSwapBuildTx}from\"./useSwapBuiltTx\";export function useSwapApproving(){var intl=useIntl();var{approvingStateAction,cleanApprovingInterval}=useSwapActions().current;var[{swapApprovingTransaction},setInAppNotificationAtom]=useInAppNotificationAtom();var swapApprovingTxRef=useRef();if(swapApprovingTxRef.current!==swapApprovingTransaction){swapApprovingTxRef.current=swapApprovingTransaction;}var{approveTx}=useSwapBuildTx();var approveTxRef=useRef(approveTx);if(approveTxRef.current!==approveTx){approveTxRef.current=approveTx;}var isFocused=useIsFocused();var isFocusRef=useRef(isFocused);if(isFocusRef.current!==isFocused){isFocusRef.current=isFocused;}useEffect(function(){if(!isFocusRef.current)return;if(swapApprovingTransaction?.txId&&swapApprovingTransaction?.status===ESwapApproveTransactionStatus.PENDING){void approvingStateAction();}else{cleanApprovingInterval();}if(swapApprovingTransaction?.status===ESwapApproveTransactionStatus.FAILED){Toast.error({title:intl.formatMessage({id:ETranslations.swap_page_toast_approve_failed})});}else if(swapApprovingTransaction?.status===ESwapApproveTransactionStatus.CANCEL){Toast.error({title:intl.formatMessage({id:ETranslations.swap_page_toast_approve_canceled})});}else if(swapApprovingTransaction?.status===ESwapApproveTransactionStatus.SUCCESS){if(swapApprovingTransaction?.resetApproveValue&&Number(swapApprovingTransaction?.resetApproveValue)>0){void approveTxRef.current?.(swapApprovingTransaction?.resetApproveValue,!!swapApprovingTransaction?.resetApproveIsMax);}else{Toast.success({title:intl.formatMessage({id:ETranslations.swap_page_toast_approve_successful})});}}if(swapApprovingTransaction?.status===ESwapApproveTransactionStatus.FAILED||swapApprovingTransaction?.status===ESwapApproveTransactionStatus.CANCEL){setInAppNotificationAtom(function(prev){return _objectSpread(_objectSpread({},prev),{},{swapApprovingTransaction:undefined});});}return function(){cleanApprovingInterval();};},[approvingStateAction,cleanApprovingInterval,intl,setInAppNotificationAtom,swapApprovingTransaction?.resetApproveIsMax,swapApprovingTransaction?.resetApproveValue,swapApprovingTransaction?.status,swapApprovingTransaction?.txId]);var pageType=usePageType();useListenTabFocusState(ETabRoutes.Swap,function(isFocus,isHiddenModel){if(pageType!==EPageType.modal){if(isFocus&&!isHiddenModel&&swapApprovingTxRef.current?.txId&&swapApprovingTxRef.current?.status===ESwapApproveTransactionStatus.PENDING){void approvingStateAction();}else{cleanApprovingInterval();}}});useEffect(function(){if(pageType===EPageType.modal){if(isFocused&&swapApprovingTxRef.current?.txId&&swapApprovingTxRef.current?.status===ESwapApproveTransactionStatus.PENDING){void approvingStateAction();}else{cleanApprovingInterval();}}},[approvingStateAction,cleanApprovingInterval,isFocused,pageType]);}","import{useMemo}from'react';import{useIntl}from'react-intl';import{AnimatePresence,Image,SizableText,XStack}from'@onekeyhq/components';import{DeriveTypeSelectorTriggerForSwap}from'@onekeyhq/kit/src/components/AccountSelector/DeriveTypeSelectorTrigger';import{useSwapNetworksIncludeAllNetworkAtom,useSwapSelectFromTokenAtom,useSwapSelectToTokenAtom,useSwapTypeSwitchAtom}from'@onekeyhq/kit/src/states/jotai/contexts/swap';import{ETranslations}from'@onekeyhq/shared/src/locale';import{ESwapDirectionType,ESwapTabSwitchType}from'@onekeyhq/shared/types/swap/types';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SwapAccountAddressContainer=function({type,onClickNetwork}){var intl=useIntl();var[fromToken]=useSwapSelectFromTokenAtom();var[swapTypeSwitch]=useSwapTypeSwitchAtom();var[swapSupportAllNetwork]=useSwapNetworksIncludeAllNetworkAtom();var[toToken]=useSwapSelectToTokenAtom();var networkComponent=useMemo(function(){var networkInfo=swapSupportAllNetwork.find(function(net){return net.networkId===(type===ESwapDirectionType.FROM?fromToken?.networkId:toToken?.networkId);});return _jsx(AnimatePresence,{children:swapTypeSwitch===ESwapTabSwitchType.BRIDGE&&networkInfo?_jsxs(XStack,{animation:\"quick\",enterStyle:{opacity:0,x:8},exitStyle:{opacity:0,x:4},gap:\"$1\",alignItems:\"center\",cursor:\"pointer\",onPress:function(){onClickNetwork?.(type);},children:[_jsx(Image,{w:18,h:18,source:{uri:networkInfo.logoURI}}),_jsx(SizableText,{size:\"$bodyMd\",color:\"$text\",children:networkInfo.name})]},\"network-component\"):null});},[swapSupportAllNetwork,swapTypeSwitch,onClickNetwork,type,fromToken?.networkId,toToken?.networkId]);return _jsxs(XStack,{pb:\"$2\",alignItems:\"center\",gap:\"$1\",\"data-sentry-element\":\"XStack\",\"data-sentry-component\":\"SwapAccountAddressContainer\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/pages/components/SwapAccountAddressContainer.tsx\",children:[_jsx(SizableText,{size:\"$bodyMd\",mr:\"$1\",userSelect:\"none\",color:\"$textSubdued\",\"data-sentry-element\":\"SizableText\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/pages/components/SwapAccountAddressContainer.tsx\",children:intl.formatMessage({id:type===ESwapDirectionType.FROM?ETranslations.swap_page_from:ETranslations.swap_page_to})}),networkComponent,type===ESwapDirectionType.FROM&&!!fromToken?_jsx(DeriveTypeSelectorTriggerForSwap,{num:0}):null]});};export default SwapAccountAddressContainer;","import{useMemo}from'react';import{useIntl}from'react-intl';import{AnimatePresence,Button,Icon,SizableText,XStack,useMedia}from'@onekeyhq/components';import{ETranslations}from'@onekeyhq/shared/src/locale';import platformEnv from'@onekeyhq/shared/src/platformEnv';import{SwapPercentageInputStage}from'@onekeyhq/shared/types/swap/types';import ActionBuy from\"../../../AssetDetails/pages/TokenDetails/ActionBuy\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var SwapInputActions=function({showPercentageInput,showActionBuy,onSelectStage,fromToken,accountInfo}){var _fromToken$networkId,_accountInfo$account$,_accountInfo$wallet$t,_fromToken$contractAd;var intl=useIntl();var{gtSm}=useMedia();var needSwapPercentageInputStage=useMemo(function(){return gtSm?SwapPercentageInputStage:SwapPercentageInputStage.slice(1);},[gtSm]);return _jsx(AnimatePresence,{\"data-sentry-element\":\"AnimatePresence\",\"data-sentry-component\":\"SwapInputActions\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/pages/components/SwapInputActions.tsx\",children:_jsxs(XStack,{animation:\"quick\",enterStyle:{opacity:0,x:8},exitStyle:{opacity:0,x:4},gap:\"$1\",\"data-sentry-element\":\"XStack\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/pages/components/SwapInputActions.tsx\",children:[showActionBuy?_jsx(ActionBuy,{hiddenIfDisabled:true,showButtonStyle:true,height:\"$5\",px:\"$1.5\",py:\"$0\",bg:\"$bgSubdued\",size:\"small\",label:_jsxs(XStack,{alignItems:\"center\",gap:\"$1\",pt:platformEnv.isNativeIOS?'$1':'$0',children:[_jsx(Icon,{name:\"CreditCardCvvOutline\",size:\"$4\"}),_jsx(SizableText,{size:\"$bodySmMedium\",color:\"$textSubdued\",children:intl.formatMessage({id:ETranslations.global_buy})})]}),networkId:(_fromToken$networkId=fromToken?.networkId)!=null?_fromToken$networkId:'',accountId:(_accountInfo$account$=accountInfo?.account?.id)!=null?_accountInfo$account$:'',walletType:(_accountInfo$wallet$t=accountInfo?.wallet?.type)!=null?_accountInfo$wallet$t:'',tokenAddress:(_fromToken$contractAd=fromToken?.contractAddress)!=null?_fromToken$contractAd:''}):null,showPercentageInput?_jsx(_Fragment,{children:needSwapPercentageInputStage.map(function(stage){return _jsx(Button,{height:\"$5\",size:\"small\",onPress:function(){onSelectStage?.(stage);},bg:\"$bgSubdued\",px:\"$1.5\",py:\"$0\",children:_jsxs(SizableText,{size:\"$bodySmMedium\",color:\"$textSubdued\",children:[stage,\"%\"]})},`swap-percentage-input-stage-${stage}`);})}):null]})});};export default SwapInputActions;","import{memo,useMemo,useState}from'react';import BigNumber from'bignumber.js';import{SizableText,XStack,YStack}from'@onekeyhq/components';import{AmountInput}from'@onekeyhq/kit/src/components/AmountInput';import{useRateDifferenceAtom,useSwapAlertsAtom,useSwapFromTokenAmountAtom,useSwapSelectFromTokenAtom,useSwapSelectedFromTokenBalanceAtom}from'@onekeyhq/kit/src/states/jotai/contexts/swap';import{useSettingsPersistAtom}from'@onekeyhq/kit-bg/src/states/jotai/atoms';import platformEnv from'@onekeyhq/shared/src/platformEnv';import accountUtils from'@onekeyhq/shared/src/utils/accountUtils';import{ESwapDirectionType,ESwapRateDifferenceUnit}from'@onekeyhq/shared/types/swap/types';import{useSwapAddressInfo}from\"../../hooks/useSwapAccount\";import{useSwapSelectedTokenInfo}from\"../../hooks/useSwapTokens\";import SwapAccountAddressContainer from\"./SwapAccountAddressContainer\";import SwapInputActions from\"./SwapInputActions\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SwapInputContainer=function({onAmountChange,direction,token,amountValue,selectTokenLoading,inputLoading,onSelectToken,onBalanceMaxPress,onSelectPercentageStage,balance}){useSwapSelectedTokenInfo({token,type:direction});var[settingsPersistAtom]=useSettingsPersistAtom();var[alerts]=useSwapAlertsAtom();var{address,accountInfo}=useSwapAddressInfo(direction);var[rateDifference]=useRateDifferenceAtom();var amountPrice=useMemo(function(){var _token$price;if(!token?.price)return'0.0';var tokenPriceBN=new BigNumber((_token$price=token.price)!=null?_token$price:0);var tokenFiatValueBN=new BigNumber(amountValue!=null?amountValue:0).multipliedBy(tokenPriceBN);return tokenFiatValueBN.isNaN()?'0.0':`${tokenFiatValueBN.decimalPlaces(6,BigNumber.ROUND_DOWN).toFixed()}`;},[amountValue,token?.price]);var[fromToken]=useSwapSelectFromTokenAtom();var[fromTokenAmount]=useSwapFromTokenAmountAtom();var[fromTokenBalance]=useSwapSelectedFromTokenBalanceAtom();var fromInputHasError=useMemo(function(){var accountError=alerts?.states.some(function(item){return item.inputShowError;})&&direction===ESwapDirectionType.FROM||!address&&(accountUtils.isHdWallet({walletId:accountInfo?.wallet?.id})||accountUtils.isHwWallet({walletId:accountInfo?.wallet?.id})||accountUtils.isQrWallet({walletId:accountInfo?.wallet?.id}));var balanceBN=new BigNumber(fromTokenBalance!=null?fromTokenBalance:0);var amountValueBN=new BigNumber(fromTokenAmount!=null?fromTokenAmount:0);var hasBalanceError=direction===ESwapDirectionType.FROM&&!!fromToken&&!!address&&balanceBN.lt(amountValueBN);return{accountError,hasBalanceError};},[alerts?.states,direction,address,accountInfo?.wallet?.id,fromTokenBalance,fromTokenAmount,fromToken]);var valueMoreComponent=useMemo(function(){if(rateDifference&&direction===ESwapDirectionType.TO){var color='$textSubdued';if(inputLoading){color='$textPlaceholder';}if(rateDifference.unit===ESwapRateDifferenceUnit.NEGATIVE){color='$textCritical';}if(rateDifference.unit===ESwapRateDifferenceUnit.POSITIVE){color='$textSuccess';}return _jsx(SizableText,{size:\"$bodyMd\",color:color,children:rateDifference.value});}return null;},[direction,inputLoading,rateDifference]);var[percentageInputStageShow,setPercentageInputStageShow]=useState(false);var onFromInputFocus=function(){setPercentageInputStageShow(true);};var onFromInputBlur=function(){setTimeout(function(){setPercentageInputStageShow(false);},200);};var showPercentageInput=useMemo(function(){return direction===ESwapDirectionType.FROM&&(percentageInputStageShow||!!amountValue);},[direction,percentageInputStageShow,amountValue]);var showActionBuy=useMemo(function(){return direction===ESwapDirectionType.FROM&&!!accountInfo?.account?.id&&!!fromToken&&fromInputHasError.hasBalanceError;},[direction,accountInfo?.account?.id,fromToken,fromInputHasError]);return _jsxs(YStack,{\"data-sentry-element\":\"YStack\",\"data-sentry-component\":\"SwapInputContainer\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/pages/components/SwapInputContainer.tsx\",children:[_jsxs(XStack,{justifyContent:\"space-between\",\"data-sentry-element\":\"XStack\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/pages/components/SwapInputContainer.tsx\",children:[_jsx(SwapAccountAddressContainer,{type:direction,onClickNetwork:onSelectToken,\"data-sentry-element\":\"SwapAccountAddressContainer\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/pages/components/SwapInputContainer.tsx\"}),_jsx(SwapInputActions,{fromToken:fromToken,accountInfo:accountInfo,showPercentageInput:showPercentageInput,showActionBuy:showActionBuy,onSelectStage:onSelectPercentageStage,\"data-sentry-element\":\"SwapInputActions\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/pages/components/SwapInputContainer.tsx\"})]}),_jsx(AmountInput,{onChange:onAmountChange,value:amountValue,onFocus:onFromInputFocus,onBlur:onFromInputBlur,hasError:fromInputHasError.accountError||fromInputHasError.hasBalanceError,balanceProps:{value:balance,onPress:direction===ESwapDirectionType.FROM&&!token?.isNative?onBalanceMaxPress:undefined},valueProps:{value:amountPrice,color:inputLoading&&direction===ESwapDirectionType.TO?'$textPlaceholder':undefined,currency:settingsPersistAtom.currencyInfo.symbol,moreComponent:valueMoreComponent},inputProps:{placeholder:'0.0',readOnly:direction===ESwapDirectionType.TO,color:direction===ESwapDirectionType.TO&&inputLoading?'$textPlaceholder':undefined,style:!false&&direction===ESwapDirectionType.TO?{caretColor:'transparent'}:undefined},tokenSelectorTriggerProps:{loading:selectTokenLoading,selectedNetworkImageUri:token?.networkLogoURI,selectedTokenImageUri:token?.logoURI,selectedTokenSymbol:token?.symbol,onPress:function(){onSelectToken(direction);}},enableMaxAmount:!!(direction===ESwapDirectionType.FROM&&!token?.isNative),\"data-sentry-element\":\"AmountInput\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/pages/components/SwapInputContainer.tsx\"})]});};export default memo(SwapInputContainer);","import{memo,useCallback}from'react';import BigNumber from'bignumber.js';import{IconButton,YStack}from'@onekeyhq/components';import{useSwapActions,useSwapFromTokenAmountAtom,useSwapQuoteCurrentSelectAtom,useSwapSelectFromTokenAtom,useSwapSelectToTokenAtom,useSwapSelectTokenDetailFetchingAtom,useSwapSelectedFromTokenBalanceAtom,useSwapSelectedToTokenBalanceAtom}from'@onekeyhq/kit/src/states/jotai/contexts/swap';import{ESwapDirectionType}from'@onekeyhq/shared/types/swap/types';import{useSwapFromAccountNetworkSync}from\"../../hooks/useSwapAccount\";import{useSwapApproving}from\"../../hooks/useSwapApproving\";import{useSwapQuote}from\"../../hooks/useSwapQuote\";import{useSwapQuoteEventFetching,useSwapQuoteLoading}from\"../../hooks/useSwapState\";import{validateAmountInput}from\"../../utils/utils\";import SwapInputContainer from\"./SwapInputContainer\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SwapQuoteInput=function({onSelectToken,selectLoading}){var _swapQuoteCurrentSele;var[fromInputAmount,setFromInputAmount]=useSwapFromTokenAmountAtom();var swapQuoteLoading=useSwapQuoteLoading();var quoteEventFetching=useSwapQuoteEventFetching();var[fromToken]=useSwapSelectFromTokenAtom();var[toToken]=useSwapSelectToTokenAtom();var[swapTokenDetailLoading]=useSwapSelectTokenDetailFetchingAtom();var{alternationToken}=useSwapActions().current;var[swapQuoteCurrentSelect]=useSwapQuoteCurrentSelectAtom();var[fromTokenBalance]=useSwapSelectedFromTokenBalanceAtom();var[toTokenBalance]=useSwapSelectedToTokenBalanceAtom();var onSelectPercentageStage=useCallback(function(stage){var _fromToken$decimals;var fromTokenBalanceBN=new BigNumber(fromTokenBalance!=null?fromTokenBalance:0);var amountBN=fromTokenBalanceBN.multipliedBy(stage/100);var amountAfterDecimal=amountBN.decimalPlaces((_fromToken$decimals=fromToken?.decimals)!=null?_fromToken$decimals:6,BigNumber.ROUND_DOWN);if(!amountAfterDecimal.isNaN()&&validateAmountInput(amountAfterDecimal.toFixed(),fromToken?.decimals)){setFromInputAmount(amountAfterDecimal.toFixed());}},[fromTokenBalance,fromToken?.decimals,setFromInputAmount]);useSwapQuote();useSwapFromAccountNetworkSync();useSwapApproving();return _jsxs(YStack,{\"data-sentry-element\":\"YStack\",\"data-sentry-component\":\"SwapQuoteInput\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/pages/components/SwapQuoteInput.tsx\",children:[_jsx(SwapInputContainer,{token:fromToken,direction:ESwapDirectionType.FROM,selectTokenLoading:selectLoading,onAmountChange:function(value){if(validateAmountInput(value,fromToken?.decimals)){setFromInputAmount(value);}},onSelectPercentageStage:onSelectPercentageStage,amountValue:fromInputAmount,onBalanceMaxPress:function(){var maxAmount=fromTokenBalance;if(fromToken?.reservationValue){var fromTokenBalanceBN=new BigNumber(fromTokenBalance!=null?fromTokenBalance:0);var fromTokenReservationValueBN=new BigNumber(fromToken.reservationValue);if(fromTokenBalanceBN.minus(fromTokenReservationValueBN).isGreaterThan(0)){maxAmount=fromTokenBalanceBN.minus(fromTokenReservationValueBN).toFixed();}}setFromInputAmount(maxAmount);},onSelectToken:onSelectToken,balance:fromTokenBalance,\"data-sentry-element\":\"SwapInputContainer\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/pages/components/SwapQuoteInput.tsx\"}),_jsxs(YStack,{pt:\"$3.5\",\"data-sentry-element\":\"YStack\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/pages/components/SwapQuoteInput.tsx\",children:[_jsx(IconButton,{alignSelf:\"flex-end\",icon:\"SwitchVerOutline\",size:\"small\",zIndex:2,disabled:swapTokenDetailLoading.from||swapTokenDetailLoading.to,onPress:alternationToken,mb:\"$-3\",\"data-sentry-element\":\"IconButton\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/pages/components/SwapQuoteInput.tsx\"}),_jsx(SwapInputContainer,{token:toToken,inputLoading:swapQuoteLoading||quoteEventFetching,selectTokenLoading:selectLoading,direction:ESwapDirectionType.TO,amountValue:(_swapQuoteCurrentSele=swapQuoteCurrentSelect?.toAmount)!=null?_swapQuoteCurrentSele:'',onSelectToken:onSelectToken,balance:toTokenBalance,\"data-sentry-element\":\"SwapInputContainer\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/pages/components/SwapQuoteInput.tsx\"})]})]});};export default memo(SwapQuoteInput);","import{useCallback,useEffect,useRef}from'react';import{useIntl}from'react-intl';import{EPageType,usePageType}from'@onekeyhq/components';import{useRouteIsFocused as useIsFocused}from'@onekeyhq/kit/src/hooks/useRouteIsFocused';import{useInAppNotificationAtom}from'@onekeyhq/kit-bg/src/states/jotai/atoms';import{EAppEventBusNames,appEventBus}from'@onekeyhq/shared/src/eventBus/appEventBus';import{ETabRoutes}from'@onekeyhq/shared/src/routes';import{equalTokenNoCaseSensitive}from'@onekeyhq/shared/src/utils/tokenUtils';import{ESwapApproveTransactionStatus,ESwapDirectionType}from'@onekeyhq/shared/types/swap/types';import{useDebounce}from\"../../../hooks/useDebounce\";import useListenTabFocusState from\"../../../hooks/useListenTabFocusState\";import{useSwapActions,useSwapApproveAllowanceSelectOpenAtom,useSwapFromTokenAmountAtom,useSwapQuoteActionLockAtom,useSwapQuoteEventTotalCountAtom,useSwapQuoteFetchingAtom,useSwapQuoteListAtom,useSwapSelectFromTokenAtom,useSwapSelectToTokenAtom,useSwapShouldRefreshQuoteAtom,useSwapSlippageDialogOpeningAtom}from\"../../../states/jotai/contexts/swap\";import{truncateDecimalPlaces}from\"../utils/utils\";import{useSwapAddressInfo}from\"./useSwapAccount\";import{useSwapSlippagePercentageModeInfo}from\"./useSwapState\";export function useSwapQuote(){var intl=useIntl();var{quoteAction,cleanQuoteInterval,quoteEventHandler}=useSwapActions().current;var[swapQuoteActionLock]=useSwapQuoteActionLockAtom();var swapAddressInfo=useSwapAddressInfo(ESwapDirectionType.FROM);var[fromToken]=useSwapSelectFromTokenAtom();var{slippageItem}=useSwapSlippagePercentageModeInfo();var[toToken]=useSwapSelectToTokenAtom();var[swapSlippageDialogOpening]=useSwapSlippageDialogOpeningAtom();var[swapApproveAllowanceSelectOpen]=useSwapApproveAllowanceSelectOpenAtom();var[fromTokenAmount,setFromTokenAmount]=useSwapFromTokenAmountAtom();var[swapQuoteResultList,setSwapQuoteResultList]=useSwapQuoteListAtom();var[swapQuoteEventTotalCount,setSwapQuoteEventTotalCount]=useSwapQuoteEventTotalCountAtom();var[swapQuoteFetching]=useSwapQuoteFetchingAtom();var{closeQuoteEvent}=useSwapActions().current;var[{swapApprovingTransaction}]=useInAppNotificationAtom();var[swapShouldRefresh]=useSwapShouldRefreshQuoteAtom();var swapShouldRefreshRef=useRef(swapShouldRefresh);var swapQuoteActionLockRef=useRef(swapQuoteActionLock);var swapQuoteFetchingRef=useRef(swapQuoteFetching);var swapSlippageRef=useRef(slippageItem);if(swapQuoteFetchingRef.current!==swapQuoteFetching){swapQuoteFetchingRef.current=swapQuoteFetching;}var swapQuoteResultListRef=useRef(swapQuoteResultList);if(swapQuoteResultListRef.current!==swapQuoteResultList){swapQuoteResultListRef.current=swapQuoteResultList;}var swapQuoteEventTotalCountRef=useRef(swapQuoteEventTotalCount);if(swapQuoteEventTotalCountRef.current!==swapQuoteEventTotalCount){swapQuoteEventTotalCountRef.current=swapQuoteEventTotalCount;}if(swapQuoteActionLockRef.current!==swapQuoteActionLock){swapQuoteActionLockRef.current=swapQuoteActionLock;}if(swapShouldRefreshRef.current!==swapShouldRefresh){swapShouldRefreshRef.current=swapShouldRefresh;}if(swapSlippageRef.current!==slippageItem){swapSlippageRef.current=slippageItem;}var isFocused=useIsFocused();var isFocusRef=useRef(isFocused);if(isFocusRef.current!==isFocused){isFocusRef.current=isFocused;}var activeAccountRef=useRef();if(activeAccountRef.current!==swapAddressInfo){activeAccountRef.current=swapAddressInfo;}var swapApprovingTxRef=useRef();if(swapApprovingTxRef.current!==swapApprovingTransaction){swapApprovingTxRef.current=swapApprovingTransaction;}var fromAmountDebounce=useDebounce(fromTokenAmount,500,{leading:true});var alignmentDecimal=useCallback(function(){var checkedDecimal=truncateDecimalPlaces(fromAmountDebounce,fromToken?.decimals);if(checkedDecimal&&checkedDecimal!==fromAmountDebounce){setFromTokenAmount(checkedDecimal);}},[fromToken?.decimals,fromAmountDebounce,setFromTokenAmount]);useEffect(function(){if(!isFocusRef.current)return;if(!fromTokenAmount){void quoteAction(swapSlippageRef.current,activeAccountRef.current?.address,activeAccountRef.current?.accountInfo?.account?.id);}},[fromTokenAmount,quoteAction]);useEffect(function(){if(swapSlippageDialogOpening.status||swapApproveAllowanceSelectOpen){}else if(!swapSlippageDialogOpening.status&&swapSlippageDialogOpening.flag==='save'){void quoteAction(swapSlippageRef.current,activeAccountRef.current?.address,activeAccountRef.current?.accountInfo?.account?.id);}},[quoteAction,cleanQuoteInterval,swapApproveAllowanceSelectOpen,swapSlippageDialogOpening]);useEffect(function(){if(!isFocusRef.current)return;if(swapApprovingTransaction&&swapApprovingTransaction.txId&&swapApprovingTransaction.status===ESwapApproveTransactionStatus.SUCCESS&&!swapApprovingTransaction.resetApproveValue){void quoteAction(swapSlippageRef.current,activeAccountRef.current?.address,activeAccountRef.current?.accountInfo?.account?.id,swapApprovingTransaction.blockNumber);}},[intl,cleanQuoteInterval,quoteAction,swapApprovingTransaction]);useEffect(function(){if(!isFocusRef.current)return;if(fromToken?.networkId!==activeAccountRef.current?.networkId||equalTokenNoCaseSensitive({token1:{networkId:fromToken?.networkId,contractAddress:fromToken?.contractAddress},token2:{networkId:toToken?.networkId,contractAddress:toToken?.contractAddress}})){return;}if(swapQuoteActionLockRef.current?.actionLock&&swapQuoteActionLockRef.current?.fromTokenAmount===fromAmountDebounce&&equalTokenNoCaseSensitive({token1:swapQuoteActionLockRef.current?.fromToken,token2:{networkId:fromToken?.networkId,contractAddress:fromToken?.contractAddress}})&&equalTokenNoCaseSensitive({token1:swapQuoteActionLockRef.current?.toToken,token2:{networkId:toToken?.networkId,contractAddress:toToken?.contractAddress}})&&swapQuoteActionLockRef.current.accountId===activeAccountRef.current?.accountInfo?.account?.id&&swapQuoteActionLockRef.current?.address===swapAddressInfo.address){return;}alignmentDecimal();void quoteAction(swapSlippageRef.current,activeAccountRef.current?.address,activeAccountRef.current?.accountInfo?.account?.id);return function(){cleanQuoteInterval();};},[cleanQuoteInterval,quoteAction,swapAddressInfo.address,swapAddressInfo.networkId,fromToken?.networkId,fromToken?.contractAddress,toToken?.networkId,toToken?.contractAddress,alignmentDecimal,fromAmountDebounce]);useEffect(function(){if(isFocusRef.current)return;if(fromToken?.networkId!==activeAccountRef.current?.networkId||equalTokenNoCaseSensitive({token1:{networkId:fromToken?.networkId,contractAddress:fromToken?.contractAddress},token2:{networkId:toToken?.networkId,contractAddress:toToken?.contractAddress}})){return;}alignmentDecimal();void quoteAction(swapSlippageRef.current,activeAccountRef.current?.address,activeAccountRef.current?.accountInfo?.account?.id);return function(){cleanQuoteInterval();};},[swapAddressInfo.accountInfo?.deriveType]);var pageType=usePageType();useListenTabFocusState(ETabRoutes.Swap,function(isFocus,isHiddenModel){if(pageType!==EPageType.modal){if(isFocus){appEventBus.off(EAppEventBusNames.SwapQuoteEvent,quoteEventHandler);appEventBus.on(EAppEventBusNames.SwapQuoteEvent,quoteEventHandler);}else if(isHiddenModel){if(swapQuoteFetchingRef.current||swapQuoteEventTotalCountRef.current>0&&swapQuoteResultListRef.current.length<swapQuoteEventTotalCountRef.current){closeQuoteEvent();setSwapQuoteEventTotalCount(0);setSwapQuoteResultList([]);setFromTokenAmount('');}appEventBus.off(EAppEventBusNames.SwapQuoteEvent,quoteEventHandler);}else{appEventBus.off(EAppEventBusNames.SwapQuoteEvent,quoteEventHandler);appEventBus.on(EAppEventBusNames.SwapQuoteEvent,quoteEventHandler);}}});useEffect(function(){if(pageType===EPageType.modal){if(isFocused){appEventBus.off(EAppEventBusNames.SwapQuoteEvent,quoteEventHandler);appEventBus.on(EAppEventBusNames.SwapQuoteEvent,quoteEventHandler);}}},[isFocused,pageType,quoteEventHandler]);}","import{memo,useMemo}from'react';import{Icon,IconButton,Popover,SizableText,Skeleton,Stack,XStack}from'@onekeyhq/components';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SwapCommonInfoItemTitleContent=function({title,questionMarkContent}){var questionMarkComponent=useMemo(function(){return _jsx(Popover,{title:title,renderTrigger:_jsx(IconButton,{variant:\"tertiary\",size:\"small\",icon:\"InfoCircleOutline\"}),renderContent:_jsx(Stack,{children:questionMarkContent})});},[questionMarkContent,title]);return _jsxs(XStack,{\"data-sentry-element\":\"XStack\",\"data-sentry-component\":\"SwapCommonInfoItemTitleContent\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/components/SwapCommonInfoItem.tsx\",children:[_jsx(SizableText,{userSelect:\"none\",mr:\"$1\",size:\"$bodyMd\",color:\"$textSubdued\",\"data-sentry-element\":\"SizableText\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/components/SwapCommonInfoItem.tsx\",children:title}),questionMarkContent?questionMarkComponent:null]});};var SwapCommonInfoItemTitleContentMemo=memo(SwapCommonInfoItemTitleContent);var SwapCommonInfoItem=function({title,value,onPress,isLoading,valueComponent,questionMarkContent}){var rightTrigger=useMemo(function(){return _jsxs(XStack,{userSelect:\"none\",hoverStyle:{opacity:0.5},alignItems:\"center\",onPress:onPress,cursor:onPress?'pointer':undefined,children:[valueComponent||_jsx(SizableText,{size:\"$bodyMdMedium\",children:value}),onPress?_jsx(Icon,{name:\"ChevronRightSmallOutline\",mr:\"$-1\",size:\"$5\",color:\"$iconSubdued\"}):null]});},[onPress,value,valueComponent]);return _jsxs(XStack,{justifyContent:\"space-between\",alignItems:\"center\",\"data-sentry-element\":\"XStack\",\"data-sentry-component\":\"SwapCommonInfoItem\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/components/SwapCommonInfoItem.tsx\",children:[_jsx(SwapCommonInfoItemTitleContentMemo,{title:title,questionMarkContent:questionMarkContent,\"data-sentry-element\":\"SwapCommonInfoItemTitleContentMemo\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/components/SwapCommonInfoItem.tsx\"}),_jsx(XStack,{gap:\"$2\",\"data-sentry-element\":\"XStack\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/components/SwapCommonInfoItem.tsx\",children:isLoading?_jsx(Stack,{py:\"$1\",children:_jsx(Skeleton,{h:\"$3\",w:\"$24\"})}):rightTrigger})]});};export default memo(SwapCommonInfoItem);","import{memo}from'react';import{useIntl}from'react-intl';import{Badge,Icon,Image,SizableText,Skeleton,Stack,XStack}from'@onekeyhq/components';import{ETranslations}from'@onekeyhq/shared/src/locale';import{SwapServiceFeeOverview}from\"./SwapServiceFeeOverview\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var SwapProviderInfoItemTitleContent=function({onekeyFee}){var intl=useIntl();return _jsxs(XStack,{\"data-sentry-element\":\"XStack\",\"data-sentry-component\":\"SwapProviderInfoItemTitleContent\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/components/SwapProviderInfoItem.tsx\",children:[_jsx(SizableText,{size:\"$bodyMd\",color:\"$textSubdued\",userSelect:\"none\",mr:\"$1\",\"data-sentry-element\":\"SizableText\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/components/SwapProviderInfoItem.tsx\",children:intl.formatMessage({id:ETranslations.swap_page_provider_provider})}),_jsx(SwapServiceFeeOverview,{onekeyFee:onekeyFee,\"data-sentry-element\":\"SwapServiceFeeOverview\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/components/SwapProviderInfoItem.tsx\"})]});};export var SwapProviderInfoItemTitleContentMemo=memo(SwapProviderInfoItemTitleContent);var SwapProviderInfoItem=function({fromToken,isBest,onekeyFee,toToken,providerIcon,providerName,showLock,onPress,isLoading}){var intl=useIntl();return _jsxs(XStack,{justifyContent:\"space-between\",alignItems:\"center\",\"data-sentry-element\":\"XStack\",\"data-sentry-component\":\"SwapProviderInfoItem\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/components/SwapProviderInfoItem.tsx\",children:[_jsx(SwapProviderInfoItemTitleContentMemo,{onekeyFee:onekeyFee,\"data-sentry-element\":\"SwapProviderInfoItemTitleContentMemo\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/components/SwapProviderInfoItem.tsx\"}),isLoading?_jsx(Stack,{py:\"$1\",children:_jsx(Skeleton,{h:\"$3\",w:\"$24\"})}):_jsxs(XStack,{alignItems:\"center\",userSelect:\"none\",hoverStyle:{opacity:0.5},onPress:onPress,cursor:onPress?'pointer':undefined,children:[!providerIcon||!fromToken||!toToken?null:_jsxs(_Fragment,{children:[isBest?_jsx(Badge,{badgeSize:\"sm\",badgeType:\"success\",marginRight:\"$2\",children:intl.formatMessage({id:ETranslations.global_best})}):null,_jsx(Image,{source:{uri:providerIcon},w:\"$5\",h:\"$5\",borderRadius:\"$1\"}),_jsx(SizableText,{size:\"$bodyMdMedium\",ml:\"$1\",children:providerName!=null?providerName:''})]}),showLock?_jsx(Icon,{name:\"LockOutline\",color:\"$iconSubdued\",ml:\"$1\",size:\"$5\"}):null,onPress?_jsx(Icon,{name:\"ChevronRightSmallOutline\",size:\"$5\",color:\"$iconSubdued\",mr:\"$-1\"}):null]})]});};export default memo(SwapProviderInfoItem);","import{memo,useCallback,useEffect,useRef}from'react';import Animated from\"react-native-web/dist/exports/Animated\";import{LottieView,XStack}from'@onekeyhq/components';import{swapRefreshInterval}from'@onekeyhq/shared/types/swap/SwapProvider.constants';import{useRouteIsFocused}from\"../../../hooks/useRouteIsFocused\";import{useThemeVariant}from\"../../../hooks/useThemeVariant\";import{useSwapActionState}from\"../hooks/useSwapState\";import{jsx as _jsx}from\"react/jsx-runtime\";var SwapRefreshButton=function({refreshAction}){var loadingAnim=useRef(new Animated.Value(0)).current;var processAnim=useRef(new Animated.Value(0)).current;var processAnimRef=useRef();var themeVariant=useThemeVariant();var lottieRef=useRef(null);var isFocused=useRouteIsFocused();var{isRefreshQuote}=useSwapActionState();var isRefreshQuoteRef=useRef(isRefreshQuote);if(isRefreshQuoteRef.current!==isRefreshQuote){isRefreshQuoteRef.current=isRefreshQuote;}var onRefresh=useCallback(function(manual){if(!isFocused)return;loadingAnim.setValue(0);Animated.timing(loadingAnim,{toValue:-1,duration:500,useNativeDriver:true}).start(function(finished){if(finished){refreshAction(manual);}});},[isFocused,loadingAnim,refreshAction]);useEffect(function(){var fn=processAnim.addListener(function({value}){if(value===swapRefreshInterval){onRefresh();}});return function(){return processAnim.removeListener(fn);};},[onRefresh,processAnim]);useEffect(function(){if(!isRefreshQuoteRef.current){processAnimRef.current=Animated.timing(processAnim,{toValue:swapRefreshInterval,duration:swapRefreshInterval,useNativeDriver:true});processAnimRef.current?.reset();processAnimRef.current?.start();}else{lottieRef.current?.reset();processAnimRef.current?.reset();}},[processAnim,isRefreshQuote]);useEffect(function(){if(isFocused){var value=Number(processAnim._value);if(value===swapRefreshInterval){onRefresh();}}},[isFocused,processAnim,onRefresh]);return _jsx(XStack,{cursor:\"pointer\",onPress:function(event){event.stopPropagation();onRefresh(true);},\"data-sentry-element\":\"XStack\",\"data-sentry-component\":\"SwapRefreshButton\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/components/SwapRefreshButton.tsx\",children:_jsx(Animated.View,{style:{transform:[{rotate:loadingAnim.interpolate({inputRange:[0,1],outputRange:['0deg','360deg']})}]},\"data-sentry-element\":\"unknown\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/components/SwapRefreshButton.tsx\",children:_jsx(LottieView,{ref:lottieRef,source:themeVariant==='light'?require('@onekeyhq/kit/assets/animations/lottie_onekey_swap_refresh_light.json'):require('@onekeyhq/kit/assets/animations/lottie_onekey_swap_refresh_dark.json'),width:20,height:20,autoPlay:true,\"data-sentry-element\":\"LottieView\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/components/SwapRefreshButton.tsx\"})})});};export default memo(SwapRefreshButton);","import{useMemo,useState}from'react';import{BigNumber}from'bignumber.js';import{useIntl}from'react-intl';import{Badge,Icon,Image,NumberSizeableText,SizableText,Skeleton,Stack,XStack}from'@onekeyhq/components';import{ETranslations}from'@onekeyhq/shared/src/locale';import SwapRefreshButton from\"./SwapRefreshButton\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SwapQuoteResultRate=function({rate,isBest,fromToken,toToken,providerIcon,providerName,isLoading,onOpenResult,openResult,refreshAction}){var intl=useIntl();var[isReverse,setIsReverse]=useState(false);var rateIsExit=useMemo(function(){var rateBN=new BigNumber(rate!=null?rate:0);return!rateBN.isZero();},[rate]);var rateContent=useMemo(function(){if(!onOpenResult||!fromToken||!toToken){return _jsx(SizableText,{size:\"$bodyMdMedium\",children:intl.formatMessage({id:ETranslations.swap_page_provider_provider_insufficient_liquidity})});}if(!rateIsExit){return _jsx(SizableText,{ml:\"$1\",size:\"$bodyMdMedium\",children:intl.formatMessage({id:ETranslations.swap_page_provider_rate_unavailable})});}var rateBN=new BigNumber(rate!=null?rate:0);return _jsx(XStack,{gap:\"$2\",alignItems:\"center\",hoverStyle:{opacity:0.5},onPress:function(event){event.stopPropagation();setIsReverse(!isReverse);},cursor:\"pointer\",children:_jsxs(SizableText,{size:\"$bodyMdMedium\",maxWidth:240,$gtMd:{maxWidth:240},textAlign:\"right\",children:[`1 ${isReverse?toToken.symbol.toUpperCase():fromToken.symbol.toUpperCase()} = `,_jsx(NumberSizeableText,{size:\"$bodyMdMedium\",formatter:\"balance\",children:isReverse?new BigNumber(1).div(rateBN).toFixed():rateBN.toFixed()}),_jsx(SizableText,{size:\"$bodyMdMedium\",children:` ${isReverse?fromToken.symbol:toToken.symbol}`})]})});},[fromToken,intl,isReverse,onOpenResult,rate,rateIsExit,toToken]);return _jsxs(XStack,{alignItems:\"center\",gap:\"$5\",\"data-sentry-element\":\"XStack\",\"data-sentry-component\":\"SwapQuoteResultRate\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/components/SwapQuoteResultRate.tsx\",children:[isLoading?_jsx(Stack,{py:\"$0.5\",children:_jsx(Skeleton,{h:\"$4\",w:\"$32\"})}):_jsxs(XStack,{gap:\"$1\",alignItems:\"center\",children:[_jsx(SwapRefreshButton,{refreshAction:refreshAction}),rateContent]}),_jsxs(XStack,{alignItems:\"center\",userSelect:\"none\",gap:\"$1\",flex:1,\"data-sentry-element\":\"XStack\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/components/SwapQuoteResultRate.tsx\",children:[!providerIcon||!fromToken||!toToken||!onOpenResult?null:_jsxs(XStack,{flex:1,justifyContent:\"flex-end\",animation:\"quick\",y:openResult?'$1':'$0',opacity:openResult?0:1,children:[isBest?_jsx(Badge,{badgeSize:\"sm\",marginRight:\"$2\",badgeType:\"success\",children:intl.formatMessage({id:ETranslations.global_best})}):null,_jsx(Image,{source:{uri:providerIcon},w:\"$5\",h:\"$5\",borderRadius:\"$1\"}),_jsx(SizableText,{numberOfLines:1,size:\"$bodyMdMedium\",ml:\"$1\",flexShrink:1,children:providerName!=null?providerName:''})]}),!isLoading&&onOpenResult?_jsx(Stack,{animation:\"quick\",rotate:openResult?'180deg':'0deg',children:_jsx(Icon,{name:\"ChevronDownSmallOutline\",color:openResult?'$iconActive':'$iconSubdued',size:\"$5\"})}):null]})]});};export default SwapQuoteResultRate;","import _defineProperty from\"@babel/runtime/helpers/defineProperty\";function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}import{useCallback,useRef}from'react';import{useIntl}from'react-intl';import{Dialog}from'@onekeyhq/components';import{useSettingsAtom}from'@onekeyhq/kit-bg/src/states/jotai/atoms';import{ETranslations}from'@onekeyhq/shared/src/locale';import{ESwapSlippageSegmentKey}from'@onekeyhq/shared/types/swap/types';import{useSwapSlippageDialogOpeningAtom}from\"../../../states/jotai/contexts/swap\";import SwapSlippageContentContainer from\"../pages/components/SwapSlippageContentContainer\";import{useSwapSlippagePercentageModeInfo}from\"./useSwapState\";import{jsx as _jsx}from\"react/jsx-runtime\";export function useSwapSlippageActions(){var intl=useIntl();var{slippageItem,autoValue}=useSwapSlippagePercentageModeInfo();var[,setSwapSlippageDialogOpening]=useSwapSlippageDialogOpeningAtom();var[,setSettings]=useSettingsAtom();var dialogRef=useRef(null);var slippageOnSave=useCallback(function(item,close){setSettings(function(v){return _objectSpread(_objectSpread({},v),{},{swapSlippagePercentageMode:item.key});});if(item.key===ESwapSlippageSegmentKey.CUSTOM){setSettings(function(v){return _objectSpread(_objectSpread({},v),{},{swapSlippagePercentageMode:item.key,swapSlippagePercentageCustomValue:item.value});});}void close({flag:'save'});},[setSettings]);var onSlippageHandleClick=useCallback(function(){dialogRef.current=Dialog.show({title:intl.formatMessage({id:ETranslations.slippage_tolerance_title}),renderContent:_jsx(SwapSlippageContentContainer,{swapSlippage:slippageItem,autoValue:autoValue,onSave:slippageOnSave}),onOpen:function(){setSwapSlippageDialogOpening({status:true});},onClose:function(extra){setSwapSlippageDialogOpening({status:false,flag:extra?.flag});}});},[autoValue,intl,setSwapSlippageDialogOpening,slippageItem,slippageOnSave]);return{onSlippageHandleClick,slippageOnSave,slippageItem};}","import{memo,useCallback}from'react';import{useIntl}from'react-intl';import{Icon,Select,SizableText,Skeleton,Stack,XStack}from'@onekeyhq/components';import{ETranslations}from'@onekeyhq/shared/src/locale';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SwapApproveAllowanceSelect=function({onSelectAllowanceValue,currentSelectAllowanceValue,selectItems,onSelectOpenChange,isLoading}){var intl=useIntl();var renderTrigger=useCallback(function(){if(isLoading)return _jsx(Stack,{py:\"$1\",children:_jsx(Skeleton,{h:\"$3\",w:\"$24\"})});return _jsxs(XStack,{userSelect:\"none\",hoverStyle:{opacity:0.5},children:[_jsx(SizableText,{size:\"$bodyMdMedium\",children:currentSelectAllowanceValue?.label}),_jsx(Icon,{size:\"$5\",color:\"$iconSubdued\",name:\"ChevronRightSmallOutline\",mr:\"$-1\"})]});},[currentSelectAllowanceValue?.label,isLoading]);return _jsxs(XStack,{justifyContent:\"space-between\",\"data-sentry-element\":\"XStack\",\"data-sentry-component\":\"SwapApproveAllowanceSelect\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/components/SwapApproveAllowanceSelect.tsx\",children:[_jsx(SizableText,{size:\"$bodyMd\",color:\"$textSubdued\",userSelect:\"none\",\"data-sentry-element\":\"SizableText\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/components/SwapApproveAllowanceSelect.tsx\",children:intl.formatMessage({id:ETranslations.swap_page_provider_approve_amount})}),_jsx(Select,{placement:\"bottom-end\",items:selectItems,value:currentSelectAllowanceValue?.value,onChange:function(value){onSelectAllowanceValue(value);},onOpenChange:onSelectOpenChange,title:intl.formatMessage({id:ETranslations.swap_page_provider_approve_amount}),renderTrigger:renderTrigger,\"data-sentry-element\":\"Select\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/components/SwapApproveAllowanceSelect.tsx\"})]});};export default memo(SwapApproveAllowanceSelect);","import{memo,useCallback,useMemo}from'react';import{useIntl}from'react-intl';import{NumberSizeableText}from'@onekeyhq/components';import{useSwapApproveAllowanceSelectOpenAtom,useSwapQuoteApproveAllowanceUnLimitAtom}from'@onekeyhq/kit/src/states/jotai/contexts/swap';import{ETranslations}from'@onekeyhq/shared/src/locale';import{ESwapApproveAllowanceType}from'@onekeyhq/shared/types/swap/types';import SwapApproveAllowanceSelect from\"../../components/SwapApproveAllowanceSelect\";import{jsx as _jsx}from\"react/jsx-runtime\";var SwapApproveAllowanceSelectContainer=function({allowanceResult,fromTokenSymbol,isLoading}){var intl=useIntl();var[swapQuoteApproveAllowanceUnLimit,setSwapQuoteApproveAllowanceUnLimit]=useSwapQuoteApproveAllowanceUnLimitAtom();var[,setSwapApproveAllowanceSelectOpen]=useSwapApproveAllowanceSelectOpenAtom();var approveAllowanceSelectItems=useMemo(function(){return[{label:_jsx(NumberSizeableText,{size:\"$bodyMdMedium\",formatter:\"balance\",formatterOptions:{tokenSymbol:fromTokenSymbol},children:allowanceResult.amount}),value:ESwapApproveAllowanceType.PRECISION},{label:intl.formatMessage({id:ETranslations.swap_page_provider_approve_amount_un_limit}),value:ESwapApproveAllowanceType.UN_LIMIT}];},[allowanceResult.amount,fromTokenSymbol,intl]);var onSelectAllowanceValue=useCallback(function(value){setSwapQuoteApproveAllowanceUnLimit(value===ESwapApproveAllowanceType.UN_LIMIT);},[setSwapQuoteApproveAllowanceUnLimit]);return _jsx(SwapApproveAllowanceSelect,{currentSelectAllowanceValue:approveAllowanceSelectItems[swapQuoteApproveAllowanceUnLimit?1:0],onSelectAllowanceValue:onSelectAllowanceValue,selectItems:approveAllowanceSelectItems,isLoading:isLoading,onSelectOpenChange:setSwapApproveAllowanceSelectOpen,\"data-sentry-element\":\"SwapApproveAllowanceSelect\",\"data-sentry-component\":\"SwapApproveAllowanceSelectContainer\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/pages/components/SwapApproveAllowanceSelectContainer.tsx\"});};export default memo(SwapApproveAllowanceSelectContainer);","import{memo,useMemo}from'react';import BigNumber from'bignumber.js';import{useIntl}from'react-intl';import{SizableText}from'@onekeyhq/components';import{ETranslations}from'@onekeyhq/shared/src/locale';import{swapSlippageDecimal,swapSlippageWillAheadMinValue}from'@onekeyhq/shared/types/swap/SwapProvider.constants';import{ESwapSlippageSegmentKey}from'@onekeyhq/shared/types/swap/types';import SwapCommonInfoItem from\"../../components/SwapCommonInfoItem\";import{jsx as _jsx}from\"react/jsx-runtime\";var SwapSlippageTriggerContainer=function({isLoading,onPress,slippageItem}){var intl=useIntl();var displaySlippage=useMemo(function(){return new BigNumber(slippageItem.value).decimalPlaces(swapSlippageDecimal,BigNumber.ROUND_DOWN).toFixed();},[slippageItem.value]);var slippageDisplayValue=useMemo(function(){return intl.formatMessage({id:slippageItem.key===ESwapSlippageSegmentKey.AUTO?ETranslations.swap_page_provider_slippage_auto:ETranslations.swap_page_provider_custom},{number:displaySlippage});},[displaySlippage,intl,slippageItem.key]);var valueComponent=useMemo(function(){return _jsx(SizableText,{size:\"$bodyMdMedium\",color:slippageItem.value>swapSlippageWillAheadMinValue?'$textCaution':'$text',children:slippageDisplayValue});},[slippageDisplayValue,slippageItem.value]);return _jsx(SwapCommonInfoItem,{title:intl.formatMessage({id:ETranslations.swap_page_provider_slippage_tolerance}),isLoading:isLoading,onPress:onPress,questionMarkContent:_jsx(SizableText,{p:\"$5\",$gtMd:{size:'$bodyMd'},children:intl.formatMessage({id:ETranslations.slippage_tolerance_popover})}),valueComponent:valueComponent,\"data-sentry-element\":\"SwapCommonInfoItem\",\"data-sentry-component\":\"SwapSlippageTriggerContainer\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/pages/components/SwapSlippageTriggerContainer.tsx\"});};export default memo(SwapSlippageTriggerContainer);","import{memo,useCallback,useState}from'react';import BigNumber from'bignumber.js';import{useIntl}from'react-intl';import{Accordion,Divider,Icon,NumberSizeableText,SizableText,XStack}from'@onekeyhq/components';import{useDebounce}from'@onekeyhq/kit/src/hooks/useDebounce';import{useSwapFromTokenAmountAtom,useSwapProviderSupportReceiveAddressAtom,useSwapSelectFromTokenAtom,useSwapSelectToTokenAtom,useSwapTokenMetadataAtom}from'@onekeyhq/kit/src/states/jotai/contexts/swap';import{useSettingsPersistAtom}from'@onekeyhq/kit-bg/src/states/jotai/atoms';import{ETranslations}from'@onekeyhq/shared/src/locale';import SwapCommonInfoItem from\"../../components/SwapCommonInfoItem\";import SwapProviderInfoItem from\"../../components/SwapProviderInfoItem\";import SwapQuoteResultRate from\"../../components/SwapQuoteResultRate\";import{useSwapRecipientAddressInfo}from\"../../hooks/useSwapAccount\";import{useSwapSlippageActions}from\"../../hooks/useSwapSlippageActions\";import{useSwapQuoteLoading}from\"../../hooks/useSwapState\";import SwapApproveAllowanceSelectContainer from\"./SwapApproveAllowanceSelectContainer\";import SwapSlippageTriggerContainer from\"./SwapSlippageTriggerContainer\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SwapQuoteResult=function({onOpenProviderList,quoteResult,refreshAction,onOpenRecipient}){var[openResult,setOpenResult]=useState(false);var[fromToken]=useSwapSelectFromTokenAtom();var[toToken]=useSwapSelectToTokenAtom();var[fromTokenAmount]=useSwapFromTokenAmountAtom();var[settingsPersistAtom]=useSettingsPersistAtom();var[swapTokenMetadata]=useSwapTokenMetadataAtom();var[swapProviderSupportReceiveAddress]=useSwapProviderSupportReceiveAddressAtom();var swapQuoteLoading=useSwapQuoteLoading();var intl=useIntl();var{onSlippageHandleClick,slippageItem}=useSwapSlippageActions();var swapRecipientAddress=useSwapRecipientAddressInfo(settingsPersistAtom.swapEnableRecipientAddress);var calculateTaxItem=useCallback(function(tokenBuyTaxBps,tokenSellTaxBps,tokenInfo){var _tokenInfo$symbol;var showTax=BigNumber.maximum(tokenBuyTaxBps,tokenSellTaxBps);var finalShowTax=showTax.dividedBy(100).toNumber();return _jsx(SwapCommonInfoItem,{title:intl.formatMessage({id:ETranslations.swap_page_buy_sell_tax},{token:`${(_tokenInfo$symbol=tokenInfo?.symbol)!=null?_tokenInfo$symbol:''}`}),isLoading:swapQuoteLoading,valueComponent:_jsx(SizableText,{size:\"$bodyMdMedium\",children:`${finalShowTax}%`})});},[intl,swapQuoteLoading]);var tokenMetadataParse=useCallback(function(tokenMetadata,fromTokenInfo,toTokenInfo){var buyToken=tokenMetadata?.buyToken;var sellToken=tokenMetadata?.sellToken;var buyTaxItem=null;var sellTaxItem=null;var buyTokenBuyTaxBps=new BigNumber(buyToken?.buyTaxBps?buyToken?.buyTaxBps:0);var buyTokenSellTaxBps=new BigNumber(buyToken?.sellTaxBps?buyToken?.sellTaxBps:0);var sellTokenBuyTaxBps=new BigNumber(sellToken?.buyTaxBps?sellToken?.buyTaxBps:0);var sellTokenSellTaxBps=new BigNumber(sellToken?.sellTaxBps?sellToken?.sellTaxBps:0);if(buyTokenBuyTaxBps.gt(0)||buyTokenSellTaxBps.gt(0)){buyTaxItem=calculateTaxItem(buyTokenBuyTaxBps,buyTokenSellTaxBps,toTokenInfo);}if(sellTokenBuyTaxBps.gt(0)||sellTokenSellTaxBps.gt(0)){sellTaxItem=calculateTaxItem(sellTokenBuyTaxBps,sellTokenSellTaxBps,fromTokenInfo);}return _jsxs(_Fragment,{children:[sellTaxItem,buyTaxItem]});},[calculateTaxItem]);var fromAmountDebounce=useDebounce(fromTokenAmount,500,{leading:true});if(!fromToken||!toToken||new BigNumber(fromTokenAmount).isNaN()||new BigNumber(fromTokenAmount).isZero()){return null;}if(fromToken&&toToken&&!new BigNumber(fromAmountDebounce).isZero()&&!new BigNumber(fromAmountDebounce).isNaN()){var _swapRecipientAddress,_fromToken$symbol,_quoteResult$info$pro3,_quoteResult$info$pro4;return _jsx(Accordion,{type:\"single\",collapsible:true,children:_jsxs(Accordion.Item,{value:\"1\",children:[_jsx(Accordion.Trigger,{unstyled:true,borderWidth:0,bg:\"$transparent\",p:\"$0\",cursor:\"pointer\",disabled:!quoteResult?.info.provider||swapQuoteLoading,children:function({open}){var _quoteResult$info$pro,_quoteResult$info$pro2;return _jsx(SwapQuoteResultRate,{rate:quoteResult?.instantRate,fromToken:fromToken,toToken:toToken,isBest:quoteResult?.isBest,providerIcon:(_quoteResult$info$pro=quoteResult?.info.providerLogo)!=null?_quoteResult$info$pro:'',providerName:(_quoteResult$info$pro2=quoteResult?.info.providerName)!=null?_quoteResult$info$pro2:'',isLoading:swapQuoteLoading,refreshAction:refreshAction,onOpenResult:quoteResult?.info.provider&&!swapQuoteLoading?function(){return setOpenResult(!openResult);}:undefined,openResult:open});}}),_jsx(Accordion.HeightAnimator,{animation:\"quick\",children:_jsxs(Accordion.Content,{gap:\"$4\",p:\"$0\",animation:\"quick\",enterStyle:{opacity:0},exitStyle:{opacity:0},children:[_jsx(Divider,{mt:\"$4\"}),swapProviderSupportReceiveAddress&&settingsPersistAtom.swapEnableRecipientAddress?_jsx(SwapCommonInfoItem,{title:intl.formatMessage({id:ETranslations.global_recipient}),isLoading:swapQuoteLoading,onPress:onOpenRecipient,valueComponent:_jsxs(XStack,{gap:\"$1\",children:[!swapRecipientAddress?.showAddress?_jsx(Icon,{name:\"AddPeopleOutline\",w:18,h:18}):null,_jsx(SizableText,{size:\"$bodyMdMedium\",children:(_swapRecipientAddress=swapRecipientAddress?.showAddress)!=null?_swapRecipientAddress:intl.formatMessage({id:ETranslations.swap_page_recipient_edit})})]})}):null,quoteResult?.allowanceResult?_jsx(SwapApproveAllowanceSelectContainer,{allowanceResult:quoteResult?.allowanceResult,fromTokenSymbol:(_fromToken$symbol=fromToken?.symbol)!=null?_fromToken$symbol:'',isLoading:swapQuoteLoading}):null,quoteResult?.info.provider?_jsx(SwapProviderInfoItem,{providerIcon:(_quoteResult$info$pro3=quoteResult?.info.providerLogo)!=null?_quoteResult$info$pro3:'',providerName:(_quoteResult$info$pro4=quoteResult?.info.providerName)!=null?_quoteResult$info$pro4:'',isLoading:swapQuoteLoading,isBest:quoteResult.isBest,fromToken:fromToken,onekeyFee:quoteResult?.fee?.percentageFee,toToken:toToken,showLock:!!quoteResult?.allowanceResult,onPress:quoteResult?.info.provider?function(){onOpenProviderList?.();}:undefined}):null,quoteResult?.toAmount&&!quoteResult?.unSupportSlippage&&!quoteResult.isWrapped?_jsx(SwapSlippageTriggerContainer,{isLoading:swapQuoteLoading,onPress:onSlippageHandleClick,slippageItem:slippageItem}):null,quoteResult?.fee?.estimatedFeeFiatValue?_jsx(SwapCommonInfoItem,{title:intl.formatMessage({id:ETranslations.swap_page_provider_est_network_fee}),isLoading:swapQuoteLoading,valueComponent:_jsx(NumberSizeableText,{size:\"$bodyMdMedium\",formatter:\"value\",formatterOptions:{currency:settingsPersistAtom.currencyInfo.symbol},children:quoteResult.fee?.estimatedFeeFiatValue})}):null,swapTokenMetadata?.swapTokenMetadata?tokenMetadataParse(swapTokenMetadata?.swapTokenMetadata,fromToken,toToken):null]})})]})});}};export default memo(SwapQuoteResult);","import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}import{useCallback,useRef}from'react';import{EPageType,ScrollView,YStack}from'@onekeyhq/components';import useAppNavigation from'@onekeyhq/kit/src/hooks/useAppNavigation';import{useSwapActions,useSwapAlertsAtom,useSwapFromTokenAmountAtom,useSwapQuoteCurrentSelectAtom,useSwapQuoteIntervalCountAtom}from'@onekeyhq/kit/src/states/jotai/contexts/swap';import{EJotaiContextStoreNames,useInAppNotificationAtom}from'@onekeyhq/kit-bg/src/states/jotai/atoms';import{EModalRoutes}from'@onekeyhq/shared/src/routes';import{EModalSwapRoutes}from'@onekeyhq/shared/src/routes/swap';import{swapApproveResetValue}from'@onekeyhq/shared/types/swap/SwapProvider.constants';import{ESwapDirectionType}from'@onekeyhq/shared/types/swap/types';import SwapRecentTokenPairsGroup from\"../../components/SwapRecentTokenPairsGroup\";import{useSwapAddressInfo}from\"../../hooks/useSwapAccount\";import{useSwapBuildTx}from\"../../hooks/useSwapBuiltTx\";import{useSwapQuoteEventFetching,useSwapQuoteLoading,useSwapSlippagePercentageModeInfo}from\"../../hooks/useSwapState\";import{useSwapInit}from\"../../hooks/useSwapTokens\";import{SwapProviderMirror}from\"../SwapProviderMirror\";import SwapActionsState from\"./SwapActionsState\";import SwapAlertContainer from\"./SwapAlertContainer\";import SwapHeaderContainer from\"./SwapHeaderContainer\";import SwapQuoteInput from\"./SwapQuoteInput\";import SwapQuoteResult from\"./SwapQuoteResult\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SwapMainLoad=function({swapInitParams,pageType}){var _quoteResult$quoteId;var{buildTx,approveTx,wrappedTx}=useSwapBuildTx();var{fetchLoading}=useSwapInit(swapInitParams);var navigation=useAppNavigation();var[quoteResult]=useSwapQuoteCurrentSelectAtom();var[alerts]=useSwapAlertsAtom();var toAddressInfo=useSwapAddressInfo(ESwapDirectionType.TO);var swapFromAddressInfo=useSwapAddressInfo(ESwapDirectionType.FROM);var quoteLoading=useSwapQuoteLoading();var quoteEventFetching=useSwapQuoteEventFetching();var[{swapRecentTokenPairs}]=useInAppNotificationAtom();var[fromTokenAmount]=useSwapFromTokenAmountAtom();var[,setSwapQuoteIntervalCount]=useSwapQuoteIntervalCountAtom();var{selectFromToken,selectToToken,quoteAction}=useSwapActions().current;var{slippageItem}=useSwapSlippagePercentageModeInfo();var swapSlippageRef=useRef(slippageItem);if(swapSlippageRef.current!==slippageItem){swapSlippageRef.current=slippageItem;}var onSelectToken=useCallback(function(type){navigation.pushModal(EModalRoutes.SwapModal,{screen:EModalSwapRoutes.SwapTokenSelect,params:{type,storeName:pageType===EPageType.modal?EJotaiContextStoreNames.swapModal:EJotaiContextStoreNames.swap}});},[navigation,pageType]);var onSelectRecentTokenPairs=useCallback(function({fromToken,toToken}){void selectFromToken(fromToken,true);void selectToToken(toToken);},[selectFromToken,selectToToken]);var onOpenProviderList=useCallback(function(){navigation.pushModal(EModalRoutes.SwapModal,{screen:EModalSwapRoutes.SwapProviderSelect,params:{storeName:pageType===EPageType.modal?EJotaiContextStoreNames.swapModal:EJotaiContextStoreNames.swap}});},[navigation,pageType]);var onToAnotherAddressModal=useCallback(function(){navigation.pushModal(EModalRoutes.SwapModal,{screen:EModalSwapRoutes.SwapToAnotherAddress,params:{address:toAddressInfo.address,storeName:pageType===EPageType.modal?EJotaiContextStoreNames.swapModal:EJotaiContextStoreNames.swap}});},[navigation,pageType,toAddressInfo.address]);var onBuildTx=useCallback(_asyncToGenerator(function*(){yield buildTx();}),[buildTx]);var onApprove=useCallback(function(){var _ref2=_asyncToGenerator(function*(amount,isMax,shoutResetApprove){if(shoutResetApprove){yield approveTx(swapApproveResetValue,isMax,amount);}else{yield approveTx(amount,isMax);}});return function(_x,_x2,_x3){return _ref2.apply(this,arguments);};}(),[approveTx]);var refreshAction=useCallback(function(manual){if(manual){void quoteAction(swapSlippageRef.current,swapFromAddressInfo?.address,swapFromAddressInfo?.accountInfo?.account?.id);}else{setSwapQuoteIntervalCount(function(v){return v+1;});void quoteAction(swapSlippageRef.current,swapFromAddressInfo?.address,swapFromAddressInfo?.accountInfo?.account?.id,undefined,true);}},[quoteAction,swapFromAddressInfo?.accountInfo?.account?.id,swapFromAddressInfo?.address,setSwapQuoteIntervalCount]);var onWrapped=useCallback(_asyncToGenerator(function*(){yield wrappedTx();}),[wrappedTx]);return _jsx(ScrollView,{\"data-sentry-element\":\"ScrollView\",\"data-sentry-component\":\"SwapMainLoad\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/pages/components/SwapMainLand.tsx\",children:_jsx(YStack,{testID:\"swap-content-container\",flex:1,marginHorizontal:\"auto\",width:\"100%\",maxWidth:pageType===EPageType.modal?'100%':500,\"data-sentry-element\":\"YStack\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/pages/components/SwapMainLand.tsx\",children:_jsxs(YStack,{pt:\"$2.5\",px:\"$5\",pb:\"$5\",gap:\"$5\",flex:1,$gtMd:{flex:'unset',pt:pageType===EPageType.modal?'$2.5':'$5'},\"data-sentry-element\":\"YStack\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/pages/components/SwapMainLand.tsx\",children:[_jsx(SwapHeaderContainer,{pageType:pageType,defaultSwapType:swapInitParams?.swapTabSwitchType,\"data-sentry-element\":\"SwapHeaderContainer\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/pages/components/SwapMainLand.tsx\"}),_jsx(SwapQuoteInput,{onSelectToken:onSelectToken,selectLoading:fetchLoading,\"data-sentry-element\":\"SwapQuoteInput\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/pages/components/SwapMainLand.tsx\"}),_jsx(SwapActionsState,{onBuildTx:onBuildTx,onApprove:onApprove,onWrapped:onWrapped,onOpenRecipientAddress:onToAnotherAddressModal,\"data-sentry-element\":\"SwapActionsState\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/pages/components/SwapMainLand.tsx\"}),_jsx(SwapQuoteResult,{refreshAction:refreshAction,onOpenProviderList:onOpenProviderList,quoteResult:quoteResult,onOpenRecipient:onToAnotherAddressModal,\"data-sentry-element\":\"SwapQuoteResult\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/pages/components/SwapMainLand.tsx\"}),alerts.states.length>0&&!quoteLoading&&!quoteEventFetching&&alerts.quoteId===((_quoteResult$quoteId=quoteResult?.quoteId)!=null?_quoteResult$quoteId:'')?_jsx(SwapAlertContainer,{alerts:alerts.states}):null,_jsx(SwapRecentTokenPairsGroup,{onSelectTokenPairs:onSelectRecentTokenPairs,tokenPairs:swapRecentTokenPairs,fromTokenAmount:fromTokenAmount,\"data-sentry-element\":\"SwapRecentTokenPairsGroup\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/pages/components/SwapMainLand.tsx\"})]})})});};var SwapMainLandWithPageType=function(props){return _jsx(SwapProviderMirror,{storeName:props?.pageType===EPageType.modal?EJotaiContextStoreNames.swapModal:EJotaiContextStoreNames.swap,\"data-sentry-element\":\"SwapProviderMirror\",\"data-sentry-component\":\"SwapMainLandWithPageType\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/pages/components/SwapMainLand.tsx\",children:_jsx(SwapMainLoad,_objectSpread(_objectSpread({},props),{},{pageType:props?.pageType,\"data-sentry-element\":\"SwapMainLoad\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/pages/components/SwapMainLand.tsx\"}))});};export default SwapMainLandWithPageType;"],"names":["EVaultKeyringTypes","EWrappedType","useDebounce","value","delay","options","debounce","_excluded","ownKeys","e","r","t","Object","keys","getOwnPropertySymbols","o","filter","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","arguments","length","forEach","getOwnPropertyDescriptors","defineProperties","defineProperty","ActionBase","_ref","networkId","tokenAddress","type","label","icon","accountId","walletType","disabled","hiddenIfDisabled","rest","loading","setLoading","useState","result","isSupported","isDisabled","useMemo","handlePress","useCallback","url","serviceFiatCrypto","generateWidgetUrl","Toast","error","title","A","onPress","intl","formatMessage","id","ETranslations","global_buy","useSupportNetworkId","isAllNetwork","isNetworkSupported","initResult","debounced","useSupportToken","isTokenSupported","useGetTokensList","getTokensList","watchLoading","useFiatCrypto","fiatCryptoType","allTokens","map","navigation","handleFiatCrypto","pushModal","FiatCryptoModal","screen","BuyModal","SellModal","params","tokens","Boolean","_excluded2","ActionItem","verticalContainerProps","showButtonStyle","media","useMedia","gtSm","Button","py","pl","pr","children","Stack","alignItems","maxWidth","IconButton","size","SizableText","mt","textAlign","color","minWidth","numberOfLines","RawActions","_ref2","XStack","justifyContent","$gtSm","flexDirection","gap","Children","toArray","More","ActionMore","sections","ActionList","global_more","floatingPanelProps","w","renderTrigger","sm","Buy","ActionBuy","props","Sell","ActionSell","global_cash_out","Send","ActionSend","global_send","Receive","ActionReceive","global_receive","Swap","ActionSwap","global_swap","Bridge","ActionBridge","swap_page_bridge","useSwapFromAccountNetworkSync","updateSelectedAccountNetwork","current","fromToken","activeAccount","toActiveAccount","num","fromActiveAccount","swapToAnotherAccount","setSwapToAnotherAccount","swapProviderSupportReceiveAddress","setSettings","useSettingsAtom","toToken","fromTokenRef","useRef","toTokenRef","swapProviderSupportReceiveAddressRef","swapToAnotherAccountRef","swapToAccountRef","swapFromAccountRef","checkTokenForAccountNetworkDebounce","account","wallet","address","v","swapToAnotherAccountSwitchOn","undefined","setTimeout","network","pageType","usePageType","isFocus","isHideByModal","EPageType","modal","_x","_x2","this","useEffect","contractAddress","isFocused","useSwapAddressInfo","FROM","swapToAnotherAccountAddressAtom","res","accountInfo","TO","useSwapRecipientAddressInfo","enable","fromAccountInfo","swapToAddressInfo","currentQuoteRes","swapToAnotherAddressInfo","getToNetWorkAddressFromAccountId","indexedAccount","serviceStaking","getEarnAccount","indexedAccountId","getToAddressAccountInfos","serviceAccount","getAccountNameFromAddress","accountAddress","toTokenInfo","walletName","name","accountName","showAddress","shortenAddress","leadingLength","trailingLength","isExtAccount","useSwapInit","swapNetworks","setSwapNetworks","setFromToken","setToToken","setInAppNotificationAtom","useInAppNotificationAtom","syncNetworksSort","swapAddressInfo","networkListFetching","setNetworkListFetching","skipSyncDefaultSelectedToken","setSkipSyncDefaultSelectedToken","swapAddressInfoRef","swapTypeSwitch","swapTypeSwitchAction","swapNetworksRef","fetchSwapNetworks","swapNetworksSortList","simpleDb","swapNetworksSort","getRawData","data","noSupportInfo","every","net","supportCrossChainSwap","supportSingleSwap","setRawData","networks","fetchNetworks","serviceSwap","sortNetworks","find","n","serverNetwork","concat","checkSupportTokenSwapType","token","enableSwitchAction","supportNet","supportTypes","SWAP","BRIDGE","swapTabSwitchType","includes","_swapAddressInfoRef$c","needSwitchType","syncDefaultSelectedToken","importFromToken","importToToken","_ref3","_params$importFromTok","fromTokenSupportTypes","toTokenSupportTypes","fromNetworkDefault","defaultToToken","isNative","defaultTokenSupportTypes","onekeyall","ready","importNetworkId","isAllNet","accountNetwork","netInfo","netId","allNetDefaultToken","defaultFromToken","_defaultToToken","networkLogoURI","logoURI","swapRecentTokenSync","isHiddenModel","fetchLoading","useSwapTokenList","selectTokenModalType","currentNetworkId","keywords","currentTokens","setCurrentTokens","tokenCatch","swapAllNetworkTokenListMap","swapSupportAllAccounts","setSwapSupportAllAccounts","swapSupportAllNetworks","tokenListFetchAction","swapLoadAllNetworkTokenList","swapTokenFetching","_swapAddressInfo$acco","swapSupportAccounts","getSupportSwapAllAccounts","otherWalletTypeAccountId","dbAccount","swapSupportNetworks","tokenFetchParams","findNetInfo","accountNetworkId","apiAddress","swapAllNetworkTokenList","_ref9","_ref10","_swapAddressInfo$acco2","sortAllNetworkTokens","havePriceTokens","_token$price","priceBN","price","isNaN","isZero","sort","a","b","_a$fiatValue","_b$fiatValue","aBalanceBN","fiatValue","comparedTo","noPriceTokens","_token$price2","_a$fiatValue2","_b$fiatValue2","mergedAllNetworkTokenList","swapAllNetRecommend","swapSearchTokens","_swapAllNetworkTokenL","_allNetworkTokenList$","allNetworkTokenList","swapNet","haveBalanceTokenList","_token$balanceParsed","balanceBN","balanceParsed","_swapAllNetRecommend$","filterRecommendTokenList","balanceToken","token1","token2","allNetTokens","allNetSearchTokens","walletToken","fuseRemoteTokensSearch","JSON","stringify","shouldSort","fuseRemoteTokensSearchRef","_swapAddressInfo$acco3","search","useSwapSelectedTokenInfo","orderFinishCheckBalance","setOrderFinishCheckBalance","swapHistoryPendingList","loadSwapSelectTokenDetail","swapHistoryPendingListRef","orderFinishCheckBalanceRef","isFocusRef","successOrder","item","status","SUCCESS","reservationValue","SwapProviderMirror","memo","storeName","store","getOrCreateStore","displayName","onSelectTokenPairs","tokenPairs","fromTokenAmount","useIntl","openMore","setOpenMore","swapTypeSwitchAtom","fromTokenAmountBN","tokenPairsInCurrentType","rerenderRecentTokenPairs","tokenPairsToShow","slice","needFoldingMinCount","pt","pb","flexWrap","tokenPair","index","role","userSelect","bg","borderRadius","borderWidth","StyleSheet","hairlineWidth","borderColor","hoverStyle","pressStyle","focusable","focusVisibleStyle","outlineColor","outlineStyle","outlineWidth","outlineOffset","YStack","my","Token","h","tokenImageUri","ml","symbol","Icon","global_show_less","global_show_more","swap_page_recent_trade","useSwapQuoteLoading","quoteFetching","silenceQuoteLoading","useSwapQuoteEventFetching","quoteEventTotalCount","quoteResult","useSwapActionState","quoteLoading","quoteEventFetching","quoteCurrentSelect","buildTxFetching","settingsPersistAtom","useSettingsPersistAtom","shouldRefreshQuote","swapQuoteApproveAllowanceUnLimit","useSwapWarningCheck","swapFromAddressInfo","fromTokenBalance","checkSwapWarning","refContainer","asyncRefContainer","alerts","selectedFromTokenBalance","isCrossChain","quoteIntervalCount","isRefreshQuote","hasError","states","some","alertLevel","ERROR","quoteResultNoMatch","fromTokenInfo","allowanceResult","amount","quoteResultNoMatchDebounce","actionInfo","infoRes","disable","swap_page_swap_button","fromAmount","swap_page_button_fetching_quotes","swap_page_button_cross_chain","isWrapped","swap_page_button_wrap","swapBatchApproveAndSwap","swap_page_approve_and_swap","global_approve","toAmount","limit","swap_page_alert_no_provider_supports_trade","swap_page_button_enter_a_recipient","lt","swap_page_button_insufficient_balance","swap_page_button_select_token","swap_page_button_enter_amount","swap_page_button_refresh_quotes","isLoading","approveUnLimit","isApprove","shoutResetApprove","shouldResetApprove","useSwapSlippagePercentageModeInfo","swapSlippagePercentageCustomValue","swapSlippagePercentageMode","autoValue","autoSuggestedSlippage","AUTO","slippageItem","key","useSwapBuildTx","_swapFromAddressInfo$","_swapFromAddressInfo$2","_ref4","_ref8","selectQuote","setSwapQuoteResultList","setSwapQuoteEventTotalCount","setSwapBuildTxFetching","inAppNotificationAtom","setSwapFromTokenAmount","setSwapShouldRefreshQuote","setSwapManualSelectQuoteProviders","generateSwapHistoryItem","useSwapTxHistoryActions","setToken","setFromTokenAmount","settingsAtom","txId","gasFeeInNative","gasFeeFiatValue","swapTxInfo","_swapTxInfo$swapBuild","_swapTxInfo$swapBuild2","_swapTxInfo$swapBuild3","_swapTxInfo$swapBuild4","swapHistoryItem","PENDING","currency","currencyInfo","sender","receiver","baseInfo","fromNetwork","toNetwork","txInfo","orderId","swapBuildResData","swftOrder","receivingAddress","date","created","Date","now","updated","swapInfo","instantRate","provider","info","socketBridgeScanUrl","oneKeyFee","fee","percentageFee","protocolFee","protocolFees","otherFeeInfos","supportUrl","ctx","backgroundApiProxy","addSwapHistoryItem","swapAgainUseHistoryItem","isFirstTimeSwap","setPersistSettings","navigationToSendConfirm","useSendConfirm","syncRecentTokenPairs","swapFromToken","swapToToken","swapRecentTokenPairsUpdate","handleBuildTxSuccess","transactionSignedInfo","signedTx","transactionDecodedInfo","decodedTx","txid","totalFeeInNative","totalFeeFiatValue","serviceNotification","blockNotificationForTxId","tx","handleApproveTxSuccess","swapApprovingTransaction","resetApproveValue","approveInfo","swapApproveRes","prev","_x3","handleTxFail","cancelBuildTx","cancelApproveTx","CANCEL","checkOtherFee","_ref5","otherFeeInfo","checkRes","Promise","all","tokenBalanceInfo","fetchSwapTokenDetails","_tokenBalanceInfo$0$b","_item$amount","_selectQuote$fromAmou","tokenBalanceBN","shouldAddFromAmount","tokenAmountBN","finalTokenAmount","plus","toFixed","swap_page_toast_insufficient_balance_title","message","swap_page_toast_insufficient_balance_content","number","formatter","_x5","_x4","wrappedTx","wrappedType","DEPOSIT","WITHDRAW","wrappedInfo","from","contract","isInternalSwap","onSuccess","onCancel","createBuildTx","fetchBuildTx","toTokenAmount","slippagePercentage","userAddress","quoteResultCtx","_res$result$gasLimit","_selectQuote$gasLimit","transferInfo","encodedTx","_res$result$fromToken","tokenInfo","to","platformAddr","depositCoinAmt","changellyOrder","_res$result$fromToken2","payinAddress","amountExpectedFrom","payinExtraId","thorSwapCallData","_res$result$fromToken3","vault","opReturn","hasStreamingSwap","memoStreamingSwap","shiftedBy","decimals","OKXTxObject","_swapFromAddressInfo$3","buildOkxSwapEncodedTx","okxTx","_res$tx$value","valueHex","buildGasLimitBN","gasLimit","quoteGasLimitBN","toNumber","routesData","approveTx","isMax","allowanceInfo","_fromToken$name","approvesInfo","owner","spender","allowanceTarget","_fromToken$name2","approveResetInfo","_selectQuote$fee$perc","_selectQuote$routesDa","createBuildTxRes","accountUtils","isHwAccount","isExternalAccount","feeInfo","dataRes","transfersInfo","_x10","_x9","swap","createSwapOrder","swapCreateOrder","swapProvider","swapProviderName","providerName","swapType","slippage","toString","sourceChain","receivedChain","sourceTokenSymbol","receivedTokenSymbol","feeType","router","isFirstTime","createFrom","_fromToken$name3","_approveInfo","pre","_swapFromAddressInfo$4","useAddress","spenderAddress","resetApproveIsMax","_x6","_x7","_x8","buildTx","_selectQuote$fee$perc2","_selectQuote$routesDa2","onBuildTx","onApprove","onWrapped","onOpenRecipientAddress","cleanQuoteInterval","quoteAction","swapActionState","swapSlippageRef","swapEnableRecipientAddress","swapRecipientAddressInfo","handleApprove","Dialog","confirm","onConfirmText","global_continue","onConfirm","showCancelButton","swap_page_provider_approve_usdt_dialog_title","description","swap_page_provider_approve_usdt_dialog_content","md","onActionHandler","onActionHandlerBefore","_currentQuoteRes$quot","_currentQuoteRes$quot2","quoteShowTip","detail","renderContent","link","variant","alignSelf","global_learn_more","shouldShowRecipient","approveStepComponent","_fromToken$symbol","Popover","placement","$gtMd","px","swap_page_swap_steps_1_approve_dialog","opacity","swap_page_swap_steps_1","tokenSymbol","swap_page_swap_steps_2","recipientComponent","flex","flexShrink","swap_page_recipient_send_to","cursor","textDecorationLine","swap_page_recipient_external_account","_swapRecipientAddress","_swapRecipientAddress2","haveTips","actionComponent","Page","Footer","buttonContainerProps","confirmButton","alertsSorted","INFO","selectTokenDetailLoading","accountManualCreatingAtom","setAccountManualCreatingAtom","useAccountManualCreatingAtom","createAddress","useAccountSelectorCreateAddress","createAddressError","setCreateAddressError","handleAlertAction","action","actionType","CREATE_ADDRESS","actionData","_action$actionData$nu","selectAfterCreate","success","swap_page_toast_address_generated","swap_page_toast_address_generated_fail","haveErrorAlert","getAlertType","level","WARNING","createAlert","_action$actionLabel","TOKEN_DETAIL_FETCHING","Alert","actionLabel","primary","onPrimaryPress","isPrimaryLoading","reverse","SlippageInput","swapSlippage","onChangeText","inputValue","setInputValue","isOriginalNumberDot","handleTextChange","text","test","displaySlippage","decimalPlaces","ROUND_DOWN","Input","containerProps","autoFocus","CUSTOM","addOns","placeholder","onSave","swapSlippageStatus","setSwapSlippageStatus","customValueState","setCustomValueState","NORMAL","handleSlippageChange","valueBN","isNegative","gt","slippage_tolerance_error_message","lte","WRONG","slippage_tolerance_warning_message_2","gte","slippage_tolerance_warning_message_1","SegmentControl","fullWidth","slippage_tolerance_switch_auto","slippage_tolerance_switch_custom","onChange","borderTopRightRadius","borderBottomRightRadius","borderTopLeftRadius","borderBottomLeftRadius","Divider","vertical","slippage_tolerance_description","slippage_tolerance_button_save","confirmButtonProps","close","SwapSettingsCommonItem","content","badgeContent","Badge","badgeSize","badgeType","width","Switch","SwapSettingsSlippageItem","rightTrigger","mr","SwapSlippageCustomContent","s","SwapSettingsDialogContent","setNoPersistSettings","keyValue","HeightTransition","swap_page_provider_slippage_tolerance","swap_page_settings_simple_mode","swap_page_settings_simple_mode_content","swap_page_settings_recipient_title","swap_page_settings_recipient_content","useAppNavigation","swapPendingStatusList","i","CANCELING","slippageTitle","onOpenHistoryListModal","SwapModal","SwapHistoryList","onOpenSwapSettings","show","swap_page_settings","EJotaiContextStoreNames","swapModal","showConfirmButton","onCancelText","global_close","showFooter","Header","iconProps","m","CustomTabItem","isSelected","borderCurve","hitSlop","top","bottom","defaultSwapType","networkIdRef","swap_page_swap","onClickNetwork","swapSupportAllNetwork","networkComponent","networkInfo","AnimatePresence","animation","enterStyle","x","exitStyle","Image","source","uri","swap_page_from","swap_page_to","DeriveTypeSelectorTrigger","showPercentageInput","showActionBuy","onSelectStage","_fromToken$networkId","_accountInfo$account$","_accountInfo$wallet$t","_fromToken$contractAd","needSwapPercentageInputStage","height","platformEnv","isNativeIOS","stage","onAmountChange","direction","amountValue","selectTokenLoading","inputLoading","onSelectToken","onBalanceMaxPress","onSelectPercentageStage","balance","rateDifference","amountPrice","tokenPriceBN","tokenFiatValueBN","multipliedBy","fromInputHasError","accountError","inputShowError","isHdWallet","walletId","isHwWallet","isQrWallet","amountValueBN","hasBalanceError","valueMoreComponent","unit","NEGATIVE","POSITIVE","percentageInputStageShow","setPercentageInputStageShow","AmountInput","onFocus","onBlur","balanceProps","valueProps","moreComponent","inputProps","readOnly","style","caretColor","tokenSelectorTriggerProps","selectedNetworkImageUri","selectedTokenImageUri","selectedTokenSymbol","enableMaxAmount","selectLoading","_swapQuoteCurrentSele","fromInputAmount","setFromInputAmount","swapQuoteLoading","swapTokenDetailLoading","alternationToken","swapQuoteCurrentSelect","toTokenBalance","_fromToken$decimals","amountAfterDecimal","useSwapQuote","quoteEventHandler","swapQuoteActionLock","swapSlippageDialogOpening","swapApproveAllowanceSelectOpen","swapQuoteResultList","swapQuoteEventTotalCount","swapQuoteFetching","closeQuoteEvent","swapShouldRefresh","swapShouldRefreshRef","swapQuoteActionLockRef","swapQuoteFetchingRef","swapQuoteResultListRef","swapQuoteEventTotalCountRef","activeAccountRef","swapApprovingTxRef","fromAmountDebounce","leading","alignmentDecimal","checkedDecimal","flag","blockNumber","actionLock","deriveType","useListenTabFocusState","appEventBus","off","SwapQuoteEvent","on","useSwapApproving","approvingStateAction","cleanApprovingInterval","approveTxRef","FAILED","swap_page_toast_approve_failed","swap_page_toast_approve_canceled","Number","swap_page_toast_approve_successful","maxAmount","fromTokenBalanceBN","fromTokenReservationValueBN","minus","isGreaterThan","zIndex","mb","SwapCommonInfoItemTitleContentMemo","questionMarkContent","questionMarkComponent","valueComponent","Skeleton","SwapProviderInfoItemTitleContentMemo","onekeyFee","swap_page_provider_provider","SwapServiceFeeOverview","isBest","providerIcon","showLock","marginRight","global_best","refreshAction","loadingAnim","Animated","Value","processAnim","processAnimRef","themeVariant","useThemeVariant","lottieRef","useRouteIsFocused","isRefreshQuoteRef","onRefresh","manual","setValue","timing","toValue","duration","useNativeDriver","start","finished","fn","addListener","removeListener","reset","_value","event","stopPropagation","View","transform","rotate","interpolate","inputRange","outputRange","LottieView","ref","autoPlay","rate","onOpenResult","openResult","isReverse","setIsReverse","rateIsExit","rateContent","swap_page_provider_provider_insufficient_liquidity","swap_page_provider_rate_unavailable","rateBN","toUpperCase","NumberSizeableText","div","y","onSelectAllowanceValue","currentSelectAllowanceValue","selectItems","onSelectOpenChange","swap_page_provider_approve_amount","Select","items","onOpenChange","fromTokenSymbol","setSwapQuoteApproveAllowanceUnLimit","setSwapApproveAllowanceSelectOpen","approveAllowanceSelectItems","formatterOptions","PRECISION","swap_page_provider_approve_amount_un_limit","UN_LIMIT","slippageDisplayValue","swap_page_provider_slippage_auto","swap_page_provider_custom","p","slippage_tolerance_popover","onOpenProviderList","onOpenRecipient","_quoteResult$info$pro3","_quoteResult$info$pro4","setOpenResult","swapTokenMetadata","onSlippageHandleClick","useSwapSlippageActions","setSwapSlippageDialogOpening","dialogRef","slippageOnSave","slippage_tolerance_title","SwapSlippageContentContainer","onOpen","onClose","extra","swapRecipientAddress","calculateTaxItem","tokenBuyTaxBps","tokenSellTaxBps","_tokenInfo$symbol","finalShowTax","maximum","dividedBy","swap_page_buy_sell_tax","tokenMetadataParse","tokenMetadata","buyToken","sellToken","buyTaxItem","sellTaxItem","buyTokenBuyTaxBps","buyTaxBps","buyTokenSellTaxBps","sellTaxBps","sellTokenBuyTaxBps","sellTokenSellTaxBps","Accordion","collapsible","Item","Trigger","unstyled","open","_quoteResult$info$pro","_quoteResult$info$pro2","providerLogo","HeightAnimator","Content","global_recipient","swap_page_recipient_edit","unSupportSlippage","estimatedFeeFiatValue","swap_page_provider_est_network_fee","SwapMainLoad","swapInitParams","_quoteResult$quoteId","toAddressInfo","swapRecentTokenPairs","setSwapQuoteIntervalCount","selectFromToken","selectToToken","SwapTokenSelect","onSelectRecentTokenPairs","SwapProviderSelect","onToAnotherAddressModal","SwapToAnotherAddress","ScrollView","testID","marginHorizontal","quoteId"],"sourceRoot":""}