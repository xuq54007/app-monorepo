{"version":3,"file":"static/js/45875.9446ac2c13.chunk.js","mappings":"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","sources":["webpack://web/../../packages/kit/src/provider/Container/FullWindowOverlayContainer/DevOverlayWindow.tsx"],"sourcesContent":["import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _isObject from\"lodash/isObject\";function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}import{memo,useCallback,useMemo}from'react';import{useDebouncedCallback,useThrottledCallback}from'use-debounce';import{Button,Dialog,IconButton,Input,SizableText,Slider,Stack,Switch,Tooltip,XStack,YStack}from'@onekeyhq/components';import{useDevSettingsPersistAtom,usePasswordPersistAtom}from'@onekeyhq/kit-bg/src/states/jotai/atoms';import{EModalRoutes,EModalSettingRoutes,ETabRoutes}from'@onekeyhq/shared/src/routes';import dbPerfMonitor from'@onekeyhq/shared/src/utils/debug/dbPerfMonitor';import backgroundApiProxy from\"../../../background/instance/backgroundApiProxy\";import useAppNavigation from\"../../../hooks/useAppNavigation\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function DevOverlayWindow(){var[devSettings,setDevSettings]=useDevSettingsPersistAtom();var devOverlayWindow=devSettings.enabled&&devSettings.settings?.showDevOverlayWindow;var positionInfo=useMemo(function(){if(_isObject(devOverlayWindow)){return devOverlayWindow;}return{top:10,align:'right'};},[devOverlayWindow]);var navigation=useAppNavigation();var[passwordSetting]=usePasswordPersistAtom();var updateTopPosition=useThrottledCallback(function(value){setDevSettings(function(prev){return _objectSpread(_objectSpread({},prev),{},{settings:_objectSpread(_objectSpread({},prev.settings),{},{showDevOverlayWindow:{align:(_isObject(prev.settings?.showDevOverlayWindow)?prev.settings?.showDevOverlayWindow?.align:'right')||'right',top:value}})});});},100);var updateAlign=useDebouncedCallback(function(value){setDevSettings(function(prev){return _objectSpread(_objectSpread({},prev),{},{settings:_objectSpread(_objectSpread({},prev.settings),{},{showDevOverlayWindow:_objectSpread(_objectSpread({},_isObject(prev.settings?.showDevOverlayWindow)?prev.settings?.showDevOverlayWindow:{top:10}),{},{align:value})})});});},100);var handlePress=useCallback(function(){var dialog=Dialog.show({title:'DevOverlayWindow',showConfirmButton:false,showCancelButton:false,renderContent:_jsxs(YStack,{gap:\"$4\",children:[_jsxs(XStack,{gap:\"$2\",children:[_jsx(Button,{onPress:function(){navigation.pushModal(EModalRoutes.SettingModal,{screen:EModalSettingRoutes.SettingListModal});void dialog.close();},testID:\"open-settings-page\",children:\"Settings\"}),_jsx(Button,{onPress:function(){navigation.switchTab(ETabRoutes.Home);void dialog.close();},testID:\"open-home-page\",children:\"Home\"}),_jsx(Button,{onPress:_asyncToGenerator(function*(){if(passwordSetting.isPasswordSet){yield backgroundApiProxy.servicePassword.lockApp();}else{yield backgroundApiProxy.servicePassword.promptPasswordVerify();yield backgroundApiProxy.servicePassword.lockApp();}void dialog.close();}),children:\"Lock\"})]}),_jsxs(XStack,{gap:\"$2\",alignItems:\"center\",children:[_jsx(SizableText,{children:\"TOP\"}),_jsx(Stack,{flex:1,children:_jsx(Slider,{min:1,max:100,step:1,defaultValue:positionInfo.top,onChange:function(v){updateTopPosition(v);}})})]}),_jsxs(XStack,{gap:\"$2\",alignItems:\"center\",children:[_jsx(SizableText,{children:\"ALIGN\"}),_jsx(Button,{size:\"small\",onPress:function(){updateAlign('left');},children:\"Left\"}),_jsx(Button,{size:\"small\",onPress:function(){updateAlign('right');},children:\"Right\"})]}),_jsxs(YStack,{gap:\"$2\",children:[_jsxs(XStack,{gap:\"$2\",alignItems:\"center\",children:[_jsx(SizableText,{size:\"$headingLg\",onPress:function(){},children:\"DB Perf Monitor\"}),_jsx(Stack,{flex:1}),_jsx(Button,{size:\"small\",onPress:function(){dbPerfMonitor.resetAllData();},children:\"\\u91CD\\u7F6E\\u7EDF\\u8BA1\\u6570\\u636E\"})]}),_jsxs(XStack,{gap:\"$2\",alignItems:\"center\",children:[_jsx(Tooltip,{renderTrigger:_jsx(SizableText,{children:\"\\u544A\\u8B66\"}),renderContent:_jsx(SizableText,{children:\"\\u544A\\u8B66\\u5F00\\u542F\\u540E\\uFF0C\\u7EDF\\u8BA1\\u6570\\u636E\\u6BCF\\u9694 3 \\u79D2\\u81EA\\u52A8\\u91CD\\u7F6E\"})}),_jsx(Switch,{isUncontrolled:true,defaultChecked:dbPerfMonitor.getSettings()?.toastWarningEnabled,onChange:function(v){dbPerfMonitor.updateSettings({toastWarningEnabled:v});}}),_jsx(Stack,{flex:1}),_jsx(Tooltip,{renderTrigger:_jsx(SizableText,{children:\"\\u544A\\u8B66\\u9608\\u503C\"}),renderContent:_jsx(SizableText,{children:\"\\u5F53\\u6570\\u636E\\u5E93\\u8C03\\u7528\\u9891\\u7387\\u8D85\\u8FC7\\u9608\\u503C\\u540E Toast \\u544A\\u8B66\"})}),_jsx(Input,{addOns:[{label:'次/3秒'}],size:\"small\",width:50,defaultValue:dbPerfMonitor.getSettings()?.toastWarningSize.toString(),onChangeText:function(v){var value=Number(v);if(Number.isNaN(value)){return;}dbPerfMonitor.updateSettings({toastWarningSize:value});}})]}),_jsxs(XStack,{gap:\"$2\",alignItems:\"center\",children:[_jsx(Tooltip,{renderTrigger:_jsx(SizableText,{children:\"\\u5B9E\\u65F6\\u65E5\\u5FD7\"}),renderContent:_jsx(SizableText,{children:\"\\u5F00\\u542F\\u6570\\u636E\\u5E93\\u8C03\\u7528\\u7EDF\\u8BA1\\u6570\\u636E\\u7684\\u5B9E\\u65F6\\u65E5\\u5FD7\\uFF0C\\u5173\\u95ED\\u540E\\u4EC5\\u6253\\u5370\\u544A\\u8B66\\u65E5\\u5FD7\"})}),_jsx(Switch,{isUncontrolled:true,defaultChecked:dbPerfMonitor.getSettings()?.consoleLogEnabled,onChange:function(v){dbPerfMonitor.updateSettings({consoleLogEnabled:v});}}),_jsx(Stack,{flex:1}),_jsx(Tooltip,{renderTrigger:_jsx(SizableText,{children:\"\\u81EA\\u52A8\\u65AD\\u70B9\"}),renderContent:_jsx(SizableText,{children:\"\\u9700\\u4EE3\\u7801\\u4E2D\\u5148\\u914D\\u7F6E DebuggerRule, \\u5F53\\u6EE1\\u8DB3\\u89C4\\u5219\\u65F6\\u81EA\\u52A8\\u65AD\\u70B9, \\u65B9\\u4FBF\\u6392\\u67E5\\u51FD\\u6570\\u8C03\\u7528\\u6808\"})}),_jsx(Switch,{isUncontrolled:true,defaultChecked:dbPerfMonitor.getSettings()?.debuggerEnabled,onChange:function(v){dbPerfMonitor.updateSettings({debuggerEnabled:v});}})]})]})]})});},[positionInfo.top,navigation,passwordSetting.isPasswordSet,updateTopPosition,updateAlign]);if(!devOverlayWindow){return null;}return _jsx(Stack,{position:\"absolute\",left:positionInfo.align==='left'?0:undefined,right:positionInfo.align==='right'?0:undefined,top:`${positionInfo.top>95?95:positionInfo.top}%`,\"data-sentry-element\":\"Stack\",\"data-sentry-component\":\"DevOverlayWindow\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/provider/Container/FullWindowOverlayContainer/DevOverlayWindow.tsx\",children:_jsx(IconButton,{size:\"small\",testID:\"dev-button\",icon:\"BugSolid\",iconProps:{color:'$iconSuccess'},backgroundColor:\"$bgSuccess\",onPress:handlePress,\"data-sentry-element\":\"IconButton\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/provider/Container/FullWindowOverlayContainer/DevOverlayWindow.tsx\"})});}export default memo(DevOverlayWindow);"],"names":["ownKeys","e","r","t","Object","keys","getOwnPropertySymbols","o","filter","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","arguments","length","forEach","getOwnPropertyDescriptors","defineProperties","defineProperty","memo","DevOverlayWindow","devSettings","setDevSettings","useDevSettingsPersistAtom","devOverlayWindow","enabled","settings","showDevOverlayWindow","positionInfo","useMemo","top","align","navigation","passwordSetting","usePasswordPersistAtom","updateTopPosition","value","prev","updateAlign","handlePress","useCallback","dialog","Dialog","show","title","showConfirmButton","showCancelButton","renderContent","YStack","gap","children","XStack","Button","onPress","pushModal","SettingModal","screen","SettingListModal","close","testID","switchTab","Home","isPasswordSet","servicePassword","promptPasswordVerify","lockApp","alignItems","SizableText","Stack","flex","Slider","min","max","step","defaultValue","onChange","v","size","resetAllData","Tooltip","renderTrigger","Switch","isUncontrolled","defaultChecked","getSettings","toastWarningEnabled","updateSettings","Input","addOns","label","width","toastWarningSize","toString","onChangeText","Number","isNaN","consoleLogEnabled","debuggerEnabled","position","left","undefined","right","IconButton","icon","iconProps","color","backgroundColor"],"sourceRoot":""}