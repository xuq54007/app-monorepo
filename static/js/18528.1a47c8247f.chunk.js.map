{"version":3,"file":"static/js/18528.1a47c8247f.chunk.js","mappings":"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","sources":["webpack://web/../../packages/kit/src/hooks/useDebounce.ts","webpack://web/../../packages/kit/src/views/DAppConnection/components/DAppAccountList/DAppAccountListItem.tsx","webpack://web/../../packages/kit/src/views/DAppConnection/hooks/useHandleAccountChanged.ts","webpack://web/../../packages/kit/src/views/DAppConnection/components/ConnectionList/ConnectionListItem.tsx","webpack://web/../../packages/kit/src/views/DAppConnection/pages/ConnectionList.tsx","webpack://web/../../packages/kit/src/views/Discovery/hooks/useDAppNotifyChanges.ts"],"sourcesContent":["import{useDebounce as useDebounceOriginal}from'use-debounce';export function useDebounce(value,delay,options){var[debounce]=useDebounceOriginal(value,delay,options);return debounce;}export{useDebouncedCallback}from'use-debounce';","import _isNumber from\"lodash/isNumber\";import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}import{useEffect}from'react';import{useIntl}from'react-intl';import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import{Divider,SizableText,Stack,YGroup,YStack}from'@onekeyhq/components';import backgroundApiProxy from'@onekeyhq/kit/src/background/instance/backgroundApiProxy';import{AccountSelectorProviderMirror,NetworkSelectorTriggerDappConnection}from'@onekeyhq/kit/src/components/AccountSelector';import{AccountSelectorTriggerDappConnection}from'@onekeyhq/kit/src/components/AccountSelector/AccountSelectorTrigger/AccountSelectorTriggerDApp';import useDappQuery from'@onekeyhq/kit/src/hooks/useDappQuery';import{usePromiseResult}from'@onekeyhq/kit/src/hooks/usePromiseResult';import{useAccountSelectorActions,useAccountSelectorSyncLoadingAtom}from'@onekeyhq/kit/src/states/jotai/contexts/accountSelector';import{getNetworkImplsFromDappScope}from'@onekeyhq/shared/src/background/backgroundUtils';import{ETranslations}from'@onekeyhq/shared/src/locale';import platformEnv from'@onekeyhq/shared/src/platformEnv';import timerUtils from'@onekeyhq/shared/src/utils/timerUtils';import{EAccountSelectorSceneName}from'@onekeyhq/shared/types';import{useHandleDiscoveryAccountChanged}from\"../../hooks/useHandleAccountChanged\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function DAppAccountListInitFromHome({num,shouldSyncFromHome}){var[,setSyncLoading]=useAccountSelectorSyncLoadingAtom();var actions=useAccountSelectorActions();useEffect(function(){void _asyncToGenerator(function*(){try{setSyncLoading(function(v){return _objectSpread(_objectSpread({},v),{},{[num]:{isLoading:true}});});yield timerUtils.wait(600);if(shouldSyncFromHome){yield actions.current.syncFromScene({from:{sceneName:EAccountSelectorSceneName.home,sceneNum:0},num});}}finally{if(shouldSyncFromHome){yield timerUtils.wait(300);}setSyncLoading(function(v){return _objectSpread(_objectSpread({},v),{},{[num]:{isLoading:false}});});}})();return function(){setSyncLoading(function(v){return _objectSpread(_objectSpread({},v),{},{[num]:{isLoading:false}});});};},[actions,num,setSyncLoading,shouldSyncFromHome]);return null;}var getLoadingDuration=function({skeletonRenderDuration,shouldSyncFromHome}){if(skeletonRenderDuration){return skeletonRenderDuration;}var syncFromHomeDuration=false?1200:1000;var normalLoadingDuration=false?800:500;return shouldSyncFromHome?syncFromHomeDuration:normalLoadingDuration;};function DAppAccountListItem({num,handleAccountChanged,readonly,networkReadonly,compressionUiMode,initFromHome,beforeShowTrigger,skeletonRenderDuration}){useHandleDiscoveryAccountChanged({num,handleAccountChanged});var shouldSyncFromHome=Boolean(initFromHome&&!readonly);var loadingDuration=0;return _jsxs(_Fragment,{children:[_jsxs(YGroup,{bg:\"$bg\",borderRadius:\"$3\",borderColor:\"$borderSubdued\",borderWidth:StyleSheet.hairlineWidth,separator:_jsx(Divider,{}),disabled:readonly,\"data-sentry-element\":\"YGroup\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/DAppConnection/components/DAppAccountList/DAppAccountListItem.tsx\",children:[_jsx(YGroup.Item,{\"data-sentry-element\":\"unknown\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/DAppConnection/components/DAppAccountList/DAppAccountListItem.tsx\",children:_jsx(NetworkSelectorTriggerDappConnection,{num:num,beforeShowTrigger:beforeShowTrigger,disabled:networkReadonly||readonly,loadingDuration:loadingDuration,\"data-sentry-element\":\"NetworkSelectorTriggerDappConnection\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/DAppConnection/components/DAppAccountList/DAppAccountListItem.tsx\"})}),_jsx(YGroup.Item,{\"data-sentry-element\":\"unknown\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/DAppConnection/components/DAppAccountList/DAppAccountListItem.tsx\",children:_jsx(AccountSelectorTriggerDappConnection,{num:num,compressionUiMode:compressionUiMode,beforeShowTrigger:beforeShowTrigger,loadingDuration:loadingDuration,\"data-sentry-element\":\"AccountSelectorTriggerDappConnection\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/DAppConnection/components/DAppAccountList/DAppAccountListItem.tsx\"})})]}),_jsx(DAppAccountListInitFromHome,{num:num,shouldSyncFromHome:shouldSyncFromHome,\"data-sentry-element\":\"DAppAccountListInitFromHome\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/DAppConnection/components/DAppAccountList/DAppAccountListItem.tsx\"})]});}function DAppAccountListStandAloneItem({readonly,handleAccountChanged,onConnectedAccountInfoChanged}){var intl=useIntl();var{serviceDApp,serviceNetwork}=backgroundApiProxy;var{$sourceInfo}=useDappQuery();var{result}=usePromiseResult(_asyncToGenerator(function*(){var _$sourceInfo$scope,_$sourceInfo$scope2;if(!$sourceInfo?.origin||!$sourceInfo.scope){return{accountSelectorNum:null,networkIds:null};}var impls=getNetworkImplsFromDappScope($sourceInfo.scope);var networkIds=impls?(yield serviceNetwork.getNetworkIdsByImpls({impls})).networkIds:null;var accountsInfo=yield serviceDApp.getConnectedAccountsInfo({origin:$sourceInfo.origin,scope:(_$sourceInfo$scope=$sourceInfo.scope)!=null?_$sourceInfo$scope:'',isWalletConnectRequest:$sourceInfo.isWalletConnectRequest});if(Array.isArray(accountsInfo)&&accountsInfo.length>0&&typeof accountsInfo[0]?.num==='number'){return{accountSelectorNum:accountsInfo[0].num,networkIds,existConnectedAccount:true};}var accountSelectorNum=yield serviceDApp.getAccountSelectorNum({origin:$sourceInfo.origin,scope:(_$sourceInfo$scope2=$sourceInfo.scope)!=null?_$sourceInfo$scope2:'',isWalletConnectRequest:$sourceInfo.isWalletConnectRequest});return{accountSelectorNum,networkIds,existConnectedAccount:false};}),[$sourceInfo?.origin,$sourceInfo?.scope,$sourceInfo?.isWalletConnectRequest,serviceDApp,serviceNetwork]);useEffect(function(){if(_isNumber(result?.accountSelectorNum)&&onConnectedAccountInfoChanged){onConnectedAccountInfoChanged({num:result.accountSelectorNum,existConnectedAccount:result.existConnectedAccount});}},[result?.accountSelectorNum,result?.existConnectedAccount,onConnectedAccountInfoChanged]);return _jsxs(YStack,{gap:\"$2\",testID:\"DAppAccountListStandAloneItem\",\"data-sentry-element\":\"YStack\",\"data-sentry-component\":\"DAppAccountListStandAloneItem\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/DAppConnection/components/DAppAccountList/DAppAccountListItem.tsx\",children:[_jsx(SizableText,{size:\"$headingMd\",color:\"$text\",\"data-sentry-element\":\"SizableText\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/DAppConnection/components/DAppAccountList/DAppAccountListItem.tsx\",children:intl.formatMessage({id:ETranslations.global_accounts})}),typeof result?.accountSelectorNum==='number'&&Array.isArray(result?.networkIds)?_jsx(AccountSelectorProviderMirror,{config:{sceneName:EAccountSelectorSceneName.discover,sceneUrl:$sourceInfo?.origin},enabledNum:[result.accountSelectorNum],availableNetworksMap:{[result.accountSelectorNum]:{networkIds:result.networkIds}},children:_jsx(DAppAccountListItem,{initFromHome:!result?.existConnectedAccount,num:result?.accountSelectorNum,handleAccountChanged:handleAccountChanged,readonly:readonly})}):null]});}function DAppAccountListStandAloneItemForHomeScene(){var intl=useIntl();return _jsxs(YStack,{gap:\"$2\",testID:\"DAppAccountListStandAloneItem\",\"data-sentry-element\":\"YStack\",\"data-sentry-component\":\"DAppAccountListStandAloneItemForHomeScene\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/DAppConnection/components/DAppAccountList/DAppAccountListItem.tsx\",children:[_jsx(SizableText,{size:\"$headingMd\",color:\"$text\",\"data-sentry-element\":\"SizableText\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/DAppConnection/components/DAppAccountList/DAppAccountListItem.tsx\",children:intl.formatMessage({id:ETranslations.global_accounts})}),_jsx(AccountSelectorProviderMirror,{config:{sceneName:EAccountSelectorSceneName.home},enabledNum:[0],\"data-sentry-element\":\"AccountSelectorProviderMirror\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/DAppConnection/components/DAppAccountList/DAppAccountListItem.tsx\",children:_jsx(DAppAccountListItem,{initFromHome:false,num:0,readonly:true,\"data-sentry-element\":\"DAppAccountListItem\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/DAppConnection/components/DAppAccountList/DAppAccountListItem.tsx\"})})]});}function WalletConnectAccountTriggerList({sceneUrl,sessionAccountsInfo,handleAccountChanged}){var enabledNum=sessionAccountsInfo.map(function(i){return i.accountSelectorNum;});var availableNetworksMap=sessionAccountsInfo.reduce(function(acc,accountInfo){var networkIds=accountInfo.networkIds.filter(Boolean);acc[accountInfo.accountSelectorNum]={networkIds,defaultNetworkId:networkIds[0]};return acc;},{});return _jsxs(YStack,{gap:\"$2\",\"data-sentry-element\":\"YStack\",\"data-sentry-component\":\"WalletConnectAccountTriggerList\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/DAppConnection/components/DAppAccountList/DAppAccountListItem.tsx\",children:[_jsx(SizableText,{size:\"$headingMd\",color:\"$text\",\"data-sentry-element\":\"SizableText\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/DAppConnection/components/DAppAccountList/DAppAccountListItem.tsx\",children:\"Accounts\"}),Array.isArray(sessionAccountsInfo)&&sessionAccountsInfo.length?_jsx(AccountSelectorProviderMirror,{config:{sceneName:EAccountSelectorSceneName.discover,sceneUrl},enabledNum:enabledNum,availableNetworksMap:availableNetworksMap,children:_jsx(YStack,{gap:\"$2\",children:sessionAccountsInfo.map(function(i){return _jsx(Stack,{children:_jsx(DAppAccountListItem,{initFromHome:true,num:i.accountSelectorNum,handleAccountChanged:handleAccountChanged})},i.accountSelectorNum);})})}):null]});}export{DAppAccountListItem,DAppAccountListStandAloneItem,DAppAccountListStandAloneItemForHomeScene,WalletConnectAccountTriggerList};","import{useEffect,useRef}from'react';import{useActiveAccount,useSelectedAccount}from'@onekeyhq/kit/src/states/jotai/contexts/accountSelector';import{useDebounce}from\"../../../hooks/useDebounce\";export function useHandleDiscoveryAccountChanged({num,handleAccountChanged}){var{activeAccount}=useActiveAccount({num});var{selectedAccount}=useSelectedAccount({num});var debouncedActiveAccount=useDebounce(activeAccount,200);var debouncedSelectedAccount=useDebounce(selectedAccount,200);var activeAccountRef=useRef(activeAccount);var selectedAccountRef=useRef(selectedAccount);useEffect(function(){activeAccountRef.current=activeAccount;selectedAccountRef.current=selectedAccount;},[activeAccount,selectedAccount]);useEffect(function(){if(handleAccountChanged){if(debouncedActiveAccount.isOthersWallet&&debouncedActiveAccount.account?.id===debouncedSelectedAccount.othersWalletAccountId||debouncedActiveAccount.indexedAccount?.id===debouncedSelectedAccount.indexedAccountId){handleAccountChanged({activeAccount:activeAccountRef.current,selectedAccount:selectedAccountRef.current},num);}}},[debouncedActiveAccount,debouncedSelectedAccount,handleAccountChanged,num]);}","import _defineProperty from\"@babel/runtime/helpers/defineProperty\";function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}import{useCallback}from'react';import{Icon,Image,SizableText,Skeleton,XStack,YStack}from'@onekeyhq/components';import{AccountSelectorProviderMirror}from'@onekeyhq/kit/src/components/AccountSelector';import{useSettingsPersistAtom}from'@onekeyhq/kit-bg/src/states/jotai/atoms';import{IMPL_ALGO}from'@onekeyhq/shared/src/engine/engineConsts';import{EAccountSelectorSceneName}from'@onekeyhq/shared/types';import{EAlignPrimaryAccountMode}from'@onekeyhq/shared/types/dappConnection';import{DAppAccountListItem}from\"../DAppAccountList\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function ConnectionListItem({item,handleDisconnect,handleAccountChanged}){var[settings]=useSettingsPersistAtom();var getReadonly=useCallback(function(connectionInfo){var isAlwaysUsePrimaryMode=settings.alignPrimaryAccountMode===EAlignPrimaryAccountMode.AlwaysUsePrimaryAccount;var isWalletConnect=item.storageType==='walletConnect';var isAlgoNetwork=connectionInfo.networkImpl===IMPL_ALGO;var SINGLE_CONNECTION=1;if(isWalletConnect&&isAlgoNetwork){return true;}if(isAlwaysUsePrimaryMode){return Object.keys(item.connectionMap).length<=SINGLE_CONNECTION;}return false;},[settings.alignPrimaryAccountMode,item.storageType,item.connectionMap]);return _jsxs(YStack,{gap:\"$5\",p:\"$5\",\"data-sentry-element\":\"YStack\",\"data-sentry-component\":\"ConnectionListItem\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/DAppConnection/components/ConnectionList/ConnectionListItem.tsx\",children:[_jsxs(XStack,{alignItems:\"center\",justifyContent:\"space-between\",gap:\"$3\",\"data-sentry-element\":\"XStack\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/DAppConnection/components/ConnectionList/ConnectionListItem.tsx\",children:[_jsxs(XStack,{flex:1,alignItems:\"center\",gap:\"$3\",\"data-sentry-element\":\"XStack\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/DAppConnection/components/ConnectionList/ConnectionListItem.tsx\",children:[_jsxs(Image,{size:\"$10\",borderRadius:\"$full\",\"data-sentry-element\":\"Image\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/DAppConnection/components/ConnectionList/ConnectionListItem.tsx\",children:[_jsx(Image.Source,{src:item.imageURL,\"data-sentry-element\":\"unknown\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/DAppConnection/components/ConnectionList/ConnectionListItem.tsx\"}),_jsx(Image.Fallback,{\"data-sentry-element\":\"unknown\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/DAppConnection/components/ConnectionList/ConnectionListItem.tsx\",children:_jsx(Icon,{size:\"$10\",name:\"GlobusOutline\",\"data-sentry-element\":\"Icon\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/DAppConnection/components/ConnectionList/ConnectionListItem.tsx\"})}),_jsx(Image.Loading,{\"data-sentry-element\":\"unknown\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/DAppConnection/components/ConnectionList/ConnectionListItem.tsx\",children:_jsx(Skeleton,{width:\"100%\",height:\"100%\",\"data-sentry-element\":\"Skeleton\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/DAppConnection/components/ConnectionList/ConnectionListItem.tsx\"})})]}),_jsx(SizableText,{size:\"$bodyLgMedium\",color:\"$text\",numberOfLines:3,style:{wordBreak:'break-all'},\"data-sentry-element\":\"SizableText\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/DAppConnection/components/ConnectionList/ConnectionListItem.tsx\",children:new URL(item.origin).hostname})]}),_jsx(XStack,{p:\"$1.5\",m:\"-$1.5\",borderRadius:\"$2\",hoverStyle:{bg:'$bgHover'},pressStyle:{bg:'$bgActive'},focusable:true,focusVisibleStyle:{outlineWidth:2,outlineColor:'$focusRing',outlineStyle:'solid'},onPress:function(){void handleDisconnect(item.origin,item.storageType);},\"data-sentry-element\":\"XStack\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/DAppConnection/components/ConnectionList/ConnectionListItem.tsx\",children:_jsx(Icon,{name:\"BrokenLinkOutline\",color:\"$iconSubdued\",size:\"$6\",\"data-sentry-element\":\"Icon\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/DAppConnection/components/ConnectionList/ConnectionListItem.tsx\"})})]}),_jsx(AccountSelectorProviderMirror,{config:{sceneName:EAccountSelectorSceneName.discover,sceneUrl:item.origin},enabledNum:Object.keys(item.connectionMap).map(function(num){return Number(num);}),availableNetworksMap:item.availableNetworksMap,\"data-sentry-element\":\"AccountSelectorProviderMirror\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/DAppConnection/components/ConnectionList/ConnectionListItem.tsx\",children:_jsx(YStack,{gap:\"$2\",\"data-sentry-element\":\"YStack\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/DAppConnection/components/ConnectionList/ConnectionListItem.tsx\",children:Object.keys(item.connectionMap).map(function(num){return _jsx(DAppAccountListItem,{num:Number(num),handleAccountChanged:function(handleAccountChangedParams){handleAccountChanged({handleAccountChangedParams,num:Number(num),origin:item.origin,prevAccountInfo:_objectSpread(_objectSpread({},item.connectionMap[Number(num)]),{},{num:Number(num),storageType:item.storageType})});},readonly:getReadonly(item.connectionMap[Number(num)])},num);})})})]});}export default ConnectionListItem;","import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import{useCallback,useEffect,useState}from'react';import{useIntl}from'react-intl';import{Button,Divider,Empty,ListView,Page}from'@onekeyhq/components';import{ETranslations}from'@onekeyhq/shared/src/locale';import backgroundApiProxy from\"../../../background/instance/backgroundApiProxy\";import{usePromiseResult}from\"../../../hooks/usePromiseResult\";import{useShouldUpdateConnectedAccount}from\"../../Discovery/hooks/useDAppNotifyChanges\";import ConnectionListItem from\"../components/ConnectionList/ConnectionListItem\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ItemSeparatorComponent=function(){return _jsx(Divider,{\"data-sentry-element\":\"Divider\",\"data-sentry-component\":\"ItemSeparatorComponent\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/DAppConnection/pages/ConnectionList.tsx\"});};function ConnectionListEmpty(){var intl=useIntl();return _jsx(Empty,{flex:1,icon:\"LinkSolid\",title:intl.formatMessage({id:ETranslations.explore_no_dapps_connected}),description:intl.formatMessage({id:ETranslations.explore_no_dapps_connected_message}),\"data-sentry-element\":\"Empty\",\"data-sentry-component\":\"ConnectionListEmpty\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/DAppConnection/pages/ConnectionList.tsx\"});}function ConnectionList(){var intl=useIntl();var{serviceDApp}=backgroundApiProxy;var[data,setData]=useState([]);var[page,setPage]=useState(0);var pageSize=6;var{result,run}=usePromiseResult(_asyncToGenerator(function*(){return serviceDApp.getAllConnectedList();}),[serviceDApp],{checkIsFocused:false});useEffect(function(){setData(function(){var startIndex=page*pageSize;var endIndex=startIndex+pageSize;return(result!=null?result:[]).slice(0,endIndex);});},[result,page]);var loadMoreItems=useCallback(_asyncToGenerator(function*(){var nextPage=page+1;var startIndex=nextPage*pageSize;var endIndex=startIndex+pageSize;var moreItems=(result!=null?result:[]).slice(startIndex,endIndex);if(moreItems.length>0){setData(function(currentData){return[...currentData,...moreItems];});setPage(nextPage);}}),[result,page]);var handleDAppDisconnect=useCallback(function(){var _ref3=_asyncToGenerator(function*(origin,storageType){yield serviceDApp.disconnectWebsite({origin,storageType,entry:'SettingModal'});void run();});return function(_x,_x2){return _ref3.apply(this,arguments);};}(),[run,serviceDApp]);var renderHeaderRight=useCallback(function(){return _jsx(Button,{variant:\"tertiary\",size:\"medium\",onPress:_asyncToGenerator(function*(){yield serviceDApp.disconnectAllWebsites();void run();}),children:intl.formatMessage({id:ETranslations.explore_remove_all})});},[run,serviceDApp,intl]);var{handleAccountInfoChanged}=useShouldUpdateConnectedAccount();return _jsxs(Page,{\"data-sentry-element\":\"Page\",\"data-sentry-component\":\"ConnectionList\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/DAppConnection/pages/ConnectionList.tsx\",children:[_jsx(Page.Header,{title:intl.formatMessage({id:ETranslations.explore_dapp_connections}),headerRight:function(){return renderHeaderRight();},\"data-sentry-element\":\"unknown\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/DAppConnection/pages/ConnectionList.tsx\"}),_jsx(Page.Body,{\"data-sentry-element\":\"unknown\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/DAppConnection/pages/ConnectionList.tsx\",children:_jsx(ListView,{contentContainerStyle:{flex:1},estimatedItemSize:199,scrollEnabled:true,data:data,ListEmptyComponent:ConnectionListEmpty,keyExtractor:function(item){return item.origin;},renderItem:function({item}){return _jsx(ConnectionListItem,{item:item,handleDisconnect:handleDAppDisconnect,handleAccountChanged:function({origin,num,handleAccountChangedParams,prevAccountInfo}){void handleAccountInfoChanged({origin,accountSelectorNum:num,prevAccountInfo,accountChangedParams:handleAccountChangedParams,storageType:prevAccountInfo.storageType,afterUpdate:function(){return run();}});}});},ItemSeparatorComponent:ItemSeparatorComponent,onEndReached:function(){void loadMoreItems();},onEndReachedThreshold:1,\"data-sentry-element\":\"ListView\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/DAppConnection/pages/ConnectionList.tsx\"})})]});}export default ConnectionList;","import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _throttle from\"lodash/throttle\";import{useCallback,useEffect,useState}from'react';import{useIsMounted}from'@onekeyhq/components/src/hocs/Provider/hooks/useIsMounted';import platformEnv from'@onekeyhq/shared/src/platformEnv';import{ETabRoutes}from'@onekeyhq/shared/src/routes';import networkUtils from'@onekeyhq/shared/src/utils/networkUtils';import backgroundApiProxy from\"../../../background/instance/backgroundApiProxy\";import useListenTabFocusState from\"../../../hooks/useListenTabFocusState\";import{usePrevious}from\"../../../hooks/usePrevious\";import{getWebviewWrapperRef}from\"../utils/explorerUtils\";import{useWebTabDataById}from\"./useWebTabs\";var skipDomReadyNotifySites={'https://wallet.keplr.app':true};var notifyChanges=_throttle(function(url,fromScene){var targetOrigin=new URL(url).origin;if(fromScene==='domReady'&&skipDomReadyNotifySites[targetOrigin]){return;}void backgroundApiProxy.serviceDApp.notifyDAppAccountsChanged(targetOrigin);void backgroundApiProxy.serviceDApp.notifyDAppChainChanged(targetOrigin);},800);export function useDAppNotifyChanges({tabId}){var isMountedRef=useIsMounted();var{tab}=useWebTabDataById(tabId!=null?tabId:'');var webviewRef=getWebviewWrapperRef(tabId!=null?tabId:'');var[isFocusedInDiscoveryTab,setIsFocusedInDiscoveryTab]=useState(false);useListenTabFocusState([ETabRoutes.MultiTabBrowser],function(isFocus){setIsFocusedInDiscoveryTab(isFocus);});useListenTabFocusState([ETabRoutes.Discovery],function(isFocus){if(false){setIsFocusedInDiscoveryTab(isFocus);}});var previousUrl=usePrevious(tab?.url);useEffect(function(){if(!false&&!false){return;}var jsBridge=webviewRef?.jsBridge;if(!jsBridge){return;}backgroundApiProxy.connectBridge(jsBridge);},[webviewRef,isFocusedInDiscoveryTab]);useEffect(function(){if(!false&&!false){return;}if(!isMountedRef.current){return;}if(!tab?.url||!isFocusedInDiscoveryTab){return;}if(!webviewRef){return;}if(previousUrl&&previousUrl!==tab.url){var preUrl=new URL(previousUrl);var curUrl=new URL(tab.url);if(preUrl.origin===curUrl.origin){return;}}if(false){var innerRef=webviewRef?.innerRef;if(!innerRef){return;}if(innerRef.__dy){notifyChanges(tab.url,'immediately');}else{var timer=setTimeout(function(){notifyChanges(tab.url,'setTimeout');},1000);var onDomReady=function(){notifyChanges(tab.url,'domReady');clearTimeout(timer);};innerRef.addEventListener('dom-ready',onDomReady);return function(){clearTimeout(timer);innerRef.removeEventListener('dom-ready',onDomReady);};}}else if(false){notifyChanges(tab?.url,'immediately');}},[isFocusedInDiscoveryTab,tab?.url,webviewRef,isMountedRef,previousUrl]);}export function useShouldUpdateConnectedAccount(){var shouldUpdateConnectedAccount=useCallback(function(prevAccountInfo,accountInfo){var hasAccountChanged=prevAccountInfo.walletId!==accountInfo.walletId||prevAccountInfo.indexedAccountId!==accountInfo.indexedAccountId||prevAccountInfo.networkId!==accountInfo.networkId||prevAccountInfo.accountId!==accountInfo.accountId||prevAccountInfo.address!==accountInfo.address;var isValidAccountInfo=accountInfo.accountId&&accountInfo.walletId&&(networkUtils.isLightningNetworkByNetworkId(accountInfo.networkId)||accountInfo.address)&&accountInfo.networkId;return prevAccountInfo&&hasAccountChanged&&isValidAccountInfo;},[]);var getAccountInfoByActiveAccount=useCallback(function({activeAccount,selectedAccount}){var _activeAccount$wallet,_activeAccount$indexe,_activeAccount$networ,_activeAccount$accoun,_activeAccount$accoun2,_activeAccount$networ2;var updatedAccountInfo={walletId:(_activeAccount$wallet=activeAccount.wallet?.id)!=null?_activeAccount$wallet:'',indexedAccountId:(_activeAccount$indexe=activeAccount.indexedAccount?.id)!=null?_activeAccount$indexe:'',networkId:(_activeAccount$networ=activeAccount.network?.id)!=null?_activeAccount$networ:'',accountId:(_activeAccount$accoun=activeAccount.account?.id)!=null?_activeAccount$accoun:'',address:(_activeAccount$accoun2=activeAccount.account?.address)!=null?_activeAccount$accoun2:'',networkImpl:(_activeAccount$networ2=activeAccount.network?.impl)!=null?_activeAccount$networ2:'',deriveType:activeAccount.deriveType,focusedWallet:selectedAccount.focusedWallet,othersWalletAccountId:selectedAccount.othersWalletAccountId};return updatedAccountInfo;},[]);var handleAccountInfoChanged=useCallback(function(){var _ref=_asyncToGenerator(function*({origin,accountSelectorNum,prevAccountInfo,accountChangedParams,storageType,afterUpdate}){var willUpdateAccountInfo=getAccountInfoByActiveAccount(accountChangedParams);if(!shouldUpdateConnectedAccount(prevAccountInfo,willUpdateAccountInfo)){return;}var{serviceDApp}=backgroundApiProxy;yield backgroundApiProxy.serviceDApp.updateConnectionSession({origin,accountSelectorNum,updatedAccountInfo:willUpdateAccountInfo,storageType});yield backgroundApiProxy.serviceDApp.syncDappAccountIfPrimaryMode({origin});afterUpdate();if(prevAccountInfo.accountId!==willUpdateAccountInfo.accountId){void serviceDApp.notifyDAppAccountsChanged(origin);}if(prevAccountInfo.networkId!==willUpdateAccountInfo.networkId){void serviceDApp.notifyDAppChainChanged(origin);}});return function(_x){return _ref.apply(this,arguments);};}(),[getAccountInfoByActiveAccount,shouldUpdateConnectedAccount]);return{handleAccountInfoChanged};}"],"names":["useDebounce","value","delay","options","debounce","ownKeys","e","r","t","Object","keys","getOwnPropertySymbols","o","filter","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","arguments","length","forEach","getOwnPropertyDescriptors","defineProperties","defineProperty","DAppAccountListInitFromHome","num","shouldSyncFromHome","setSyncLoading","actions","useEffect","v","isLoading","timerUtils","wait","current","syncFromScene","from","sceneName","home","sceneNum","DAppAccountListItem","handleAccountChanged","readonly","networkReadonly","compressionUiMode","initFromHome","beforeShowTrigger","skeletonRenderDuration","useHandleDiscoveryAccountChanged","activeAccount","selectedAccount","debouncedActiveAccount","debouncedSelectedAccount","activeAccountRef","useRef","selectedAccountRef","isOthersWallet","account","id","othersWalletAccountId","indexedAccount","indexedAccountId","Boolean","children","YGroup","bg","borderRadius","borderColor","borderWidth","StyleSheet","hairlineWidth","separator","Divider","disabled","Item","loadingDuration","DAppAccountListStandAloneItem","onConnectedAccountInfoChanged","intl","useIntl","serviceDApp","serviceNetwork","backgroundApiProxy","$sourceInfo","useDappQuery","result","usePromiseResult","_$sourceInfo$scope","_$sourceInfo$scope2","origin","scope","accountSelectorNum","networkIds","impls","getNetworkIdsByImpls","accountsInfo","getConnectedAccountsInfo","isWalletConnectRequest","Array","isArray","existConnectedAccount","getAccountSelectorNum","YStack","gap","testID","SizableText","size","color","formatMessage","ETranslations","global_accounts","AccountSelector","config","discover","sceneUrl","enabledNum","availableNetworksMap","DAppAccountListStandAloneItemForHomeScene","WalletConnectAccountTriggerList","sessionAccountsInfo","map","i","reduce","acc","accountInfo","defaultNetworkId","Stack","ConnectionListItem","item","handleDisconnect","settings","useSettingsPersistAtom","getReadonly","useCallback","connectionInfo","isAlwaysUsePrimaryMode","alignPrimaryAccountMode","AlwaysUsePrimaryAccount","isWalletConnect","storageType","isAlgoNetwork","networkImpl","connectionMap","p","XStack","alignItems","justifyContent","flex","Image","Source","src","imageURL","Fallback","Icon","name","Loading","Skeleton","width","height","numberOfLines","style","wordBreak","URL","hostname","m","hoverStyle","pressStyle","focusable","focusVisibleStyle","outlineWidth","outlineColor","outlineStyle","onPress","Number","DAppAccountList","handleAccountChangedParams","prevAccountInfo","ItemSeparatorComponent","ConnectionListEmpty","Empty","icon","title","explore_no_dapps_connected","description","explore_no_dapps_connected_message","ConnectionList","data","setData","useState","page","setPage","run","getAllConnectedList","checkIsFocused","endIndex","slice","_ref3","loadMoreItems","nextPage","startIndex","moreItems","currentData","handleDAppDisconnect","disconnectWebsite","entry","_x","_x2","this","renderHeaderRight","Button","variant","disconnectAllWebsites","explore_remove_all","handleAccountInfoChanged","Page","Header","explore_dapp_connections","headerRight","Body","ListView","contentContainerStyle","estimatedItemSize","scrollEnabled","ListEmptyComponent","keyExtractor","renderItem","accountChangedParams","afterUpdate","onEndReached","onEndReachedThreshold","skipDomReadyNotifySites","url","fromScene","targetOrigin","notifyDAppAccountsChanged","notifyDAppChainChanged","useShouldUpdateConnectedAccount","_ref","shouldUpdateConnectedAccount","hasAccountChanged","walletId","networkId","accountId","address","isValidAccountInfo","networkUtils","isLightningNetworkByNetworkId","getAccountInfoByActiveAccount","_activeAccount$wallet","_activeAccount$indexe","_activeAccount$networ","_activeAccount$accoun","_activeAccount$accoun2","_activeAccount$networ2","wallet","network","impl","deriveType","focusedWallet","willUpdateAccountInfo","updateConnectionSession","updatedAccountInfo","syncDappAccountIfPrimaryMode"],"sourceRoot":""}