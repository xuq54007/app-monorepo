{"version":3,"file":"static/js/60576.63c8086848.chunk.js","mappings":"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","sources":["webpack://web/../../packages/kit/src/hooks/useAppRoute.ts","webpack://web/../../packages/kit/src/views/Staking/components/PageFrame/index.tsx","webpack://web/../../packages/kit/src/views/Staking/pages/AssetProtocolList/AssetProtocolIntro.tsx","webpack://web/../../packages/kit/src/views/Staking/pages/AssetProtocolList/index.tsx","webpack://web/../../packages/kit/src/views/Staking/utils/utils.ts"],"sourcesContent":["import{useRoute}from'@react-navigation/core';export function useAppRoute(){return useRoute();}","import{useIntl}from'react-intl';import{Empty,Skeleton,Stack}from'@onekeyhq/components';import{ListItem}from'@onekeyhq/kit/src/components/ListItem';import{ETranslations}from'@onekeyhq/shared/src/locale';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var PageErrOccurred=function({onPress}){var intl=useIntl();return _jsx(Empty,{pt:\"$32\",icon:\"ErrorOutline\",title:intl.formatMessage({id:ETranslations.global_an_error_occurred}),description:intl.formatMessage({id:ETranslations.global_an_error_occurred_desc}),buttonProps:{onPress,children:intl.formatMessage({id:ETranslations.global_refresh})},\"data-sentry-element\":\"Empty\",\"data-sentry-component\":\"PageErrOccurred\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/components/PageFrame/index.tsx\"});};export var SimpleSpinnerSkeleton=function(){return _jsxs(Stack,{\"data-sentry-element\":\"Stack\",\"data-sentry-component\":\"SimpleSpinnerSkeleton\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/components/PageFrame/index.tsx\",children:[_jsx(Stack,{px:\"$5\",py:\"$2\",\"data-sentry-element\":\"Stack\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/components/PageFrame/index.tsx\",children:_jsx(Skeleton.HeadingSm,{\"data-sentry-element\":\"unknown\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/components/PageFrame/index.tsx\"})}),Array.from({length:3}).map(function(_,index){return _jsxs(ListItem,{children:[_jsx(Skeleton,{h:\"$10\",w:\"$10\",radius:\"round\"}),_jsxs(Stack,{children:[_jsx(Skeleton.BodyLg,{}),_jsx(Skeleton.BodyMd,{})]})]},index);})]});};export var isLoadingState=function({result,isLoading}){return Boolean(result===undefined&&(isLoading===undefined||isLoading===true));};export var isErrorState=function({result,isLoading}){return Boolean(result===undefined&&isLoading===false);};export var PageFrame=function({children,loading,LoadingSkeleton,error,onRefresh}){if(loading){return LoadingSkeleton?_jsx(LoadingSkeleton,{}):null;}if(error){return _jsx(PageErrOccurred,{onPress:onRefresh});}return _jsx(_Fragment,{children:children});};","import{useIntl}from'react-intl';import{ScrollView,SizableText,Stack,YStack}from'@onekeyhq/components';import{ETranslations}from'@onekeyhq/shared/src/locale';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var AssetProtocolContent=function({providerTypes}){var intl=useIntl();var showNativeStaking=true;var showLiquidStaking=true;if(providerTypes&&providerTypes.length>0){showNativeStaking=providerTypes.includes('native');showLiquidStaking=providerTypes.includes('liquid');}return _jsx(YStack,{flex:1,\"data-sentry-element\":\"YStack\",\"data-sentry-component\":\"AssetProtocolContent\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/pages/AssetProtocolList/AssetProtocolIntro.tsx\",children:_jsx(ScrollView,{maxHeight:560,\"data-sentry-element\":\"ScrollView\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/pages/AssetProtocolList/AssetProtocolIntro.tsx\",children:_jsx(YStack,{\"data-sentry-element\":\"YStack\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/pages/AssetProtocolList/AssetProtocolIntro.tsx\",children:_jsx(Stack,{\"data-sentry-element\":\"Stack\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/pages/AssetProtocolList/AssetProtocolIntro.tsx\",children:_jsxs(YStack,{gap:\"$5\",\"data-sentry-element\":\"YStack\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/pages/AssetProtocolList/AssetProtocolIntro.tsx\",children:[showNativeStaking?_jsxs(YStack,{gap:6,children:[_jsx(SizableText,{size:\"$bodyLgMedium\",children:intl.formatMessage({id:ETranslations.earn_what_is_native_staking})}),_jsx(SizableText,{size:\"$bodyMd\",color:\"$textSubdued\",children:intl.formatMessage({id:ETranslations.earn_what_is_native_staking_desc})})]}):null,showLiquidStaking?_jsxs(YStack,{gap:6,children:[_jsx(SizableText,{size:\"$bodyLgMedium\",children:intl.formatMessage({id:ETranslations.earn_what_is_liquid_staking})}),_jsx(SizableText,{size:\"$bodyMd\",color:\"$textSubdued\",children:intl.formatMessage({id:ETranslations.earn_what_is_liquid_staking_desc})})]}):null]})})})})});};","import{useCallback,useEffect}from'react';import BigNumber from'bignumber.js';import{useIntl}from'react-intl';import{Dialog,IconButton,ListView,Page,SizableText,Skeleton,Stack,XStack,YStack}from'@onekeyhq/components';import backgroundApiProxy from'@onekeyhq/kit/src/background/instance/backgroundApiProxy';import{ListItem}from'@onekeyhq/kit/src/components/ListItem';import{Token}from'@onekeyhq/kit/src/components/Token';import useAppNavigation from'@onekeyhq/kit/src/hooks/useAppNavigation';import{useAppRoute}from'@onekeyhq/kit/src/hooks/useAppRoute';import{usePromiseResult}from'@onekeyhq/kit/src/hooks/usePromiseResult';import{useRouteIsFocused as useIsFocused}from'@onekeyhq/kit/src/hooks/useRouteIsFocused';import{useSettingsPersistAtom}from'@onekeyhq/kit-bg/src/states/jotai/atoms';import{ETranslations}from'@onekeyhq/shared/src/locale';import{defaultLogger}from'@onekeyhq/shared/src/logger/logger';import{EModalStakingRoutes}from'@onekeyhq/shared/src/routes';import{PageFrame,isErrorState,isLoadingState}from\"../../components/PageFrame\";import{capitalizeString}from\"../../utils/utils\";import{AssetProtocolContent}from\"./AssetProtocolIntro\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function formatNumber(num){if(num>=1_000_000_000){return`${(num/1_000_000_000).toFixed(1).replace(/\\.0$/,'')}B`;}if(num>=1_000_000){return`${(num/1_000_000).toFixed(1).replace(/\\.0$/,'')}M`;}if(num>=1000){return`${(num/1000).toFixed(1).replace(/\\.0$/,'')}K`;}return num.toFixed(2);}function StakeTypeBadge({stakeType,label}){var getBadgeColors=function(type){switch(type){case'liquid':return{bg:'$purple3',color:'$purple11'};case'locked':return{bg:'$pink3',color:'$pink11'};default:return{bg:'$blue3',color:'$blue11'};}};var{bg,color}=getBadgeColors(stakeType);return _jsx(Stack,{backgroundColor:bg,borderRadius:\"$1\",borderCurve:\"continuous\",px:\"$2\",py:\"$0.5\",my:\"$0.5\",\"data-sentry-element\":\"Stack\",\"data-sentry-component\":\"StakeTypeBadge\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/pages/AssetProtocolList/index.tsx\",children:_jsx(SizableText,{size:\"$bodySmMedium\",color:color,\"data-sentry-element\":\"SizableText\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/pages/AssetProtocolList/index.tsx\",children:label})});}function AssetProtocolIntroButton({providerTypes}){var intl=useIntl();var onPress=useCallback(function(){Dialog.show({icon:'InfoCircleOutline',title:intl.formatMessage({id:ETranslations.earn_staking_methods}),renderContent:_jsx(AssetProtocolContent,{providerTypes:providerTypes}),showConfirmButton:false,onCancelText:intl.formatMessage({id:ETranslations.global_got_it})});},[intl,providerTypes]);return providerTypes&&providerTypes.length>0?_jsx(IconButton,{icon:\"InfoCircleOutline\",variant:\"tertiary\",onPress:onPress}):null;}function ProviderTypeBadge({type}){var intl=useIntl();if(!type){return null;}var stakeType=type==='native'?'locked':'liquid';var label=type==='native'?intl.formatMessage({id:ETranslations.earn_native_staking}):intl.formatMessage({id:ETranslations.earn_liquid_staking});return _jsx(StakeTypeBadge,{stakeType:stakeType,label:label,\"data-sentry-element\":\"StakeTypeBadge\",\"data-sentry-component\":\"ProviderTypeBadge\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/pages/AssetProtocolList/index.tsx\"});}function AssetProtocolListContent({items}){var appRoute=useAppRoute();var intl=useIntl();var{accountId,indexedAccountId,symbol}=appRoute.params;var appNavigation=useAppNavigation();var onPress=useCallback(function({item}){defaultLogger.staking.page.selectProvider({network:item.network.networkId,stakeProvider:item.provider.name});appNavigation.navigate(EModalStakingRoutes.ProtocolDetails,{accountId,networkId:item.network.networkId,indexedAccountId,symbol:symbol.toUpperCase(),provider:item.provider.name});},[appNavigation,accountId,indexedAccountId,symbol]);var[{currencyInfo:{symbol:currencySymbol}}]=useSettingsPersistAtom();return _jsx(ListView,{estimatedItemSize:60,data:items,renderItem:function({item}){var _item$provider$apr;return _jsxs(ListItem,{userSelect:\"none\",onPress:function(){return onPress?.({item});},children:[_jsx(Token,{size:\"lg\",borderRadius:\"$2\",tokenImageUri:item.provider.logoURI,networkImageUri:item.network.logoURI}),_jsx(ListItem.Text,{flex:1,primary:_jsxs(XStack,{gap:\"$1.5\",ai:\"center\",children:[_jsx(SizableText,{children:capitalizeString(item.provider.name)}),_jsx(ProviderTypeBadge,{type:item.provider.type})]}),secondary:`TVL ${currencySymbol}${formatNumber(Number(item.provider.totalFiatValue))}`,secondaryTextProps:{color:'$textSubdued',size:'$bodyMd'}}),_jsx(ListItem.Text,{align:\"right\",primary:Number(item.provider.apr)>0?`${BigNumber((_item$provider$apr=item.provider.apr)!=null?_item$provider$apr:0).toFixed(2)}% APR`:null,secondary:item.provider.isStaking?intl.formatMessage({id:ETranslations.earn_currently_staking}):undefined,secondaryTextProps:{color:'$textInfo',size:'$bodyMd'}})]});},\"data-sentry-element\":\"ListView\",\"data-sentry-component\":\"AssetProtocolListContent\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/pages/AssetProtocolList/index.tsx\"});}function LoadingSkeleton(){return _jsx(Stack,{\"data-sentry-element\":\"Stack\",\"data-sentry-component\":\"LoadingSkeleton\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/pages/AssetProtocolList/index.tsx\",children:Array.from({length:3}).map(function(_,index){return _jsxs(ListItem,{children:[_jsx(Skeleton,{w:\"$10\",h:\"$10\",borderRadius:\"$2\"}),_jsxs(YStack,{children:[_jsx(YStack,{py:\"$1\",children:_jsx(Skeleton,{h:\"$4\",w:120,borderRadius:\"$2\"})}),_jsx(YStack,{py:\"$1\",children:_jsx(Skeleton,{h:\"$3\",w:80,borderRadius:\"$2\"})})]})]},index);})});}function AssetProtocolList(){var appRoute=useAppRoute();var{filter,symbol,networkId,accountId,indexedAccountId}=appRoute.params;var{result,isLoading,run}=usePromiseResult(function(){return backgroundApiProxy.serviceStaking.getProtocolList({symbol,accountId,indexedAccountId,networkId,filter});},[filter,symbol,networkId,accountId,indexedAccountId],{watchLoading:true});var intl=useIntl();var headerRight=useCallback(function(){return _jsx(AssetProtocolIntroButton,{providerTypes:result?.map(function(o){return o.provider.type;}).filter(Boolean)});},[result]);var isFocused=useIsFocused();useEffect(function(){if(isFocused){void run();}},[isFocused,run]);return _jsxs(Page,{scrollEnabled:true,\"data-sentry-element\":\"Page\",\"data-sentry-component\":\"AssetProtocolList\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/pages/AssetProtocolList/index.tsx\",children:[_jsx(Page.Header,{title:intl.formatMessage({id:symbol?ETranslations.earn_symbol_staking_provider:ETranslations.provider_title},{symbol:symbol.toUpperCase()}),headerRight:headerRight,\"data-sentry-element\":\"unknown\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/pages/AssetProtocolList/index.tsx\"}),_jsx(Page.Body,{\"data-sentry-element\":\"unknown\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/pages/AssetProtocolList/index.tsx\",children:_jsx(PageFrame,{LoadingSkeleton:LoadingSkeleton,loading:isLoadingState({result,isLoading}),error:isErrorState({result,isLoading}),onRefresh:run,\"data-sentry-element\":\"PageFrame\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/pages/AssetProtocolList/index.tsx\",children:_jsx(Stack,{\"data-sentry-element\":\"Stack\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/pages/AssetProtocolList/index.tsx\",children:result?_jsx(AssetProtocolListContent,{items:result}):null})})})]});}export default AssetProtocolList;","import BigNumber from'bignumber.js';export var buildLocalTxStatusSyncId=function(details){return`${details.provider.name.toLowerCase()}-${details.token.info.symbol.toLowerCase()}`;};export function capitalizeString(str){if(!str)return str;return str.charAt(0).toUpperCase()+str.slice(1);}export function countDecimalPlaces(input){var inputNum=typeof input==='string'?Number(input):input;if(Number.isNaN(inputNum)){return 0;}var inputStr=typeof input==='string'?input:BigNumber(input).toFixed();var decimalIndex=inputStr.indexOf('.');if(decimalIndex===-1){return 0;}return inputStr.length-decimalIndex-1;}"],"names":["useAppRoute","PageErrOccurred","onPress","intl","Empty","pt","icon","title","formatMessage","id","ETranslations","global_an_error_occurred","description","global_an_error_occurred_desc","buttonProps","children","global_refresh","SimpleSpinnerSkeleton","Stack","px","py","Skeleton","HeadingSm","Array","from","length","map","_","index","h","w","radius","BodyLg","BodyMd","isLoadingState","result","isLoading","Boolean","undefined","isErrorState","PageFrame","loading","LoadingSkeleton","error","onRefresh","AssetProtocolContent","providerTypes","useIntl","showNativeStaking","showLiquidStaking","includes","YStack","flex","ScrollView","maxHeight","gap","SizableText","size","earn_what_is_native_staking","color","earn_what_is_native_staking_desc","earn_what_is_liquid_staking","earn_what_is_liquid_staking_desc","StakeTypeBadge","stakeType","label","bg","type","getBadgeColors","backgroundColor","borderRadius","borderCurve","my","AssetProtocolIntroButton","useCallback","Dialog","show","earn_staking_methods","renderContent","showConfirmButton","onCancelText","global_got_it","IconButton","variant","ProviderTypeBadge","earn_native_staking","earn_liquid_staking","AssetProtocolListContent","items","appRoute","u","accountId","indexedAccountId","symbol","params","appNavigation","useAppNavigation","item","staking","page","selectProvider","network","networkId","stakeProvider","provider","name","navigate","ProtocolDetails","toUpperCase","currencyInfo","currencySymbol","useSettingsPersistAtom","ListView","estimatedItemSize","data","renderItem","_item$provider$apr","num","ListItem","userSelect","Token","tokenImageUri","logoURI","networkImageUri","Text","primary","XStack","ai","c","secondary","Number","totalFiatValue","toFixed","replace","secondaryTextProps","align","apr","isStaking","earn_currently_staking","AssetProtocolList","filter","run","usePromiseResult","backgroundApiProxy","serviceStaking","getProtocolList","watchLoading","headerRight","o","isFocused","useEffect","Page","scrollEnabled","Header","earn_symbol_staking_provider","provider_title","Body","buildLocalTxStatusSyncId","details","toLowerCase","token","info","capitalizeString","str","charAt","slice","countDecimalPlaces","input","inputNum","isNaN","inputStr","decimalIndex","indexOf"],"sourceRoot":""}