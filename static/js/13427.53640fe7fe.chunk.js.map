{"version":3,"file":"static/js/13427.53640fe7fe.chunk.js","mappings":"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","sources":["webpack://web/../../packages/kit/src/views/Developer/pages/SignatureRecord.tsx"],"sourcesContent":["import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import{useCallback,useRef,useState}from'react';import{Button,Dialog,Input,Page,YStack}from'@onekeyhq/components';import backgroundApiProxy from'@onekeyhq/kit/src/background/instance/backgroundApiProxy';import{useActiveAccount}from'@onekeyhq/kit/src/states/jotai/contexts/accountSelector';import{EAccountSelectorSceneName}from'@onekeyhq/shared/types';import{EMessageTypesEth}from'@onekeyhq/shared/types/message';import{ETransactionType}from'@onekeyhq/shared/types/signatureRecord';import{AccountSelectorProviderMirror}from\"../../../components/AccountSelector\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SignMessageButton=function(){var ref=useRef(0);var onPress=useCallback(_asyncToGenerator(function*(){Dialog.show({title:'Sign Message',confirmButtonProps:{variant:'destructive'},onConfirm:function(){ref.current+=1;void backgroundApiProxy.serviceSignature.addSignedMessage({networkId:'evm--1',address:'0x76f3f64cb3cD19debEE51436dF630a342B736C24',message:'hello world',contentType:'text',title:`Sign Message Test ${ref.current}`});}});}),[]);return _jsx(Button,{onPress:onPress,\"data-sentry-element\":\"Button\",\"data-sentry-component\":\"SignMessageButton\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Developer/pages/SignatureRecord.tsx\",children:\"Sign Message\"});};var SignTransactionButton=function(){var ref=useRef(0);var onPress=useCallback(_asyncToGenerator(function*(){Dialog.show({title:'Sign Transaction',confirmButtonProps:{variant:'destructive'},onConfirm:function(){ref.current+=1;void backgroundApiProxy.serviceSignature.addSignedTransaction({networkId:'evm--1',title:`OneKey Wallet ${ref.current}`,hash:'0x866c4749db18695e4359f4e3f121a835d7715638315427e5521bcd078724d0d1',address:'0x76f3f64cb3cD19debEE51436dF630a342B736C24',data:{type:ETransactionType.SEND,amount:'100000',token:{name:'USD Coin',symbol:'USDC',address:'0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48'}}});}});}),[]);return _jsx(Button,{onPress:onPress,\"data-sentry-element\":\"Button\",\"data-sentry-component\":\"SignTransactionButton\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Developer/pages/SignatureRecord.tsx\",children:\"Sign Transaction\"});};var ConnectSiteButton=function(){var onPress=useCallback(_asyncToGenerator(function*(){Dialog.show({title:'Connect Site',confirmButtonProps:{variant:'destructive'},onConfirm:function(){void backgroundApiProxy.serviceSignature.addConnectedSite({url:'https://app.uniswap.org/swap',items:[{networkId:'evm--1',address:'0x76f3f64cb3cD19debEE51436dF630a342B736C24'},{networkId:'evm--56',address:'0x76f3f64cb3cD19debEE51436dF630a342B736C24'}]});}});}),[]);return _jsx(Button,{onPress:onPress,\"data-sentry-element\":\"Button\",\"data-sentry-component\":\"ConnectSiteButton\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Developer/pages/SignatureRecord.tsx\",children:\"Connected Site\"});};var CustomSignMessage=function({num}){var[message,setMessage]=useState('');var[loading,setLoading]=useState(false);var{activeAccount:{account,network}}=useActiveAccount({num});var onPress=useCallback(_asyncToGenerator(function*(){if(account&&network){try{setLoading(true);yield backgroundApiProxy.serviceDApp.openSignMessageModal({accountId:account.id,networkId:network.id,request:{origin:'https://www.onekey.so',scope:'ethereum'},unsignedMessage:{type:EMessageTypesEth.PERSONAL_SIGN,message}});}finally{setLoading(false);}}}),[message,account,network]);return _jsxs(YStack,{gap:\"$4\",\"data-sentry-element\":\"YStack\",\"data-sentry-component\":\"CustomSignMessage\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Developer/pages/SignatureRecord.tsx\",children:[_jsx(Input,{value:message,onChangeText:setMessage,placeholder:\"message\",\"data-sentry-element\":\"Input\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Developer/pages/SignatureRecord.tsx\"}),_jsx(Button,{onPress:onPress,loading:loading,disabled:!message.trim(),\"data-sentry-element\":\"Button\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Developer/pages/SignatureRecord.tsx\",children:\"Sign Message\"})]});};var DevHomeStack2=function(){var num=0;return _jsx(Page,{\"data-sentry-element\":\"Page\",\"data-sentry-component\":\"DevHomeStack2\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Developer/pages/SignatureRecord.tsx\",children:_jsxs(YStack,{px:\"$4\",gap:\"$4\",\"data-sentry-element\":\"YStack\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Developer/pages/SignatureRecord.tsx\",children:[_jsx(SignMessageButton,{\"data-sentry-element\":\"SignMessageButton\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Developer/pages/SignatureRecord.tsx\"}),_jsx(SignTransactionButton,{\"data-sentry-element\":\"SignTransactionButton\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Developer/pages/SignatureRecord.tsx\"}),_jsx(ConnectSiteButton,{\"data-sentry-element\":\"ConnectSiteButton\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Developer/pages/SignatureRecord.tsx\"}),_jsx(AccountSelectorProviderMirror,{config:{sceneName:EAccountSelectorSceneName.home,sceneUrl:''},enabledNum:[num],\"data-sentry-element\":\"AccountSelectorProviderMirror\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Developer/pages/SignatureRecord.tsx\",children:_jsx(CustomSignMessage,{num:num,\"data-sentry-element\":\"CustomSignMessage\",\"data-sentry-source-file\":\"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Developer/pages/SignatureRecord.tsx\"})})]})});};export default DevHomeStack2;"],"names":["SignMessageButton","ref","useRef","onPress","useCallback","Dialog","show","title","confirmButtonProps","variant","onConfirm","current","serviceSignature","addSignedMessage","networkId","address","message","contentType","Button","children","SignTransactionButton","addSignedTransaction","hash","data","type","SEND","amount","token","name","symbol","ConnectSiteButton","addConnectedSite","url","items","CustomSignMessage","num","setMessage","useState","loading","setLoading","activeAccount","account","network","serviceDApp","openSignMessageModal","accountId","id","request","origin","scope","unsignedMessage","PERSONAL_SIGN","YStack","gap","Input","value","onChangeText","placeholder","disabled","trim","Page","px","config","sceneName","home","sceneUrl","enabledNum"],"sourceRoot":""}