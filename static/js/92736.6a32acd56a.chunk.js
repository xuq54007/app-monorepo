!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="105fe70c-a6df-41ff-b501-dab2caec81a9",e._sentryDebugIdIdentifier="sentry-dbid-105fe70c-a6df-41ff-b501-dab2caec81a9")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"5.5.0 (2024121652)"},(self.webpackChunkweb=self.webpackChunkweb||[]).push([[92736],{326745:(e,n,t)=>{t.d(n,{u:()=>useAppRoute});var o=t(654266);function useAppRoute(){return(0,o.lq)()}},925771:(e,n,t)=>{t.d(n,{$:()=>CalculationListItem,k:()=>CalculationList});var o=t(324586),r=t(839850),a=t(490343),i=t(831085),s=["children"],c=["children","tooltip"],d=["children"];function ownKeys(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?ownKeys(Object(t),!0).forEach((function(n){(0,o.A)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function CalculationList({children:e}){return(0,i.jsx)(a.YStack,{gap:"$4","data-sentry-element":"YStack","data-sentry-component":"CalculationList","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/components/CalculationList/index.tsx",children:e})}function CalculationListItem(e){var{children:n}=e,t=(0,r.A)(e,s);return(0,i.jsx)(a.XStack,_objectSpread(_objectSpread({animation:"quick",enterStyle:{opacity:0},justifyContent:"space-between",alignItems:"center"},t),{},{"data-sentry-element":"XStack","data-sentry-component":"CalculationListItem","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/components/CalculationList/index.tsx",children:n}))}CalculationList.Item=CalculationListItem,CalculationListItem.Label=function CalculationListItemLabel(e){var{children:n,tooltip:t}=e,o=(0,r.A)(e,c),s=(0,i.jsx)(a.SizableText,_objectSpread(_objectSpread({color:"$textSubdued"},o),{},{children:n}));return t?(0,i.jsxs)(a.XStack,{gap:"$1",ai:"center",children:[s,(0,i.jsx)(a.Popover.Tooltip,{iconSize:"$5",title:n,tooltip:t,placement:"top"})]}):s},CalculationListItem.Value=function CalculationListItemValue(e){var{children:n}=e,t=(0,r.A)(e,d);return(0,i.jsx)(a.SizableText,_objectSpread(_objectSpread({size:"$bodyLgMedium"},t),{},{"data-sentry-element":"SizableText","data-sentry-component":"CalculationListItemValue","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/components/CalculationList/index.tsx",children:n}))}},286192:(e,n,t)=>{t.d(n,{BA:()=>EstimateNetworkFee,QL:()=>useShowClaimEstimateGasAlert,fH:()=>calcDaysSpent,sM:()=>useShowStakeEstimateGasAlert});var o=t(514041),r=t(241440),a=t(908867),i=t(490343),s=t(471169),c=t(334439),d=t(925771),l=t(831085),useShowStakeEstimateGasAlert=function(){var e=(0,a.A)(),[{currencyInfo:{symbol:n}}]=(0,s.useSettingsPersistAtom)();return(0,o.useCallback)((function({daysConsumed:t,estFiatValue:o,onConfirm:r}){var a=t?e.formatMessage({id:c.ETranslations.earn_transaction_loss_when_stake},{number:(0,l.jsx)(i.SizableText,{size:"$bodyLgMedium",color:"$textCaution",children:t})}):void 0;i.Dialog.show({title:e.formatMessage({id:c.ETranslations.earn_transaction_loss}),icon:"InfoCircleOutline",description:a,renderContent:(0,l.jsxs)(i.XStack,{children:[(0,l.jsxs)(i.SizableText,{size:"$bodyLg",mr:"$1",children:[e.formatMessage({id:c.ETranslations.global_est_network_fee}),":"]}),(0,l.jsx)(i.NumberSizeableText,{size:"$bodyLgMedium",formatter:"value",formatterOptions:{currency:n},children:o})]}),onConfirm:r})}),[e,n])},useShowClaimEstimateGasAlert=function(){var e=(0,a.A)(),[{currencyInfo:{symbol:n}}]=(0,s.useSettingsPersistAtom)();return(0,o.useCallback)((function({claimTokenFiatValue:t,estFiatValue:o,onConfirm:a}){var s=(0,r.A)(t).minus(o).absoluteValue().toFixed(),d=e.formatMessage({id:c.ETranslations.earn_transaction_loss_when_claim},{number:(0,l.jsx)(i.NumberSizeableText,{size:"$bodyLgMedium",formatter:"value",color:"$textCaution",formatterOptions:{currency:n},children:s})});i.Dialog.show({title:e.formatMessage({id:c.ETranslations.earn_transaction_loss}),icon:"InfoCircleOutline",description:d,renderContent:(0,l.jsxs)(i.YStack,{children:[(0,l.jsxs)(i.XStack,{children:[(0,l.jsxs)(i.SizableText,{size:"$bodyLg",mr:"$1",children:[e.formatMessage({id:c.ETranslations.global_est_network_fee}),":"]}),(0,l.jsx)(i.NumberSizeableText,{size:"$bodyLgMedium",formatter:"value",formatterOptions:{currency:n},children:o})]}),(0,l.jsxs)(i.XStack,{children:[(0,l.jsxs)(i.SizableText,{size:"$bodyLg",mr:"$1",children:[e.formatMessage({id:c.ETranslations.earn_reward_value}),":"]}),(0,l.jsx)(i.NumberSizeableText,{size:"$bodyLgMedium",formatter:"value",formatterOptions:{currency:n},children:t})]})]}),onConfirm:a})}),[e,n])},EstimateNetworkFeeListItem=function({estFiatValue:e,onPress:n}){var t=(0,a.A)(),[{currencyInfo:{symbol:o}}]=(0,s.useSettingsPersistAtom)();return Number(e)>0?(0,l.jsxs)(d.$,{onPress:n,children:[(0,l.jsx)(d.$.Label,{children:t.formatMessage({id:c.ETranslations.global_est_network_fee})}),(0,l.jsxs)(i.XStack,{alignItems:"center",cursor:n?"pointer":void 0,mr:n?-6:void 0,children:[(0,l.jsx)(i.NumberSizeableText,{size:"$bodyLgMedium",formatter:"value",formatterOptions:{currency:o},children:e}),n?(0,l.jsx)(i.Icon,{name:"ChevronRightSmallOutline",size:24}):null]})]}):null},calcDaysSpent=function(e,n){var t=(0,r.A)(n).div(e).multipliedBy(365);return t.isNaN()?void 0:Math.ceil(t.toNumber())},EstimateNetworkFee=function({estimateFeeResp:e,onPress:n,isVisible:t}){return e&&t?(0,l.jsx)(EstimateNetworkFeeListItem,{estFiatValue:e.feeFiatValue,onPress:n}):null}},338443:(e,n,t)=>{t.d(n,{m:()=>OptionList});var o=t(586330),r=t(514041),a=t(908867),i=t(17617),s=t(490343),c=t(391944),d=t(498356),l=t(471169),u=t(334439),p=t(831085),m=(0,r.createContext)({}),ExtraField=function({name:e,renderItem:n,item:t}){return(0,p.jsxs)(s.XStack,{justifyContent:"space-between","data-sentry-element":"XStack","data-sentry-component":"ExtraField","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/components/OptionList/index.tsx",children:[(0,p.jsx)(s.SizableText,{size:"$bodyMd",color:"$textSubdued","data-sentry-element":"SizableText","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/components/OptionList/index.tsx",children:e}),(0,p.jsx)(s.SizableText,{size:"$bodyMd",color:"$textSubdued","data-sentry-element":"SizableText","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/components/OptionList/index.tsx",children:n({item:t})})]})},OptionItem=function({item:e,token:n,network:t,onPress:o}){var[{currencyInfo:{symbol:d}}]=(0,l.useSettingsPersistAtom)(),{extraFields:k,activeId:f}=(0,r.useContext)(m),g=f===e.id,y=(0,a.A)();return(0,p.jsx)(s.Stack,{px:"$5",py:"$2","data-sentry-element":"Stack","data-sentry-component":"OptionItem","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/components/OptionList/index.tsx",children:(0,p.jsxs)(s.YStack,{group:!0,onPress:function(){return o?.({item:e})},borderWidth:i.A.hairlineWidth,borderColor:g?"$borderActive":"$borderSubdued",borderRadius:"$3",borderCurve:"continuous",overflow:"hidden",userSelect:"none","data-sentry-element":"YStack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/components/OptionList/index.tsx",children:[(0,p.jsxs)(s.XStack,{bg:"$bgSubdued","$group-hover":{bg:"$bgHover"},"$group-press":{bg:"$bgActive"},"$group-":!0,px:14,py:12,jc:"space-between",ai:"center","data-sentry-element":"XStack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/components/OptionList/index.tsx",children:[(0,p.jsxs)(s.XStack,{"data-sentry-element":"XStack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/components/OptionList/index.tsx",children:[(0,p.jsx)(s.Stack,{pr:"$3","data-sentry-element":"Stack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/components/OptionList/index.tsx",children:(0,p.jsx)(c.o,{tokenImageUri:n.logoURI,networkImageUri:t?.logoURI,"data-sentry-element":"Token","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/components/OptionList/index.tsx"})}),(0,p.jsxs)(s.YStack,{"data-sentry-element":"YStack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/components/OptionList/index.tsx",children:[(0,p.jsx)(s.NumberSizeableText,{size:"$bodyLgMedium",formatter:"balance",formatterOptions:{tokenSymbol:n?.symbol},"data-sentry-element":"NumberSizeableText","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/components/OptionList/index.tsx",children:e.amount}),(0,p.jsx)(s.NumberSizeableText,{size:"$bodyMd",color:"$textSubdued",formatter:"value",formatterOptions:{currency:d},"data-sentry-element":"NumberSizeableText","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/components/OptionList/index.tsx",children:e.fiatValue})]})]}),e.isPending?(0,p.jsx)(s.Stack,{children:(0,p.jsx)(s.Badge,{badgeType:"info",children:y.formatMessage({id:u.ETranslations.global_pending})})}):null]}),k&&k.length>0?(0,p.jsx)(s.YStack,{py:12,px:14,gap:10,children:k.map((function(n){return(0,p.jsx)(r.Suspense,{fallback:null,children:(0,p.jsx)(ExtraField,{name:n.name,renderItem:n.renderItem,item:e})},n.name)}))}):null]})})},ListEmptyComponent=function(){var e=(0,a.A)();return(0,p.jsx)(s.Empty,{icon:"ClockTimeHistoryOutline",title:e.formatMessage({id:u.ETranslations.earn_no_orders}),description:e.formatMessage({id:u.ETranslations.earn_no_orders_desc}),"data-sentry-element":"Empty","data-sentry-component":"ListEmptyComponent","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/components/OptionList/index.tsx"})},OptionList=function({items:e,token:n,network:t,onPress:a,onConfirmText:i,extraFields:c,ListHeaderComponent:l}){var u=(0,d.A)(),[k,f]=(0,r.useState)(e[0]?.id),[g,y]=(0,r.useState)(!1),b=(0,r.useCallback)((function({item:e}){return(0,p.jsx)(OptionItem,{item:e,token:n,network:t,onPress:function({item:e}){return f(e.id)}})}),[n,t]),x=(0,r.useCallback)((0,o.A)((function*(){var n=e.find((function(e){return e.id===k}));if(n)try{y(!0),yield a?.({item:n})}finally{y(!1)}})),[e,k,a]),S=(0,r.useMemo)((function(){return{extraFields:c,activeId:k}}),[c,k]),w=(0,r.useMemo)((function(){return!k||!e.find((function(e){return e.id===k&&!e.isPending}))}),[k,e]);return(0,p.jsx)(m.Provider,{value:S,"data-sentry-element":"unknown","data-sentry-component":"OptionList","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/components/OptionList/index.tsx",children:(0,p.jsxs)(s.Stack,{"data-sentry-element":"Stack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/components/OptionList/index.tsx",children:[(0,p.jsx)(s.ListView,{estimatedItemSize:"$5",data:e,renderItem:b,ListHeaderComponent:l,ListEmptyComponent,"data-sentry-element":"ListView","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/components/OptionList/index.tsx"}),(0,p.jsx)(s.Page.Footer,{onConfirmText:i,confirmButtonProps:{onPress:x,disabled:w,loading:g},cancelButtonProps:{onPress:function(){u.pop()}},"data-sentry-element":"unknown","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/components/OptionList/index.tsx"})]})})}},138584:(e,n,t)=>{t.d(n,{Py:()=>SimpleSpinnerSkeleton,am:()=>isLoadingState,bU:()=>PageFrame,o0:()=>isErrorState});var o=t(908867),r=t(490343),a=t(791088),i=t(334439),s=t(831085),PageErrOccurred=function({onPress:e}){var n=(0,o.A)();return(0,s.jsx)(r.Empty,{pt:"$32",icon:"ErrorOutline",title:n.formatMessage({id:i.ETranslations.global_an_error_occurred}),description:n.formatMessage({id:i.ETranslations.global_an_error_occurred_desc}),buttonProps:{onPress:e,children:n.formatMessage({id:i.ETranslations.global_refresh})},"data-sentry-element":"Empty","data-sentry-component":"PageErrOccurred","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/components/PageFrame/index.tsx"})},SimpleSpinnerSkeleton=function(){return(0,s.jsxs)(r.Stack,{"data-sentry-element":"Stack","data-sentry-component":"SimpleSpinnerSkeleton","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/components/PageFrame/index.tsx",children:[(0,s.jsx)(r.Stack,{px:"$5",py:"$2","data-sentry-element":"Stack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/components/PageFrame/index.tsx",children:(0,s.jsx)(r.Skeleton.HeadingSm,{"data-sentry-element":"unknown","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/components/PageFrame/index.tsx"})}),Array.from({length:3}).map((function(e,n){return(0,s.jsxs)(a.c,{children:[(0,s.jsx)(r.Skeleton,{h:"$10",w:"$10",radius:"round"}),(0,s.jsxs)(r.Stack,{children:[(0,s.jsx)(r.Skeleton.BodyLg,{}),(0,s.jsx)(r.Skeleton.BodyMd,{})]})]},n)}))]})},isLoadingState=function({result:e,isLoading:n}){return Boolean(void 0===e&&(void 0===n||!0===n))},isErrorState=function({result:e,isLoading:n}){return Boolean(void 0===e&&!1===n)},PageFrame=function({children:e,loading:n,LoadingSkeleton:t,error:o,onRefresh:r}){return n?t?(0,s.jsx)(t,{}):null:o?(0,s.jsx)(PageErrOccurred,{onPress:r}):(0,s.jsx)(s.Fragment,{children:e})}},653913:(e,n,t)=>{t.d(n,{B8:()=>useUniversalStake,D0:()=>useUniversalClaim,Pg:()=>useUniversalWithdraw});var o=t(586330),r=t(324586),a=t(514041),i=t(241440),s=t(643087),c=t(927799),d=t(553083),l=t(161024),u=t(286192);function ownKeys(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?ownKeys(Object(t),!0).forEach((function(n){(0,r.A)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var p,createStakeInfoWithOrderId=function({stakingInfo:e,orderId:n}){return _objectSpread(_objectSpread({},e),{},{orderId:n})},m=(p=(0,o.A)((function*({data:e,stakeInfo:n,networkId:t,onSuccess:o}){Array.isArray(e)&&1===e.length&&e[0].signedTx?.txid&&n.orderId&&(yield s.A.serviceStaking.addEarnOrder({orderId:n.orderId,networkId:t,txId:e[0].signedTx.txid,status:e[0].decodedTx.status})),o?.(e)})),function handleStakeSuccess(e){return p.apply(this,arguments)});function useUniversalStake({networkId:e,accountId:n}){var t,{navigationToSendConfirm:r}=(0,c.E)({accountId:n,networkId:e});return(0,a.useCallback)((t=(0,o.A)((function*({amount:t,symbol:a,term:i,feeRate:c,provider:l,stakingInfo:u,onSuccess:p,onFail:k}){var f,g,y=yield s.A.serviceStaking.buildStakeTransaction({amount:t,networkId:e,accountId:n,symbol:a,term:i,provider:l,feeRate:c}),b=yield s.A.serviceStaking.buildEarnTx({networkId:e,accountId:n,tx:y.tx});d.Ay.isBTCNetwork(e)&&b.fee&&(f=!0,g=!1);var x,S=createStakeInfoWithOrderId({stakingInfo:u,orderId:y.orderId});yield r({encodedTx:b,stakingInfo:S,onSuccess:(x=(0,o.A)((function*(n){yield m({data:n,stakeInfo:S,networkId:e,onSuccess:p})})),function onSuccess(e){return x.apply(this,arguments)}),onFail:k,useFeeInTx:f,feeInfoEditable:g})})),function(e){return t.apply(this,arguments)}),[r,n,e])}function useUniversalWithdraw({networkId:e,accountId:n}){var t,{navigationToSendConfirm:r}=(0,c.E)({accountId:n,networkId:e});return(0,a.useCallback)((t=(0,o.A)((function*({amount:t,symbol:a,provider:i,identity:c,stakingInfo:u,onSuccess:p,onFail:k}){var f,g=yield s.A.serviceStaking.getStakingConfigs({networkId:e,symbol:a,provider:i});if(!g)throw new Error("Staking config not found");if(g?.unstakeWithSignMessage){var y=yield s.A.serviceAccount.getAccount({accountId:n,networkId:e}),{message:b,deadline:x}=yield s.A.serviceStaking.buildLidoEthPermitMessageData({accountId:n,networkId:e,amount:t}),S=yield s.A.serviceDApp.openSignMessageModal({accountId:n,networkId:e,request:{origin:"https://lido.fi/",scope:"ethereum"},unsignedMessage:{type:l.$.TYPED_DATA_V4,message:b,payload:[y.address,b]},walletInternalSign:!0});f=yield s.A.serviceStaking.buildUnstakeTransaction({amount:t,networkId:e,accountId:n,symbol:a,provider:i,signature:S,deadline:x})}else f=yield s.A.serviceStaking.buildUnstakeTransaction({amount:t,identity:c,networkId:e,accountId:n,symbol:a,provider:i});var w,v,h=yield s.A.serviceStaking.buildEarnTx({networkId:e,accountId:n,tx:f.tx});d.Ay.isBTCNetwork(e)&&h.fee&&(w=!0,v=!1);var I,j=createStakeInfoWithOrderId({stakingInfo:u,orderId:f.orderId});yield r({encodedTx:h,stakingInfo:u,signOnly:g?.withdrawSignOnly,useFeeInTx:w,feeInfoEditable:v,onSuccess:(I=(0,o.A)((function*(t){if(g?.withdrawSignOnly){var o=t[0].signedTx.finalizedPsbtHex;o&&c&&(yield s.A.serviceStaking.unstakePush({txId:c,networkId:e,accountId:n,symbol:a,provider:i,unstakeTxHex:o}),p?.(t))}else yield m({data:t,stakeInfo:j,networkId:e,onSuccess:p})})),function onSuccess(e){return I.apply(this,arguments)}),onFail:k})})),function(e){return t.apply(this,arguments)}),[n,e,r])}function useUniversalClaim({networkId:e,accountId:n}){var t,{navigationToSendConfirm:r}=(0,c.E)({accountId:n,networkId:e}),l=(0,u.QL)();return(0,a.useCallback)((t=(0,o.A)((function*({identity:t,amount:a,provider:c,symbol:u,stakingInfo:p,onSuccess:k,onFail:f}){var g,y=(g=(0,o.A)((function*(){var i,l,g=yield s.A.serviceStaking.buildClaimTransaction({networkId:e,accountId:n,symbol:u,provider:c,amount:a,identity:t}),y=yield s.A.serviceStaking.buildEarnTx({networkId:e,accountId:n,tx:g.tx});d.Ay.isBTCNetwork(e)&&y.fee&&(i=!0,l=!1);var b,x=createStakeInfoWithOrderId({stakingInfo:p,orderId:g.orderId});yield r({encodedTx:y,stakingInfo:p,onSuccess:(b=(0,o.A)((function*(n){yield m({data:n,stakeInfo:x,networkId:e,onSuccess:k})})),function onSuccess(e){return b.apply(this,arguments)}),onFail:f,useFeeInTx:i,feeInfoEditable:l})})),function continueClaim(){return g.apply(this,arguments)});if(Number(a)>0){var b=yield s.A.serviceStaking.estimateFee({networkId:e,provider:c,symbol:u,action:"claim",amount:a}),x=(0,i.A)(b.token.price).multipliedBy(a);if(x.lt(b.feeFiatValue))return void l({claimTokenFiatValue:x.toFixed(),estFiatValue:b.feeFiatValue,onConfirm:y})}yield y()})),function(e){return t.apply(this,arguments)}),[r,n,e,l])}},292736:(e,n,t)=>{t.r(n),t.d(n,{default:()=>__WEBPACK_DEFAULT_EXPORT__});var o=t(586330),r=t(514041),a=t(908867),i=t(490343),s=t(643087),c=t(498356),d=t(326745),l=t(911998),u=t(334439),p=t(296827),m=t(491180),k=t(553083),f=t(550082),g=t(338443),y=t(138584),b=t(653913),x=t(905817),S=t(831085);const __WEBPACK_DEFAULT_EXPORT__=function(){var e,n=(0,d.u)(),t=(0,c.A)(),{accountId:w,networkId:v,symbol:h,provider:I,details:j}=n.params,{result:T,isLoading:C,run:O}=(0,l.yk)((function(){return s.A.serviceStaking.getClaimableList({networkId:v,accountId:w,symbol:h,provider:I})}),[w,v,h,I],{watchLoading:!0}),A=(0,b.D0)({accountId:w,networkId:v}),L=(0,r.useCallback)((e=(0,o.A)((function*({item:e}){var n;yield A({identity:e.id,amount:e.amount,symbol:j.token.info.symbol,provider:I,stakingInfo:{label:f.D.Claim,protocol:I,protocolLogoURI:j.provider.logoURI,receive:{token:j.token.info,amount:e.amount},tags:[(0,x.Y)(j)]},onSuccess:(n=(0,o.A)((function*(n){n[0]&&(yield s.A.serviceStaking.addBabylonTrackingItem({txId:e.id,action:"claim",createAt:Date.now(),accountId:w,networkId:v,amount:e.amount})),t.pop(),p.U.staking.page.unstaking({token:j.token.info,stakingProtocol:I}),"babylon"===I&&s.A.serviceStaking.babylonClaimRecord({accountId:w,networkId:v,provider:I,symbol:h,identity:e.id})})),function onSuccess(e){return n.apply(this,arguments)})})})),function(n){return e.apply(this,arguments)}),[t,j,A,I,w,v,h]),_=(0,a.A)();return(0,S.jsxs)(i.Page,{scrollEnabled:!0,"data-sentry-element":"Page","data-sentry-component":"ClaimOptions","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/pages/ClaimOptions/index.tsx",children:[(0,S.jsx)(i.Page.Header,{title:_.formatMessage({id:u.ETranslations.earn_select_a_claimable_order}),"data-sentry-element":"unknown","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/pages/ClaimOptions/index.tsx"}),(0,S.jsx)(i.Page.Body,{"data-sentry-element":"unknown","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/pages/ClaimOptions/index.tsx",children:(0,S.jsx)(y.bU,{LoadingSkeleton:y.Py,loading:(0,y.am)({result:T,isLoading:C}),error:(0,y.o0)({result:T,isLoading:C}),onRefresh:O,"data-sentry-element":"PageFrame","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Staking/pages/ClaimOptions/index.tsx",children:T?(0,S.jsx)(g.m,{items:T.items,token:T.token,network:T.network,onPress:L,onConfirmText:_.formatMessage({id:u.ETranslations.earn_claim}),extraFields:k.Ay.isBTCNetwork(v)?[{name:_.formatMessage({id:u.ETranslations.global_status}),renderItem:()=>_.formatMessage({id:u.ETranslations.earn_claimable})},{name:_.formatMessage({id:u.ETranslations.global_transaction_id}),renderItem:({item:e})=>m.A.shortenAddress({address:e.id})}]:void 0}):null})})]})}},905817:(e,n,t)=>{t.d(n,{FZ:()=>countDecimalPlaces,Y:()=>buildLocalTxStatusSyncId,c:()=>capitalizeString});var o=t(241440),buildLocalTxStatusSyncId=function(e){return`${e.provider.name.toLowerCase()}-${e.token.info.symbol.toLowerCase()}`};function capitalizeString(e){return e?e.charAt(0).toUpperCase()+e.slice(1):e}function countDecimalPlaces(e){var n="string"==typeof e?Number(e):e;if(Number.isNaN(n))return 0;var t="string"==typeof e?e:(0,o.A)(e).toFixed(),r=t.indexOf(".");return-1===r?0:t.length-r-1}}}]);
//# sourceMappingURL=92736.6a32acd56a.chunk.js.map