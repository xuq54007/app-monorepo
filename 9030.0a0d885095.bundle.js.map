{"version":3,"file":"9030.0a0d885095.bundle.js","mappings":"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","sources":["webpack://web/../../node_modules/@near-js/accounts/lib/account.js","webpack://web/../../node_modules/@near-js/accounts/lib/account_2fa.js","webpack://web/../../node_modules/@near-js/accounts/lib/account_creator.js","webpack://web/../../node_modules/@near-js/accounts/lib/account_multisig.js","webpack://web/../../node_modules/@near-js/accounts/lib/connection.js","webpack://web/../../node_modules/@near-js/accounts/lib/constants.js","webpack://web/../../node_modules/@near-js/accounts/lib/contract.js","webpack://web/../../node_modules/@near-js/accounts/lib/errors.js","webpack://web/../../node_modules/@near-js/accounts/lib/index.js","webpack://web/../../node_modules/@near-js/accounts/lib/types.js","webpack://web/../../node_modules/@near-js/crypto/lib/constants.js","webpack://web/../../node_modules/@near-js/crypto/lib/index.js","webpack://web/../../node_modules/@near-js/crypto/lib/key_pair.js","webpack://web/../../node_modules/@near-js/crypto/lib/key_pair_base.js","webpack://web/../../node_modules/@near-js/crypto/lib/key_pair_ed25519.js","webpack://web/../../node_modules/@near-js/crypto/lib/public_key.js","webpack://web/../../node_modules/@near-js/keystores-browser/lib/browser_local_storage_key_store.js","webpack://web/../../node_modules/@near-js/keystores-browser/lib/index.js","webpack://web/../../node_modules/@near-js/keystores/lib/in_memory_key_store.js","webpack://web/../../node_modules/@near-js/keystores/lib/index.js","webpack://web/../../node_modules/@near-js/keystores/lib/keystore.js","webpack://web/../../node_modules/@near-js/keystores/lib/merge_key_store.js","webpack://web/../../node_modules/@near-js/providers/lib/fetch.js","webpack://web/../../node_modules/@near-js/providers/lib/fetch_json.js","webpack://web/../../node_modules/@near-js/providers/lib/index.js","webpack://web/../../node_modules/@near-js/providers/lib/json-rpc-provider.js","webpack://web/../../node_modules/@near-js/providers/lib/provider.js","webpack://web/../../node_modules/@near-js/providers/node_modules/depd/lib/browser/index.js","webpack://web/../../node_modules/@near-js/providers/node_modules/http-errors/index.js","webpack://web/../../node_modules/@near-js/providers/node_modules/statuses/index.js","webpack://web/../../node_modules/@near-js/signers/lib/in_memory_signer.js","webpack://web/../../node_modules/@near-js/signers/lib/index.js","webpack://web/../../node_modules/@near-js/signers/lib/signer.js","webpack://web/../../node_modules/@near-js/transactions/lib/action_creators.js","webpack://web/../../node_modules/@near-js/transactions/lib/actions.js","webpack://web/../../node_modules/@near-js/transactions/lib/create_transaction.js","webpack://web/../../node_modules/@near-js/transactions/lib/delegate.js","webpack://web/../../node_modules/@near-js/transactions/lib/index.js","webpack://web/../../node_modules/@near-js/transactions/lib/prefix.js","webpack://web/../../node_modules/@near-js/transactions/lib/schema.js","webpack://web/../../node_modules/@near-js/transactions/lib/sign.js","webpack://web/../../node_modules/@near-js/transactions/lib/signature.js","webpack://web/../../node_modules/@near-js/types/lib/assignable.js","webpack://web/../../node_modules/@near-js/types/lib/errors.js","webpack://web/../../node_modules/@near-js/types/lib/index.js","webpack://web/../../node_modules/@near-js/types/lib/provider/index.js","webpack://web/../../node_modules/@near-js/types/lib/provider/light_client.js","webpack://web/../../node_modules/@near-js/types/lib/provider/response.js","webpack://web/../../node_modules/@near-js/utils/lib/constants.js","webpack://web/../../node_modules/@near-js/utils/lib/errors/errors.js","webpack://web/../../node_modules/@near-js/utils/lib/errors/index.js","webpack://web/../../node_modules/@near-js/utils/lib/errors/rpc_errors.js","webpack://web/../../node_modules/@near-js/utils/lib/format.js","webpack://web/../../node_modules/@near-js/utils/lib/index.js","webpack://web/../../node_modules/@near-js/utils/lib/logging.js","webpack://web/../../node_modules/@near-js/utils/lib/provider.js","webpack://web/../../node_modules/@near-js/utils/lib/validators.js","webpack://web/../../node_modules/@near-js/wallet-account/lib/index.js","webpack://web/../../node_modules/@near-js/wallet-account/lib/near.js","webpack://web/../../node_modules/@near-js/wallet-account/lib/wallet_account.js","webpack://web/../../node_modules/@ngraveio/bc-ur/dist/bytewords.js","webpack://web/../../node_modules/@ngraveio/bc-ur/dist/cbor.js","webpack://web/../../node_modules/@ngraveio/bc-ur/dist/errors.js","webpack://web/../../node_modules/@ngraveio/bc-ur/dist/fountainDecoder.js","webpack://web/../../node_modules/@ngraveio/bc-ur/dist/fountainEncoder.js","webpack://web/../../node_modules/@ngraveio/bc-ur/dist/fountainUtils.js","webpack://web/../../node_modules/@ngraveio/bc-ur/dist/index.js","webpack://web/../../node_modules/@ngraveio/bc-ur/dist/ur.js","webpack://web/../../node_modules/@ngraveio/bc-ur/dist/urDecoder.js","webpack://web/../../node_modules/@ngraveio/bc-ur/dist/urEncoder.js","webpack://web/../../node_modules/@ngraveio/bc-ur/dist/utils.js","webpack://web/../../node_modules/@ngraveio/bc-ur/dist/xoshiro.js","webpack://web/../../node_modules/@noble/hashes/_assert.js","webpack://web/../../node_modules/@noble/hashes/_sha2.js","webpack://web/../../node_modules/@noble/hashes/_u64.js","webpack://web/../../node_modules/@noble/hashes/crypto.js","webpack://web/../../node_modules/@noble/hashes/hmac.js","webpack://web/../../node_modules/@noble/hashes/pbkdf2.js","webpack://web/../../node_modules/@noble/hashes/ripemd160.js","webpack://web/../../node_modules/@noble/hashes/sha256.js","webpack://web/../../node_modules/@noble/hashes/sha512.js","webpack://web/../../node_modules/@noble/hashes/utils.js","webpack://web/../../node_modules/@noble/secp256k1/lib/index.js","webpack://web/../../node_modules/@near-js/providers/lib/exponential-backoff.js","webpack://web/../../node_modules/ms/index.js","webpack://web/../../node_modules/mustache/mustache.js","webpack://web/../../node_modules/natsort/lib/index.js","webpack://web/../../node_modules/near-abi/lib/index.js","webpack://web/../../node_modules/near-api-js/lib/account.js","webpack://web/../../node_modules/near-api-js/lib/account_creator.js","webpack://web/../../node_modules/near-api-js/lib/account_multisig.js","webpack://web/../../node_modules/near-api-js/lib/browser-connect.js","webpack://web/../../node_modules/near-api-js/lib/browser-index.js","webpack://web/../../node_modules/near-api-js/lib/common-index.js","webpack://web/../../node_modules/near-api-js/lib/connection.js","webpack://web/../../node_modules/near-api-js/lib/contract.js","webpack://web/../../node_modules/near-api-js/lib/key_stores/browser-index.js","webpack://web/../../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","webpack://web/../../node_modules/near-api-js/lib/key_stores/in_memory_key_store.js","webpack://web/../../node_modules/near-api-js/lib/key_stores/keystore.js","webpack://web/../../node_modules/near-api-js/lib/key_stores/merge_key_store.js","webpack://web/../../node_modules/near-api-js/lib/near.js","webpack://web/../../node_modules/near-api-js/lib/providers/index.js","webpack://web/../../node_modules/near-api-js/lib/providers/json-rpc-provider.js","webpack://web/../../node_modules/near-api-js/lib/providers/provider.js","webpack://web/../../node_modules/near-api-js/lib/signer.js","webpack://web/../../node_modules/near-api-js/lib/transaction.js","webpack://web/../../node_modules/near-api-js/lib/utils/enums.js","webpack://web/../../node_modules/near-api-js/lib/utils/errors.js","webpack://web/../../node_modules/near-api-js/lib/utils/format.js","webpack://web/../../node_modules/near-api-js/lib/utils/index.js","webpack://web/../../node_modules/near-api-js/lib/utils/key_pair.js","webpack://web/../../node_modules/near-api-js/lib/utils/rpc_errors.js","webpack://web/../../node_modules/near-api-js/lib/utils/serialize.js","webpack://web/../../node_modules/near-api-js/lib/utils/web.js","webpack://web/../../node_modules/near-api-js/lib/validators.js","webpack://web/../../node_modules/near-api-js/lib/wallet-account.js","webpack://web/../../node_modules/next-tick/index.js","webpack://web/../../node_modules/node-fetch/browser.js","webpack://web/../../node_modules/normalize-css-color/index.js","webpack://web/../../node_modules/number-to-bn/node_modules/bn.js/lib/bn.js","webpack://web/../../node_modules/number-to-bn/src/index.js","webpack://web/../../node_modules/@mysten/bcs/node_modules/base-x/src/esm/index.js","webpack://web/../../node_modules/@mysten/bcs/node_modules/bs58/src/esm/index.js","webpack://web/../../node_modules/@mysten/bcs/dist/esm/b58.js","webpack://web/../../node_modules/@mysten/bcs/dist/esm/b64.js","webpack://web/../../node_modules/@mysten/bcs/dist/esm/reader.js","webpack://web/../../node_modules/@mysten/bcs/dist/esm/writer.js","webpack://web/../../node_modules/@mysten/bcs/dist/esm/bcs-type.js","webpack://web/../../node_modules/@mysten/bcs/dist/esm/bcs.js","webpack://web/../../node_modules/@mysten/bcs/dist/esm/hex.js","webpack://web/../../node_modules/@mysten/bcs/dist/esm/uleb.js","webpack://web/../../node_modules/@mysten/bcs/dist/esm/utils.js","webpack://web/../../node_modules/@mysten/sui/dist/esm/bcs/bcs.js","webpack://web/../../node_modules/@mysten/sui/dist/esm/bcs/effects.js","webpack://web/../../node_modules/@mysten/sui/dist/esm/bcs/index.js","webpack://web/../../node_modules/@mysten/sui/dist/esm/bcs/type-tag-serializer.js","webpack://web/../../node_modules/@mysten/sui/node_modules/valibot/dist/index.js","webpack://web/../../node_modules/@mysten/sui/dist/esm/transactions/data/internal.js","webpack://web/../../node_modules/@mysten/sui/dist/esm/transactions/Commands.js","webpack://web/../../node_modules/@mysten/sui/dist/esm/transactions/data/v1.js","webpack://web/../../node_modules/@mysten/sui/dist/esm/transactions/data/v2.js","webpack://web/../../node_modules/@mysten/sui/dist/esm/transactions/Inputs.js","webpack://web/../../node_modules/@mysten/sui/dist/esm/transactions/serializer.js","webpack://web/../../node_modules/@mysten/sui/dist/esm/transactions/json-rpc-resolver.js","webpack://web/../../node_modules/@mysten/sui/dist/esm/transactions/pure.js","webpack://web/../../node_modules/@mysten/sui/dist/esm/transactions/TransactionData.js","webpack://web/../../node_modules/@mysten/sui/dist/esm/transactions/hash.js","webpack://web/../../node_modules/@mysten/sui/dist/esm/transactions/utils.js","webpack://web/../../node_modules/@mysten/sui/dist/esm/transactions/Transaction.js","webpack://web/../../node_modules/@mysten/sui/dist/esm/transactions/object.js","webpack://web/../../node_modules/@mysten/sui/dist/esm/utils/constants.js","webpack://web/../../node_modules/@mysten/sui/dist/esm/utils/sui-types.js","webpack://web/../../node_modules/@mysten/sui/node_modules/@noble/hashes/esm/_assert.js","webpack://web/../../node_modules/@mysten/sui/node_modules/@noble/hashes/esm/_u64.js","webpack://web/../../node_modules/@mysten/sui/node_modules/@noble/hashes/esm/_blake.js","webpack://web/../../node_modules/@mysten/sui/node_modules/@noble/hashes/esm/blake2b.js","webpack://web/../../node_modules/@mysten/sui/node_modules/@noble/hashes/esm/utils.js","webpack://web/../../node_modules/@noble/curves/node_modules/@noble/hashes/esm/_assert.js","webpack://web/../../node_modules/@noble/curves/node_modules/@noble/hashes/esm/crypto.js","webpack://web/../../node_modules/@noble/curves/node_modules/@noble/hashes/esm/utils.js","webpack://web/../../node_modules/@noble/curves/node_modules/@noble/hashes/esm/_sha2.js","webpack://web/../../node_modules/@noble/curves/node_modules/@noble/hashes/esm/sha256.js","webpack://web/../../node_modules/@noble/curves/esm/abstract/utils.js","webpack://web/../../node_modules/@noble/curves/esm/abstract/modular.js","webpack://web/../../node_modules/@noble/curves/node_modules/@noble/hashes/esm/hmac.js","webpack://web/../../node_modules/@noble/curves/esm/abstract/curve.js","webpack://web/../../node_modules/@noble/curves/esm/abstract/weierstrass.js","webpack://web/../../node_modules/@noble/curves/esm/_shortw_utils.js","webpack://web/../../node_modules/@noble/curves/esm/secp256k1.js","webpack://web/../../node_modules/@noble/hashes/esm/_assert.js","webpack://web/../../node_modules/@noble/hashes/esm/_sha2.js","webpack://web/../../node_modules/@noble/hashes/esm/_u64.js","webpack://web/../../node_modules/@noble/hashes/esm/_blake2.js","webpack://web/../../node_modules/@noble/hashes/esm/blake2b.js","webpack://web/../../node_modules/@noble/hashes/esm/hmac.js","webpack://web/../../node_modules/@noble/hashes/esm/ripemd160.js","webpack://web/../../node_modules/@noble/hashes/esm/sha256.js","webpack://web/../../node_modules/@noble/hashes/esm/crypto.js","webpack://web/../../node_modules/@noble/hashes/esm/utils.js","webpack://web/../../node_modules/@noble/secp256k1/lib/esm/index.js","webpack://web/../../node_modules/multiformats/esm/vendor/base-x.js","webpack://web/../../node_modules/multiformats/esm/src/bases/base.js","webpack://web/../../node_modules/multiformats/esm/src/bases/base32.js","webpack://web/../../node_modules/multiformats/esm/src/bases/base58.js","webpack://web/../../node_modules/multiformats/esm/src/bases/identity.js","webpack://web/../../node_modules/multiformats/esm/src/bases/base2.js","webpack://web/../../node_modules/multiformats/esm/src/bases/base8.js","webpack://web/../../node_modules/multiformats/esm/src/bases/base10.js","webpack://web/../../node_modules/multiformats/esm/src/bases/base16.js","webpack://web/../../node_modules/multiformats/esm/src/bases/base36.js","webpack://web/../../node_modules/multiformats/esm/src/bases/base64.js","webpack://web/../../node_modules/multiformats/esm/src/bases/base256emoji.js","webpack://web/../../node_modules/multiformats/esm/src/hashes/hasher.js","webpack://web/../../node_modules/multiformats/esm/src/hashes/sha2-browser.js","webpack://web/../../node_modules/multiformats/esm/src/hashes/identity.js","webpack://web/../../node_modules/multiformats/esm/src/codecs/raw.js","webpack://web/../../node_modules/multiformats/esm/src/codecs/json.js","webpack://web/../../node_modules/multiformats/esm/src/basics.js","webpack://web/../../node_modules/multiformats/esm/src/bytes.js","webpack://web/../../node_modules/multiformats/esm/src/cid.js","webpack://web/../../node_modules/multiformats/esm/src/hashes/digest.js","webpack://web/../../node_modules/multiformats/esm/vendor/varint.js","webpack://web/../../node_modules/multiformats/esm/src/varint.js","webpack://web/../../node_modules/nanoid/non-secure/index.js"],"sourcesContent":["\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Account = void 0;\nconst crypto_1 = require(\"@near-js/crypto\");\nconst providers_1 = require(\"@near-js/providers\");\nconst transactions_1 = require(\"@near-js/transactions\");\nconst types_1 = require(\"@near-js/types\");\nconst utils_1 = require(\"@near-js/utils\");\nconst bn_js_1 = __importDefault(require(\"bn.js\"));\nconst borsh_1 = require(\"borsh\");\nconst { addKey, createAccount, deleteAccount, deleteKey, deployContract, fullAccessKey, functionCall, functionCallAccessKey, stake, transfer, } = transactions_1.actionCreators;\n// Default number of retries with different nonce before giving up on a transaction.\nconst TX_NONCE_RETRY_NUMBER = 12;\n// Default wait until next retry in millis.\nconst TX_NONCE_RETRY_WAIT = 500;\n// Exponential back off for waiting to retry.\nconst TX_NONCE_RETRY_WAIT_BACKOFF = 1.5;\nfunction parseJsonFromRawResponse(response) {\n    return JSON.parse(Buffer.from(response).toString());\n}\nfunction bytesJsonStringify(input) {\n    return Buffer.from(JSON.stringify(input));\n}\n/**\n * This class provides common account related RPC calls including signing transactions with a {@link utils/key_pair!KeyPair}.\n *\n * @hint Use {@link walletAccount!WalletConnection} in the browser to redirect to [NEAR Wallet](https://wallet.near.org/) for Account/key management using the {@link key_stores/browser_local_storage_key_store!BrowserLocalStorageKeyStore}.\n * @see [https://docs.near.org/docs/develop/front-end/naj-quick-reference#account](https://docs.near.org/tools/near-api-js/quick-reference#account)\n * @see [Account Spec](https://nomicon.io/DataStructures/Account.html)\n */\nclass Account {\n    constructor(connection, accountId) {\n        /** @hidden */\n        this.accessKeyByPublicKeyCache = {};\n        this.connection = connection;\n        this.accountId = accountId;\n    }\n    /**\n     * Returns basic NEAR account information via the `view_account` RPC query method\n     * @see [https://docs.near.org/api/rpc/contracts#view-account](https://docs.near.org/api/rpc/contracts#view-account)\n     */\n    state() {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this.connection.provider.query({\n                request_type: 'view_account',\n                account_id: this.accountId,\n                finality: 'optimistic'\n            });\n        });\n    }\n    /**\n     * Create a signed transaction which can be broadcast to the network\n     * @param receiverId NEAR account receiving the transaction\n     * @param actions list of actions to perform as part of the transaction\n     * @see {@link providers/json-rpc-provider!JsonRpcProvider#sendTransaction | JsonRpcProvider.sendTransaction}\n     */\n    signTransaction(receiverId, actions) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const accessKeyInfo = yield this.findAccessKey(receiverId, actions);\n            if (!accessKeyInfo) {\n                throw new types_1.TypedError(`Can not sign transactions for account ${this.accountId} on network ${this.connection.networkId}, no matching key pair exists for this account`, 'KeyNotFound');\n            }\n            const { accessKey } = accessKeyInfo;\n            const block = yield this.connection.provider.block({ finality: 'final' });\n            const blockHash = block.header.hash;\n            const nonce = accessKey.nonce.add(new bn_js_1.default(1));\n            return yield (0, transactions_1.signTransaction)(receiverId, nonce, actions, (0, borsh_1.baseDecode)(blockHash), this.connection.signer, this.accountId, this.connection.networkId);\n        });\n    }\n    /**\n     * Sign a transaction to preform a list of actions and broadcast it using the RPC API.\n     * @see {@link providers/json-rpc-provider!JsonRpcProvider#sendTransaction | JsonRpcProvider.sendTransaction}\n     */\n    signAndSendTransaction({ receiverId, actions, returnError }) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let txHash, signedTx;\n            // TODO: TX_NONCE (different constants for different uses of exponentialBackoff?)\n            const result = yield (0, providers_1.exponentialBackoff)(TX_NONCE_RETRY_WAIT, TX_NONCE_RETRY_NUMBER, TX_NONCE_RETRY_WAIT_BACKOFF, () => __awaiter(this, void 0, void 0, function* () {\n                [txHash, signedTx] = yield this.signTransaction(receiverId, actions);\n                const publicKey = signedTx.transaction.publicKey;\n                try {\n                    return yield this.connection.provider.sendTransaction(signedTx);\n                }\n                catch (error) {\n                    if (error.type === 'InvalidNonce') {\n                        (0, utils_1.logWarning)(`Retrying transaction ${receiverId}:${(0, borsh_1.baseEncode)(txHash)} with new nonce.`);\n                        delete this.accessKeyByPublicKeyCache[publicKey.toString()];\n                        return null;\n                    }\n                    if (error.type === 'Expired') {\n                        (0, utils_1.logWarning)(`Retrying transaction ${receiverId}:${(0, borsh_1.baseEncode)(txHash)} due to expired block hash`);\n                        return null;\n                    }\n                    error.context = new types_1.ErrorContext((0, borsh_1.baseEncode)(txHash));\n                    throw error;\n                }\n            }));\n            if (!result) {\n                // TODO: This should have different code actually, as means \"transaction not submitted for sure\"\n                throw new types_1.TypedError('nonce retries exceeded for transaction. This usually means there are too many parallel requests with the same access key.', 'RetriesExceeded');\n            }\n            (0, utils_1.printTxOutcomeLogsAndFailures)({ contractId: signedTx.transaction.receiverId, outcome: result });\n            // Should be falsy if result.status.Failure is null\n            if (!returnError && typeof result.status === 'object' && typeof result.status.Failure === 'object' && result.status.Failure !== null) {\n                // if error data has error_message and error_type properties, we consider that node returned an error in the old format\n                if (result.status.Failure.error_message && result.status.Failure.error_type) {\n                    throw new types_1.TypedError(`Transaction ${result.transaction_outcome.id} failed. ${result.status.Failure.error_message}`, result.status.Failure.error_type);\n                }\n                else {\n                    throw (0, utils_1.parseResultError)(result);\n                }\n            }\n            // TODO: if Tx is Unknown or Started.\n            return result;\n        });\n    }\n    /**\n     * Finds the {@link providers/provider!AccessKeyView} associated with the accounts {@link utils/key_pair!PublicKey} stored in the {@link key_stores/keystore!KeyStore}.\n     *\n     * @todo Find matching access key based on transaction (i.e. receiverId and actions)\n     *\n     * @param receiverId currently unused (see todo)\n     * @param actions currently unused (see todo)\n     * @returns `{ publicKey PublicKey; accessKey: AccessKeyView }`\n     */\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    findAccessKey(receiverId, actions) {\n        return __awaiter(this, void 0, void 0, function* () {\n            // TODO: Find matching access key based on transaction (i.e. receiverId and actions)\n            const publicKey = yield this.connection.signer.getPublicKey(this.accountId, this.connection.networkId);\n            if (!publicKey) {\n                throw new types_1.TypedError(`no matching key pair found in ${this.connection.signer}`, 'PublicKeyNotFound');\n            }\n            const cachedAccessKey = this.accessKeyByPublicKeyCache[publicKey.toString()];\n            if (cachedAccessKey !== undefined) {\n                return { publicKey, accessKey: cachedAccessKey };\n            }\n            try {\n                const rawAccessKey = yield this.connection.provider.query({\n                    request_type: 'view_access_key',\n                    account_id: this.accountId,\n                    public_key: publicKey.toString(),\n                    finality: 'optimistic'\n                });\n                // store nonce as BN to preserve precision on big number\n                const accessKey = Object.assign(Object.assign({}, rawAccessKey), { nonce: new bn_js_1.default(rawAccessKey.nonce) });\n                // this function can be called multiple times and retrieve the same access key\n                // this checks to see if the access key was already retrieved and cached while\n                // the above network call was in flight. To keep nonce values in line, we return\n                // the cached access key.\n                if (this.accessKeyByPublicKeyCache[publicKey.toString()]) {\n                    return { publicKey, accessKey: this.accessKeyByPublicKeyCache[publicKey.toString()] };\n                }\n                this.accessKeyByPublicKeyCache[publicKey.toString()] = accessKey;\n                return { publicKey, accessKey };\n            }\n            catch (e) {\n                if (e.type == 'AccessKeyDoesNotExist') {\n                    return null;\n                }\n                throw e;\n            }\n        });\n    }\n    /**\n     * Create a new account and deploy a contract to it\n     *\n     * @param contractId NEAR account where the contract is deployed\n     * @param publicKey The public key to add to the created contract account\n     * @param data The compiled contract code\n     * @param amount of NEAR to transfer to the created contract account. Transfer enough to pay for storage https://docs.near.org/docs/concepts/storage-staking\n     */\n    createAndDeployContract(contractId, publicKey, data, amount) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const accessKey = fullAccessKey();\n            yield this.signAndSendTransaction({\n                receiverId: contractId,\n                actions: [createAccount(), transfer(amount), addKey(crypto_1.PublicKey.from(publicKey), accessKey), deployContract(data)]\n            });\n            const contractAccount = new Account(this.connection, contractId);\n            return contractAccount;\n        });\n    }\n    /**\n     * @param receiverId NEAR account receiving \n     * @param amount Amount to send in yocto\n     */\n    sendMoney(receiverId, amount) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this.signAndSendTransaction({\n                receiverId,\n                actions: [transfer(amount)]\n            });\n        });\n    }\n    /**\n     * @param newAccountId NEAR account name to be created\n     * @param publicKey A public key created from the masterAccount\n     */\n    createAccount(newAccountId, publicKey, amount) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const accessKey = fullAccessKey();\n            return this.signAndSendTransaction({\n                receiverId: newAccountId,\n                actions: [createAccount(), transfer(amount), addKey(crypto_1.PublicKey.from(publicKey), accessKey)]\n            });\n        });\n    }\n    /**\n     * @param beneficiaryId The NEAR account that will receive the remaining  balance from the account being deleted\n     */\n    deleteAccount(beneficiaryId) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (!process.env['NEAR_NO_LOGS']) {\n                console.log('Deleting an account does not automatically transfer NFTs and FTs to the beneficiary address. Ensure to transfer assets before deleting.');\n            }\n            return this.signAndSendTransaction({\n                receiverId: this.accountId,\n                actions: [deleteAccount(beneficiaryId)]\n            });\n        });\n    }\n    /**\n     * @param data The compiled contract code\n     */\n    deployContract(data) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this.signAndSendTransaction({\n                receiverId: this.accountId,\n                actions: [deployContract(data)]\n            });\n        });\n    }\n    /** @hidden */\n    encodeJSContractArgs(contractId, method, args) {\n        return Buffer.concat([Buffer.from(contractId), Buffer.from([0]), Buffer.from(method), Buffer.from([0]), Buffer.from(args)]);\n    }\n    /**\n     * Execute function call\n     * @returns {Promise<FinalExecutionOutcome>}\n     */\n    functionCall({ contractId, methodName, args = {}, gas = utils_1.DEFAULT_FUNCTION_CALL_GAS, attachedDeposit, walletMeta, walletCallbackUrl, stringify, jsContract }) {\n        return __awaiter(this, void 0, void 0, function* () {\n            this.validateArgs(args);\n            let functionCallArgs;\n            if (jsContract) {\n                const encodedArgs = this.encodeJSContractArgs(contractId, methodName, JSON.stringify(args));\n                functionCallArgs = ['call_js_contract', encodedArgs, gas, attachedDeposit, null, true];\n            }\n            else {\n                const stringifyArg = stringify === undefined ? transactions_1.stringifyJsonOrBytes : stringify;\n                functionCallArgs = [methodName, args, gas, attachedDeposit, stringifyArg, false];\n            }\n            return this.signAndSendTransaction({\n                receiverId: jsContract ? this.connection.jsvmAccountId : contractId,\n                // eslint-disable-next-line prefer-spread\n                actions: [functionCall.apply(void 0, functionCallArgs)],\n                walletMeta,\n                walletCallbackUrl\n            });\n        });\n    }\n    /**\n     * @see [https://docs.near.org/concepts/basics/accounts/access-keys](https://docs.near.org/concepts/basics/accounts/access-keys)\n     * @todo expand this API to support more options.\n     * @param publicKey A public key to be associated with the contract\n     * @param contractId NEAR account where the contract is deployed\n     * @param methodNames The method names on the contract that should be allowed to be called. Pass null for no method names and '' or [] for any method names.\n     * @param amount Payment in yocto that is sent to the contract during this function call\n     */\n    addKey(publicKey, contractId, methodNames, amount) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (!methodNames) {\n                methodNames = [];\n            }\n            if (!Array.isArray(methodNames)) {\n                methodNames = [methodNames];\n            }\n            let accessKey;\n            if (!contractId) {\n                accessKey = fullAccessKey();\n            }\n            else {\n                accessKey = functionCallAccessKey(contractId, methodNames, amount);\n            }\n            return this.signAndSendTransaction({\n                receiverId: this.accountId,\n                actions: [addKey(crypto_1.PublicKey.from(publicKey), accessKey)]\n            });\n        });\n    }\n    /**\n     * @param publicKey The public key to be deleted\n     * @returns {Promise<FinalExecutionOutcome>}\n     */\n    deleteKey(publicKey) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this.signAndSendTransaction({\n                receiverId: this.accountId,\n                actions: [deleteKey(crypto_1.PublicKey.from(publicKey))]\n            });\n        });\n    }\n    /**\n     * @see [https://near-nodes.io/validator/staking-and-delegation](https://near-nodes.io/validator/staking-and-delegation)\n     *\n     * @param publicKey The public key for the account that's staking\n     * @param amount The account to stake in yocto\n     */\n    stake(publicKey, amount) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this.signAndSendTransaction({\n                receiverId: this.accountId,\n                actions: [stake(amount, crypto_1.PublicKey.from(publicKey))]\n            });\n        });\n    }\n    /**\n     * Compose and sign a SignedDelegate action to be executed in a transaction on behalf of this Account instance\n     *\n     * @param actions Actions to be included in the meta transaction\n     * @param blockHeightTtl Number of blocks past the current block height for which the SignedDelegate action may be included in a meta transaction\n     * @param receiverId Receiver account of the meta transaction\n     */\n    signedDelegate({ actions, blockHeightTtl, receiverId, }) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const { provider, signer } = this.connection;\n            const { header } = yield provider.block({ finality: 'final' });\n            const { accessKey, publicKey } = yield this.findAccessKey(null, null);\n            const delegateAction = (0, transactions_1.buildDelegateAction)({\n                actions,\n                maxBlockHeight: new bn_js_1.default(header.height).add(new bn_js_1.default(blockHeightTtl)),\n                nonce: new bn_js_1.default(accessKey.nonce).add(new bn_js_1.default(1)),\n                publicKey,\n                receiverId,\n                senderId: this.accountId,\n            });\n            const { signedDelegateAction } = yield (0, transactions_1.signDelegateAction)({\n                delegateAction,\n                signer: {\n                    sign: (message) => __awaiter(this, void 0, void 0, function* () {\n                        const { signature } = yield signer.signMessage(message, delegateAction.senderId, this.connection.networkId);\n                        return signature;\n                    }),\n                }\n            });\n            return signedDelegateAction;\n        });\n    }\n    /** @hidden */\n    validateArgs(args) {\n        const isUint8Array = args.byteLength !== undefined && args.byteLength === args.length;\n        if (isUint8Array) {\n            return;\n        }\n        if (Array.isArray(args) || typeof args !== 'object') {\n            throw new types_1.PositionalArgsError();\n        }\n    }\n    /**\n     * Invoke a contract view function using the RPC API.\n     * @see [https://docs.near.org/api/rpc/contracts#call-a-contract-function](https://docs.near.org/api/rpc/contracts#call-a-contract-function)\n     *\n     * @param viewFunctionCallOptions.contractId NEAR account where the contract is deployed\n     * @param viewFunctionCallOptions.methodName The view-only method (no state mutations) name on the contract as it is written in the contract code\n     * @param viewFunctionCallOptions.args Any arguments to the view contract method, wrapped in JSON\n     * @param viewFunctionCallOptions.parse Parse the result of the call. Receives a Buffer (bytes array) and converts it to any object. By default result will be treated as json.\n     * @param viewFunctionCallOptions.stringify Convert input arguments into a bytes array. By default the input is treated as a JSON.\n     * @param viewFunctionCallOptions.jsContract Is contract from JS SDK, automatically encodes args from JS SDK to binary.\n     * @param viewFunctionCallOptions.blockQuery specifies which block to query state at. By default returns last \"optimistic\" block (i.e. not necessarily finalized).\n     * @returns {Promise<any>}\n     */\n    viewFunction({ contractId, methodName, args = {}, parse = parseJsonFromRawResponse, stringify = bytesJsonStringify, jsContract = false, blockQuery = { finality: 'optimistic' } }) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let encodedArgs;\n            this.validateArgs(args);\n            if (jsContract) {\n                encodedArgs = this.encodeJSContractArgs(contractId, methodName, Object.keys(args).length > 0 ? JSON.stringify(args) : '');\n            }\n            else {\n                encodedArgs = stringify(args);\n            }\n            const result = yield this.connection.provider.query(Object.assign(Object.assign({ request_type: 'call_function' }, blockQuery), { account_id: jsContract ? this.connection.jsvmAccountId : contractId, method_name: jsContract ? 'view_js_contract' : methodName, args_base64: encodedArgs.toString('base64') }));\n            if (result.logs) {\n                (0, utils_1.printTxOutcomeLogs)({ contractId, logs: result.logs });\n            }\n            return result.result && result.result.length > 0 && parse(Buffer.from(result.result));\n        });\n    }\n    /**\n     * Returns the state (key value pairs) of this account's contract based on the key prefix.\n     * Pass an empty string for prefix if you would like to return the entire state.\n     * @see [https://docs.near.org/api/rpc/contracts#view-contract-state](https://docs.near.org/api/rpc/contracts#view-contract-state)\n     *\n     * @param prefix allows to filter which keys should be returned. Empty prefix means all keys. String prefix is utf-8 encoded.\n     * @param blockQuery specifies which block to query state at. By default returns last \"optimistic\" block (i.e. not necessarily finalized).\n     */\n    viewState(prefix, blockQuery = { finality: 'optimistic' }) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const { values } = yield this.connection.provider.query(Object.assign(Object.assign({ request_type: 'view_state' }, blockQuery), { account_id: this.accountId, prefix_base64: Buffer.from(prefix).toString('base64') }));\n            return values.map(({ key, value }) => ({\n                key: Buffer.from(key, 'base64'),\n                value: Buffer.from(value, 'base64')\n            }));\n        });\n    }\n    /**\n     * Get all access keys for the account\n     * @see [https://docs.near.org/api/rpc/access-keys#view-access-key-list](https://docs.near.org/api/rpc/access-keys#view-access-key-list)\n     */\n    getAccessKeys() {\n        var _a;\n        return __awaiter(this, void 0, void 0, function* () {\n            const response = yield this.connection.provider.query({\n                request_type: 'view_access_key_list',\n                account_id: this.accountId,\n                finality: 'optimistic'\n            });\n            // Replace raw nonce into a new BN\n            return (_a = response === null || response === void 0 ? void 0 : response.keys) === null || _a === void 0 ? void 0 : _a.map((key) => (Object.assign(Object.assign({}, key), { access_key: Object.assign(Object.assign({}, key.access_key), { nonce: new bn_js_1.default(key.access_key.nonce) }) })));\n        });\n    }\n    /**\n     * Returns a list of authorized apps\n     * @todo update the response value to return all the different keys, not just app keys.\n     */\n    getAccountDetails() {\n        return __awaiter(this, void 0, void 0, function* () {\n            // TODO: update the response value to return all the different keys, not just app keys.\n            // Also if we need this function, or getAccessKeys is good enough.\n            const accessKeys = yield this.getAccessKeys();\n            const authorizedApps = accessKeys\n                .filter(item => item.access_key.permission !== 'FullAccess')\n                .map(item => {\n                const perm = item.access_key.permission;\n                return {\n                    contractId: perm.FunctionCall.receiver_id,\n                    amount: perm.FunctionCall.allowance,\n                    publicKey: item.public_key,\n                };\n            });\n            return { authorizedApps };\n        });\n    }\n    /**\n     * Returns calculated account balance\n     */\n    getAccountBalance() {\n        return __awaiter(this, void 0, void 0, function* () {\n            const protocolConfig = yield this.connection.provider.experimental_protocolConfig({ finality: 'final' });\n            const state = yield this.state();\n            const costPerByte = new bn_js_1.default(protocolConfig.runtime_config.storage_amount_per_byte);\n            const stateStaked = new bn_js_1.default(state.storage_usage).mul(costPerByte);\n            const staked = new bn_js_1.default(state.locked);\n            const totalBalance = new bn_js_1.default(state.amount).add(staked);\n            const availableBalance = totalBalance.sub(bn_js_1.default.max(staked, stateStaked));\n            return {\n                total: totalBalance.toString(),\n                stateStaked: stateStaked.toString(),\n                staked: staked.toString(),\n                available: availableBalance.toString()\n            };\n        });\n    }\n    /**\n     * Returns the NEAR tokens balance and validators of a given account that is delegated to the staking pools that are part of the validators set in the current epoch.\n     *\n     * NOTE: If the tokens are delegated to a staking pool that is currently on pause or does not have enough tokens to participate in validation, they won't be accounted for.\n     * @returns {Promise<ActiveDelegatedStakeBalance>}\n     */\n    getActiveDelegatedStakeBalance() {\n        return __awaiter(this, void 0, void 0, function* () {\n            const block = yield this.connection.provider.block({ finality: 'final' });\n            const blockHash = block.header.hash;\n            const epochId = block.header.epoch_id;\n            const { current_validators, next_validators, current_proposals } = yield this.connection.provider.validators(epochId);\n            const pools = new Set();\n            [...current_validators, ...next_validators, ...current_proposals]\n                .forEach((validator) => pools.add(validator.account_id));\n            const uniquePools = [...pools];\n            const promises = uniquePools\n                .map((validator) => (this.viewFunction({\n                contractId: validator,\n                methodName: 'get_account_total_balance',\n                args: { account_id: this.accountId },\n                blockQuery: { blockId: blockHash }\n            })));\n            const results = yield Promise.allSettled(promises);\n            const hasTimeoutError = results.some((result) => {\n                if (result.status === 'rejected' && result.reason.type === 'TimeoutError') {\n                    return true;\n                }\n                return false;\n            });\n            // When RPC is down and return timeout error, throw error\n            if (hasTimeoutError) {\n                throw new Error('Failed to get delegated stake balance');\n            }\n            const summary = results.reduce((result, state, index) => {\n                const validatorId = uniquePools[index];\n                if (state.status === 'fulfilled') {\n                    const currentBN = new bn_js_1.default(state.value);\n                    if (!currentBN.isZero()) {\n                        return Object.assign(Object.assign({}, result), { stakedValidators: [...result.stakedValidators, { validatorId, amount: currentBN.toString() }], total: result.total.add(currentBN) });\n                    }\n                }\n                if (state.status === 'rejected') {\n                    return Object.assign(Object.assign({}, result), { failedValidators: [...result.failedValidators, { validatorId, error: state.reason }] });\n                }\n                return result;\n            }, { stakedValidators: [], failedValidators: [], total: new bn_js_1.default(0) });\n            return Object.assign(Object.assign({}, summary), { total: summary.total.toString() });\n        });\n    }\n}\nexports.Account = Account;\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Account2FA = void 0;\nconst crypto_1 = require(\"@near-js/crypto\");\nconst types_1 = require(\"@near-js/types\");\nconst providers_1 = require(\"@near-js/providers\");\nconst transactions_1 = require(\"@near-js/transactions\");\nconst bn_js_1 = __importDefault(require(\"bn.js\"));\nconst account_multisig_1 = require(\"./account_multisig\");\nconst constants_1 = require(\"./constants\");\nconst types_2 = require(\"./types\");\nconst { addKey, deleteKey, deployContract, fullAccessKey, functionCall, functionCallAccessKey } = transactions_1.actionCreators;\nclass Account2FA extends account_multisig_1.AccountMultisig {\n    constructor(connection, accountId, options) {\n        super(connection, accountId, options);\n        this.helperUrl = 'https://helper.testnet.near.org';\n        this.helperUrl = options.helperUrl || this.helperUrl;\n        this.storage = options.storage;\n        this.sendCode = options.sendCode || this.sendCodeDefault;\n        this.getCode = options.getCode || this.getCodeDefault;\n        this.verifyCode = options.verifyCode || this.verifyCodeDefault;\n        this.onConfirmResult = options.onConfirmResult;\n    }\n    /**\n     * Sign a transaction to preform a list of actions and broadcast it using the RPC API.\n     * @see {@link providers/json-rpc-provider!JsonRpcProvider#sendTransaction | JsonRpcProvider.sendTransaction}\n     */\n    signAndSendTransaction({ receiverId, actions }) {\n        const _super = Object.create(null, {\n            signAndSendTransaction: { get: () => super.signAndSendTransaction }\n        });\n        return __awaiter(this, void 0, void 0, function* () {\n            yield _super.signAndSendTransaction.call(this, { receiverId, actions });\n            // TODO: Should following override onRequestResult in superclass instead of doing custom signAndSendTransaction?\n            yield this.sendCode();\n            const result = yield this.promptAndVerify();\n            if (this.onConfirmResult) {\n                yield this.onConfirmResult(result);\n            }\n            return result;\n        });\n    }\n    // default helpers for CH deployments of multisig\n    deployMultisig(contractBytes) {\n        const _super = Object.create(null, {\n            signAndSendTransactionWithAccount: { get: () => super.signAndSendTransactionWithAccount }\n        });\n        return __awaiter(this, void 0, void 0, function* () {\n            const { accountId } = this;\n            const seedOrLedgerKey = (yield this.getRecoveryMethods()).data\n                .filter(({ kind, publicKey }) => (kind === 'phrase' || kind === 'ledger') && publicKey !== null)\n                .map((rm) => rm.publicKey);\n            const fak2lak = (yield this.getAccessKeys())\n                .filter(({ public_key, access_key: { permission } }) => permission === 'FullAccess' && !seedOrLedgerKey.includes(public_key))\n                .map((ak) => ak.public_key)\n                .map(toPK);\n            const confirmOnlyKey = toPK((yield this.postSignedJson('/2fa/getAccessKey', { accountId })).publicKey);\n            const newArgs = Buffer.from(JSON.stringify({ 'num_confirmations': 2 }));\n            const actions = [\n                ...fak2lak.map((pk) => deleteKey(pk)),\n                ...fak2lak.map((pk) => addKey(pk, functionCallAccessKey(accountId, constants_1.MULTISIG_CHANGE_METHODS, null))),\n                addKey(confirmOnlyKey, functionCallAccessKey(accountId, constants_1.MULTISIG_CONFIRM_METHODS, null)),\n                deployContract(contractBytes),\n            ];\n            const newFunctionCallActionBatch = actions.concat(functionCall('new', newArgs, constants_1.MULTISIG_GAS, constants_1.MULTISIG_DEPOSIT));\n            console.log('deploying multisig contract for', accountId);\n            const { stateStatus: multisigStateStatus } = yield this.checkMultisigCodeAndStateStatus(contractBytes);\n            switch (multisigStateStatus) {\n                case types_2.MultisigStateStatus.STATE_NOT_INITIALIZED:\n                    return yield _super.signAndSendTransactionWithAccount.call(this, accountId, newFunctionCallActionBatch);\n                case types_2.MultisigStateStatus.VALID_STATE:\n                    return yield _super.signAndSendTransactionWithAccount.call(this, accountId, actions);\n                case types_2.MultisigStateStatus.INVALID_STATE:\n                    throw new types_1.TypedError(`Can not deploy a contract to account ${this.accountId} on network ${this.connection.networkId}, the account has existing state.`, 'ContractHasExistingState');\n                default:\n                    throw new types_1.TypedError(`Can not deploy a contract to account ${this.accountId} on network ${this.connection.networkId}, the account state could not be verified.`, 'ContractStateUnknown');\n            }\n        });\n    }\n    disableWithFAK({ contractBytes, cleanupContractBytes }) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let cleanupActions = [];\n            if (cleanupContractBytes) {\n                yield this.deleteAllRequests().catch(e => e);\n                cleanupActions = yield this.get2faDisableCleanupActions(cleanupContractBytes);\n            }\n            const keyConversionActions = yield this.get2faDisableKeyConversionActions();\n            const actions = [\n                ...cleanupActions,\n                ...keyConversionActions,\n                deployContract(contractBytes)\n            ];\n            const accessKeyInfo = yield this.findAccessKey(this.accountId, actions);\n            if (accessKeyInfo && accessKeyInfo.accessKey && accessKeyInfo.accessKey.permission !== 'FullAccess') {\n                throw new types_1.TypedError('No full access key found in keystore. Unable to bypass multisig', 'NoFAKFound');\n            }\n            return this.signAndSendTransactionWithAccount(this.accountId, actions);\n        });\n    }\n    get2faDisableCleanupActions(cleanupContractBytes) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const currentAccountState = yield this.viewState('').catch(error => {\n                const cause = error.cause && error.cause.name;\n                if (cause == 'NO_CONTRACT_CODE') {\n                    return [];\n                }\n                throw cause == 'TOO_LARGE_CONTRACT_STATE'\n                    ? new types_1.TypedError(`Can not deploy a contract to account ${this.accountId} on network ${this.connection.networkId}, the account has existing state.`, 'ContractHasExistingState')\n                    : error;\n            });\n            const currentAccountStateKeys = currentAccountState.map(({ key }) => key.toString('base64'));\n            return currentAccountState.length ? [\n                deployContract(cleanupContractBytes),\n                functionCall('clean', { keys: currentAccountStateKeys }, constants_1.MULTISIG_GAS, new bn_js_1.default('0'))\n            ] : [];\n        });\n    }\n    get2faDisableKeyConversionActions() {\n        return __awaiter(this, void 0, void 0, function* () {\n            const { accountId } = this;\n            const accessKeys = yield this.getAccessKeys();\n            const lak2fak = accessKeys\n                .filter(({ access_key }) => access_key.permission !== 'FullAccess')\n                .filter(({ access_key }) => {\n                const perm = access_key.permission.FunctionCall;\n                return perm.receiver_id === accountId &&\n                    perm.method_names.length === 4 &&\n                    perm.method_names.includes('add_request_and_confirm');\n            });\n            const confirmOnlyKey = crypto_1.PublicKey.from((yield this.postSignedJson('/2fa/getAccessKey', { accountId })).publicKey);\n            return [\n                deleteKey(confirmOnlyKey),\n                ...lak2fak.map(({ public_key }) => deleteKey(crypto_1.PublicKey.from(public_key))),\n                ...lak2fak.map(({ public_key }) => addKey(crypto_1.PublicKey.from(public_key), fullAccessKey()))\n            ];\n        });\n    }\n    /**\n     * This method converts LAKs back to FAKs, clears state and deploys an 'empty' contract (contractBytes param)\n     * @param [contractBytes]{@link https://github.com/near/near-wallet/blob/master/packages/frontend/src/wasm/main.wasm?raw=true}\n     * @param [cleanupContractBytes]{@link https://github.com/near/core-contracts/blob/master/state-cleanup/res/state_cleanup.wasm?raw=true}\n     */\n    disable(contractBytes, cleanupContractBytes) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const { stateStatus } = yield this.checkMultisigCodeAndStateStatus();\n            if (stateStatus !== types_2.MultisigStateStatus.VALID_STATE && stateStatus !== types_2.MultisigStateStatus.STATE_NOT_INITIALIZED) {\n                throw new types_1.TypedError(`Can not deploy a contract to account ${this.accountId} on network ${this.connection.networkId}, the account state could not be verified.`, 'ContractStateUnknown');\n            }\n            let deleteAllRequestsError;\n            yield this.deleteAllRequests().catch(e => deleteAllRequestsError = e);\n            const cleanupActions = yield this.get2faDisableCleanupActions(cleanupContractBytes).catch(e => {\n                if (e.type === 'ContractHasExistingState') {\n                    throw deleteAllRequestsError || e;\n                }\n                throw e;\n            });\n            const actions = [\n                ...cleanupActions,\n                ...(yield this.get2faDisableKeyConversionActions()),\n                deployContract(contractBytes),\n            ];\n            console.log('disabling 2fa for', this.accountId);\n            return yield this.signAndSendTransaction({\n                receiverId: this.accountId,\n                actions\n            });\n        });\n    }\n    sendCodeDefault() {\n        return __awaiter(this, void 0, void 0, function* () {\n            const { accountId } = this;\n            const { requestId } = this.getRequest();\n            const method = yield this.get2faMethod();\n            yield this.postSignedJson('/2fa/send', {\n                accountId,\n                method,\n                requestId,\n            });\n            return requestId;\n        });\n    }\n    getCodeDefault() {\n        return __awaiter(this, void 0, void 0, function* () {\n            throw new Error('There is no getCode callback provided. Please provide your own in AccountMultisig constructor options. It has a parameter method where method.kind is \"email\" or \"phone\".');\n        });\n    }\n    promptAndVerify() {\n        return __awaiter(this, void 0, void 0, function* () {\n            const method = yield this.get2faMethod();\n            const securityCode = yield this.getCode(method);\n            try {\n                const result = yield this.verifyCode(securityCode);\n                // TODO: Parse error from result for real (like in normal account.signAndSendTransaction)\n                return result;\n            }\n            catch (e) {\n                console.warn('Error validating security code:', e);\n                if (e.toString().includes('invalid 2fa code provided') || e.toString().includes('2fa code not valid')) {\n                    return yield this.promptAndVerify();\n                }\n                throw e;\n            }\n        });\n    }\n    verifyCodeDefault(securityCode) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const { accountId } = this;\n            const request = this.getRequest();\n            if (!request) {\n                throw new Error('no request pending');\n            }\n            const { requestId } = request;\n            return yield this.postSignedJson('/2fa/verify', {\n                accountId,\n                securityCode,\n                requestId\n            });\n        });\n    }\n    getRecoveryMethods() {\n        return __awaiter(this, void 0, void 0, function* () {\n            const { accountId } = this;\n            return {\n                accountId,\n                data: yield this.postSignedJson('/account/recoveryMethods', { accountId })\n            };\n        });\n    }\n    get2faMethod() {\n        return __awaiter(this, void 0, void 0, function* () {\n            let { data } = yield this.getRecoveryMethods();\n            if (data && data.length) {\n                data = data.find((m) => m.kind.indexOf('2fa-') === 0);\n            }\n            if (!data)\n                return null;\n            const { kind, detail } = data;\n            return { kind, detail };\n        });\n    }\n    signatureFor() {\n        return __awaiter(this, void 0, void 0, function* () {\n            const { accountId } = this;\n            const block = yield this.connection.provider.block({ finality: 'final' });\n            const blockNumber = block.header.height.toString();\n            const signed = yield this.connection.signer.signMessage(Buffer.from(blockNumber), accountId, this.connection.networkId);\n            const blockNumberSignature = Buffer.from(signed.signature).toString('base64');\n            return { blockNumber, blockNumberSignature };\n        });\n    }\n    postSignedJson(path, body) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return yield (0, providers_1.fetchJson)(this.helperUrl + path, JSON.stringify(Object.assign(Object.assign({}, body), (yield this.signatureFor()))));\n        });\n    }\n}\nexports.Account2FA = Account2FA;\n// helpers\nconst toPK = (pk) => crypto_1.PublicKey.from(pk);\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.UrlAccountCreator = exports.LocalAccountCreator = exports.AccountCreator = void 0;\nconst providers_1 = require(\"@near-js/providers\");\n/**\n * Account creator provides an interface for implementations to actually create accounts\n */\nclass AccountCreator {\n}\nexports.AccountCreator = AccountCreator;\nclass LocalAccountCreator extends AccountCreator {\n    constructor(masterAccount, initialBalance) {\n        super();\n        this.masterAccount = masterAccount;\n        this.initialBalance = initialBalance;\n    }\n    /**\n     * Creates an account using a masterAccount, meaning the new account is created from an existing account\n     * @param newAccountId The name of the NEAR account to be created\n     * @param publicKey The public key from the masterAccount used to create this account\n     * @returns {Promise<void>}\n     */\n    createAccount(newAccountId, publicKey) {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield this.masterAccount.createAccount(newAccountId, publicKey, this.initialBalance);\n        });\n    }\n}\nexports.LocalAccountCreator = LocalAccountCreator;\nclass UrlAccountCreator extends AccountCreator {\n    constructor(connection, helperUrl) {\n        super();\n        this.connection = connection;\n        this.helperUrl = helperUrl;\n    }\n    /**\n     * Creates an account using a helperUrl\n     * This is [hosted here](https://helper.nearprotocol.com) or set up locally with the [near-contract-helper](https://github.com/nearprotocol/near-contract-helper) repository\n     * @param newAccountId The name of the NEAR account to be created\n     * @param publicKey The public key from the masterAccount used to create this account\n     * @returns {Promise<void>}\n     */\n    createAccount(newAccountId, publicKey) {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield (0, providers_1.fetchJson)(`${this.helperUrl}/account`, JSON.stringify({ newAccountId, newAccountPublicKey: publicKey.toString() }));\n        });\n    }\n}\nexports.UrlAccountCreator = UrlAccountCreator;\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AccountMultisig = void 0;\nconst transactions_1 = require(\"@near-js/transactions\");\nconst account_1 = require(\"./account\");\nconst constants_1 = require(\"./constants\");\nconst types_1 = require(\"./types\");\nconst { deployContract, functionCall } = transactions_1.actionCreators;\nvar MultisigCodeStatus;\n(function (MultisigCodeStatus) {\n    MultisigCodeStatus[MultisigCodeStatus[\"INVALID_CODE\"] = 0] = \"INVALID_CODE\";\n    MultisigCodeStatus[MultisigCodeStatus[\"VALID_CODE\"] = 1] = \"VALID_CODE\";\n    MultisigCodeStatus[MultisigCodeStatus[\"UNKNOWN_CODE\"] = 2] = \"UNKNOWN_CODE\";\n})(MultisigCodeStatus || (MultisigCodeStatus = {}));\n// in memory request cache for node w/o localStorage\nconst storageFallback = {\n    [constants_1.MULTISIG_STORAGE_KEY]: null\n};\nclass AccountMultisig extends account_1.Account {\n    constructor(connection, accountId, options) {\n        super(connection, accountId);\n        this.storage = options.storage;\n        this.onAddRequestResult = options.onAddRequestResult;\n    }\n    signAndSendTransactionWithAccount(receiverId, actions) {\n        const _super = Object.create(null, {\n            signAndSendTransaction: { get: () => super.signAndSendTransaction }\n        });\n        return __awaiter(this, void 0, void 0, function* () {\n            return _super.signAndSendTransaction.call(this, { receiverId, actions });\n        });\n    }\n    signAndSendTransaction({ receiverId, actions }) {\n        const _super = Object.create(null, {\n            signAndSendTransaction: { get: () => super.signAndSendTransaction }\n        });\n        return __awaiter(this, void 0, void 0, function* () {\n            const { accountId } = this;\n            const args = Buffer.from(JSON.stringify({\n                request: {\n                    receiver_id: receiverId,\n                    actions: convertActions(actions, accountId, receiverId)\n                }\n            }));\n            let result;\n            try {\n                result = yield _super.signAndSendTransaction.call(this, {\n                    receiverId: accountId,\n                    actions: [\n                        functionCall('add_request_and_confirm', args, constants_1.MULTISIG_GAS, constants_1.MULTISIG_DEPOSIT)\n                    ]\n                });\n            }\n            catch (e) {\n                if (e.toString().includes('Account has too many active requests. Confirm or delete some')) {\n                    yield this.deleteUnconfirmedRequests();\n                    return yield this.signAndSendTransaction({ receiverId, actions });\n                }\n                throw e;\n            }\n            // TODO: Are following even needed? Seems like it throws on error already\n            if (!result.status) {\n                throw new Error('Request failed');\n            }\n            const status = Object.assign({}, result.status);\n            if (!status.SuccessValue || typeof status.SuccessValue !== 'string') {\n                throw new Error('Request failed');\n            }\n            this.setRequest({\n                accountId,\n                actions,\n                requestId: parseInt(Buffer.from(status.SuccessValue, 'base64').toString('ascii'), 10)\n            });\n            if (this.onAddRequestResult) {\n                yield this.onAddRequestResult(result);\n            }\n            // NOTE there is no await on purpose to avoid blocking for 2fa\n            this.deleteUnconfirmedRequests();\n            return result;\n        });\n    }\n    /*\n     * This method submits a canary transaction that is expected to always fail in order to determine whether the contract currently has valid multisig state\n     * and whether it is initialized. The canary transaction attempts to delete a request at index u32_max and will go through if a request exists at that index.\n     * a u32_max + 1 and -1 value cannot be used for the canary due to expected u32 error thrown before deserialization attempt.\n     */\n    checkMultisigCodeAndStateStatus(contractBytes) {\n        const _super = Object.create(null, {\n            signAndSendTransaction: { get: () => super.signAndSendTransaction }\n        });\n        return __awaiter(this, void 0, void 0, function* () {\n            const u32_max = 4294967295;\n            const validCodeStatusIfNoDeploy = contractBytes ? MultisigCodeStatus.UNKNOWN_CODE : MultisigCodeStatus.VALID_CODE;\n            try {\n                if (contractBytes) {\n                    yield _super.signAndSendTransaction.call(this, {\n                        receiverId: this.accountId, actions: [\n                            deployContract(contractBytes),\n                            functionCall('delete_request', { request_id: u32_max }, constants_1.MULTISIG_GAS, constants_1.MULTISIG_DEPOSIT)\n                        ]\n                    });\n                }\n                else {\n                    yield this.deleteRequest(u32_max);\n                }\n                return { codeStatus: MultisigCodeStatus.VALID_CODE, stateStatus: types_1.MultisigStateStatus.VALID_STATE };\n            }\n            catch (e) {\n                if (new RegExp(types_1.MultisigDeleteRequestRejectionError.CANNOT_DESERIALIZE_STATE).test(e && e.kind && e.kind.ExecutionError)) {\n                    return { codeStatus: validCodeStatusIfNoDeploy, stateStatus: types_1.MultisigStateStatus.INVALID_STATE };\n                }\n                else if (new RegExp(types_1.MultisigDeleteRequestRejectionError.MULTISIG_NOT_INITIALIZED).test(e && e.kind && e.kind.ExecutionError)) {\n                    return { codeStatus: validCodeStatusIfNoDeploy, stateStatus: types_1.MultisigStateStatus.STATE_NOT_INITIALIZED };\n                }\n                else if (new RegExp(types_1.MultisigDeleteRequestRejectionError.NO_SUCH_REQUEST).test(e && e.kind && e.kind.ExecutionError)) {\n                    return { codeStatus: validCodeStatusIfNoDeploy, stateStatus: types_1.MultisigStateStatus.VALID_STATE };\n                }\n                else if (new RegExp(types_1.MultisigDeleteRequestRejectionError.METHOD_NOT_FOUND).test(e && e.message)) {\n                    // not reachable if transaction included a deploy\n                    return { codeStatus: MultisigCodeStatus.INVALID_CODE, stateStatus: types_1.MultisigStateStatus.UNKNOWN_STATE };\n                }\n                throw e;\n            }\n        });\n    }\n    deleteRequest(request_id) {\n        return super.signAndSendTransaction({\n            receiverId: this.accountId,\n            actions: [functionCall('delete_request', { request_id }, constants_1.MULTISIG_GAS, constants_1.MULTISIG_DEPOSIT)]\n        });\n    }\n    deleteAllRequests() {\n        return __awaiter(this, void 0, void 0, function* () {\n            const request_ids = yield this.getRequestIds();\n            if (request_ids.length) {\n                yield Promise.all(request_ids.map((id) => this.deleteRequest(id)));\n            }\n        });\n    }\n    deleteUnconfirmedRequests() {\n        const _super = Object.create(null, {\n            signAndSendTransaction: { get: () => super.signAndSendTransaction }\n        });\n        return __awaiter(this, void 0, void 0, function* () {\n            // TODO: Delete in batch, don't delete unexpired\n            // TODO: Delete in batch, don't delete unexpired (can reduce gas usage dramatically)\n            const request_ids = yield this.getRequestIds();\n            const { requestId } = this.getRequest();\n            for (const requestIdToDelete of request_ids) {\n                if (requestIdToDelete == requestId) {\n                    continue;\n                }\n                try {\n                    yield _super.signAndSendTransaction.call(this, {\n                        receiverId: this.accountId,\n                        actions: [functionCall('delete_request', { request_id: requestIdToDelete }, constants_1.MULTISIG_GAS, constants_1.MULTISIG_DEPOSIT)]\n                    });\n                }\n                catch (e) {\n                    console.warn('Attempt to delete an earlier request before 15 minutes failed. Will try again.');\n                }\n            }\n        });\n    }\n    // helpers\n    getRequestIds() {\n        return __awaiter(this, void 0, void 0, function* () {\n            // TODO: Read requests from state to allow filtering by expiration time\n            // TODO: https://github.com/near/core-contracts/blob/305d1db4f4f2cf5ce4c1ef3479f7544957381f11/multisig/src/lib.rs#L84\n            return this.viewFunction({\n                contractId: this.accountId,\n                methodName: 'list_request_ids',\n            });\n        });\n    }\n    getRequest() {\n        if (this.storage) {\n            return JSON.parse(this.storage.getItem(constants_1.MULTISIG_STORAGE_KEY) || '{}');\n        }\n        return storageFallback[constants_1.MULTISIG_STORAGE_KEY];\n    }\n    setRequest(data) {\n        if (this.storage) {\n            return this.storage.setItem(constants_1.MULTISIG_STORAGE_KEY, JSON.stringify(data));\n        }\n        storageFallback[constants_1.MULTISIG_STORAGE_KEY] = data;\n    }\n}\nexports.AccountMultisig = AccountMultisig;\nconst convertPKForContract = (pk) => pk.toString().replace('ed25519:', '');\nconst convertActions = (actions, accountId, receiverId) => actions.map((a) => {\n    const type = a.enum;\n    const { gas, publicKey, methodName, args, deposit, accessKey, code } = a[type];\n    const action = {\n        type: type[0].toUpperCase() + type.substr(1),\n        gas: (gas && gas.toString()) || undefined,\n        public_key: (publicKey && convertPKForContract(publicKey)) || undefined,\n        method_name: methodName,\n        args: (args && Buffer.from(args).toString('base64')) || undefined,\n        code: (code && Buffer.from(code).toString('base64')) || undefined,\n        amount: (deposit && deposit.toString()) || undefined,\n        deposit: (deposit && deposit.toString()) || '0',\n        permission: undefined,\n    };\n    if (accessKey) {\n        if (receiverId === accountId && accessKey.permission.enum !== 'fullAccess') {\n            action.permission = {\n                receiver_id: accountId,\n                allowance: constants_1.MULTISIG_ALLOWANCE.toString(),\n                method_names: constants_1.MULTISIG_CHANGE_METHODS,\n            };\n        }\n        if (accessKey.permission.enum === 'functionCall') {\n            const { receiverId: receiver_id, methodNames: method_names, allowance } = accessKey.permission.functionCall;\n            action.permission = {\n                receiver_id,\n                allowance: (allowance && allowance.toString()) || undefined,\n                method_names\n            };\n        }\n    }\n    return action;\n});\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Connection = void 0;\nconst signers_1 = require(\"@near-js/signers\");\nconst providers_1 = require(\"@near-js/providers\");\n/**\n * @param config Contains connection info details\n * @returns {Provider}\n */\nfunction getProvider(config) {\n    switch (config.type) {\n        case undefined:\n            return config;\n        case 'JsonRpcProvider': return new providers_1.JsonRpcProvider(Object.assign({}, config.args));\n        default: throw new Error(`Unknown provider type ${config.type}`);\n    }\n}\n/**\n * @param config Contains connection info details\n * @returns {Signer}\n */\nfunction getSigner(config) {\n    switch (config.type) {\n        case undefined:\n            return config;\n        case 'InMemorySigner': {\n            return new signers_1.InMemorySigner(config.keyStore);\n        }\n        default: throw new Error(`Unknown signer type ${config.type}`);\n    }\n}\n/**\n * Connects an account to a given network via a given provider\n */\nclass Connection {\n    constructor(networkId, provider, signer, jsvmAccountId) {\n        this.networkId = networkId;\n        this.provider = provider;\n        this.signer = signer;\n        this.jsvmAccountId = jsvmAccountId;\n    }\n    /**\n     * @param config Contains connection info details\n     */\n    static fromConfig(config) {\n        const provider = getProvider(config.provider);\n        const signer = getSigner(config.signer);\n        return new Connection(config.networkId, provider, signer, config.jsvmAccountId);\n    }\n}\nexports.Connection = Connection;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MULTISIG_CONFIRM_METHODS = exports.MULTISIG_CHANGE_METHODS = exports.MULTISIG_DEPOSIT = exports.MULTISIG_GAS = exports.MULTISIG_ALLOWANCE = exports.MULTISIG_STORAGE_KEY = void 0;\nconst utils_1 = require(\"@near-js/utils\");\nconst bn_js_1 = __importDefault(require(\"bn.js\"));\nexports.MULTISIG_STORAGE_KEY = '__multisigRequest';\nexports.MULTISIG_ALLOWANCE = new bn_js_1.default((0, utils_1.parseNearAmount)('1'));\n// TODO: Different gas value for different requests (can reduce gas usage dramatically)\nexports.MULTISIG_GAS = new bn_js_1.default('100000000000000');\nexports.MULTISIG_DEPOSIT = new bn_js_1.default('0');\nexports.MULTISIG_CHANGE_METHODS = ['add_request', 'add_request_and_confirm', 'delete_request', 'confirm'];\nexports.MULTISIG_CONFIRM_METHODS = ['confirm'];\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Contract = void 0;\nconst utils_1 = require(\"@near-js/utils\");\nconst types_1 = require(\"@near-js/types\");\nconst ajv_1 = __importDefault(require(\"ajv\"));\nconst ajv_formats_1 = __importDefault(require(\"ajv-formats\"));\nconst bn_js_1 = __importDefault(require(\"bn.js\"));\nconst depd_1 = __importDefault(require(\"depd\"));\nconst near_abi_1 = require(\"near-abi\");\nconst errors_1 = require(\"./errors\");\n// Makes `function.name` return given name\nfunction nameFunction(name, body) {\n    return {\n        [name](...args) {\n            return body(...args);\n        }\n    }[name];\n}\nfunction validateArguments(args, abiFunction, ajv, abiRoot) {\n    var _a;\n    if (!isObject(args))\n        return;\n    if (abiFunction.params && abiFunction.params.serialization_type !== near_abi_1.AbiSerializationType.Json) {\n        throw new errors_1.UnsupportedSerializationError(abiFunction.name, abiFunction.params.serialization_type);\n    }\n    if (abiFunction.result && abiFunction.result.serialization_type !== near_abi_1.AbiSerializationType.Json) {\n        throw new errors_1.UnsupportedSerializationError(abiFunction.name, abiFunction.result.serialization_type);\n    }\n    const params = ((_a = abiFunction.params) === null || _a === void 0 ? void 0 : _a.args) || [];\n    for (const p of params) {\n        const arg = args[p.name];\n        const typeSchema = p.type_schema;\n        typeSchema.definitions = abiRoot.body.root_schema.definitions;\n        const validate = ajv.compile(typeSchema);\n        if (!validate(arg)) {\n            throw new errors_1.ArgumentSchemaError(p.name, validate.errors);\n        }\n    }\n    // Check there are no extra unknown arguments passed\n    for (const argName of Object.keys(args)) {\n        const param = params.find((p) => p.name === argName);\n        if (!param) {\n            throw new errors_1.UnknownArgumentError(argName, params.map((p) => p.name));\n        }\n    }\n}\nfunction createAjv() {\n    // Strict mode is disabled for now as it complains about unknown formats. We need to\n    // figure out if we want to support a fixed set of formats. `uint32` and `uint64`\n    // are added explicitly just to reduce the amount of warnings as these are very popular\n    // types.\n    const ajv = new ajv_1.default({\n        strictSchema: false,\n        formats: {\n            uint32: true,\n            uint64: true\n        }\n    });\n    (0, ajv_formats_1.default)(ajv);\n    return ajv;\n}\nconst isUint8Array = (x) => x && x.byteLength !== undefined && x.byteLength === x.length;\nconst isObject = (x) => Object.prototype.toString.call(x) === '[object Object]';\n/**\n * Defines a smart contract on NEAR including the change (mutable) and view (non-mutable) methods\n *\n * @see [https://docs.near.org/tools/near-api-js/quick-reference#contract](https://docs.near.org/tools/near-api-js/quick-reference#contract)\n * @example\n * ```js\n * import { Contract } from 'near-api-js';\n *\n * async function contractExample() {\n *   const methodOptions = {\n *     viewMethods: ['getMessageByAccountId'],\n *     changeMethods: ['addMessage']\n *   };\n *   const contract = new Contract(\n *     wallet.account(),\n *     'contract-id.testnet',\n *     methodOptions\n *   );\n *\n *   // use a contract view method\n *   const messages = await contract.getMessages({\n *     accountId: 'example-account.testnet'\n *   });\n *\n *   // use a contract change method\n *   await contract.addMessage({\n *      meta: 'some info',\n *      callbackUrl: 'https://example.com/callback',\n *      args: { text: 'my message' },\n *      amount: 1\n *   })\n * }\n * ```\n */\nclass Contract {\n    /**\n     * @param account NEAR account to sign change method transactions\n     * @param contractId NEAR account id where the contract is deployed\n     * @param options NEAR smart contract methods that your application will use. These will be available as `contract.methodName`\n     */\n    constructor(account, contractId, options) {\n        this.account = account;\n        this.contractId = contractId;\n        const { viewMethods = [], changeMethods = [], abi: abiRoot } = options;\n        let viewMethodsWithAbi = viewMethods.map((name) => ({ name, abi: null }));\n        let changeMethodsWithAbi = changeMethods.map((name) => ({ name, abi: null }));\n        if (abiRoot) {\n            if (viewMethodsWithAbi.length > 0 || changeMethodsWithAbi.length > 0) {\n                throw new errors_1.ConflictingOptions();\n            }\n            viewMethodsWithAbi = abiRoot.body.functions\n                .filter((m) => m.kind === near_abi_1.AbiFunctionKind.View)\n                .map((m) => ({ name: m.name, abi: m }));\n            changeMethodsWithAbi = abiRoot.body.functions\n                .filter((methodAbi) => methodAbi.kind === near_abi_1.AbiFunctionKind.Call)\n                .map((methodAbi) => ({ name: methodAbi.name, abi: methodAbi }));\n        }\n        const ajv = createAjv();\n        viewMethodsWithAbi.forEach(({ name, abi }) => {\n            Object.defineProperty(this, name, {\n                writable: false,\n                enumerable: true,\n                value: nameFunction(name, (args = {}, options = {}, ...ignored) => __awaiter(this, void 0, void 0, function* () {\n                    if (ignored.length || !(isObject(args) || isUint8Array(args)) || !isObject(options)) {\n                        throw new types_1.PositionalArgsError();\n                    }\n                    if (abi) {\n                        validateArguments(args, abi, ajv, abiRoot);\n                    }\n                    return this.account.viewFunction(Object.assign({ contractId: this.contractId, methodName: name, args }, options));\n                }))\n            });\n        });\n        changeMethodsWithAbi.forEach(({ name, abi }) => {\n            Object.defineProperty(this, name, {\n                writable: false,\n                enumerable: true,\n                value: nameFunction(name, (...args) => __awaiter(this, void 0, void 0, function* () {\n                    if (args.length && (args.length > 3 || !(isObject(args[0]) || isUint8Array(args[0])))) {\n                        throw new types_1.PositionalArgsError();\n                    }\n                    if (args.length > 1 || !(args[0] && args[0].args)) {\n                        const deprecate = (0, depd_1.default)('contract.methodName(args, gas, amount)');\n                        deprecate('use `contract.methodName({ args, gas?, amount?, callbackUrl?, meta? })` instead');\n                        args[0] = {\n                            args: args[0],\n                            gas: args[1],\n                            amount: args[2]\n                        };\n                    }\n                    if (abi) {\n                        validateArguments(args[0].args, abi, ajv, abiRoot);\n                    }\n                    return this._changeMethod(Object.assign({ methodName: name }, args[0]));\n                }))\n            });\n        });\n    }\n    _changeMethod({ args, methodName, gas, amount, meta, callbackUrl }) {\n        return __awaiter(this, void 0, void 0, function* () {\n            validateBNLike({ gas, amount });\n            const rawResult = yield this.account.functionCall({\n                contractId: this.contractId,\n                methodName,\n                args,\n                gas,\n                attachedDeposit: amount,\n                walletMeta: meta,\n                walletCallbackUrl: callbackUrl\n            });\n            return (0, utils_1.getTransactionLastResult)(rawResult);\n        });\n    }\n}\nexports.Contract = Contract;\n/**\n * Validation on arguments being a big number from bn.js\n * Throws if an argument is not in BN format or otherwise invalid\n * @param argMap\n */\nfunction validateBNLike(argMap) {\n    const bnLike = 'number, decimal string or BN';\n    for (const argName of Object.keys(argMap)) {\n        const argValue = argMap[argName];\n        if (argValue && !bn_js_1.default.isBN(argValue) && isNaN(argValue)) {\n            throw new types_1.ArgumentTypeError(argName, bnLike, argValue);\n        }\n    }\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ConflictingOptions = exports.ArgumentSchemaError = exports.UnknownArgumentError = exports.UnsupportedSerializationError = void 0;\nclass UnsupportedSerializationError extends Error {\n    constructor(methodName, serializationType) {\n        super(`Contract method '${methodName}' is using an unsupported serialization type ${serializationType}`);\n    }\n}\nexports.UnsupportedSerializationError = UnsupportedSerializationError;\nclass UnknownArgumentError extends Error {\n    constructor(actualArgName, expectedArgNames) {\n        super(`Unrecognized argument '${actualArgName}', expected '${JSON.stringify(expectedArgNames)}'`);\n    }\n}\nexports.UnknownArgumentError = UnknownArgumentError;\nclass ArgumentSchemaError extends Error {\n    constructor(argName, errors) {\n        super(`Argument '${argName}' does not conform to the specified ABI schema: '${JSON.stringify(errors)}'`);\n    }\n}\nexports.ArgumentSchemaError = ArgumentSchemaError;\nclass ConflictingOptions extends Error {\n    constructor() {\n        super('Conflicting contract method options have been passed. You can either specify ABI or a list of view/call methods.');\n    }\n}\nexports.ConflictingOptions = ConflictingOptions;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MultisigStateStatus = exports.MultisigDeleteRequestRejectionError = exports.UnsupportedSerializationError = exports.UnknownArgumentError = exports.ConflictingOptions = exports.ArgumentSchemaError = exports.Contract = exports.MULTISIG_CONFIRM_METHODS = exports.MULTISIG_CHANGE_METHODS = exports.MULTISIG_DEPOSIT = exports.MULTISIG_GAS = exports.MULTISIG_ALLOWANCE = exports.MULTISIG_STORAGE_KEY = exports.Connection = exports.AccountMultisig = exports.UrlAccountCreator = exports.LocalAccountCreator = exports.AccountCreator = exports.Account2FA = exports.Account = void 0;\nvar account_1 = require(\"./account\");\nObject.defineProperty(exports, \"Account\", { enumerable: true, get: function () { return account_1.Account; } });\nvar account_2fa_1 = require(\"./account_2fa\");\nObject.defineProperty(exports, \"Account2FA\", { enumerable: true, get: function () { return account_2fa_1.Account2FA; } });\nvar account_creator_1 = require(\"./account_creator\");\nObject.defineProperty(exports, \"AccountCreator\", { enumerable: true, get: function () { return account_creator_1.AccountCreator; } });\nObject.defineProperty(exports, \"LocalAccountCreator\", { enumerable: true, get: function () { return account_creator_1.LocalAccountCreator; } });\nObject.defineProperty(exports, \"UrlAccountCreator\", { enumerable: true, get: function () { return account_creator_1.UrlAccountCreator; } });\nvar account_multisig_1 = require(\"./account_multisig\");\nObject.defineProperty(exports, \"AccountMultisig\", { enumerable: true, get: function () { return account_multisig_1.AccountMultisig; } });\nvar connection_1 = require(\"./connection\");\nObject.defineProperty(exports, \"Connection\", { enumerable: true, get: function () { return connection_1.Connection; } });\nvar constants_1 = require(\"./constants\");\nObject.defineProperty(exports, \"MULTISIG_STORAGE_KEY\", { enumerable: true, get: function () { return constants_1.MULTISIG_STORAGE_KEY; } });\nObject.defineProperty(exports, \"MULTISIG_ALLOWANCE\", { enumerable: true, get: function () { return constants_1.MULTISIG_ALLOWANCE; } });\nObject.defineProperty(exports, \"MULTISIG_GAS\", { enumerable: true, get: function () { return constants_1.MULTISIG_GAS; } });\nObject.defineProperty(exports, \"MULTISIG_DEPOSIT\", { enumerable: true, get: function () { return constants_1.MULTISIG_DEPOSIT; } });\nObject.defineProperty(exports, \"MULTISIG_CHANGE_METHODS\", { enumerable: true, get: function () { return constants_1.MULTISIG_CHANGE_METHODS; } });\nObject.defineProperty(exports, \"MULTISIG_CONFIRM_METHODS\", { enumerable: true, get: function () { return constants_1.MULTISIG_CONFIRM_METHODS; } });\nvar contract_1 = require(\"./contract\");\nObject.defineProperty(exports, \"Contract\", { enumerable: true, get: function () { return contract_1.Contract; } });\nvar errors_1 = require(\"./errors\");\nObject.defineProperty(exports, \"ArgumentSchemaError\", { enumerable: true, get: function () { return errors_1.ArgumentSchemaError; } });\nObject.defineProperty(exports, \"ConflictingOptions\", { enumerable: true, get: function () { return errors_1.ConflictingOptions; } });\nObject.defineProperty(exports, \"UnknownArgumentError\", { enumerable: true, get: function () { return errors_1.UnknownArgumentError; } });\nObject.defineProperty(exports, \"UnsupportedSerializationError\", { enumerable: true, get: function () { return errors_1.UnsupportedSerializationError; } });\nvar types_1 = require(\"./types\");\nObject.defineProperty(exports, \"MultisigDeleteRequestRejectionError\", { enumerable: true, get: function () { return types_1.MultisigDeleteRequestRejectionError; } });\nObject.defineProperty(exports, \"MultisigStateStatus\", { enumerable: true, get: function () { return types_1.MultisigStateStatus; } });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MultisigStateStatus = exports.MultisigDeleteRequestRejectionError = void 0;\nvar MultisigDeleteRequestRejectionError;\n(function (MultisigDeleteRequestRejectionError) {\n    MultisigDeleteRequestRejectionError[\"CANNOT_DESERIALIZE_STATE\"] = \"Cannot deserialize the contract state\";\n    MultisigDeleteRequestRejectionError[\"MULTISIG_NOT_INITIALIZED\"] = \"Smart contract panicked: Multisig contract should be initialized before usage\";\n    MultisigDeleteRequestRejectionError[\"NO_SUCH_REQUEST\"] = \"Smart contract panicked: panicked at 'No such request: either wrong number or already confirmed'\";\n    MultisigDeleteRequestRejectionError[\"REQUEST_COOLDOWN_ERROR\"] = \"Request cannot be deleted immediately after creation.\";\n    MultisigDeleteRequestRejectionError[\"METHOD_NOT_FOUND\"] = \"Contract method is not found\";\n})(MultisigDeleteRequestRejectionError = exports.MultisigDeleteRequestRejectionError || (exports.MultisigDeleteRequestRejectionError = {}));\nvar MultisigStateStatus;\n(function (MultisigStateStatus) {\n    MultisigStateStatus[MultisigStateStatus[\"INVALID_STATE\"] = 0] = \"INVALID_STATE\";\n    MultisigStateStatus[MultisigStateStatus[\"STATE_NOT_INITIALIZED\"] = 1] = \"STATE_NOT_INITIALIZED\";\n    MultisigStateStatus[MultisigStateStatus[\"VALID_STATE\"] = 2] = \"VALID_STATE\";\n    MultisigStateStatus[MultisigStateStatus[\"UNKNOWN_STATE\"] = 3] = \"UNKNOWN_STATE\";\n})(MultisigStateStatus = exports.MultisigStateStatus || (exports.MultisigStateStatus = {}));\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.KeyType = void 0;\n/** All supported key types */\nvar KeyType;\n(function (KeyType) {\n    KeyType[KeyType[\"ED25519\"] = 0] = \"ED25519\";\n})(KeyType = exports.KeyType || (exports.KeyType = {}));\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.PublicKey = exports.KeyPairEd25519 = exports.KeyPair = exports.KeyType = void 0;\nvar constants_1 = require(\"./constants\");\nObject.defineProperty(exports, \"KeyType\", { enumerable: true, get: function () { return constants_1.KeyType; } });\nvar key_pair_1 = require(\"./key_pair\");\nObject.defineProperty(exports, \"KeyPair\", { enumerable: true, get: function () { return key_pair_1.KeyPair; } });\nvar key_pair_ed25519_1 = require(\"./key_pair_ed25519\");\nObject.defineProperty(exports, \"KeyPairEd25519\", { enumerable: true, get: function () { return key_pair_ed25519_1.KeyPairEd25519; } });\nvar public_key_1 = require(\"./public_key\");\nObject.defineProperty(exports, \"PublicKey\", { enumerable: true, get: function () { return public_key_1.PublicKey; } });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.KeyPair = void 0;\nconst key_pair_base_1 = require(\"./key_pair_base\");\nconst key_pair_ed25519_1 = require(\"./key_pair_ed25519\");\nclass KeyPair extends key_pair_base_1.KeyPairBase {\n    /**\n     * @param curve Name of elliptical curve, case-insensitive\n     * @returns Random KeyPair based on the curve\n     */\n    static fromRandom(curve) {\n        switch (curve.toUpperCase()) {\n            case 'ED25519': return key_pair_ed25519_1.KeyPairEd25519.fromRandom();\n            default: throw new Error(`Unknown curve ${curve}`);\n        }\n    }\n    static fromString(encodedKey) {\n        const parts = encodedKey.split(':');\n        if (parts.length === 1) {\n            return new key_pair_ed25519_1.KeyPairEd25519(parts[0]);\n        }\n        else if (parts.length === 2) {\n            switch (parts[0].toUpperCase()) {\n                case 'ED25519': return new key_pair_ed25519_1.KeyPairEd25519(parts[1]);\n                default: throw new Error(`Unknown curve: ${parts[0]}`);\n            }\n        }\n        else {\n            throw new Error('Invalid encoded key format, must be <curve>:<encoded key>');\n        }\n    }\n}\nexports.KeyPair = KeyPair;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.KeyPairBase = void 0;\nclass KeyPairBase {\n}\nexports.KeyPairBase = KeyPairBase;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.KeyPairEd25519 = void 0;\nconst borsh_1 = require(\"borsh\");\nconst tweetnacl_1 = __importDefault(require(\"tweetnacl\"));\nconst constants_1 = require(\"./constants\");\nconst key_pair_base_1 = require(\"./key_pair_base\");\nconst public_key_1 = require(\"./public_key\");\n/**\n * This class provides key pair functionality for Ed25519 curve:\n * generating key pairs, encoding key pairs, signing and verifying.\n */\nclass KeyPairEd25519 extends key_pair_base_1.KeyPairBase {\n    /**\n     * Construct an instance of key pair given a secret key.\n     * It's generally assumed that these are encoded in base58.\n     * @param {string} secretKey\n     */\n    constructor(secretKey) {\n        super();\n        const keyPair = tweetnacl_1.default.sign.keyPair.fromSecretKey((0, borsh_1.baseDecode)(secretKey));\n        this.publicKey = new public_key_1.PublicKey({ keyType: constants_1.KeyType.ED25519, data: keyPair.publicKey });\n        this.secretKey = secretKey;\n    }\n    /**\n     * Generate a new random keypair.\n     * @example\n     * const keyRandom = KeyPair.fromRandom();\n     * keyRandom.publicKey\n     * // returns [PUBLIC_KEY]\n     *\n     * keyRandom.secretKey\n     * // returns [SECRET_KEY]\n     */\n    static fromRandom() {\n        const newKeyPair = tweetnacl_1.default.sign.keyPair();\n        return new KeyPairEd25519((0, borsh_1.baseEncode)(newKeyPair.secretKey));\n    }\n    sign(message) {\n        const signature = tweetnacl_1.default.sign.detached(message, (0, borsh_1.baseDecode)(this.secretKey));\n        return { signature, publicKey: this.publicKey };\n    }\n    verify(message, signature) {\n        return this.publicKey.verify(message, signature);\n    }\n    toString() {\n        return `ed25519:${this.secretKey}`;\n    }\n    getPublicKey() {\n        return this.publicKey;\n    }\n}\nexports.KeyPairEd25519 = KeyPairEd25519;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.PublicKey = void 0;\nconst types_1 = require(\"@near-js/types\");\nconst borsh_1 = require(\"borsh\");\nconst tweetnacl_1 = __importDefault(require(\"tweetnacl\"));\nconst constants_1 = require(\"./constants\");\nfunction key_type_to_str(keyType) {\n    switch (keyType) {\n        case constants_1.KeyType.ED25519: return 'ed25519';\n        default: throw new Error(`Unknown key type ${keyType}`);\n    }\n}\nfunction str_to_key_type(keyType) {\n    switch (keyType.toLowerCase()) {\n        case 'ed25519': return constants_1.KeyType.ED25519;\n        default: throw new Error(`Unknown key type ${keyType}`);\n    }\n}\n/**\n * PublicKey representation that has type and bytes of the key.\n */\nclass PublicKey extends types_1.Assignable {\n    static from(value) {\n        if (typeof value === 'string') {\n            return PublicKey.fromString(value);\n        }\n        return value;\n    }\n    static fromString(encodedKey) {\n        const parts = encodedKey.split(':');\n        let publicKey;\n        let keyType = constants_1.KeyType.ED25519;\n        if (parts.length === 1) {\n            publicKey = parts[0];\n        }\n        else if (parts.length === 2) {\n            publicKey = parts[1];\n            keyType = str_to_key_type(parts[0]);\n        }\n        else {\n            throw new Error('Invalid encoded key format, must be <curve>:<encoded key>');\n        }\n        const decodedPublicKey = (0, borsh_1.baseDecode)(publicKey);\n        if (decodedPublicKey.length !== tweetnacl_1.default.box.publicKeyLength) {\n            throw new Error(`Invalid public key size (${decodedPublicKey.length}), must be ${tweetnacl_1.default.box.publicKeyLength}`);\n        }\n        return new PublicKey({ keyType, data: decodedPublicKey });\n    }\n    toString() {\n        return `${key_type_to_str(this.keyType)}:${(0, borsh_1.baseEncode)(this.data)}`;\n    }\n    verify(message, signature) {\n        switch (this.keyType) {\n            case constants_1.KeyType.ED25519: return tweetnacl_1.default.sign.detached.verify(message, signature, this.data);\n            default: throw new Error(`Unknown key type ${this.keyType}`);\n        }\n    }\n}\nexports.PublicKey = PublicKey;\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BrowserLocalStorageKeyStore = void 0;\nconst crypto_1 = require(\"@near-js/crypto\");\nconst keystores_1 = require(\"@near-js/keystores\");\nconst LOCAL_STORAGE_KEY_PREFIX = 'near-api-js:keystore:';\n/**\n * This class is used to store keys in the browsers local storage.\n *\n * @see [https://docs.near.org/docs/develop/front-end/naj-quick-reference#key-store](https://docs.near.org/docs/develop/front-end/naj-quick-reference#key-store)\n * @example\n * ```js\n * import { connect, keyStores } from 'near-api-js';\n *\n * const keyStore = new keyStores.BrowserLocalStorageKeyStore();\n * const config = {\n *   keyStore, // instance of BrowserLocalStorageKeyStore\n *   networkId: 'testnet',\n *   nodeUrl: 'https://rpc.testnet.near.org',\n *   walletUrl: 'https://wallet.testnet.near.org',\n *   helperUrl: 'https://helper.testnet.near.org',\n *   explorerUrl: 'https://explorer.testnet.near.org'\n * };\n *\n * // inside an async function\n * const near = await connect(config)\n * ```\n */\nclass BrowserLocalStorageKeyStore extends keystores_1.KeyStore {\n    /**\n     * @param localStorage defaults to window.localStorage\n     * @param prefix defaults to `near-api-js:keystore:`\n     */\n    constructor(localStorage = window.localStorage, prefix = LOCAL_STORAGE_KEY_PREFIX) {\n        super();\n        this.localStorage = localStorage;\n        this.prefix = prefix;\n    }\n    /**\n     * Stores a {@link utils/key_pair!KeyPair} in local storage.\n     * @param networkId The targeted network. (ex. default, betanet, etc)\n     * @param accountId The NEAR account tied to the key pair\n     * @param keyPair The key pair to store in local storage\n     */\n    setKey(networkId, accountId, keyPair) {\n        return __awaiter(this, void 0, void 0, function* () {\n            this.localStorage.setItem(this.storageKeyForSecretKey(networkId, accountId), keyPair.toString());\n        });\n    }\n    /**\n     * Gets a {@link utils/key_pair!KeyPair} from local storage\n     * @param networkId The targeted network. (ex. default, betanet, etc)\n     * @param accountId The NEAR account tied to the key pair\n     * @returns {Promise<KeyPair>}\n     */\n    getKey(networkId, accountId) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const value = this.localStorage.getItem(this.storageKeyForSecretKey(networkId, accountId));\n            if (!value) {\n                return null;\n            }\n            return crypto_1.KeyPair.fromString(value);\n        });\n    }\n    /**\n     * Removes a {@link utils/key_pair!KeyPair} from local storage\n     * @param networkId The targeted network. (ex. default, betanet, etc)\n     * @param accountId The NEAR account tied to the key pair\n     */\n    removeKey(networkId, accountId) {\n        return __awaiter(this, void 0, void 0, function* () {\n            this.localStorage.removeItem(this.storageKeyForSecretKey(networkId, accountId));\n        });\n    }\n    /**\n     * Removes all items that start with `prefix` from local storage\n     */\n    clear() {\n        return __awaiter(this, void 0, void 0, function* () {\n            for (const key of this.storageKeys()) {\n                if (key.startsWith(this.prefix)) {\n                    this.localStorage.removeItem(key);\n                }\n            }\n        });\n    }\n    /**\n     * Get the network(s) from local storage\n     * @returns {Promise<string[]>}\n     */\n    getNetworks() {\n        return __awaiter(this, void 0, void 0, function* () {\n            const result = new Set();\n            for (const key of this.storageKeys()) {\n                if (key.startsWith(this.prefix)) {\n                    const parts = key.substring(this.prefix.length).split(':');\n                    result.add(parts[1]);\n                }\n            }\n            return Array.from(result.values());\n        });\n    }\n    /**\n     * Gets the account(s) from local storage\n     * @param networkId The targeted network. (ex. default, betanet, etc)\n     */\n    getAccounts(networkId) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const result = new Array();\n            for (const key of this.storageKeys()) {\n                if (key.startsWith(this.prefix)) {\n                    const parts = key.substring(this.prefix.length).split(':');\n                    if (parts[1] === networkId) {\n                        result.push(parts[0]);\n                    }\n                }\n            }\n            return result;\n        });\n    }\n    /**\n     * @hidden\n     * Helper function to retrieve a local storage key\n     * @param networkId The targeted network. (ex. default, betanet, etc)\n     * @param accountId The NEAR account tied to the storage keythat's sought\n     * @returns {string} An example might be: `near-api-js:keystore:near-friend:default`\n     */\n    storageKeyForSecretKey(networkId, accountId) {\n        return `${this.prefix}${accountId}:${networkId}`;\n    }\n    /** @hidden */\n    *storageKeys() {\n        for (let i = 0; i < this.localStorage.length; i++) {\n            yield this.localStorage.key(i);\n        }\n    }\n}\nexports.BrowserLocalStorageKeyStore = BrowserLocalStorageKeyStore;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BrowserLocalStorageKeyStore = void 0;\nvar browser_local_storage_key_store_1 = require(\"./browser_local_storage_key_store\");\nObject.defineProperty(exports, \"BrowserLocalStorageKeyStore\", { enumerable: true, get: function () { return browser_local_storage_key_store_1.BrowserLocalStorageKeyStore; } });\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.InMemoryKeyStore = void 0;\nconst crypto_1 = require(\"@near-js/crypto\");\nconst keystore_1 = require(\"./keystore\");\n/**\n * Simple in-memory keystore for mainly for testing purposes.\n *\n * @see [https://docs.near.org/docs/develop/front-end/naj-quick-reference#key-store](https://docs.near.org/docs/develop/front-end/naj-quick-reference#key-store)\n * @example\n * ```js\n * import { connect, keyStores, utils } from 'near-api-js';\n *\n * const privateKey = '.......';\n * const keyPair = utils.KeyPair.fromString(privateKey);\n *\n * const keyStore = new keyStores.InMemoryKeyStore();\n * keyStore.setKey('testnet', 'example-account.testnet', keyPair);\n *\n * const config = {\n *   keyStore, // instance of InMemoryKeyStore\n *   networkId: 'testnet',\n *   nodeUrl: 'https://rpc.testnet.near.org',\n *   walletUrl: 'https://wallet.testnet.near.org',\n *   helperUrl: 'https://helper.testnet.near.org',\n *   explorerUrl: 'https://explorer.testnet.near.org'\n * };\n *\n * // inside an async function\n * const near = await connect(config)\n * ```\n */\nclass InMemoryKeyStore extends keystore_1.KeyStore {\n    constructor() {\n        super();\n        this.keys = {};\n    }\n    /**\n     * Stores a {@link utils/key_pair!KeyPair} in in-memory storage item\n     * @param networkId The targeted network. (ex. default, betanet, etc)\n     * @param accountId The NEAR account tied to the key pair\n     * @param keyPair The key pair to store in local storage\n     */\n    setKey(networkId, accountId, keyPair) {\n        return __awaiter(this, void 0, void 0, function* () {\n            this.keys[`${accountId}:${networkId}`] = keyPair.toString();\n        });\n    }\n    /**\n     * Gets a {@link utils/key_pair!KeyPair} from in-memory storage\n     * @param networkId The targeted network. (ex. default, betanet, etc)\n     * @param accountId The NEAR account tied to the key pair\n     * @returns {Promise<KeyPair>}\n     */\n    getKey(networkId, accountId) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const value = this.keys[`${accountId}:${networkId}`];\n            if (!value) {\n                return null;\n            }\n            return crypto_1.KeyPair.fromString(value);\n        });\n    }\n    /**\n     * Removes a {@link utils/key_pair!KeyPair} from in-memory storage\n     * @param networkId The targeted network. (ex. default, betanet, etc)\n     * @param accountId The NEAR account tied to the key pair\n     */\n    removeKey(networkId, accountId) {\n        return __awaiter(this, void 0, void 0, function* () {\n            delete this.keys[`${accountId}:${networkId}`];\n        });\n    }\n    /**\n     * Removes all {@link utils/key_pair!KeyPair} from in-memory storage\n     */\n    clear() {\n        return __awaiter(this, void 0, void 0, function* () {\n            this.keys = {};\n        });\n    }\n    /**\n     * Get the network(s) from in-memory storage\n     * @returns {Promise<string[]>}\n     */\n    getNetworks() {\n        return __awaiter(this, void 0, void 0, function* () {\n            const result = new Set();\n            Object.keys(this.keys).forEach((key) => {\n                const parts = key.split(':');\n                result.add(parts[1]);\n            });\n            return Array.from(result.values());\n        });\n    }\n    /**\n     * Gets the account(s) from in-memory storage\n     * @param networkId The targeted network. (ex. default, betanet, etc)\n     */\n    getAccounts(networkId) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const result = new Array();\n            Object.keys(this.keys).forEach((key) => {\n                const parts = key.split(':');\n                if (parts[parts.length - 1] === networkId) {\n                    result.push(parts.slice(0, parts.length - 1).join(':'));\n                }\n            });\n            return result;\n        });\n    }\n    /** @hidden */\n    toString() {\n        return 'InMemoryKeyStore';\n    }\n}\nexports.InMemoryKeyStore = InMemoryKeyStore;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MergeKeyStore = exports.KeyStore = exports.InMemoryKeyStore = void 0;\nvar in_memory_key_store_1 = require(\"./in_memory_key_store\");\nObject.defineProperty(exports, \"InMemoryKeyStore\", { enumerable: true, get: function () { return in_memory_key_store_1.InMemoryKeyStore; } });\nvar keystore_1 = require(\"./keystore\");\nObject.defineProperty(exports, \"KeyStore\", { enumerable: true, get: function () { return keystore_1.KeyStore; } });\nvar merge_key_store_1 = require(\"./merge_key_store\");\nObject.defineProperty(exports, \"MergeKeyStore\", { enumerable: true, get: function () { return merge_key_store_1.MergeKeyStore; } });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.KeyStore = void 0;\n/**\n * KeyStores are passed to {@link near!Near} via {@link near!NearConfig}\n * and are used by the {@link signer!InMemorySigner} to sign transactions.\n *\n * @see {@link connect}\n */\nclass KeyStore {\n}\nexports.KeyStore = KeyStore;\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MergeKeyStore = void 0;\nconst keystore_1 = require(\"./keystore\");\nclass MergeKeyStore extends keystore_1.KeyStore {\n    /**\n     * @param keyStores read calls are attempted from start to end of array\n     * @param options.writeKeyStoreIndex the keystore index that will receive all write calls\n     */\n    constructor(keyStores, options = { writeKeyStoreIndex: 0 }) {\n        super();\n        this.options = options;\n        this.keyStores = keyStores;\n    }\n    /**\n     * Store a {@link utils/key_pair!KeyPair} to the first index of a key store array\n     * @param networkId The targeted network. (ex. default, betanet, etc)\n     * @param accountId The NEAR account tied to the key pair\n     * @param keyPair The key pair to store in local storage\n     */\n    setKey(networkId, accountId, keyPair) {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield this.keyStores[this.options.writeKeyStoreIndex].setKey(networkId, accountId, keyPair);\n        });\n    }\n    /**\n     * Gets a {@link utils/key_pair!KeyPair} from the array of key stores\n     * @param networkId The targeted network. (ex. default, betanet, etc)\n     * @param accountId The NEAR account tied to the key pair\n     * @returns {Promise<KeyPair>}\n     */\n    getKey(networkId, accountId) {\n        return __awaiter(this, void 0, void 0, function* () {\n            for (const keyStore of this.keyStores) {\n                const keyPair = yield keyStore.getKey(networkId, accountId);\n                if (keyPair) {\n                    return keyPair;\n                }\n            }\n            return null;\n        });\n    }\n    /**\n     * Removes a {@link utils/key_pair!KeyPair} from the array of key stores\n     * @param networkId The targeted network. (ex. default, betanet, etc)\n     * @param accountId The NEAR account tied to the key pair\n     */\n    removeKey(networkId, accountId) {\n        return __awaiter(this, void 0, void 0, function* () {\n            for (const keyStore of this.keyStores) {\n                yield keyStore.removeKey(networkId, accountId);\n            }\n        });\n    }\n    /**\n     * Removes all items from each key store\n     */\n    clear() {\n        return __awaiter(this, void 0, void 0, function* () {\n            for (const keyStore of this.keyStores) {\n                yield keyStore.clear();\n            }\n        });\n    }\n    /**\n     * Get the network(s) from the array of key stores\n     * @returns {Promise<string[]>}\n     */\n    getNetworks() {\n        return __awaiter(this, void 0, void 0, function* () {\n            const result = new Set();\n            for (const keyStore of this.keyStores) {\n                for (const network of yield keyStore.getNetworks()) {\n                    result.add(network);\n                }\n            }\n            return Array.from(result);\n        });\n    }\n    /**\n     * Gets the account(s) from the array of key stores\n     * @param networkId The targeted network. (ex. default, betanet, etc)\n     */\n    getAccounts(networkId) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const result = new Set();\n            for (const keyStore of this.keyStores) {\n                for (const account of yield keyStore.getAccounts(networkId)) {\n                    result.add(account);\n                }\n            }\n            return Array.from(result);\n        });\n    }\n    /** @hidden */\n    toString() {\n        return `MergeKeyStore(${this.keyStores.join(', ')})`;\n    }\n}\nexports.MergeKeyStore = MergeKeyStore;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst node_fetch_1 = __importDefault(require(\"node-fetch\"));\nconst http_1 = __importDefault(require(\"http\"));\nconst https_1 = __importDefault(require(\"https\"));\nconst httpAgent = new http_1.default.Agent({ keepAlive: true });\nconst httpsAgent = new https_1.default.Agent({ keepAlive: true });\nfunction agent(_parsedURL) {\n    if (_parsedURL.protocol === 'http:') {\n        return httpAgent;\n    }\n    else {\n        return httpsAgent;\n    }\n}\nfunction default_1(resource, init) {\n    return (0, node_fetch_1.default)(resource, Object.assign({ agent: agent(new URL(resource.toString())) }, init));\n}\nexports.default = default_1;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.fetchJson = void 0;\nconst types_1 = require(\"@near-js/types\");\nconst http_errors_1 = __importDefault(require(\"http-errors\"));\nconst exponential_backoff_1 = require(\"./exponential-backoff\");\nconst START_WAIT_TIME_MS = 1000;\nconst BACKOFF_MULTIPLIER = 1.5;\nconst RETRY_NUMBER = 10;\nconst logWarning = (...args) => !process.env['NEAR_NO_LOGS'] && console.warn(...args);\nfunction fetchJson(connectionInfoOrUrl, json) {\n    return __awaiter(this, void 0, void 0, function* () {\n        let connectionInfo = { url: null };\n        if (typeof (connectionInfoOrUrl) === 'string') {\n            connectionInfo.url = connectionInfoOrUrl;\n        }\n        else {\n            connectionInfo = connectionInfoOrUrl;\n        }\n        const response = yield (0, exponential_backoff_1.exponentialBackoff)(START_WAIT_TIME_MS, RETRY_NUMBER, BACKOFF_MULTIPLIER, () => __awaiter(this, void 0, void 0, function* () {\n            try {\n                if (!global.fetch) {\n                    global.fetch = (yield Promise.resolve().then(() => __importStar(require('./fetch')))).default;\n                }\n                const response = yield global.fetch(connectionInfo.url, {\n                    method: json ? 'POST' : 'GET',\n                    body: json ? json : undefined,\n                    headers: Object.assign(Object.assign({}, connectionInfo.headers), { 'Content-Type': 'application/json' })\n                });\n                if (!response.ok) {\n                    if (response.status === 503) {\n                        logWarning(`Retrying HTTP request for ${connectionInfo.url} as it's not available now`);\n                        return null;\n                    }\n                    throw (0, http_errors_1.default)(response.status, yield response.text());\n                }\n                return response;\n            }\n            catch (error) {\n                if (error.toString().includes('FetchError') || error.toString().includes('Failed to fetch')) {\n                    logWarning(`Retrying HTTP request for ${connectionInfo.url} because of error: ${error}`);\n                    return null;\n                }\n                throw error;\n            }\n        }));\n        if (!response) {\n            throw new types_1.TypedError(`Exceeded ${RETRY_NUMBER} attempts for ${connectionInfo.url}.`, 'RetriesExceeded');\n        }\n        return yield response.json();\n    });\n}\nexports.fetchJson = fetchJson;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.fetchJson = exports.Provider = exports.JsonRpcProvider = exports.exponentialBackoff = void 0;\nvar exponential_backoff_1 = require(\"./exponential-backoff\");\nObject.defineProperty(exports, \"exponentialBackoff\", { enumerable: true, get: function () { return exponential_backoff_1.exponentialBackoff; } });\nvar json_rpc_provider_1 = require(\"./json-rpc-provider\");\nObject.defineProperty(exports, \"JsonRpcProvider\", { enumerable: true, get: function () { return json_rpc_provider_1.JsonRpcProvider; } });\nvar provider_1 = require(\"./provider\");\nObject.defineProperty(exports, \"Provider\", { enumerable: true, get: function () { return provider_1.Provider; } });\nvar fetch_json_1 = require(\"./fetch_json\");\nObject.defineProperty(exports, \"fetchJson\", { enumerable: true, get: function () { return fetch_json_1.fetchJson; } });\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.JsonRpcProvider = void 0;\n/**\n * @module\n * @description\n * This module contains the {@link JsonRpcProvider} client class\n * which can be used to interact with the [NEAR RPC API](https://docs.near.org/api/rpc/introduction).\n * @see {@link providers/provider | providers} for a list of request and response types\n */\nconst utils_1 = require(\"@near-js/utils\");\nconst types_1 = require(\"@near-js/types\");\nconst transactions_1 = require(\"@near-js/transactions\");\nconst borsh_1 = require(\"borsh\");\nconst exponential_backoff_1 = require(\"./exponential-backoff\");\nconst provider_1 = require(\"./provider\");\nconst fetch_json_1 = require(\"./fetch_json\");\n/** @hidden */\n// Default number of retries before giving up on a request.\nconst REQUEST_RETRY_NUMBER = 12;\n// Default wait until next retry in millis.\nconst REQUEST_RETRY_WAIT = 500;\n// Exponential back off for waiting to retry.\nconst REQUEST_RETRY_WAIT_BACKOFF = 1.5;\n/// Keep ids unique across all connections.\nlet _nextId = 123;\n/**\n * Client class to interact with the [NEAR RPC API](https://docs.near.org/api/rpc/introduction).\n * @see [https://github.com/near/nearcore/tree/master/chain/jsonrpc](https://github.com/near/nearcore/tree/master/chain/jsonrpc)\n */\nclass JsonRpcProvider extends provider_1.Provider {\n    /**\n     * @param connectionInfo Connection info\n     */\n    constructor(connectionInfo) {\n        super();\n        this.connection = connectionInfo || { url: '' };\n    }\n    /**\n     * Gets the RPC's status\n     * @see [https://docs.near.org/docs/develop/front-end/rpc#general-validator-status](https://docs.near.org/docs/develop/front-end/rpc#general-validator-status)\n     */\n    status() {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this.sendJsonRpc('status', []);\n        });\n    }\n    /**\n     * Sends a signed transaction to the RPC and waits until transaction is fully complete\n     * @see [https://docs.near.org/docs/develop/front-end/rpc#send-transaction-await](https://docs.near.org/docs/develop/front-end/rpc#general-validator-status)\n     *\n     * @param signedTransaction The signed transaction being sent\n     */\n    sendTransaction(signedTransaction) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const bytes = (0, transactions_1.encodeTransaction)(signedTransaction);\n            return this.sendJsonRpc('broadcast_tx_commit', [Buffer.from(bytes).toString('base64')]);\n        });\n    }\n    /**\n     * Sends a signed transaction to the RPC and immediately returns transaction hash\n     * See [docs for more info](https://docs.near.org/docs/develop/front-end/rpc#send-transaction-async)\n     * @param signedTransaction The signed transaction being sent\n     * @returns {Promise<FinalExecutionOutcome>}\n     */\n    sendTransactionAsync(signedTransaction) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const bytes = (0, transactions_1.encodeTransaction)(signedTransaction);\n            return this.sendJsonRpc('broadcast_tx_async', [Buffer.from(bytes).toString('base64')]);\n        });\n    }\n    /**\n     * Gets a transaction's status from the RPC\n     * @see [https://docs.near.org/docs/develop/front-end/rpc#transaction-status](https://docs.near.org/docs/develop/front-end/rpc#general-validator-status)\n     *\n     * @param txHash A transaction hash as either a Uint8Array or a base58 encoded string\n     * @param accountId The NEAR account that signed the transaction\n     */\n    txStatus(txHash, accountId) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (typeof txHash === 'string') {\n                return this.txStatusString(txHash, accountId);\n            }\n            else {\n                return this.txStatusUint8Array(txHash, accountId);\n            }\n        });\n    }\n    txStatusUint8Array(txHash, accountId) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this.sendJsonRpc('tx', [(0, borsh_1.baseEncode)(txHash), accountId]);\n        });\n    }\n    txStatusString(txHash, accountId) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this.sendJsonRpc('tx', [txHash, accountId]);\n        });\n    }\n    /**\n     * Gets a transaction's status from the RPC with receipts\n     * See [docs for more info](https://docs.near.org/docs/develop/front-end/rpc#transaction-status-with-receipts)\n     * @param txHash The hash of the transaction\n     * @param accountId The NEAR account that signed the transaction\n     * @returns {Promise<FinalExecutionOutcome>}\n     */\n    txStatusReceipts(txHash, accountId) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (typeof txHash === 'string') {\n                return this.sendJsonRpc('EXPERIMENTAL_tx_status', [txHash, accountId]);\n            }\n            else {\n                return this.sendJsonRpc('EXPERIMENTAL_tx_status', [(0, borsh_1.baseEncode)(txHash), accountId]);\n            }\n        });\n    }\n    /**\n     * Query the RPC by passing an {@link providers/provider!RpcQueryRequest}\n     * @see [https://docs.near.org/api/rpc/contracts](https://docs.near.org/api/rpc/contracts)\n     *\n     * @typeParam T the shape of the returned query response\n     */\n    query(...args) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let result;\n            if (args.length === 1) {\n                const _a = args[0], { block_id, blockId } = _a, otherParams = __rest(_a, [\"block_id\", \"blockId\"]);\n                result = yield this.sendJsonRpc('query', Object.assign(Object.assign({}, otherParams), { block_id: block_id || blockId }));\n            }\n            else {\n                const [path, data] = args;\n                result = yield this.sendJsonRpc('query', [path, data]);\n            }\n            if (result && result.error) {\n                throw new types_1.TypedError(`Querying failed: ${result.error}.\\n${JSON.stringify(result, null, 2)}`, (0, utils_1.getErrorTypeFromErrorMessage)(result.error, result.error.name));\n            }\n            return result;\n        });\n    }\n    /**\n     * Query for block info from the RPC\n     * pass block_id OR finality as blockQuery, not both\n     * @see [https://docs.near.org/api/rpc/block-chunk](https://docs.near.org/api/rpc/block-chunk)\n     *\n     * @param blockQuery {@link providers/provider!BlockReference} (passing a {@link providers/provider!BlockId} is deprecated)\n     */\n    block(blockQuery) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const { finality } = blockQuery;\n            const { blockId } = blockQuery;\n            return this.sendJsonRpc('block', { block_id: blockId, finality });\n        });\n    }\n    /**\n     * Query changes in block from the RPC\n     * pass block_id OR finality as blockQuery, not both\n     * @see [https://docs.near.org/api/rpc/block-chunk](https://docs.near.org/api/rpc/block-chunk)\n     */\n    blockChanges(blockQuery) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const { finality } = blockQuery;\n            const { blockId } = blockQuery;\n            return this.sendJsonRpc('EXPERIMENTAL_changes_in_block', { block_id: blockId, finality });\n        });\n    }\n    /**\n     * Queries for details about a specific chunk appending details of receipts and transactions to the same chunk data provided by a block\n     * @see [https://docs.near.org/api/rpc/block-chunk](https://docs.near.org/api/rpc/block-chunk)\n     *\n     * @param chunkId Hash of a chunk ID or shard ID\n     */\n    chunk(chunkId) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this.sendJsonRpc('chunk', [chunkId]);\n        });\n    }\n    /**\n     * Query validators of the epoch defined by the given block id.\n     * @see [https://docs.near.org/api/rpc/network#validation-status](https://docs.near.org/api/rpc/network#validation-status)\n     *\n     * @param blockId Block hash or height, or null for latest.\n     */\n    validators(blockId) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this.sendJsonRpc('validators', [blockId]);\n        });\n    }\n    /**\n     * Gets the protocol config at a block from RPC\n     *\n     * @param blockReference specifies the block to get the protocol config for\n     */\n    experimental_protocolConfig(blockReference) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const _a = blockReference, { blockId } = _a, otherParams = __rest(_a, [\"blockId\"]);\n            return yield this.sendJsonRpc('EXPERIMENTAL_protocol_config', Object.assign(Object.assign({}, otherParams), { block_id: blockId }));\n        });\n    }\n    /**\n     * Gets a light client execution proof for verifying execution outcomes\n     * @see [https://github.com/nearprotocol/NEPs/blob/master/specs/ChainSpec/LightClient.md#light-client-proof](https://github.com/nearprotocol/NEPs/blob/master/specs/ChainSpec/LightClient.md#light-client-proof)\n     */\n    lightClientProof(request) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return yield this.sendJsonRpc('EXPERIMENTAL_light_client_proof', request);\n        });\n    }\n    /**\n     * Returns the next light client block as far in the future as possible from the last known hash\n     * to still be able to validate from that hash. This will either return the last block of the\n     * next epoch, or the last final known block.\n     *\n     * @see [https://github.com/near/NEPs/blob/master/specs/ChainSpec/LightClient.md#light-client-block](https://github.com/near/NEPs/blob/master/specs/ChainSpec/LightClient.md#light-client-block)\n     */\n    nextLightClientBlock(request) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return yield this.sendJsonRpc('next_light_client_block', request);\n        });\n    }\n    /**\n     * Gets access key changes for a given array of accountIds\n     * See [docs for more info](https://docs.near.org/docs/develop/front-end/rpc#view-access-key-changes-all)\n     * @returns {Promise<ChangeResult>}\n     */\n    accessKeyChanges(accountIdArray, blockQuery) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const { finality } = blockQuery;\n            const { blockId } = blockQuery;\n            return this.sendJsonRpc('EXPERIMENTAL_changes', {\n                changes_type: 'all_access_key_changes',\n                account_ids: accountIdArray,\n                block_id: blockId,\n                finality\n            });\n        });\n    }\n    /**\n     * Gets single access key changes for a given array of access keys\n     * pass block_id OR finality as blockQuery, not both\n     * See [docs for more info](https://docs.near.org/docs/develop/front-end/rpc#view-access-key-changes-single)\n     * @returns {Promise<ChangeResult>}\n     */\n    singleAccessKeyChanges(accessKeyArray, blockQuery) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const { finality } = blockQuery;\n            const { blockId } = blockQuery;\n            return this.sendJsonRpc('EXPERIMENTAL_changes', {\n                changes_type: 'single_access_key_changes',\n                keys: accessKeyArray,\n                block_id: blockId,\n                finality\n            });\n        });\n    }\n    /**\n     * Gets account changes for a given array of accountIds\n     * pass block_id OR finality as blockQuery, not both\n     * See [docs for more info](https://docs.near.org/docs/develop/front-end/rpc#view-account-changes)\n     * @returns {Promise<ChangeResult>}\n     */\n    accountChanges(accountIdArray, blockQuery) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const { finality } = blockQuery;\n            const { blockId } = blockQuery;\n            return this.sendJsonRpc('EXPERIMENTAL_changes', {\n                changes_type: 'account_changes',\n                account_ids: accountIdArray,\n                block_id: blockId,\n                finality\n            });\n        });\n    }\n    /**\n     * Gets contract state changes for a given array of accountIds\n     * pass block_id OR finality as blockQuery, not both\n     * Note: If you pass a keyPrefix it must be base64 encoded\n     * See [docs for more info](https://docs.near.org/docs/develop/front-end/rpc#view-contract-state-changes)\n     * @returns {Promise<ChangeResult>}\n     */\n    contractStateChanges(accountIdArray, blockQuery, keyPrefix = '') {\n        return __awaiter(this, void 0, void 0, function* () {\n            const { finality } = blockQuery;\n            const { blockId } = blockQuery;\n            return this.sendJsonRpc('EXPERIMENTAL_changes', {\n                changes_type: 'data_changes',\n                account_ids: accountIdArray,\n                key_prefix_base64: keyPrefix,\n                block_id: blockId,\n                finality\n            });\n        });\n    }\n    /**\n     * Gets contract code changes for a given array of accountIds\n     * pass block_id OR finality as blockQuery, not both\n     * Note: Change is returned in a base64 encoded WASM file\n     * See [docs for more info](https://docs.near.org/docs/develop/front-end/rpc#view-contract-code-changes)\n     * @returns {Promise<ChangeResult>}\n     */\n    contractCodeChanges(accountIdArray, blockQuery) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const { finality } = blockQuery;\n            const { blockId } = blockQuery;\n            return this.sendJsonRpc('EXPERIMENTAL_changes', {\n                changes_type: 'contract_code_changes',\n                account_ids: accountIdArray,\n                block_id: blockId,\n                finality\n            });\n        });\n    }\n    /**\n     * Returns gas price for a specific block_height or block_hash.\n     * @see [https://docs.near.org/api/rpc/gas](https://docs.near.org/api/rpc/gas)\n     *\n     * @param blockId Block hash or height, or null for latest.\n     */\n    gasPrice(blockId) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return yield this.sendJsonRpc('gas_price', [blockId]);\n        });\n    }\n    /**\n     * Directly call the RPC specifying the method and params\n     *\n     * @param method RPC method\n     * @param params Parameters to the method\n     */\n    sendJsonRpc(method, params) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const response = yield (0, exponential_backoff_1.exponentialBackoff)(REQUEST_RETRY_WAIT, REQUEST_RETRY_NUMBER, REQUEST_RETRY_WAIT_BACKOFF, () => __awaiter(this, void 0, void 0, function* () {\n                try {\n                    const request = {\n                        method,\n                        params,\n                        id: (_nextId++),\n                        jsonrpc: '2.0'\n                    };\n                    const response = yield (0, fetch_json_1.fetchJson)(this.connection, JSON.stringify(request));\n                    if (response.error) {\n                        if (typeof response.error.data === 'object') {\n                            if (typeof response.error.data.error_message === 'string' && typeof response.error.data.error_type === 'string') {\n                                // if error data has error_message and error_type properties, we consider that node returned an error in the old format\n                                throw new types_1.TypedError(response.error.data.error_message, response.error.data.error_type);\n                            }\n                            throw (0, utils_1.parseRpcError)(response.error.data);\n                        }\n                        else {\n                            const errorMessage = `[${response.error.code}] ${response.error.message}: ${response.error.data}`;\n                            // NOTE: All this hackery is happening because structured errors not implemented\n                            // TODO: Fix when https://github.com/nearprotocol/nearcore/issues/1839 gets resolved\n                            if (response.error.data === 'Timeout' || errorMessage.includes('Timeout error')\n                                || errorMessage.includes('query has timed out')) {\n                                throw new types_1.TypedError(errorMessage, 'TimeoutError');\n                            }\n                            throw new types_1.TypedError(errorMessage, (0, utils_1.getErrorTypeFromErrorMessage)(response.error.data, response.error.name));\n                        }\n                    }\n                    // Success when response.error is not exist\n                    return response;\n                }\n                catch (error) {\n                    if (error.type === 'TimeoutError') {\n                        if (!process.env['NEAR_NO_LOGS']) {\n                            console.warn(`Retrying request to ${method} as it has timed out`, params);\n                        }\n                        return null;\n                    }\n                    throw error;\n                }\n            }));\n            const { result } = response;\n            // From jsonrpc spec:\n            // result\n            //   This member is REQUIRED on success.\n            //   This member MUST NOT exist if there was an error invoking the method.\n            if (typeof result === 'undefined') {\n                throw new types_1.TypedError(`Exceeded ${REQUEST_RETRY_NUMBER} attempts for request to ${method}.`, 'RetriesExceeded');\n            }\n            return result;\n        });\n    }\n}\nexports.JsonRpcProvider = JsonRpcProvider;\n","\"use strict\";\n/**\n * NEAR RPC API request types and responses\n * @module\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Provider = void 0;\n/** @hidden */\nclass Provider {\n}\nexports.Provider = Provider;\n","/*!\n * depd\n * Copyright(c) 2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = depd\n\n/**\n * Create deprecate for namespace in caller.\n */\n\nfunction depd (namespace) {\n  if (!namespace) {\n    throw new TypeError('argument namespace is required')\n  }\n\n  function deprecate (message) {\n    // no-op in browser\n  }\n\n  deprecate._file = undefined\n  deprecate._ignored = true\n  deprecate._namespace = namespace\n  deprecate._traced = false\n  deprecate._warned = Object.create(null)\n\n  deprecate.function = wrapfunction\n  deprecate.property = wrapproperty\n\n  return deprecate\n}\n\n/**\n * Return a wrapped function in a deprecation message.\n *\n * This is a no-op version of the wrapper, which does nothing but call\n * validation.\n */\n\nfunction wrapfunction (fn, message) {\n  if (typeof fn !== 'function') {\n    throw new TypeError('argument fn must be a function')\n  }\n\n  return fn\n}\n\n/**\n * Wrap property in a deprecation message.\n *\n * This is a no-op version of the wrapper, which does nothing but call\n * validation.\n */\n\nfunction wrapproperty (obj, prop, message) {\n  if (!obj || (typeof obj !== 'object' && typeof obj !== 'function')) {\n    throw new TypeError('argument obj must be object')\n  }\n\n  var descriptor = Object.getOwnPropertyDescriptor(obj, prop)\n\n  if (!descriptor) {\n    throw new TypeError('must call property on owner object')\n  }\n\n  if (!descriptor.configurable) {\n    throw new TypeError('property must be configurable')\n  }\n}\n","/*!\n * http-errors\n * Copyright(c) 2014 Jonathan Ong\n * Copyright(c) 2016 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module dependencies.\n * @private\n */\n\nvar deprecate = require('depd')('http-errors')\nvar setPrototypeOf = require('setprototypeof')\nvar statuses = require('statuses')\nvar inherits = require('inherits')\nvar toIdentifier = require('toidentifier')\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = createError\nmodule.exports.HttpError = createHttpErrorConstructor()\nmodule.exports.isHttpError = createIsHttpErrorFunction(module.exports.HttpError)\n\n// Populate exports for all constructors\npopulateConstructorExports(module.exports, statuses.codes, module.exports.HttpError)\n\n/**\n * Get the code class of a status code.\n * @private\n */\n\nfunction codeClass (status) {\n  return Number(String(status).charAt(0) + '00')\n}\n\n/**\n * Create a new HTTP Error.\n *\n * @returns {Error}\n * @public\n */\n\nfunction createError () {\n  // so much arity going on ~_~\n  var err\n  var msg\n  var status = 500\n  var props = {}\n  for (var i = 0; i < arguments.length; i++) {\n    var arg = arguments[i]\n    if (arg instanceof Error) {\n      err = arg\n      status = err.status || err.statusCode || status\n      continue\n    }\n    switch (typeof arg) {\n      case 'string':\n        msg = arg\n        break\n      case 'number':\n        status = arg\n        if (i !== 0) {\n          deprecate('non-first-argument status code; replace with createError(' + arg + ', ...)')\n        }\n        break\n      case 'object':\n        props = arg\n        break\n    }\n  }\n\n  if (typeof status === 'number' && (status < 400 || status >= 600)) {\n    deprecate('non-error status code; use only 4xx or 5xx status codes')\n  }\n\n  if (typeof status !== 'number' ||\n    (!statuses[status] && (status < 400 || status >= 600))) {\n    status = 500\n  }\n\n  // constructor\n  var HttpError = createError[status] || createError[codeClass(status)]\n\n  if (!err) {\n    // create error\n    err = HttpError\n      ? new HttpError(msg)\n      : new Error(msg || statuses[status])\n    Error.captureStackTrace(err, createError)\n  }\n\n  if (!HttpError || !(err instanceof HttpError) || err.status !== status) {\n    // add properties to generic error\n    err.expose = status < 500\n    err.status = err.statusCode = status\n  }\n\n  for (var key in props) {\n    if (key !== 'status' && key !== 'statusCode') {\n      err[key] = props[key]\n    }\n  }\n\n  return err\n}\n\n/**\n * Create HTTP error abstract base class.\n * @private\n */\n\nfunction createHttpErrorConstructor () {\n  function HttpError () {\n    throw new TypeError('cannot construct abstract class')\n  }\n\n  inherits(HttpError, Error)\n\n  return HttpError\n}\n\n/**\n * Create a constructor for a client error.\n * @private\n */\n\nfunction createClientErrorConstructor (HttpError, name, code) {\n  var className = toClassName(name)\n\n  function ClientError (message) {\n    // create the error object\n    var msg = message != null ? message : statuses[code]\n    var err = new Error(msg)\n\n    // capture a stack trace to the construction point\n    Error.captureStackTrace(err, ClientError)\n\n    // adjust the [[Prototype]]\n    setPrototypeOf(err, ClientError.prototype)\n\n    // redefine the error message\n    Object.defineProperty(err, 'message', {\n      enumerable: true,\n      configurable: true,\n      value: msg,\n      writable: true\n    })\n\n    // redefine the error name\n    Object.defineProperty(err, 'name', {\n      enumerable: false,\n      configurable: true,\n      value: className,\n      writable: true\n    })\n\n    return err\n  }\n\n  inherits(ClientError, HttpError)\n  nameFunc(ClientError, className)\n\n  ClientError.prototype.status = code\n  ClientError.prototype.statusCode = code\n  ClientError.prototype.expose = true\n\n  return ClientError\n}\n\n/**\n * Create function to test is a value is a HttpError.\n * @private\n */\n\nfunction createIsHttpErrorFunction (HttpError) {\n  return function isHttpError (val) {\n    if (!val || typeof val !== 'object') {\n      return false\n    }\n\n    if (val instanceof HttpError) {\n      return true\n    }\n\n    return val instanceof Error &&\n      typeof val.expose === 'boolean' &&\n      typeof val.statusCode === 'number' && val.status === val.statusCode\n  }\n}\n\n/**\n * Create a constructor for a server error.\n * @private\n */\n\nfunction createServerErrorConstructor (HttpError, name, code) {\n  var className = toClassName(name)\n\n  function ServerError (message) {\n    // create the error object\n    var msg = message != null ? message : statuses[code]\n    var err = new Error(msg)\n\n    // capture a stack trace to the construction point\n    Error.captureStackTrace(err, ServerError)\n\n    // adjust the [[Prototype]]\n    setPrototypeOf(err, ServerError.prototype)\n\n    // redefine the error message\n    Object.defineProperty(err, 'message', {\n      enumerable: true,\n      configurable: true,\n      value: msg,\n      writable: true\n    })\n\n    // redefine the error name\n    Object.defineProperty(err, 'name', {\n      enumerable: false,\n      configurable: true,\n      value: className,\n      writable: true\n    })\n\n    return err\n  }\n\n  inherits(ServerError, HttpError)\n  nameFunc(ServerError, className)\n\n  ServerError.prototype.status = code\n  ServerError.prototype.statusCode = code\n  ServerError.prototype.expose = false\n\n  return ServerError\n}\n\n/**\n * Set the name of a function, if possible.\n * @private\n */\n\nfunction nameFunc (func, name) {\n  var desc = Object.getOwnPropertyDescriptor(func, 'name')\n\n  if (desc && desc.configurable) {\n    desc.value = name\n    Object.defineProperty(func, 'name', desc)\n  }\n}\n\n/**\n * Populate the exports object with constructors for every error class.\n * @private\n */\n\nfunction populateConstructorExports (exports, codes, HttpError) {\n  codes.forEach(function forEachCode (code) {\n    var CodeError\n    var name = toIdentifier(statuses[code])\n\n    switch (codeClass(code)) {\n      case 400:\n        CodeError = createClientErrorConstructor(HttpError, name, code)\n        break\n      case 500:\n        CodeError = createServerErrorConstructor(HttpError, name, code)\n        break\n    }\n\n    if (CodeError) {\n      // export the constructor\n      exports[code] = CodeError\n      exports[name] = CodeError\n    }\n  })\n\n  // backwards-compatibility\n  exports[\"I'mateapot\"] = deprecate.function(exports.ImATeapot,\n    '\"I\\'mateapot\"; use \"ImATeapot\" instead')\n}\n\n/**\n * Get a class name from a name identifier.\n * @private\n */\n\nfunction toClassName (name) {\n  return name.substr(-5) !== 'Error'\n    ? name + 'Error'\n    : name\n}\n","/*!\n * statuses\n * Copyright(c) 2014 Jonathan Ong\n * Copyright(c) 2016 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module dependencies.\n * @private\n */\n\nvar codes = require('./codes.json')\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = status\n\n// status code to message map\nstatus.STATUS_CODES = codes\n\n// array of status codes\nstatus.codes = populateStatusesMap(status, codes)\n\n// status codes for redirects\nstatus.redirect = {\n  300: true,\n  301: true,\n  302: true,\n  303: true,\n  305: true,\n  307: true,\n  308: true\n}\n\n// status codes for empty bodies\nstatus.empty = {\n  204: true,\n  205: true,\n  304: true\n}\n\n// status codes for when you should retry the request\nstatus.retry = {\n  502: true,\n  503: true,\n  504: true\n}\n\n/**\n * Populate the statuses map for given codes.\n * @private\n */\n\nfunction populateStatusesMap (statuses, codes) {\n  var arr = []\n\n  Object.keys(codes).forEach(function forEachCode (code) {\n    var message = codes[code]\n    var status = Number(code)\n\n    // Populate properties\n    statuses[status] = message\n    statuses[message] = status\n    statuses[message.toLowerCase()] = status\n\n    // Add to array\n    arr.push(status)\n  })\n\n  return arr\n}\n\n/**\n * Get the status code.\n *\n * Given a number, this will throw if it is not a known status\n * code, otherwise the code will be returned. Given a string,\n * the string will be parsed for a number and return the code\n * if valid, otherwise will lookup the code assuming this is\n * the status message.\n *\n * @param {string|number} code\n * @returns {number}\n * @public\n */\n\nfunction status (code) {\n  if (typeof code === 'number') {\n    if (!status[code]) throw new Error('invalid status code: ' + code)\n    return code\n  }\n\n  if (typeof code !== 'string') {\n    throw new TypeError('code must be a number or string')\n  }\n\n  // '403'\n  var n = parseInt(code, 10)\n  if (!isNaN(n)) {\n    if (!status[n]) throw new Error('invalid status code: ' + n)\n    return n\n  }\n\n  n = status[code.toLowerCase()]\n  if (!n) throw new Error('invalid status message: \"' + code + '\"')\n  return n\n}\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.InMemorySigner = void 0;\nconst crypto_1 = require(\"@near-js/crypto\");\nconst keystores_1 = require(\"@near-js/keystores\");\nconst js_sha256_1 = __importDefault(require(\"js-sha256\"));\nconst signer_1 = require(\"./signer\");\n/**\n * Signs using in memory key store.\n */\nclass InMemorySigner extends signer_1.Signer {\n    constructor(keyStore) {\n        super();\n        this.keyStore = keyStore;\n    }\n    /**\n     * Creates a single account Signer instance with account, network and keyPair provided.\n     *\n     * Intended to be useful for temporary keys (e.g. claiming a Linkdrop).\n     *\n     * @param networkId The targeted network. (ex. default, betanet, etc)\n     * @param accountId The NEAR account to assign the key pair to\n     * @param keyPair The keyPair to use for signing\n     */\n    static fromKeyPair(networkId, accountId, keyPair) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const keyStore = new keystores_1.InMemoryKeyStore();\n            yield keyStore.setKey(networkId, accountId, keyPair);\n            return new InMemorySigner(keyStore);\n        });\n    }\n    /**\n     * Creates a public key for the account given\n     * @param accountId The NEAR account to assign a public key to\n     * @param networkId The targeted network. (ex. default, betanet, etc)\n     * @returns {Promise<PublicKey>}\n     */\n    createKey(accountId, networkId) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const keyPair = crypto_1.KeyPair.fromRandom('ed25519');\n            yield this.keyStore.setKey(networkId, accountId, keyPair);\n            return keyPair.getPublicKey();\n        });\n    }\n    /**\n     * Gets the existing public key for a given account\n     * @param accountId The NEAR account to assign a public key to\n     * @param networkId The targeted network. (ex. default, betanet, etc)\n     * @returns {Promise<PublicKey>} Returns the public key or null if not found\n     */\n    getPublicKey(accountId, networkId) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const keyPair = yield this.keyStore.getKey(networkId, accountId);\n            if (keyPair === null) {\n                return null;\n            }\n            return keyPair.getPublicKey();\n        });\n    }\n    /**\n     * @param message A message to be signed, typically a serialized transaction\n     * @param accountId the NEAR account signing the message\n     * @param networkId The targeted network. (ex. default, betanet, etc)\n     * @returns {Promise<Signature>}\n     */\n    signMessage(message, accountId, networkId) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const hash = new Uint8Array(js_sha256_1.default.sha256.array(message));\n            if (!accountId) {\n                throw new Error('InMemorySigner requires provided account id');\n            }\n            const keyPair = yield this.keyStore.getKey(networkId, accountId);\n            if (keyPair === null) {\n                throw new Error(`Key for ${accountId} not found in ${networkId}`);\n            }\n            return keyPair.sign(hash);\n        });\n    }\n    toString() {\n        return `InMemorySigner(${this.keyStore})`;\n    }\n}\nexports.InMemorySigner = InMemorySigner;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Signer = exports.InMemorySigner = void 0;\nvar in_memory_signer_1 = require(\"./in_memory_signer\");\nObject.defineProperty(exports, \"InMemorySigner\", { enumerable: true, get: function () { return in_memory_signer_1.InMemorySigner; } });\nvar signer_1 = require(\"./signer\");\nObject.defineProperty(exports, \"Signer\", { enumerable: true, get: function () { return signer_1.Signer; } });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Signer = void 0;\n/**\n * General signing interface, can be used for in memory signing, RPC singing, external wallet, HSM, etc.\n */\nclass Signer {\n}\nexports.Signer = Signer;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.actionCreators = exports.stringifyJsonOrBytes = void 0;\nconst actions_1 = require(\"./actions\");\nfunction fullAccessKey() {\n    return new actions_1.AccessKey({\n        permission: new actions_1.AccessKeyPermission({\n            fullAccess: new actions_1.FullAccessPermission({}),\n        })\n    });\n}\nfunction functionCallAccessKey(receiverId, methodNames, allowance) {\n    return new actions_1.AccessKey({\n        permission: new actions_1.AccessKeyPermission({\n            functionCall: new actions_1.FunctionCallPermission({ receiverId, allowance, methodNames }),\n        })\n    });\n}\nfunction createAccount() {\n    return new actions_1.Action({ createAccount: new actions_1.CreateAccount({}) });\n}\nfunction deployContract(code) {\n    return new actions_1.Action({ deployContract: new actions_1.DeployContract({ code }) });\n}\nfunction stringifyJsonOrBytes(args) {\n    const isUint8Array = args.byteLength !== undefined && args.byteLength === args.length;\n    return isUint8Array ? args : Buffer.from(JSON.stringify(args));\n}\nexports.stringifyJsonOrBytes = stringifyJsonOrBytes;\n/**\n * Constructs {@link Action} instance representing contract method call.\n *\n * @param methodName the name of the method to call\n * @param args arguments to pass to method. Can be either plain JS object which gets serialized as JSON automatically\n *  or `Uint8Array` instance which represents bytes passed as is.\n * @param gas max amount of gas that method call can use\n * @param deposit amount of NEAR (in yoctoNEAR) to send together with the call\n * @param stringify Convert input arguments into bytes array.\n * @param jsContract  Is contract from JS SDK, skips stringification of arguments.\n */\nfunction functionCall(methodName, args, gas, deposit, stringify = stringifyJsonOrBytes, jsContract = false) {\n    if (jsContract) {\n        return new actions_1.Action({ functionCall: new actions_1.FunctionCall({ methodName, args, gas, deposit }) });\n    }\n    return new actions_1.Action({\n        functionCall: new actions_1.FunctionCall({\n            methodName,\n            args: stringify(args),\n            gas,\n            deposit,\n        }),\n    });\n}\nfunction transfer(deposit) {\n    return new actions_1.Action({ transfer: new actions_1.Transfer({ deposit }) });\n}\nfunction stake(stake, publicKey) {\n    return new actions_1.Action({ stake: new actions_1.Stake({ stake, publicKey }) });\n}\nfunction addKey(publicKey, accessKey) {\n    return new actions_1.Action({ addKey: new actions_1.AddKey({ publicKey, accessKey }) });\n}\nfunction deleteKey(publicKey) {\n    return new actions_1.Action({ deleteKey: new actions_1.DeleteKey({ publicKey }) });\n}\nfunction deleteAccount(beneficiaryId) {\n    return new actions_1.Action({ deleteAccount: new actions_1.DeleteAccount({ beneficiaryId }) });\n}\nfunction signedDelegate({ delegateAction, signature }) {\n    return new actions_1.Action({ signedDelegate: new actions_1.SignedDelegate({ delegateAction, signature }) });\n}\nexports.actionCreators = {\n    addKey,\n    createAccount,\n    deleteAccount,\n    deleteKey,\n    deployContract,\n    fullAccessKey,\n    functionCall,\n    functionCallAccessKey,\n    signedDelegate,\n    stake,\n    transfer,\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Action = exports.SignedDelegate = exports.DeleteAccount = exports.DeleteKey = exports.AddKey = exports.Stake = exports.Transfer = exports.FunctionCall = exports.DeployContract = exports.CreateAccount = exports.IAction = exports.AccessKey = exports.AccessKeyPermission = exports.FullAccessPermission = exports.FunctionCallPermission = void 0;\nconst types_1 = require(\"@near-js/types\");\nclass Enum {\n    constructor(properties) {\n        if (Object.keys(properties).length !== 1) {\n            throw new Error('Enum can only take single value');\n        }\n        Object.keys(properties).map((key) => {\n            this[key] = properties[key];\n            this.enum = key;\n        });\n    }\n}\nclass FunctionCallPermission extends types_1.Assignable {\n}\nexports.FunctionCallPermission = FunctionCallPermission;\nclass FullAccessPermission extends types_1.Assignable {\n}\nexports.FullAccessPermission = FullAccessPermission;\nclass AccessKeyPermission extends Enum {\n}\nexports.AccessKeyPermission = AccessKeyPermission;\nclass AccessKey extends types_1.Assignable {\n}\nexports.AccessKey = AccessKey;\nclass IAction extends types_1.Assignable {\n}\nexports.IAction = IAction;\nclass CreateAccount extends IAction {\n}\nexports.CreateAccount = CreateAccount;\nclass DeployContract extends IAction {\n}\nexports.DeployContract = DeployContract;\nclass FunctionCall extends IAction {\n}\nexports.FunctionCall = FunctionCall;\nclass Transfer extends IAction {\n}\nexports.Transfer = Transfer;\nclass Stake extends IAction {\n}\nexports.Stake = Stake;\nclass AddKey extends IAction {\n}\nexports.AddKey = AddKey;\nclass DeleteKey extends IAction {\n}\nexports.DeleteKey = DeleteKey;\nclass DeleteAccount extends IAction {\n}\nexports.DeleteAccount = DeleteAccount;\nclass SignedDelegate extends IAction {\n}\nexports.SignedDelegate = SignedDelegate;\n/**\n * Contains a list of the valid transaction Actions available with this API\n * @see {@link https://nomicon.io/RuntimeSpec/Actions.html | Actions Spec}\n */\nclass Action extends Enum {\n}\nexports.Action = Action;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createTransaction = void 0;\nconst schema_1 = require(\"./schema\");\nfunction createTransaction(signerId, publicKey, receiverId, nonce, actions, blockHash) {\n    return new schema_1.Transaction({ signerId, publicKey, nonce, receiverId, actions, blockHash });\n}\nexports.createTransaction = createTransaction;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.buildDelegateAction = exports.DelegateAction = void 0;\nconst types_1 = require(\"@near-js/types\");\nconst action_creators_1 = require(\"./action_creators\");\nconst { addKey, createAccount, deleteAccount, deleteKey, deployContract, functionCall, stake, transfer, } = action_creators_1.actionCreators;\nclass DelegateAction extends types_1.Assignable {\n}\nexports.DelegateAction = DelegateAction;\n/**\n * Compose a delegate action for inclusion with a meta transaction signed on the sender's behalf\n * @params.actions The set of actions to be included in the meta transaction\n * @params.maxBlockHeight The maximum block height for which this action can be executed as part of a transaction\n * @params.nonce Current nonce on the access key used to sign the delegate action\n * @params.publicKey Public key for the access key used to sign the delegate action\n * @params.receiverId Account ID for the intended receiver of the meta transaction\n * @params.senderId Account ID for the intended signer of the delegate action\n */\nfunction buildDelegateAction({ actions, maxBlockHeight, nonce, publicKey, receiverId, senderId, }) {\n    return new DelegateAction({\n        senderId,\n        receiverId,\n        actions: actions.map((a) => {\n            // @ts-expect-error type workaround\n            if (!a.type && !a.params) {\n                return a;\n            }\n            // @ts-expect-error type workaround\n            switch (a.type) {\n                case 'AddKey': {\n                    // @ts-expect-error type workaround\n                    const { publicKey, accessKey } = a.params;\n                    return addKey(publicKey, accessKey);\n                }\n                case 'CreateAccount': {\n                    // @ts-expect-error type workaround\n                    return createAccount(a.params.createAccount);\n                }\n                case 'DeleteAccount': {\n                    // @ts-expect-error type workaround\n                    return deleteAccount(a.params.deleteAccount);\n                }\n                case 'DeleteKey': {\n                    // @ts-expect-error type workaround\n                    return deleteKey(a.params.publicKey);\n                }\n                case 'DeployContract': {\n                    // @ts-expect-error type workaround\n                    return deployContract(a.params.code);\n                }\n                case 'FunctionCall': {\n                    // @ts-expect-error type workaround\n                    const { methodName, args, gas, deposit } = a.params;\n                    return functionCall(methodName, args, gas, deposit);\n                }\n                case 'Stake': {\n                    // @ts-expect-error type workaround\n                    return stake(a.params.stake, a.params.publicKey);\n                }\n                case 'Transfer': {\n                    // @ts-expect-error type workaround\n                    const { deposit } = a.params;\n                    return transfer(deposit);\n                }\n            }\n            throw new Error('Unrecognized action');\n        }),\n        nonce,\n        maxBlockHeight,\n        publicKey,\n    });\n}\nexports.buildDelegateAction = buildDelegateAction;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./action_creators\"), exports);\n__exportStar(require(\"./actions\"), exports);\n__exportStar(require(\"./create_transaction\"), exports);\n__exportStar(require(\"./delegate\"), exports);\n__exportStar(require(\"./schema\"), exports);\n__exportStar(require(\"./sign\"), exports);\n__exportStar(require(\"./signature\"), exports);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DelegateActionPrefix = void 0;\nconst types_1 = require(\"@near-js/types\");\nconst ACTIONABLE_MESSAGE_BASE = Math.pow(2, 30);\n// const NON_ACTIONABLE_MESSAGE_BASE = Math.pow(2, 31);\n/** The set of NEPs for which an [NEP-461](https://github.com/near/NEPs/pull/461) prefix is required on the message prior to hashing **/\nconst NEP = {\n    MetaTransactions: 366,\n};\n/** Base class for NEP message prefixes **/\nclass NEPPrefix extends types_1.Assignable {\n}\n/** Class for constructing prefixes on actionable (on-chain) messages **/\nclass ActionableMessagePrefix extends NEPPrefix {\n    /** Given the NEP number, set the prefix using 2^30 as the offset **/\n    constructor(prefix) {\n        super({ prefix: ACTIONABLE_MESSAGE_BASE + prefix });\n    }\n}\n/**\n * Class for constructing prefixes on non-actionable (off-chain) messages\n * @todo uncomment when off-chain messages are supported\n * **/\n// abstract class NonActionableMessagePrefix extends NEPPrefix {\n//     /** Given the NEP number, set the prefix using 2^31 as the offset **/\n//     protected constructor(prefix: number) {\n//         super({ prefix: NON_ACTIONABLE_MESSAGE_BASE + prefix });\n//     }\n// }\n/** Prefix for delegate actions whose signatures must always be distinguishable from valid transaction signatures **/\nclass DelegateActionPrefix extends ActionableMessagePrefix {\n    constructor() { super(NEP.MetaTransactions); }\n}\nexports.DelegateActionPrefix = DelegateActionPrefix;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SCHEMA = exports.SignedTransaction = exports.Transaction = exports.decodeSignedTransaction = exports.decodeTransaction = exports.encodeTransaction = exports.encodeSignedDelegate = exports.encodeDelegateAction = void 0;\nconst crypto_1 = require(\"@near-js/crypto\");\nconst types_1 = require(\"@near-js/types\");\nconst borsh_1 = require(\"borsh\");\nconst actions_1 = require(\"./actions\");\nconst delegate_1 = require(\"./delegate\");\nconst prefix_1 = require(\"./prefix\");\nconst signature_1 = require(\"./signature\");\n/**\n * Borsh-encode a delegate action for inclusion as an action within a meta transaction\n * NB per NEP-461 this requires a Borsh-serialized prefix specific to delegate actions, ensuring\n *  signed delegate actions may never be identical to signed transactions with the same fields\n * @param delegateAction Delegate action to be signed by the meta transaction sender\n */\nfunction encodeDelegateAction(delegateAction) {\n    return new Uint8Array([\n        ...(0, borsh_1.serialize)(exports.SCHEMA, new prefix_1.DelegateActionPrefix()),\n        ...(0, borsh_1.serialize)(exports.SCHEMA, delegateAction),\n    ]);\n}\nexports.encodeDelegateAction = encodeDelegateAction;\n/**\n * Borsh-encode a signed delegate for validation and execution by a relayer\n * @param signedDelegate Signed delegate to be executed in a meta transaction\n */\nfunction encodeSignedDelegate(signedDelegate) {\n    return (0, borsh_1.serialize)(exports.SCHEMA, signedDelegate);\n}\nexports.encodeSignedDelegate = encodeSignedDelegate;\nfunction encodeTransaction(transaction) {\n    return (0, borsh_1.serialize)(exports.SCHEMA, transaction);\n}\nexports.encodeTransaction = encodeTransaction;\n/**\n * Borsh-decode a Transaction instance from a buffer\n * @param bytes Buffer data to be decoded\n */\nfunction decodeTransaction(bytes) {\n    return (0, borsh_1.deserialize)(exports.SCHEMA, Transaction, bytes);\n}\nexports.decodeTransaction = decodeTransaction;\n/**\n * Borsh-decode a SignedTransaction instance from a buffer\n * @param bytes Buffer data to be decoded\n */\nfunction decodeSignedTransaction(bytes) {\n    return (0, borsh_1.deserialize)(exports.SCHEMA, SignedTransaction, bytes);\n}\nexports.decodeSignedTransaction = decodeSignedTransaction;\nclass Transaction extends types_1.Assignable {\n    encode() {\n        return encodeTransaction(this);\n    }\n    static decode(bytes) {\n        return decodeTransaction(bytes);\n    }\n}\nexports.Transaction = Transaction;\nclass SignedTransaction extends types_1.Assignable {\n    encode() {\n        return encodeTransaction(this);\n    }\n    static decode(bytes) {\n        return decodeSignedTransaction(bytes);\n    }\n}\nexports.SignedTransaction = SignedTransaction;\nexports.SCHEMA = new Map([\n    [signature_1.Signature, { kind: 'struct', fields: [\n                ['keyType', 'u8'],\n                ['data', [64]]\n            ] }],\n    [SignedTransaction, { kind: 'struct', fields: [\n                ['transaction', Transaction],\n                ['signature', signature_1.Signature]\n            ] }],\n    [Transaction, { kind: 'struct', fields: [\n                ['signerId', 'string'],\n                ['publicKey', crypto_1.PublicKey],\n                ['nonce', 'u64'],\n                ['receiverId', 'string'],\n                ['blockHash', [32]],\n                ['actions', [actions_1.Action]]\n            ] }],\n    [crypto_1.PublicKey, { kind: 'struct', fields: [\n                ['keyType', 'u8'],\n                ['data', [32]]\n            ] }],\n    [actions_1.AccessKey, { kind: 'struct', fields: [\n                ['nonce', 'u64'],\n                ['permission', actions_1.AccessKeyPermission],\n            ] }],\n    [actions_1.AccessKeyPermission, { kind: 'enum', field: 'enum', values: [\n                ['functionCall', actions_1.FunctionCallPermission],\n                ['fullAccess', actions_1.FullAccessPermission],\n            ] }],\n    [actions_1.FunctionCallPermission, { kind: 'struct', fields: [\n                ['allowance', { kind: 'option', type: 'u128' }],\n                ['receiverId', 'string'],\n                ['methodNames', ['string']],\n            ] }],\n    [actions_1.FullAccessPermission, { kind: 'struct', fields: [] }],\n    [actions_1.Action, { kind: 'enum', field: 'enum', values: [\n                ['createAccount', actions_1.CreateAccount],\n                ['deployContract', actions_1.DeployContract],\n                ['functionCall', actions_1.FunctionCall],\n                ['transfer', actions_1.Transfer],\n                ['stake', actions_1.Stake],\n                ['addKey', actions_1.AddKey],\n                ['deleteKey', actions_1.DeleteKey],\n                ['deleteAccount', actions_1.DeleteAccount],\n                ['signedDelegate', actions_1.SignedDelegate],\n            ] }],\n    [actions_1.CreateAccount, { kind: 'struct', fields: [] }],\n    [actions_1.DeployContract, { kind: 'struct', fields: [\n                ['code', ['u8']]\n            ] }],\n    [actions_1.FunctionCall, { kind: 'struct', fields: [\n                ['methodName', 'string'],\n                ['args', ['u8']],\n                ['gas', 'u64'],\n                ['deposit', 'u128']\n            ] }],\n    [actions_1.Transfer, { kind: 'struct', fields: [\n                ['deposit', 'u128']\n            ] }],\n    [actions_1.Stake, { kind: 'struct', fields: [\n                ['stake', 'u128'],\n                ['publicKey', crypto_1.PublicKey]\n            ] }],\n    [actions_1.AddKey, { kind: 'struct', fields: [\n                ['publicKey', crypto_1.PublicKey],\n                ['accessKey', actions_1.AccessKey]\n            ] }],\n    [actions_1.DeleteKey, { kind: 'struct', fields: [\n                ['publicKey', crypto_1.PublicKey]\n            ] }],\n    [actions_1.DeleteAccount, { kind: 'struct', fields: [\n                ['beneficiaryId', 'string']\n            ] }],\n    [delegate_1.DelegateAction, { kind: 'struct', fields: [\n                ['senderId', 'string'],\n                ['receiverId', 'string'],\n                ['actions', [actions_1.Action]],\n                ['nonce', 'u64'],\n                ['maxBlockHeight', 'u64'],\n                ['publicKey', crypto_1.PublicKey],\n            ] }],\n    [prefix_1.DelegateActionPrefix, { kind: 'struct', fields: [\n                ['prefix', 'u32'],\n            ] }],\n    [actions_1.SignedDelegate, { kind: 'struct', fields: [\n                ['delegateAction', delegate_1.DelegateAction],\n                ['signature', signature_1.Signature],\n            ] }],\n]);\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.signDelegateAction = exports.signTransaction = void 0;\nconst js_sha256_1 = __importDefault(require(\"js-sha256\"));\nconst actions_1 = require(\"./actions\");\nconst create_transaction_1 = require(\"./create_transaction\");\nconst schema_1 = require(\"./schema\");\nconst signature_1 = require(\"./signature\");\n/**\n * Signs a given transaction from an account with given keys, applied to the given network\n * @param transaction The Transaction object to sign\n * @param signer The {Signer} object that assists with signing keys\n * @param accountId The human-readable NEAR account name\n * @param networkId The targeted network. (ex. default, betanet, etc)\n */\nfunction signTransactionObject(transaction, signer, accountId, networkId) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const message = (0, schema_1.encodeTransaction)(transaction);\n        const hash = new Uint8Array(js_sha256_1.default.sha256.array(message));\n        const signature = yield signer.signMessage(message, accountId, networkId);\n        const signedTx = new schema_1.SignedTransaction({\n            transaction,\n            signature: new signature_1.Signature({ keyType: transaction.publicKey.keyType, data: signature.signature })\n        });\n        return [hash, signedTx];\n    });\n}\nfunction signTransaction(...args) {\n    return __awaiter(this, void 0, void 0, function* () {\n        if (args[0].constructor === schema_1.Transaction) {\n            const [transaction, signer, accountId, networkId] = args;\n            return signTransactionObject(transaction, signer, accountId, networkId);\n        }\n        else {\n            const [receiverId, nonce, actions, blockHash, signer, accountId, networkId] = args;\n            const publicKey = yield signer.getPublicKey(accountId, networkId);\n            const transaction = (0, create_transaction_1.createTransaction)(accountId, publicKey, receiverId, nonce, actions, blockHash);\n            return signTransactionObject(transaction, signer, accountId, networkId);\n        }\n    });\n}\nexports.signTransaction = signTransaction;\n/**\n * Sign a delegate action\n * @params.delegateAction Delegate action to be signed by the meta transaction sender\n * @params.signer Signer instance for the meta transaction sender\n */\nfunction signDelegateAction({ delegateAction, signer }) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const message = (0, schema_1.encodeDelegateAction)(delegateAction);\n        const signature = yield signer.sign(message);\n        const signedDelegateAction = new actions_1.SignedDelegate({\n            delegateAction,\n            signature: new signature_1.Signature({\n                keyType: delegateAction.publicKey.keyType,\n                data: signature,\n            }),\n        });\n        return {\n            hash: new Uint8Array(js_sha256_1.default.sha256.array(message)),\n            signedDelegateAction,\n        };\n    });\n}\nexports.signDelegateAction = signDelegateAction;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Signature = void 0;\nconst types_1 = require(\"@near-js/types\");\nclass Signature extends types_1.Assignable {\n}\nexports.Signature = Signature;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Assignable = void 0;\nclass Assignable {\n    constructor(properties) {\n        Object.keys(properties).map((key) => {\n            this[key] = properties[key];\n        });\n    }\n}\nexports.Assignable = Assignable;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ErrorContext = exports.TypedError = exports.ArgumentTypeError = exports.PositionalArgsError = void 0;\nclass PositionalArgsError extends Error {\n    constructor() {\n        super('Contract method calls expect named arguments wrapped in object, e.g. { argName1: argValue1, argName2: argValue2 }');\n    }\n}\nexports.PositionalArgsError = PositionalArgsError;\nclass ArgumentTypeError extends Error {\n    constructor(argName, argType, argValue) {\n        super(`Expected ${argType} for '${argName}' argument, but got '${JSON.stringify(argValue)}'`);\n    }\n}\nexports.ArgumentTypeError = ArgumentTypeError;\nclass TypedError extends Error {\n    constructor(message, type, context) {\n        super(message);\n        this.type = type || 'UntypedError';\n        this.context = context;\n    }\n}\nexports.TypedError = TypedError;\nclass ErrorContext {\n    constructor(transactionHash) {\n        this.transactionHash = transactionHash;\n    }\n}\nexports.ErrorContext = ErrorContext;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./assignable\"), exports);\n__exportStar(require(\"./errors\"), exports);\n__exportStar(require(\"./provider\"), exports);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FinalExecutionStatusBasic = exports.ExecutionStatusBasic = exports.IdType = void 0;\nvar light_client_1 = require(\"./light_client\");\nObject.defineProperty(exports, \"IdType\", { enumerable: true, get: function () { return light_client_1.IdType; } });\nvar response_1 = require(\"./response\");\nObject.defineProperty(exports, \"ExecutionStatusBasic\", { enumerable: true, get: function () { return response_1.ExecutionStatusBasic; } });\nObject.defineProperty(exports, \"FinalExecutionStatusBasic\", { enumerable: true, get: function () { return response_1.FinalExecutionStatusBasic; } });\n","\"use strict\";\n/**\n * NEAR RPC API request types and responses\n * @module\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.IdType = void 0;\nvar IdType;\n(function (IdType) {\n    IdType[\"Transaction\"] = \"transaction\";\n    IdType[\"Receipt\"] = \"receipt\";\n})(IdType = exports.IdType || (exports.IdType = {}));\n","\"use strict\";\n/**\n * NEAR RPC API request types and responses\n * @module\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FinalExecutionStatusBasic = exports.ExecutionStatusBasic = void 0;\nvar ExecutionStatusBasic;\n(function (ExecutionStatusBasic) {\n    ExecutionStatusBasic[\"Unknown\"] = \"Unknown\";\n    ExecutionStatusBasic[\"Pending\"] = \"Pending\";\n    ExecutionStatusBasic[\"Failure\"] = \"Failure\";\n})(ExecutionStatusBasic = exports.ExecutionStatusBasic || (exports.ExecutionStatusBasic = {}));\nvar FinalExecutionStatusBasic;\n(function (FinalExecutionStatusBasic) {\n    FinalExecutionStatusBasic[\"NotStarted\"] = \"NotStarted\";\n    FinalExecutionStatusBasic[\"Started\"] = \"Started\";\n    FinalExecutionStatusBasic[\"Failure\"] = \"Failure\";\n})(FinalExecutionStatusBasic = exports.FinalExecutionStatusBasic || (exports.FinalExecutionStatusBasic = {}));\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DEFAULT_FUNCTION_CALL_GAS = void 0;\nconst bn_js_1 = __importDefault(require(\"bn.js\"));\n// Default amount of gas to be sent with the function calls. Used to pay for the fees\n// incurred while running the contract execution. The unused amount will be refunded back to\n// the originator.\n// Due to protocol changes that charge upfront for the maximum possible gas price inflation due to\n// full blocks, the price of max_prepaid_gas is decreased to `300 * 10**12`.\n// For discussion see https://github.com/nearprotocol/NEPs/issues/67\nexports.DEFAULT_FUNCTION_CALL_GAS = new bn_js_1.default('30000000000000');\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.logWarning = void 0;\nfunction logWarning(...args) {\n    if (!process.env['NEAR_NO_LOGS']) {\n        console.warn(...args);\n    }\n}\nexports.logWarning = logWarning;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.parseRpcError = exports.parseResultError = exports.getErrorTypeFromErrorMessage = exports.formatError = exports.ServerError = exports.logWarning = void 0;\nvar errors_1 = require(\"./errors\");\nObject.defineProperty(exports, \"logWarning\", { enumerable: true, get: function () { return errors_1.logWarning; } });\nvar rpc_errors_1 = require(\"./rpc_errors\");\nObject.defineProperty(exports, \"ServerError\", { enumerable: true, get: function () { return rpc_errors_1.ServerError; } });\nObject.defineProperty(exports, \"formatError\", { enumerable: true, get: function () { return rpc_errors_1.formatError; } });\nObject.defineProperty(exports, \"getErrorTypeFromErrorMessage\", { enumerable: true, get: function () { return rpc_errors_1.getErrorTypeFromErrorMessage; } });\nObject.defineProperty(exports, \"parseResultError\", { enumerable: true, get: function () { return rpc_errors_1.parseResultError; } });\nObject.defineProperty(exports, \"parseRpcError\", { enumerable: true, get: function () { return rpc_errors_1.parseRpcError; } });\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getErrorTypeFromErrorMessage = exports.formatError = exports.parseResultError = exports.parseRpcError = exports.ServerError = void 0;\nconst types_1 = require(\"@near-js/types\");\nconst mustache_1 = __importDefault(require(\"mustache\"));\nconst format_1 = require(\"../format\");\nconst error_messages_json_1 = __importDefault(require(\"./error_messages.json\"));\nconst rpc_error_schema_json_1 = __importDefault(require(\"./rpc_error_schema.json\"));\nconst mustacheHelpers = {\n    formatNear: () => (n, render) => (0, format_1.formatNearAmount)(render(n))\n};\nclass ServerError extends types_1.TypedError {\n}\nexports.ServerError = ServerError;\nclass ServerTransactionError extends ServerError {\n}\nfunction parseRpcError(errorObj) {\n    const result = {};\n    const errorClassName = walkSubtype(errorObj, rpc_error_schema_json_1.default.schema, result, '');\n    // NOTE: This assumes that all errors extend TypedError\n    const error = new ServerError(formatError(errorClassName, result), errorClassName);\n    Object.assign(error, result);\n    return error;\n}\nexports.parseRpcError = parseRpcError;\nfunction parseResultError(result) {\n    const server_error = parseRpcError(result.status.Failure);\n    const server_tx_error = new ServerTransactionError();\n    Object.assign(server_tx_error, server_error);\n    server_tx_error.type = server_error.type;\n    server_tx_error.message = server_error.message;\n    server_tx_error.transaction_outcome = result.transaction_outcome;\n    return server_tx_error;\n}\nexports.parseResultError = parseResultError;\nfunction formatError(errorClassName, errorData) {\n    if (typeof error_messages_json_1.default[errorClassName] === 'string') {\n        return mustache_1.default.render(error_messages_json_1.default[errorClassName], Object.assign(Object.assign({}, errorData), mustacheHelpers));\n    }\n    return JSON.stringify(errorData);\n}\nexports.formatError = formatError;\n/**\n * Walks through defined schema returning error(s) recursively\n * @param errorObj The error to be parsed\n * @param schema A defined schema in JSON mapping to the RPC errors\n * @param result An object used in recursion or called directly\n * @param typeName The human-readable error type name as defined in the JSON mapping\n */\nfunction walkSubtype(errorObj, schema, result, typeName) {\n    let error;\n    let type;\n    let errorTypeName;\n    for (const errorName in schema) {\n        if (isString(errorObj[errorName])) {\n            // Return early if error type is in a schema\n            return errorObj[errorName];\n        }\n        if (isObject(errorObj[errorName])) {\n            error = errorObj[errorName];\n            type = schema[errorName];\n            errorTypeName = errorName;\n        }\n        else if (isObject(errorObj.kind) && isObject(errorObj.kind[errorName])) {\n            error = errorObj.kind[errorName];\n            type = schema[errorName];\n            errorTypeName = errorName;\n        }\n        else {\n            continue;\n        }\n    }\n    if (error && type) {\n        for (const prop of Object.keys(type.props)) {\n            result[prop] = error[prop];\n        }\n        return walkSubtype(error, schema, result, errorTypeName);\n    }\n    else {\n        // TODO: is this the right thing to do?\n        result.kind = errorObj;\n        return typeName;\n    }\n}\nfunction getErrorTypeFromErrorMessage(errorMessage, errorType) {\n    // This function should be removed when JSON RPC starts returning typed errors.\n    switch (true) {\n        case /^account .*? does not exist while viewing$/.test(errorMessage):\n            return 'AccountDoesNotExist';\n        case /^Account .*? doesn't exist$/.test(errorMessage):\n            return 'AccountDoesNotExist';\n        case /^access key .*? does not exist while viewing$/.test(errorMessage):\n            return 'AccessKeyDoesNotExist';\n        case /wasm execution failed with error: FunctionCallError\\(CompilationError\\(CodeDoesNotExist/.test(errorMessage):\n            return 'CodeDoesNotExist';\n        case /Transaction nonce \\d+ must be larger than nonce of the used access key \\d+/.test(errorMessage):\n            return 'InvalidNonce';\n        default:\n            return errorType;\n    }\n}\nexports.getErrorTypeFromErrorMessage = getErrorTypeFromErrorMessage;\n/**\n * Helper function determining if the argument is an object\n * @param n Value to check\n */\nfunction isObject(n) {\n    return Object.prototype.toString.call(n) === '[object Object]';\n}\n/**\n * Helper function determining if the argument is a string\n * @param n Value to check\n */\nfunction isString(n) {\n    return Object.prototype.toString.call(n) === '[object String]';\n}\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.parseNearAmount = exports.formatNearAmount = exports.NEAR_NOMINATION = exports.NEAR_NOMINATION_EXP = void 0;\nconst bn_js_1 = __importDefault(require(\"bn.js\"));\n/**\n * Exponent for calculating how many indivisible units are there in one NEAR. See {@link NEAR_NOMINATION}.\n */\nexports.NEAR_NOMINATION_EXP = 24;\n/**\n * Number of indivisible units in one NEAR. Derived from {@link NEAR_NOMINATION_EXP}.\n */\nexports.NEAR_NOMINATION = new bn_js_1.default('10', 10).pow(new bn_js_1.default(exports.NEAR_NOMINATION_EXP, 10));\n// Pre-calculate offests used for rounding to different number of digits\nconst ROUNDING_OFFSETS = [];\nconst BN10 = new bn_js_1.default(10);\nfor (let i = 0, offset = new bn_js_1.default(5); i < exports.NEAR_NOMINATION_EXP; i++, offset = offset.mul(BN10)) {\n    ROUNDING_OFFSETS[i] = offset;\n}\n/**\n * Convert account balance value from internal indivisible units to NEAR. 1 NEAR is defined by {@link NEAR_NOMINATION}.\n * Effectively this divides given amount by {@link NEAR_NOMINATION}.\n *\n * @param balance decimal string representing balance in smallest non-divisible NEAR units (as specified by {@link NEAR_NOMINATION})\n * @param fracDigits number of fractional digits to preserve in formatted string. Balance is rounded to match given number of digits.\n * @returns Value in \n */\nfunction formatNearAmount(balance, fracDigits = exports.NEAR_NOMINATION_EXP) {\n    const balanceBN = new bn_js_1.default(balance, 10);\n    if (fracDigits !== exports.NEAR_NOMINATION_EXP) {\n        // Adjust balance for rounding at given number of digits\n        const roundingExp = exports.NEAR_NOMINATION_EXP - fracDigits - 1;\n        if (roundingExp > 0) {\n            balanceBN.iadd(ROUNDING_OFFSETS[roundingExp]);\n        }\n    }\n    balance = balanceBN.toString();\n    const wholeStr = balance.substring(0, balance.length - exports.NEAR_NOMINATION_EXP) || '0';\n    const fractionStr = balance.substring(balance.length - exports.NEAR_NOMINATION_EXP)\n        .padStart(exports.NEAR_NOMINATION_EXP, '0').substring(0, fracDigits);\n    return trimTrailingZeroes(`${formatWithCommas(wholeStr)}.${fractionStr}`);\n}\nexports.formatNearAmount = formatNearAmount;\n/**\n * Convert human readable NEAR amount to internal indivisible units.\n * Effectively this multiplies given amount by {@link NEAR_NOMINATION}.\n *\n * @param amt decimal string (potentially fractional) denominated in NEAR.\n * @returns The parsed yocto amount or null if no amount was passed in\n */\nfunction parseNearAmount(amt) {\n    if (!amt) {\n        return null;\n    }\n    amt = cleanupAmount(amt);\n    const split = amt.split('.');\n    const wholePart = split[0];\n    const fracPart = split[1] || '';\n    if (split.length > 2 || fracPart.length > exports.NEAR_NOMINATION_EXP) {\n        throw new Error(`Cannot parse '${amt}' as NEAR amount`);\n    }\n    return trimLeadingZeroes(wholePart + fracPart.padEnd(exports.NEAR_NOMINATION_EXP, '0'));\n}\nexports.parseNearAmount = parseNearAmount;\n/**\n * Removes commas from the input\n * @param amount A value or amount that may contain commas\n * @returns string The cleaned value\n */\nfunction cleanupAmount(amount) {\n    return amount.replace(/,/g, '').trim();\n}\n/**\n * Removes .000 from an input\n * @param value A value that may contain trailing zeroes in the decimals place\n * @returns string The value without the trailing zeros\n */\nfunction trimTrailingZeroes(value) {\n    return value.replace(/\\.?0*$/, '');\n}\n/**\n * Removes leading zeroes from an input\n * @param value A value that may contain leading zeroes\n * @returns string The value without the leading zeroes\n */\nfunction trimLeadingZeroes(value) {\n    value = value.replace(/^0+/, '');\n    if (value === '') {\n        return '0';\n    }\n    return value;\n}\n/**\n * Returns a human-readable value with commas\n * @param value A value that may not contain commas\n * @returns string A value with commas\n */\nfunction formatWithCommas(value) {\n    const pattern = /(-?\\d+)(\\d{3})/;\n    while (pattern.test(value)) {\n        value = value.replace(pattern, '$1,$2');\n    }\n    return value;\n}\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./constants\"), exports);\n__exportStar(require(\"./errors\"), exports);\n__exportStar(require(\"./format\"), exports);\n__exportStar(require(\"./logging\"), exports);\n__exportStar(require(\"./provider\"), exports);\n__exportStar(require(\"./validators\"), exports);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.printTxOutcomeLogs = exports.printTxOutcomeLogsAndFailures = void 0;\nconst errors_1 = require(\"./errors\");\nconst SUPPRESS_LOGGING = !!process.env.NEAR_NO_LOGS;\n/**\n * Parse and print details from a query execution response\n * @param params\n * @param params.contractId ID of the account/contract which made the query\n * @param params.outcome the query execution response\n */\nfunction printTxOutcomeLogsAndFailures({ contractId, outcome, }) {\n    if (SUPPRESS_LOGGING) {\n        return;\n    }\n    const flatLogs = [outcome.transaction_outcome, ...outcome.receipts_outcome]\n        .reduce((acc, it) => {\n        const isFailure = typeof it.outcome.status === 'object' && typeof it.outcome.status.Failure === 'object';\n        if (it.outcome.logs.length || isFailure) {\n            return acc.concat({\n                receiptIds: it.outcome.receipt_ids,\n                logs: it.outcome.logs,\n                failure: typeof it.outcome.status === 'object' && it.outcome.status.Failure !== undefined\n                    ? (0, errors_1.parseRpcError)(it.outcome.status.Failure)\n                    : null\n            });\n        }\n        else {\n            return acc;\n        }\n    }, []);\n    for (const result of flatLogs) {\n        console.log(`Receipt${result.receiptIds.length > 1 ? 's' : ''}: ${result.receiptIds.join(', ')}`);\n        printTxOutcomeLogs({\n            contractId,\n            logs: result.logs,\n            prefix: '\\t',\n        });\n        if (result.failure) {\n            console.warn(`\\tFailure [${contractId}]: ${result.failure}`);\n        }\n    }\n}\nexports.printTxOutcomeLogsAndFailures = printTxOutcomeLogsAndFailures;\n/**\n * Format and print log output from a query execution response\n * @param params\n * @param params.contractId ID of the account/contract which made the query\n * @param params.logs log output from a query execution response\n * @param params.prefix string to append to the beginning of each log\n */\nfunction printTxOutcomeLogs({ contractId, logs, prefix = '', }) {\n    if (SUPPRESS_LOGGING) {\n        return;\n    }\n    for (const log of logs) {\n        console.log(`${prefix}Log [${contractId}]: ${log}`);\n    }\n}\nexports.printTxOutcomeLogs = printTxOutcomeLogs;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getTransactionLastResult = void 0;\n/** @hidden */\nfunction getTransactionLastResult(txResult) {\n    if (typeof txResult.status === 'object' && typeof txResult.status.SuccessValue === 'string') {\n        const value = Buffer.from(txResult.status.SuccessValue, 'base64').toString();\n        try {\n            return JSON.parse(value);\n        }\n        catch (e) {\n            return value;\n        }\n    }\n    return null;\n}\nexports.getTransactionLastResult = getTransactionLastResult;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.diffEpochValidators = exports.findSeatPrice = void 0;\nconst bn_js_1 = __importDefault(require(\"bn.js\"));\nconst depd_1 = __importDefault(require(\"depd\"));\n/** Finds seat price given validators stakes and number of seats.\n *  Calculation follow the spec: https://nomicon.io/Economics/README.html#validator-selection\n * @params validators: current or next epoch validators.\n * @params maxNumberOfSeats: maximum number of seats in the network.\n * @params minimumStakeRatio: minimum stake ratio\n * @params protocolVersion: version of the protocol from genesis config\n */\nfunction findSeatPrice(validators, maxNumberOfSeats, minimumStakeRatio, protocolVersion) {\n    if (protocolVersion && protocolVersion < 49) {\n        return findSeatPriceForProtocolBefore49(validators, maxNumberOfSeats);\n    }\n    if (!minimumStakeRatio) {\n        const deprecate = (0, depd_1.default)('findSeatPrice(validators, maxNumberOfSeats)');\n        deprecate('`use `findSeatPrice(validators, maxNumberOfSeats, minimumStakeRatio)` instead');\n        minimumStakeRatio = [1, 6250]; // harcoded minimumStakeRation from 12/7/21\n    }\n    return findSeatPriceForProtocolAfter49(validators, maxNumberOfSeats, minimumStakeRatio);\n}\nexports.findSeatPrice = findSeatPrice;\nfunction findSeatPriceForProtocolBefore49(validators, numSeats) {\n    const stakes = validators.map(v => new bn_js_1.default(v.stake, 10)).sort((a, b) => a.cmp(b));\n    const num = new bn_js_1.default(numSeats);\n    const stakesSum = stakes.reduce((a, b) => a.add(b));\n    if (stakesSum.lt(num)) {\n        throw new Error('Stakes are below seats');\n    }\n    // assert stakesSum >= numSeats\n    let left = new bn_js_1.default(1), right = stakesSum.add(new bn_js_1.default(1));\n    while (!left.eq(right.sub(new bn_js_1.default(1)))) {\n        const mid = left.add(right).div(new bn_js_1.default(2));\n        let found = false;\n        let currentSum = new bn_js_1.default(0);\n        for (let i = 0; i < stakes.length; ++i) {\n            currentSum = currentSum.add(stakes[i].div(mid));\n            if (currentSum.gte(num)) {\n                left = mid;\n                found = true;\n                break;\n            }\n        }\n        if (!found) {\n            right = mid;\n        }\n    }\n    return left;\n}\n// nearcore reference: https://github.com/near/nearcore/blob/5a8ae263ec07930cd34d0dcf5bcee250c67c02aa/chain/epoch_manager/src/validator_selection.rs#L308;L315\nfunction findSeatPriceForProtocolAfter49(validators, maxNumberOfSeats, minimumStakeRatio) {\n    if (minimumStakeRatio.length != 2) {\n        throw Error('minimumStakeRatio should have 2 elements');\n    }\n    const stakes = validators.map(v => new bn_js_1.default(v.stake, 10)).sort((a, b) => a.cmp(b));\n    const stakesSum = stakes.reduce((a, b) => a.add(b));\n    if (validators.length < maxNumberOfSeats) {\n        return stakesSum.mul(new bn_js_1.default(minimumStakeRatio[0])).div(new bn_js_1.default(minimumStakeRatio[1]));\n    }\n    else {\n        return stakes[0].add(new bn_js_1.default(1));\n    }\n}\n/** Diff validators between current and next epoch.\n * Returns additions, subtractions and changes to validator set.\n * @params currentValidators: list of current validators.\n * @params nextValidators: list of next validators.\n */\nfunction diffEpochValidators(currentValidators, nextValidators) {\n    const validatorsMap = new Map();\n    currentValidators.forEach(v => validatorsMap.set(v.account_id, v));\n    const nextValidatorsSet = new Set(nextValidators.map(v => v.account_id));\n    return {\n        newValidators: nextValidators.filter(v => !validatorsMap.has(v.account_id)),\n        removedValidators: currentValidators.filter(v => !nextValidatorsSet.has(v.account_id)),\n        changedValidators: nextValidators.filter(v => (validatorsMap.has(v.account_id) && validatorsMap.get(v.account_id).stake != v.stake))\n            .map(v => ({ current: validatorsMap.get(v.account_id), next: v }))\n    };\n}\nexports.diffEpochValidators = diffEpochValidators;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WalletConnection = exports.ConnectedWalletAccount = exports.Near = void 0;\nvar near_1 = require(\"./near\");\nObject.defineProperty(exports, \"Near\", { enumerable: true, get: function () { return near_1.Near; } });\nvar wallet_account_1 = require(\"./wallet_account\");\nObject.defineProperty(exports, \"ConnectedWalletAccount\", { enumerable: true, get: function () { return wallet_account_1.ConnectedWalletAccount; } });\nObject.defineProperty(exports, \"WalletConnection\", { enumerable: true, get: function () { return wallet_account_1.WalletConnection; } });\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Near = void 0;\n/**\n * This module contains the main class developers will use to interact with NEAR.\n * The {@link Near} class is used to interact with {@link account!Account | Accounts} through the {@link providers/json-rpc-provider!JsonRpcProvider}.\n * It is configured via the {@link NearConfig}.\n *\n * @see [https://docs.near.org/tools/near-api-js/quick-reference#account](https://docs.near.org/tools/near-api-js/quick-reference#account)\n *\n * @module near\n */\nconst accounts_1 = require(\"@near-js/accounts\");\nconst bn_js_1 = __importDefault(require(\"bn.js\"));\n/**\n * This is the main class developers should use to interact with NEAR.\n * @example\n * ```js\n * const near = new Near(config);\n * ```\n */\nclass Near {\n    constructor(config) {\n        var _a;\n        this.config = config;\n        this.connection = accounts_1.Connection.fromConfig({\n            networkId: config.networkId,\n            provider: { type: 'JsonRpcProvider', args: { url: config.nodeUrl, headers: config.headers } },\n            signer: config.signer || { type: 'InMemorySigner', keyStore: config.keyStore || ((_a = config.deps) === null || _a === void 0 ? void 0 : _a.keyStore) },\n            jsvmAccountId: config.jsvmAccountId || `jsvm.${config.networkId}`\n        });\n        if (config.masterAccount) {\n            // TODO: figure out better way of specifiying initial balance.\n            // Hardcoded number below must be enough to pay the gas cost to dev-deploy with near-shell for multiple times\n            const initialBalance = config.initialBalance ? new bn_js_1.default(config.initialBalance) : new bn_js_1.default('500000000000000000000000000');\n            this.accountCreator = new accounts_1.LocalAccountCreator(new accounts_1.Account(this.connection, config.masterAccount), initialBalance);\n        }\n        else if (config.helperUrl) {\n            this.accountCreator = new accounts_1.UrlAccountCreator(this.connection, config.helperUrl);\n        }\n        else {\n            this.accountCreator = null;\n        }\n    }\n    /**\n     * @param accountId near accountId used to interact with the network.\n     */\n    account(accountId) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const account = new accounts_1.Account(this.connection, accountId);\n            return account;\n        });\n    }\n    /**\n     * Create an account using the {@link account_creator!AccountCreator}. Either:\n     * * using a masterAccount with {@link account_creator!LocalAccountCreator}\n     * * using the helperUrl with {@link account_creator!UrlAccountCreator}\n     * @see {@link NearConfig.masterAccount} and {@link NearConfig.helperUrl}\n     *\n     * @param accountId\n     * @param publicKey\n     */\n    createAccount(accountId, publicKey) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (!this.accountCreator) {\n                throw new Error('Must specify account creator, either via masterAccount or helperUrl configuration settings.');\n            }\n            yield this.accountCreator.createAccount(accountId, publicKey);\n            return new accounts_1.Account(this.connection, accountId);\n        });\n    }\n}\nexports.Near = Near;\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ConnectedWalletAccount = exports.WalletConnection = void 0;\n/**\n * The classes in this module are used in conjunction with the {@link key_stores/browser_local_storage_key_store!BrowserLocalStorageKeyStore}.\n * This module exposes two classes:\n * * {@link WalletConnection} which redirects users to [NEAR Wallet](https://wallet.near.org/) for key management.\n * * {@link ConnectedWalletAccount} is an {@link account!Account} implementation that uses {@link WalletConnection} to get keys\n *\n * @module walletAccount\n */\nconst accounts_1 = require(\"@near-js/accounts\");\nconst crypto_1 = require(\"@near-js/crypto\");\nconst transactions_1 = require(\"@near-js/transactions\");\nconst bn_js_1 = __importDefault(require(\"bn.js\"));\nconst borsh_1 = require(\"borsh\");\nconst LOGIN_WALLET_URL_SUFFIX = '/login/';\nconst MULTISIG_HAS_METHOD = 'add_request_and_confirm';\nconst LOCAL_STORAGE_KEY_SUFFIX = '_wallet_auth_key';\nconst PENDING_ACCESS_KEY_PREFIX = 'pending_key'; // browser storage key for a pending access key (i.e. key has been generated but we are not sure it was added yet)\n/**\n * This class is used in conjunction with the {@link key_stores/browser_local_storage_key_store!BrowserLocalStorageKeyStore}.\n * It redirects users to [NEAR Wallet](https://wallet.near.org) for key management.\n * This class is not intended for use outside the browser. Without `window` (i.e. in server contexts), it will instantiate but will throw a clear error when used.\n *\n * @see [https://docs.near.org/tools/near-api-js/quick-reference#wallet](https://docs.near.org/tools/near-api-js/quick-reference#wallet)\n * @example\n * ```js\n * // create new WalletConnection instance\n * const wallet = new WalletConnection(near, 'my-app');\n *\n * // If not signed in redirect to the NEAR wallet to sign in\n * // keys will be stored in the BrowserLocalStorageKeyStore\n * if(!wallet.isSignedIn()) return wallet.requestSignIn()\n * ```\n */\nclass WalletConnection {\n    constructor(near, appKeyPrefix) {\n        if (typeof (appKeyPrefix) !== 'string') {\n            throw new Error('Please define a clear appKeyPrefix for this WalletConnection instance as the second argument to the constructor');\n        }\n        if (typeof window === 'undefined') {\n            return new Proxy(this, {\n                get(target, property) {\n                    if (property === 'isSignedIn') {\n                        return () => false;\n                    }\n                    if (property === 'getAccountId') {\n                        return () => '';\n                    }\n                    if (target[property] && typeof target[property] === 'function') {\n                        return () => {\n                            throw new Error('No window found in context, please ensure you are using WalletConnection on the browser');\n                        };\n                    }\n                    return target[property];\n                }\n            });\n        }\n        this._near = near;\n        const authDataKey = appKeyPrefix + LOCAL_STORAGE_KEY_SUFFIX;\n        const authData = JSON.parse(window.localStorage.getItem(authDataKey));\n        this._networkId = near.config.networkId;\n        this._walletBaseUrl = near.config.walletUrl;\n        appKeyPrefix = appKeyPrefix || near.config.contractName || 'default';\n        this._keyStore = near.connection.signer.keyStore;\n        this._authData = authData || { allKeys: [] };\n        this._authDataKey = authDataKey;\n        if (!this.isSignedIn()) {\n            this._completeSignInPromise = this._completeSignInWithAccessKey();\n        }\n    }\n    /**\n     * Returns true, if this WalletConnection is authorized with the wallet.\n     * @example\n     * ```js\n     * const wallet = new WalletConnection(near, 'my-app');\n     * wallet.isSignedIn();\n     * ```\n     */\n    isSignedIn() {\n        return !!this._authData.accountId;\n    }\n    /**\n     * Returns promise of completing signing in after redirecting from wallet\n     * @example\n     * ```js\n     * // on login callback page\n     * const wallet = new WalletConnection(near, 'my-app');\n     * wallet.isSignedIn(); // false\n     * await wallet.isSignedInAsync(); // true\n     * ```\n     */\n    isSignedInAsync() {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (!this._completeSignInPromise) {\n                return this.isSignedIn();\n            }\n            yield this._completeSignInPromise;\n            return this.isSignedIn();\n        });\n    }\n    /**\n     * Returns authorized Account ID.\n     * @example\n     * ```js\n     * const wallet = new WalletConnection(near, 'my-app');\n     * wallet.getAccountId();\n     * ```\n     */\n    getAccountId() {\n        return this._authData.accountId || '';\n    }\n    /**\n     * Redirects current page to the wallet authentication page.\n     * @param options An optional options object\n     * @param options.contractId The NEAR account where the contract is deployed\n     * @param options.successUrl URL to redirect upon success. Default: current url\n     * @param options.failureUrl URL to redirect upon failure. Default: current url\n     *\n     * @example\n     * ```js\n     * const wallet = new WalletConnection(near, 'my-app');\n     * // redirects to the NEAR Wallet\n     * wallet.requestSignIn({ contractId: 'account-with-deploy-contract.near' });\n     * ```\n     */\n    requestSignIn({ contractId, methodNames, successUrl, failureUrl }) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const currentUrl = new URL(window.location.href);\n            const newUrl = new URL(this._walletBaseUrl + LOGIN_WALLET_URL_SUFFIX);\n            newUrl.searchParams.set('success_url', successUrl || currentUrl.href);\n            newUrl.searchParams.set('failure_url', failureUrl || currentUrl.href);\n            if (contractId) {\n                /* Throws exception if contract account does not exist */\n                const contractAccount = yield this._near.account(contractId);\n                yield contractAccount.state();\n                newUrl.searchParams.set('contract_id', contractId);\n                const accessKey = crypto_1.KeyPair.fromRandom('ed25519');\n                newUrl.searchParams.set('public_key', accessKey.getPublicKey().toString());\n                yield this._keyStore.setKey(this._networkId, PENDING_ACCESS_KEY_PREFIX + accessKey.getPublicKey(), accessKey);\n            }\n            if (methodNames) {\n                methodNames.forEach(methodName => {\n                    newUrl.searchParams.append('methodNames', methodName);\n                });\n            }\n            window.location.assign(newUrl.toString());\n        });\n    }\n    /**\n     * Requests the user to quickly sign for a transaction or batch of transactions by redirecting to the NEAR wallet.\n     */\n    requestSignTransactions({ transactions, meta, callbackUrl }) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const currentUrl = new URL(window.location.href);\n            const newUrl = new URL('sign', this._walletBaseUrl);\n            newUrl.searchParams.set('transactions', transactions\n                .map(transaction => (0, borsh_1.serialize)(transactions_1.SCHEMA, transaction))\n                .map(serialized => Buffer.from(serialized).toString('base64'))\n                .join(','));\n            newUrl.searchParams.set('callbackUrl', callbackUrl || currentUrl.href);\n            if (meta)\n                newUrl.searchParams.set('meta', meta);\n            window.location.assign(newUrl.toString());\n        });\n    }\n    /**\n     * @hidden\n     * Complete sign in for a given account id and public key. To be invoked by the app when getting a callback from the wallet.\n     */\n    _completeSignInWithAccessKey() {\n        return __awaiter(this, void 0, void 0, function* () {\n            const currentUrl = new URL(window.location.href);\n            const publicKey = currentUrl.searchParams.get('public_key') || '';\n            const allKeys = (currentUrl.searchParams.get('all_keys') || '').split(',');\n            const accountId = currentUrl.searchParams.get('account_id') || '';\n            // TODO: Handle errors during login\n            if (accountId) {\n                const authData = {\n                    accountId,\n                    allKeys\n                };\n                window.localStorage.setItem(this._authDataKey, JSON.stringify(authData));\n                if (publicKey) {\n                    yield this._moveKeyFromTempToPermanent(accountId, publicKey);\n                }\n                this._authData = authData;\n            }\n            currentUrl.searchParams.delete('public_key');\n            currentUrl.searchParams.delete('all_keys');\n            currentUrl.searchParams.delete('account_id');\n            currentUrl.searchParams.delete('meta');\n            currentUrl.searchParams.delete('transactionHashes');\n            window.history.replaceState({}, document.title, currentUrl.toString());\n        });\n    }\n    /**\n     * @hidden\n     * @param accountId The NEAR account owning the given public key\n     * @param publicKey The public key being set to the key store\n     */\n    _moveKeyFromTempToPermanent(accountId, publicKey) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const keyPair = yield this._keyStore.getKey(this._networkId, PENDING_ACCESS_KEY_PREFIX + publicKey);\n            yield this._keyStore.setKey(this._networkId, accountId, keyPair);\n            yield this._keyStore.removeKey(this._networkId, PENDING_ACCESS_KEY_PREFIX + publicKey);\n        });\n    }\n    /**\n     * Sign out from the current account\n     * @example\n     * walletConnection.signOut();\n     */\n    signOut() {\n        this._authData = {};\n        window.localStorage.removeItem(this._authDataKey);\n    }\n    /**\n     * Returns the current connected wallet account\n     */\n    account() {\n        if (!this._connectedAccount) {\n            this._connectedAccount = new ConnectedWalletAccount(this, this._near.connection, this._authData.accountId);\n        }\n        return this._connectedAccount;\n    }\n}\nexports.WalletConnection = WalletConnection;\n/**\n * {@link account!Account} implementation which redirects to wallet using {@link WalletConnection} when no local key is available.\n */\nclass ConnectedWalletAccount extends accounts_1.Account {\n    constructor(walletConnection, connection, accountId) {\n        super(connection, accountId);\n        this.walletConnection = walletConnection;\n    }\n    // Overriding Account methods\n    /**\n     * Sign a transaction by redirecting to the NEAR Wallet\n     * @see {@link WalletConnection.requestSignTransactions}\n     */\n    signAndSendTransaction({ receiverId, actions, walletMeta, walletCallbackUrl = window.location.href }) {\n        const _super = Object.create(null, {\n            signAndSendTransaction: { get: () => super.signAndSendTransaction }\n        });\n        return __awaiter(this, void 0, void 0, function* () {\n            const localKey = yield this.connection.signer.getPublicKey(this.accountId, this.connection.networkId);\n            let accessKey = yield this.accessKeyForTransaction(receiverId, actions, localKey);\n            if (!accessKey) {\n                throw new Error(`Cannot find matching key for transaction sent to ${receiverId}`);\n            }\n            if (localKey && localKey.toString() === accessKey.public_key) {\n                try {\n                    return yield _super.signAndSendTransaction.call(this, { receiverId, actions });\n                }\n                catch (e) {\n                    if (e.type === 'NotEnoughAllowance') {\n                        accessKey = yield this.accessKeyForTransaction(receiverId, actions);\n                    }\n                    else {\n                        throw e;\n                    }\n                }\n            }\n            const block = yield this.connection.provider.block({ finality: 'final' });\n            const blockHash = (0, borsh_1.baseDecode)(block.header.hash);\n            const publicKey = crypto_1.PublicKey.from(accessKey.public_key);\n            // TODO: Cache & listen for nonce updates for given access key\n            const nonce = accessKey.access_key.nonce.add(new bn_js_1.default(1));\n            const transaction = (0, transactions_1.createTransaction)(this.accountId, publicKey, receiverId, nonce, actions, blockHash);\n            yield this.walletConnection.requestSignTransactions({\n                transactions: [transaction],\n                meta: walletMeta,\n                callbackUrl: walletCallbackUrl\n            });\n            return new Promise((resolve, reject) => {\n                setTimeout(() => {\n                    reject(new Error('Failed to redirect to sign transaction'));\n                }, 1000);\n            });\n            // TODO: Aggregate multiple transaction request with \"debounce\".\n            // TODO: Introduce TrasactionQueue which also can be used to watch for status?\n        });\n    }\n    /**\n     * Check if given access key allows the function call or method attempted in transaction\n     * @param accessKey Array of \\{access_key: AccessKey, public_key: PublicKey\\} items\n     * @param receiverId The NEAR account attempting to have access\n     * @param actions The action(s) needed to be checked for access\n     */\n    accessKeyMatchesTransaction(accessKey, receiverId, actions) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const { access_key: { permission } } = accessKey;\n            if (permission === 'FullAccess') {\n                return true;\n            }\n            if (permission.FunctionCall) {\n                const { receiver_id: allowedReceiverId, method_names: allowedMethods } = permission.FunctionCall;\n                /********************************\n                Accept multisig access keys and let wallets attempt to signAndSendTransaction\n                If an access key has itself as receiverId and method permission add_request_and_confirm, then it is being used in a wallet with multisig contract: https://github.com/near/core-contracts/blob/671c05f09abecabe7a7e58efe942550a35fc3292/multisig/src/lib.rs#L149-L153\n                ********************************/\n                if (allowedReceiverId === this.accountId && allowedMethods.includes(MULTISIG_HAS_METHOD)) {\n                    return true;\n                }\n                if (allowedReceiverId === receiverId) {\n                    if (actions.length !== 1) {\n                        return false;\n                    }\n                    const [{ functionCall }] = actions;\n                    return functionCall &&\n                        (!functionCall.deposit || functionCall.deposit.toString() === '0') && // TODO: Should support charging amount smaller than allowance?\n                        (allowedMethods.length === 0 || allowedMethods.includes(functionCall.methodName));\n                    // TODO: Handle cases when allowance doesn't have enough to pay for gas\n                }\n            }\n            // TODO: Support other permissions than FunctionCall\n            return false;\n        });\n    }\n    /**\n     * Helper function returning the access key (if it exists) to the receiver that grants the designated permission\n     * @param receiverId The NEAR account seeking the access key for a transaction\n     * @param actions The action(s) sought to gain access to\n     * @param localKey A local public key provided to check for access\n     */\n    accessKeyForTransaction(receiverId, actions, localKey) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const accessKeys = yield this.getAccessKeys();\n            if (localKey) {\n                const accessKey = accessKeys.find(key => key.public_key.toString() === localKey.toString());\n                if (accessKey && (yield this.accessKeyMatchesTransaction(accessKey, receiverId, actions))) {\n                    return accessKey;\n                }\n            }\n            const walletKeys = this.walletConnection._authData.allKeys;\n            for (const accessKey of accessKeys) {\n                if (walletKeys.indexOf(accessKey.public_key) !== -1 && (yield this.accessKeyMatchesTransaction(accessKey, receiverId, actions))) {\n                    return accessKey;\n                }\n            }\n            return null;\n        });\n    }\n}\nexports.ConnectedWalletAccount = ConnectedWalletAccount;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst assert_1 = __importDefault(require(\"assert\"));\nconst utils_1 = require(\"./utils\");\nconst bytewords = 'ableacidalsoapexaquaarchatomauntawayaxisbackbaldbarnbeltbetabiasbluebodybragbrewbulbbuzzcalmcashcatschefcityclawcodecolacookcostcruxcurlcuspcyandarkdatadaysdelidicedietdoordowndrawdropdrumdulldutyeacheasyechoedgeepicevenexamexiteyesfactfairfernfigsfilmfishfizzflapflewfluxfoxyfreefrogfuelfundgalagamegeargemsgiftgirlglowgoodgraygrimgurugushgyrohalfhanghardhawkheathelphighhillholyhopehornhutsicedideaidleinchinkyintoirisironitemjadejazzjoinjoltjowljudojugsjumpjunkjurykeepkenokeptkeyskickkilnkingkitekiwiknoblamblavalazyleaflegsliarlimplionlistlogoloudloveluaulucklungmainmanymathmazememomenumeowmildmintmissmonknailnavyneednewsnextnoonnotenumbobeyoboeomitonyxopenovalowlspaidpartpeckplaypluspoempoolposepuffpumapurrquadquizraceramprealredorichroadrockroofrubyruinrunsrustsafesagascarsetssilkskewslotsoapsolosongstubsurfswantacotasktaxitenttiedtimetinytoiltombtoystriptunatwinuglyundouniturgeuservastveryvetovialvibeviewvisavoidvowswallwandwarmwaspwavewaxywebswhatwhenwhizwolfworkyankyawnyellyogayurtzapszerozestzinczonezoom';\nlet bytewordsLookUpTable = [];\nconst BYTEWORDS_NUM = 256;\nconst BYTEWORD_LENGTH = 4;\nconst MINIMAL_BYTEWORD_LENGTH = 2;\nvar STYLES;\n(function (STYLES) {\n    STYLES[\"STANDARD\"] = \"standard\";\n    STYLES[\"URI\"] = \"uri\";\n    STYLES[\"MINIMAL\"] = \"minimal\";\n})(STYLES || (STYLES = {}));\nconst getWord = (index) => {\n    return bytewords.slice(index * BYTEWORD_LENGTH, (index * BYTEWORD_LENGTH) + BYTEWORD_LENGTH);\n};\nconst getMinimalWord = (index) => {\n    const byteword = getWord(index);\n    return `${byteword[0]}${byteword[BYTEWORD_LENGTH - 1]}`;\n};\nconst addCRC = (string) => {\n    const crc = utils_1.getCRCHex(Buffer.from(string, 'hex'));\n    return `${string}${crc}`;\n};\nconst encodeWithSeparator = (word, separator) => {\n    const crcAppendedWord = addCRC(word);\n    const crcWordBuff = Buffer.from(crcAppendedWord, 'hex');\n    const result = crcWordBuff.reduce((result, w) => ([...result, getWord(w)]), []);\n    return result.join(separator);\n};\nconst encodeMinimal = (word) => {\n    const crcAppendedWord = addCRC(word);\n    const crcWordBuff = Buffer.from(crcAppendedWord, 'hex');\n    const result = crcWordBuff.reduce((result, w) => result + getMinimalWord(w), '');\n    return result;\n};\nconst decodeWord = (word, wordLength) => {\n    assert_1.default(word.length === wordLength, 'Invalid Bytewords: word.length does not match wordLength provided');\n    const dim = 26;\n    // Since the first and last letters of each Byteword are unique,\n    // we can use them as indexes into a two-dimensional lookup table.\n    // This table is generated lazily.\n    if (bytewordsLookUpTable.length === 0) {\n        const array_len = dim * dim;\n        bytewordsLookUpTable = [...new Array(array_len)].map(() => -1);\n        for (let i = 0; i < BYTEWORDS_NUM; i++) {\n            const byteword = getWord(i);\n            let x = byteword[0].charCodeAt(0) - 'a'.charCodeAt(0);\n            let y = byteword[3].charCodeAt(0) - 'a'.charCodeAt(0);\n            let offset = y * dim + x;\n            bytewordsLookUpTable[offset] = i;\n        }\n    }\n    // If the coordinates generated by the first and last letters are out of bounds,\n    // or the lookup table contains -1 at the coordinates, then the word is not valid.\n    let x = (word[0]).toLowerCase().charCodeAt(0) - 'a'.charCodeAt(0);\n    let y = (word[wordLength == 4 ? 3 : 1]).toLowerCase().charCodeAt(0) - 'a'.charCodeAt(0);\n    assert_1.default(0 <= x && x < dim && 0 <= y && y < dim, 'Invalid Bytewords: invalid word');\n    let offset = y * dim + x;\n    let value = bytewordsLookUpTable[offset];\n    assert_1.default(value !== -1, 'Invalid Bytewords: value not in lookup table');\n    // If we're decoding a full four-letter word, verify that the two middle letters are correct.\n    if (wordLength == BYTEWORD_LENGTH) {\n        const byteword = getWord(value);\n        let c1 = word[1].toLowerCase();\n        let c2 = word[2].toLowerCase();\n        assert_1.default(c1 === byteword[1] && c2 === byteword[2], 'Invalid Bytewords: invalid middle letters of word');\n    }\n    // Successful decode.\n    return Buffer.from([value]).toString('hex');\n};\nconst _decode = (string, separator, wordLength) => {\n    const words = wordLength == BYTEWORD_LENGTH ? string.split(separator) : utils_1.partition(string, 2);\n    const decodedString = words.map((word) => decodeWord(word, wordLength)).join('');\n    assert_1.default(decodedString.length >= 5, 'Invalid Bytewords: invalid decoded string length');\n    const [body, bodyChecksum] = utils_1.split(Buffer.from(decodedString, 'hex'), 4);\n    const checksum = utils_1.getCRCHex(body); // convert to hex\n    assert_1.default(checksum === bodyChecksum.toString('hex'), 'Invalid Checksum');\n    return body.toString('hex');\n};\nconst decode = (string, style = STYLES.MINIMAL) => {\n    switch (style) {\n        case STYLES.STANDARD:\n            return _decode(string, ' ', BYTEWORD_LENGTH);\n        case STYLES.URI:\n            return _decode(string, '-', BYTEWORD_LENGTH);\n        case STYLES.MINIMAL:\n            return _decode(string, '', MINIMAL_BYTEWORD_LENGTH);\n        default:\n            throw new Error(`Invalid style ${style}`);\n    }\n};\nconst encode = (string, style = STYLES.MINIMAL) => {\n    switch (style) {\n        case STYLES.STANDARD:\n            return encodeWithSeparator(string, ' ');\n        case STYLES.URI:\n            return encodeWithSeparator(string, '-');\n        case STYLES.MINIMAL:\n            return encodeMinimal(string);\n        default:\n            throw new Error(`Invalid style ${style}`);\n    }\n};\nexports.default = {\n    decode,\n    encode,\n    STYLES\n};\n//# sourceMappingURL=bytewords.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.cborDecode = exports.cborEncode = void 0;\nconst cbor = require('cbor-sync');\nconst cborEncode = (data) => {\n    return cbor.encode(data);\n};\nexports.cborEncode = cborEncode;\nconst cborDecode = (data) => {\n    return cbor.decode(Buffer.isBuffer(data) ? data : Buffer.from(data, 'hex'));\n};\nexports.cborDecode = cborDecode;\n//# sourceMappingURL=cbor.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.InvalidChecksumError = exports.InvalidSequenceComponentError = exports.InvalidTypeError = exports.InvalidPathLengthError = exports.InvalidSchemeError = void 0;\nclass InvalidSchemeError extends Error {\n    constructor() {\n        super('Invalid Scheme');\n        this.name = 'InvalidSchemeError';\n    }\n}\nexports.InvalidSchemeError = InvalidSchemeError;\nclass InvalidPathLengthError extends Error {\n    constructor() {\n        super('Invalid Path');\n        this.name = 'InvalidPathLengthError';\n    }\n}\nexports.InvalidPathLengthError = InvalidPathLengthError;\nclass InvalidTypeError extends Error {\n    constructor() {\n        super('Invalid Type');\n        this.name = 'InvalidTypeError';\n    }\n}\nexports.InvalidTypeError = InvalidTypeError;\nclass InvalidSequenceComponentError extends Error {\n    constructor() {\n        super('Invalid Sequence Component');\n        this.name = 'InvalidSequenceComponentError';\n    }\n}\nexports.InvalidSequenceComponentError = InvalidSequenceComponentError;\nclass InvalidChecksumError extends Error {\n    constructor() {\n        super('Invalid Checksum');\n        this.name = 'InvalidChecksumError';\n    }\n}\nexports.InvalidChecksumError = InvalidChecksumError;\n//# sourceMappingURL=errors.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FountainDecoderPart = void 0;\nconst utils_1 = require(\"./utils\");\nconst fountainUtils_1 = require(\"./fountainUtils\");\nconst errors_1 = require(\"./errors\");\nclass FountainDecoderPart {\n    constructor(_indexes, _fragment) {\n        this._indexes = _indexes;\n        this._fragment = _fragment;\n    }\n    get indexes() { return this._indexes; }\n    get fragment() { return this._fragment; }\n    static fromEncoderPart(encoderPart) {\n        const indexes = fountainUtils_1.chooseFragments(encoderPart.seqNum, encoderPart.seqLength, encoderPart.checksum);\n        const fragment = encoderPart.fragment;\n        return new FountainDecoderPart(indexes, fragment);\n    }\n    isSimple() {\n        return this.indexes.length === 1;\n    }\n}\nexports.FountainDecoderPart = FountainDecoderPart;\nclass FountainDecoder {\n    constructor() {\n        this.result = undefined;\n        this.expectedMessageLength = 0;\n        this.expectedChecksum = 0;\n        this.expectedFragmentLength = 0;\n        this.processedPartsCount = 0;\n        this.expectedPartIndexes = [];\n        this.lastPartIndexes = [];\n        this.queuedParts = [];\n        this.receivedPartIndexes = [];\n        this.mixedParts = [];\n        this.simpleParts = [];\n    }\n    validatePart(part) {\n        // If this is the first part we've seen\n        if (this.expectedPartIndexes.length === 0) {\n            // Record the things that all the other parts we see will have to match to be valid.\n            [...new Array(part.seqLength)]\n                .forEach((_, index) => this.expectedPartIndexes.push(index));\n            this.expectedMessageLength = part.messageLength;\n            this.expectedChecksum = part.checksum;\n            this.expectedFragmentLength = part.fragment.length;\n        }\n        else {\n            // If this part's values don't match the first part's values, throw away the part\n            if (this.expectedPartIndexes.length !== part.seqLength) {\n                return false;\n            }\n            if (this.expectedMessageLength !== part.messageLength) {\n                return false;\n            }\n            if (this.expectedChecksum !== part.checksum) {\n                return false;\n            }\n            if (this.expectedFragmentLength !== part.fragment.length) {\n                return false;\n            }\n        }\n        // This part should be processed\n        return true;\n    }\n    reducePartByPart(a, b) {\n        // If the fragments mixed into `b` are a strict (proper) subset of those in `a`...\n        if (utils_1.arrayContains(a.indexes, b.indexes)) {\n            const newIndexes = utils_1.setDifference(a.indexes, b.indexes);\n            const newFragment = utils_1.bufferXOR(a.fragment, b.fragment);\n            return new FountainDecoderPart(newIndexes, newFragment);\n        }\n        else {\n            // `a` is not reducable by `b`, so return a\n            return a;\n        }\n    }\n    reduceMixedBy(part) {\n        const newMixed = [];\n        this.mixedParts\n            .map(({ value: mixedPart }) => this.reducePartByPart(mixedPart, part))\n            .forEach(reducedPart => {\n            if (reducedPart.isSimple()) {\n                this.queuedParts.push(reducedPart);\n            }\n            else {\n                newMixed.push({ key: reducedPart.indexes, value: reducedPart });\n            }\n        });\n        this.mixedParts = newMixed;\n    }\n    processSimplePart(part) {\n        // Don't process duplicate parts\n        const fragmentIndex = part.indexes[0];\n        if (this.receivedPartIndexes.includes(fragmentIndex)) {\n            return;\n        }\n        this.simpleParts.push({ key: part.indexes, value: part });\n        this.receivedPartIndexes.push(fragmentIndex);\n        // If we've received all the parts\n        if (utils_1.arraysEqual(this.receivedPartIndexes, this.expectedPartIndexes)) {\n            // Reassemble the message from its fragments\n            const sortedParts = this.simpleParts\n                .map(({ value }) => value)\n                .sort((a, b) => (a.indexes[0] - b.indexes[0]));\n            const message = FountainDecoder.joinFragments(sortedParts.map(part => part.fragment), this.expectedMessageLength);\n            const checksum = utils_1.getCRC(message);\n            if (checksum === this.expectedChecksum) {\n                this.result = message;\n            }\n            else {\n                this.error = new errors_1.InvalidChecksumError();\n            }\n        }\n        else {\n            this.reduceMixedBy(part);\n        }\n    }\n    processMixedPart(part) {\n        // Don't process duplicate parts\n        if (this.mixedParts.some(({ key: indexes }) => utils_1.arraysEqual(indexes, part.indexes))) {\n            return;\n        }\n        // Reduce this part by all the others\n        let p2 = this.simpleParts.reduce((acc, { value: p }) => this.reducePartByPart(acc, p), part);\n        p2 = this.mixedParts.reduce((acc, { value: p }) => this.reducePartByPart(acc, p), p2);\n        // If the part is now simple\n        if (p2.isSimple()) {\n            // Add it to the queue\n            this.queuedParts.push(p2);\n        }\n        else {\n            this.reduceMixedBy(p2);\n            this.mixedParts.push({ key: p2.indexes, value: p2 });\n        }\n    }\n    processQueuedItem() {\n        if (this.queuedParts.length === 0) {\n            return;\n        }\n        const part = this.queuedParts.shift();\n        if (part.isSimple()) {\n            this.processSimplePart(part);\n        }\n        else {\n            this.processMixedPart(part);\n        }\n    }\n    receivePart(encoderPart) {\n        if (this.isComplete()) {\n            return false;\n        }\n        if (!this.validatePart(encoderPart)) {\n            return false;\n        }\n        const decoderPart = FountainDecoderPart.fromEncoderPart(encoderPart);\n        this.lastPartIndexes = decoderPart.indexes;\n        this.queuedParts.push(decoderPart);\n        while (!this.isComplete() && this.queuedParts.length > 0) {\n            this.processQueuedItem();\n        }\n        ;\n        this.processedPartsCount += 1;\n        return true;\n    }\n    isComplete() {\n        return Boolean(this.result !== undefined && this.result.length > 0);\n    }\n    isSuccess() {\n        return Boolean(this.error === undefined && this.isComplete());\n    }\n    resultMessage() {\n        return this.isSuccess() ? this.result : Buffer.from([]);\n    }\n    isFailure() {\n        return this.error !== undefined;\n    }\n    resultError() {\n        return this.error ? this.error.message : '';\n    }\n    expectedPartCount() {\n        return this.expectedPartIndexes.length;\n    }\n    getExpectedPartIndexes() {\n        return [...this.expectedPartIndexes];\n    }\n    getReceivedPartIndexes() {\n        return [...this.receivedPartIndexes];\n    }\n    getLastPartIndexes() {\n        return [...this.lastPartIndexes];\n    }\n    estimatedPercentComplete() {\n        if (this.isComplete()) {\n            return 1;\n        }\n        const expectedPartCount = this.expectedPartCount();\n        if (expectedPartCount === 0) {\n            return 0;\n        }\n        // We multiply the expectedPartCount by `1.75` as a way to compensate for the facet\n        // that `this.processedPartsCount` also tracks the duplicate parts that have been\n        // processeed.\n        return Math.min(0.99, this.processedPartsCount / (expectedPartCount * 1.75));\n    }\n    getProgress() {\n        if (this.isComplete()) {\n            return 1;\n        }\n        const expectedPartCount = this.expectedPartCount();\n        if (expectedPartCount === 0) {\n            return 0;\n        }\n        return this.receivedPartIndexes.length / expectedPartCount;\n    }\n}\nexports.default = FountainDecoder;\nFountainDecoder.joinFragments = (fragments, messageLength) => {\n    return Buffer.concat(fragments).slice(0, messageLength);\n};\n//# sourceMappingURL=fountainDecoder.js.map","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FountainEncoderPart = void 0;\nconst assert_1 = __importDefault(require(\"assert\"));\nconst utils_1 = require(\"./utils\");\nconst fountainUtils_1 = require(\"./fountainUtils\");\nconst cbor_1 = require(\"./cbor\");\nclass FountainEncoderPart {\n    constructor(_seqNum, _seqLength, _messageLength, _checksum, _fragment) {\n        this._seqNum = _seqNum;\n        this._seqLength = _seqLength;\n        this._messageLength = _messageLength;\n        this._checksum = _checksum;\n        this._fragment = _fragment;\n    }\n    get messageLength() { return this._messageLength; }\n    get fragment() { return this._fragment; }\n    get seqNum() { return this._seqNum; }\n    get seqLength() { return this._seqLength; }\n    get checksum() { return this._checksum; }\n    cbor() {\n        const result = cbor_1.cborEncode([\n            this._seqNum,\n            this._seqLength,\n            this._messageLength,\n            this._checksum,\n            this._fragment\n        ]);\n        return Buffer.from(result);\n    }\n    description() {\n        return `seqNum:${this._seqNum}, seqLen:${this._seqLength}, messageLen:${this._messageLength}, checksum:${this._checksum}, data:${this._fragment.toString('hex')}`;\n    }\n    static fromCBOR(cborPayload) {\n        const [seqNum, seqLength, messageLength, checksum, fragment,] = cbor_1.cborDecode(cborPayload);\n        assert_1.default(typeof seqNum === 'number');\n        assert_1.default(typeof seqLength === 'number');\n        assert_1.default(typeof messageLength === 'number');\n        assert_1.default(typeof checksum === 'number');\n        assert_1.default(Buffer.isBuffer(fragment) && fragment.length > 0);\n        return new FountainEncoderPart(seqNum, seqLength, messageLength, checksum, Buffer.from(fragment));\n    }\n}\nexports.FountainEncoderPart = FountainEncoderPart;\nclass FountainEncoder {\n    constructor(message, maxFragmentLength = 100, firstSeqNum = 0, minFragmentLength = 10) {\n        const fragmentLength = FountainEncoder.findNominalFragmentLength(message.length, minFragmentLength, maxFragmentLength);\n        this._messageLength = message.length;\n        this._fragments = FountainEncoder.partitionMessage(message, fragmentLength);\n        this.fragmentLength = fragmentLength;\n        this.seqNum = utils_1.toUint32(firstSeqNum);\n        this.checksum = utils_1.getCRC(message);\n    }\n    get fragmentsLength() { return this._fragments.length; }\n    get fragments() { return this._fragments; }\n    get messageLength() { return this._messageLength; }\n    isComplete() {\n        return this.seqNum >= this._fragments.length;\n    }\n    isSinglePart() {\n        return this._fragments.length === 1;\n    }\n    seqLength() {\n        return this._fragments.length;\n    }\n    mix(indexes) {\n        return indexes.reduce((result, index) => utils_1.bufferXOR(this._fragments[index], result), Buffer.alloc(this.fragmentLength, 0));\n    }\n    nextPart() {\n        this.seqNum = utils_1.toUint32(this.seqNum + 1);\n        const indexes = fountainUtils_1.chooseFragments(this.seqNum, this._fragments.length, this.checksum);\n        const mixed = this.mix(indexes);\n        return new FountainEncoderPart(this.seqNum, this._fragments.length, this._messageLength, this.checksum, mixed);\n    }\n    static findNominalFragmentLength(messageLength, minFragmentLength, maxFragmentLength) {\n        assert_1.default(messageLength > 0);\n        assert_1.default(minFragmentLength > 0);\n        assert_1.default(maxFragmentLength >= minFragmentLength);\n        const maxFragmentCount = Math.ceil(messageLength / minFragmentLength);\n        let fragmentLength = 0;\n        for (let fragmentCount = 1; fragmentCount <= maxFragmentCount; fragmentCount++) {\n            fragmentLength = Math.ceil(messageLength / fragmentCount);\n            if (fragmentLength <= maxFragmentLength) {\n                break;\n            }\n        }\n        return fragmentLength;\n    }\n    static partitionMessage(message, fragmentLength) {\n        let remaining = Buffer.from(message);\n        let fragment;\n        let _fragments = [];\n        while (remaining.length > 0) {\n            [fragment, remaining] = utils_1.split(remaining, -fragmentLength);\n            fragment = Buffer\n                .alloc(fragmentLength, 0) // initialize with 0's to achieve the padding\n                .fill(fragment, 0, fragment.length);\n            _fragments.push(fragment);\n        }\n        return _fragments;\n    }\n}\nexports.default = FountainEncoder;\n//# sourceMappingURL=fountainEncoder.js.map","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.chooseFragments = exports.shuffle = exports.chooseDegree = void 0;\nconst utils_1 = require(\"./utils\");\nconst xoshiro_1 = __importDefault(require(\"./xoshiro\"));\nconst alias_sampling_1 = __importDefault(require(\"@keystonehq/alias-sampling\"));\nconst chooseDegree = (seqLenth, rng) => {\n    const degreeProbabilities = [...new Array(seqLenth)].map((_, index) => 1 / (index + 1));\n    const degreeChooser = alias_sampling_1.default(degreeProbabilities, undefined, rng.nextDouble);\n    return degreeChooser.next() + 1;\n};\nexports.chooseDegree = chooseDegree;\nconst shuffle = (items, rng) => {\n    let remaining = [...items];\n    let result = [];\n    while (remaining.length > 0) {\n        let index = rng.nextInt(0, remaining.length - 1);\n        let item = remaining[index];\n        // remaining.erase(remaining.begin() + index);\n        remaining.splice(index, 1);\n        result.push(item);\n    }\n    return result;\n};\nexports.shuffle = shuffle;\nconst chooseFragments = (seqNum, seqLength, checksum) => {\n    // The first `seqLenth` parts are the \"pure\" fragments, not mixed with any\n    // others. This means that if you only generate the first `seqLenth` parts,\n    // then you have all the parts you need to decode the message.\n    if (seqNum <= seqLength) {\n        return [seqNum - 1];\n    }\n    else {\n        const seed = Buffer.concat([utils_1.intToBytes(seqNum), utils_1.intToBytes(checksum)]);\n        const rng = new xoshiro_1.default(seed);\n        const degree = exports.chooseDegree(seqLength, rng);\n        const indexes = [...new Array(seqLength)].map((_, index) => index);\n        const shuffledIndexes = exports.shuffle(indexes, rng);\n        return shuffledIndexes.slice(0, degree);\n    }\n};\nexports.chooseFragments = chooseFragments;\n//# sourceMappingURL=fountainUtils.js.map","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.URDecoder = exports.UREncoder = exports.UR = void 0;\nconst ur_1 = __importDefault(require(\"./ur\"));\nexports.UR = ur_1.default;\nconst urEncoder_1 = __importDefault(require(\"./urEncoder\"));\nexports.UREncoder = urEncoder_1.default;\nconst urDecoder_1 = __importDefault(require(\"./urDecoder\"));\nexports.URDecoder = urDecoder_1.default;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst errors_1 = require(\"./errors\");\nconst utils_1 = require(\"./utils\");\nconst cbor_1 = require(\"./cbor\");\nclass UR {\n    constructor(_cborPayload, _type = 'bytes') {\n        this._cborPayload = _cborPayload;\n        this._type = _type;\n        if (!utils_1.isURType(this._type)) {\n            throw new errors_1.InvalidTypeError();\n        }\n    }\n    static fromBuffer(buf) {\n        return new UR(cbor_1.cborEncode(buf));\n    }\n    static from(value, encoding) {\n        return UR.fromBuffer(Buffer.from(value, encoding));\n    }\n    decodeCBOR() {\n        return cbor_1.cborDecode(this._cborPayload);\n    }\n    get type() { return this._type; }\n    get cbor() { return this._cborPayload; }\n    equals(ur2) {\n        return this.type === ur2.type && this.cbor.equals(ur2.cbor);\n    }\n}\nexports.default = UR;\n//# sourceMappingURL=ur.js.map","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst fountainDecoder_1 = __importDefault(require(\"./fountainDecoder\"));\nconst bytewords_1 = __importDefault(require(\"./bytewords\"));\nconst assert_1 = __importDefault(require(\"assert\"));\nconst utils_1 = require(\"./utils\");\nconst errors_1 = require(\"./errors\");\nconst ur_1 = __importDefault(require(\"./ur\"));\nconst fountainEncoder_1 = require(\"./fountainEncoder\");\nclass URDecoder {\n    constructor(fountainDecoder = new fountainDecoder_1.default(), type = 'bytes') {\n        this.fountainDecoder = fountainDecoder;\n        this.type = type;\n        assert_1.default(utils_1.isURType(type), 'Invalid UR type');\n        this.expected_type = '';\n    }\n    static decodeBody(type, message) {\n        const cbor = bytewords_1.default.decode(message, bytewords_1.default.STYLES.MINIMAL);\n        return new ur_1.default(Buffer.from(cbor, 'hex'), type);\n    }\n    validatePart(type) {\n        if (this.expected_type) {\n            return this.expected_type === type;\n        }\n        if (!utils_1.isURType(type)) {\n            return false;\n        }\n        this.expected_type = type;\n        return true;\n    }\n    static decode(message) {\n        const [type, components] = this.parse(message);\n        if (components.length === 0) {\n            throw new errors_1.InvalidPathLengthError();\n        }\n        const body = components[0];\n        return URDecoder.decodeBody(type, body);\n    }\n    static parse(message) {\n        const lowercase = message.toLowerCase();\n        const prefix = lowercase.slice(0, 3);\n        if (prefix !== 'ur:') {\n            throw new errors_1.InvalidSchemeError();\n        }\n        const components = lowercase.slice(3).split('/');\n        const type = components[0];\n        if (components.length < 2) {\n            throw new errors_1.InvalidPathLengthError();\n        }\n        if (!utils_1.isURType(type)) {\n            throw new errors_1.InvalidTypeError();\n        }\n        return [type, components.slice(1)];\n    }\n    static parseSequenceComponent(s) {\n        const components = s.split('-');\n        if (components.length !== 2) {\n            throw new errors_1.InvalidSequenceComponentError();\n        }\n        const seqNum = utils_1.toUint32(Number(components[0]));\n        const seqLength = Number(components[1]);\n        if (seqNum < 1 || seqLength < 1) {\n            throw new errors_1.InvalidSequenceComponentError();\n        }\n        return [seqNum, seqLength];\n    }\n    receivePart(s) {\n        if (this.result !== undefined) {\n            return false;\n        }\n        const [type, components] = URDecoder.parse(s);\n        if (!this.validatePart(type)) {\n            return false;\n        }\n        // If this is a single-part UR then we're done\n        if (components.length === 1) {\n            this.result = URDecoder.decodeBody(type, components[0]);\n            return true;\n        }\n        if (components.length !== 2) {\n            throw new errors_1.InvalidPathLengthError();\n        }\n        const [seq, fragment] = components;\n        const [seqNum, seqLength] = URDecoder.parseSequenceComponent(seq);\n        const cbor = bytewords_1.default.decode(fragment, bytewords_1.default.STYLES.MINIMAL);\n        const part = fountainEncoder_1.FountainEncoderPart.fromCBOR(cbor);\n        if (seqNum !== part.seqNum || seqLength !== part.seqLength) {\n            return false;\n        }\n        if (!this.fountainDecoder.receivePart(part)) {\n            return false;\n        }\n        if (this.fountainDecoder.isSuccess()) {\n            this.result = new ur_1.default(this.fountainDecoder.resultMessage(), type);\n        }\n        else if (this.fountainDecoder.isFailure()) {\n            this.error = new errors_1.InvalidSchemeError();\n        }\n        return true;\n    }\n    resultUR() {\n        return this.result ? this.result : new ur_1.default(Buffer.from([]));\n    }\n    isComplete() {\n        return this.result && this.result.cbor.length > 0;\n    }\n    isSuccess() {\n        return !this.error && this.isComplete();\n    }\n    isError() {\n        return this.error !== undefined;\n    }\n    resultError() {\n        return this.error ? this.error.message : '';\n    }\n    expectedPartCount() {\n        return this.fountainDecoder.expectedPartCount();\n    }\n    expectedPartIndexes() {\n        return this.fountainDecoder.getExpectedPartIndexes();\n    }\n    receivedPartIndexes() {\n        return this.fountainDecoder.getReceivedPartIndexes();\n    }\n    lastPartIndexes() {\n        return this.fountainDecoder.getLastPartIndexes();\n    }\n    estimatedPercentComplete() {\n        return this.fountainDecoder.estimatedPercentComplete();\n    }\n    getProgress() {\n        return this.fountainDecoder.getProgress();\n    }\n}\nexports.default = URDecoder;\n//# sourceMappingURL=urDecoder.js.map","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst fountainEncoder_1 = __importDefault(require(\"./fountainEncoder\"));\nconst bytewords_1 = __importDefault(require(\"./bytewords\"));\nclass UREncoder {\n    constructor(_ur, maxFragmentLength, firstSeqNum, minFragmentLength) {\n        this.ur = _ur;\n        this.fountainEncoder = new fountainEncoder_1.default(_ur.cbor, maxFragmentLength, firstSeqNum, minFragmentLength);\n    }\n    get fragmentsLength() { return this.fountainEncoder.fragmentsLength; }\n    get fragments() { return this.fountainEncoder.fragments; }\n    get messageLength() { return this.fountainEncoder.messageLength; }\n    get cbor() { return this.ur.cbor; }\n    encodeWhole() {\n        return [...new Array(this.fragmentsLength)].map(() => this.nextPart());\n    }\n    nextPart() {\n        const part = this.fountainEncoder.nextPart();\n        if (this.fountainEncoder.isSinglePart()) {\n            return UREncoder.encodeSinglePart(this.ur);\n        }\n        else {\n            return UREncoder.encodePart(this.ur.type, part);\n        }\n    }\n    static encodeUri(scheme, pathComponents) {\n        const path = pathComponents.join('/');\n        return [scheme, path].join(':');\n    }\n    static encodeUR(pathComponents) {\n        return UREncoder.encodeUri('ur', pathComponents);\n    }\n    static encodePart(type, part) {\n        const seq = `${part.seqNum}-${part.seqLength}`;\n        const body = bytewords_1.default.encode(part.cbor().toString('hex'), bytewords_1.default.STYLES.MINIMAL);\n        return UREncoder.encodeUR([type, seq, body]);\n    }\n    static encodeSinglePart(ur) {\n        const body = bytewords_1.default.encode(ur.cbor.toString('hex'), bytewords_1.default.STYLES.MINIMAL);\n        return UREncoder.encodeUR([ur.type, body]);\n    }\n}\nexports.default = UREncoder;\n//# sourceMappingURL=urEncoder.js.map","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.bufferXOR = exports.setDifference = exports.arrayContains = exports.arraysEqual = exports.hasPrefix = exports.isURType = exports.intToBytes = exports.toUint32 = exports.getCRCHex = exports.getCRC = exports.split = exports.partition = exports.sha256Hash = void 0;\nconst sha_js_1 = __importDefault(require(\"sha.js\"));\nconst crc_1 = require(\"crc\");\nconst sha256Hash = (data) => sha_js_1.default('sha256').update(data).digest();\nexports.sha256Hash = sha256Hash;\nconst partition = (s, n) => s.match(new RegExp('.{1,' + n + '}', 'g')) || [s];\nexports.partition = partition;\nconst split = (s, length) => [s.slice(0, -length), s.slice(-length)];\nexports.split = split;\nconst getCRC = (message) => crc_1.crc32(message);\nexports.getCRC = getCRC;\nconst getCRCHex = (message) => crc_1.crc32(message).toString(16).padStart(8, '0');\nexports.getCRCHex = getCRCHex;\nconst toUint32 = (number) => number >>> 0;\nexports.toUint32 = toUint32;\nconst intToBytes = (num) => {\n    const arr = new ArrayBuffer(4); // an Int32 takes 4 bytes\n    const view = new DataView(arr);\n    view.setUint32(0, num, false); // byteOffset = 0; litteEndian = false\n    return Buffer.from(arr);\n};\nexports.intToBytes = intToBytes;\nconst isURType = (type) => {\n    return type.split('').every((_, index) => {\n        let c = type.charCodeAt(index);\n        if ('a'.charCodeAt(0) <= c && c <= 'z'.charCodeAt(0))\n            return true;\n        if ('0'.charCodeAt(0) <= c && c <= '9'.charCodeAt(0))\n            return true;\n        if (c === '-'.charCodeAt(0))\n            return true;\n        return false;\n    });\n};\nexports.isURType = isURType;\nconst hasPrefix = (s, prefix) => s.indexOf(prefix) === 0;\nexports.hasPrefix = hasPrefix;\nconst arraysEqual = (ar1, ar2) => {\n    if (ar1.length !== ar2.length) {\n        return false;\n    }\n    return ar1.every(el => ar2.includes(el));\n};\nexports.arraysEqual = arraysEqual;\n/**\n * Checks if ar1 contains all elements of ar2\n * @param ar1 the outer array\n * @param ar2 the array to be contained in ar1\n */\nconst arrayContains = (ar1, ar2) => {\n    return ar2.every(v => ar1.includes(v));\n};\nexports.arrayContains = arrayContains;\n/**\n * Returns the difference array of  `ar1` - `ar2`\n */\nconst setDifference = (ar1, ar2) => {\n    return ar1.filter(x => ar2.indexOf(x) < 0);\n};\nexports.setDifference = setDifference;\nconst bufferXOR = (a, b) => {\n    const length = Math.max(a.length, b.length);\n    const buffer = Buffer.allocUnsafe(length);\n    for (let i = 0; i < length; ++i) {\n        buffer[i] = a[i] ^ b[i];\n    }\n    return buffer;\n};\nexports.bufferXOR = bufferXOR;\n//# sourceMappingURL=utils.js.map","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst utils_1 = require(\"./utils\");\nconst bignumber_js_1 = __importDefault(require(\"bignumber.js\"));\nconst jsbi_1 = __importDefault(require(\"jsbi\"));\nconst MAX_UINT64 = 0xFFFFFFFFFFFFFFFF;\nconst rotl = (x, k) => jsbi_1.default.bitwiseXor(jsbi_1.default.asUintN(64, jsbi_1.default.leftShift(x, jsbi_1.default.BigInt(k))), jsbi_1.default.BigInt(jsbi_1.default.asUintN(64, jsbi_1.default.signedRightShift(x, (jsbi_1.default.subtract(jsbi_1.default.BigInt(64), jsbi_1.default.BigInt(k)))))));\nclass Xoshiro {\n    constructor(seed) {\n        this.next = () => {\n            return new bignumber_js_1.default(this.roll().toString());\n        };\n        this.nextDouble = () => {\n            return new bignumber_js_1.default(this.roll().toString()).div(MAX_UINT64 + 1);\n        };\n        this.nextInt = (low, high) => {\n            return Math.floor((this.nextDouble().toNumber() * (high - low + 1)) + low);\n        };\n        this.nextByte = () => this.nextInt(0, 255);\n        this.nextData = (count) => ([...new Array(count)].map(() => this.nextByte()));\n        const digest = utils_1.sha256Hash(seed);\n        this.s = [jsbi_1.default.BigInt(0), jsbi_1.default.BigInt(0), jsbi_1.default.BigInt(0), jsbi_1.default.BigInt(0)];\n        this.setS(digest);\n    }\n    setS(digest) {\n        for (let i = 0; i < 4; i++) {\n            let o = i * 8;\n            let v = jsbi_1.default.BigInt(0);\n            for (let n = 0; n < 8; n++) {\n                v = jsbi_1.default.asUintN(64, jsbi_1.default.leftShift(v, jsbi_1.default.BigInt(8)));\n                v = jsbi_1.default.asUintN(64, jsbi_1.default.bitwiseOr(v, jsbi_1.default.BigInt(digest[o + n])));\n            }\n            this.s[i] = jsbi_1.default.asUintN(64, v);\n        }\n    }\n    roll() {\n        const result = jsbi_1.default.asUintN(64, jsbi_1.default.multiply(rotl(jsbi_1.default.asUintN(64, jsbi_1.default.multiply(this.s[1], jsbi_1.default.BigInt(5))), 7), jsbi_1.default.BigInt(9)));\n        const t = jsbi_1.default.asUintN(64, jsbi_1.default.leftShift(this.s[1], jsbi_1.default.BigInt(17)));\n        this.s[2] = jsbi_1.default.asUintN(64, jsbi_1.default.bitwiseXor(this.s[2], jsbi_1.default.BigInt(this.s[0])));\n        this.s[3] = jsbi_1.default.asUintN(64, jsbi_1.default.bitwiseXor(this.s[3], jsbi_1.default.BigInt(this.s[1])));\n        this.s[1] = jsbi_1.default.asUintN(64, jsbi_1.default.bitwiseXor(this.s[1], jsbi_1.default.BigInt(this.s[2])));\n        this.s[0] = jsbi_1.default.asUintN(64, jsbi_1.default.bitwiseXor(this.s[0], jsbi_1.default.BigInt(this.s[3])));\n        this.s[2] = jsbi_1.default.asUintN(64, jsbi_1.default.bitwiseXor(this.s[2], jsbi_1.default.BigInt(t)));\n        this.s[3] = jsbi_1.default.asUintN(64, rotl(this.s[3], 45));\n        return result;\n    }\n}\nexports.default = Xoshiro;\n//# sourceMappingURL=xoshiro.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.output = exports.exists = exports.hash = exports.bytes = exports.bool = exports.number = void 0;\nfunction number(n) {\n    if (!Number.isSafeInteger(n) || n < 0)\n        throw new Error(`Wrong positive integer: ${n}`);\n}\nexports.number = number;\nfunction bool(b) {\n    if (typeof b !== 'boolean')\n        throw new Error(`Expected boolean, not ${b}`);\n}\nexports.bool = bool;\n// copied from utils\nfunction isBytes(a) {\n    return (a instanceof Uint8Array ||\n        (a != null && typeof a === 'object' && a.constructor.name === 'Uint8Array'));\n}\nfunction bytes(b, ...lengths) {\n    if (!isBytes(b))\n        throw new Error('Expected Uint8Array');\n    if (lengths.length > 0 && !lengths.includes(b.length))\n        throw new Error(`Expected Uint8Array of length ${lengths}, not of length=${b.length}`);\n}\nexports.bytes = bytes;\nfunction hash(hash) {\n    if (typeof hash !== 'function' || typeof hash.create !== 'function')\n        throw new Error('Hash should be wrapped by utils.wrapConstructor');\n    number(hash.outputLen);\n    number(hash.blockLen);\n}\nexports.hash = hash;\nfunction exists(instance, checkFinished = true) {\n    if (instance.destroyed)\n        throw new Error('Hash instance has been destroyed');\n    if (checkFinished && instance.finished)\n        throw new Error('Hash#digest() has already been called');\n}\nexports.exists = exists;\nfunction output(out, instance) {\n    bytes(out);\n    const min = instance.outputLen;\n    if (out.length < min) {\n        throw new Error(`digestInto() expects output buffer of length at least ${min}`);\n    }\n}\nexports.output = output;\nconst assert = { number, bool, bytes, hash, exists, output };\nexports.default = assert;\n//# sourceMappingURL=_assert.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SHA2 = void 0;\nconst _assert_js_1 = require(\"./_assert.js\");\nconst utils_js_1 = require(\"./utils.js\");\n// Polyfill for Safari 14\nfunction setBigUint64(view, byteOffset, value, isLE) {\n    if (typeof view.setBigUint64 === 'function')\n        return view.setBigUint64(byteOffset, value, isLE);\n    const _32n = BigInt(32);\n    const _u32_max = BigInt(0xffffffff);\n    const wh = Number((value >> _32n) & _u32_max);\n    const wl = Number(value & _u32_max);\n    const h = isLE ? 4 : 0;\n    const l = isLE ? 0 : 4;\n    view.setUint32(byteOffset + h, wh, isLE);\n    view.setUint32(byteOffset + l, wl, isLE);\n}\n// Base SHA2 class (RFC 6234)\nclass SHA2 extends utils_js_1.Hash {\n    constructor(blockLen, outputLen, padOffset, isLE) {\n        super();\n        this.blockLen = blockLen;\n        this.outputLen = outputLen;\n        this.padOffset = padOffset;\n        this.isLE = isLE;\n        this.finished = false;\n        this.length = 0;\n        this.pos = 0;\n        this.destroyed = false;\n        this.buffer = new Uint8Array(blockLen);\n        this.view = (0, utils_js_1.createView)(this.buffer);\n    }\n    update(data) {\n        (0, _assert_js_1.exists)(this);\n        const { view, buffer, blockLen } = this;\n        data = (0, utils_js_1.toBytes)(data);\n        const len = data.length;\n        for (let pos = 0; pos < len;) {\n            const take = Math.min(blockLen - this.pos, len - pos);\n            // Fast path: we have at least one block in input, cast it to view and process\n            if (take === blockLen) {\n                const dataView = (0, utils_js_1.createView)(data);\n                for (; blockLen <= len - pos; pos += blockLen)\n                    this.process(dataView, pos);\n                continue;\n            }\n            buffer.set(data.subarray(pos, pos + take), this.pos);\n            this.pos += take;\n            pos += take;\n            if (this.pos === blockLen) {\n                this.process(view, 0);\n                this.pos = 0;\n            }\n        }\n        this.length += data.length;\n        this.roundClean();\n        return this;\n    }\n    digestInto(out) {\n        (0, _assert_js_1.exists)(this);\n        (0, _assert_js_1.output)(out, this);\n        this.finished = true;\n        // Padding\n        // We can avoid allocation of buffer for padding completely if it\n        // was previously not allocated here. But it won't change performance.\n        const { buffer, view, blockLen, isLE } = this;\n        let { pos } = this;\n        // append the bit '1' to the message\n        buffer[pos++] = 0b10000000;\n        this.buffer.subarray(pos).fill(0);\n        // we have less than padOffset left in buffer, so we cannot put length in current block, need process it and pad again\n        if (this.padOffset > blockLen - pos) {\n            this.process(view, 0);\n            pos = 0;\n        }\n        // Pad until full block byte with zeros\n        for (let i = pos; i < blockLen; i++)\n            buffer[i] = 0;\n        // Note: sha512 requires length to be 128bit integer, but length in JS will overflow before that\n        // You need to write around 2 exabytes (u64_max / 8 / (1024**6)) for this to happen.\n        // So we just write lowest 64 bits of that value.\n        setBigUint64(view, blockLen - 8, BigInt(this.length * 8), isLE);\n        this.process(view, 0);\n        const oview = (0, utils_js_1.createView)(out);\n        const len = this.outputLen;\n        // NOTE: we do division by 4 later, which should be fused in single op with modulo by JIT\n        if (len % 4)\n            throw new Error('_sha2: outputLen should be aligned to 32bit');\n        const outLen = len / 4;\n        const state = this.get();\n        if (outLen > state.length)\n            throw new Error('_sha2: outputLen bigger than state');\n        for (let i = 0; i < outLen; i++)\n            oview.setUint32(4 * i, state[i], isLE);\n    }\n    digest() {\n        const { buffer, outputLen } = this;\n        this.digestInto(buffer);\n        const res = buffer.slice(0, outputLen);\n        this.destroy();\n        return res;\n    }\n    _cloneInto(to) {\n        to || (to = new this.constructor());\n        to.set(...this.get());\n        const { blockLen, buffer, length, finished, destroyed, pos } = this;\n        to.length = length;\n        to.pos = pos;\n        to.finished = finished;\n        to.destroyed = destroyed;\n        if (length % blockLen)\n            to.buffer.set(buffer);\n        return to;\n    }\n}\nexports.SHA2 = SHA2;\n//# sourceMappingURL=_sha2.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.add5L = exports.add5H = exports.add4H = exports.add4L = exports.add3H = exports.add3L = exports.add = exports.rotlBL = exports.rotlBH = exports.rotlSL = exports.rotlSH = exports.rotr32L = exports.rotr32H = exports.rotrBL = exports.rotrBH = exports.rotrSL = exports.rotrSH = exports.shrSL = exports.shrSH = exports.toBig = exports.split = exports.fromBig = void 0;\nconst U32_MASK64 = /* @__PURE__ */ BigInt(2 ** 32 - 1);\nconst _32n = /* @__PURE__ */ BigInt(32);\n// We are not using BigUint64Array, because they are extremely slow as per 2022\nfunction fromBig(n, le = false) {\n    if (le)\n        return { h: Number(n & U32_MASK64), l: Number((n >> _32n) & U32_MASK64) };\n    return { h: Number((n >> _32n) & U32_MASK64) | 0, l: Number(n & U32_MASK64) | 0 };\n}\nexports.fromBig = fromBig;\nfunction split(lst, le = false) {\n    let Ah = new Uint32Array(lst.length);\n    let Al = new Uint32Array(lst.length);\n    for (let i = 0; i < lst.length; i++) {\n        const { h, l } = fromBig(lst[i], le);\n        [Ah[i], Al[i]] = [h, l];\n    }\n    return [Ah, Al];\n}\nexports.split = split;\nconst toBig = (h, l) => (BigInt(h >>> 0) << _32n) | BigInt(l >>> 0);\nexports.toBig = toBig;\n// for Shift in [0, 32)\nconst shrSH = (h, _l, s) => h >>> s;\nexports.shrSH = shrSH;\nconst shrSL = (h, l, s) => (h << (32 - s)) | (l >>> s);\nexports.shrSL = shrSL;\n// Right rotate for Shift in [1, 32)\nconst rotrSH = (h, l, s) => (h >>> s) | (l << (32 - s));\nexports.rotrSH = rotrSH;\nconst rotrSL = (h, l, s) => (h << (32 - s)) | (l >>> s);\nexports.rotrSL = rotrSL;\n// Right rotate for Shift in (32, 64), NOTE: 32 is special case.\nconst rotrBH = (h, l, s) => (h << (64 - s)) | (l >>> (s - 32));\nexports.rotrBH = rotrBH;\nconst rotrBL = (h, l, s) => (h >>> (s - 32)) | (l << (64 - s));\nexports.rotrBL = rotrBL;\n// Right rotate for shift===32 (just swaps l&h)\nconst rotr32H = (_h, l) => l;\nexports.rotr32H = rotr32H;\nconst rotr32L = (h, _l) => h;\nexports.rotr32L = rotr32L;\n// Left rotate for Shift in [1, 32)\nconst rotlSH = (h, l, s) => (h << s) | (l >>> (32 - s));\nexports.rotlSH = rotlSH;\nconst rotlSL = (h, l, s) => (l << s) | (h >>> (32 - s));\nexports.rotlSL = rotlSL;\n// Left rotate for Shift in (32, 64), NOTE: 32 is special case.\nconst rotlBH = (h, l, s) => (l << (s - 32)) | (h >>> (64 - s));\nexports.rotlBH = rotlBH;\nconst rotlBL = (h, l, s) => (h << (s - 32)) | (l >>> (64 - s));\nexports.rotlBL = rotlBL;\n// JS uses 32-bit signed integers for bitwise operations which means we cannot\n// simple take carry out of low bit sum by shift, we need to use division.\nfunction add(Ah, Al, Bh, Bl) {\n    const l = (Al >>> 0) + (Bl >>> 0);\n    return { h: (Ah + Bh + ((l / 2 ** 32) | 0)) | 0, l: l | 0 };\n}\nexports.add = add;\n// Addition with more than 2 elements\nconst add3L = (Al, Bl, Cl) => (Al >>> 0) + (Bl >>> 0) + (Cl >>> 0);\nexports.add3L = add3L;\nconst add3H = (low, Ah, Bh, Ch) => (Ah + Bh + Ch + ((low / 2 ** 32) | 0)) | 0;\nexports.add3H = add3H;\nconst add4L = (Al, Bl, Cl, Dl) => (Al >>> 0) + (Bl >>> 0) + (Cl >>> 0) + (Dl >>> 0);\nexports.add4L = add4L;\nconst add4H = (low, Ah, Bh, Ch, Dh) => (Ah + Bh + Ch + Dh + ((low / 2 ** 32) | 0)) | 0;\nexports.add4H = add4H;\nconst add5L = (Al, Bl, Cl, Dl, El) => (Al >>> 0) + (Bl >>> 0) + (Cl >>> 0) + (Dl >>> 0) + (El >>> 0);\nexports.add5L = add5L;\nconst add5H = (low, Ah, Bh, Ch, Dh, Eh) => (Ah + Bh + Ch + Dh + Eh + ((low / 2 ** 32) | 0)) | 0;\nexports.add5H = add5H;\n// prettier-ignore\nconst u64 = {\n    fromBig, split, toBig,\n    shrSH, shrSL,\n    rotrSH, rotrSL, rotrBH, rotrBL,\n    rotr32H, rotr32L,\n    rotlSH, rotlSL, rotlBH, rotlBL,\n    add, add3L, add3H, add4L, add4H, add5H, add5L,\n};\nexports.default = u64;\n//# sourceMappingURL=_u64.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.crypto = void 0;\nexports.crypto = typeof globalThis === 'object' && 'crypto' in globalThis ? globalThis.crypto : undefined;\n//# sourceMappingURL=crypto.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.hmac = exports.HMAC = void 0;\nconst _assert_js_1 = require(\"./_assert.js\");\nconst utils_js_1 = require(\"./utils.js\");\n// HMAC (RFC 2104)\nclass HMAC extends utils_js_1.Hash {\n    constructor(hash, _key) {\n        super();\n        this.finished = false;\n        this.destroyed = false;\n        (0, _assert_js_1.hash)(hash);\n        const key = (0, utils_js_1.toBytes)(_key);\n        this.iHash = hash.create();\n        if (typeof this.iHash.update !== 'function')\n            throw new Error('Expected instance of class which extends utils.Hash');\n        this.blockLen = this.iHash.blockLen;\n        this.outputLen = this.iHash.outputLen;\n        const blockLen = this.blockLen;\n        const pad = new Uint8Array(blockLen);\n        // blockLen can be bigger than outputLen\n        pad.set(key.length > blockLen ? hash.create().update(key).digest() : key);\n        for (let i = 0; i < pad.length; i++)\n            pad[i] ^= 0x36;\n        this.iHash.update(pad);\n        // By doing update (processing of first block) of outer hash here we can re-use it between multiple calls via clone\n        this.oHash = hash.create();\n        // Undo internal XOR && apply outer XOR\n        for (let i = 0; i < pad.length; i++)\n            pad[i] ^= 0x36 ^ 0x5c;\n        this.oHash.update(pad);\n        pad.fill(0);\n    }\n    update(buf) {\n        (0, _assert_js_1.exists)(this);\n        this.iHash.update(buf);\n        return this;\n    }\n    digestInto(out) {\n        (0, _assert_js_1.exists)(this);\n        (0, _assert_js_1.bytes)(out, this.outputLen);\n        this.finished = true;\n        this.iHash.digestInto(out);\n        this.oHash.update(out);\n        this.oHash.digestInto(out);\n        this.destroy();\n    }\n    digest() {\n        const out = new Uint8Array(this.oHash.outputLen);\n        this.digestInto(out);\n        return out;\n    }\n    _cloneInto(to) {\n        // Create new instance without calling constructor since key already in state and we don't know it.\n        to || (to = Object.create(Object.getPrototypeOf(this), {}));\n        const { oHash, iHash, finished, destroyed, blockLen, outputLen } = this;\n        to = to;\n        to.finished = finished;\n        to.destroyed = destroyed;\n        to.blockLen = blockLen;\n        to.outputLen = outputLen;\n        to.oHash = oHash._cloneInto(to.oHash);\n        to.iHash = iHash._cloneInto(to.iHash);\n        return to;\n    }\n    destroy() {\n        this.destroyed = true;\n        this.oHash.destroy();\n        this.iHash.destroy();\n    }\n}\nexports.HMAC = HMAC;\n/**\n * HMAC: RFC2104 message authentication code.\n * @param hash - function that would be used e.g. sha256\n * @param key - message key\n * @param message - message data\n */\nconst hmac = (hash, key, message) => new HMAC(hash, key).update(message).digest();\nexports.hmac = hmac;\nexports.hmac.create = (hash, key) => new HMAC(hash, key);\n//# sourceMappingURL=hmac.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.pbkdf2Async = exports.pbkdf2 = void 0;\nconst _assert_js_1 = require(\"./_assert.js\");\nconst hmac_js_1 = require(\"./hmac.js\");\nconst utils_js_1 = require(\"./utils.js\");\n// Common prologue and epilogue for sync/async functions\nfunction pbkdf2Init(hash, _password, _salt, _opts) {\n    (0, _assert_js_1.hash)(hash);\n    const opts = (0, utils_js_1.checkOpts)({ dkLen: 32, asyncTick: 10 }, _opts);\n    const { c, dkLen, asyncTick } = opts;\n    (0, _assert_js_1.number)(c);\n    (0, _assert_js_1.number)(dkLen);\n    (0, _assert_js_1.number)(asyncTick);\n    if (c < 1)\n        throw new Error('PBKDF2: iterations (c) should be >= 1');\n    const password = (0, utils_js_1.toBytes)(_password);\n    const salt = (0, utils_js_1.toBytes)(_salt);\n    // DK = PBKDF2(PRF, Password, Salt, c, dkLen);\n    const DK = new Uint8Array(dkLen);\n    // U1 = PRF(Password, Salt + INT_32_BE(i))\n    const PRF = hmac_js_1.hmac.create(hash, password);\n    const PRFSalt = PRF._cloneInto().update(salt);\n    return { c, dkLen, asyncTick, DK, PRF, PRFSalt };\n}\nfunction pbkdf2Output(PRF, PRFSalt, DK, prfW, u) {\n    PRF.destroy();\n    PRFSalt.destroy();\n    if (prfW)\n        prfW.destroy();\n    u.fill(0);\n    return DK;\n}\n/**\n * PBKDF2-HMAC: RFC 2898 key derivation function\n * @param hash - hash function that would be used e.g. sha256\n * @param password - password from which a derived key is generated\n * @param salt - cryptographic salt\n * @param opts - {c, dkLen} where c is work factor and dkLen is output message size\n */\nfunction pbkdf2(hash, password, salt, opts) {\n    const { c, dkLen, DK, PRF, PRFSalt } = pbkdf2Init(hash, password, salt, opts);\n    let prfW; // Working copy\n    const arr = new Uint8Array(4);\n    const view = (0, utils_js_1.createView)(arr);\n    const u = new Uint8Array(PRF.outputLen);\n    // DK = T1 + T2 +  + Tdklen/hlen\n    for (let ti = 1, pos = 0; pos < dkLen; ti++, pos += PRF.outputLen) {\n        // Ti = F(Password, Salt, c, i)\n        const Ti = DK.subarray(pos, pos + PRF.outputLen);\n        view.setInt32(0, ti, false);\n        // F(Password, Salt, c, i) = U1 ^ U2 ^  ^ Uc\n        // U1 = PRF(Password, Salt + INT_32_BE(i))\n        (prfW = PRFSalt._cloneInto(prfW)).update(arr).digestInto(u);\n        Ti.set(u.subarray(0, Ti.length));\n        for (let ui = 1; ui < c; ui++) {\n            // Uc = PRF(Password, Uc1)\n            PRF._cloneInto(prfW).update(u).digestInto(u);\n            for (let i = 0; i < Ti.length; i++)\n                Ti[i] ^= u[i];\n        }\n    }\n    return pbkdf2Output(PRF, PRFSalt, DK, prfW, u);\n}\nexports.pbkdf2 = pbkdf2;\nasync function pbkdf2Async(hash, password, salt, opts) {\n    const { c, dkLen, asyncTick, DK, PRF, PRFSalt } = pbkdf2Init(hash, password, salt, opts);\n    let prfW; // Working copy\n    const arr = new Uint8Array(4);\n    const view = (0, utils_js_1.createView)(arr);\n    const u = new Uint8Array(PRF.outputLen);\n    // DK = T1 + T2 +  + Tdklen/hlen\n    for (let ti = 1, pos = 0; pos < dkLen; ti++, pos += PRF.outputLen) {\n        // Ti = F(Password, Salt, c, i)\n        const Ti = DK.subarray(pos, pos + PRF.outputLen);\n        view.setInt32(0, ti, false);\n        // F(Password, Salt, c, i) = U1 ^ U2 ^  ^ Uc\n        // U1 = PRF(Password, Salt + INT_32_BE(i))\n        (prfW = PRFSalt._cloneInto(prfW)).update(arr).digestInto(u);\n        Ti.set(u.subarray(0, Ti.length));\n        await (0, utils_js_1.asyncLoop)(c - 1, asyncTick, () => {\n            // Uc = PRF(Password, Uc1)\n            PRF._cloneInto(prfW).update(u).digestInto(u);\n            for (let i = 0; i < Ti.length; i++)\n                Ti[i] ^= u[i];\n        });\n    }\n    return pbkdf2Output(PRF, PRFSalt, DK, prfW, u);\n}\nexports.pbkdf2Async = pbkdf2Async;\n//# sourceMappingURL=pbkdf2.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ripemd160 = exports.RIPEMD160 = void 0;\nconst _sha2_js_1 = require(\"./_sha2.js\");\nconst utils_js_1 = require(\"./utils.js\");\n// https://homes.esat.kuleuven.be/~bosselae/ripemd160.html\n// https://homes.esat.kuleuven.be/~bosselae/ripemd160/pdf/AB-9601/AB-9601.pdf\nconst Rho = /* @__PURE__ */ new Uint8Array([7, 4, 13, 1, 10, 6, 15, 3, 12, 0, 9, 5, 2, 14, 11, 8]);\nconst Id = /* @__PURE__ */ Uint8Array.from({ length: 16 }, (_, i) => i);\nconst Pi = /* @__PURE__ */ Id.map((i) => (9 * i + 5) % 16);\nlet idxL = [Id];\nlet idxR = [Pi];\nfor (let i = 0; i < 4; i++)\n    for (let j of [idxL, idxR])\n        j.push(j[i].map((k) => Rho[k]));\nconst shifts = /* @__PURE__ */ [\n    [11, 14, 15, 12, 5, 8, 7, 9, 11, 13, 14, 15, 6, 7, 9, 8],\n    [12, 13, 11, 15, 6, 9, 9, 7, 12, 15, 11, 13, 7, 8, 7, 7],\n    [13, 15, 14, 11, 7, 7, 6, 8, 13, 14, 13, 12, 5, 5, 6, 9],\n    [14, 11, 12, 14, 8, 6, 5, 5, 15, 12, 15, 14, 9, 9, 8, 6],\n    [15, 12, 13, 13, 9, 5, 8, 6, 14, 11, 12, 11, 8, 6, 5, 5],\n].map((i) => new Uint8Array(i));\nconst shiftsL = /* @__PURE__ */ idxL.map((idx, i) => idx.map((j) => shifts[i][j]));\nconst shiftsR = /* @__PURE__ */ idxR.map((idx, i) => idx.map((j) => shifts[i][j]));\nconst Kl = /* @__PURE__ */ new Uint32Array([\n    0x00000000, 0x5a827999, 0x6ed9eba1, 0x8f1bbcdc, 0xa953fd4e,\n]);\nconst Kr = /* @__PURE__ */ new Uint32Array([\n    0x50a28be6, 0x5c4dd124, 0x6d703ef3, 0x7a6d76e9, 0x00000000,\n]);\n// The rotate left (circular left shift) operation for uint32\nconst rotl = (word, shift) => (word << shift) | (word >>> (32 - shift));\n// It's called f() in spec.\nfunction f(group, x, y, z) {\n    if (group === 0)\n        return x ^ y ^ z;\n    else if (group === 1)\n        return (x & y) | (~x & z);\n    else if (group === 2)\n        return (x | ~y) ^ z;\n    else if (group === 3)\n        return (x & z) | (y & ~z);\n    else\n        return x ^ (y | ~z);\n}\n// Temporary buffer, not used to store anything between runs\nconst BUF = /* @__PURE__ */ new Uint32Array(16);\nclass RIPEMD160 extends _sha2_js_1.SHA2 {\n    constructor() {\n        super(64, 20, 8, true);\n        this.h0 = 0x67452301 | 0;\n        this.h1 = 0xefcdab89 | 0;\n        this.h2 = 0x98badcfe | 0;\n        this.h3 = 0x10325476 | 0;\n        this.h4 = 0xc3d2e1f0 | 0;\n    }\n    get() {\n        const { h0, h1, h2, h3, h4 } = this;\n        return [h0, h1, h2, h3, h4];\n    }\n    set(h0, h1, h2, h3, h4) {\n        this.h0 = h0 | 0;\n        this.h1 = h1 | 0;\n        this.h2 = h2 | 0;\n        this.h3 = h3 | 0;\n        this.h4 = h4 | 0;\n    }\n    process(view, offset) {\n        for (let i = 0; i < 16; i++, offset += 4)\n            BUF[i] = view.getUint32(offset, true);\n        // prettier-ignore\n        let al = this.h0 | 0, ar = al, bl = this.h1 | 0, br = bl, cl = this.h2 | 0, cr = cl, dl = this.h3 | 0, dr = dl, el = this.h4 | 0, er = el;\n        // Instead of iterating 0 to 80, we split it into 5 groups\n        // And use the groups in constants, functions, etc. Much simpler\n        for (let group = 0; group < 5; group++) {\n            const rGroup = 4 - group;\n            const hbl = Kl[group], hbr = Kr[group]; // prettier-ignore\n            const rl = idxL[group], rr = idxR[group]; // prettier-ignore\n            const sl = shiftsL[group], sr = shiftsR[group]; // prettier-ignore\n            for (let i = 0; i < 16; i++) {\n                const tl = (rotl(al + f(group, bl, cl, dl) + BUF[rl[i]] + hbl, sl[i]) + el) | 0;\n                al = el, el = dl, dl = rotl(cl, 10) | 0, cl = bl, bl = tl; // prettier-ignore\n            }\n            // 2 loops are 10% faster\n            for (let i = 0; i < 16; i++) {\n                const tr = (rotl(ar + f(rGroup, br, cr, dr) + BUF[rr[i]] + hbr, sr[i]) + er) | 0;\n                ar = er, er = dr, dr = rotl(cr, 10) | 0, cr = br, br = tr; // prettier-ignore\n            }\n        }\n        // Add the compressed chunk to the current hash value\n        this.set((this.h1 + cl + dr) | 0, (this.h2 + dl + er) | 0, (this.h3 + el + ar) | 0, (this.h4 + al + br) | 0, (this.h0 + bl + cr) | 0);\n    }\n    roundClean() {\n        BUF.fill(0);\n    }\n    destroy() {\n        this.destroyed = true;\n        this.buffer.fill(0);\n        this.set(0, 0, 0, 0, 0);\n    }\n}\nexports.RIPEMD160 = RIPEMD160;\n/**\n * RIPEMD-160 - a hash function from 1990s.\n * @param message - msg that would be hashed\n */\nexports.ripemd160 = (0, utils_js_1.wrapConstructor)(() => new RIPEMD160());\n//# sourceMappingURL=ripemd160.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.sha224 = exports.sha256 = void 0;\nconst _sha2_js_1 = require(\"./_sha2.js\");\nconst utils_js_1 = require(\"./utils.js\");\n// SHA2-256 need to try 2^128 hashes to execute birthday attack.\n// BTC network is doing 2^67 hashes/sec as per early 2023.\n// Choice: a ? b : c\nconst Chi = (a, b, c) => (a & b) ^ (~a & c);\n// Majority function, true if any two inpust is true\nconst Maj = (a, b, c) => (a & b) ^ (a & c) ^ (b & c);\n// Round constants:\n// first 32 bits of the fractional parts of the cube roots of the first 64 primes 2..311)\n// prettier-ignore\nconst SHA256_K = /* @__PURE__ */ new Uint32Array([\n    0x428a2f98, 0x71374491, 0xb5c0fbcf, 0xe9b5dba5, 0x3956c25b, 0x59f111f1, 0x923f82a4, 0xab1c5ed5,\n    0xd807aa98, 0x12835b01, 0x243185be, 0x550c7dc3, 0x72be5d74, 0x80deb1fe, 0x9bdc06a7, 0xc19bf174,\n    0xe49b69c1, 0xefbe4786, 0x0fc19dc6, 0x240ca1cc, 0x2de92c6f, 0x4a7484aa, 0x5cb0a9dc, 0x76f988da,\n    0x983e5152, 0xa831c66d, 0xb00327c8, 0xbf597fc7, 0xc6e00bf3, 0xd5a79147, 0x06ca6351, 0x14292967,\n    0x27b70a85, 0x2e1b2138, 0x4d2c6dfc, 0x53380d13, 0x650a7354, 0x766a0abb, 0x81c2c92e, 0x92722c85,\n    0xa2bfe8a1, 0xa81a664b, 0xc24b8b70, 0xc76c51a3, 0xd192e819, 0xd6990624, 0xf40e3585, 0x106aa070,\n    0x19a4c116, 0x1e376c08, 0x2748774c, 0x34b0bcb5, 0x391c0cb3, 0x4ed8aa4a, 0x5b9cca4f, 0x682e6ff3,\n    0x748f82ee, 0x78a5636f, 0x84c87814, 0x8cc70208, 0x90befffa, 0xa4506ceb, 0xbef9a3f7, 0xc67178f2\n]);\n// Initial state (first 32 bits of the fractional parts of the square roots of the first 8 primes 2..19):\n// prettier-ignore\nconst IV = /* @__PURE__ */ new Uint32Array([\n    0x6a09e667, 0xbb67ae85, 0x3c6ef372, 0xa54ff53a, 0x510e527f, 0x9b05688c, 0x1f83d9ab, 0x5be0cd19\n]);\n// Temporary buffer, not used to store anything between runs\n// Named this way because it matches specification.\nconst SHA256_W = /* @__PURE__ */ new Uint32Array(64);\nclass SHA256 extends _sha2_js_1.SHA2 {\n    constructor() {\n        super(64, 32, 8, false);\n        // We cannot use array here since array allows indexing by variable\n        // which means optimizer/compiler cannot use registers.\n        this.A = IV[0] | 0;\n        this.B = IV[1] | 0;\n        this.C = IV[2] | 0;\n        this.D = IV[3] | 0;\n        this.E = IV[4] | 0;\n        this.F = IV[5] | 0;\n        this.G = IV[6] | 0;\n        this.H = IV[7] | 0;\n    }\n    get() {\n        const { A, B, C, D, E, F, G, H } = this;\n        return [A, B, C, D, E, F, G, H];\n    }\n    // prettier-ignore\n    set(A, B, C, D, E, F, G, H) {\n        this.A = A | 0;\n        this.B = B | 0;\n        this.C = C | 0;\n        this.D = D | 0;\n        this.E = E | 0;\n        this.F = F | 0;\n        this.G = G | 0;\n        this.H = H | 0;\n    }\n    process(view, offset) {\n        // Extend the first 16 words into the remaining 48 words w[16..63] of the message schedule array\n        for (let i = 0; i < 16; i++, offset += 4)\n            SHA256_W[i] = view.getUint32(offset, false);\n        for (let i = 16; i < 64; i++) {\n            const W15 = SHA256_W[i - 15];\n            const W2 = SHA256_W[i - 2];\n            const s0 = (0, utils_js_1.rotr)(W15, 7) ^ (0, utils_js_1.rotr)(W15, 18) ^ (W15 >>> 3);\n            const s1 = (0, utils_js_1.rotr)(W2, 17) ^ (0, utils_js_1.rotr)(W2, 19) ^ (W2 >>> 10);\n            SHA256_W[i] = (s1 + SHA256_W[i - 7] + s0 + SHA256_W[i - 16]) | 0;\n        }\n        // Compression function main loop, 64 rounds\n        let { A, B, C, D, E, F, G, H } = this;\n        for (let i = 0; i < 64; i++) {\n            const sigma1 = (0, utils_js_1.rotr)(E, 6) ^ (0, utils_js_1.rotr)(E, 11) ^ (0, utils_js_1.rotr)(E, 25);\n            const T1 = (H + sigma1 + Chi(E, F, G) + SHA256_K[i] + SHA256_W[i]) | 0;\n            const sigma0 = (0, utils_js_1.rotr)(A, 2) ^ (0, utils_js_1.rotr)(A, 13) ^ (0, utils_js_1.rotr)(A, 22);\n            const T2 = (sigma0 + Maj(A, B, C)) | 0;\n            H = G;\n            G = F;\n            F = E;\n            E = (D + T1) | 0;\n            D = C;\n            C = B;\n            B = A;\n            A = (T1 + T2) | 0;\n        }\n        // Add the compressed chunk to the current hash value\n        A = (A + this.A) | 0;\n        B = (B + this.B) | 0;\n        C = (C + this.C) | 0;\n        D = (D + this.D) | 0;\n        E = (E + this.E) | 0;\n        F = (F + this.F) | 0;\n        G = (G + this.G) | 0;\n        H = (H + this.H) | 0;\n        this.set(A, B, C, D, E, F, G, H);\n    }\n    roundClean() {\n        SHA256_W.fill(0);\n    }\n    destroy() {\n        this.set(0, 0, 0, 0, 0, 0, 0, 0);\n        this.buffer.fill(0);\n    }\n}\n// Constants from https://nvlpubs.nist.gov/nistpubs/FIPS/NIST.FIPS.180-4.pdf\nclass SHA224 extends SHA256 {\n    constructor() {\n        super();\n        this.A = 0xc1059ed8 | 0;\n        this.B = 0x367cd507 | 0;\n        this.C = 0x3070dd17 | 0;\n        this.D = 0xf70e5939 | 0;\n        this.E = 0xffc00b31 | 0;\n        this.F = 0x68581511 | 0;\n        this.G = 0x64f98fa7 | 0;\n        this.H = 0xbefa4fa4 | 0;\n        this.outputLen = 28;\n    }\n}\n/**\n * SHA2-256 hash function\n * @param message - data that would be hashed\n */\nexports.sha256 = (0, utils_js_1.wrapConstructor)(() => new SHA256());\nexports.sha224 = (0, utils_js_1.wrapConstructor)(() => new SHA224());\n//# sourceMappingURL=sha256.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.sha384 = exports.sha512_256 = exports.sha512_224 = exports.sha512 = exports.SHA512 = void 0;\nconst _sha2_js_1 = require(\"./_sha2.js\");\nconst _u64_js_1 = require(\"./_u64.js\");\nconst utils_js_1 = require(\"./utils.js\");\n// Round contants (first 32 bits of the fractional parts of the cube roots of the first 80 primes 2..409):\n// prettier-ignore\nconst [SHA512_Kh, SHA512_Kl] = /* @__PURE__ */ (() => _u64_js_1.default.split([\n    '0x428a2f98d728ae22', '0x7137449123ef65cd', '0xb5c0fbcfec4d3b2f', '0xe9b5dba58189dbbc',\n    '0x3956c25bf348b538', '0x59f111f1b605d019', '0x923f82a4af194f9b', '0xab1c5ed5da6d8118',\n    '0xd807aa98a3030242', '0x12835b0145706fbe', '0x243185be4ee4b28c', '0x550c7dc3d5ffb4e2',\n    '0x72be5d74f27b896f', '0x80deb1fe3b1696b1', '0x9bdc06a725c71235', '0xc19bf174cf692694',\n    '0xe49b69c19ef14ad2', '0xefbe4786384f25e3', '0x0fc19dc68b8cd5b5', '0x240ca1cc77ac9c65',\n    '0x2de92c6f592b0275', '0x4a7484aa6ea6e483', '0x5cb0a9dcbd41fbd4', '0x76f988da831153b5',\n    '0x983e5152ee66dfab', '0xa831c66d2db43210', '0xb00327c898fb213f', '0xbf597fc7beef0ee4',\n    '0xc6e00bf33da88fc2', '0xd5a79147930aa725', '0x06ca6351e003826f', '0x142929670a0e6e70',\n    '0x27b70a8546d22ffc', '0x2e1b21385c26c926', '0x4d2c6dfc5ac42aed', '0x53380d139d95b3df',\n    '0x650a73548baf63de', '0x766a0abb3c77b2a8', '0x81c2c92e47edaee6', '0x92722c851482353b',\n    '0xa2bfe8a14cf10364', '0xa81a664bbc423001', '0xc24b8b70d0f89791', '0xc76c51a30654be30',\n    '0xd192e819d6ef5218', '0xd69906245565a910', '0xf40e35855771202a', '0x106aa07032bbd1b8',\n    '0x19a4c116b8d2d0c8', '0x1e376c085141ab53', '0x2748774cdf8eeb99', '0x34b0bcb5e19b48a8',\n    '0x391c0cb3c5c95a63', '0x4ed8aa4ae3418acb', '0x5b9cca4f7763e373', '0x682e6ff3d6b2b8a3',\n    '0x748f82ee5defb2fc', '0x78a5636f43172f60', '0x84c87814a1f0ab72', '0x8cc702081a6439ec',\n    '0x90befffa23631e28', '0xa4506cebde82bde9', '0xbef9a3f7b2c67915', '0xc67178f2e372532b',\n    '0xca273eceea26619c', '0xd186b8c721c0c207', '0xeada7dd6cde0eb1e', '0xf57d4f7fee6ed178',\n    '0x06f067aa72176fba', '0x0a637dc5a2c898a6', '0x113f9804bef90dae', '0x1b710b35131c471b',\n    '0x28db77f523047d84', '0x32caab7b40c72493', '0x3c9ebe0a15c9bebc', '0x431d67c49c100d4c',\n    '0x4cc5d4becb3e42b6', '0x597f299cfc657e2a', '0x5fcb6fab3ad6faec', '0x6c44198c4a475817'\n].map(n => BigInt(n))))();\n// Temporary buffer, not used to store anything between runs\nconst SHA512_W_H = /* @__PURE__ */ new Uint32Array(80);\nconst SHA512_W_L = /* @__PURE__ */ new Uint32Array(80);\nclass SHA512 extends _sha2_js_1.SHA2 {\n    constructor() {\n        super(128, 64, 16, false);\n        // We cannot use array here since array allows indexing by variable which means optimizer/compiler cannot use registers.\n        // Also looks cleaner and easier to verify with spec.\n        // Initial state (first 32 bits of the fractional parts of the square roots of the first 8 primes 2..19):\n        // h -- high 32 bits, l -- low 32 bits\n        this.Ah = 0x6a09e667 | 0;\n        this.Al = 0xf3bcc908 | 0;\n        this.Bh = 0xbb67ae85 | 0;\n        this.Bl = 0x84caa73b | 0;\n        this.Ch = 0x3c6ef372 | 0;\n        this.Cl = 0xfe94f82b | 0;\n        this.Dh = 0xa54ff53a | 0;\n        this.Dl = 0x5f1d36f1 | 0;\n        this.Eh = 0x510e527f | 0;\n        this.El = 0xade682d1 | 0;\n        this.Fh = 0x9b05688c | 0;\n        this.Fl = 0x2b3e6c1f | 0;\n        this.Gh = 0x1f83d9ab | 0;\n        this.Gl = 0xfb41bd6b | 0;\n        this.Hh = 0x5be0cd19 | 0;\n        this.Hl = 0x137e2179 | 0;\n    }\n    // prettier-ignore\n    get() {\n        const { Ah, Al, Bh, Bl, Ch, Cl, Dh, Dl, Eh, El, Fh, Fl, Gh, Gl, Hh, Hl } = this;\n        return [Ah, Al, Bh, Bl, Ch, Cl, Dh, Dl, Eh, El, Fh, Fl, Gh, Gl, Hh, Hl];\n    }\n    // prettier-ignore\n    set(Ah, Al, Bh, Bl, Ch, Cl, Dh, Dl, Eh, El, Fh, Fl, Gh, Gl, Hh, Hl) {\n        this.Ah = Ah | 0;\n        this.Al = Al | 0;\n        this.Bh = Bh | 0;\n        this.Bl = Bl | 0;\n        this.Ch = Ch | 0;\n        this.Cl = Cl | 0;\n        this.Dh = Dh | 0;\n        this.Dl = Dl | 0;\n        this.Eh = Eh | 0;\n        this.El = El | 0;\n        this.Fh = Fh | 0;\n        this.Fl = Fl | 0;\n        this.Gh = Gh | 0;\n        this.Gl = Gl | 0;\n        this.Hh = Hh | 0;\n        this.Hl = Hl | 0;\n    }\n    process(view, offset) {\n        // Extend the first 16 words into the remaining 64 words w[16..79] of the message schedule array\n        for (let i = 0; i < 16; i++, offset += 4) {\n            SHA512_W_H[i] = view.getUint32(offset);\n            SHA512_W_L[i] = view.getUint32((offset += 4));\n        }\n        for (let i = 16; i < 80; i++) {\n            // s0 := (w[i-15] rightrotate 1) xor (w[i-15] rightrotate 8) xor (w[i-15] rightshift 7)\n            const W15h = SHA512_W_H[i - 15] | 0;\n            const W15l = SHA512_W_L[i - 15] | 0;\n            const s0h = _u64_js_1.default.rotrSH(W15h, W15l, 1) ^ _u64_js_1.default.rotrSH(W15h, W15l, 8) ^ _u64_js_1.default.shrSH(W15h, W15l, 7);\n            const s0l = _u64_js_1.default.rotrSL(W15h, W15l, 1) ^ _u64_js_1.default.rotrSL(W15h, W15l, 8) ^ _u64_js_1.default.shrSL(W15h, W15l, 7);\n            // s1 := (w[i-2] rightrotate 19) xor (w[i-2] rightrotate 61) xor (w[i-2] rightshift 6)\n            const W2h = SHA512_W_H[i - 2] | 0;\n            const W2l = SHA512_W_L[i - 2] | 0;\n            const s1h = _u64_js_1.default.rotrSH(W2h, W2l, 19) ^ _u64_js_1.default.rotrBH(W2h, W2l, 61) ^ _u64_js_1.default.shrSH(W2h, W2l, 6);\n            const s1l = _u64_js_1.default.rotrSL(W2h, W2l, 19) ^ _u64_js_1.default.rotrBL(W2h, W2l, 61) ^ _u64_js_1.default.shrSL(W2h, W2l, 6);\n            // SHA256_W[i] = s0 + s1 + SHA256_W[i - 7] + SHA256_W[i - 16];\n            const SUMl = _u64_js_1.default.add4L(s0l, s1l, SHA512_W_L[i - 7], SHA512_W_L[i - 16]);\n            const SUMh = _u64_js_1.default.add4H(SUMl, s0h, s1h, SHA512_W_H[i - 7], SHA512_W_H[i - 16]);\n            SHA512_W_H[i] = SUMh | 0;\n            SHA512_W_L[i] = SUMl | 0;\n        }\n        let { Ah, Al, Bh, Bl, Ch, Cl, Dh, Dl, Eh, El, Fh, Fl, Gh, Gl, Hh, Hl } = this;\n        // Compression function main loop, 80 rounds\n        for (let i = 0; i < 80; i++) {\n            // S1 := (e rightrotate 14) xor (e rightrotate 18) xor (e rightrotate 41)\n            const sigma1h = _u64_js_1.default.rotrSH(Eh, El, 14) ^ _u64_js_1.default.rotrSH(Eh, El, 18) ^ _u64_js_1.default.rotrBH(Eh, El, 41);\n            const sigma1l = _u64_js_1.default.rotrSL(Eh, El, 14) ^ _u64_js_1.default.rotrSL(Eh, El, 18) ^ _u64_js_1.default.rotrBL(Eh, El, 41);\n            //const T1 = (H + sigma1 + Chi(E, F, G) + SHA256_K[i] + SHA256_W[i]) | 0;\n            const CHIh = (Eh & Fh) ^ (~Eh & Gh);\n            const CHIl = (El & Fl) ^ (~El & Gl);\n            // T1 = H + sigma1 + Chi(E, F, G) + SHA512_K[i] + SHA512_W[i]\n            // prettier-ignore\n            const T1ll = _u64_js_1.default.add5L(Hl, sigma1l, CHIl, SHA512_Kl[i], SHA512_W_L[i]);\n            const T1h = _u64_js_1.default.add5H(T1ll, Hh, sigma1h, CHIh, SHA512_Kh[i], SHA512_W_H[i]);\n            const T1l = T1ll | 0;\n            // S0 := (a rightrotate 28) xor (a rightrotate 34) xor (a rightrotate 39)\n            const sigma0h = _u64_js_1.default.rotrSH(Ah, Al, 28) ^ _u64_js_1.default.rotrBH(Ah, Al, 34) ^ _u64_js_1.default.rotrBH(Ah, Al, 39);\n            const sigma0l = _u64_js_1.default.rotrSL(Ah, Al, 28) ^ _u64_js_1.default.rotrBL(Ah, Al, 34) ^ _u64_js_1.default.rotrBL(Ah, Al, 39);\n            const MAJh = (Ah & Bh) ^ (Ah & Ch) ^ (Bh & Ch);\n            const MAJl = (Al & Bl) ^ (Al & Cl) ^ (Bl & Cl);\n            Hh = Gh | 0;\n            Hl = Gl | 0;\n            Gh = Fh | 0;\n            Gl = Fl | 0;\n            Fh = Eh | 0;\n            Fl = El | 0;\n            ({ h: Eh, l: El } = _u64_js_1.default.add(Dh | 0, Dl | 0, T1h | 0, T1l | 0));\n            Dh = Ch | 0;\n            Dl = Cl | 0;\n            Ch = Bh | 0;\n            Cl = Bl | 0;\n            Bh = Ah | 0;\n            Bl = Al | 0;\n            const All = _u64_js_1.default.add3L(T1l, sigma0l, MAJl);\n            Ah = _u64_js_1.default.add3H(All, T1h, sigma0h, MAJh);\n            Al = All | 0;\n        }\n        // Add the compressed chunk to the current hash value\n        ({ h: Ah, l: Al } = _u64_js_1.default.add(this.Ah | 0, this.Al | 0, Ah | 0, Al | 0));\n        ({ h: Bh, l: Bl } = _u64_js_1.default.add(this.Bh | 0, this.Bl | 0, Bh | 0, Bl | 0));\n        ({ h: Ch, l: Cl } = _u64_js_1.default.add(this.Ch | 0, this.Cl | 0, Ch | 0, Cl | 0));\n        ({ h: Dh, l: Dl } = _u64_js_1.default.add(this.Dh | 0, this.Dl | 0, Dh | 0, Dl | 0));\n        ({ h: Eh, l: El } = _u64_js_1.default.add(this.Eh | 0, this.El | 0, Eh | 0, El | 0));\n        ({ h: Fh, l: Fl } = _u64_js_1.default.add(this.Fh | 0, this.Fl | 0, Fh | 0, Fl | 0));\n        ({ h: Gh, l: Gl } = _u64_js_1.default.add(this.Gh | 0, this.Gl | 0, Gh | 0, Gl | 0));\n        ({ h: Hh, l: Hl } = _u64_js_1.default.add(this.Hh | 0, this.Hl | 0, Hh | 0, Hl | 0));\n        this.set(Ah, Al, Bh, Bl, Ch, Cl, Dh, Dl, Eh, El, Fh, Fl, Gh, Gl, Hh, Hl);\n    }\n    roundClean() {\n        SHA512_W_H.fill(0);\n        SHA512_W_L.fill(0);\n    }\n    destroy() {\n        this.buffer.fill(0);\n        this.set(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0);\n    }\n}\nexports.SHA512 = SHA512;\nclass SHA512_224 extends SHA512 {\n    constructor() {\n        super();\n        // h -- high 32 bits, l -- low 32 bits\n        this.Ah = 0x8c3d37c8 | 0;\n        this.Al = 0x19544da2 | 0;\n        this.Bh = 0x73e19966 | 0;\n        this.Bl = 0x89dcd4d6 | 0;\n        this.Ch = 0x1dfab7ae | 0;\n        this.Cl = 0x32ff9c82 | 0;\n        this.Dh = 0x679dd514 | 0;\n        this.Dl = 0x582f9fcf | 0;\n        this.Eh = 0x0f6d2b69 | 0;\n        this.El = 0x7bd44da8 | 0;\n        this.Fh = 0x77e36f73 | 0;\n        this.Fl = 0x04c48942 | 0;\n        this.Gh = 0x3f9d85a8 | 0;\n        this.Gl = 0x6a1d36c8 | 0;\n        this.Hh = 0x1112e6ad | 0;\n        this.Hl = 0x91d692a1 | 0;\n        this.outputLen = 28;\n    }\n}\nclass SHA512_256 extends SHA512 {\n    constructor() {\n        super();\n        // h -- high 32 bits, l -- low 32 bits\n        this.Ah = 0x22312194 | 0;\n        this.Al = 0xfc2bf72c | 0;\n        this.Bh = 0x9f555fa3 | 0;\n        this.Bl = 0xc84c64c2 | 0;\n        this.Ch = 0x2393b86b | 0;\n        this.Cl = 0x6f53b151 | 0;\n        this.Dh = 0x96387719 | 0;\n        this.Dl = 0x5940eabd | 0;\n        this.Eh = 0x96283ee2 | 0;\n        this.El = 0xa88effe3 | 0;\n        this.Fh = 0xbe5e1e25 | 0;\n        this.Fl = 0x53863992 | 0;\n        this.Gh = 0x2b0199fc | 0;\n        this.Gl = 0x2c85b8aa | 0;\n        this.Hh = 0x0eb72ddc | 0;\n        this.Hl = 0x81c52ca2 | 0;\n        this.outputLen = 32;\n    }\n}\nclass SHA384 extends SHA512 {\n    constructor() {\n        super();\n        // h -- high 32 bits, l -- low 32 bits\n        this.Ah = 0xcbbb9d5d | 0;\n        this.Al = 0xc1059ed8 | 0;\n        this.Bh = 0x629a292a | 0;\n        this.Bl = 0x367cd507 | 0;\n        this.Ch = 0x9159015a | 0;\n        this.Cl = 0x3070dd17 | 0;\n        this.Dh = 0x152fecd8 | 0;\n        this.Dl = 0xf70e5939 | 0;\n        this.Eh = 0x67332667 | 0;\n        this.El = 0xffc00b31 | 0;\n        this.Fh = 0x8eb44a87 | 0;\n        this.Fl = 0x68581511 | 0;\n        this.Gh = 0xdb0c2e0d | 0;\n        this.Gl = 0x64f98fa7 | 0;\n        this.Hh = 0x47b5481d | 0;\n        this.Hl = 0xbefa4fa4 | 0;\n        this.outputLen = 48;\n    }\n}\nexports.sha512 = (0, utils_js_1.wrapConstructor)(() => new SHA512());\nexports.sha512_224 = (0, utils_js_1.wrapConstructor)(() => new SHA512_224());\nexports.sha512_256 = (0, utils_js_1.wrapConstructor)(() => new SHA512_256());\nexports.sha384 = (0, utils_js_1.wrapConstructor)(() => new SHA384());\n//# sourceMappingURL=sha512.js.map","\"use strict\";\n/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.randomBytes = exports.wrapXOFConstructorWithOpts = exports.wrapConstructorWithOpts = exports.wrapConstructor = exports.checkOpts = exports.Hash = exports.concatBytes = exports.toBytes = exports.utf8ToBytes = exports.asyncLoop = exports.nextTick = exports.hexToBytes = exports.bytesToHex = exports.isLE = exports.rotr = exports.createView = exports.u32 = exports.u8 = void 0;\n// We use WebCrypto aka globalThis.crypto, which exists in browsers and node.js 16+.\n// node.js versions earlier than v19 don't declare it in global scope.\n// For node.js, package.json#exports field mapping rewrites import\n// from `crypto` to `cryptoNode`, which imports native module.\n// Makes the utils un-importable in browsers without a bundler.\n// Once node.js 18 is deprecated (2025-04-30), we can just drop the import.\nconst crypto_1 = require(\"@noble/hashes/crypto\");\n// Cast array to different type\nconst u8 = (arr) => new Uint8Array(arr.buffer, arr.byteOffset, arr.byteLength);\nexports.u8 = u8;\nconst u32 = (arr) => new Uint32Array(arr.buffer, arr.byteOffset, Math.floor(arr.byteLength / 4));\nexports.u32 = u32;\nfunction isBytes(a) {\n    return (a instanceof Uint8Array ||\n        (a != null && typeof a === 'object' && a.constructor.name === 'Uint8Array'));\n}\n// Cast array to view\nconst createView = (arr) => new DataView(arr.buffer, arr.byteOffset, arr.byteLength);\nexports.createView = createView;\n// The rotate right (circular right shift) operation for uint32\nconst rotr = (word, shift) => (word << (32 - shift)) | (word >>> shift);\nexports.rotr = rotr;\n// big-endian hardware is rare. Just in case someone still decides to run hashes:\n// early-throw an error because we don't support BE yet.\n// Other libraries would silently corrupt the data instead of throwing an error,\n// when they don't support it.\nexports.isLE = new Uint8Array(new Uint32Array([0x11223344]).buffer)[0] === 0x44;\nif (!exports.isLE)\n    throw new Error('Non little-endian hardware is not supported');\n// Array where index 0xf0 (240) is mapped to string 'f0'\nconst hexes = /* @__PURE__ */ Array.from({ length: 256 }, (_, i) => i.toString(16).padStart(2, '0'));\n/**\n * @example bytesToHex(Uint8Array.from([0xca, 0xfe, 0x01, 0x23])) // 'cafe0123'\n */\nfunction bytesToHex(bytes) {\n    if (!isBytes(bytes))\n        throw new Error('Uint8Array expected');\n    // pre-caching improves the speed 6x\n    let hex = '';\n    for (let i = 0; i < bytes.length; i++) {\n        hex += hexes[bytes[i]];\n    }\n    return hex;\n}\nexports.bytesToHex = bytesToHex;\n// We use optimized technique to convert hex string to byte array\nconst asciis = { _0: 48, _9: 57, _A: 65, _F: 70, _a: 97, _f: 102 };\nfunction asciiToBase16(char) {\n    if (char >= asciis._0 && char <= asciis._9)\n        return char - asciis._0;\n    if (char >= asciis._A && char <= asciis._F)\n        return char - (asciis._A - 10);\n    if (char >= asciis._a && char <= asciis._f)\n        return char - (asciis._a - 10);\n    return;\n}\n/**\n * @example hexToBytes('cafe0123') // Uint8Array.from([0xca, 0xfe, 0x01, 0x23])\n */\nfunction hexToBytes(hex) {\n    if (typeof hex !== 'string')\n        throw new Error('hex string expected, got ' + typeof hex);\n    const hl = hex.length;\n    const al = hl / 2;\n    if (hl % 2)\n        throw new Error('padded hex string expected, got unpadded hex of length ' + hl);\n    const array = new Uint8Array(al);\n    for (let ai = 0, hi = 0; ai < al; ai++, hi += 2) {\n        const n1 = asciiToBase16(hex.charCodeAt(hi));\n        const n2 = asciiToBase16(hex.charCodeAt(hi + 1));\n        if (n1 === undefined || n2 === undefined) {\n            const char = hex[hi] + hex[hi + 1];\n            throw new Error('hex string expected, got non-hex character \"' + char + '\" at index ' + hi);\n        }\n        array[ai] = n1 * 16 + n2;\n    }\n    return array;\n}\nexports.hexToBytes = hexToBytes;\n// There is no setImmediate in browser and setTimeout is slow.\n// call of async fn will return Promise, which will be fullfiled only on\n// next scheduler queue processing step and this is exactly what we need.\nconst nextTick = async () => { };\nexports.nextTick = nextTick;\n// Returns control to thread each 'tick' ms to avoid blocking\nasync function asyncLoop(iters, tick, cb) {\n    let ts = Date.now();\n    for (let i = 0; i < iters; i++) {\n        cb(i);\n        // Date.now() is not monotonic, so in case if clock goes backwards we return return control too\n        const diff = Date.now() - ts;\n        if (diff >= 0 && diff < tick)\n            continue;\n        await (0, exports.nextTick)();\n        ts += diff;\n    }\n}\nexports.asyncLoop = asyncLoop;\n/**\n * @example utf8ToBytes('abc') // new Uint8Array([97, 98, 99])\n */\nfunction utf8ToBytes(str) {\n    if (typeof str !== 'string')\n        throw new Error(`utf8ToBytes expected string, got ${typeof str}`);\n    return new Uint8Array(new TextEncoder().encode(str)); // https://bugzil.la/1681809\n}\nexports.utf8ToBytes = utf8ToBytes;\n/**\n * Normalizes (non-hex) string or Uint8Array to Uint8Array.\n * Warning: when Uint8Array is passed, it would NOT get copied.\n * Keep in mind for future mutable operations.\n */\nfunction toBytes(data) {\n    if (typeof data === 'string')\n        data = utf8ToBytes(data);\n    if (!isBytes(data))\n        throw new Error(`expected Uint8Array, got ${typeof data}`);\n    return data;\n}\nexports.toBytes = toBytes;\n/**\n * Copies several Uint8Arrays into one.\n */\nfunction concatBytes(...arrays) {\n    let sum = 0;\n    for (let i = 0; i < arrays.length; i++) {\n        const a = arrays[i];\n        if (!isBytes(a))\n            throw new Error('Uint8Array expected');\n        sum += a.length;\n    }\n    const res = new Uint8Array(sum);\n    for (let i = 0, pad = 0; i < arrays.length; i++) {\n        const a = arrays[i];\n        res.set(a, pad);\n        pad += a.length;\n    }\n    return res;\n}\nexports.concatBytes = concatBytes;\n// For runtime check if class implements interface\nclass Hash {\n    // Safe version that clones internal state\n    clone() {\n        return this._cloneInto();\n    }\n}\nexports.Hash = Hash;\nconst toStr = {}.toString;\nfunction checkOpts(defaults, opts) {\n    if (opts !== undefined && toStr.call(opts) !== '[object Object]')\n        throw new Error('Options should be object or undefined');\n    const merged = Object.assign(defaults, opts);\n    return merged;\n}\nexports.checkOpts = checkOpts;\nfunction wrapConstructor(hashCons) {\n    const hashC = (msg) => hashCons().update(toBytes(msg)).digest();\n    const tmp = hashCons();\n    hashC.outputLen = tmp.outputLen;\n    hashC.blockLen = tmp.blockLen;\n    hashC.create = () => hashCons();\n    return hashC;\n}\nexports.wrapConstructor = wrapConstructor;\nfunction wrapConstructorWithOpts(hashCons) {\n    const hashC = (msg, opts) => hashCons(opts).update(toBytes(msg)).digest();\n    const tmp = hashCons({});\n    hashC.outputLen = tmp.outputLen;\n    hashC.blockLen = tmp.blockLen;\n    hashC.create = (opts) => hashCons(opts);\n    return hashC;\n}\nexports.wrapConstructorWithOpts = wrapConstructorWithOpts;\nfunction wrapXOFConstructorWithOpts(hashCons) {\n    const hashC = (msg, opts) => hashCons(opts).update(toBytes(msg)).digest();\n    const tmp = hashCons({});\n    hashC.outputLen = tmp.outputLen;\n    hashC.blockLen = tmp.blockLen;\n    hashC.create = (opts) => hashCons(opts);\n    return hashC;\n}\nexports.wrapXOFConstructorWithOpts = wrapXOFConstructorWithOpts;\n/**\n * Secure PRNG. Uses `crypto.getRandomValues`, which defers to OS.\n */\nfunction randomBytes(bytesLength = 32) {\n    if (crypto_1.crypto && typeof crypto_1.crypto.getRandomValues === 'function') {\n        return crypto_1.crypto.getRandomValues(new Uint8Array(bytesLength));\n    }\n    throw new Error('crypto.getRandomValues must be defined');\n}\nexports.randomBytes = randomBytes;\n//# sourceMappingURL=utils.js.map","\"use strict\";\n/*! noble-secp256k1 - MIT License (c) 2019 Paul Miller (paulmillr.com) */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.utils = exports.schnorr = exports.verify = exports.signSync = exports.sign = exports.getSharedSecret = exports.recoverPublicKey = exports.getPublicKey = exports.Signature = exports.Point = exports.CURVE = void 0;\nconst nodeCrypto = require(\"crypto\");\nconst _0n = BigInt(0);\nconst _1n = BigInt(1);\nconst _2n = BigInt(2);\nconst _3n = BigInt(3);\nconst _8n = BigInt(8);\nconst CURVE = Object.freeze({\n    a: _0n,\n    b: BigInt(7),\n    P: BigInt('0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f'),\n    n: BigInt('0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141'),\n    h: _1n,\n    Gx: BigInt('55066263022277343669578718895168534326250603453777594175500187360389116729240'),\n    Gy: BigInt('32670510020758816978083085130507043184471273380659243275938904335757337482424'),\n    beta: BigInt('0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee'),\n});\nexports.CURVE = CURVE;\nconst divNearest = (a, b) => (a + b / _2n) / b;\nconst endo = {\n    beta: BigInt('0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee'),\n    splitScalar(k) {\n        const { n } = CURVE;\n        const a1 = BigInt('0x3086d221a7d46bcde86c90e49284eb15');\n        const b1 = -_1n * BigInt('0xe4437ed6010e88286f547fa90abfe4c3');\n        const a2 = BigInt('0x114ca50f7a8e2f3f657c1108d9d44cfd8');\n        const b2 = a1;\n        const POW_2_128 = BigInt('0x100000000000000000000000000000000');\n        const c1 = divNearest(b2 * k, n);\n        const c2 = divNearest(-b1 * k, n);\n        let k1 = mod(k - c1 * a1 - c2 * a2, n);\n        let k2 = mod(-c1 * b1 - c2 * b2, n);\n        const k1neg = k1 > POW_2_128;\n        const k2neg = k2 > POW_2_128;\n        if (k1neg)\n            k1 = n - k1;\n        if (k2neg)\n            k2 = n - k2;\n        if (k1 > POW_2_128 || k2 > POW_2_128) {\n            throw new Error('splitScalarEndo: Endomorphism failed, k=' + k);\n        }\n        return { k1neg, k1, k2neg, k2 };\n    },\n};\nconst fieldLen = 32;\nconst groupLen = 32;\nconst hashLen = 32;\nconst compressedLen = fieldLen + 1;\nconst uncompressedLen = 2 * fieldLen + 1;\nfunction weierstrass(x) {\n    const { a, b } = CURVE;\n    const x2 = mod(x * x);\n    const x3 = mod(x2 * x);\n    return mod(x3 + a * x + b);\n}\nconst USE_ENDOMORPHISM = CURVE.a === _0n;\nclass ShaError extends Error {\n    constructor(message) {\n        super(message);\n    }\n}\nfunction assertJacPoint(other) {\n    if (!(other instanceof JacobianPoint))\n        throw new TypeError('JacobianPoint expected');\n}\nclass JacobianPoint {\n    constructor(x, y, z) {\n        this.x = x;\n        this.y = y;\n        this.z = z;\n    }\n    static fromAffine(p) {\n        if (!(p instanceof Point)) {\n            throw new TypeError('JacobianPoint#fromAffine: expected Point');\n        }\n        if (p.equals(Point.ZERO))\n            return JacobianPoint.ZERO;\n        return new JacobianPoint(p.x, p.y, _1n);\n    }\n    static toAffineBatch(points) {\n        const toInv = invertBatch(points.map((p) => p.z));\n        return points.map((p, i) => p.toAffine(toInv[i]));\n    }\n    static normalizeZ(points) {\n        return JacobianPoint.toAffineBatch(points).map(JacobianPoint.fromAffine);\n    }\n    equals(other) {\n        assertJacPoint(other);\n        const { x: X1, y: Y1, z: Z1 } = this;\n        const { x: X2, y: Y2, z: Z2 } = other;\n        const Z1Z1 = mod(Z1 * Z1);\n        const Z2Z2 = mod(Z2 * Z2);\n        const U1 = mod(X1 * Z2Z2);\n        const U2 = mod(X2 * Z1Z1);\n        const S1 = mod(mod(Y1 * Z2) * Z2Z2);\n        const S2 = mod(mod(Y2 * Z1) * Z1Z1);\n        return U1 === U2 && S1 === S2;\n    }\n    negate() {\n        return new JacobianPoint(this.x, mod(-this.y), this.z);\n    }\n    double() {\n        const { x: X1, y: Y1, z: Z1 } = this;\n        const A = mod(X1 * X1);\n        const B = mod(Y1 * Y1);\n        const C = mod(B * B);\n        const x1b = X1 + B;\n        const D = mod(_2n * (mod(x1b * x1b) - A - C));\n        const E = mod(_3n * A);\n        const F = mod(E * E);\n        const X3 = mod(F - _2n * D);\n        const Y3 = mod(E * (D - X3) - _8n * C);\n        const Z3 = mod(_2n * Y1 * Z1);\n        return new JacobianPoint(X3, Y3, Z3);\n    }\n    add(other) {\n        assertJacPoint(other);\n        const { x: X1, y: Y1, z: Z1 } = this;\n        const { x: X2, y: Y2, z: Z2 } = other;\n        if (X2 === _0n || Y2 === _0n)\n            return this;\n        if (X1 === _0n || Y1 === _0n)\n            return other;\n        const Z1Z1 = mod(Z1 * Z1);\n        const Z2Z2 = mod(Z2 * Z2);\n        const U1 = mod(X1 * Z2Z2);\n        const U2 = mod(X2 * Z1Z1);\n        const S1 = mod(mod(Y1 * Z2) * Z2Z2);\n        const S2 = mod(mod(Y2 * Z1) * Z1Z1);\n        const H = mod(U2 - U1);\n        const r = mod(S2 - S1);\n        if (H === _0n) {\n            if (r === _0n) {\n                return this.double();\n            }\n            else {\n                return JacobianPoint.ZERO;\n            }\n        }\n        const HH = mod(H * H);\n        const HHH = mod(H * HH);\n        const V = mod(U1 * HH);\n        const X3 = mod(r * r - HHH - _2n * V);\n        const Y3 = mod(r * (V - X3) - S1 * HHH);\n        const Z3 = mod(Z1 * Z2 * H);\n        return new JacobianPoint(X3, Y3, Z3);\n    }\n    subtract(other) {\n        return this.add(other.negate());\n    }\n    multiplyUnsafe(scalar) {\n        const P0 = JacobianPoint.ZERO;\n        if (typeof scalar === 'bigint' && scalar === _0n)\n            return P0;\n        let n = normalizeScalar(scalar);\n        if (n === _1n)\n            return this;\n        if (!USE_ENDOMORPHISM) {\n            let p = P0;\n            let d = this;\n            while (n > _0n) {\n                if (n & _1n)\n                    p = p.add(d);\n                d = d.double();\n                n >>= _1n;\n            }\n            return p;\n        }\n        let { k1neg, k1, k2neg, k2 } = endo.splitScalar(n);\n        let k1p = P0;\n        let k2p = P0;\n        let d = this;\n        while (k1 > _0n || k2 > _0n) {\n            if (k1 & _1n)\n                k1p = k1p.add(d);\n            if (k2 & _1n)\n                k2p = k2p.add(d);\n            d = d.double();\n            k1 >>= _1n;\n            k2 >>= _1n;\n        }\n        if (k1neg)\n            k1p = k1p.negate();\n        if (k2neg)\n            k2p = k2p.negate();\n        k2p = new JacobianPoint(mod(k2p.x * endo.beta), k2p.y, k2p.z);\n        return k1p.add(k2p);\n    }\n    precomputeWindow(W) {\n        const windows = USE_ENDOMORPHISM ? 128 / W + 1 : 256 / W + 1;\n        const points = [];\n        let p = this;\n        let base = p;\n        for (let window = 0; window < windows; window++) {\n            base = p;\n            points.push(base);\n            for (let i = 1; i < 2 ** (W - 1); i++) {\n                base = base.add(p);\n                points.push(base);\n            }\n            p = base.double();\n        }\n        return points;\n    }\n    wNAF(n, affinePoint) {\n        if (!affinePoint && this.equals(JacobianPoint.BASE))\n            affinePoint = Point.BASE;\n        const W = (affinePoint && affinePoint._WINDOW_SIZE) || 1;\n        if (256 % W) {\n            throw new Error('Point#wNAF: Invalid precomputation window, must be power of 2');\n        }\n        let precomputes = affinePoint && pointPrecomputes.get(affinePoint);\n        if (!precomputes) {\n            precomputes = this.precomputeWindow(W);\n            if (affinePoint && W !== 1) {\n                precomputes = JacobianPoint.normalizeZ(precomputes);\n                pointPrecomputes.set(affinePoint, precomputes);\n            }\n        }\n        let p = JacobianPoint.ZERO;\n        let f = JacobianPoint.BASE;\n        const windows = 1 + (USE_ENDOMORPHISM ? 128 / W : 256 / W);\n        const windowSize = 2 ** (W - 1);\n        const mask = BigInt(2 ** W - 1);\n        const maxNumber = 2 ** W;\n        const shiftBy = BigInt(W);\n        for (let window = 0; window < windows; window++) {\n            const offset = window * windowSize;\n            let wbits = Number(n & mask);\n            n >>= shiftBy;\n            if (wbits > windowSize) {\n                wbits -= maxNumber;\n                n += _1n;\n            }\n            const offset1 = offset;\n            const offset2 = offset + Math.abs(wbits) - 1;\n            const cond1 = window % 2 !== 0;\n            const cond2 = wbits < 0;\n            if (wbits === 0) {\n                f = f.add(constTimeNegate(cond1, precomputes[offset1]));\n            }\n            else {\n                p = p.add(constTimeNegate(cond2, precomputes[offset2]));\n            }\n        }\n        return { p, f };\n    }\n    multiply(scalar, affinePoint) {\n        let n = normalizeScalar(scalar);\n        let point;\n        let fake;\n        if (USE_ENDOMORPHISM) {\n            const { k1neg, k1, k2neg, k2 } = endo.splitScalar(n);\n            let { p: k1p, f: f1p } = this.wNAF(k1, affinePoint);\n            let { p: k2p, f: f2p } = this.wNAF(k2, affinePoint);\n            k1p = constTimeNegate(k1neg, k1p);\n            k2p = constTimeNegate(k2neg, k2p);\n            k2p = new JacobianPoint(mod(k2p.x * endo.beta), k2p.y, k2p.z);\n            point = k1p.add(k2p);\n            fake = f1p.add(f2p);\n        }\n        else {\n            const { p, f } = this.wNAF(n, affinePoint);\n            point = p;\n            fake = f;\n        }\n        return JacobianPoint.normalizeZ([point, fake])[0];\n    }\n    toAffine(invZ) {\n        const { x, y, z } = this;\n        const is0 = this.equals(JacobianPoint.ZERO);\n        if (invZ == null)\n            invZ = is0 ? _8n : invert(z);\n        const iz1 = invZ;\n        const iz2 = mod(iz1 * iz1);\n        const iz3 = mod(iz2 * iz1);\n        const ax = mod(x * iz2);\n        const ay = mod(y * iz3);\n        const zz = mod(z * iz1);\n        if (is0)\n            return Point.ZERO;\n        if (zz !== _1n)\n            throw new Error('invZ was invalid');\n        return new Point(ax, ay);\n    }\n}\nJacobianPoint.BASE = new JacobianPoint(CURVE.Gx, CURVE.Gy, _1n);\nJacobianPoint.ZERO = new JacobianPoint(_0n, _1n, _0n);\nfunction constTimeNegate(condition, item) {\n    const neg = item.negate();\n    return condition ? neg : item;\n}\nconst pointPrecomputes = new WeakMap();\nclass Point {\n    constructor(x, y) {\n        this.x = x;\n        this.y = y;\n    }\n    _setWindowSize(windowSize) {\n        this._WINDOW_SIZE = windowSize;\n        pointPrecomputes.delete(this);\n    }\n    hasEvenY() {\n        return this.y % _2n === _0n;\n    }\n    static fromCompressedHex(bytes) {\n        const isShort = bytes.length === 32;\n        const x = bytesToNumber(isShort ? bytes : bytes.subarray(1));\n        if (!isValidFieldElement(x))\n            throw new Error('Point is not on curve');\n        const y2 = weierstrass(x);\n        let y = sqrtMod(y2);\n        const isYOdd = (y & _1n) === _1n;\n        if (isShort) {\n            if (isYOdd)\n                y = mod(-y);\n        }\n        else {\n            const isFirstByteOdd = (bytes[0] & 1) === 1;\n            if (isFirstByteOdd !== isYOdd)\n                y = mod(-y);\n        }\n        const point = new Point(x, y);\n        point.assertValidity();\n        return point;\n    }\n    static fromUncompressedHex(bytes) {\n        const x = bytesToNumber(bytes.subarray(1, fieldLen + 1));\n        const y = bytesToNumber(bytes.subarray(fieldLen + 1, fieldLen * 2 + 1));\n        const point = new Point(x, y);\n        point.assertValidity();\n        return point;\n    }\n    static fromHex(hex) {\n        const bytes = ensureBytes(hex);\n        const len = bytes.length;\n        const header = bytes[0];\n        if (len === fieldLen)\n            return this.fromCompressedHex(bytes);\n        if (len === compressedLen && (header === 0x02 || header === 0x03)) {\n            return this.fromCompressedHex(bytes);\n        }\n        if (len === uncompressedLen && header === 0x04)\n            return this.fromUncompressedHex(bytes);\n        throw new Error(`Point.fromHex: received invalid point. Expected 32-${compressedLen} compressed bytes or ${uncompressedLen} uncompressed bytes, not ${len}`);\n    }\n    static fromPrivateKey(privateKey) {\n        return Point.BASE.multiply(normalizePrivateKey(privateKey));\n    }\n    static fromSignature(msgHash, signature, recovery) {\n        const { r, s } = normalizeSignature(signature);\n        if (![0, 1, 2, 3].includes(recovery))\n            throw new Error('Cannot recover: invalid recovery bit');\n        const h = truncateHash(ensureBytes(msgHash));\n        const { n } = CURVE;\n        const radj = recovery === 2 || recovery === 3 ? r + n : r;\n        const rinv = invert(radj, n);\n        const u1 = mod(-h * rinv, n);\n        const u2 = mod(s * rinv, n);\n        const prefix = recovery & 1 ? '03' : '02';\n        const R = Point.fromHex(prefix + numTo32bStr(radj));\n        const Q = Point.BASE.multiplyAndAddUnsafe(R, u1, u2);\n        if (!Q)\n            throw new Error('Cannot recover signature: point at infinify');\n        Q.assertValidity();\n        return Q;\n    }\n    toRawBytes(isCompressed = false) {\n        return hexToBytes(this.toHex(isCompressed));\n    }\n    toHex(isCompressed = false) {\n        const x = numTo32bStr(this.x);\n        if (isCompressed) {\n            const prefix = this.hasEvenY() ? '02' : '03';\n            return `${prefix}${x}`;\n        }\n        else {\n            return `04${x}${numTo32bStr(this.y)}`;\n        }\n    }\n    toHexX() {\n        return this.toHex(true).slice(2);\n    }\n    toRawX() {\n        return this.toRawBytes(true).slice(1);\n    }\n    assertValidity() {\n        const msg = 'Point is not on elliptic curve';\n        const { x, y } = this;\n        if (!isValidFieldElement(x) || !isValidFieldElement(y))\n            throw new Error(msg);\n        const left = mod(y * y);\n        const right = weierstrass(x);\n        if (mod(left - right) !== _0n)\n            throw new Error(msg);\n    }\n    equals(other) {\n        return this.x === other.x && this.y === other.y;\n    }\n    negate() {\n        return new Point(this.x, mod(-this.y));\n    }\n    double() {\n        return JacobianPoint.fromAffine(this).double().toAffine();\n    }\n    add(other) {\n        return JacobianPoint.fromAffine(this).add(JacobianPoint.fromAffine(other)).toAffine();\n    }\n    subtract(other) {\n        return this.add(other.negate());\n    }\n    multiply(scalar) {\n        return JacobianPoint.fromAffine(this).multiply(scalar, this).toAffine();\n    }\n    multiplyAndAddUnsafe(Q, a, b) {\n        const P = JacobianPoint.fromAffine(this);\n        const aP = a === _0n || a === _1n || this !== Point.BASE ? P.multiplyUnsafe(a) : P.multiply(a);\n        const bQ = JacobianPoint.fromAffine(Q).multiplyUnsafe(b);\n        const sum = aP.add(bQ);\n        return sum.equals(JacobianPoint.ZERO) ? undefined : sum.toAffine();\n    }\n}\nexports.Point = Point;\nPoint.BASE = new Point(CURVE.Gx, CURVE.Gy);\nPoint.ZERO = new Point(_0n, _0n);\nfunction sliceDER(s) {\n    return Number.parseInt(s[0], 16) >= 8 ? '00' + s : s;\n}\nfunction parseDERInt(data) {\n    if (data.length < 2 || data[0] !== 0x02) {\n        throw new Error(`Invalid signature integer tag: ${bytesToHex(data)}`);\n    }\n    const len = data[1];\n    const res = data.subarray(2, len + 2);\n    if (!len || res.length !== len) {\n        throw new Error(`Invalid signature integer: wrong length`);\n    }\n    if (res[0] === 0x00 && res[1] <= 0x7f) {\n        throw new Error('Invalid signature integer: trailing length');\n    }\n    return { data: bytesToNumber(res), left: data.subarray(len + 2) };\n}\nfunction parseDERSignature(data) {\n    if (data.length < 2 || data[0] != 0x30) {\n        throw new Error(`Invalid signature tag: ${bytesToHex(data)}`);\n    }\n    if (data[1] !== data.length - 2) {\n        throw new Error('Invalid signature: incorrect length');\n    }\n    const { data: r, left: sBytes } = parseDERInt(data.subarray(2));\n    const { data: s, left: rBytesLeft } = parseDERInt(sBytes);\n    if (rBytesLeft.length) {\n        throw new Error(`Invalid signature: left bytes after parsing: ${bytesToHex(rBytesLeft)}`);\n    }\n    return { r, s };\n}\nclass Signature {\n    constructor(r, s) {\n        this.r = r;\n        this.s = s;\n        this.assertValidity();\n    }\n    static fromCompact(hex) {\n        const arr = hex instanceof Uint8Array;\n        const name = 'Signature.fromCompact';\n        if (typeof hex !== 'string' && !arr)\n            throw new TypeError(`${name}: Expected string or Uint8Array`);\n        const str = arr ? bytesToHex(hex) : hex;\n        if (str.length !== 128)\n            throw new Error(`${name}: Expected 64-byte hex`);\n        return new Signature(hexToNumber(str.slice(0, 64)), hexToNumber(str.slice(64, 128)));\n    }\n    static fromDER(hex) {\n        const arr = hex instanceof Uint8Array;\n        if (typeof hex !== 'string' && !arr)\n            throw new TypeError(`Signature.fromDER: Expected string or Uint8Array`);\n        const { r, s } = parseDERSignature(arr ? hex : hexToBytes(hex));\n        return new Signature(r, s);\n    }\n    static fromHex(hex) {\n        return this.fromDER(hex);\n    }\n    assertValidity() {\n        const { r, s } = this;\n        if (!isWithinCurveOrder(r))\n            throw new Error('Invalid Signature: r must be 0 < r < n');\n        if (!isWithinCurveOrder(s))\n            throw new Error('Invalid Signature: s must be 0 < s < n');\n    }\n    hasHighS() {\n        const HALF = CURVE.n >> _1n;\n        return this.s > HALF;\n    }\n    normalizeS() {\n        return this.hasHighS() ? new Signature(this.r, mod(-this.s, CURVE.n)) : this;\n    }\n    toDERRawBytes() {\n        return hexToBytes(this.toDERHex());\n    }\n    toDERHex() {\n        const sHex = sliceDER(numberToHexUnpadded(this.s));\n        const rHex = sliceDER(numberToHexUnpadded(this.r));\n        const sHexL = sHex.length / 2;\n        const rHexL = rHex.length / 2;\n        const sLen = numberToHexUnpadded(sHexL);\n        const rLen = numberToHexUnpadded(rHexL);\n        const length = numberToHexUnpadded(rHexL + sHexL + 4);\n        return `30${length}02${rLen}${rHex}02${sLen}${sHex}`;\n    }\n    toRawBytes() {\n        return this.toDERRawBytes();\n    }\n    toHex() {\n        return this.toDERHex();\n    }\n    toCompactRawBytes() {\n        return hexToBytes(this.toCompactHex());\n    }\n    toCompactHex() {\n        return numTo32bStr(this.r) + numTo32bStr(this.s);\n    }\n}\nexports.Signature = Signature;\nfunction concatBytes(...arrays) {\n    if (!arrays.every((b) => b instanceof Uint8Array))\n        throw new Error('Uint8Array list expected');\n    if (arrays.length === 1)\n        return arrays[0];\n    const length = arrays.reduce((a, arr) => a + arr.length, 0);\n    const result = new Uint8Array(length);\n    for (let i = 0, pad = 0; i < arrays.length; i++) {\n        const arr = arrays[i];\n        result.set(arr, pad);\n        pad += arr.length;\n    }\n    return result;\n}\nconst hexes = Array.from({ length: 256 }, (v, i) => i.toString(16).padStart(2, '0'));\nfunction bytesToHex(uint8a) {\n    if (!(uint8a instanceof Uint8Array))\n        throw new Error('Expected Uint8Array');\n    let hex = '';\n    for (let i = 0; i < uint8a.length; i++) {\n        hex += hexes[uint8a[i]];\n    }\n    return hex;\n}\nconst POW_2_256 = BigInt('0x10000000000000000000000000000000000000000000000000000000000000000');\nfunction numTo32bStr(num) {\n    if (typeof num !== 'bigint')\n        throw new Error('Expected bigint');\n    if (!(_0n <= num && num < POW_2_256))\n        throw new Error('Expected number 0 <= n < 2^256');\n    return num.toString(16).padStart(64, '0');\n}\nfunction numTo32b(num) {\n    const b = hexToBytes(numTo32bStr(num));\n    if (b.length !== 32)\n        throw new Error('Error: expected 32 bytes');\n    return b;\n}\nfunction numberToHexUnpadded(num) {\n    const hex = num.toString(16);\n    return hex.length & 1 ? `0${hex}` : hex;\n}\nfunction hexToNumber(hex) {\n    if (typeof hex !== 'string') {\n        throw new TypeError('hexToNumber: expected string, got ' + typeof hex);\n    }\n    return BigInt(`0x${hex}`);\n}\nfunction hexToBytes(hex) {\n    if (typeof hex !== 'string') {\n        throw new TypeError('hexToBytes: expected string, got ' + typeof hex);\n    }\n    if (hex.length % 2)\n        throw new Error('hexToBytes: received invalid unpadded hex' + hex.length);\n    const array = new Uint8Array(hex.length / 2);\n    for (let i = 0; i < array.length; i++) {\n        const j = i * 2;\n        const hexByte = hex.slice(j, j + 2);\n        const byte = Number.parseInt(hexByte, 16);\n        if (Number.isNaN(byte) || byte < 0)\n            throw new Error('Invalid byte sequence');\n        array[i] = byte;\n    }\n    return array;\n}\nfunction bytesToNumber(bytes) {\n    return hexToNumber(bytesToHex(bytes));\n}\nfunction ensureBytes(hex) {\n    return hex instanceof Uint8Array ? Uint8Array.from(hex) : hexToBytes(hex);\n}\nfunction normalizeScalar(num) {\n    if (typeof num === 'number' && Number.isSafeInteger(num) && num > 0)\n        return BigInt(num);\n    if (typeof num === 'bigint' && isWithinCurveOrder(num))\n        return num;\n    throw new TypeError('Expected valid private scalar: 0 < scalar < curve.n');\n}\nfunction mod(a, b = CURVE.P) {\n    const result = a % b;\n    return result >= _0n ? result : b + result;\n}\nfunction pow2(x, power) {\n    const { P } = CURVE;\n    let res = x;\n    while (power-- > _0n) {\n        res *= res;\n        res %= P;\n    }\n    return res;\n}\nfunction sqrtMod(x) {\n    const { P } = CURVE;\n    const _6n = BigInt(6);\n    const _11n = BigInt(11);\n    const _22n = BigInt(22);\n    const _23n = BigInt(23);\n    const _44n = BigInt(44);\n    const _88n = BigInt(88);\n    const b2 = (x * x * x) % P;\n    const b3 = (b2 * b2 * x) % P;\n    const b6 = (pow2(b3, _3n) * b3) % P;\n    const b9 = (pow2(b6, _3n) * b3) % P;\n    const b11 = (pow2(b9, _2n) * b2) % P;\n    const b22 = (pow2(b11, _11n) * b11) % P;\n    const b44 = (pow2(b22, _22n) * b22) % P;\n    const b88 = (pow2(b44, _44n) * b44) % P;\n    const b176 = (pow2(b88, _88n) * b88) % P;\n    const b220 = (pow2(b176, _44n) * b44) % P;\n    const b223 = (pow2(b220, _3n) * b3) % P;\n    const t1 = (pow2(b223, _23n) * b22) % P;\n    const t2 = (pow2(t1, _6n) * b2) % P;\n    const rt = pow2(t2, _2n);\n    const xc = (rt * rt) % P;\n    if (xc !== x)\n        throw new Error('Cannot find square root');\n    return rt;\n}\nfunction invert(number, modulo = CURVE.P) {\n    if (number === _0n || modulo <= _0n) {\n        throw new Error(`invert: expected positive integers, got n=${number} mod=${modulo}`);\n    }\n    let a = mod(number, modulo);\n    let b = modulo;\n    let x = _0n, y = _1n, u = _1n, v = _0n;\n    while (a !== _0n) {\n        const q = b / a;\n        const r = b % a;\n        const m = x - u * q;\n        const n = y - v * q;\n        b = a, a = r, x = u, y = v, u = m, v = n;\n    }\n    const gcd = b;\n    if (gcd !== _1n)\n        throw new Error('invert: does not exist');\n    return mod(x, modulo);\n}\nfunction invertBatch(nums, p = CURVE.P) {\n    const scratch = new Array(nums.length);\n    const lastMultiplied = nums.reduce((acc, num, i) => {\n        if (num === _0n)\n            return acc;\n        scratch[i] = acc;\n        return mod(acc * num, p);\n    }, _1n);\n    const inverted = invert(lastMultiplied, p);\n    nums.reduceRight((acc, num, i) => {\n        if (num === _0n)\n            return acc;\n        scratch[i] = mod(acc * scratch[i], p);\n        return mod(acc * num, p);\n    }, inverted);\n    return scratch;\n}\nfunction bits2int_2(bytes) {\n    const delta = bytes.length * 8 - groupLen * 8;\n    const num = bytesToNumber(bytes);\n    return delta > 0 ? num >> BigInt(delta) : num;\n}\nfunction truncateHash(hash, truncateOnly = false) {\n    const h = bits2int_2(hash);\n    if (truncateOnly)\n        return h;\n    const { n } = CURVE;\n    return h >= n ? h - n : h;\n}\nlet _sha256Sync;\nlet _hmacSha256Sync;\nclass HmacDrbg {\n    constructor(hashLen, qByteLen) {\n        this.hashLen = hashLen;\n        this.qByteLen = qByteLen;\n        if (typeof hashLen !== 'number' || hashLen < 2)\n            throw new Error('hashLen must be a number');\n        if (typeof qByteLen !== 'number' || qByteLen < 2)\n            throw new Error('qByteLen must be a number');\n        this.v = new Uint8Array(hashLen).fill(1);\n        this.k = new Uint8Array(hashLen).fill(0);\n        this.counter = 0;\n    }\n    hmac(...values) {\n        return exports.utils.hmacSha256(this.k, ...values);\n    }\n    hmacSync(...values) {\n        return _hmacSha256Sync(this.k, ...values);\n    }\n    checkSync() {\n        if (typeof _hmacSha256Sync !== 'function')\n            throw new ShaError('hmacSha256Sync needs to be set');\n    }\n    incr() {\n        if (this.counter >= 1000)\n            throw new Error('Tried 1,000 k values for sign(), all were invalid');\n        this.counter += 1;\n    }\n    async reseed(seed = new Uint8Array()) {\n        this.k = await this.hmac(this.v, Uint8Array.from([0x00]), seed);\n        this.v = await this.hmac(this.v);\n        if (seed.length === 0)\n            return;\n        this.k = await this.hmac(this.v, Uint8Array.from([0x01]), seed);\n        this.v = await this.hmac(this.v);\n    }\n    reseedSync(seed = new Uint8Array()) {\n        this.checkSync();\n        this.k = this.hmacSync(this.v, Uint8Array.from([0x00]), seed);\n        this.v = this.hmacSync(this.v);\n        if (seed.length === 0)\n            return;\n        this.k = this.hmacSync(this.v, Uint8Array.from([0x01]), seed);\n        this.v = this.hmacSync(this.v);\n    }\n    async generate() {\n        this.incr();\n        let len = 0;\n        const out = [];\n        while (len < this.qByteLen) {\n            this.v = await this.hmac(this.v);\n            const sl = this.v.slice();\n            out.push(sl);\n            len += this.v.length;\n        }\n        return concatBytes(...out);\n    }\n    generateSync() {\n        this.checkSync();\n        this.incr();\n        let len = 0;\n        const out = [];\n        while (len < this.qByteLen) {\n            this.v = this.hmacSync(this.v);\n            const sl = this.v.slice();\n            out.push(sl);\n            len += this.v.length;\n        }\n        return concatBytes(...out);\n    }\n}\nfunction isWithinCurveOrder(num) {\n    return _0n < num && num < CURVE.n;\n}\nfunction isValidFieldElement(num) {\n    return _0n < num && num < CURVE.P;\n}\nfunction kmdToSig(kBytes, m, d, lowS = true) {\n    const { n } = CURVE;\n    const k = truncateHash(kBytes, true);\n    if (!isWithinCurveOrder(k))\n        return;\n    const kinv = invert(k, n);\n    const q = Point.BASE.multiply(k);\n    const r = mod(q.x, n);\n    if (r === _0n)\n        return;\n    const s = mod(kinv * mod(m + d * r, n), n);\n    if (s === _0n)\n        return;\n    let sig = new Signature(r, s);\n    let recovery = (q.x === sig.r ? 0 : 2) | Number(q.y & _1n);\n    if (lowS && sig.hasHighS()) {\n        sig = sig.normalizeS();\n        recovery ^= 1;\n    }\n    return { sig, recovery };\n}\nfunction normalizePrivateKey(key) {\n    let num;\n    if (typeof key === 'bigint') {\n        num = key;\n    }\n    else if (typeof key === 'number' && Number.isSafeInteger(key) && key > 0) {\n        num = BigInt(key);\n    }\n    else if (typeof key === 'string') {\n        if (key.length !== 2 * groupLen)\n            throw new Error('Expected 32 bytes of private key');\n        num = hexToNumber(key);\n    }\n    else if (key instanceof Uint8Array) {\n        if (key.length !== groupLen)\n            throw new Error('Expected 32 bytes of private key');\n        num = bytesToNumber(key);\n    }\n    else {\n        throw new TypeError('Expected valid private key');\n    }\n    if (!isWithinCurveOrder(num))\n        throw new Error('Expected private key: 0 < key < n');\n    return num;\n}\nfunction normalizePublicKey(publicKey) {\n    if (publicKey instanceof Point) {\n        publicKey.assertValidity();\n        return publicKey;\n    }\n    else {\n        return Point.fromHex(publicKey);\n    }\n}\nfunction normalizeSignature(signature) {\n    if (signature instanceof Signature) {\n        signature.assertValidity();\n        return signature;\n    }\n    try {\n        return Signature.fromDER(signature);\n    }\n    catch (error) {\n        return Signature.fromCompact(signature);\n    }\n}\nfunction getPublicKey(privateKey, isCompressed = false) {\n    return Point.fromPrivateKey(privateKey).toRawBytes(isCompressed);\n}\nexports.getPublicKey = getPublicKey;\nfunction recoverPublicKey(msgHash, signature, recovery, isCompressed = false) {\n    return Point.fromSignature(msgHash, signature, recovery).toRawBytes(isCompressed);\n}\nexports.recoverPublicKey = recoverPublicKey;\nfunction isProbPub(item) {\n    const arr = item instanceof Uint8Array;\n    const str = typeof item === 'string';\n    const len = (arr || str) && item.length;\n    if (arr)\n        return len === compressedLen || len === uncompressedLen;\n    if (str)\n        return len === compressedLen * 2 || len === uncompressedLen * 2;\n    if (item instanceof Point)\n        return true;\n    return false;\n}\nfunction getSharedSecret(privateA, publicB, isCompressed = false) {\n    if (isProbPub(privateA))\n        throw new TypeError('getSharedSecret: first arg must be private key');\n    if (!isProbPub(publicB))\n        throw new TypeError('getSharedSecret: second arg must be public key');\n    const b = normalizePublicKey(publicB);\n    b.assertValidity();\n    return b.multiply(normalizePrivateKey(privateA)).toRawBytes(isCompressed);\n}\nexports.getSharedSecret = getSharedSecret;\nfunction bits2int(bytes) {\n    const slice = bytes.length > fieldLen ? bytes.slice(0, fieldLen) : bytes;\n    return bytesToNumber(slice);\n}\nfunction bits2octets(bytes) {\n    const z1 = bits2int(bytes);\n    const z2 = mod(z1, CURVE.n);\n    return int2octets(z2 < _0n ? z1 : z2);\n}\nfunction int2octets(num) {\n    return numTo32b(num);\n}\nfunction initSigArgs(msgHash, privateKey, extraEntropy) {\n    if (msgHash == null)\n        throw new Error(`sign: expected valid message hash, not \"${msgHash}\"`);\n    const h1 = ensureBytes(msgHash);\n    const d = normalizePrivateKey(privateKey);\n    const seedArgs = [int2octets(d), bits2octets(h1)];\n    if (extraEntropy != null) {\n        if (extraEntropy === true)\n            extraEntropy = exports.utils.randomBytes(fieldLen);\n        const e = ensureBytes(extraEntropy);\n        if (e.length !== fieldLen)\n            throw new Error(`sign: Expected ${fieldLen} bytes of extra data`);\n        seedArgs.push(e);\n    }\n    const seed = concatBytes(...seedArgs);\n    const m = bits2int(h1);\n    return { seed, m, d };\n}\nfunction finalizeSig(recSig, opts) {\n    const { sig, recovery } = recSig;\n    const { der, recovered } = Object.assign({ canonical: true, der: true }, opts);\n    const hashed = der ? sig.toDERRawBytes() : sig.toCompactRawBytes();\n    return recovered ? [hashed, recovery] : hashed;\n}\nasync function sign(msgHash, privKey, opts = {}) {\n    const { seed, m, d } = initSigArgs(msgHash, privKey, opts.extraEntropy);\n    const drbg = new HmacDrbg(hashLen, groupLen);\n    await drbg.reseed(seed);\n    let sig;\n    while (!(sig = kmdToSig(await drbg.generate(), m, d, opts.canonical)))\n        await drbg.reseed();\n    return finalizeSig(sig, opts);\n}\nexports.sign = sign;\nfunction signSync(msgHash, privKey, opts = {}) {\n    const { seed, m, d } = initSigArgs(msgHash, privKey, opts.extraEntropy);\n    const drbg = new HmacDrbg(hashLen, groupLen);\n    drbg.reseedSync(seed);\n    let sig;\n    while (!(sig = kmdToSig(drbg.generateSync(), m, d, opts.canonical)))\n        drbg.reseedSync();\n    return finalizeSig(sig, opts);\n}\nexports.signSync = signSync;\nconst vopts = { strict: true };\nfunction verify(signature, msgHash, publicKey, opts = vopts) {\n    let sig;\n    try {\n        sig = normalizeSignature(signature);\n        msgHash = ensureBytes(msgHash);\n    }\n    catch (error) {\n        return false;\n    }\n    const { r, s } = sig;\n    if (opts.strict && sig.hasHighS())\n        return false;\n    const h = truncateHash(msgHash);\n    let P;\n    try {\n        P = normalizePublicKey(publicKey);\n    }\n    catch (error) {\n        return false;\n    }\n    const { n } = CURVE;\n    const sinv = invert(s, n);\n    const u1 = mod(h * sinv, n);\n    const u2 = mod(r * sinv, n);\n    const R = Point.BASE.multiplyAndAddUnsafe(P, u1, u2);\n    if (!R)\n        return false;\n    const v = mod(R.x, n);\n    return v === r;\n}\nexports.verify = verify;\nfunction schnorrChallengeFinalize(ch) {\n    return mod(bytesToNumber(ch), CURVE.n);\n}\nclass SchnorrSignature {\n    constructor(r, s) {\n        this.r = r;\n        this.s = s;\n        this.assertValidity();\n    }\n    static fromHex(hex) {\n        const bytes = ensureBytes(hex);\n        if (bytes.length !== 64)\n            throw new TypeError(`SchnorrSignature.fromHex: expected 64 bytes, not ${bytes.length}`);\n        const r = bytesToNumber(bytes.subarray(0, 32));\n        const s = bytesToNumber(bytes.subarray(32, 64));\n        return new SchnorrSignature(r, s);\n    }\n    assertValidity() {\n        const { r, s } = this;\n        if (!isValidFieldElement(r) || !isWithinCurveOrder(s))\n            throw new Error('Invalid signature');\n    }\n    toHex() {\n        return numTo32bStr(this.r) + numTo32bStr(this.s);\n    }\n    toRawBytes() {\n        return hexToBytes(this.toHex());\n    }\n}\nfunction schnorrGetPublicKey(privateKey) {\n    return Point.fromPrivateKey(privateKey).toRawX();\n}\nclass InternalSchnorrSignature {\n    constructor(message, privateKey, auxRand = exports.utils.randomBytes()) {\n        if (message == null)\n            throw new TypeError(`sign: Expected valid message, not \"${message}\"`);\n        this.m = ensureBytes(message);\n        const { x, scalar } = this.getScalar(normalizePrivateKey(privateKey));\n        this.px = x;\n        this.d = scalar;\n        this.rand = ensureBytes(auxRand);\n        if (this.rand.length !== 32)\n            throw new TypeError('sign: Expected 32 bytes of aux randomness');\n    }\n    getScalar(priv) {\n        const point = Point.fromPrivateKey(priv);\n        const scalar = point.hasEvenY() ? priv : CURVE.n - priv;\n        return { point, scalar, x: point.toRawX() };\n    }\n    initNonce(d, t0h) {\n        return numTo32b(d ^ bytesToNumber(t0h));\n    }\n    finalizeNonce(k0h) {\n        const k0 = mod(bytesToNumber(k0h), CURVE.n);\n        if (k0 === _0n)\n            throw new Error('sign: Creation of signature failed. k is zero');\n        const { point: R, x: rx, scalar: k } = this.getScalar(k0);\n        return { R, rx, k };\n    }\n    finalizeSig(R, k, e, d) {\n        return new SchnorrSignature(R.x, mod(k + e * d, CURVE.n)).toRawBytes();\n    }\n    error() {\n        throw new Error('sign: Invalid signature produced');\n    }\n    async calc() {\n        const { m, d, px, rand } = this;\n        const tag = exports.utils.taggedHash;\n        const t = this.initNonce(d, await tag(TAGS.aux, rand));\n        const { R, rx, k } = this.finalizeNonce(await tag(TAGS.nonce, t, px, m));\n        const e = schnorrChallengeFinalize(await tag(TAGS.challenge, rx, px, m));\n        const sig = this.finalizeSig(R, k, e, d);\n        if (!(await schnorrVerify(sig, m, px)))\n            this.error();\n        return sig;\n    }\n    calcSync() {\n        const { m, d, px, rand } = this;\n        const tag = exports.utils.taggedHashSync;\n        const t = this.initNonce(d, tag(TAGS.aux, rand));\n        const { R, rx, k } = this.finalizeNonce(tag(TAGS.nonce, t, px, m));\n        const e = schnorrChallengeFinalize(tag(TAGS.challenge, rx, px, m));\n        const sig = this.finalizeSig(R, k, e, d);\n        if (!schnorrVerifySync(sig, m, px))\n            this.error();\n        return sig;\n    }\n}\nasync function schnorrSign(msg, privKey, auxRand) {\n    return new InternalSchnorrSignature(msg, privKey, auxRand).calc();\n}\nfunction schnorrSignSync(msg, privKey, auxRand) {\n    return new InternalSchnorrSignature(msg, privKey, auxRand).calcSync();\n}\nfunction initSchnorrVerify(signature, message, publicKey) {\n    const raw = signature instanceof SchnorrSignature;\n    const sig = raw ? signature : SchnorrSignature.fromHex(signature);\n    if (raw)\n        sig.assertValidity();\n    return {\n        ...sig,\n        m: ensureBytes(message),\n        P: normalizePublicKey(publicKey),\n    };\n}\nfunction finalizeSchnorrVerify(r, P, s, e) {\n    const R = Point.BASE.multiplyAndAddUnsafe(P, normalizePrivateKey(s), mod(-e, CURVE.n));\n    if (!R || !R.hasEvenY() || R.x !== r)\n        return false;\n    return true;\n}\nasync function schnorrVerify(signature, message, publicKey) {\n    try {\n        const { r, s, m, P } = initSchnorrVerify(signature, message, publicKey);\n        const e = schnorrChallengeFinalize(await exports.utils.taggedHash(TAGS.challenge, numTo32b(r), P.toRawX(), m));\n        return finalizeSchnorrVerify(r, P, s, e);\n    }\n    catch (error) {\n        return false;\n    }\n}\nfunction schnorrVerifySync(signature, message, publicKey) {\n    try {\n        const { r, s, m, P } = initSchnorrVerify(signature, message, publicKey);\n        const e = schnorrChallengeFinalize(exports.utils.taggedHashSync(TAGS.challenge, numTo32b(r), P.toRawX(), m));\n        return finalizeSchnorrVerify(r, P, s, e);\n    }\n    catch (error) {\n        if (error instanceof ShaError)\n            throw error;\n        return false;\n    }\n}\nexports.schnorr = {\n    Signature: SchnorrSignature,\n    getPublicKey: schnorrGetPublicKey,\n    sign: schnorrSign,\n    verify: schnorrVerify,\n    signSync: schnorrSignSync,\n    verifySync: schnorrVerifySync,\n};\nPoint.BASE._setWindowSize(8);\nconst crypto = {\n    node: nodeCrypto,\n    web: typeof self === 'object' && 'crypto' in self ? self.crypto : undefined,\n};\nconst TAGS = {\n    challenge: 'BIP0340/challenge',\n    aux: 'BIP0340/aux',\n    nonce: 'BIP0340/nonce',\n};\nconst TAGGED_HASH_PREFIXES = {};\nexports.utils = {\n    bytesToHex,\n    hexToBytes,\n    concatBytes,\n    mod,\n    invert,\n    isValidPrivateKey(privateKey) {\n        try {\n            normalizePrivateKey(privateKey);\n            return true;\n        }\n        catch (error) {\n            return false;\n        }\n    },\n    _bigintTo32Bytes: numTo32b,\n    _normalizePrivateKey: normalizePrivateKey,\n    hashToPrivateKey: (hash) => {\n        hash = ensureBytes(hash);\n        const minLen = groupLen + 8;\n        if (hash.length < minLen || hash.length > 1024) {\n            throw new Error(`Expected valid bytes of private key as per FIPS 186`);\n        }\n        const num = mod(bytesToNumber(hash), CURVE.n - _1n) + _1n;\n        return numTo32b(num);\n    },\n    randomBytes: (bytesLength = 32) => {\n        if (crypto.web) {\n            return crypto.web.getRandomValues(new Uint8Array(bytesLength));\n        }\n        else if (crypto.node) {\n            const { randomBytes } = crypto.node;\n            return Uint8Array.from(randomBytes(bytesLength));\n        }\n        else {\n            throw new Error(\"The environment doesn't have randomBytes function\");\n        }\n    },\n    randomPrivateKey: () => exports.utils.hashToPrivateKey(exports.utils.randomBytes(groupLen + 8)),\n    precompute(windowSize = 8, point = Point.BASE) {\n        const cached = point === Point.BASE ? point : new Point(point.x, point.y);\n        cached._setWindowSize(windowSize);\n        cached.multiply(_3n);\n        return cached;\n    },\n    sha256: async (...messages) => {\n        if (crypto.web) {\n            const buffer = await crypto.web.subtle.digest('SHA-256', concatBytes(...messages));\n            return new Uint8Array(buffer);\n        }\n        else if (crypto.node) {\n            const { createHash } = crypto.node;\n            const hash = createHash('sha256');\n            messages.forEach((m) => hash.update(m));\n            return Uint8Array.from(hash.digest());\n        }\n        else {\n            throw new Error(\"The environment doesn't have sha256 function\");\n        }\n    },\n    hmacSha256: async (key, ...messages) => {\n        if (crypto.web) {\n            const ckey = await crypto.web.subtle.importKey('raw', key, { name: 'HMAC', hash: { name: 'SHA-256' } }, false, ['sign']);\n            const message = concatBytes(...messages);\n            const buffer = await crypto.web.subtle.sign('HMAC', ckey, message);\n            return new Uint8Array(buffer);\n        }\n        else if (crypto.node) {\n            const { createHmac } = crypto.node;\n            const hash = createHmac('sha256', key);\n            messages.forEach((m) => hash.update(m));\n            return Uint8Array.from(hash.digest());\n        }\n        else {\n            throw new Error(\"The environment doesn't have hmac-sha256 function\");\n        }\n    },\n    sha256Sync: undefined,\n    hmacSha256Sync: undefined,\n    taggedHash: async (tag, ...messages) => {\n        let tagP = TAGGED_HASH_PREFIXES[tag];\n        if (tagP === undefined) {\n            const tagH = await exports.utils.sha256(Uint8Array.from(tag, (c) => c.charCodeAt(0)));\n            tagP = concatBytes(tagH, tagH);\n            TAGGED_HASH_PREFIXES[tag] = tagP;\n        }\n        return exports.utils.sha256(tagP, ...messages);\n    },\n    taggedHashSync: (tag, ...messages) => {\n        if (typeof _sha256Sync !== 'function')\n            throw new ShaError('sha256Sync is undefined, you need to set it');\n        let tagP = TAGGED_HASH_PREFIXES[tag];\n        if (tagP === undefined) {\n            const tagH = _sha256Sync(Uint8Array.from(tag, (c) => c.charCodeAt(0)));\n            tagP = concatBytes(tagH, tagH);\n            TAGGED_HASH_PREFIXES[tag] = tagP;\n        }\n        return _sha256Sync(tagP, ...messages);\n    },\n    _JacobianPoint: JacobianPoint,\n};\nObject.defineProperties(exports.utils, {\n    sha256Sync: {\n        configurable: false,\n        get() {\n            return _sha256Sync;\n        },\n        set(val) {\n            if (!_sha256Sync)\n                _sha256Sync = val;\n        },\n    },\n    hmacSha256Sync: {\n        configurable: false,\n        get() {\n            return _hmacSha256Sync;\n        },\n        set(val) {\n            if (!_hmacSha256Sync)\n                _hmacSha256Sync = val;\n        },\n    },\n});\n","\"use strict\";var __awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value);});}return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value));}catch(e){reject(e);}}function rejected(value){try{step(generator[\"throw\"](value));}catch(e){reject(e);}}function step(result){result.done?resolve(result.value):adopt(result.value).then(fulfilled,rejected);}step((generator=generator.apply(thisArg,_arguments||[])).next());});};Object.defineProperty(exports,\"__esModule\",{value:true});exports.exponentialBackoff=void 0;function exponentialBackoff(startWaitTime,retryNumber,waitBackoff,getResult){return __awaiter(this,void 0,void 0,function*(){var waitTime=startWaitTime;for(var i=0;i<retryNumber;i++){var result=yield getResult();if(result){return result;}yield sleep(waitTime);waitTime*=waitBackoff;}return null;});}exports.exponentialBackoff=exponentialBackoff;function sleep(millis){return new Promise(function(resolve){return setTimeout(resolve,millis);});}","/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar w = d * 7;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function (val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isFinite(val)) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error(\n    'val is not a non-empty string or a valid number. val=' +\n      JSON.stringify(val)\n  );\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^(-?(?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(\n    str\n  );\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'weeks':\n    case 'week':\n    case 'w':\n      return n * w;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (msAbs >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (msAbs >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (msAbs >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return plural(ms, msAbs, d, 'day');\n  }\n  if (msAbs >= h) {\n    return plural(ms, msAbs, h, 'hour');\n  }\n  if (msAbs >= m) {\n    return plural(ms, msAbs, m, 'minute');\n  }\n  if (msAbs >= s) {\n    return plural(ms, msAbs, s, 'second');\n  }\n  return ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, msAbs, n, name) {\n  var isPlural = msAbs >= n * 1.5;\n  return Math.round(ms / n) + ' ' + name + (isPlural ? 's' : '');\n}\n","(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global = global || self, global.Mustache = factory());\n}(this, (function () { 'use strict';\n\n  /*!\n   * mustache.js - Logic-less {{mustache}} templates with JavaScript\n   * http://github.com/janl/mustache.js\n   */\n\n  var objectToString = Object.prototype.toString;\n  var isArray = Array.isArray || function isArrayPolyfill (object) {\n    return objectToString.call(object) === '[object Array]';\n  };\n\n  function isFunction (object) {\n    return typeof object === 'function';\n  }\n\n  /**\n   * More correct typeof string handling array\n   * which normally returns typeof 'object'\n   */\n  function typeStr (obj) {\n    return isArray(obj) ? 'array' : typeof obj;\n  }\n\n  function escapeRegExp (string) {\n    return string.replace(/[\\-\\[\\]{}()*+?.,\\\\\\^$|#\\s]/g, '\\\\$&');\n  }\n\n  /**\n   * Null safe way of checking whether or not an object,\n   * including its prototype, has a given property\n   */\n  function hasProperty (obj, propName) {\n    return obj != null && typeof obj === 'object' && (propName in obj);\n  }\n\n  /**\n   * Safe way of detecting whether or not the given thing is a primitive and\n   * whether it has the given property\n   */\n  function primitiveHasOwnProperty (primitive, propName) {\n    return (\n      primitive != null\n      && typeof primitive !== 'object'\n      && primitive.hasOwnProperty\n      && primitive.hasOwnProperty(propName)\n    );\n  }\n\n  // Workaround for https://issues.apache.org/jira/browse/COUCHDB-577\n  // See https://github.com/janl/mustache.js/issues/189\n  var regExpTest = RegExp.prototype.test;\n  function testRegExp (re, string) {\n    return regExpTest.call(re, string);\n  }\n\n  var nonSpaceRe = /\\S/;\n  function isWhitespace (string) {\n    return !testRegExp(nonSpaceRe, string);\n  }\n\n  var entityMap = {\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;',\n    '\"': '&quot;',\n    \"'\": '&#39;',\n    '/': '&#x2F;',\n    '`': '&#x60;',\n    '=': '&#x3D;'\n  };\n\n  function escapeHtml (string) {\n    return String(string).replace(/[&<>\"'`=\\/]/g, function fromEntityMap (s) {\n      return entityMap[s];\n    });\n  }\n\n  var whiteRe = /\\s*/;\n  var spaceRe = /\\s+/;\n  var equalsRe = /\\s*=/;\n  var curlyRe = /\\s*\\}/;\n  var tagRe = /#|\\^|\\/|>|\\{|&|=|!/;\n\n  /**\n   * Breaks up the given `template` string into a tree of tokens. If the `tags`\n   * argument is given here it must be an array with two string values: the\n   * opening and closing tags used in the template (e.g. [ \"<%\", \"%>\" ]). Of\n   * course, the default is to use mustaches (i.e. mustache.tags).\n   *\n   * A token is an array with at least 4 elements. The first element is the\n   * mustache symbol that was used inside the tag, e.g. \"#\" or \"&\". If the tag\n   * did not contain a symbol (i.e. {{myValue}}) this element is \"name\". For\n   * all text that appears outside a symbol this element is \"text\".\n   *\n   * The second element of a token is its \"value\". For mustache tags this is\n   * whatever else was inside the tag besides the opening symbol. For text tokens\n   * this is the text itself.\n   *\n   * The third and fourth elements of the token are the start and end indices,\n   * respectively, of the token in the original template.\n   *\n   * Tokens that are the root node of a subtree contain two more elements: 1) an\n   * array of tokens in the subtree and 2) the index in the original template at\n   * which the closing tag for that section begins.\n   *\n   * Tokens for partials also contain two more elements: 1) a string value of\n   * indendation prior to that tag and 2) the index of that tag on that line -\n   * eg a value of 2 indicates the partial is the third tag on this line.\n   */\n  function parseTemplate (template, tags) {\n    if (!template)\n      return [];\n    var lineHasNonSpace = false;\n    var sections = [];     // Stack to hold section tokens\n    var tokens = [];       // Buffer to hold the tokens\n    var spaces = [];       // Indices of whitespace tokens on the current line\n    var hasTag = false;    // Is there a {{tag}} on the current line?\n    var nonSpace = false;  // Is there a non-space char on the current line?\n    var indentation = '';  // Tracks indentation for tags that use it\n    var tagIndex = 0;      // Stores a count of number of tags encountered on a line\n\n    // Strips all whitespace tokens array for the current line\n    // if there was a {{#tag}} on it and otherwise only space.\n    function stripSpace () {\n      if (hasTag && !nonSpace) {\n        while (spaces.length)\n          delete tokens[spaces.pop()];\n      } else {\n        spaces = [];\n      }\n\n      hasTag = false;\n      nonSpace = false;\n    }\n\n    var openingTagRe, closingTagRe, closingCurlyRe;\n    function compileTags (tagsToCompile) {\n      if (typeof tagsToCompile === 'string')\n        tagsToCompile = tagsToCompile.split(spaceRe, 2);\n\n      if (!isArray(tagsToCompile) || tagsToCompile.length !== 2)\n        throw new Error('Invalid tags: ' + tagsToCompile);\n\n      openingTagRe = new RegExp(escapeRegExp(tagsToCompile[0]) + '\\\\s*');\n      closingTagRe = new RegExp('\\\\s*' + escapeRegExp(tagsToCompile[1]));\n      closingCurlyRe = new RegExp('\\\\s*' + escapeRegExp('}' + tagsToCompile[1]));\n    }\n\n    compileTags(tags || mustache.tags);\n\n    var scanner = new Scanner(template);\n\n    var start, type, value, chr, token, openSection;\n    while (!scanner.eos()) {\n      start = scanner.pos;\n\n      // Match any text between tags.\n      value = scanner.scanUntil(openingTagRe);\n\n      if (value) {\n        for (var i = 0, valueLength = value.length; i < valueLength; ++i) {\n          chr = value.charAt(i);\n\n          if (isWhitespace(chr)) {\n            spaces.push(tokens.length);\n            indentation += chr;\n          } else {\n            nonSpace = true;\n            lineHasNonSpace = true;\n            indentation += ' ';\n          }\n\n          tokens.push([ 'text', chr, start, start + 1 ]);\n          start += 1;\n\n          // Check for whitespace on the current line.\n          if (chr === '\\n') {\n            stripSpace();\n            indentation = '';\n            tagIndex = 0;\n            lineHasNonSpace = false;\n          }\n        }\n      }\n\n      // Match the opening tag.\n      if (!scanner.scan(openingTagRe))\n        break;\n\n      hasTag = true;\n\n      // Get the tag type.\n      type = scanner.scan(tagRe) || 'name';\n      scanner.scan(whiteRe);\n\n      // Get the tag value.\n      if (type === '=') {\n        value = scanner.scanUntil(equalsRe);\n        scanner.scan(equalsRe);\n        scanner.scanUntil(closingTagRe);\n      } else if (type === '{') {\n        value = scanner.scanUntil(closingCurlyRe);\n        scanner.scan(curlyRe);\n        scanner.scanUntil(closingTagRe);\n        type = '&';\n      } else {\n        value = scanner.scanUntil(closingTagRe);\n      }\n\n      // Match the closing tag.\n      if (!scanner.scan(closingTagRe))\n        throw new Error('Unclosed tag at ' + scanner.pos);\n\n      if (type == '>') {\n        token = [ type, value, start, scanner.pos, indentation, tagIndex, lineHasNonSpace ];\n      } else {\n        token = [ type, value, start, scanner.pos ];\n      }\n      tagIndex++;\n      tokens.push(token);\n\n      if (type === '#' || type === '^') {\n        sections.push(token);\n      } else if (type === '/') {\n        // Check section nesting.\n        openSection = sections.pop();\n\n        if (!openSection)\n          throw new Error('Unopened section \"' + value + '\" at ' + start);\n\n        if (openSection[1] !== value)\n          throw new Error('Unclosed section \"' + openSection[1] + '\" at ' + start);\n      } else if (type === 'name' || type === '{' || type === '&') {\n        nonSpace = true;\n      } else if (type === '=') {\n        // Set the tags for the next time around.\n        compileTags(value);\n      }\n    }\n\n    stripSpace();\n\n    // Make sure there are no open sections when we're done.\n    openSection = sections.pop();\n\n    if (openSection)\n      throw new Error('Unclosed section \"' + openSection[1] + '\" at ' + scanner.pos);\n\n    return nestTokens(squashTokens(tokens));\n  }\n\n  /**\n   * Combines the values of consecutive text tokens in the given `tokens` array\n   * to a single token.\n   */\n  function squashTokens (tokens) {\n    var squashedTokens = [];\n\n    var token, lastToken;\n    for (var i = 0, numTokens = tokens.length; i < numTokens; ++i) {\n      token = tokens[i];\n\n      if (token) {\n        if (token[0] === 'text' && lastToken && lastToken[0] === 'text') {\n          lastToken[1] += token[1];\n          lastToken[3] = token[3];\n        } else {\n          squashedTokens.push(token);\n          lastToken = token;\n        }\n      }\n    }\n\n    return squashedTokens;\n  }\n\n  /**\n   * Forms the given array of `tokens` into a nested tree structure where\n   * tokens that represent a section have two additional items: 1) an array of\n   * all tokens that appear in that section and 2) the index in the original\n   * template that represents the end of that section.\n   */\n  function nestTokens (tokens) {\n    var nestedTokens = [];\n    var collector = nestedTokens;\n    var sections = [];\n\n    var token, section;\n    for (var i = 0, numTokens = tokens.length; i < numTokens; ++i) {\n      token = tokens[i];\n\n      switch (token[0]) {\n        case '#':\n        case '^':\n          collector.push(token);\n          sections.push(token);\n          collector = token[4] = [];\n          break;\n        case '/':\n          section = sections.pop();\n          section[5] = token[2];\n          collector = sections.length > 0 ? sections[sections.length - 1][4] : nestedTokens;\n          break;\n        default:\n          collector.push(token);\n      }\n    }\n\n    return nestedTokens;\n  }\n\n  /**\n   * A simple string scanner that is used by the template parser to find\n   * tokens in template strings.\n   */\n  function Scanner (string) {\n    this.string = string;\n    this.tail = string;\n    this.pos = 0;\n  }\n\n  /**\n   * Returns `true` if the tail is empty (end of string).\n   */\n  Scanner.prototype.eos = function eos () {\n    return this.tail === '';\n  };\n\n  /**\n   * Tries to match the given regular expression at the current position.\n   * Returns the matched text if it can match, the empty string otherwise.\n   */\n  Scanner.prototype.scan = function scan (re) {\n    var match = this.tail.match(re);\n\n    if (!match || match.index !== 0)\n      return '';\n\n    var string = match[0];\n\n    this.tail = this.tail.substring(string.length);\n    this.pos += string.length;\n\n    return string;\n  };\n\n  /**\n   * Skips all text until the given regular expression can be matched. Returns\n   * the skipped string, which is the entire tail if no match can be made.\n   */\n  Scanner.prototype.scanUntil = function scanUntil (re) {\n    var index = this.tail.search(re), match;\n\n    switch (index) {\n      case -1:\n        match = this.tail;\n        this.tail = '';\n        break;\n      case 0:\n        match = '';\n        break;\n      default:\n        match = this.tail.substring(0, index);\n        this.tail = this.tail.substring(index);\n    }\n\n    this.pos += match.length;\n\n    return match;\n  };\n\n  /**\n   * Represents a rendering context by wrapping a view object and\n   * maintaining a reference to the parent context.\n   */\n  function Context (view, parentContext) {\n    this.view = view;\n    this.cache = { '.': this.view };\n    this.parent = parentContext;\n  }\n\n  /**\n   * Creates a new context using the given view with this context\n   * as the parent.\n   */\n  Context.prototype.push = function push (view) {\n    return new Context(view, this);\n  };\n\n  /**\n   * Returns the value of the given name in this context, traversing\n   * up the context hierarchy if the value is absent in this context's view.\n   */\n  Context.prototype.lookup = function lookup (name) {\n    var cache = this.cache;\n\n    var value;\n    if (cache.hasOwnProperty(name)) {\n      value = cache[name];\n    } else {\n      var context = this, intermediateValue, names, index, lookupHit = false;\n\n      while (context) {\n        if (name.indexOf('.') > 0) {\n          intermediateValue = context.view;\n          names = name.split('.');\n          index = 0;\n\n          /**\n           * Using the dot notion path in `name`, we descend through the\n           * nested objects.\n           *\n           * To be certain that the lookup has been successful, we have to\n           * check if the last object in the path actually has the property\n           * we are looking for. We store the result in `lookupHit`.\n           *\n           * This is specially necessary for when the value has been set to\n           * `undefined` and we want to avoid looking up parent contexts.\n           *\n           * In the case where dot notation is used, we consider the lookup\n           * to be successful even if the last \"object\" in the path is\n           * not actually an object but a primitive (e.g., a string, or an\n           * integer), because it is sometimes useful to access a property\n           * of an autoboxed primitive, such as the length of a string.\n           **/\n          while (intermediateValue != null && index < names.length) {\n            if (index === names.length - 1)\n              lookupHit = (\n                hasProperty(intermediateValue, names[index])\n                || primitiveHasOwnProperty(intermediateValue, names[index])\n              );\n\n            intermediateValue = intermediateValue[names[index++]];\n          }\n        } else {\n          intermediateValue = context.view[name];\n\n          /**\n           * Only checking against `hasProperty`, which always returns `false` if\n           * `context.view` is not an object. Deliberately omitting the check\n           * against `primitiveHasOwnProperty` if dot notation is not used.\n           *\n           * Consider this example:\n           * ```\n           * Mustache.render(\"The length of a football field is {{#length}}{{length}}{{/length}}.\", {length: \"100 yards\"})\n           * ```\n           *\n           * If we were to check also against `primitiveHasOwnProperty`, as we do\n           * in the dot notation case, then render call would return:\n           *\n           * \"The length of a football field is 9.\"\n           *\n           * rather than the expected:\n           *\n           * \"The length of a football field is 100 yards.\"\n           **/\n          lookupHit = hasProperty(context.view, name);\n        }\n\n        if (lookupHit) {\n          value = intermediateValue;\n          break;\n        }\n\n        context = context.parent;\n      }\n\n      cache[name] = value;\n    }\n\n    if (isFunction(value))\n      value = value.call(this.view);\n\n    return value;\n  };\n\n  /**\n   * A Writer knows how to take a stream of tokens and render them to a\n   * string, given a context. It also maintains a cache of templates to\n   * avoid the need to parse the same template twice.\n   */\n  function Writer () {\n    this.templateCache = {\n      _cache: {},\n      set: function set (key, value) {\n        this._cache[key] = value;\n      },\n      get: function get (key) {\n        return this._cache[key];\n      },\n      clear: function clear () {\n        this._cache = {};\n      }\n    };\n  }\n\n  /**\n   * Clears all cached templates in this writer.\n   */\n  Writer.prototype.clearCache = function clearCache () {\n    if (typeof this.templateCache !== 'undefined') {\n      this.templateCache.clear();\n    }\n  };\n\n  /**\n   * Parses and caches the given `template` according to the given `tags` or\n   * `mustache.tags` if `tags` is omitted,  and returns the array of tokens\n   * that is generated from the parse.\n   */\n  Writer.prototype.parse = function parse (template, tags) {\n    var cache = this.templateCache;\n    var cacheKey = template + ':' + (tags || mustache.tags).join(':');\n    var isCacheEnabled = typeof cache !== 'undefined';\n    var tokens = isCacheEnabled ? cache.get(cacheKey) : undefined;\n\n    if (tokens == undefined) {\n      tokens = parseTemplate(template, tags);\n      isCacheEnabled && cache.set(cacheKey, tokens);\n    }\n    return tokens;\n  };\n\n  /**\n   * High-level method that is used to render the given `template` with\n   * the given `view`.\n   *\n   * The optional `partials` argument may be an object that contains the\n   * names and templates of partials that are used in the template. It may\n   * also be a function that is used to load partial templates on the fly\n   * that takes a single argument: the name of the partial.\n   *\n   * If the optional `config` argument is given here, then it should be an\n   * object with a `tags` attribute or an `escape` attribute or both.\n   * If an array is passed, then it will be interpreted the same way as\n   * a `tags` attribute on a `config` object.\n   *\n   * The `tags` attribute of a `config` object must be an array with two\n   * string values: the opening and closing tags used in the template (e.g.\n   * [ \"<%\", \"%>\" ]). The default is to mustache.tags.\n   *\n   * The `escape` attribute of a `config` object must be a function which\n   * accepts a string as input and outputs a safely escaped string.\n   * If an `escape` function is not provided, then an HTML-safe string\n   * escaping function is used as the default.\n   */\n  Writer.prototype.render = function render (template, view, partials, config) {\n    var tags = this.getConfigTags(config);\n    var tokens = this.parse(template, tags);\n    var context = (view instanceof Context) ? view : new Context(view, undefined);\n    return this.renderTokens(tokens, context, partials, template, config);\n  };\n\n  /**\n   * Low-level method that renders the given array of `tokens` using\n   * the given `context` and `partials`.\n   *\n   * Note: The `originalTemplate` is only ever used to extract the portion\n   * of the original template that was contained in a higher-order section.\n   * If the template doesn't use higher-order sections, this argument may\n   * be omitted.\n   */\n  Writer.prototype.renderTokens = function renderTokens (tokens, context, partials, originalTemplate, config) {\n    var buffer = '';\n\n    var token, symbol, value;\n    for (var i = 0, numTokens = tokens.length; i < numTokens; ++i) {\n      value = undefined;\n      token = tokens[i];\n      symbol = token[0];\n\n      if (symbol === '#') value = this.renderSection(token, context, partials, originalTemplate, config);\n      else if (symbol === '^') value = this.renderInverted(token, context, partials, originalTemplate, config);\n      else if (symbol === '>') value = this.renderPartial(token, context, partials, config);\n      else if (symbol === '&') value = this.unescapedValue(token, context);\n      else if (symbol === 'name') value = this.escapedValue(token, context, config);\n      else if (symbol === 'text') value = this.rawValue(token);\n\n      if (value !== undefined)\n        buffer += value;\n    }\n\n    return buffer;\n  };\n\n  Writer.prototype.renderSection = function renderSection (token, context, partials, originalTemplate, config) {\n    var self = this;\n    var buffer = '';\n    var value = context.lookup(token[1]);\n\n    // This function is used to render an arbitrary template\n    // in the current context by higher-order sections.\n    function subRender (template) {\n      return self.render(template, context, partials, config);\n    }\n\n    if (!value) return;\n\n    if (isArray(value)) {\n      for (var j = 0, valueLength = value.length; j < valueLength; ++j) {\n        buffer += this.renderTokens(token[4], context.push(value[j]), partials, originalTemplate, config);\n      }\n    } else if (typeof value === 'object' || typeof value === 'string' || typeof value === 'number') {\n      buffer += this.renderTokens(token[4], context.push(value), partials, originalTemplate, config);\n    } else if (isFunction(value)) {\n      if (typeof originalTemplate !== 'string')\n        throw new Error('Cannot use higher-order sections without the original template');\n\n      // Extract the portion of the original template that the section contains.\n      value = value.call(context.view, originalTemplate.slice(token[3], token[5]), subRender);\n\n      if (value != null)\n        buffer += value;\n    } else {\n      buffer += this.renderTokens(token[4], context, partials, originalTemplate, config);\n    }\n    return buffer;\n  };\n\n  Writer.prototype.renderInverted = function renderInverted (token, context, partials, originalTemplate, config) {\n    var value = context.lookup(token[1]);\n\n    // Use JavaScript's definition of falsy. Include empty arrays.\n    // See https://github.com/janl/mustache.js/issues/186\n    if (!value || (isArray(value) && value.length === 0))\n      return this.renderTokens(token[4], context, partials, originalTemplate, config);\n  };\n\n  Writer.prototype.indentPartial = function indentPartial (partial, indentation, lineHasNonSpace) {\n    var filteredIndentation = indentation.replace(/[^ \\t]/g, '');\n    var partialByNl = partial.split('\\n');\n    for (var i = 0; i < partialByNl.length; i++) {\n      if (partialByNl[i].length && (i > 0 || !lineHasNonSpace)) {\n        partialByNl[i] = filteredIndentation + partialByNl[i];\n      }\n    }\n    return partialByNl.join('\\n');\n  };\n\n  Writer.prototype.renderPartial = function renderPartial (token, context, partials, config) {\n    if (!partials) return;\n    var tags = this.getConfigTags(config);\n\n    var value = isFunction(partials) ? partials(token[1]) : partials[token[1]];\n    if (value != null) {\n      var lineHasNonSpace = token[6];\n      var tagIndex = token[5];\n      var indentation = token[4];\n      var indentedValue = value;\n      if (tagIndex == 0 && indentation) {\n        indentedValue = this.indentPartial(value, indentation, lineHasNonSpace);\n      }\n      var tokens = this.parse(indentedValue, tags);\n      return this.renderTokens(tokens, context, partials, indentedValue, config);\n    }\n  };\n\n  Writer.prototype.unescapedValue = function unescapedValue (token, context) {\n    var value = context.lookup(token[1]);\n    if (value != null)\n      return value;\n  };\n\n  Writer.prototype.escapedValue = function escapedValue (token, context, config) {\n    var escape = this.getConfigEscape(config) || mustache.escape;\n    var value = context.lookup(token[1]);\n    if (value != null)\n      return (typeof value === 'number' && escape === mustache.escape) ? String(value) : escape(value);\n  };\n\n  Writer.prototype.rawValue = function rawValue (token) {\n    return token[1];\n  };\n\n  Writer.prototype.getConfigTags = function getConfigTags (config) {\n    if (isArray(config)) {\n      return config;\n    }\n    else if (config && typeof config === 'object') {\n      return config.tags;\n    }\n    else {\n      return undefined;\n    }\n  };\n\n  Writer.prototype.getConfigEscape = function getConfigEscape (config) {\n    if (config && typeof config === 'object' && !isArray(config)) {\n      return config.escape;\n    }\n    else {\n      return undefined;\n    }\n  };\n\n  var mustache = {\n    name: 'mustache.js',\n    version: '4.2.0',\n    tags: [ '{{', '}}' ],\n    clearCache: undefined,\n    escape: undefined,\n    parse: undefined,\n    render: undefined,\n    Scanner: undefined,\n    Context: undefined,\n    Writer: undefined,\n    /**\n     * Allows a user to override the default caching strategy, by providing an\n     * object with set, get and clear methods. This can also be used to disable\n     * the cache by setting it to the literal `undefined`.\n     */\n    set templateCache (cache) {\n      defaultWriter.templateCache = cache;\n    },\n    /**\n     * Gets the default or overridden caching object from the default writer.\n     */\n    get templateCache () {\n      return defaultWriter.templateCache;\n    }\n  };\n\n  // All high-level mustache.* functions use this writer.\n  var defaultWriter = new Writer();\n\n  /**\n   * Clears all cached templates in the default writer.\n   */\n  mustache.clearCache = function clearCache () {\n    return defaultWriter.clearCache();\n  };\n\n  /**\n   * Parses and caches the given template in the default writer and returns the\n   * array of tokens it contains. Doing this ahead of time avoids the need to\n   * parse templates on the fly as they are rendered.\n   */\n  mustache.parse = function parse (template, tags) {\n    return defaultWriter.parse(template, tags);\n  };\n\n  /**\n   * Renders the `template` with the given `view`, `partials`, and `config`\n   * using the default writer.\n   */\n  mustache.render = function render (template, view, partials, config) {\n    if (typeof template !== 'string') {\n      throw new TypeError('Invalid template! Template should be a \"string\" ' +\n                          'but \"' + typeStr(template) + '\" was given as the first ' +\n                          'argument for mustache#render(template, view, partials)');\n    }\n\n    return defaultWriter.render(template, view, partials, config);\n  };\n\n  // Export the escaping function so that the user may override it.\n  // See https://github.com/janl/mustache.js/issues/244\n  mustache.escape = escapeHtml;\n\n  // Export these mainly for testing, but also for advanced usage.\n  mustache.Scanner = Scanner;\n  mustache.Context = Context;\n  mustache.Writer = Writer;\n\n  return mustache;\n\n})));\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction natsort(options) {\n    if (options === void 0) { options = {}; }\n    var ore = /^0/;\n    var sre = /\\s+/g;\n    var tre = /^\\s+|\\s+$/g;\n    // unicode\n    var ure = /[^\\x00-\\x80]/;\n    // hex\n    var hre = /^0x[0-9a-f]+$/i;\n    // numeric\n    var nre = /(0x[\\da-fA-F]+|(^[\\+\\-]?\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?(?=\\D|\\s|$))|\\d+)/g;\n    // datetime\n    var dre = /(^([\\w ]+,?[\\w ]+)?[\\w ]+,?[\\w ]+\\d+:\\d+(:\\d+)?[\\w ]?|^\\d{1,4}[\\/\\-]\\d{1,4}[\\/\\-]\\d{1,4}|^\\w+, \\w+ \\d+, \\d{4})/; // tslint:disable-line\n    var toLowerCase = String.prototype.toLocaleLowerCase || String.prototype.toLowerCase;\n    var GREATER = options.desc ? -1 : 1;\n    var SMALLER = -GREATER;\n    var normalize = options.insensitive\n        ? function (s) { return toLowerCase.call(\"\" + s).replace(tre, ''); }\n        : function (s) { return (\"\" + s).replace(tre, ''); };\n    function tokenize(s) {\n        return s.replace(nre, '\\0$1\\0')\n            .replace(/\\0$/, '')\n            .replace(/^\\0/, '')\n            .split('\\0');\n    }\n    function parse(s, l) {\n        // normalize spaces; find floats not starting with '0',\n        // string or 0 if not defined (Clint Priest)\n        return (!s.match(ore) || l === 1)\n            && parseFloat(s)\n            || s.replace(sre, ' ').replace(tre, '')\n            || 0;\n    }\n    return function (a, b) {\n        // trim pre-post whitespace\n        var aa = normalize(a);\n        var bb = normalize(b);\n        // return immediately if at least one of the values is empty.\n        // empty string < any others\n        if (!aa && !bb) {\n            return 0;\n        }\n        if (!aa && bb) {\n            return SMALLER;\n        }\n        if (aa && !bb) {\n            return GREATER;\n        }\n        // tokenize: split numeric strings and default strings\n        var aArr = tokenize(aa);\n        var bArr = tokenize(bb);\n        // hex or date detection\n        var aHex = aa.match(hre);\n        var bHex = bb.match(hre);\n        var av = (aHex && bHex) ? parseInt(aHex[0], 16) : (aArr.length !== 1 && Date.parse(aa));\n        var bv = (aHex && bHex)\n            ? parseInt(bHex[0], 16)\n            : av && bb.match(dre) && Date.parse(bb) || null;\n        // try and sort Hex codes or Dates\n        if (bv) {\n            if (av === bv) {\n                return 0;\n            }\n            if (av < bv) {\n                return SMALLER;\n            }\n            if (av > bv) {\n                return GREATER;\n            }\n        }\n        var al = aArr.length;\n        var bl = bArr.length;\n        // handle numeric strings and default strings\n        for (var i = 0, l = Math.max(al, bl); i < l; i += 1) {\n            var af = parse(aArr[i] || '', al);\n            var bf = parse(bArr[i] || '', bl);\n            // handle numeric vs string comparison.\n            // numeric < string\n            if (isNaN(af) !== isNaN(bf)) {\n                return isNaN(af) ? GREATER : SMALLER;\n            }\n            // if unicode use locale comparison\n            if (ure.test(af + bf) && af.localeCompare) {\n                var comp = af.localeCompare(bf);\n                if (comp > 0) {\n                    return GREATER;\n                }\n                if (comp < 0) {\n                    return SMALLER;\n                }\n                if (i === l - 1) {\n                    return 0;\n                }\n            }\n            if (af < bf) {\n                return SMALLER;\n            }\n            if (af > bf) {\n                return GREATER;\n            }\n            if (\"\" + af < \"\" + bf) {\n                return SMALLER;\n            }\n            if (\"\" + af > \"\" + bf) {\n                return GREATER;\n            }\n        }\n        return 0;\n    };\n}\nexports.default = natsort;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AbiSerializationType = exports.AbiFunctionModifier = exports.AbiFunctionKind = exports.SCHEMA_VERSION = void 0;\nexports.SCHEMA_VERSION = \"0.3.0\";\n/**\n * Function kind regulates whether this function's invocation requires a transaction (so-called\n * call functions) or not (view functions).\n */\nvar AbiFunctionKind;\n(function (AbiFunctionKind) {\n    AbiFunctionKind[\"View\"] = \"view\";\n    AbiFunctionKind[\"Call\"] = \"call\";\n})(AbiFunctionKind = exports.AbiFunctionKind || (exports.AbiFunctionKind = {}));\n/** Function can have multiple modifiers that can change its semantics. */\nvar AbiFunctionModifier;\n(function (AbiFunctionModifier) {\n    /** Init functions can be used to initialize the state of the contract. */\n    AbiFunctionModifier[\"Init\"] = \"init\";\n    /**\n     * Private functions can only be called from the contract containing them. Usually, when a\n     * contract has to have a callback for a remote cross-contract call, this callback method\n     * should only be called by the contract itself.\n     */\n    AbiFunctionModifier[\"Private\"] = \"private\";\n    /** Payable functions can accept token transfer together with the function call.\n     * This is done so that contracts can define a fee in tokens that needs to be payed when\n     * they are used.\n     */\n    AbiFunctionModifier[\"Payable\"] = \"payable\";\n})(AbiFunctionModifier = exports.AbiFunctionModifier || (exports.AbiFunctionModifier = {}));\n/** Supported serialization formats. */\nvar AbiSerializationType;\n(function (AbiSerializationType) {\n    AbiSerializationType[\"Json\"] = \"json\";\n    AbiSerializationType[\"Borsh\"] = \"borsh\";\n})(AbiSerializationType = exports.AbiSerializationType || (exports.AbiSerializationType = {}));\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Account = void 0;\nvar accounts_1 = require(\"@near-js/accounts\");\nObject.defineProperty(exports, \"Account\", { enumerable: true, get: function () { return accounts_1.Account; } });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.UrlAccountCreator = exports.LocalAccountCreator = exports.AccountCreator = void 0;\nvar accounts_1 = require(\"@near-js/accounts\");\nObject.defineProperty(exports, \"AccountCreator\", { enumerable: true, get: function () { return accounts_1.AccountCreator; } });\nObject.defineProperty(exports, \"LocalAccountCreator\", { enumerable: true, get: function () { return accounts_1.LocalAccountCreator; } });\nObject.defineProperty(exports, \"UrlAccountCreator\", { enumerable: true, get: function () { return accounts_1.UrlAccountCreator; } });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MultisigStateStatus = exports.MultisigDeleteRequestRejectionError = exports.MULTISIG_CONFIRM_METHODS = exports.MULTISIG_CHANGE_METHODS = exports.MULTISIG_DEPOSIT = exports.MULTISIG_GAS = exports.MULTISIG_ALLOWANCE = exports.MULTISIG_STORAGE_KEY = exports.AccountMultisig = exports.Account2FA = void 0;\nvar accounts_1 = require(\"@near-js/accounts\");\nObject.defineProperty(exports, \"Account2FA\", { enumerable: true, get: function () { return accounts_1.Account2FA; } });\nObject.defineProperty(exports, \"AccountMultisig\", { enumerable: true, get: function () { return accounts_1.AccountMultisig; } });\nObject.defineProperty(exports, \"MULTISIG_STORAGE_KEY\", { enumerable: true, get: function () { return accounts_1.MULTISIG_STORAGE_KEY; } });\nObject.defineProperty(exports, \"MULTISIG_ALLOWANCE\", { enumerable: true, get: function () { return accounts_1.MULTISIG_ALLOWANCE; } });\nObject.defineProperty(exports, \"MULTISIG_GAS\", { enumerable: true, get: function () { return accounts_1.MULTISIG_GAS; } });\nObject.defineProperty(exports, \"MULTISIG_DEPOSIT\", { enumerable: true, get: function () { return accounts_1.MULTISIG_DEPOSIT; } });\nObject.defineProperty(exports, \"MULTISIG_CHANGE_METHODS\", { enumerable: true, get: function () { return accounts_1.MULTISIG_CHANGE_METHODS; } });\nObject.defineProperty(exports, \"MULTISIG_CONFIRM_METHODS\", { enumerable: true, get: function () { return accounts_1.MULTISIG_CONFIRM_METHODS; } });\nObject.defineProperty(exports, \"MultisigDeleteRequestRejectionError\", { enumerable: true, get: function () { return accounts_1.MultisigDeleteRequestRejectionError; } });\nObject.defineProperty(exports, \"MultisigStateStatus\", { enumerable: true, get: function () { return accounts_1.MultisigStateStatus; } });\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.connect = void 0;\n/**\n * Connect to NEAR using the provided configuration.\n *\n * {@link ConnectConfig.networkId} and {@link ConnectConfig.nodeUrl} are required.\n *\n * To sign transactions you can also pass: {@link ConnectConfig.keyStore}\n *\n * Both are passed they are prioritize in that order.\n *\n * @see {@link ConnectConfig}\n * @example\n * ```js\n * async function initNear() {\n *   const near = await connect({\n *      networkId: 'testnet',\n *      nodeUrl: 'https://rpc.testnet.near.org'\n *   })\n * }\n * ```\n *\n * @module browserConnect\n */\nconst near_1 = require(\"./near\");\n/**\n * Initialize connection to Near network.\n */\nfunction connect(config) {\n    return __awaiter(this, void 0, void 0, function* () {\n        return new near_1.Near(config);\n    });\n}\nexports.connect = connect;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.keyStores = void 0;\n/** @hidden @module */\nexports.keyStores = __importStar(require(\"./key_stores/browser-index\"));\n__exportStar(require(\"./common-index\"), exports);\n__exportStar(require(\"./browser-connect\"), exports);\nrequire(\"error-polyfill\");\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WalletConnection = exports.ConnectedWalletAccount = exports.Near = exports.KeyPair = exports.Signer = exports.InMemorySigner = exports.Contract = exports.Connection = exports.Account = exports.multisig = exports.validators = exports.transactions = exports.utils = exports.providers = exports.accountCreator = void 0;\n/** @hidden @module */\nconst providers = __importStar(require(\"./providers\"));\nexports.providers = providers;\nconst utils = __importStar(require(\"./utils\"));\nexports.utils = utils;\nconst transactions = __importStar(require(\"./transaction\"));\nexports.transactions = transactions;\nconst validators = __importStar(require(\"./validators\"));\nexports.validators = validators;\nconst account_1 = require(\"./account\");\nObject.defineProperty(exports, \"Account\", { enumerable: true, get: function () { return account_1.Account; } });\nconst multisig = __importStar(require(\"./account_multisig\"));\nexports.multisig = multisig;\nconst accountCreator = __importStar(require(\"./account_creator\"));\nexports.accountCreator = accountCreator;\nconst connection_1 = require(\"./connection\");\nObject.defineProperty(exports, \"Connection\", { enumerable: true, get: function () { return connection_1.Connection; } });\nconst signer_1 = require(\"./signer\");\nObject.defineProperty(exports, \"Signer\", { enumerable: true, get: function () { return signer_1.Signer; } });\nObject.defineProperty(exports, \"InMemorySigner\", { enumerable: true, get: function () { return signer_1.InMemorySigner; } });\nconst contract_1 = require(\"./contract\");\nObject.defineProperty(exports, \"Contract\", { enumerable: true, get: function () { return contract_1.Contract; } });\nconst key_pair_1 = require(\"./utils/key_pair\");\nObject.defineProperty(exports, \"KeyPair\", { enumerable: true, get: function () { return key_pair_1.KeyPair; } });\nconst near_1 = require(\"./near\");\nObject.defineProperty(exports, \"Near\", { enumerable: true, get: function () { return near_1.Near; } });\nconst wallet_account_1 = require(\"./wallet-account\");\nObject.defineProperty(exports, \"ConnectedWalletAccount\", { enumerable: true, get: function () { return wallet_account_1.ConnectedWalletAccount; } });\nObject.defineProperty(exports, \"WalletConnection\", { enumerable: true, get: function () { return wallet_account_1.WalletConnection; } });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Connection = void 0;\nvar accounts_1 = require(\"@near-js/accounts\");\nObject.defineProperty(exports, \"Connection\", { enumerable: true, get: function () { return accounts_1.Connection; } });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Contract = void 0;\nvar accounts_1 = require(\"@near-js/accounts\");\nObject.defineProperty(exports, \"Contract\", { enumerable: true, get: function () { return accounts_1.Contract; } });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MergeKeyStore = exports.BrowserLocalStorageKeyStore = exports.InMemoryKeyStore = exports.KeyStore = void 0;\n/** @hidden @module */\nconst keystore_1 = require(\"./keystore\");\nObject.defineProperty(exports, \"KeyStore\", { enumerable: true, get: function () { return keystore_1.KeyStore; } });\nconst in_memory_key_store_1 = require(\"./in_memory_key_store\");\nObject.defineProperty(exports, \"InMemoryKeyStore\", { enumerable: true, get: function () { return in_memory_key_store_1.InMemoryKeyStore; } });\nconst browser_local_storage_key_store_1 = require(\"./browser_local_storage_key_store\");\nObject.defineProperty(exports, \"BrowserLocalStorageKeyStore\", { enumerable: true, get: function () { return browser_local_storage_key_store_1.BrowserLocalStorageKeyStore; } });\nconst merge_key_store_1 = require(\"./merge_key_store\");\nObject.defineProperty(exports, \"MergeKeyStore\", { enumerable: true, get: function () { return merge_key_store_1.MergeKeyStore; } });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BrowserLocalStorageKeyStore = void 0;\nvar keystores_browser_1 = require(\"@near-js/keystores-browser\");\nObject.defineProperty(exports, \"BrowserLocalStorageKeyStore\", { enumerable: true, get: function () { return keystores_browser_1.BrowserLocalStorageKeyStore; } });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.InMemoryKeyStore = void 0;\nvar keystores_1 = require(\"@near-js/keystores\");\nObject.defineProperty(exports, \"InMemoryKeyStore\", { enumerable: true, get: function () { return keystores_1.InMemoryKeyStore; } });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.KeyStore = void 0;\nvar keystores_1 = require(\"@near-js/keystores\");\nObject.defineProperty(exports, \"KeyStore\", { enumerable: true, get: function () { return keystores_1.KeyStore; } });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MergeKeyStore = void 0;\nvar keystores_1 = require(\"@near-js/keystores\");\nObject.defineProperty(exports, \"MergeKeyStore\", { enumerable: true, get: function () { return keystores_1.MergeKeyStore; } });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Near = void 0;\nvar wallet_account_1 = require(\"@near-js/wallet-account\");\nObject.defineProperty(exports, \"Near\", { enumerable: true, get: function () { return wallet_account_1.Near; } });\n","\"use strict\";\n/** @hidden @module */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ErrorContext = exports.TypedError = exports.getTransactionLastResult = exports.FinalExecutionStatusBasic = exports.JsonRpcProvider = exports.Provider = void 0;\nconst provider_1 = require(\"./provider\");\nObject.defineProperty(exports, \"Provider\", { enumerable: true, get: function () { return provider_1.Provider; } });\nObject.defineProperty(exports, \"getTransactionLastResult\", { enumerable: true, get: function () { return provider_1.getTransactionLastResult; } });\nObject.defineProperty(exports, \"FinalExecutionStatusBasic\", { enumerable: true, get: function () { return provider_1.FinalExecutionStatusBasic; } });\nconst json_rpc_provider_1 = require(\"./json-rpc-provider\");\nObject.defineProperty(exports, \"JsonRpcProvider\", { enumerable: true, get: function () { return json_rpc_provider_1.JsonRpcProvider; } });\nObject.defineProperty(exports, \"TypedError\", { enumerable: true, get: function () { return json_rpc_provider_1.TypedError; } });\nObject.defineProperty(exports, \"ErrorContext\", { enumerable: true, get: function () { return json_rpc_provider_1.ErrorContext; } });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.JsonRpcProvider = exports.TypedError = exports.ErrorContext = void 0;\nvar types_1 = require(\"@near-js/types\");\nObject.defineProperty(exports, \"ErrorContext\", { enumerable: true, get: function () { return types_1.ErrorContext; } });\nObject.defineProperty(exports, \"TypedError\", { enumerable: true, get: function () { return types_1.TypedError; } });\nvar providers_1 = require(\"@near-js/providers\");\nObject.defineProperty(exports, \"JsonRpcProvider\", { enumerable: true, get: function () { return providers_1.JsonRpcProvider; } });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FinalExecutionStatusBasic = exports.ExecutionStatusBasic = exports.IdType = exports.Provider = exports.getTransactionLastResult = void 0;\nvar utils_1 = require(\"@near-js/utils\");\nObject.defineProperty(exports, \"getTransactionLastResult\", { enumerable: true, get: function () { return utils_1.getTransactionLastResult; } });\nvar providers_1 = require(\"@near-js/providers\");\nObject.defineProperty(exports, \"Provider\", { enumerable: true, get: function () { return providers_1.Provider; } });\nvar types_1 = require(\"@near-js/types\");\nObject.defineProperty(exports, \"IdType\", { enumerable: true, get: function () { return types_1.IdType; } });\nObject.defineProperty(exports, \"ExecutionStatusBasic\", { enumerable: true, get: function () { return types_1.ExecutionStatusBasic; } });\nObject.defineProperty(exports, \"FinalExecutionStatusBasic\", { enumerable: true, get: function () { return types_1.FinalExecutionStatusBasic; } });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Signer = exports.InMemorySigner = void 0;\nvar signers_1 = require(\"@near-js/signers\");\nObject.defineProperty(exports, \"InMemorySigner\", { enumerable: true, get: function () { return signers_1.InMemorySigner; } });\nObject.defineProperty(exports, \"Signer\", { enumerable: true, get: function () { return signers_1.Signer; } });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transfer = exports.stake = exports.functionCallAccessKey = exports.functionCall = exports.fullAccessKey = exports.deployContract = exports.deleteKey = exports.deleteAccount = exports.createAccount = exports.addKey = exports.encodeDelegateAction = exports.encodeSignedDelegate = exports.Transaction = exports.SignedTransaction = exports.Signature = exports.signTransaction = exports.createTransaction = exports.SCHEMA = exports.Transfer = exports.Stake = exports.FunctionCallPermission = exports.FunctionCall = exports.FullAccessPermission = exports.DeployContract = exports.DeleteKey = exports.DeleteAccount = exports.CreateAccount = exports.AddKey = exports.AccessKeyPermission = exports.AccessKey = exports.Action = exports.stringifyJsonOrBytes = void 0;\nvar transactions_1 = require(\"@near-js/transactions\");\nObject.defineProperty(exports, \"stringifyJsonOrBytes\", { enumerable: true, get: function () { return transactions_1.stringifyJsonOrBytes; } });\nObject.defineProperty(exports, \"Action\", { enumerable: true, get: function () { return transactions_1.Action; } });\nObject.defineProperty(exports, \"AccessKey\", { enumerable: true, get: function () { return transactions_1.AccessKey; } });\nObject.defineProperty(exports, \"AccessKeyPermission\", { enumerable: true, get: function () { return transactions_1.AccessKeyPermission; } });\nObject.defineProperty(exports, \"AddKey\", { enumerable: true, get: function () { return transactions_1.AddKey; } });\nObject.defineProperty(exports, \"CreateAccount\", { enumerable: true, get: function () { return transactions_1.CreateAccount; } });\nObject.defineProperty(exports, \"DeleteAccount\", { enumerable: true, get: function () { return transactions_1.DeleteAccount; } });\nObject.defineProperty(exports, \"DeleteKey\", { enumerable: true, get: function () { return transactions_1.DeleteKey; } });\nObject.defineProperty(exports, \"DeployContract\", { enumerable: true, get: function () { return transactions_1.DeployContract; } });\nObject.defineProperty(exports, \"FullAccessPermission\", { enumerable: true, get: function () { return transactions_1.FullAccessPermission; } });\nObject.defineProperty(exports, \"FunctionCall\", { enumerable: true, get: function () { return transactions_1.FunctionCall; } });\nObject.defineProperty(exports, \"FunctionCallPermission\", { enumerable: true, get: function () { return transactions_1.FunctionCallPermission; } });\nObject.defineProperty(exports, \"Stake\", { enumerable: true, get: function () { return transactions_1.Stake; } });\nObject.defineProperty(exports, \"Transfer\", { enumerable: true, get: function () { return transactions_1.Transfer; } });\nObject.defineProperty(exports, \"SCHEMA\", { enumerable: true, get: function () { return transactions_1.SCHEMA; } });\nObject.defineProperty(exports, \"createTransaction\", { enumerable: true, get: function () { return transactions_1.createTransaction; } });\nObject.defineProperty(exports, \"signTransaction\", { enumerable: true, get: function () { return transactions_1.signTransaction; } });\nObject.defineProperty(exports, \"Signature\", { enumerable: true, get: function () { return transactions_1.Signature; } });\nObject.defineProperty(exports, \"SignedTransaction\", { enumerable: true, get: function () { return transactions_1.SignedTransaction; } });\nObject.defineProperty(exports, \"Transaction\", { enumerable: true, get: function () { return transactions_1.Transaction; } });\nObject.defineProperty(exports, \"encodeSignedDelegate\", { enumerable: true, get: function () { return transactions_1.encodeSignedDelegate; } });\nObject.defineProperty(exports, \"encodeDelegateAction\", { enumerable: true, get: function () { return transactions_1.encodeDelegateAction; } });\nconst transactions_2 = require(\"@near-js/transactions\");\nconst addKey = (publicKey, accessKey) => transactions_2.actionCreators.addKey(publicKey, accessKey);\nexports.addKey = addKey;\nconst createAccount = () => transactions_2.actionCreators.createAccount();\nexports.createAccount = createAccount;\nconst deleteAccount = (beneficiaryId) => transactions_2.actionCreators.deleteAccount(beneficiaryId);\nexports.deleteAccount = deleteAccount;\nconst deleteKey = (publicKey) => transactions_2.actionCreators.deleteKey(publicKey);\nexports.deleteKey = deleteKey;\nconst deployContract = (code) => transactions_2.actionCreators.deployContract(code);\nexports.deployContract = deployContract;\nconst fullAccessKey = () => transactions_2.actionCreators.fullAccessKey();\nexports.fullAccessKey = fullAccessKey;\nconst functionCall = (methodName, args, gas, deposit, stringify, jsContract) => transactions_2.actionCreators.functionCall(methodName, args, gas, deposit, stringify, jsContract);\nexports.functionCall = functionCall;\nconst functionCallAccessKey = (receiverId, methodNames, allowance) => transactions_2.actionCreators.functionCallAccessKey(receiverId, methodNames, allowance);\nexports.functionCallAccessKey = functionCallAccessKey;\nconst stake = (stake, publicKey) => transactions_2.actionCreators.stake(stake, publicKey);\nexports.stake = stake;\nconst transfer = (deposit) => transactions_2.actionCreators.transfer(deposit);\nexports.transfer = transfer;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Enum = exports.Assignable = void 0;\nvar types_1 = require(\"@near-js/types\");\nObject.defineProperty(exports, \"Assignable\", { enumerable: true, get: function () { return types_1.Assignable; } });\n/** @hidden @module */\nclass Enum {\n    constructor(properties) {\n        if (Object.keys(properties).length !== 1) {\n            throw new Error('Enum can only take single value');\n        }\n        Object.keys(properties).map((key) => {\n            this[key] = properties[key];\n            this.enum = key;\n        });\n    }\n}\nexports.Enum = Enum;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.logWarning = exports.TypedError = exports.PositionalArgsError = exports.ErrorContext = exports.ArgumentTypeError = exports.UnsupportedSerializationError = exports.UnknownArgumentError = exports.ConflictingOptions = exports.ArgumentSchemaError = void 0;\nvar accounts_1 = require(\"@near-js/accounts\");\nObject.defineProperty(exports, \"ArgumentSchemaError\", { enumerable: true, get: function () { return accounts_1.ArgumentSchemaError; } });\nObject.defineProperty(exports, \"ConflictingOptions\", { enumerable: true, get: function () { return accounts_1.ConflictingOptions; } });\nObject.defineProperty(exports, \"UnknownArgumentError\", { enumerable: true, get: function () { return accounts_1.UnknownArgumentError; } });\nObject.defineProperty(exports, \"UnsupportedSerializationError\", { enumerable: true, get: function () { return accounts_1.UnsupportedSerializationError; } });\nvar types_1 = require(\"@near-js/types\");\nObject.defineProperty(exports, \"ArgumentTypeError\", { enumerable: true, get: function () { return types_1.ArgumentTypeError; } });\nObject.defineProperty(exports, \"ErrorContext\", { enumerable: true, get: function () { return types_1.ErrorContext; } });\nObject.defineProperty(exports, \"PositionalArgsError\", { enumerable: true, get: function () { return types_1.PositionalArgsError; } });\nObject.defineProperty(exports, \"TypedError\", { enumerable: true, get: function () { return types_1.TypedError; } });\nvar utils_1 = require(\"@near-js/utils\");\nObject.defineProperty(exports, \"logWarning\", { enumerable: true, get: function () { return utils_1.logWarning; } });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.parseNearAmount = exports.formatNearAmount = exports.NEAR_NOMINATION_EXP = exports.NEAR_NOMINATION = void 0;\nvar utils_1 = require(\"@near-js/utils\");\nObject.defineProperty(exports, \"NEAR_NOMINATION\", { enumerable: true, get: function () { return utils_1.NEAR_NOMINATION; } });\nObject.defineProperty(exports, \"NEAR_NOMINATION_EXP\", { enumerable: true, get: function () { return utils_1.NEAR_NOMINATION_EXP; } });\nObject.defineProperty(exports, \"formatNearAmount\", { enumerable: true, get: function () { return utils_1.formatNearAmount; } });\nObject.defineProperty(exports, \"parseNearAmount\", { enumerable: true, get: function () { return utils_1.parseNearAmount; } });\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.logWarning = exports.rpc_errors = exports.KeyPairEd25519 = exports.KeyPair = exports.PublicKey = exports.format = exports.enums = exports.web = exports.serialize = exports.key_pair = void 0;\nconst key_pair = __importStar(require(\"./key_pair\"));\nexports.key_pair = key_pair;\nconst serialize = __importStar(require(\"./serialize\"));\nexports.serialize = serialize;\nconst web = __importStar(require(\"./web\"));\nexports.web = web;\nconst enums = __importStar(require(\"./enums\"));\nexports.enums = enums;\nconst format = __importStar(require(\"./format\"));\nexports.format = format;\nconst rpc_errors = __importStar(require(\"./rpc_errors\"));\nexports.rpc_errors = rpc_errors;\nconst key_pair_1 = require(\"./key_pair\");\nObject.defineProperty(exports, \"PublicKey\", { enumerable: true, get: function () { return key_pair_1.PublicKey; } });\nObject.defineProperty(exports, \"KeyPair\", { enumerable: true, get: function () { return key_pair_1.KeyPair; } });\nObject.defineProperty(exports, \"KeyPairEd25519\", { enumerable: true, get: function () { return key_pair_1.KeyPairEd25519; } });\nconst errors_1 = require(\"./errors\");\nObject.defineProperty(exports, \"logWarning\", { enumerable: true, get: function () { return errors_1.logWarning; } });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.PublicKey = exports.KeyType = exports.KeyPairEd25519 = exports.KeyPair = void 0;\nvar crypto_1 = require(\"@near-js/crypto\");\nObject.defineProperty(exports, \"KeyPair\", { enumerable: true, get: function () { return crypto_1.KeyPair; } });\nObject.defineProperty(exports, \"KeyPairEd25519\", { enumerable: true, get: function () { return crypto_1.KeyPairEd25519; } });\nObject.defineProperty(exports, \"KeyType\", { enumerable: true, get: function () { return crypto_1.KeyType; } });\nObject.defineProperty(exports, \"PublicKey\", { enumerable: true, get: function () { return crypto_1.PublicKey; } });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ServerError = exports.getErrorTypeFromErrorMessage = exports.formatError = exports.parseResultError = exports.parseRpcError = void 0;\nvar utils_1 = require(\"@near-js/utils\");\nObject.defineProperty(exports, \"parseRpcError\", { enumerable: true, get: function () { return utils_1.parseRpcError; } });\nObject.defineProperty(exports, \"parseResultError\", { enumerable: true, get: function () { return utils_1.parseResultError; } });\nObject.defineProperty(exports, \"formatError\", { enumerable: true, get: function () { return utils_1.formatError; } });\nObject.defineProperty(exports, \"getErrorTypeFromErrorMessage\", { enumerable: true, get: function () { return utils_1.getErrorTypeFromErrorMessage; } });\nObject.defineProperty(exports, \"ServerError\", { enumerable: true, get: function () { return utils_1.ServerError; } });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BinaryReader = exports.BinaryWriter = exports.BorshError = exports.deserialize = exports.serialize = exports.base_decode = exports.base_encode = void 0;\nvar borsh_1 = require(\"borsh\");\nObject.defineProperty(exports, \"base_encode\", { enumerable: true, get: function () { return borsh_1.baseEncode; } });\nObject.defineProperty(exports, \"base_decode\", { enumerable: true, get: function () { return borsh_1.baseDecode; } });\nObject.defineProperty(exports, \"serialize\", { enumerable: true, get: function () { return borsh_1.serialize; } });\nObject.defineProperty(exports, \"deserialize\", { enumerable: true, get: function () { return borsh_1.deserialize; } });\nObject.defineProperty(exports, \"BorshError\", { enumerable: true, get: function () { return borsh_1.BorshError; } });\nObject.defineProperty(exports, \"BinaryWriter\", { enumerable: true, get: function () { return borsh_1.BinaryWriter; } });\nObject.defineProperty(exports, \"BinaryReader\", { enumerable: true, get: function () { return borsh_1.BinaryReader; } });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.fetchJson = void 0;\nvar providers_1 = require(\"@near-js/providers\");\nObject.defineProperty(exports, \"fetchJson\", { enumerable: true, get: function () { return providers_1.fetchJson; } });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.findSeatPrice = exports.diffEpochValidators = void 0;\nvar utils_1 = require(\"@near-js/utils\");\nObject.defineProperty(exports, \"diffEpochValidators\", { enumerable: true, get: function () { return utils_1.diffEpochValidators; } });\nObject.defineProperty(exports, \"findSeatPrice\", { enumerable: true, get: function () { return utils_1.findSeatPrice; } });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WalletConnection = exports.ConnectedWalletAccount = void 0;\nvar wallet_account_1 = require(\"@near-js/wallet-account\");\nObject.defineProperty(exports, \"ConnectedWalletAccount\", { enumerable: true, get: function () { return wallet_account_1.ConnectedWalletAccount; } });\nObject.defineProperty(exports, \"WalletConnection\", { enumerable: true, get: function () { return wallet_account_1.WalletConnection; } });\n","'use strict';\n\nvar ensureCallable = function (fn) {\n\tif (typeof fn !== 'function') throw new TypeError(fn + \" is not a function\");\n\treturn fn;\n};\n\nvar byObserver = function (Observer) {\n\tvar node = document.createTextNode(''), queue, currentQueue, i = 0;\n\tnew Observer(function () {\n\t\tvar callback;\n\t\tif (!queue) {\n\t\t\tif (!currentQueue) return;\n\t\t\tqueue = currentQueue;\n\t\t} else if (currentQueue) {\n\t\t\tqueue = currentQueue.concat(queue);\n\t\t}\n\t\tcurrentQueue = queue;\n\t\tqueue = null;\n\t\tif (typeof currentQueue === 'function') {\n\t\t\tcallback = currentQueue;\n\t\t\tcurrentQueue = null;\n\t\t\tcallback();\n\t\t\treturn;\n\t\t}\n\t\tnode.data = (i = ++i % 2); // Invoke other batch, to handle leftover callbacks in case of crash\n\t\twhile (currentQueue) {\n\t\t\tcallback = currentQueue.shift();\n\t\t\tif (!currentQueue.length) currentQueue = null;\n\t\t\tcallback();\n\t\t}\n\t}).observe(node, { characterData: true });\n\treturn function (fn) {\n\t\tensureCallable(fn);\n\t\tif (queue) {\n\t\t\tif (typeof queue === 'function') queue = [queue, fn];\n\t\t\telse queue.push(fn);\n\t\t\treturn;\n\t\t}\n\t\tqueue = fn;\n\t\tnode.data = (i = ++i % 2);\n\t};\n};\n\nmodule.exports = (function () {\n\t// Node.js\n\tif ((typeof process === 'object') && process && (typeof process.nextTick === 'function')) {\n\t\treturn process.nextTick;\n\t}\n\n\t// queueMicrotask\n\tif (typeof queueMicrotask === \"function\") {\n\t\treturn function (cb) { queueMicrotask(ensureCallable(cb)); };\n\t}\n\n\t// MutationObserver\n\tif ((typeof document === 'object') && document) {\n\t\tif (typeof MutationObserver === 'function') return byObserver(MutationObserver);\n\t\tif (typeof WebKitMutationObserver === 'function') return byObserver(WebKitMutationObserver);\n\t}\n\n\t// W3C Draft\n\t// http://dvcs.w3.org/hg/webperf/raw-file/tip/specs/setImmediate/Overview.html\n\tif (typeof setImmediate === 'function') {\n\t\treturn function (cb) { setImmediate(ensureCallable(cb)); };\n\t}\n\n\t// Wide available standard\n\tif ((typeof setTimeout === 'function') || (typeof setTimeout === 'object')) {\n\t\treturn function (cb) { setTimeout(ensureCallable(cb), 0); };\n\t}\n\n\treturn null;\n}());\n","\"use strict\";\n\n// ref: https://github.com/tc39/proposal-global\nvar getGlobal = function () {\n\t// the only reliable means to get the global object is\n\t// `Function('return this')()`\n\t// However, this causes CSP violations in Chrome apps.\n\tif (typeof self !== 'undefined') { return self; }\n\tif (typeof window !== 'undefined') { return window; }\n\tif (typeof global !== 'undefined') { return global; }\n\tthrow new Error('unable to locate global object');\n}\n\nvar globalObject = getGlobal();\n\nmodule.exports = exports = globalObject.fetch;\n\n// Needed for TypeScript and Webpack.\nif (globalObject.fetch) {\n\texports.default = globalObject.fetch.bind(globalObject);\n}\n\nexports.Headers = globalObject.Headers;\nexports.Request = globalObject.Request;\nexports.Response = globalObject.Response;\n","/*\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\nfunction normalizeColor(color) {\n  var match;\n\n  if (typeof color === 'number') {\n    if (color >>> 0 === color && color >= 0 && color <= 0xffffffff) {\n      return color;\n    }\n    return null;\n  }\n\n  // Ordered based on occurrences on Facebook codebase\n  if ((match = matchers.hex6.exec(color))) {\n    return parseInt(match[1] + 'ff', 16) >>> 0;\n  }\n\n  if (names.hasOwnProperty(color)) {\n    return names[color];\n  }\n\n  if ((match = matchers.rgb.exec(color))) {\n    return (\n        parse255(match[1]) << 24 | // r\n        parse255(match[2]) << 16 | // g\n        parse255(match[3]) << 8 | // b\n        0x000000ff // a\n      ) >>> 0;\n  }\n\n  if ((match = matchers.rgba.exec(color))) {\n    return (\n        parse255(match[1]) << 24 | // r\n        parse255(match[2]) << 16 | // g\n        parse255(match[3]) << 8 | // b\n        parse1(match[4]) // a\n      ) >>> 0;\n  }\n\n  if ((match = matchers.hex3.exec(color))) {\n    return parseInt(\n        match[1] + match[1] + // r\n        match[2] + match[2] + // g\n        match[3] + match[3] + // b\n        'ff', // a\n        16\n      ) >>> 0;\n  }\n\n  // https://drafts.csswg.org/css-color-4/#hex-notation\n  if ((match = matchers.hex8.exec(color))) {\n    return parseInt(match[1], 16) >>> 0;\n  }\n\n  if ((match = matchers.hex4.exec(color))) {\n    return parseInt(\n        match[1] + match[1] + // r\n        match[2] + match[2] + // g\n        match[3] + match[3] + // b\n        match[4] + match[4], // a\n        16\n      ) >>> 0;\n  }\n\n  if ((match = matchers.hsl.exec(color))) {\n    return (\n        hslToRgb(\n          parse360(match[1]), // h\n          parsePercentage(match[2]), // s\n          parsePercentage(match[3]) // l\n        ) |\n        0x000000ff // a\n      ) >>> 0;\n  }\n\n  if ((match = matchers.hsla.exec(color))) {\n    return (\n        hslToRgb(\n          parse360(match[1]), // h\n          parsePercentage(match[2]), // s\n          parsePercentage(match[3]) // l\n        ) |\n        parse1(match[4]) // a\n      ) >>> 0;\n  }\n\n  return null;\n}\n\nfunction hue2rgb(p, q, t) {\n  if (t < 0) {\n    t += 1;\n  }\n  if (t > 1) {\n    t -= 1;\n  }\n  if (t < 1 / 6) {\n    return p + (q - p) * 6 * t;\n  }\n  if (t < 1 / 2) {\n    return q;\n  }\n  if (t < 2 / 3) {\n    return p + (q - p) * (2 / 3 - t) * 6;\n  }\n  return p;\n}\n\nfunction hslToRgb(h, s, l) {\n  var q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n  var p = 2 * l - q;\n  var r = hue2rgb(p, q, h + 1 / 3);\n  var g = hue2rgb(p, q, h);\n  var b = hue2rgb(p, q, h - 1 / 3);\n\n  return (\n    Math.round(r * 255) << 24 |\n    Math.round(g * 255) << 16 |\n    Math.round(b * 255) << 8\n  );\n}\n\n// var INTEGER = '[-+]?\\\\d+';\nvar NUMBER = '[-+]?\\\\d*\\\\.?\\\\d+';\nvar PERCENTAGE = NUMBER + '%';\n\nfunction toArray(arrayLike) {\n  return Array.prototype.slice.call(arrayLike, 0);\n}\n\nfunction call() {\n  return '\\\\(\\\\s*(' + toArray(arguments).join(')\\\\s*,\\\\s*(') + ')\\\\s*\\\\)';\n}\n\nvar matchers = {\n  rgb: new RegExp('rgb' + call(NUMBER, NUMBER, NUMBER)),\n  rgba: new RegExp('rgba' + call(NUMBER, NUMBER, NUMBER, NUMBER)),\n  hsl: new RegExp('hsl' + call(NUMBER, PERCENTAGE, PERCENTAGE)),\n  hsla: new RegExp('hsla' + call(NUMBER, PERCENTAGE, PERCENTAGE, NUMBER)),\n  hex3: /^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,\n  hex4: /^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,\n  hex6: /^#([0-9a-fA-F]{6})$/,\n  hex8: /^#([0-9a-fA-F]{8})$/,\n};\n\nfunction parse255(str) {\n  var int = parseInt(str, 10);\n  if (int < 0) {\n    return 0;\n  }\n  if (int > 255) {\n    return 255;\n  }\n  return int;\n}\n\nfunction parse360(str) {\n  var int = parseFloat(str);\n  return (((int % 360) + 360) % 360) / 360;\n}\n\nfunction parse1(str) {\n  var num = parseFloat(str);\n  if (num < 0) {\n    return 0;\n  }\n  if (num > 1) {\n    return 255;\n  }\n  return Math.round(num * 255);\n}\n\nfunction parsePercentage(str) {\n  // parseFloat conveniently ignores the final %\n  var int = parseFloat(str, 10);\n  if (int < 0) {\n    return 0;\n  }\n  if (int > 100) {\n    return 1;\n  }\n  return int / 100;\n}\n\nvar names = {\n  transparent: 0x00000000,\n\n  // http://www.w3.org/TR/css3-color/#svg-color\n  aliceblue: 0xf0f8ffff,\n  antiquewhite: 0xfaebd7ff,\n  aqua: 0x00ffffff,\n  aquamarine: 0x7fffd4ff,\n  azure: 0xf0ffffff,\n  beige: 0xf5f5dcff,\n  bisque: 0xffe4c4ff,\n  black: 0x000000ff,\n  blanchedalmond: 0xffebcdff,\n  blue: 0x0000ffff,\n  blueviolet: 0x8a2be2ff,\n  brown: 0xa52a2aff,\n  burlywood: 0xdeb887ff,\n  burntsienna: 0xea7e5dff,\n  cadetblue: 0x5f9ea0ff,\n  chartreuse: 0x7fff00ff,\n  chocolate: 0xd2691eff,\n  coral: 0xff7f50ff,\n  cornflowerblue: 0x6495edff,\n  cornsilk: 0xfff8dcff,\n  crimson: 0xdc143cff,\n  cyan: 0x00ffffff,\n  darkblue: 0x00008bff,\n  darkcyan: 0x008b8bff,\n  darkgoldenrod: 0xb8860bff,\n  darkgray: 0xa9a9a9ff,\n  darkgreen: 0x006400ff,\n  darkgrey: 0xa9a9a9ff,\n  darkkhaki: 0xbdb76bff,\n  darkmagenta: 0x8b008bff,\n  darkolivegreen: 0x556b2fff,\n  darkorange: 0xff8c00ff,\n  darkorchid: 0x9932ccff,\n  darkred: 0x8b0000ff,\n  darksalmon: 0xe9967aff,\n  darkseagreen: 0x8fbc8fff,\n  darkslateblue: 0x483d8bff,\n  darkslategray: 0x2f4f4fff,\n  darkslategrey: 0x2f4f4fff,\n  darkturquoise: 0x00ced1ff,\n  darkviolet: 0x9400d3ff,\n  deeppink: 0xff1493ff,\n  deepskyblue: 0x00bfffff,\n  dimgray: 0x696969ff,\n  dimgrey: 0x696969ff,\n  dodgerblue: 0x1e90ffff,\n  firebrick: 0xb22222ff,\n  floralwhite: 0xfffaf0ff,\n  forestgreen: 0x228b22ff,\n  fuchsia: 0xff00ffff,\n  gainsboro: 0xdcdcdcff,\n  ghostwhite: 0xf8f8ffff,\n  gold: 0xffd700ff,\n  goldenrod: 0xdaa520ff,\n  gray: 0x808080ff,\n  green: 0x008000ff,\n  greenyellow: 0xadff2fff,\n  grey: 0x808080ff,\n  honeydew: 0xf0fff0ff,\n  hotpink: 0xff69b4ff,\n  indianred: 0xcd5c5cff,\n  indigo: 0x4b0082ff,\n  ivory: 0xfffff0ff,\n  khaki: 0xf0e68cff,\n  lavender: 0xe6e6faff,\n  lavenderblush: 0xfff0f5ff,\n  lawngreen: 0x7cfc00ff,\n  lemonchiffon: 0xfffacdff,\n  lightblue: 0xadd8e6ff,\n  lightcoral: 0xf08080ff,\n  lightcyan: 0xe0ffffff,\n  lightgoldenrodyellow: 0xfafad2ff,\n  lightgray: 0xd3d3d3ff,\n  lightgreen: 0x90ee90ff,\n  lightgrey: 0xd3d3d3ff,\n  lightpink: 0xffb6c1ff,\n  lightsalmon: 0xffa07aff,\n  lightseagreen: 0x20b2aaff,\n  lightskyblue: 0x87cefaff,\n  lightslategray: 0x778899ff,\n  lightslategrey: 0x778899ff,\n  lightsteelblue: 0xb0c4deff,\n  lightyellow: 0xffffe0ff,\n  lime: 0x00ff00ff,\n  limegreen: 0x32cd32ff,\n  linen: 0xfaf0e6ff,\n  magenta: 0xff00ffff,\n  maroon: 0x800000ff,\n  mediumaquamarine: 0x66cdaaff,\n  mediumblue: 0x0000cdff,\n  mediumorchid: 0xba55d3ff,\n  mediumpurple: 0x9370dbff,\n  mediumseagreen: 0x3cb371ff,\n  mediumslateblue: 0x7b68eeff,\n  mediumspringgreen: 0x00fa9aff,\n  mediumturquoise: 0x48d1ccff,\n  mediumvioletred: 0xc71585ff,\n  midnightblue: 0x191970ff,\n  mintcream: 0xf5fffaff,\n  mistyrose: 0xffe4e1ff,\n  moccasin: 0xffe4b5ff,\n  navajowhite: 0xffdeadff,\n  navy: 0x000080ff,\n  oldlace: 0xfdf5e6ff,\n  olive: 0x808000ff,\n  olivedrab: 0x6b8e23ff,\n  orange: 0xffa500ff,\n  orangered: 0xff4500ff,\n  orchid: 0xda70d6ff,\n  palegoldenrod: 0xeee8aaff,\n  palegreen: 0x98fb98ff,\n  paleturquoise: 0xafeeeeff,\n  palevioletred: 0xdb7093ff,\n  papayawhip: 0xffefd5ff,\n  peachpuff: 0xffdab9ff,\n  peru: 0xcd853fff,\n  pink: 0xffc0cbff,\n  plum: 0xdda0ddff,\n  powderblue: 0xb0e0e6ff,\n  purple: 0x800080ff,\n  rebeccapurple: 0x663399ff,\n  red: 0xff0000ff,\n  rosybrown: 0xbc8f8fff,\n  royalblue: 0x4169e1ff,\n  saddlebrown: 0x8b4513ff,\n  salmon: 0xfa8072ff,\n  sandybrown: 0xf4a460ff,\n  seagreen: 0x2e8b57ff,\n  seashell: 0xfff5eeff,\n  sienna: 0xa0522dff,\n  silver: 0xc0c0c0ff,\n  skyblue: 0x87ceebff,\n  slateblue: 0x6a5acdff,\n  slategray: 0x708090ff,\n  slategrey: 0x708090ff,\n  snow: 0xfffafaff,\n  springgreen: 0x00ff7fff,\n  steelblue: 0x4682b4ff,\n  tan: 0xd2b48cff,\n  teal: 0x008080ff,\n  thistle: 0xd8bfd8ff,\n  tomato: 0xff6347ff,\n  turquoise: 0x40e0d0ff,\n  violet: 0xee82eeff,\n  wheat: 0xf5deb3ff,\n  white: 0xffffffff,\n  whitesmoke: 0xf5f5f5ff,\n  yellow: 0xffff00ff,\n  yellowgreen: 0x9acd32ff,\n};\n\nfunction rgba(colorInt) {\n  var r = Math.round(((colorInt & 0xff000000) >>> 24));\n  var g = Math.round(((colorInt & 0x00ff0000) >>> 16));\n  var b = Math.round(((colorInt & 0x0000ff00) >>> 8));\n  var a = ((colorInt & 0x000000ff) >>> 0) / 255;\n  return {\n    r: r,\n    g: g,\n    b: b,\n    a: a,\n  };\n};\n\nnormalizeColor.rgba = rgba;\n\nmodule.exports = normalizeColor;\n","(function (module, exports) {\n  'use strict';\n\n  // Utils\n  function assert (val, msg) {\n    if (!val) throw new Error(msg || 'Assertion failed');\n  }\n\n  // Could use `inherits` module, but don't want to move from single file\n  // architecture yet.\n  function inherits (ctor, superCtor) {\n    ctor.super_ = superCtor;\n    var TempCtor = function () {};\n    TempCtor.prototype = superCtor.prototype;\n    ctor.prototype = new TempCtor();\n    ctor.prototype.constructor = ctor;\n  }\n\n  // BN\n\n  function BN (number, base, endian) {\n    if (BN.isBN(number)) {\n      return number;\n    }\n\n    this.negative = 0;\n    this.words = null;\n    this.length = 0;\n\n    // Reduction context\n    this.red = null;\n\n    if (number !== null) {\n      if (base === 'le' || base === 'be') {\n        endian = base;\n        base = 10;\n      }\n\n      this._init(number || 0, base || 10, endian || 'be');\n    }\n  }\n  if (typeof module === 'object') {\n    module.exports = BN;\n  } else {\n    exports.BN = BN;\n  }\n\n  BN.BN = BN;\n  BN.wordSize = 26;\n\n  var Buffer;\n  try {\n    Buffer = require('buf' + 'fer').Buffer;\n  } catch (e) {\n  }\n\n  BN.isBN = function isBN (num) {\n    if (num instanceof BN) {\n      return true;\n    }\n\n    return num !== null && typeof num === 'object' &&\n      num.constructor.wordSize === BN.wordSize && Array.isArray(num.words);\n  };\n\n  BN.max = function max (left, right) {\n    if (left.cmp(right) > 0) return left;\n    return right;\n  };\n\n  BN.min = function min (left, right) {\n    if (left.cmp(right) < 0) return left;\n    return right;\n  };\n\n  BN.prototype._init = function init (number, base, endian) {\n    if (typeof number === 'number') {\n      return this._initNumber(number, base, endian);\n    }\n\n    if (typeof number === 'object') {\n      return this._initArray(number, base, endian);\n    }\n\n    if (base === 'hex') {\n      base = 16;\n    }\n    assert(base === (base | 0) && base >= 2 && base <= 36);\n\n    number = number.toString().replace(/\\s+/g, '');\n    var start = 0;\n    if (number[0] === '-') {\n      start++;\n    }\n\n    if (base === 16) {\n      this._parseHex(number, start);\n    } else {\n      this._parseBase(number, base, start);\n    }\n\n    if (number[0] === '-') {\n      this.negative = 1;\n    }\n\n    this.strip();\n\n    if (endian !== 'le') return;\n\n    this._initArray(this.toArray(), base, endian);\n  };\n\n  BN.prototype._initNumber = function _initNumber (number, base, endian) {\n    if (number < 0) {\n      this.negative = 1;\n      number = -number;\n    }\n    if (number < 0x4000000) {\n      this.words = [ number & 0x3ffffff ];\n      this.length = 1;\n    } else if (number < 0x10000000000000) {\n      this.words = [\n        number & 0x3ffffff,\n        (number / 0x4000000) & 0x3ffffff\n      ];\n      this.length = 2;\n    } else {\n      assert(number < 0x20000000000000); // 2 ^ 53 (unsafe)\n      this.words = [\n        number & 0x3ffffff,\n        (number / 0x4000000) & 0x3ffffff,\n        1\n      ];\n      this.length = 3;\n    }\n\n    if (endian !== 'le') return;\n\n    // Reverse the bytes\n    this._initArray(this.toArray(), base, endian);\n  };\n\n  BN.prototype._initArray = function _initArray (number, base, endian) {\n    // Perhaps a Uint8Array\n    assert(typeof number.length === 'number');\n    if (number.length <= 0) {\n      this.words = [ 0 ];\n      this.length = 1;\n      return this;\n    }\n\n    this.length = Math.ceil(number.length / 3);\n    this.words = new Array(this.length);\n    for (var i = 0; i < this.length; i++) {\n      this.words[i] = 0;\n    }\n\n    var j, w;\n    var off = 0;\n    if (endian === 'be') {\n      for (i = number.length - 1, j = 0; i >= 0; i -= 3) {\n        w = number[i] | (number[i - 1] << 8) | (number[i - 2] << 16);\n        this.words[j] |= (w << off) & 0x3ffffff;\n        this.words[j + 1] = (w >>> (26 - off)) & 0x3ffffff;\n        off += 24;\n        if (off >= 26) {\n          off -= 26;\n          j++;\n        }\n      }\n    } else if (endian === 'le') {\n      for (i = 0, j = 0; i < number.length; i += 3) {\n        w = number[i] | (number[i + 1] << 8) | (number[i + 2] << 16);\n        this.words[j] |= (w << off) & 0x3ffffff;\n        this.words[j + 1] = (w >>> (26 - off)) & 0x3ffffff;\n        off += 24;\n        if (off >= 26) {\n          off -= 26;\n          j++;\n        }\n      }\n    }\n    return this.strip();\n  };\n\n  function parseHex (str, start, end) {\n    var r = 0;\n    var len = Math.min(str.length, end);\n    for (var i = start; i < len; i++) {\n      var c = str.charCodeAt(i) - 48;\n\n      r <<= 4;\n\n      // 'a' - 'f'\n      if (c >= 49 && c <= 54) {\n        r |= c - 49 + 0xa;\n\n      // 'A' - 'F'\n      } else if (c >= 17 && c <= 22) {\n        r |= c - 17 + 0xa;\n\n      // '0' - '9'\n      } else {\n        r |= c & 0xf;\n      }\n    }\n    return r;\n  }\n\n  BN.prototype._parseHex = function _parseHex (number, start) {\n    // Create possibly bigger array to ensure that it fits the number\n    this.length = Math.ceil((number.length - start) / 6);\n    this.words = new Array(this.length);\n    for (var i = 0; i < this.length; i++) {\n      this.words[i] = 0;\n    }\n\n    var j, w;\n    // Scan 24-bit chunks and add them to the number\n    var off = 0;\n    for (i = number.length - 6, j = 0; i >= start; i -= 6) {\n      w = parseHex(number, i, i + 6);\n      this.words[j] |= (w << off) & 0x3ffffff;\n      // NOTE: `0x3fffff` is intentional here, 26bits max shift + 24bit hex limb\n      this.words[j + 1] |= w >>> (26 - off) & 0x3fffff;\n      off += 24;\n      if (off >= 26) {\n        off -= 26;\n        j++;\n      }\n    }\n    if (i + 6 !== start) {\n      w = parseHex(number, start, i + 6);\n      this.words[j] |= (w << off) & 0x3ffffff;\n      this.words[j + 1] |= w >>> (26 - off) & 0x3fffff;\n    }\n    this.strip();\n  };\n\n  function parseBase (str, start, end, mul) {\n    var r = 0;\n    var len = Math.min(str.length, end);\n    for (var i = start; i < len; i++) {\n      var c = str.charCodeAt(i) - 48;\n\n      r *= mul;\n\n      // 'a'\n      if (c >= 49) {\n        r += c - 49 + 0xa;\n\n      // 'A'\n      } else if (c >= 17) {\n        r += c - 17 + 0xa;\n\n      // '0' - '9'\n      } else {\n        r += c;\n      }\n    }\n    return r;\n  }\n\n  BN.prototype._parseBase = function _parseBase (number, base, start) {\n    // Initialize as zero\n    this.words = [ 0 ];\n    this.length = 1;\n\n    // Find length of limb in base\n    for (var limbLen = 0, limbPow = 1; limbPow <= 0x3ffffff; limbPow *= base) {\n      limbLen++;\n    }\n    limbLen--;\n    limbPow = (limbPow / base) | 0;\n\n    var total = number.length - start;\n    var mod = total % limbLen;\n    var end = Math.min(total, total - mod) + start;\n\n    var word = 0;\n    for (var i = start; i < end; i += limbLen) {\n      word = parseBase(number, i, i + limbLen, base);\n\n      this.imuln(limbPow);\n      if (this.words[0] + word < 0x4000000) {\n        this.words[0] += word;\n      } else {\n        this._iaddn(word);\n      }\n    }\n\n    if (mod !== 0) {\n      var pow = 1;\n      word = parseBase(number, i, number.length, base);\n\n      for (i = 0; i < mod; i++) {\n        pow *= base;\n      }\n\n      this.imuln(pow);\n      if (this.words[0] + word < 0x4000000) {\n        this.words[0] += word;\n      } else {\n        this._iaddn(word);\n      }\n    }\n  };\n\n  BN.prototype.copy = function copy (dest) {\n    dest.words = new Array(this.length);\n    for (var i = 0; i < this.length; i++) {\n      dest.words[i] = this.words[i];\n    }\n    dest.length = this.length;\n    dest.negative = this.negative;\n    dest.red = this.red;\n  };\n\n  BN.prototype.clone = function clone () {\n    var r = new BN(null);\n    this.copy(r);\n    return r;\n  };\n\n  BN.prototype._expand = function _expand (size) {\n    while (this.length < size) {\n      this.words[this.length++] = 0;\n    }\n    return this;\n  };\n\n  // Remove leading `0` from `this`\n  BN.prototype.strip = function strip () {\n    while (this.length > 1 && this.words[this.length - 1] === 0) {\n      this.length--;\n    }\n    return this._normSign();\n  };\n\n  BN.prototype._normSign = function _normSign () {\n    // -0 = 0\n    if (this.length === 1 && this.words[0] === 0) {\n      this.negative = 0;\n    }\n    return this;\n  };\n\n  BN.prototype.inspect = function inspect () {\n    return (this.red ? '<BN-R: ' : '<BN: ') + this.toString(16) + '>';\n  };\n\n  /*\n\n  var zeros = [];\n  var groupSizes = [];\n  var groupBases = [];\n\n  var s = '';\n  var i = -1;\n  while (++i < BN.wordSize) {\n    zeros[i] = s;\n    s += '0';\n  }\n  groupSizes[0] = 0;\n  groupSizes[1] = 0;\n  groupBases[0] = 0;\n  groupBases[1] = 0;\n  var base = 2 - 1;\n  while (++base < 36 + 1) {\n    var groupSize = 0;\n    var groupBase = 1;\n    while (groupBase < (1 << BN.wordSize) / base) {\n      groupBase *= base;\n      groupSize += 1;\n    }\n    groupSizes[base] = groupSize;\n    groupBases[base] = groupBase;\n  }\n\n  */\n\n  var zeros = [\n    '',\n    '0',\n    '00',\n    '000',\n    '0000',\n    '00000',\n    '000000',\n    '0000000',\n    '00000000',\n    '000000000',\n    '0000000000',\n    '00000000000',\n    '000000000000',\n    '0000000000000',\n    '00000000000000',\n    '000000000000000',\n    '0000000000000000',\n    '00000000000000000',\n    '000000000000000000',\n    '0000000000000000000',\n    '00000000000000000000',\n    '000000000000000000000',\n    '0000000000000000000000',\n    '00000000000000000000000',\n    '000000000000000000000000',\n    '0000000000000000000000000'\n  ];\n\n  var groupSizes = [\n    0, 0,\n    25, 16, 12, 11, 10, 9, 8,\n    8, 7, 7, 7, 7, 6, 6,\n    6, 6, 6, 6, 6, 5, 5,\n    5, 5, 5, 5, 5, 5, 5,\n    5, 5, 5, 5, 5, 5, 5\n  ];\n\n  var groupBases = [\n    0, 0,\n    33554432, 43046721, 16777216, 48828125, 60466176, 40353607, 16777216,\n    43046721, 10000000, 19487171, 35831808, 62748517, 7529536, 11390625,\n    16777216, 24137569, 34012224, 47045881, 64000000, 4084101, 5153632,\n    6436343, 7962624, 9765625, 11881376, 14348907, 17210368, 20511149,\n    24300000, 28629151, 33554432, 39135393, 45435424, 52521875, 60466176\n  ];\n\n  BN.prototype.toString = function toString (base, padding) {\n    base = base || 10;\n    padding = padding | 0 || 1;\n\n    var out;\n    if (base === 16 || base === 'hex') {\n      out = '';\n      var off = 0;\n      var carry = 0;\n      for (var i = 0; i < this.length; i++) {\n        var w = this.words[i];\n        var word = (((w << off) | carry) & 0xffffff).toString(16);\n        carry = (w >>> (24 - off)) & 0xffffff;\n        if (carry !== 0 || i !== this.length - 1) {\n          out = zeros[6 - word.length] + word + out;\n        } else {\n          out = word + out;\n        }\n        off += 2;\n        if (off >= 26) {\n          off -= 26;\n          i--;\n        }\n      }\n      if (carry !== 0) {\n        out = carry.toString(16) + out;\n      }\n      while (out.length % padding !== 0) {\n        out = '0' + out;\n      }\n      if (this.negative !== 0) {\n        out = '-' + out;\n      }\n      return out;\n    }\n\n    if (base === (base | 0) && base >= 2 && base <= 36) {\n      // var groupSize = Math.floor(BN.wordSize * Math.LN2 / Math.log(base));\n      var groupSize = groupSizes[base];\n      // var groupBase = Math.pow(base, groupSize);\n      var groupBase = groupBases[base];\n      out = '';\n      var c = this.clone();\n      c.negative = 0;\n      while (!c.isZero()) {\n        var r = c.modn(groupBase).toString(base);\n        c = c.idivn(groupBase);\n\n        if (!c.isZero()) {\n          out = zeros[groupSize - r.length] + r + out;\n        } else {\n          out = r + out;\n        }\n      }\n      if (this.isZero()) {\n        out = '0' + out;\n      }\n      while (out.length % padding !== 0) {\n        out = '0' + out;\n      }\n      if (this.negative !== 0) {\n        out = '-' + out;\n      }\n      return out;\n    }\n\n    assert(false, 'Base should be between 2 and 36');\n  };\n\n  BN.prototype.toNumber = function toNumber () {\n    var ret = this.words[0];\n    if (this.length === 2) {\n      ret += this.words[1] * 0x4000000;\n    } else if (this.length === 3 && this.words[2] === 0x01) {\n      // NOTE: at this stage it is known that the top bit is set\n      ret += 0x10000000000000 + (this.words[1] * 0x4000000);\n    } else if (this.length > 2) {\n      assert(false, 'Number can only safely store up to 53 bits');\n    }\n    return (this.negative !== 0) ? -ret : ret;\n  };\n\n  BN.prototype.toJSON = function toJSON () {\n    return this.toString(16);\n  };\n\n  BN.prototype.toBuffer = function toBuffer (endian, length) {\n    assert(typeof Buffer !== 'undefined');\n    return this.toArrayLike(Buffer, endian, length);\n  };\n\n  BN.prototype.toArray = function toArray (endian, length) {\n    return this.toArrayLike(Array, endian, length);\n  };\n\n  BN.prototype.toArrayLike = function toArrayLike (ArrayType, endian, length) {\n    var byteLength = this.byteLength();\n    var reqLength = length || Math.max(1, byteLength);\n    assert(byteLength <= reqLength, 'byte array longer than desired length');\n    assert(reqLength > 0, 'Requested array length <= 0');\n\n    this.strip();\n    var littleEndian = endian === 'le';\n    var res = new ArrayType(reqLength);\n\n    var b, i;\n    var q = this.clone();\n    if (!littleEndian) {\n      // Assume big-endian\n      for (i = 0; i < reqLength - byteLength; i++) {\n        res[i] = 0;\n      }\n\n      for (i = 0; !q.isZero(); i++) {\n        b = q.andln(0xff);\n        q.iushrn(8);\n\n        res[reqLength - i - 1] = b;\n      }\n    } else {\n      for (i = 0; !q.isZero(); i++) {\n        b = q.andln(0xff);\n        q.iushrn(8);\n\n        res[i] = b;\n      }\n\n      for (; i < reqLength; i++) {\n        res[i] = 0;\n      }\n    }\n\n    return res;\n  };\n\n  if (Math.clz32) {\n    BN.prototype._countBits = function _countBits (w) {\n      return 32 - Math.clz32(w);\n    };\n  } else {\n    BN.prototype._countBits = function _countBits (w) {\n      var t = w;\n      var r = 0;\n      if (t >= 0x1000) {\n        r += 13;\n        t >>>= 13;\n      }\n      if (t >= 0x40) {\n        r += 7;\n        t >>>= 7;\n      }\n      if (t >= 0x8) {\n        r += 4;\n        t >>>= 4;\n      }\n      if (t >= 0x02) {\n        r += 2;\n        t >>>= 2;\n      }\n      return r + t;\n    };\n  }\n\n  BN.prototype._zeroBits = function _zeroBits (w) {\n    // Short-cut\n    if (w === 0) return 26;\n\n    var t = w;\n    var r = 0;\n    if ((t & 0x1fff) === 0) {\n      r += 13;\n      t >>>= 13;\n    }\n    if ((t & 0x7f) === 0) {\n      r += 7;\n      t >>>= 7;\n    }\n    if ((t & 0xf) === 0) {\n      r += 4;\n      t >>>= 4;\n    }\n    if ((t & 0x3) === 0) {\n      r += 2;\n      t >>>= 2;\n    }\n    if ((t & 0x1) === 0) {\n      r++;\n    }\n    return r;\n  };\n\n  // Return number of used bits in a BN\n  BN.prototype.bitLength = function bitLength () {\n    var w = this.words[this.length - 1];\n    var hi = this._countBits(w);\n    return (this.length - 1) * 26 + hi;\n  };\n\n  function toBitArray (num) {\n    var w = new Array(num.bitLength());\n\n    for (var bit = 0; bit < w.length; bit++) {\n      var off = (bit / 26) | 0;\n      var wbit = bit % 26;\n\n      w[bit] = (num.words[off] & (1 << wbit)) >>> wbit;\n    }\n\n    return w;\n  }\n\n  // Number of trailing zero bits\n  BN.prototype.zeroBits = function zeroBits () {\n    if (this.isZero()) return 0;\n\n    var r = 0;\n    for (var i = 0; i < this.length; i++) {\n      var b = this._zeroBits(this.words[i]);\n      r += b;\n      if (b !== 26) break;\n    }\n    return r;\n  };\n\n  BN.prototype.byteLength = function byteLength () {\n    return Math.ceil(this.bitLength() / 8);\n  };\n\n  BN.prototype.toTwos = function toTwos (width) {\n    if (this.negative !== 0) {\n      return this.abs().inotn(width).iaddn(1);\n    }\n    return this.clone();\n  };\n\n  BN.prototype.fromTwos = function fromTwos (width) {\n    if (this.testn(width - 1)) {\n      return this.notn(width).iaddn(1).ineg();\n    }\n    return this.clone();\n  };\n\n  BN.prototype.isNeg = function isNeg () {\n    return this.negative !== 0;\n  };\n\n  // Return negative clone of `this`\n  BN.prototype.neg = function neg () {\n    return this.clone().ineg();\n  };\n\n  BN.prototype.ineg = function ineg () {\n    if (!this.isZero()) {\n      this.negative ^= 1;\n    }\n\n    return this;\n  };\n\n  // Or `num` with `this` in-place\n  BN.prototype.iuor = function iuor (num) {\n    while (this.length < num.length) {\n      this.words[this.length++] = 0;\n    }\n\n    for (var i = 0; i < num.length; i++) {\n      this.words[i] = this.words[i] | num.words[i];\n    }\n\n    return this.strip();\n  };\n\n  BN.prototype.ior = function ior (num) {\n    assert((this.negative | num.negative) === 0);\n    return this.iuor(num);\n  };\n\n  // Or `num` with `this`\n  BN.prototype.or = function or (num) {\n    if (this.length > num.length) return this.clone().ior(num);\n    return num.clone().ior(this);\n  };\n\n  BN.prototype.uor = function uor (num) {\n    if (this.length > num.length) return this.clone().iuor(num);\n    return num.clone().iuor(this);\n  };\n\n  // And `num` with `this` in-place\n  BN.prototype.iuand = function iuand (num) {\n    // b = min-length(num, this)\n    var b;\n    if (this.length > num.length) {\n      b = num;\n    } else {\n      b = this;\n    }\n\n    for (var i = 0; i < b.length; i++) {\n      this.words[i] = this.words[i] & num.words[i];\n    }\n\n    this.length = b.length;\n\n    return this.strip();\n  };\n\n  BN.prototype.iand = function iand (num) {\n    assert((this.negative | num.negative) === 0);\n    return this.iuand(num);\n  };\n\n  // And `num` with `this`\n  BN.prototype.and = function and (num) {\n    if (this.length > num.length) return this.clone().iand(num);\n    return num.clone().iand(this);\n  };\n\n  BN.prototype.uand = function uand (num) {\n    if (this.length > num.length) return this.clone().iuand(num);\n    return num.clone().iuand(this);\n  };\n\n  // Xor `num` with `this` in-place\n  BN.prototype.iuxor = function iuxor (num) {\n    // a.length > b.length\n    var a;\n    var b;\n    if (this.length > num.length) {\n      a = this;\n      b = num;\n    } else {\n      a = num;\n      b = this;\n    }\n\n    for (var i = 0; i < b.length; i++) {\n      this.words[i] = a.words[i] ^ b.words[i];\n    }\n\n    if (this !== a) {\n      for (; i < a.length; i++) {\n        this.words[i] = a.words[i];\n      }\n    }\n\n    this.length = a.length;\n\n    return this.strip();\n  };\n\n  BN.prototype.ixor = function ixor (num) {\n    assert((this.negative | num.negative) === 0);\n    return this.iuxor(num);\n  };\n\n  // Xor `num` with `this`\n  BN.prototype.xor = function xor (num) {\n    if (this.length > num.length) return this.clone().ixor(num);\n    return num.clone().ixor(this);\n  };\n\n  BN.prototype.uxor = function uxor (num) {\n    if (this.length > num.length) return this.clone().iuxor(num);\n    return num.clone().iuxor(this);\n  };\n\n  // Not ``this`` with ``width`` bitwidth\n  BN.prototype.inotn = function inotn (width) {\n    assert(typeof width === 'number' && width >= 0);\n\n    var bytesNeeded = Math.ceil(width / 26) | 0;\n    var bitsLeft = width % 26;\n\n    // Extend the buffer with leading zeroes\n    this._expand(bytesNeeded);\n\n    if (bitsLeft > 0) {\n      bytesNeeded--;\n    }\n\n    // Handle complete words\n    for (var i = 0; i < bytesNeeded; i++) {\n      this.words[i] = ~this.words[i] & 0x3ffffff;\n    }\n\n    // Handle the residue\n    if (bitsLeft > 0) {\n      this.words[i] = ~this.words[i] & (0x3ffffff >> (26 - bitsLeft));\n    }\n\n    // And remove leading zeroes\n    return this.strip();\n  };\n\n  BN.prototype.notn = function notn (width) {\n    return this.clone().inotn(width);\n  };\n\n  // Set `bit` of `this`\n  BN.prototype.setn = function setn (bit, val) {\n    assert(typeof bit === 'number' && bit >= 0);\n\n    var off = (bit / 26) | 0;\n    var wbit = bit % 26;\n\n    this._expand(off + 1);\n\n    if (val) {\n      this.words[off] = this.words[off] | (1 << wbit);\n    } else {\n      this.words[off] = this.words[off] & ~(1 << wbit);\n    }\n\n    return this.strip();\n  };\n\n  // Add `num` to `this` in-place\n  BN.prototype.iadd = function iadd (num) {\n    var r;\n\n    // negative + positive\n    if (this.negative !== 0 && num.negative === 0) {\n      this.negative = 0;\n      r = this.isub(num);\n      this.negative ^= 1;\n      return this._normSign();\n\n    // positive + negative\n    } else if (this.negative === 0 && num.negative !== 0) {\n      num.negative = 0;\n      r = this.isub(num);\n      num.negative = 1;\n      return r._normSign();\n    }\n\n    // a.length > b.length\n    var a, b;\n    if (this.length > num.length) {\n      a = this;\n      b = num;\n    } else {\n      a = num;\n      b = this;\n    }\n\n    var carry = 0;\n    for (var i = 0; i < b.length; i++) {\n      r = (a.words[i] | 0) + (b.words[i] | 0) + carry;\n      this.words[i] = r & 0x3ffffff;\n      carry = r >>> 26;\n    }\n    for (; carry !== 0 && i < a.length; i++) {\n      r = (a.words[i] | 0) + carry;\n      this.words[i] = r & 0x3ffffff;\n      carry = r >>> 26;\n    }\n\n    this.length = a.length;\n    if (carry !== 0) {\n      this.words[this.length] = carry;\n      this.length++;\n    // Copy the rest of the words\n    } else if (a !== this) {\n      for (; i < a.length; i++) {\n        this.words[i] = a.words[i];\n      }\n    }\n\n    return this;\n  };\n\n  // Add `num` to `this`\n  BN.prototype.add = function add (num) {\n    var res;\n    if (num.negative !== 0 && this.negative === 0) {\n      num.negative = 0;\n      res = this.sub(num);\n      num.negative ^= 1;\n      return res;\n    } else if (num.negative === 0 && this.negative !== 0) {\n      this.negative = 0;\n      res = num.sub(this);\n      this.negative = 1;\n      return res;\n    }\n\n    if (this.length > num.length) return this.clone().iadd(num);\n\n    return num.clone().iadd(this);\n  };\n\n  // Subtract `num` from `this` in-place\n  BN.prototype.isub = function isub (num) {\n    // this - (-num) = this + num\n    if (num.negative !== 0) {\n      num.negative = 0;\n      var r = this.iadd(num);\n      num.negative = 1;\n      return r._normSign();\n\n    // -this - num = -(this + num)\n    } else if (this.negative !== 0) {\n      this.negative = 0;\n      this.iadd(num);\n      this.negative = 1;\n      return this._normSign();\n    }\n\n    // At this point both numbers are positive\n    var cmp = this.cmp(num);\n\n    // Optimization - zeroify\n    if (cmp === 0) {\n      this.negative = 0;\n      this.length = 1;\n      this.words[0] = 0;\n      return this;\n    }\n\n    // a > b\n    var a, b;\n    if (cmp > 0) {\n      a = this;\n      b = num;\n    } else {\n      a = num;\n      b = this;\n    }\n\n    var carry = 0;\n    for (var i = 0; i < b.length; i++) {\n      r = (a.words[i] | 0) - (b.words[i] | 0) + carry;\n      carry = r >> 26;\n      this.words[i] = r & 0x3ffffff;\n    }\n    for (; carry !== 0 && i < a.length; i++) {\n      r = (a.words[i] | 0) + carry;\n      carry = r >> 26;\n      this.words[i] = r & 0x3ffffff;\n    }\n\n    // Copy rest of the words\n    if (carry === 0 && i < a.length && a !== this) {\n      for (; i < a.length; i++) {\n        this.words[i] = a.words[i];\n      }\n    }\n\n    this.length = Math.max(this.length, i);\n\n    if (a !== this) {\n      this.negative = 1;\n    }\n\n    return this.strip();\n  };\n\n  // Subtract `num` from `this`\n  BN.prototype.sub = function sub (num) {\n    return this.clone().isub(num);\n  };\n\n  function smallMulTo (self, num, out) {\n    out.negative = num.negative ^ self.negative;\n    var len = (self.length + num.length) | 0;\n    out.length = len;\n    len = (len - 1) | 0;\n\n    // Peel one iteration (compiler can't do it, because of code complexity)\n    var a = self.words[0] | 0;\n    var b = num.words[0] | 0;\n    var r = a * b;\n\n    var lo = r & 0x3ffffff;\n    var carry = (r / 0x4000000) | 0;\n    out.words[0] = lo;\n\n    for (var k = 1; k < len; k++) {\n      // Sum all words with the same `i + j = k` and accumulate `ncarry`,\n      // note that ncarry could be >= 0x3ffffff\n      var ncarry = carry >>> 26;\n      var rword = carry & 0x3ffffff;\n      var maxJ = Math.min(k, num.length - 1);\n      for (var j = Math.max(0, k - self.length + 1); j <= maxJ; j++) {\n        var i = (k - j) | 0;\n        a = self.words[i] | 0;\n        b = num.words[j] | 0;\n        r = a * b + rword;\n        ncarry += (r / 0x4000000) | 0;\n        rword = r & 0x3ffffff;\n      }\n      out.words[k] = rword | 0;\n      carry = ncarry | 0;\n    }\n    if (carry !== 0) {\n      out.words[k] = carry | 0;\n    } else {\n      out.length--;\n    }\n\n    return out.strip();\n  }\n\n  // TODO(indutny): it may be reasonable to omit it for users who don't need\n  // to work with 256-bit numbers, otherwise it gives 20% improvement for 256-bit\n  // multiplication (like elliptic secp256k1).\n  var comb10MulTo = function comb10MulTo (self, num, out) {\n    var a = self.words;\n    var b = num.words;\n    var o = out.words;\n    var c = 0;\n    var lo;\n    var mid;\n    var hi;\n    var a0 = a[0] | 0;\n    var al0 = a0 & 0x1fff;\n    var ah0 = a0 >>> 13;\n    var a1 = a[1] | 0;\n    var al1 = a1 & 0x1fff;\n    var ah1 = a1 >>> 13;\n    var a2 = a[2] | 0;\n    var al2 = a2 & 0x1fff;\n    var ah2 = a2 >>> 13;\n    var a3 = a[3] | 0;\n    var al3 = a3 & 0x1fff;\n    var ah3 = a3 >>> 13;\n    var a4 = a[4] | 0;\n    var al4 = a4 & 0x1fff;\n    var ah4 = a4 >>> 13;\n    var a5 = a[5] | 0;\n    var al5 = a5 & 0x1fff;\n    var ah5 = a5 >>> 13;\n    var a6 = a[6] | 0;\n    var al6 = a6 & 0x1fff;\n    var ah6 = a6 >>> 13;\n    var a7 = a[7] | 0;\n    var al7 = a7 & 0x1fff;\n    var ah7 = a7 >>> 13;\n    var a8 = a[8] | 0;\n    var al8 = a8 & 0x1fff;\n    var ah8 = a8 >>> 13;\n    var a9 = a[9] | 0;\n    var al9 = a9 & 0x1fff;\n    var ah9 = a9 >>> 13;\n    var b0 = b[0] | 0;\n    var bl0 = b0 & 0x1fff;\n    var bh0 = b0 >>> 13;\n    var b1 = b[1] | 0;\n    var bl1 = b1 & 0x1fff;\n    var bh1 = b1 >>> 13;\n    var b2 = b[2] | 0;\n    var bl2 = b2 & 0x1fff;\n    var bh2 = b2 >>> 13;\n    var b3 = b[3] | 0;\n    var bl3 = b3 & 0x1fff;\n    var bh3 = b3 >>> 13;\n    var b4 = b[4] | 0;\n    var bl4 = b4 & 0x1fff;\n    var bh4 = b4 >>> 13;\n    var b5 = b[5] | 0;\n    var bl5 = b5 & 0x1fff;\n    var bh5 = b5 >>> 13;\n    var b6 = b[6] | 0;\n    var bl6 = b6 & 0x1fff;\n    var bh6 = b6 >>> 13;\n    var b7 = b[7] | 0;\n    var bl7 = b7 & 0x1fff;\n    var bh7 = b7 >>> 13;\n    var b8 = b[8] | 0;\n    var bl8 = b8 & 0x1fff;\n    var bh8 = b8 >>> 13;\n    var b9 = b[9] | 0;\n    var bl9 = b9 & 0x1fff;\n    var bh9 = b9 >>> 13;\n\n    out.negative = self.negative ^ num.negative;\n    out.length = 19;\n    /* k = 0 */\n    lo = Math.imul(al0, bl0);\n    mid = Math.imul(al0, bh0);\n    mid = (mid + Math.imul(ah0, bl0)) | 0;\n    hi = Math.imul(ah0, bh0);\n    var w0 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w0 >>> 26)) | 0;\n    w0 &= 0x3ffffff;\n    /* k = 1 */\n    lo = Math.imul(al1, bl0);\n    mid = Math.imul(al1, bh0);\n    mid = (mid + Math.imul(ah1, bl0)) | 0;\n    hi = Math.imul(ah1, bh0);\n    lo = (lo + Math.imul(al0, bl1)) | 0;\n    mid = (mid + Math.imul(al0, bh1)) | 0;\n    mid = (mid + Math.imul(ah0, bl1)) | 0;\n    hi = (hi + Math.imul(ah0, bh1)) | 0;\n    var w1 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w1 >>> 26)) | 0;\n    w1 &= 0x3ffffff;\n    /* k = 2 */\n    lo = Math.imul(al2, bl0);\n    mid = Math.imul(al2, bh0);\n    mid = (mid + Math.imul(ah2, bl0)) | 0;\n    hi = Math.imul(ah2, bh0);\n    lo = (lo + Math.imul(al1, bl1)) | 0;\n    mid = (mid + Math.imul(al1, bh1)) | 0;\n    mid = (mid + Math.imul(ah1, bl1)) | 0;\n    hi = (hi + Math.imul(ah1, bh1)) | 0;\n    lo = (lo + Math.imul(al0, bl2)) | 0;\n    mid = (mid + Math.imul(al0, bh2)) | 0;\n    mid = (mid + Math.imul(ah0, bl2)) | 0;\n    hi = (hi + Math.imul(ah0, bh2)) | 0;\n    var w2 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w2 >>> 26)) | 0;\n    w2 &= 0x3ffffff;\n    /* k = 3 */\n    lo = Math.imul(al3, bl0);\n    mid = Math.imul(al3, bh0);\n    mid = (mid + Math.imul(ah3, bl0)) | 0;\n    hi = Math.imul(ah3, bh0);\n    lo = (lo + Math.imul(al2, bl1)) | 0;\n    mid = (mid + Math.imul(al2, bh1)) | 0;\n    mid = (mid + Math.imul(ah2, bl1)) | 0;\n    hi = (hi + Math.imul(ah2, bh1)) | 0;\n    lo = (lo + Math.imul(al1, bl2)) | 0;\n    mid = (mid + Math.imul(al1, bh2)) | 0;\n    mid = (mid + Math.imul(ah1, bl2)) | 0;\n    hi = (hi + Math.imul(ah1, bh2)) | 0;\n    lo = (lo + Math.imul(al0, bl3)) | 0;\n    mid = (mid + Math.imul(al0, bh3)) | 0;\n    mid = (mid + Math.imul(ah0, bl3)) | 0;\n    hi = (hi + Math.imul(ah0, bh3)) | 0;\n    var w3 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w3 >>> 26)) | 0;\n    w3 &= 0x3ffffff;\n    /* k = 4 */\n    lo = Math.imul(al4, bl0);\n    mid = Math.imul(al4, bh0);\n    mid = (mid + Math.imul(ah4, bl0)) | 0;\n    hi = Math.imul(ah4, bh0);\n    lo = (lo + Math.imul(al3, bl1)) | 0;\n    mid = (mid + Math.imul(al3, bh1)) | 0;\n    mid = (mid + Math.imul(ah3, bl1)) | 0;\n    hi = (hi + Math.imul(ah3, bh1)) | 0;\n    lo = (lo + Math.imul(al2, bl2)) | 0;\n    mid = (mid + Math.imul(al2, bh2)) | 0;\n    mid = (mid + Math.imul(ah2, bl2)) | 0;\n    hi = (hi + Math.imul(ah2, bh2)) | 0;\n    lo = (lo + Math.imul(al1, bl3)) | 0;\n    mid = (mid + Math.imul(al1, bh3)) | 0;\n    mid = (mid + Math.imul(ah1, bl3)) | 0;\n    hi = (hi + Math.imul(ah1, bh3)) | 0;\n    lo = (lo + Math.imul(al0, bl4)) | 0;\n    mid = (mid + Math.imul(al0, bh4)) | 0;\n    mid = (mid + Math.imul(ah0, bl4)) | 0;\n    hi = (hi + Math.imul(ah0, bh4)) | 0;\n    var w4 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w4 >>> 26)) | 0;\n    w4 &= 0x3ffffff;\n    /* k = 5 */\n    lo = Math.imul(al5, bl0);\n    mid = Math.imul(al5, bh0);\n    mid = (mid + Math.imul(ah5, bl0)) | 0;\n    hi = Math.imul(ah5, bh0);\n    lo = (lo + Math.imul(al4, bl1)) | 0;\n    mid = (mid + Math.imul(al4, bh1)) | 0;\n    mid = (mid + Math.imul(ah4, bl1)) | 0;\n    hi = (hi + Math.imul(ah4, bh1)) | 0;\n    lo = (lo + Math.imul(al3, bl2)) | 0;\n    mid = (mid + Math.imul(al3, bh2)) | 0;\n    mid = (mid + Math.imul(ah3, bl2)) | 0;\n    hi = (hi + Math.imul(ah3, bh2)) | 0;\n    lo = (lo + Math.imul(al2, bl3)) | 0;\n    mid = (mid + Math.imul(al2, bh3)) | 0;\n    mid = (mid + Math.imul(ah2, bl3)) | 0;\n    hi = (hi + Math.imul(ah2, bh3)) | 0;\n    lo = (lo + Math.imul(al1, bl4)) | 0;\n    mid = (mid + Math.imul(al1, bh4)) | 0;\n    mid = (mid + Math.imul(ah1, bl4)) | 0;\n    hi = (hi + Math.imul(ah1, bh4)) | 0;\n    lo = (lo + Math.imul(al0, bl5)) | 0;\n    mid = (mid + Math.imul(al0, bh5)) | 0;\n    mid = (mid + Math.imul(ah0, bl5)) | 0;\n    hi = (hi + Math.imul(ah0, bh5)) | 0;\n    var w5 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w5 >>> 26)) | 0;\n    w5 &= 0x3ffffff;\n    /* k = 6 */\n    lo = Math.imul(al6, bl0);\n    mid = Math.imul(al6, bh0);\n    mid = (mid + Math.imul(ah6, bl0)) | 0;\n    hi = Math.imul(ah6, bh0);\n    lo = (lo + Math.imul(al5, bl1)) | 0;\n    mid = (mid + Math.imul(al5, bh1)) | 0;\n    mid = (mid + Math.imul(ah5, bl1)) | 0;\n    hi = (hi + Math.imul(ah5, bh1)) | 0;\n    lo = (lo + Math.imul(al4, bl2)) | 0;\n    mid = (mid + Math.imul(al4, bh2)) | 0;\n    mid = (mid + Math.imul(ah4, bl2)) | 0;\n    hi = (hi + Math.imul(ah4, bh2)) | 0;\n    lo = (lo + Math.imul(al3, bl3)) | 0;\n    mid = (mid + Math.imul(al3, bh3)) | 0;\n    mid = (mid + Math.imul(ah3, bl3)) | 0;\n    hi = (hi + Math.imul(ah3, bh3)) | 0;\n    lo = (lo + Math.imul(al2, bl4)) | 0;\n    mid = (mid + Math.imul(al2, bh4)) | 0;\n    mid = (mid + Math.imul(ah2, bl4)) | 0;\n    hi = (hi + Math.imul(ah2, bh4)) | 0;\n    lo = (lo + Math.imul(al1, bl5)) | 0;\n    mid = (mid + Math.imul(al1, bh5)) | 0;\n    mid = (mid + Math.imul(ah1, bl5)) | 0;\n    hi = (hi + Math.imul(ah1, bh5)) | 0;\n    lo = (lo + Math.imul(al0, bl6)) | 0;\n    mid = (mid + Math.imul(al0, bh6)) | 0;\n    mid = (mid + Math.imul(ah0, bl6)) | 0;\n    hi = (hi + Math.imul(ah0, bh6)) | 0;\n    var w6 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w6 >>> 26)) | 0;\n    w6 &= 0x3ffffff;\n    /* k = 7 */\n    lo = Math.imul(al7, bl0);\n    mid = Math.imul(al7, bh0);\n    mid = (mid + Math.imul(ah7, bl0)) | 0;\n    hi = Math.imul(ah7, bh0);\n    lo = (lo + Math.imul(al6, bl1)) | 0;\n    mid = (mid + Math.imul(al6, bh1)) | 0;\n    mid = (mid + Math.imul(ah6, bl1)) | 0;\n    hi = (hi + Math.imul(ah6, bh1)) | 0;\n    lo = (lo + Math.imul(al5, bl2)) | 0;\n    mid = (mid + Math.imul(al5, bh2)) | 0;\n    mid = (mid + Math.imul(ah5, bl2)) | 0;\n    hi = (hi + Math.imul(ah5, bh2)) | 0;\n    lo = (lo + Math.imul(al4, bl3)) | 0;\n    mid = (mid + Math.imul(al4, bh3)) | 0;\n    mid = (mid + Math.imul(ah4, bl3)) | 0;\n    hi = (hi + Math.imul(ah4, bh3)) | 0;\n    lo = (lo + Math.imul(al3, bl4)) | 0;\n    mid = (mid + Math.imul(al3, bh4)) | 0;\n    mid = (mid + Math.imul(ah3, bl4)) | 0;\n    hi = (hi + Math.imul(ah3, bh4)) | 0;\n    lo = (lo + Math.imul(al2, bl5)) | 0;\n    mid = (mid + Math.imul(al2, bh5)) | 0;\n    mid = (mid + Math.imul(ah2, bl5)) | 0;\n    hi = (hi + Math.imul(ah2, bh5)) | 0;\n    lo = (lo + Math.imul(al1, bl6)) | 0;\n    mid = (mid + Math.imul(al1, bh6)) | 0;\n    mid = (mid + Math.imul(ah1, bl6)) | 0;\n    hi = (hi + Math.imul(ah1, bh6)) | 0;\n    lo = (lo + Math.imul(al0, bl7)) | 0;\n    mid = (mid + Math.imul(al0, bh7)) | 0;\n    mid = (mid + Math.imul(ah0, bl7)) | 0;\n    hi = (hi + Math.imul(ah0, bh7)) | 0;\n    var w7 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w7 >>> 26)) | 0;\n    w7 &= 0x3ffffff;\n    /* k = 8 */\n    lo = Math.imul(al8, bl0);\n    mid = Math.imul(al8, bh0);\n    mid = (mid + Math.imul(ah8, bl0)) | 0;\n    hi = Math.imul(ah8, bh0);\n    lo = (lo + Math.imul(al7, bl1)) | 0;\n    mid = (mid + Math.imul(al7, bh1)) | 0;\n    mid = (mid + Math.imul(ah7, bl1)) | 0;\n    hi = (hi + Math.imul(ah7, bh1)) | 0;\n    lo = (lo + Math.imul(al6, bl2)) | 0;\n    mid = (mid + Math.imul(al6, bh2)) | 0;\n    mid = (mid + Math.imul(ah6, bl2)) | 0;\n    hi = (hi + Math.imul(ah6, bh2)) | 0;\n    lo = (lo + Math.imul(al5, bl3)) | 0;\n    mid = (mid + Math.imul(al5, bh3)) | 0;\n    mid = (mid + Math.imul(ah5, bl3)) | 0;\n    hi = (hi + Math.imul(ah5, bh3)) | 0;\n    lo = (lo + Math.imul(al4, bl4)) | 0;\n    mid = (mid + Math.imul(al4, bh4)) | 0;\n    mid = (mid + Math.imul(ah4, bl4)) | 0;\n    hi = (hi + Math.imul(ah4, bh4)) | 0;\n    lo = (lo + Math.imul(al3, bl5)) | 0;\n    mid = (mid + Math.imul(al3, bh5)) | 0;\n    mid = (mid + Math.imul(ah3, bl5)) | 0;\n    hi = (hi + Math.imul(ah3, bh5)) | 0;\n    lo = (lo + Math.imul(al2, bl6)) | 0;\n    mid = (mid + Math.imul(al2, bh6)) | 0;\n    mid = (mid + Math.imul(ah2, bl6)) | 0;\n    hi = (hi + Math.imul(ah2, bh6)) | 0;\n    lo = (lo + Math.imul(al1, bl7)) | 0;\n    mid = (mid + Math.imul(al1, bh7)) | 0;\n    mid = (mid + Math.imul(ah1, bl7)) | 0;\n    hi = (hi + Math.imul(ah1, bh7)) | 0;\n    lo = (lo + Math.imul(al0, bl8)) | 0;\n    mid = (mid + Math.imul(al0, bh8)) | 0;\n    mid = (mid + Math.imul(ah0, bl8)) | 0;\n    hi = (hi + Math.imul(ah0, bh8)) | 0;\n    var w8 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w8 >>> 26)) | 0;\n    w8 &= 0x3ffffff;\n    /* k = 9 */\n    lo = Math.imul(al9, bl0);\n    mid = Math.imul(al9, bh0);\n    mid = (mid + Math.imul(ah9, bl0)) | 0;\n    hi = Math.imul(ah9, bh0);\n    lo = (lo + Math.imul(al8, bl1)) | 0;\n    mid = (mid + Math.imul(al8, bh1)) | 0;\n    mid = (mid + Math.imul(ah8, bl1)) | 0;\n    hi = (hi + Math.imul(ah8, bh1)) | 0;\n    lo = (lo + Math.imul(al7, bl2)) | 0;\n    mid = (mid + Math.imul(al7, bh2)) | 0;\n    mid = (mid + Math.imul(ah7, bl2)) | 0;\n    hi = (hi + Math.imul(ah7, bh2)) | 0;\n    lo = (lo + Math.imul(al6, bl3)) | 0;\n    mid = (mid + Math.imul(al6, bh3)) | 0;\n    mid = (mid + Math.imul(ah6, bl3)) | 0;\n    hi = (hi + Math.imul(ah6, bh3)) | 0;\n    lo = (lo + Math.imul(al5, bl4)) | 0;\n    mid = (mid + Math.imul(al5, bh4)) | 0;\n    mid = (mid + Math.imul(ah5, bl4)) | 0;\n    hi = (hi + Math.imul(ah5, bh4)) | 0;\n    lo = (lo + Math.imul(al4, bl5)) | 0;\n    mid = (mid + Math.imul(al4, bh5)) | 0;\n    mid = (mid + Math.imul(ah4, bl5)) | 0;\n    hi = (hi + Math.imul(ah4, bh5)) | 0;\n    lo = (lo + Math.imul(al3, bl6)) | 0;\n    mid = (mid + Math.imul(al3, bh6)) | 0;\n    mid = (mid + Math.imul(ah3, bl6)) | 0;\n    hi = (hi + Math.imul(ah3, bh6)) | 0;\n    lo = (lo + Math.imul(al2, bl7)) | 0;\n    mid = (mid + Math.imul(al2, bh7)) | 0;\n    mid = (mid + Math.imul(ah2, bl7)) | 0;\n    hi = (hi + Math.imul(ah2, bh7)) | 0;\n    lo = (lo + Math.imul(al1, bl8)) | 0;\n    mid = (mid + Math.imul(al1, bh8)) | 0;\n    mid = (mid + Math.imul(ah1, bl8)) | 0;\n    hi = (hi + Math.imul(ah1, bh8)) | 0;\n    lo = (lo + Math.imul(al0, bl9)) | 0;\n    mid = (mid + Math.imul(al0, bh9)) | 0;\n    mid = (mid + Math.imul(ah0, bl9)) | 0;\n    hi = (hi + Math.imul(ah0, bh9)) | 0;\n    var w9 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w9 >>> 26)) | 0;\n    w9 &= 0x3ffffff;\n    /* k = 10 */\n    lo = Math.imul(al9, bl1);\n    mid = Math.imul(al9, bh1);\n    mid = (mid + Math.imul(ah9, bl1)) | 0;\n    hi = Math.imul(ah9, bh1);\n    lo = (lo + Math.imul(al8, bl2)) | 0;\n    mid = (mid + Math.imul(al8, bh2)) | 0;\n    mid = (mid + Math.imul(ah8, bl2)) | 0;\n    hi = (hi + Math.imul(ah8, bh2)) | 0;\n    lo = (lo + Math.imul(al7, bl3)) | 0;\n    mid = (mid + Math.imul(al7, bh3)) | 0;\n    mid = (mid + Math.imul(ah7, bl3)) | 0;\n    hi = (hi + Math.imul(ah7, bh3)) | 0;\n    lo = (lo + Math.imul(al6, bl4)) | 0;\n    mid = (mid + Math.imul(al6, bh4)) | 0;\n    mid = (mid + Math.imul(ah6, bl4)) | 0;\n    hi = (hi + Math.imul(ah6, bh4)) | 0;\n    lo = (lo + Math.imul(al5, bl5)) | 0;\n    mid = (mid + Math.imul(al5, bh5)) | 0;\n    mid = (mid + Math.imul(ah5, bl5)) | 0;\n    hi = (hi + Math.imul(ah5, bh5)) | 0;\n    lo = (lo + Math.imul(al4, bl6)) | 0;\n    mid = (mid + Math.imul(al4, bh6)) | 0;\n    mid = (mid + Math.imul(ah4, bl6)) | 0;\n    hi = (hi + Math.imul(ah4, bh6)) | 0;\n    lo = (lo + Math.imul(al3, bl7)) | 0;\n    mid = (mid + Math.imul(al3, bh7)) | 0;\n    mid = (mid + Math.imul(ah3, bl7)) | 0;\n    hi = (hi + Math.imul(ah3, bh7)) | 0;\n    lo = (lo + Math.imul(al2, bl8)) | 0;\n    mid = (mid + Math.imul(al2, bh8)) | 0;\n    mid = (mid + Math.imul(ah2, bl8)) | 0;\n    hi = (hi + Math.imul(ah2, bh8)) | 0;\n    lo = (lo + Math.imul(al1, bl9)) | 0;\n    mid = (mid + Math.imul(al1, bh9)) | 0;\n    mid = (mid + Math.imul(ah1, bl9)) | 0;\n    hi = (hi + Math.imul(ah1, bh9)) | 0;\n    var w10 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w10 >>> 26)) | 0;\n    w10 &= 0x3ffffff;\n    /* k = 11 */\n    lo = Math.imul(al9, bl2);\n    mid = Math.imul(al9, bh2);\n    mid = (mid + Math.imul(ah9, bl2)) | 0;\n    hi = Math.imul(ah9, bh2);\n    lo = (lo + Math.imul(al8, bl3)) | 0;\n    mid = (mid + Math.imul(al8, bh3)) | 0;\n    mid = (mid + Math.imul(ah8, bl3)) | 0;\n    hi = (hi + Math.imul(ah8, bh3)) | 0;\n    lo = (lo + Math.imul(al7, bl4)) | 0;\n    mid = (mid + Math.imul(al7, bh4)) | 0;\n    mid = (mid + Math.imul(ah7, bl4)) | 0;\n    hi = (hi + Math.imul(ah7, bh4)) | 0;\n    lo = (lo + Math.imul(al6, bl5)) | 0;\n    mid = (mid + Math.imul(al6, bh5)) | 0;\n    mid = (mid + Math.imul(ah6, bl5)) | 0;\n    hi = (hi + Math.imul(ah6, bh5)) | 0;\n    lo = (lo + Math.imul(al5, bl6)) | 0;\n    mid = (mid + Math.imul(al5, bh6)) | 0;\n    mid = (mid + Math.imul(ah5, bl6)) | 0;\n    hi = (hi + Math.imul(ah5, bh6)) | 0;\n    lo = (lo + Math.imul(al4, bl7)) | 0;\n    mid = (mid + Math.imul(al4, bh7)) | 0;\n    mid = (mid + Math.imul(ah4, bl7)) | 0;\n    hi = (hi + Math.imul(ah4, bh7)) | 0;\n    lo = (lo + Math.imul(al3, bl8)) | 0;\n    mid = (mid + Math.imul(al3, bh8)) | 0;\n    mid = (mid + Math.imul(ah3, bl8)) | 0;\n    hi = (hi + Math.imul(ah3, bh8)) | 0;\n    lo = (lo + Math.imul(al2, bl9)) | 0;\n    mid = (mid + Math.imul(al2, bh9)) | 0;\n    mid = (mid + Math.imul(ah2, bl9)) | 0;\n    hi = (hi + Math.imul(ah2, bh9)) | 0;\n    var w11 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w11 >>> 26)) | 0;\n    w11 &= 0x3ffffff;\n    /* k = 12 */\n    lo = Math.imul(al9, bl3);\n    mid = Math.imul(al9, bh3);\n    mid = (mid + Math.imul(ah9, bl3)) | 0;\n    hi = Math.imul(ah9, bh3);\n    lo = (lo + Math.imul(al8, bl4)) | 0;\n    mid = (mid + Math.imul(al8, bh4)) | 0;\n    mid = (mid + Math.imul(ah8, bl4)) | 0;\n    hi = (hi + Math.imul(ah8, bh4)) | 0;\n    lo = (lo + Math.imul(al7, bl5)) | 0;\n    mid = (mid + Math.imul(al7, bh5)) | 0;\n    mid = (mid + Math.imul(ah7, bl5)) | 0;\n    hi = (hi + Math.imul(ah7, bh5)) | 0;\n    lo = (lo + Math.imul(al6, bl6)) | 0;\n    mid = (mid + Math.imul(al6, bh6)) | 0;\n    mid = (mid + Math.imul(ah6, bl6)) | 0;\n    hi = (hi + Math.imul(ah6, bh6)) | 0;\n    lo = (lo + Math.imul(al5, bl7)) | 0;\n    mid = (mid + Math.imul(al5, bh7)) | 0;\n    mid = (mid + Math.imul(ah5, bl7)) | 0;\n    hi = (hi + Math.imul(ah5, bh7)) | 0;\n    lo = (lo + Math.imul(al4, bl8)) | 0;\n    mid = (mid + Math.imul(al4, bh8)) | 0;\n    mid = (mid + Math.imul(ah4, bl8)) | 0;\n    hi = (hi + Math.imul(ah4, bh8)) | 0;\n    lo = (lo + Math.imul(al3, bl9)) | 0;\n    mid = (mid + Math.imul(al3, bh9)) | 0;\n    mid = (mid + Math.imul(ah3, bl9)) | 0;\n    hi = (hi + Math.imul(ah3, bh9)) | 0;\n    var w12 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w12 >>> 26)) | 0;\n    w12 &= 0x3ffffff;\n    /* k = 13 */\n    lo = Math.imul(al9, bl4);\n    mid = Math.imul(al9, bh4);\n    mid = (mid + Math.imul(ah9, bl4)) | 0;\n    hi = Math.imul(ah9, bh4);\n    lo = (lo + Math.imul(al8, bl5)) | 0;\n    mid = (mid + Math.imul(al8, bh5)) | 0;\n    mid = (mid + Math.imul(ah8, bl5)) | 0;\n    hi = (hi + Math.imul(ah8, bh5)) | 0;\n    lo = (lo + Math.imul(al7, bl6)) | 0;\n    mid = (mid + Math.imul(al7, bh6)) | 0;\n    mid = (mid + Math.imul(ah7, bl6)) | 0;\n    hi = (hi + Math.imul(ah7, bh6)) | 0;\n    lo = (lo + Math.imul(al6, bl7)) | 0;\n    mid = (mid + Math.imul(al6, bh7)) | 0;\n    mid = (mid + Math.imul(ah6, bl7)) | 0;\n    hi = (hi + Math.imul(ah6, bh7)) | 0;\n    lo = (lo + Math.imul(al5, bl8)) | 0;\n    mid = (mid + Math.imul(al5, bh8)) | 0;\n    mid = (mid + Math.imul(ah5, bl8)) | 0;\n    hi = (hi + Math.imul(ah5, bh8)) | 0;\n    lo = (lo + Math.imul(al4, bl9)) | 0;\n    mid = (mid + Math.imul(al4, bh9)) | 0;\n    mid = (mid + Math.imul(ah4, bl9)) | 0;\n    hi = (hi + Math.imul(ah4, bh9)) | 0;\n    var w13 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w13 >>> 26)) | 0;\n    w13 &= 0x3ffffff;\n    /* k = 14 */\n    lo = Math.imul(al9, bl5);\n    mid = Math.imul(al9, bh5);\n    mid = (mid + Math.imul(ah9, bl5)) | 0;\n    hi = Math.imul(ah9, bh5);\n    lo = (lo + Math.imul(al8, bl6)) | 0;\n    mid = (mid + Math.imul(al8, bh6)) | 0;\n    mid = (mid + Math.imul(ah8, bl6)) | 0;\n    hi = (hi + Math.imul(ah8, bh6)) | 0;\n    lo = (lo + Math.imul(al7, bl7)) | 0;\n    mid = (mid + Math.imul(al7, bh7)) | 0;\n    mid = (mid + Math.imul(ah7, bl7)) | 0;\n    hi = (hi + Math.imul(ah7, bh7)) | 0;\n    lo = (lo + Math.imul(al6, bl8)) | 0;\n    mid = (mid + Math.imul(al6, bh8)) | 0;\n    mid = (mid + Math.imul(ah6, bl8)) | 0;\n    hi = (hi + Math.imul(ah6, bh8)) | 0;\n    lo = (lo + Math.imul(al5, bl9)) | 0;\n    mid = (mid + Math.imul(al5, bh9)) | 0;\n    mid = (mid + Math.imul(ah5, bl9)) | 0;\n    hi = (hi + Math.imul(ah5, bh9)) | 0;\n    var w14 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w14 >>> 26)) | 0;\n    w14 &= 0x3ffffff;\n    /* k = 15 */\n    lo = Math.imul(al9, bl6);\n    mid = Math.imul(al9, bh6);\n    mid = (mid + Math.imul(ah9, bl6)) | 0;\n    hi = Math.imul(ah9, bh6);\n    lo = (lo + Math.imul(al8, bl7)) | 0;\n    mid = (mid + Math.imul(al8, bh7)) | 0;\n    mid = (mid + Math.imul(ah8, bl7)) | 0;\n    hi = (hi + Math.imul(ah8, bh7)) | 0;\n    lo = (lo + Math.imul(al7, bl8)) | 0;\n    mid = (mid + Math.imul(al7, bh8)) | 0;\n    mid = (mid + Math.imul(ah7, bl8)) | 0;\n    hi = (hi + Math.imul(ah7, bh8)) | 0;\n    lo = (lo + Math.imul(al6, bl9)) | 0;\n    mid = (mid + Math.imul(al6, bh9)) | 0;\n    mid = (mid + Math.imul(ah6, bl9)) | 0;\n    hi = (hi + Math.imul(ah6, bh9)) | 0;\n    var w15 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w15 >>> 26)) | 0;\n    w15 &= 0x3ffffff;\n    /* k = 16 */\n    lo = Math.imul(al9, bl7);\n    mid = Math.imul(al9, bh7);\n    mid = (mid + Math.imul(ah9, bl7)) | 0;\n    hi = Math.imul(ah9, bh7);\n    lo = (lo + Math.imul(al8, bl8)) | 0;\n    mid = (mid + Math.imul(al8, bh8)) | 0;\n    mid = (mid + Math.imul(ah8, bl8)) | 0;\n    hi = (hi + Math.imul(ah8, bh8)) | 0;\n    lo = (lo + Math.imul(al7, bl9)) | 0;\n    mid = (mid + Math.imul(al7, bh9)) | 0;\n    mid = (mid + Math.imul(ah7, bl9)) | 0;\n    hi = (hi + Math.imul(ah7, bh9)) | 0;\n    var w16 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w16 >>> 26)) | 0;\n    w16 &= 0x3ffffff;\n    /* k = 17 */\n    lo = Math.imul(al9, bl8);\n    mid = Math.imul(al9, bh8);\n    mid = (mid + Math.imul(ah9, bl8)) | 0;\n    hi = Math.imul(ah9, bh8);\n    lo = (lo + Math.imul(al8, bl9)) | 0;\n    mid = (mid + Math.imul(al8, bh9)) | 0;\n    mid = (mid + Math.imul(ah8, bl9)) | 0;\n    hi = (hi + Math.imul(ah8, bh9)) | 0;\n    var w17 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w17 >>> 26)) | 0;\n    w17 &= 0x3ffffff;\n    /* k = 18 */\n    lo = Math.imul(al9, bl9);\n    mid = Math.imul(al9, bh9);\n    mid = (mid + Math.imul(ah9, bl9)) | 0;\n    hi = Math.imul(ah9, bh9);\n    var w18 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w18 >>> 26)) | 0;\n    w18 &= 0x3ffffff;\n    o[0] = w0;\n    o[1] = w1;\n    o[2] = w2;\n    o[3] = w3;\n    o[4] = w4;\n    o[5] = w5;\n    o[6] = w6;\n    o[7] = w7;\n    o[8] = w8;\n    o[9] = w9;\n    o[10] = w10;\n    o[11] = w11;\n    o[12] = w12;\n    o[13] = w13;\n    o[14] = w14;\n    o[15] = w15;\n    o[16] = w16;\n    o[17] = w17;\n    o[18] = w18;\n    if (c !== 0) {\n      o[19] = c;\n      out.length++;\n    }\n    return out;\n  };\n\n  // Polyfill comb\n  if (!Math.imul) {\n    comb10MulTo = smallMulTo;\n  }\n\n  function bigMulTo (self, num, out) {\n    out.negative = num.negative ^ self.negative;\n    out.length = self.length + num.length;\n\n    var carry = 0;\n    var hncarry = 0;\n    for (var k = 0; k < out.length - 1; k++) {\n      // Sum all words with the same `i + j = k` and accumulate `ncarry`,\n      // note that ncarry could be >= 0x3ffffff\n      var ncarry = hncarry;\n      hncarry = 0;\n      var rword = carry & 0x3ffffff;\n      var maxJ = Math.min(k, num.length - 1);\n      for (var j = Math.max(0, k - self.length + 1); j <= maxJ; j++) {\n        var i = k - j;\n        var a = self.words[i] | 0;\n        var b = num.words[j] | 0;\n        var r = a * b;\n\n        var lo = r & 0x3ffffff;\n        ncarry = (ncarry + ((r / 0x4000000) | 0)) | 0;\n        lo = (lo + rword) | 0;\n        rword = lo & 0x3ffffff;\n        ncarry = (ncarry + (lo >>> 26)) | 0;\n\n        hncarry += ncarry >>> 26;\n        ncarry &= 0x3ffffff;\n      }\n      out.words[k] = rword;\n      carry = ncarry;\n      ncarry = hncarry;\n    }\n    if (carry !== 0) {\n      out.words[k] = carry;\n    } else {\n      out.length--;\n    }\n\n    return out.strip();\n  }\n\n  function jumboMulTo (self, num, out) {\n    var fftm = new FFTM();\n    return fftm.mulp(self, num, out);\n  }\n\n  BN.prototype.mulTo = function mulTo (num, out) {\n    var res;\n    var len = this.length + num.length;\n    if (this.length === 10 && num.length === 10) {\n      res = comb10MulTo(this, num, out);\n    } else if (len < 63) {\n      res = smallMulTo(this, num, out);\n    } else if (len < 1024) {\n      res = bigMulTo(this, num, out);\n    } else {\n      res = jumboMulTo(this, num, out);\n    }\n\n    return res;\n  };\n\n  // Cooley-Tukey algorithm for FFT\n  // slightly revisited to rely on looping instead of recursion\n\n  function FFTM (x, y) {\n    this.x = x;\n    this.y = y;\n  }\n\n  FFTM.prototype.makeRBT = function makeRBT (N) {\n    var t = new Array(N);\n    var l = BN.prototype._countBits(N) - 1;\n    for (var i = 0; i < N; i++) {\n      t[i] = this.revBin(i, l, N);\n    }\n\n    return t;\n  };\n\n  // Returns binary-reversed representation of `x`\n  FFTM.prototype.revBin = function revBin (x, l, N) {\n    if (x === 0 || x === N - 1) return x;\n\n    var rb = 0;\n    for (var i = 0; i < l; i++) {\n      rb |= (x & 1) << (l - i - 1);\n      x >>= 1;\n    }\n\n    return rb;\n  };\n\n  // Performs \"tweedling\" phase, therefore 'emulating'\n  // behaviour of the recursive algorithm\n  FFTM.prototype.permute = function permute (rbt, rws, iws, rtws, itws, N) {\n    for (var i = 0; i < N; i++) {\n      rtws[i] = rws[rbt[i]];\n      itws[i] = iws[rbt[i]];\n    }\n  };\n\n  FFTM.prototype.transform = function transform (rws, iws, rtws, itws, N, rbt) {\n    this.permute(rbt, rws, iws, rtws, itws, N);\n\n    for (var s = 1; s < N; s <<= 1) {\n      var l = s << 1;\n\n      var rtwdf = Math.cos(2 * Math.PI / l);\n      var itwdf = Math.sin(2 * Math.PI / l);\n\n      for (var p = 0; p < N; p += l) {\n        var rtwdf_ = rtwdf;\n        var itwdf_ = itwdf;\n\n        for (var j = 0; j < s; j++) {\n          var re = rtws[p + j];\n          var ie = itws[p + j];\n\n          var ro = rtws[p + j + s];\n          var io = itws[p + j + s];\n\n          var rx = rtwdf_ * ro - itwdf_ * io;\n\n          io = rtwdf_ * io + itwdf_ * ro;\n          ro = rx;\n\n          rtws[p + j] = re + ro;\n          itws[p + j] = ie + io;\n\n          rtws[p + j + s] = re - ro;\n          itws[p + j + s] = ie - io;\n\n          /* jshint maxdepth : false */\n          if (j !== l) {\n            rx = rtwdf * rtwdf_ - itwdf * itwdf_;\n\n            itwdf_ = rtwdf * itwdf_ + itwdf * rtwdf_;\n            rtwdf_ = rx;\n          }\n        }\n      }\n    }\n  };\n\n  FFTM.prototype.guessLen13b = function guessLen13b (n, m) {\n    var N = Math.max(m, n) | 1;\n    var odd = N & 1;\n    var i = 0;\n    for (N = N / 2 | 0; N; N = N >>> 1) {\n      i++;\n    }\n\n    return 1 << i + 1 + odd;\n  };\n\n  FFTM.prototype.conjugate = function conjugate (rws, iws, N) {\n    if (N <= 1) return;\n\n    for (var i = 0; i < N / 2; i++) {\n      var t = rws[i];\n\n      rws[i] = rws[N - i - 1];\n      rws[N - i - 1] = t;\n\n      t = iws[i];\n\n      iws[i] = -iws[N - i - 1];\n      iws[N - i - 1] = -t;\n    }\n  };\n\n  FFTM.prototype.normalize13b = function normalize13b (ws, N) {\n    var carry = 0;\n    for (var i = 0; i < N / 2; i++) {\n      var w = Math.round(ws[2 * i + 1] / N) * 0x2000 +\n        Math.round(ws[2 * i] / N) +\n        carry;\n\n      ws[i] = w & 0x3ffffff;\n\n      if (w < 0x4000000) {\n        carry = 0;\n      } else {\n        carry = w / 0x4000000 | 0;\n      }\n    }\n\n    return ws;\n  };\n\n  FFTM.prototype.convert13b = function convert13b (ws, len, rws, N) {\n    var carry = 0;\n    for (var i = 0; i < len; i++) {\n      carry = carry + (ws[i] | 0);\n\n      rws[2 * i] = carry & 0x1fff; carry = carry >>> 13;\n      rws[2 * i + 1] = carry & 0x1fff; carry = carry >>> 13;\n    }\n\n    // Pad with zeroes\n    for (i = 2 * len; i < N; ++i) {\n      rws[i] = 0;\n    }\n\n    assert(carry === 0);\n    assert((carry & ~0x1fff) === 0);\n  };\n\n  FFTM.prototype.stub = function stub (N) {\n    var ph = new Array(N);\n    for (var i = 0; i < N; i++) {\n      ph[i] = 0;\n    }\n\n    return ph;\n  };\n\n  FFTM.prototype.mulp = function mulp (x, y, out) {\n    var N = 2 * this.guessLen13b(x.length, y.length);\n\n    var rbt = this.makeRBT(N);\n\n    var _ = this.stub(N);\n\n    var rws = new Array(N);\n    var rwst = new Array(N);\n    var iwst = new Array(N);\n\n    var nrws = new Array(N);\n    var nrwst = new Array(N);\n    var niwst = new Array(N);\n\n    var rmws = out.words;\n    rmws.length = N;\n\n    this.convert13b(x.words, x.length, rws, N);\n    this.convert13b(y.words, y.length, nrws, N);\n\n    this.transform(rws, _, rwst, iwst, N, rbt);\n    this.transform(nrws, _, nrwst, niwst, N, rbt);\n\n    for (var i = 0; i < N; i++) {\n      var rx = rwst[i] * nrwst[i] - iwst[i] * niwst[i];\n      iwst[i] = rwst[i] * niwst[i] + iwst[i] * nrwst[i];\n      rwst[i] = rx;\n    }\n\n    this.conjugate(rwst, iwst, N);\n    this.transform(rwst, iwst, rmws, _, N, rbt);\n    this.conjugate(rmws, _, N);\n    this.normalize13b(rmws, N);\n\n    out.negative = x.negative ^ y.negative;\n    out.length = x.length + y.length;\n    return out.strip();\n  };\n\n  // Multiply `this` by `num`\n  BN.prototype.mul = function mul (num) {\n    var out = new BN(null);\n    out.words = new Array(this.length + num.length);\n    return this.mulTo(num, out);\n  };\n\n  // Multiply employing FFT\n  BN.prototype.mulf = function mulf (num) {\n    var out = new BN(null);\n    out.words = new Array(this.length + num.length);\n    return jumboMulTo(this, num, out);\n  };\n\n  // In-place Multiplication\n  BN.prototype.imul = function imul (num) {\n    return this.clone().mulTo(num, this);\n  };\n\n  BN.prototype.imuln = function imuln (num) {\n    assert(typeof num === 'number');\n    assert(num < 0x4000000);\n\n    // Carry\n    var carry = 0;\n    for (var i = 0; i < this.length; i++) {\n      var w = (this.words[i] | 0) * num;\n      var lo = (w & 0x3ffffff) + (carry & 0x3ffffff);\n      carry >>= 26;\n      carry += (w / 0x4000000) | 0;\n      // NOTE: lo is 27bit maximum\n      carry += lo >>> 26;\n      this.words[i] = lo & 0x3ffffff;\n    }\n\n    if (carry !== 0) {\n      this.words[i] = carry;\n      this.length++;\n    }\n\n    return this;\n  };\n\n  BN.prototype.muln = function muln (num) {\n    return this.clone().imuln(num);\n  };\n\n  // `this` * `this`\n  BN.prototype.sqr = function sqr () {\n    return this.mul(this);\n  };\n\n  // `this` * `this` in-place\n  BN.prototype.isqr = function isqr () {\n    return this.imul(this.clone());\n  };\n\n  // Math.pow(`this`, `num`)\n  BN.prototype.pow = function pow (num) {\n    var w = toBitArray(num);\n    if (w.length === 0) return new BN(1);\n\n    // Skip leading zeroes\n    var res = this;\n    for (var i = 0; i < w.length; i++, res = res.sqr()) {\n      if (w[i] !== 0) break;\n    }\n\n    if (++i < w.length) {\n      for (var q = res.sqr(); i < w.length; i++, q = q.sqr()) {\n        if (w[i] === 0) continue;\n\n        res = res.mul(q);\n      }\n    }\n\n    return res;\n  };\n\n  // Shift-left in-place\n  BN.prototype.iushln = function iushln (bits) {\n    assert(typeof bits === 'number' && bits >= 0);\n    var r = bits % 26;\n    var s = (bits - r) / 26;\n    var carryMask = (0x3ffffff >>> (26 - r)) << (26 - r);\n    var i;\n\n    if (r !== 0) {\n      var carry = 0;\n\n      for (i = 0; i < this.length; i++) {\n        var newCarry = this.words[i] & carryMask;\n        var c = ((this.words[i] | 0) - newCarry) << r;\n        this.words[i] = c | carry;\n        carry = newCarry >>> (26 - r);\n      }\n\n      if (carry) {\n        this.words[i] = carry;\n        this.length++;\n      }\n    }\n\n    if (s !== 0) {\n      for (i = this.length - 1; i >= 0; i--) {\n        this.words[i + s] = this.words[i];\n      }\n\n      for (i = 0; i < s; i++) {\n        this.words[i] = 0;\n      }\n\n      this.length += s;\n    }\n\n    return this.strip();\n  };\n\n  BN.prototype.ishln = function ishln (bits) {\n    // TODO(indutny): implement me\n    assert(this.negative === 0);\n    return this.iushln(bits);\n  };\n\n  // Shift-right in-place\n  // NOTE: `hint` is a lowest bit before trailing zeroes\n  // NOTE: if `extended` is present - it will be filled with destroyed bits\n  BN.prototype.iushrn = function iushrn (bits, hint, extended) {\n    assert(typeof bits === 'number' && bits >= 0);\n    var h;\n    if (hint) {\n      h = (hint - (hint % 26)) / 26;\n    } else {\n      h = 0;\n    }\n\n    var r = bits % 26;\n    var s = Math.min((bits - r) / 26, this.length);\n    var mask = 0x3ffffff ^ ((0x3ffffff >>> r) << r);\n    var maskedWords = extended;\n\n    h -= s;\n    h = Math.max(0, h);\n\n    // Extended mode, copy masked part\n    if (maskedWords) {\n      for (var i = 0; i < s; i++) {\n        maskedWords.words[i] = this.words[i];\n      }\n      maskedWords.length = s;\n    }\n\n    if (s === 0) {\n      // No-op, we should not move anything at all\n    } else if (this.length > s) {\n      this.length -= s;\n      for (i = 0; i < this.length; i++) {\n        this.words[i] = this.words[i + s];\n      }\n    } else {\n      this.words[0] = 0;\n      this.length = 1;\n    }\n\n    var carry = 0;\n    for (i = this.length - 1; i >= 0 && (carry !== 0 || i >= h); i--) {\n      var word = this.words[i] | 0;\n      this.words[i] = (carry << (26 - r)) | (word >>> r);\n      carry = word & mask;\n    }\n\n    // Push carried bits as a mask\n    if (maskedWords && carry !== 0) {\n      maskedWords.words[maskedWords.length++] = carry;\n    }\n\n    if (this.length === 0) {\n      this.words[0] = 0;\n      this.length = 1;\n    }\n\n    return this.strip();\n  };\n\n  BN.prototype.ishrn = function ishrn (bits, hint, extended) {\n    // TODO(indutny): implement me\n    assert(this.negative === 0);\n    return this.iushrn(bits, hint, extended);\n  };\n\n  // Shift-left\n  BN.prototype.shln = function shln (bits) {\n    return this.clone().ishln(bits);\n  };\n\n  BN.prototype.ushln = function ushln (bits) {\n    return this.clone().iushln(bits);\n  };\n\n  // Shift-right\n  BN.prototype.shrn = function shrn (bits) {\n    return this.clone().ishrn(bits);\n  };\n\n  BN.prototype.ushrn = function ushrn (bits) {\n    return this.clone().iushrn(bits);\n  };\n\n  // Test if n bit is set\n  BN.prototype.testn = function testn (bit) {\n    assert(typeof bit === 'number' && bit >= 0);\n    var r = bit % 26;\n    var s = (bit - r) / 26;\n    var q = 1 << r;\n\n    // Fast case: bit is much higher than all existing words\n    if (this.length <= s) return false;\n\n    // Check bit and return\n    var w = this.words[s];\n\n    return !!(w & q);\n  };\n\n  // Return only lowers bits of number (in-place)\n  BN.prototype.imaskn = function imaskn (bits) {\n    assert(typeof bits === 'number' && bits >= 0);\n    var r = bits % 26;\n    var s = (bits - r) / 26;\n\n    assert(this.negative === 0, 'imaskn works only with positive numbers');\n\n    if (this.length <= s) {\n      return this;\n    }\n\n    if (r !== 0) {\n      s++;\n    }\n    this.length = Math.min(s, this.length);\n\n    if (r !== 0) {\n      var mask = 0x3ffffff ^ ((0x3ffffff >>> r) << r);\n      this.words[this.length - 1] &= mask;\n    }\n\n    return this.strip();\n  };\n\n  // Return only lowers bits of number\n  BN.prototype.maskn = function maskn (bits) {\n    return this.clone().imaskn(bits);\n  };\n\n  // Add plain number `num` to `this`\n  BN.prototype.iaddn = function iaddn (num) {\n    assert(typeof num === 'number');\n    assert(num < 0x4000000);\n    if (num < 0) return this.isubn(-num);\n\n    // Possible sign change\n    if (this.negative !== 0) {\n      if (this.length === 1 && (this.words[0] | 0) < num) {\n        this.words[0] = num - (this.words[0] | 0);\n        this.negative = 0;\n        return this;\n      }\n\n      this.negative = 0;\n      this.isubn(num);\n      this.negative = 1;\n      return this;\n    }\n\n    // Add without checks\n    return this._iaddn(num);\n  };\n\n  BN.prototype._iaddn = function _iaddn (num) {\n    this.words[0] += num;\n\n    // Carry\n    for (var i = 0; i < this.length && this.words[i] >= 0x4000000; i++) {\n      this.words[i] -= 0x4000000;\n      if (i === this.length - 1) {\n        this.words[i + 1] = 1;\n      } else {\n        this.words[i + 1]++;\n      }\n    }\n    this.length = Math.max(this.length, i + 1);\n\n    return this;\n  };\n\n  // Subtract plain number `num` from `this`\n  BN.prototype.isubn = function isubn (num) {\n    assert(typeof num === 'number');\n    assert(num < 0x4000000);\n    if (num < 0) return this.iaddn(-num);\n\n    if (this.negative !== 0) {\n      this.negative = 0;\n      this.iaddn(num);\n      this.negative = 1;\n      return this;\n    }\n\n    this.words[0] -= num;\n\n    if (this.length === 1 && this.words[0] < 0) {\n      this.words[0] = -this.words[0];\n      this.negative = 1;\n    } else {\n      // Carry\n      for (var i = 0; i < this.length && this.words[i] < 0; i++) {\n        this.words[i] += 0x4000000;\n        this.words[i + 1] -= 1;\n      }\n    }\n\n    return this.strip();\n  };\n\n  BN.prototype.addn = function addn (num) {\n    return this.clone().iaddn(num);\n  };\n\n  BN.prototype.subn = function subn (num) {\n    return this.clone().isubn(num);\n  };\n\n  BN.prototype.iabs = function iabs () {\n    this.negative = 0;\n\n    return this;\n  };\n\n  BN.prototype.abs = function abs () {\n    return this.clone().iabs();\n  };\n\n  BN.prototype._ishlnsubmul = function _ishlnsubmul (num, mul, shift) {\n    var len = num.length + shift;\n    var i;\n\n    this._expand(len);\n\n    var w;\n    var carry = 0;\n    for (i = 0; i < num.length; i++) {\n      w = (this.words[i + shift] | 0) + carry;\n      var right = (num.words[i] | 0) * mul;\n      w -= right & 0x3ffffff;\n      carry = (w >> 26) - ((right / 0x4000000) | 0);\n      this.words[i + shift] = w & 0x3ffffff;\n    }\n    for (; i < this.length - shift; i++) {\n      w = (this.words[i + shift] | 0) + carry;\n      carry = w >> 26;\n      this.words[i + shift] = w & 0x3ffffff;\n    }\n\n    if (carry === 0) return this.strip();\n\n    // Subtraction overflow\n    assert(carry === -1);\n    carry = 0;\n    for (i = 0; i < this.length; i++) {\n      w = -(this.words[i] | 0) + carry;\n      carry = w >> 26;\n      this.words[i] = w & 0x3ffffff;\n    }\n    this.negative = 1;\n\n    return this.strip();\n  };\n\n  BN.prototype._wordDiv = function _wordDiv (num, mode) {\n    var shift = this.length - num.length;\n\n    var a = this.clone();\n    var b = num;\n\n    // Normalize\n    var bhi = b.words[b.length - 1] | 0;\n    var bhiBits = this._countBits(bhi);\n    shift = 26 - bhiBits;\n    if (shift !== 0) {\n      b = b.ushln(shift);\n      a.iushln(shift);\n      bhi = b.words[b.length - 1] | 0;\n    }\n\n    // Initialize quotient\n    var m = a.length - b.length;\n    var q;\n\n    if (mode !== 'mod') {\n      q = new BN(null);\n      q.length = m + 1;\n      q.words = new Array(q.length);\n      for (var i = 0; i < q.length; i++) {\n        q.words[i] = 0;\n      }\n    }\n\n    var diff = a.clone()._ishlnsubmul(b, 1, m);\n    if (diff.negative === 0) {\n      a = diff;\n      if (q) {\n        q.words[m] = 1;\n      }\n    }\n\n    for (var j = m - 1; j >= 0; j--) {\n      var qj = (a.words[b.length + j] | 0) * 0x4000000 +\n        (a.words[b.length + j - 1] | 0);\n\n      // NOTE: (qj / bhi) is (0x3ffffff * 0x4000000 + 0x3ffffff) / 0x2000000 max\n      // (0x7ffffff)\n      qj = Math.min((qj / bhi) | 0, 0x3ffffff);\n\n      a._ishlnsubmul(b, qj, j);\n      while (a.negative !== 0) {\n        qj--;\n        a.negative = 0;\n        a._ishlnsubmul(b, 1, j);\n        if (!a.isZero()) {\n          a.negative ^= 1;\n        }\n      }\n      if (q) {\n        q.words[j] = qj;\n      }\n    }\n    if (q) {\n      q.strip();\n    }\n    a.strip();\n\n    // Denormalize\n    if (mode !== 'div' && shift !== 0) {\n      a.iushrn(shift);\n    }\n\n    return {\n      div: q || null,\n      mod: a\n    };\n  };\n\n  // NOTE: 1) `mode` can be set to `mod` to request mod only,\n  //       to `div` to request div only, or be absent to\n  //       request both div & mod\n  //       2) `positive` is true if unsigned mod is requested\n  BN.prototype.divmod = function divmod (num, mode, positive) {\n    assert(!num.isZero());\n\n    if (this.isZero()) {\n      return {\n        div: new BN(0),\n        mod: new BN(0)\n      };\n    }\n\n    var div, mod, res;\n    if (this.negative !== 0 && num.negative === 0) {\n      res = this.neg().divmod(num, mode);\n\n      if (mode !== 'mod') {\n        div = res.div.neg();\n      }\n\n      if (mode !== 'div') {\n        mod = res.mod.neg();\n        if (positive && mod.negative !== 0) {\n          mod.iadd(num);\n        }\n      }\n\n      return {\n        div: div,\n        mod: mod\n      };\n    }\n\n    if (this.negative === 0 && num.negative !== 0) {\n      res = this.divmod(num.neg(), mode);\n\n      if (mode !== 'mod') {\n        div = res.div.neg();\n      }\n\n      return {\n        div: div,\n        mod: res.mod\n      };\n    }\n\n    if ((this.negative & num.negative) !== 0) {\n      res = this.neg().divmod(num.neg(), mode);\n\n      if (mode !== 'div') {\n        mod = res.mod.neg();\n        if (positive && mod.negative !== 0) {\n          mod.isub(num);\n        }\n      }\n\n      return {\n        div: res.div,\n        mod: mod\n      };\n    }\n\n    // Both numbers are positive at this point\n\n    // Strip both numbers to approximate shift value\n    if (num.length > this.length || this.cmp(num) < 0) {\n      return {\n        div: new BN(0),\n        mod: this\n      };\n    }\n\n    // Very short reduction\n    if (num.length === 1) {\n      if (mode === 'div') {\n        return {\n          div: this.divn(num.words[0]),\n          mod: null\n        };\n      }\n\n      if (mode === 'mod') {\n        return {\n          div: null,\n          mod: new BN(this.modn(num.words[0]))\n        };\n      }\n\n      return {\n        div: this.divn(num.words[0]),\n        mod: new BN(this.modn(num.words[0]))\n      };\n    }\n\n    return this._wordDiv(num, mode);\n  };\n\n  // Find `this` / `num`\n  BN.prototype.div = function div (num) {\n    return this.divmod(num, 'div', false).div;\n  };\n\n  // Find `this` % `num`\n  BN.prototype.mod = function mod (num) {\n    return this.divmod(num, 'mod', false).mod;\n  };\n\n  BN.prototype.umod = function umod (num) {\n    return this.divmod(num, 'mod', true).mod;\n  };\n\n  // Find Round(`this` / `num`)\n  BN.prototype.divRound = function divRound (num) {\n    var dm = this.divmod(num);\n\n    // Fast case - exact division\n    if (dm.mod.isZero()) return dm.div;\n\n    var mod = dm.div.negative !== 0 ? dm.mod.isub(num) : dm.mod;\n\n    var half = num.ushrn(1);\n    var r2 = num.andln(1);\n    var cmp = mod.cmp(half);\n\n    // Round down\n    if (cmp < 0 || r2 === 1 && cmp === 0) return dm.div;\n\n    // Round up\n    return dm.div.negative !== 0 ? dm.div.isubn(1) : dm.div.iaddn(1);\n  };\n\n  BN.prototype.modn = function modn (num) {\n    assert(num <= 0x3ffffff);\n    var p = (1 << 26) % num;\n\n    var acc = 0;\n    for (var i = this.length - 1; i >= 0; i--) {\n      acc = (p * acc + (this.words[i] | 0)) % num;\n    }\n\n    return acc;\n  };\n\n  // In-place division by number\n  BN.prototype.idivn = function idivn (num) {\n    assert(num <= 0x3ffffff);\n\n    var carry = 0;\n    for (var i = this.length - 1; i >= 0; i--) {\n      var w = (this.words[i] | 0) + carry * 0x4000000;\n      this.words[i] = (w / num) | 0;\n      carry = w % num;\n    }\n\n    return this.strip();\n  };\n\n  BN.prototype.divn = function divn (num) {\n    return this.clone().idivn(num);\n  };\n\n  BN.prototype.egcd = function egcd (p) {\n    assert(p.negative === 0);\n    assert(!p.isZero());\n\n    var x = this;\n    var y = p.clone();\n\n    if (x.negative !== 0) {\n      x = x.umod(p);\n    } else {\n      x = x.clone();\n    }\n\n    // A * x + B * y = x\n    var A = new BN(1);\n    var B = new BN(0);\n\n    // C * x + D * y = y\n    var C = new BN(0);\n    var D = new BN(1);\n\n    var g = 0;\n\n    while (x.isEven() && y.isEven()) {\n      x.iushrn(1);\n      y.iushrn(1);\n      ++g;\n    }\n\n    var yp = y.clone();\n    var xp = x.clone();\n\n    while (!x.isZero()) {\n      for (var i = 0, im = 1; (x.words[0] & im) === 0 && i < 26; ++i, im <<= 1);\n      if (i > 0) {\n        x.iushrn(i);\n        while (i-- > 0) {\n          if (A.isOdd() || B.isOdd()) {\n            A.iadd(yp);\n            B.isub(xp);\n          }\n\n          A.iushrn(1);\n          B.iushrn(1);\n        }\n      }\n\n      for (var j = 0, jm = 1; (y.words[0] & jm) === 0 && j < 26; ++j, jm <<= 1);\n      if (j > 0) {\n        y.iushrn(j);\n        while (j-- > 0) {\n          if (C.isOdd() || D.isOdd()) {\n            C.iadd(yp);\n            D.isub(xp);\n          }\n\n          C.iushrn(1);\n          D.iushrn(1);\n        }\n      }\n\n      if (x.cmp(y) >= 0) {\n        x.isub(y);\n        A.isub(C);\n        B.isub(D);\n      } else {\n        y.isub(x);\n        C.isub(A);\n        D.isub(B);\n      }\n    }\n\n    return {\n      a: C,\n      b: D,\n      gcd: y.iushln(g)\n    };\n  };\n\n  // This is reduced incarnation of the binary EEA\n  // above, designated to invert members of the\n  // _prime_ fields F(p) at a maximal speed\n  BN.prototype._invmp = function _invmp (p) {\n    assert(p.negative === 0);\n    assert(!p.isZero());\n\n    var a = this;\n    var b = p.clone();\n\n    if (a.negative !== 0) {\n      a = a.umod(p);\n    } else {\n      a = a.clone();\n    }\n\n    var x1 = new BN(1);\n    var x2 = new BN(0);\n\n    var delta = b.clone();\n\n    while (a.cmpn(1) > 0 && b.cmpn(1) > 0) {\n      for (var i = 0, im = 1; (a.words[0] & im) === 0 && i < 26; ++i, im <<= 1);\n      if (i > 0) {\n        a.iushrn(i);\n        while (i-- > 0) {\n          if (x1.isOdd()) {\n            x1.iadd(delta);\n          }\n\n          x1.iushrn(1);\n        }\n      }\n\n      for (var j = 0, jm = 1; (b.words[0] & jm) === 0 && j < 26; ++j, jm <<= 1);\n      if (j > 0) {\n        b.iushrn(j);\n        while (j-- > 0) {\n          if (x2.isOdd()) {\n            x2.iadd(delta);\n          }\n\n          x2.iushrn(1);\n        }\n      }\n\n      if (a.cmp(b) >= 0) {\n        a.isub(b);\n        x1.isub(x2);\n      } else {\n        b.isub(a);\n        x2.isub(x1);\n      }\n    }\n\n    var res;\n    if (a.cmpn(1) === 0) {\n      res = x1;\n    } else {\n      res = x2;\n    }\n\n    if (res.cmpn(0) < 0) {\n      res.iadd(p);\n    }\n\n    return res;\n  };\n\n  BN.prototype.gcd = function gcd (num) {\n    if (this.isZero()) return num.abs();\n    if (num.isZero()) return this.abs();\n\n    var a = this.clone();\n    var b = num.clone();\n    a.negative = 0;\n    b.negative = 0;\n\n    // Remove common factor of two\n    for (var shift = 0; a.isEven() && b.isEven(); shift++) {\n      a.iushrn(1);\n      b.iushrn(1);\n    }\n\n    do {\n      while (a.isEven()) {\n        a.iushrn(1);\n      }\n      while (b.isEven()) {\n        b.iushrn(1);\n      }\n\n      var r = a.cmp(b);\n      if (r < 0) {\n        // Swap `a` and `b` to make `a` always bigger than `b`\n        var t = a;\n        a = b;\n        b = t;\n      } else if (r === 0 || b.cmpn(1) === 0) {\n        break;\n      }\n\n      a.isub(b);\n    } while (true);\n\n    return b.iushln(shift);\n  };\n\n  // Invert number in the field F(num)\n  BN.prototype.invm = function invm (num) {\n    return this.egcd(num).a.umod(num);\n  };\n\n  BN.prototype.isEven = function isEven () {\n    return (this.words[0] & 1) === 0;\n  };\n\n  BN.prototype.isOdd = function isOdd () {\n    return (this.words[0] & 1) === 1;\n  };\n\n  // And first word and num\n  BN.prototype.andln = function andln (num) {\n    return this.words[0] & num;\n  };\n\n  // Increment at the bit position in-line\n  BN.prototype.bincn = function bincn (bit) {\n    assert(typeof bit === 'number');\n    var r = bit % 26;\n    var s = (bit - r) / 26;\n    var q = 1 << r;\n\n    // Fast case: bit is much higher than all existing words\n    if (this.length <= s) {\n      this._expand(s + 1);\n      this.words[s] |= q;\n      return this;\n    }\n\n    // Add bit and propagate, if needed\n    var carry = q;\n    for (var i = s; carry !== 0 && i < this.length; i++) {\n      var w = this.words[i] | 0;\n      w += carry;\n      carry = w >>> 26;\n      w &= 0x3ffffff;\n      this.words[i] = w;\n    }\n    if (carry !== 0) {\n      this.words[i] = carry;\n      this.length++;\n    }\n    return this;\n  };\n\n  BN.prototype.isZero = function isZero () {\n    return this.length === 1 && this.words[0] === 0;\n  };\n\n  BN.prototype.cmpn = function cmpn (num) {\n    var negative = num < 0;\n\n    if (this.negative !== 0 && !negative) return -1;\n    if (this.negative === 0 && negative) return 1;\n\n    this.strip();\n\n    var res;\n    if (this.length > 1) {\n      res = 1;\n    } else {\n      if (negative) {\n        num = -num;\n      }\n\n      assert(num <= 0x3ffffff, 'Number is too big');\n\n      var w = this.words[0] | 0;\n      res = w === num ? 0 : w < num ? -1 : 1;\n    }\n    if (this.negative !== 0) return -res | 0;\n    return res;\n  };\n\n  // Compare two numbers and return:\n  // 1 - if `this` > `num`\n  // 0 - if `this` == `num`\n  // -1 - if `this` < `num`\n  BN.prototype.cmp = function cmp (num) {\n    if (this.negative !== 0 && num.negative === 0) return -1;\n    if (this.negative === 0 && num.negative !== 0) return 1;\n\n    var res = this.ucmp(num);\n    if (this.negative !== 0) return -res | 0;\n    return res;\n  };\n\n  // Unsigned comparison\n  BN.prototype.ucmp = function ucmp (num) {\n    // At this point both numbers have the same sign\n    if (this.length > num.length) return 1;\n    if (this.length < num.length) return -1;\n\n    var res = 0;\n    for (var i = this.length - 1; i >= 0; i--) {\n      var a = this.words[i] | 0;\n      var b = num.words[i] | 0;\n\n      if (a === b) continue;\n      if (a < b) {\n        res = -1;\n      } else if (a > b) {\n        res = 1;\n      }\n      break;\n    }\n    return res;\n  };\n\n  BN.prototype.gtn = function gtn (num) {\n    return this.cmpn(num) === 1;\n  };\n\n  BN.prototype.gt = function gt (num) {\n    return this.cmp(num) === 1;\n  };\n\n  BN.prototype.gten = function gten (num) {\n    return this.cmpn(num) >= 0;\n  };\n\n  BN.prototype.gte = function gte (num) {\n    return this.cmp(num) >= 0;\n  };\n\n  BN.prototype.ltn = function ltn (num) {\n    return this.cmpn(num) === -1;\n  };\n\n  BN.prototype.lt = function lt (num) {\n    return this.cmp(num) === -1;\n  };\n\n  BN.prototype.lten = function lten (num) {\n    return this.cmpn(num) <= 0;\n  };\n\n  BN.prototype.lte = function lte (num) {\n    return this.cmp(num) <= 0;\n  };\n\n  BN.prototype.eqn = function eqn (num) {\n    return this.cmpn(num) === 0;\n  };\n\n  BN.prototype.eq = function eq (num) {\n    return this.cmp(num) === 0;\n  };\n\n  //\n  // A reduce context, could be using montgomery or something better, depending\n  // on the `m` itself.\n  //\n  BN.red = function red (num) {\n    return new Red(num);\n  };\n\n  BN.prototype.toRed = function toRed (ctx) {\n    assert(!this.red, 'Already a number in reduction context');\n    assert(this.negative === 0, 'red works only with positives');\n    return ctx.convertTo(this)._forceRed(ctx);\n  };\n\n  BN.prototype.fromRed = function fromRed () {\n    assert(this.red, 'fromRed works only with numbers in reduction context');\n    return this.red.convertFrom(this);\n  };\n\n  BN.prototype._forceRed = function _forceRed (ctx) {\n    this.red = ctx;\n    return this;\n  };\n\n  BN.prototype.forceRed = function forceRed (ctx) {\n    assert(!this.red, 'Already a number in reduction context');\n    return this._forceRed(ctx);\n  };\n\n  BN.prototype.redAdd = function redAdd (num) {\n    assert(this.red, 'redAdd works only with red numbers');\n    return this.red.add(this, num);\n  };\n\n  BN.prototype.redIAdd = function redIAdd (num) {\n    assert(this.red, 'redIAdd works only with red numbers');\n    return this.red.iadd(this, num);\n  };\n\n  BN.prototype.redSub = function redSub (num) {\n    assert(this.red, 'redSub works only with red numbers');\n    return this.red.sub(this, num);\n  };\n\n  BN.prototype.redISub = function redISub (num) {\n    assert(this.red, 'redISub works only with red numbers');\n    return this.red.isub(this, num);\n  };\n\n  BN.prototype.redShl = function redShl (num) {\n    assert(this.red, 'redShl works only with red numbers');\n    return this.red.shl(this, num);\n  };\n\n  BN.prototype.redMul = function redMul (num) {\n    assert(this.red, 'redMul works only with red numbers');\n    this.red._verify2(this, num);\n    return this.red.mul(this, num);\n  };\n\n  BN.prototype.redIMul = function redIMul (num) {\n    assert(this.red, 'redMul works only with red numbers');\n    this.red._verify2(this, num);\n    return this.red.imul(this, num);\n  };\n\n  BN.prototype.redSqr = function redSqr () {\n    assert(this.red, 'redSqr works only with red numbers');\n    this.red._verify1(this);\n    return this.red.sqr(this);\n  };\n\n  BN.prototype.redISqr = function redISqr () {\n    assert(this.red, 'redISqr works only with red numbers');\n    this.red._verify1(this);\n    return this.red.isqr(this);\n  };\n\n  // Square root over p\n  BN.prototype.redSqrt = function redSqrt () {\n    assert(this.red, 'redSqrt works only with red numbers');\n    this.red._verify1(this);\n    return this.red.sqrt(this);\n  };\n\n  BN.prototype.redInvm = function redInvm () {\n    assert(this.red, 'redInvm works only with red numbers');\n    this.red._verify1(this);\n    return this.red.invm(this);\n  };\n\n  // Return negative clone of `this` % `red modulo`\n  BN.prototype.redNeg = function redNeg () {\n    assert(this.red, 'redNeg works only with red numbers');\n    this.red._verify1(this);\n    return this.red.neg(this);\n  };\n\n  BN.prototype.redPow = function redPow (num) {\n    assert(this.red && !num.red, 'redPow(normalNum)');\n    this.red._verify1(this);\n    return this.red.pow(this, num);\n  };\n\n  // Prime numbers with efficient reduction\n  var primes = {\n    k256: null,\n    p224: null,\n    p192: null,\n    p25519: null\n  };\n\n  // Pseudo-Mersenne prime\n  function MPrime (name, p) {\n    // P = 2 ^ N - K\n    this.name = name;\n    this.p = new BN(p, 16);\n    this.n = this.p.bitLength();\n    this.k = new BN(1).iushln(this.n).isub(this.p);\n\n    this.tmp = this._tmp();\n  }\n\n  MPrime.prototype._tmp = function _tmp () {\n    var tmp = new BN(null);\n    tmp.words = new Array(Math.ceil(this.n / 13));\n    return tmp;\n  };\n\n  MPrime.prototype.ireduce = function ireduce (num) {\n    // Assumes that `num` is less than `P^2`\n    // num = HI * (2 ^ N - K) + HI * K + LO = HI * K + LO (mod P)\n    var r = num;\n    var rlen;\n\n    do {\n      this.split(r, this.tmp);\n      r = this.imulK(r);\n      r = r.iadd(this.tmp);\n      rlen = r.bitLength();\n    } while (rlen > this.n);\n\n    var cmp = rlen < this.n ? -1 : r.ucmp(this.p);\n    if (cmp === 0) {\n      r.words[0] = 0;\n      r.length = 1;\n    } else if (cmp > 0) {\n      r.isub(this.p);\n    } else {\n      r.strip();\n    }\n\n    return r;\n  };\n\n  MPrime.prototype.split = function split (input, out) {\n    input.iushrn(this.n, 0, out);\n  };\n\n  MPrime.prototype.imulK = function imulK (num) {\n    return num.imul(this.k);\n  };\n\n  function K256 () {\n    MPrime.call(\n      this,\n      'k256',\n      'ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f');\n  }\n  inherits(K256, MPrime);\n\n  K256.prototype.split = function split (input, output) {\n    // 256 = 9 * 26 + 22\n    var mask = 0x3fffff;\n\n    var outLen = Math.min(input.length, 9);\n    for (var i = 0; i < outLen; i++) {\n      output.words[i] = input.words[i];\n    }\n    output.length = outLen;\n\n    if (input.length <= 9) {\n      input.words[0] = 0;\n      input.length = 1;\n      return;\n    }\n\n    // Shift by 9 limbs\n    var prev = input.words[9];\n    output.words[output.length++] = prev & mask;\n\n    for (i = 10; i < input.length; i++) {\n      var next = input.words[i] | 0;\n      input.words[i - 10] = ((next & mask) << 4) | (prev >>> 22);\n      prev = next;\n    }\n    prev >>>= 22;\n    input.words[i - 10] = prev;\n    if (prev === 0 && input.length > 10) {\n      input.length -= 10;\n    } else {\n      input.length -= 9;\n    }\n  };\n\n  K256.prototype.imulK = function imulK (num) {\n    // K = 0x1000003d1 = [ 0x40, 0x3d1 ]\n    num.words[num.length] = 0;\n    num.words[num.length + 1] = 0;\n    num.length += 2;\n\n    // bounded at: 0x40 * 0x3ffffff + 0x3d0 = 0x100000390\n    var lo = 0;\n    for (var i = 0; i < num.length; i++) {\n      var w = num.words[i] | 0;\n      lo += w * 0x3d1;\n      num.words[i] = lo & 0x3ffffff;\n      lo = w * 0x40 + ((lo / 0x4000000) | 0);\n    }\n\n    // Fast length reduction\n    if (num.words[num.length - 1] === 0) {\n      num.length--;\n      if (num.words[num.length - 1] === 0) {\n        num.length--;\n      }\n    }\n    return num;\n  };\n\n  function P224 () {\n    MPrime.call(\n      this,\n      'p224',\n      'ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001');\n  }\n  inherits(P224, MPrime);\n\n  function P192 () {\n    MPrime.call(\n      this,\n      'p192',\n      'ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff');\n  }\n  inherits(P192, MPrime);\n\n  function P25519 () {\n    // 2 ^ 255 - 19\n    MPrime.call(\n      this,\n      '25519',\n      '7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed');\n  }\n  inherits(P25519, MPrime);\n\n  P25519.prototype.imulK = function imulK (num) {\n    // K = 0x13\n    var carry = 0;\n    for (var i = 0; i < num.length; i++) {\n      var hi = (num.words[i] | 0) * 0x13 + carry;\n      var lo = hi & 0x3ffffff;\n      hi >>>= 26;\n\n      num.words[i] = lo;\n      carry = hi;\n    }\n    if (carry !== 0) {\n      num.words[num.length++] = carry;\n    }\n    return num;\n  };\n\n  // Exported mostly for testing purposes, use plain name instead\n  BN._prime = function prime (name) {\n    // Cached version of prime\n    if (primes[name]) return primes[name];\n\n    var prime;\n    if (name === 'k256') {\n      prime = new K256();\n    } else if (name === 'p224') {\n      prime = new P224();\n    } else if (name === 'p192') {\n      prime = new P192();\n    } else if (name === 'p25519') {\n      prime = new P25519();\n    } else {\n      throw new Error('Unknown prime ' + name);\n    }\n    primes[name] = prime;\n\n    return prime;\n  };\n\n  //\n  // Base reduction engine\n  //\n  function Red (m) {\n    if (typeof m === 'string') {\n      var prime = BN._prime(m);\n      this.m = prime.p;\n      this.prime = prime;\n    } else {\n      assert(m.gtn(1), 'modulus must be greater than 1');\n      this.m = m;\n      this.prime = null;\n    }\n  }\n\n  Red.prototype._verify1 = function _verify1 (a) {\n    assert(a.negative === 0, 'red works only with positives');\n    assert(a.red, 'red works only with red numbers');\n  };\n\n  Red.prototype._verify2 = function _verify2 (a, b) {\n    assert((a.negative | b.negative) === 0, 'red works only with positives');\n    assert(a.red && a.red === b.red,\n      'red works only with red numbers');\n  };\n\n  Red.prototype.imod = function imod (a) {\n    if (this.prime) return this.prime.ireduce(a)._forceRed(this);\n    return a.umod(this.m)._forceRed(this);\n  };\n\n  Red.prototype.neg = function neg (a) {\n    if (a.isZero()) {\n      return a.clone();\n    }\n\n    return this.m.sub(a)._forceRed(this);\n  };\n\n  Red.prototype.add = function add (a, b) {\n    this._verify2(a, b);\n\n    var res = a.add(b);\n    if (res.cmp(this.m) >= 0) {\n      res.isub(this.m);\n    }\n    return res._forceRed(this);\n  };\n\n  Red.prototype.iadd = function iadd (a, b) {\n    this._verify2(a, b);\n\n    var res = a.iadd(b);\n    if (res.cmp(this.m) >= 0) {\n      res.isub(this.m);\n    }\n    return res;\n  };\n\n  Red.prototype.sub = function sub (a, b) {\n    this._verify2(a, b);\n\n    var res = a.sub(b);\n    if (res.cmpn(0) < 0) {\n      res.iadd(this.m);\n    }\n    return res._forceRed(this);\n  };\n\n  Red.prototype.isub = function isub (a, b) {\n    this._verify2(a, b);\n\n    var res = a.isub(b);\n    if (res.cmpn(0) < 0) {\n      res.iadd(this.m);\n    }\n    return res;\n  };\n\n  Red.prototype.shl = function shl (a, num) {\n    this._verify1(a);\n    return this.imod(a.ushln(num));\n  };\n\n  Red.prototype.imul = function imul (a, b) {\n    this._verify2(a, b);\n    return this.imod(a.imul(b));\n  };\n\n  Red.prototype.mul = function mul (a, b) {\n    this._verify2(a, b);\n    return this.imod(a.mul(b));\n  };\n\n  Red.prototype.isqr = function isqr (a) {\n    return this.imul(a, a.clone());\n  };\n\n  Red.prototype.sqr = function sqr (a) {\n    return this.mul(a, a);\n  };\n\n  Red.prototype.sqrt = function sqrt (a) {\n    if (a.isZero()) return a.clone();\n\n    var mod3 = this.m.andln(3);\n    assert(mod3 % 2 === 1);\n\n    // Fast case\n    if (mod3 === 3) {\n      var pow = this.m.add(new BN(1)).iushrn(2);\n      return this.pow(a, pow);\n    }\n\n    // Tonelli-Shanks algorithm (Totally unoptimized and slow)\n    //\n    // Find Q and S, that Q * 2 ^ S = (P - 1)\n    var q = this.m.subn(1);\n    var s = 0;\n    while (!q.isZero() && q.andln(1) === 0) {\n      s++;\n      q.iushrn(1);\n    }\n    assert(!q.isZero());\n\n    var one = new BN(1).toRed(this);\n    var nOne = one.redNeg();\n\n    // Find quadratic non-residue\n    // NOTE: Max is such because of generalized Riemann hypothesis.\n    var lpow = this.m.subn(1).iushrn(1);\n    var z = this.m.bitLength();\n    z = new BN(2 * z * z).toRed(this);\n\n    while (this.pow(z, lpow).cmp(nOne) !== 0) {\n      z.redIAdd(nOne);\n    }\n\n    var c = this.pow(z, q);\n    var r = this.pow(a, q.addn(1).iushrn(1));\n    var t = this.pow(a, q);\n    var m = s;\n    while (t.cmp(one) !== 0) {\n      var tmp = t;\n      for (var i = 0; tmp.cmp(one) !== 0; i++) {\n        tmp = tmp.redSqr();\n      }\n      assert(i < m);\n      var b = this.pow(c, new BN(1).iushln(m - i - 1));\n\n      r = r.redMul(b);\n      c = b.redSqr();\n      t = t.redMul(c);\n      m = i;\n    }\n\n    return r;\n  };\n\n  Red.prototype.invm = function invm (a) {\n    var inv = a._invmp(this.m);\n    if (inv.negative !== 0) {\n      inv.negative = 0;\n      return this.imod(inv).redNeg();\n    } else {\n      return this.imod(inv);\n    }\n  };\n\n  Red.prototype.pow = function pow (a, num) {\n    if (num.isZero()) return new BN(1);\n    if (num.cmpn(1) === 0) return a.clone();\n\n    var windowSize = 4;\n    var wnd = new Array(1 << windowSize);\n    wnd[0] = new BN(1).toRed(this);\n    wnd[1] = a;\n    for (var i = 2; i < wnd.length; i++) {\n      wnd[i] = this.mul(wnd[i - 1], a);\n    }\n\n    var res = wnd[0];\n    var current = 0;\n    var currentLen = 0;\n    var start = num.bitLength() % 26;\n    if (start === 0) {\n      start = 26;\n    }\n\n    for (i = num.length - 1; i >= 0; i--) {\n      var word = num.words[i];\n      for (var j = start - 1; j >= 0; j--) {\n        var bit = (word >> j) & 1;\n        if (res !== wnd[0]) {\n          res = this.sqr(res);\n        }\n\n        if (bit === 0 && current === 0) {\n          currentLen = 0;\n          continue;\n        }\n\n        current <<= 1;\n        current |= bit;\n        currentLen++;\n        if (currentLen !== windowSize && (i !== 0 || j !== 0)) continue;\n\n        res = this.mul(res, wnd[current]);\n        currentLen = 0;\n        current = 0;\n      }\n      start = 26;\n    }\n\n    return res;\n  };\n\n  Red.prototype.convertTo = function convertTo (num) {\n    var r = num.umod(this.m);\n\n    return r === num ? r.clone() : r;\n  };\n\n  Red.prototype.convertFrom = function convertFrom (num) {\n    var res = num.clone();\n    res.red = null;\n    return res;\n  };\n\n  //\n  // Montgomery method engine\n  //\n\n  BN.mont = function mont (num) {\n    return new Mont(num);\n  };\n\n  function Mont (m) {\n    Red.call(this, m);\n\n    this.shift = this.m.bitLength();\n    if (this.shift % 26 !== 0) {\n      this.shift += 26 - (this.shift % 26);\n    }\n\n    this.r = new BN(1).iushln(this.shift);\n    this.r2 = this.imod(this.r.sqr());\n    this.rinv = this.r._invmp(this.m);\n\n    this.minv = this.rinv.mul(this.r).isubn(1).div(this.m);\n    this.minv = this.minv.umod(this.r);\n    this.minv = this.r.sub(this.minv);\n  }\n  inherits(Mont, Red);\n\n  Mont.prototype.convertTo = function convertTo (num) {\n    return this.imod(num.ushln(this.shift));\n  };\n\n  Mont.prototype.convertFrom = function convertFrom (num) {\n    var r = this.imod(num.mul(this.rinv));\n    r.red = null;\n    return r;\n  };\n\n  Mont.prototype.imul = function imul (a, b) {\n    if (a.isZero() || b.isZero()) {\n      a.words[0] = 0;\n      a.length = 1;\n      return a;\n    }\n\n    var t = a.imul(b);\n    var c = t.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m);\n    var u = t.isub(c).iushrn(this.shift);\n    var res = u;\n\n    if (u.cmp(this.m) >= 0) {\n      res = u.isub(this.m);\n    } else if (u.cmpn(0) < 0) {\n      res = u.iadd(this.m);\n    }\n\n    return res._forceRed(this);\n  };\n\n  Mont.prototype.mul = function mul (a, b) {\n    if (a.isZero() || b.isZero()) return new BN(0)._forceRed(this);\n\n    var t = a.mul(b);\n    var c = t.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m);\n    var u = t.isub(c).iushrn(this.shift);\n    var res = u;\n    if (u.cmp(this.m) >= 0) {\n      res = u.isub(this.m);\n    } else if (u.cmpn(0) < 0) {\n      res = u.iadd(this.m);\n    }\n\n    return res._forceRed(this);\n  };\n\n  Mont.prototype.invm = function invm (a) {\n    // (AR)^-1 * R^2 = (A^-1 * R^-1) * R^2 = A^-1 * R\n    var res = this.imod(a._invmp(this.m).mul(this.r2));\n    return res._forceRed(this);\n  };\n})(typeof module === 'undefined' || module, this);\n","var BN = require('bn.js');\nvar stripHexPrefix = require('strip-hex-prefix');\n\n/**\n * Returns a BN object, converts a number value to a BN\n * @param {String|Number|Object} `arg` input a string number, hex string number, number, BigNumber or BN object\n * @return {Object} `output` BN object of the number\n * @throws if the argument is not an array, object that isn't a bignumber, not a string number or number\n */\nmodule.exports = function numberToBN(arg) {\n  if (typeof arg === 'string' || typeof arg === 'number') {\n    var multiplier = new BN(1); // eslint-disable-line\n    var formattedString = String(arg).toLowerCase().trim();\n    var isHexPrefixed = formattedString.substr(0, 2) === '0x' || formattedString.substr(0, 3) === '-0x';\n    var stringArg = stripHexPrefix(formattedString); // eslint-disable-line\n    if (stringArg.substr(0, 1) === '-') {\n      stringArg = stripHexPrefix(stringArg.slice(1));\n      multiplier = new BN(-1, 10);\n    }\n    stringArg = stringArg === '' ? '0' : stringArg;\n\n    if ((!stringArg.match(/^-?[0-9]+$/) && stringArg.match(/^[0-9A-Fa-f]+$/))\n      || stringArg.match(/^[a-fA-F]+$/)\n      || (isHexPrefixed === true && stringArg.match(/^[0-9A-Fa-f]+$/))) {\n      return new BN(stringArg, 16).mul(multiplier);\n    }\n\n    if ((stringArg.match(/^-?[0-9]+$/) || stringArg === '') && isHexPrefixed === false) {\n      return new BN(stringArg, 10).mul(multiplier);\n    }\n  } else if (typeof arg === 'object' && arg.toString && (!arg.pop && !arg.push)) {\n    if (arg.toString(10).match(/^-?[0-9]+$/) && (arg.mul || arg.dividedToIntegerBy)) {\n      return new BN(arg.toString(10), 10);\n    }\n  }\n\n  throw new Error('[number-to-bn] while converting number ' + JSON.stringify(arg) + ' to BN.js instance, error: invalid number value. Value must be an integer, hex string, BN or BigNumber instance. Note, decimals are not supported.');\n}\n","// base-x encoding / decoding\n// Copyright (c) 2018 base-x contributors\n// Copyright (c) 2014-2018 The Bitcoin Core developers (base58.cpp)\n// Distributed under the MIT software license, see the accompanying\n// file LICENSE or http://www.opensource.org/licenses/mit-license.php.\nfunction base (ALPHABET) {\n  if (ALPHABET.length >= 255) { throw new TypeError('Alphabet too long') }\n  const BASE_MAP = new Uint8Array(256)\n  for (let j = 0; j < BASE_MAP.length; j++) {\n    BASE_MAP[j] = 255\n  }\n  for (let i = 0; i < ALPHABET.length; i++) {\n    const x = ALPHABET.charAt(i)\n    const xc = x.charCodeAt(0)\n    if (BASE_MAP[xc] !== 255) { throw new TypeError(x + ' is ambiguous') }\n    BASE_MAP[xc] = i\n  }\n  const BASE = ALPHABET.length\n  const LEADER = ALPHABET.charAt(0)\n  const FACTOR = Math.log(BASE) / Math.log(256) // log(BASE) / log(256), rounded up\n  const iFACTOR = Math.log(256) / Math.log(BASE) // log(256) / log(BASE), rounded up\n  function encode (source) {\n    // eslint-disable-next-line no-empty\n    if (source instanceof Uint8Array) { } else if (ArrayBuffer.isView(source)) {\n      source = new Uint8Array(source.buffer, source.byteOffset, source.byteLength)\n    } else if (Array.isArray(source)) {\n      source = Uint8Array.from(source)\n    }\n    if (!(source instanceof Uint8Array)) { throw new TypeError('Expected Uint8Array') }\n    if (source.length === 0) { return '' }\n    // Skip & count leading zeroes.\n    let zeroes = 0\n    let length = 0\n    let pbegin = 0\n    const pend = source.length\n    while (pbegin !== pend && source[pbegin] === 0) {\n      pbegin++\n      zeroes++\n    }\n    // Allocate enough space in big-endian base58 representation.\n    const size = ((pend - pbegin) * iFACTOR + 1) >>> 0\n    const b58 = new Uint8Array(size)\n    // Process the bytes.\n    while (pbegin !== pend) {\n      let carry = source[pbegin]\n      // Apply \"b58 = b58 * 256 + ch\".\n      let i = 0\n      for (let it1 = size - 1; (carry !== 0 || i < length) && (it1 !== -1); it1--, i++) {\n        carry += (256 * b58[it1]) >>> 0\n        b58[it1] = (carry % BASE) >>> 0\n        carry = (carry / BASE) >>> 0\n      }\n      if (carry !== 0) { throw new Error('Non-zero carry') }\n      length = i\n      pbegin++\n    }\n    // Skip leading zeroes in base58 result.\n    let it2 = size - length\n    while (it2 !== size && b58[it2] === 0) {\n      it2++\n    }\n    // Translate the result into a string.\n    let str = LEADER.repeat(zeroes)\n    for (; it2 < size; ++it2) { str += ALPHABET.charAt(b58[it2]) }\n    return str\n  }\n  function decodeUnsafe (source) {\n    if (typeof source !== 'string') { throw new TypeError('Expected String') }\n    if (source.length === 0) { return new Uint8Array() }\n    let psz = 0\n    // Skip and count leading '1's.\n    let zeroes = 0\n    let length = 0\n    while (source[psz] === LEADER) {\n      zeroes++\n      psz++\n    }\n    // Allocate enough space in big-endian base256 representation.\n    const size = (((source.length - psz) * FACTOR) + 1) >>> 0 // log(58) / log(256), rounded up.\n    const b256 = new Uint8Array(size)\n    // Process the characters.\n    while (source[psz]) {\n      // Decode character\n      let carry = BASE_MAP[source.charCodeAt(psz)]\n      // Invalid character\n      if (carry === 255) { return }\n      let i = 0\n      for (let it3 = size - 1; (carry !== 0 || i < length) && (it3 !== -1); it3--, i++) {\n        carry += (BASE * b256[it3]) >>> 0\n        b256[it3] = (carry % 256) >>> 0\n        carry = (carry / 256) >>> 0\n      }\n      if (carry !== 0) { throw new Error('Non-zero carry') }\n      length = i\n      psz++\n    }\n    // Skip leading zeroes in b256.\n    let it4 = size - length\n    while (it4 !== size && b256[it4] === 0) {\n      it4++\n    }\n    const vch = new Uint8Array(zeroes + (size - it4))\n    let j = zeroes\n    while (it4 !== size) {\n      vch[j++] = b256[it4++]\n    }\n    return vch\n  }\n  function decode (string) {\n    const buffer = decodeUnsafe(string)\n    if (buffer) { return buffer }\n    throw new Error('Non-base' + BASE + ' character')\n  }\n  return {\n    encode,\n    decodeUnsafe,\n    decode\n  }\n}\nexport default base\n","import basex from 'base-x';\nvar ALPHABET = '123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz';\nexport default basex(ALPHABET);\n","import bs58 from \"bs58\";\nconst toBase58 = (buffer) => bs58.encode(buffer);\nconst fromBase58 = (str) => bs58.decode(str);\nconst toB58 = toBase58;\nconst fromB58 = fromBase58;\nexport {\n  fromB58,\n  fromBase58,\n  toB58,\n  toBase58\n};\n//# sourceMappingURL=b58.js.map\n","function fromBase64(base64String) {\n  return Uint8Array.from(atob(base64String), (char) => char.charCodeAt(0));\n}\nconst CHUNK_SIZE = 8192;\nfunction toBase64(bytes) {\n  if (bytes.length < CHUNK_SIZE) {\n    return btoa(String.fromCharCode(...bytes));\n  }\n  let output = \"\";\n  for (var i = 0; i < bytes.length; i += CHUNK_SIZE) {\n    const chunk = bytes.slice(i, i + CHUNK_SIZE);\n    output += String.fromCharCode(...chunk);\n  }\n  return btoa(output);\n}\nconst toB64 = toBase64;\nconst fromB64 = fromBase64;\nexport {\n  fromB64,\n  fromBase64,\n  toB64,\n  toBase64\n};\n//# sourceMappingURL=b64.js.map\n","import { ulebDecode } from \"./uleb.js\";\nclass BcsReader {\n  /**\n   * @param {Uint8Array} data Data to use as a buffer.\n   */\n  constructor(data) {\n    this.bytePosition = 0;\n    this.dataView = new DataView(data.buffer);\n  }\n  /**\n   * Shift current cursor position by `bytes`.\n   *\n   * @param {Number} bytes Number of bytes to\n   * @returns {this} Self for possible chaining.\n   */\n  shift(bytes) {\n    this.bytePosition += bytes;\n    return this;\n  }\n  /**\n   * Read U8 value from the buffer and shift cursor by 1.\n   * @returns\n   */\n  read8() {\n    let value = this.dataView.getUint8(this.bytePosition);\n    this.shift(1);\n    return value;\n  }\n  /**\n   * Read U16 value from the buffer and shift cursor by 2.\n   * @returns\n   */\n  read16() {\n    let value = this.dataView.getUint16(this.bytePosition, true);\n    this.shift(2);\n    return value;\n  }\n  /**\n   * Read U32 value from the buffer and shift cursor by 4.\n   * @returns\n   */\n  read32() {\n    let value = this.dataView.getUint32(this.bytePosition, true);\n    this.shift(4);\n    return value;\n  }\n  /**\n   * Read U64 value from the buffer and shift cursor by 8.\n   * @returns\n   */\n  read64() {\n    let value1 = this.read32();\n    let value2 = this.read32();\n    let result = value2.toString(16) + value1.toString(16).padStart(8, \"0\");\n    return BigInt(\"0x\" + result).toString(10);\n  }\n  /**\n   * Read U128 value from the buffer and shift cursor by 16.\n   */\n  read128() {\n    let value1 = BigInt(this.read64());\n    let value2 = BigInt(this.read64());\n    let result = value2.toString(16) + value1.toString(16).padStart(16, \"0\");\n    return BigInt(\"0x\" + result).toString(10);\n  }\n  /**\n   * Read U128 value from the buffer and shift cursor by 32.\n   * @returns\n   */\n  read256() {\n    let value1 = BigInt(this.read128());\n    let value2 = BigInt(this.read128());\n    let result = value2.toString(16) + value1.toString(16).padStart(32, \"0\");\n    return BigInt(\"0x\" + result).toString(10);\n  }\n  /**\n   * Read `num` number of bytes from the buffer and shift cursor by `num`.\n   * @param num Number of bytes to read.\n   */\n  readBytes(num) {\n    let start = this.bytePosition + this.dataView.byteOffset;\n    let value = new Uint8Array(this.dataView.buffer, start, num);\n    this.shift(num);\n    return value;\n  }\n  /**\n   * Read ULEB value - an integer of varying size. Used for enum indexes and\n   * vector lengths.\n   * @returns {Number} The ULEB value.\n   */\n  readULEB() {\n    let start = this.bytePosition + this.dataView.byteOffset;\n    let buffer = new Uint8Array(this.dataView.buffer, start);\n    let { value, length } = ulebDecode(buffer);\n    this.shift(length);\n    return value;\n  }\n  /**\n   * Read a BCS vector: read a length and then apply function `cb` X times\n   * where X is the length of the vector, defined as ULEB in BCS bytes.\n   * @param cb Callback to process elements of vector.\n   * @returns {Array<Any>} Array of the resulting values, returned by callback.\n   */\n  readVec(cb) {\n    let length = this.readULEB();\n    let result = [];\n    for (let i = 0; i < length; i++) {\n      result.push(cb(this, i, length));\n    }\n    return result;\n  }\n}\nexport {\n  BcsReader\n};\n//# sourceMappingURL=reader.js.map\n","import { ulebEncode } from \"./uleb.js\";\nimport { encodeStr } from \"./utils.js\";\nclass BcsWriter {\n  constructor({\n    initialSize = 1024,\n    maxSize = Infinity,\n    allocateSize = 1024\n  } = {}) {\n    this.bytePosition = 0;\n    this.size = initialSize;\n    this.maxSize = maxSize;\n    this.allocateSize = allocateSize;\n    this.dataView = new DataView(new ArrayBuffer(initialSize));\n  }\n  ensureSizeOrGrow(bytes) {\n    const requiredSize = this.bytePosition + bytes;\n    if (requiredSize > this.size) {\n      const nextSize = Math.min(this.maxSize, this.size + this.allocateSize);\n      if (requiredSize > nextSize) {\n        throw new Error(\n          `Attempting to serialize to BCS, but buffer does not have enough size. Allocated size: ${this.size}, Max size: ${this.maxSize}, Required size: ${requiredSize}`\n        );\n      }\n      this.size = nextSize;\n      const nextBuffer = new ArrayBuffer(this.size);\n      new Uint8Array(nextBuffer).set(new Uint8Array(this.dataView.buffer));\n      this.dataView = new DataView(nextBuffer);\n    }\n  }\n  /**\n   * Shift current cursor position by `bytes`.\n   *\n   * @param {Number} bytes Number of bytes to\n   * @returns {this} Self for possible chaining.\n   */\n  shift(bytes) {\n    this.bytePosition += bytes;\n    return this;\n  }\n  /**\n   * Write a U8 value into a buffer and shift cursor position by 1.\n   * @param {Number} value Value to write.\n   * @returns {this}\n   */\n  write8(value) {\n    this.ensureSizeOrGrow(1);\n    this.dataView.setUint8(this.bytePosition, Number(value));\n    return this.shift(1);\n  }\n  /**\n   * Write a U16 value into a buffer and shift cursor position by 2.\n   * @param {Number} value Value to write.\n   * @returns {this}\n   */\n  write16(value) {\n    this.ensureSizeOrGrow(2);\n    this.dataView.setUint16(this.bytePosition, Number(value), true);\n    return this.shift(2);\n  }\n  /**\n   * Write a U32 value into a buffer and shift cursor position by 4.\n   * @param {Number} value Value to write.\n   * @returns {this}\n   */\n  write32(value) {\n    this.ensureSizeOrGrow(4);\n    this.dataView.setUint32(this.bytePosition, Number(value), true);\n    return this.shift(4);\n  }\n  /**\n   * Write a U64 value into a buffer and shift cursor position by 8.\n   * @param {bigint} value Value to write.\n   * @returns {this}\n   */\n  write64(value) {\n    toLittleEndian(BigInt(value), 8).forEach((el) => this.write8(el));\n    return this;\n  }\n  /**\n   * Write a U128 value into a buffer and shift cursor position by 16.\n   *\n   * @param {bigint} value Value to write.\n   * @returns {this}\n   */\n  write128(value) {\n    toLittleEndian(BigInt(value), 16).forEach((el) => this.write8(el));\n    return this;\n  }\n  /**\n   * Write a U256 value into a buffer and shift cursor position by 16.\n   *\n   * @param {bigint} value Value to write.\n   * @returns {this}\n   */\n  write256(value) {\n    toLittleEndian(BigInt(value), 32).forEach((el) => this.write8(el));\n    return this;\n  }\n  /**\n   * Write a ULEB value into a buffer and shift cursor position by number of bytes\n   * written.\n   * @param {Number} value Value to write.\n   * @returns {this}\n   */\n  writeULEB(value) {\n    ulebEncode(value).forEach((el) => this.write8(el));\n    return this;\n  }\n  /**\n   * Write a vector into a buffer by first writing the vector length and then calling\n   * a callback on each passed value.\n   *\n   * @param {Array<Any>} vector Array of elements to write.\n   * @param {WriteVecCb} cb Callback to call on each element of the vector.\n   * @returns {this}\n   */\n  writeVec(vector, cb) {\n    this.writeULEB(vector.length);\n    Array.from(vector).forEach((el, i) => cb(this, el, i, vector.length));\n    return this;\n  }\n  /**\n   * Adds support for iterations over the object.\n   * @returns {Uint8Array}\n   */\n  *[Symbol.iterator]() {\n    for (let i = 0; i < this.bytePosition; i++) {\n      yield this.dataView.getUint8(i);\n    }\n    return this.toBytes();\n  }\n  /**\n   * Get underlying buffer taking only value bytes (in case initial buffer size was bigger).\n   * @returns {Uint8Array} Resulting bcs.\n   */\n  toBytes() {\n    return new Uint8Array(this.dataView.buffer.slice(0, this.bytePosition));\n  }\n  /**\n   * Represent data as 'hex' or 'base64'\n   * @param encoding Encoding to use: 'base64' or 'hex'\n   */\n  toString(encoding) {\n    return encodeStr(this.toBytes(), encoding);\n  }\n}\nfunction toLittleEndian(bigint, size) {\n  let result = new Uint8Array(size);\n  let i = 0;\n  while (bigint > 0) {\n    result[i] = Number(bigint % BigInt(256));\n    bigint = bigint / BigInt(256);\n    i += 1;\n  }\n  return result;\n}\nexport {\n  BcsWriter\n};\n//# sourceMappingURL=writer.js.map\n","var __typeError = (msg) => {\n  throw TypeError(msg);\n};\nvar __accessCheck = (obj, member, msg) => member.has(obj) || __typeError(\"Cannot \" + msg);\nvar __privateGet = (obj, member, getter) => (__accessCheck(obj, member, \"read from private field\"), getter ? getter.call(obj) : member.get(obj));\nvar __privateAdd = (obj, member, value) => member.has(obj) ? __typeError(\"Cannot add the same private member more than once\") : member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\nvar __privateSet = (obj, member, value, setter) => (__accessCheck(obj, member, \"write to private field\"), setter ? setter.call(obj, value) : member.set(obj, value), value);\nvar _write, _serialize, _schema, _bytes;\nimport { fromBase58, toBase58 } from \"./b58.js\";\nimport { fromBase64, toBase64 } from \"./b64.js\";\nimport { fromHex, toHex } from \"./hex.js\";\nimport { BcsReader } from \"./reader.js\";\nimport { ulebEncode } from \"./uleb.js\";\nimport { BcsWriter } from \"./writer.js\";\nconst _BcsType = class _BcsType {\n  constructor(options) {\n    __privateAdd(this, _write);\n    __privateAdd(this, _serialize);\n    this.name = options.name;\n    this.read = options.read;\n    this.serializedSize = options.serializedSize ?? (() => null);\n    __privateSet(this, _write, options.write);\n    __privateSet(this, _serialize, options.serialize ?? ((value, options2) => {\n      const writer = new BcsWriter({\n        initialSize: this.serializedSize(value) ?? void 0,\n        ...options2\n      });\n      __privateGet(this, _write).call(this, value, writer);\n      return writer.toBytes();\n    }));\n    this.validate = options.validate ?? (() => {\n    });\n  }\n  write(value, writer) {\n    this.validate(value);\n    __privateGet(this, _write).call(this, value, writer);\n  }\n  serialize(value, options) {\n    this.validate(value);\n    return new SerializedBcs(this, __privateGet(this, _serialize).call(this, value, options));\n  }\n  parse(bytes) {\n    const reader = new BcsReader(bytes);\n    return this.read(reader);\n  }\n  fromHex(hex) {\n    return this.parse(fromHex(hex));\n  }\n  fromBase58(b64) {\n    return this.parse(fromBase58(b64));\n  }\n  fromBase64(b64) {\n    return this.parse(fromBase64(b64));\n  }\n  transform({\n    name,\n    input,\n    output,\n    validate\n  }) {\n    return new _BcsType({\n      name: name ?? this.name,\n      read: (reader) => output(this.read(reader)),\n      write: (value, writer) => __privateGet(this, _write).call(this, input(value), writer),\n      serializedSize: (value) => this.serializedSize(input(value)),\n      serialize: (value, options) => __privateGet(this, _serialize).call(this, input(value), options),\n      validate: (value) => {\n        validate?.(value);\n        this.validate(input(value));\n      }\n    });\n  }\n};\n_write = new WeakMap();\n_serialize = new WeakMap();\nlet BcsType = _BcsType;\nconst SERIALIZED_BCS_BRAND = Symbol.for(\"@mysten/serialized-bcs\");\nfunction isSerializedBcs(obj) {\n  return !!obj && typeof obj === \"object\" && obj[SERIALIZED_BCS_BRAND] === true;\n}\nclass SerializedBcs {\n  constructor(type, schema) {\n    __privateAdd(this, _schema);\n    __privateAdd(this, _bytes);\n    __privateSet(this, _schema, type);\n    __privateSet(this, _bytes, schema);\n  }\n  // Used to brand SerializedBcs so that they can be identified, even between multiple copies\n  // of the @mysten/bcs package are installed\n  get [SERIALIZED_BCS_BRAND]() {\n    return true;\n  }\n  toBytes() {\n    return __privateGet(this, _bytes);\n  }\n  toHex() {\n    return toHex(__privateGet(this, _bytes));\n  }\n  toBase64() {\n    return toBase64(__privateGet(this, _bytes));\n  }\n  toBase58() {\n    return toBase58(__privateGet(this, _bytes));\n  }\n  parse() {\n    return __privateGet(this, _schema).parse(__privateGet(this, _bytes));\n  }\n}\n_schema = new WeakMap();\n_bytes = new WeakMap();\nfunction fixedSizeBcsType({\n  size,\n  ...options\n}) {\n  return new BcsType({\n    ...options,\n    serializedSize: () => size\n  });\n}\nfunction uIntBcsType({\n  readMethod,\n  writeMethod,\n  ...options\n}) {\n  return fixedSizeBcsType({\n    ...options,\n    read: (reader) => reader[readMethod](),\n    write: (value, writer) => writer[writeMethod](value),\n    validate: (value) => {\n      if (value < 0 || value > options.maxValue) {\n        throw new TypeError(\n          `Invalid ${options.name} value: ${value}. Expected value in range 0-${options.maxValue}`\n        );\n      }\n      options.validate?.(value);\n    }\n  });\n}\nfunction bigUIntBcsType({\n  readMethod,\n  writeMethod,\n  ...options\n}) {\n  return fixedSizeBcsType({\n    ...options,\n    read: (reader) => reader[readMethod](),\n    write: (value, writer) => writer[writeMethod](BigInt(value)),\n    validate: (val) => {\n      const value = BigInt(val);\n      if (value < 0 || value > options.maxValue) {\n        throw new TypeError(\n          `Invalid ${options.name} value: ${value}. Expected value in range 0-${options.maxValue}`\n        );\n      }\n      options.validate?.(value);\n    }\n  });\n}\nfunction dynamicSizeBcsType({\n  serialize,\n  ...options\n}) {\n  const type = new BcsType({\n    ...options,\n    serialize,\n    write: (value, writer) => {\n      for (const byte of type.serialize(value).toBytes()) {\n        writer.write8(byte);\n      }\n    }\n  });\n  return type;\n}\nfunction stringLikeBcsType({\n  toBytes,\n  fromBytes,\n  ...options\n}) {\n  return new BcsType({\n    ...options,\n    read: (reader) => {\n      const length = reader.readULEB();\n      const bytes = reader.readBytes(length);\n      return fromBytes(bytes);\n    },\n    write: (hex, writer) => {\n      const bytes = toBytes(hex);\n      writer.writeULEB(bytes.length);\n      for (let i = 0; i < bytes.length; i++) {\n        writer.write8(bytes[i]);\n      }\n    },\n    serialize: (value) => {\n      const bytes = toBytes(value);\n      const size = ulebEncode(bytes.length);\n      const result = new Uint8Array(size.length + bytes.length);\n      result.set(size, 0);\n      result.set(bytes, size.length);\n      return result;\n    },\n    validate: (value) => {\n      if (typeof value !== \"string\") {\n        throw new TypeError(`Invalid ${options.name} value: ${value}. Expected string`);\n      }\n      options.validate?.(value);\n    }\n  });\n}\nfunction lazyBcsType(cb) {\n  let lazyType = null;\n  function getType() {\n    if (!lazyType) {\n      lazyType = cb();\n    }\n    return lazyType;\n  }\n  return new BcsType({\n    name: \"lazy\",\n    read: (data) => getType().read(data),\n    serializedSize: (value) => getType().serializedSize(value),\n    write: (value, writer) => getType().write(value, writer),\n    serialize: (value, options) => getType().serialize(value, options).toBytes()\n  });\n}\nexport {\n  BcsType,\n  SerializedBcs,\n  bigUIntBcsType,\n  dynamicSizeBcsType,\n  fixedSizeBcsType,\n  isSerializedBcs,\n  lazyBcsType,\n  stringLikeBcsType,\n  uIntBcsType\n};\n//# sourceMappingURL=bcs-type.js.map\n","import {\n  BcsType,\n  bigUIntBcsType,\n  dynamicSizeBcsType,\n  fixedSizeBcsType,\n  lazyBcsType,\n  stringLikeBcsType,\n  uIntBcsType\n} from \"./bcs-type.js\";\nimport { ulebEncode } from \"./uleb.js\";\nconst bcs = {\n  /**\n   * Creates a BcsType that can be used to read and write an 8-bit unsigned integer.\n   * @example\n   * bcs.u8().serialize(255).toBytes() // Uint8Array [ 255 ]\n   */\n  u8(options) {\n    return uIntBcsType({\n      name: \"u8\",\n      readMethod: \"read8\",\n      writeMethod: \"write8\",\n      size: 1,\n      maxValue: 2 ** 8 - 1,\n      ...options\n    });\n  },\n  /**\n   * Creates a BcsType that can be used to read and write a 16-bit unsigned integer.\n   * @example\n   * bcs.u16().serialize(65535).toBytes() // Uint8Array [ 255, 255 ]\n   */\n  u16(options) {\n    return uIntBcsType({\n      name: \"u16\",\n      readMethod: \"read16\",\n      writeMethod: \"write16\",\n      size: 2,\n      maxValue: 2 ** 16 - 1,\n      ...options\n    });\n  },\n  /**\n   * Creates a BcsType that can be used to read and write a 32-bit unsigned integer.\n   * @example\n   * bcs.u32().serialize(4294967295).toBytes() // Uint8Array [ 255, 255, 255, 255 ]\n   */\n  u32(options) {\n    return uIntBcsType({\n      name: \"u32\",\n      readMethod: \"read32\",\n      writeMethod: \"write32\",\n      size: 4,\n      maxValue: 2 ** 32 - 1,\n      ...options\n    });\n  },\n  /**\n   * Creates a BcsType that can be used to read and write a 64-bit unsigned integer.\n   * @example\n   * bcs.u64().serialize(1).toBytes() // Uint8Array [ 1, 0, 0, 0, 0, 0, 0, 0 ]\n   */\n  u64(options) {\n    return bigUIntBcsType({\n      name: \"u64\",\n      readMethod: \"read64\",\n      writeMethod: \"write64\",\n      size: 8,\n      maxValue: 2n ** 64n - 1n,\n      ...options\n    });\n  },\n  /**\n   * Creates a BcsType that can be used to read and write a 128-bit unsigned integer.\n   * @example\n   * bcs.u128().serialize(1).toBytes() // Uint8Array [ 1, ..., 0 ]\n   */\n  u128(options) {\n    return bigUIntBcsType({\n      name: \"u128\",\n      readMethod: \"read128\",\n      writeMethod: \"write128\",\n      size: 16,\n      maxValue: 2n ** 128n - 1n,\n      ...options\n    });\n  },\n  /**\n   * Creates a BcsType that can be used to read and write a 256-bit unsigned integer.\n   * @example\n   * bcs.u256().serialize(1).toBytes() // Uint8Array [ 1, ..., 0 ]\n   */\n  u256(options) {\n    return bigUIntBcsType({\n      name: \"u256\",\n      readMethod: \"read256\",\n      writeMethod: \"write256\",\n      size: 32,\n      maxValue: 2n ** 256n - 1n,\n      ...options\n    });\n  },\n  /**\n   * Creates a BcsType that can be used to read and write boolean values.\n   * @example\n   * bcs.bool().serialize(true).toBytes() // Uint8Array [ 1 ]\n   */\n  bool(options) {\n    return fixedSizeBcsType({\n      name: \"bool\",\n      size: 1,\n      read: (reader) => reader.read8() === 1,\n      write: (value, writer) => writer.write8(value ? 1 : 0),\n      ...options,\n      validate: (value) => {\n        options?.validate?.(value);\n        if (typeof value !== \"boolean\") {\n          throw new TypeError(`Expected boolean, found ${typeof value}`);\n        }\n      }\n    });\n  },\n  /**\n   * Creates a BcsType that can be used to read and write unsigned LEB encoded integers\n   * @example\n   *\n   */\n  uleb128(options) {\n    return dynamicSizeBcsType({\n      name: \"uleb128\",\n      read: (reader) => reader.readULEB(),\n      serialize: (value) => {\n        return Uint8Array.from(ulebEncode(value));\n      },\n      ...options\n    });\n  },\n  /**\n   * Creates a BcsType representing a fixed length byte array\n   * @param size The number of bytes this types represents\n   * @example\n   * bcs.bytes(3).serialize(new Uint8Array([1, 2, 3])).toBytes() // Uint8Array [1, 2, 3]\n   */\n  bytes(size, options) {\n    return fixedSizeBcsType({\n      name: `bytes[${size}]`,\n      size,\n      read: (reader) => reader.readBytes(size),\n      write: (value, writer) => {\n        for (let i = 0; i < size; i++) {\n          writer.write8(value[i] ?? 0);\n        }\n      },\n      ...options,\n      validate: (value) => {\n        options?.validate?.(value);\n        if (!value || typeof value !== \"object\" || !(\"length\" in value)) {\n          throw new TypeError(`Expected array, found ${typeof value}`);\n        }\n        if (value.length !== size) {\n          throw new TypeError(`Expected array of length ${size}, found ${value.length}`);\n        }\n      }\n    });\n  },\n  /**\n   * Creates a BcsType that can ser/de string values.  Strings will be UTF-8 encoded\n   * @example\n   * bcs.string().serialize('a').toBytes() // Uint8Array [ 1, 97 ]\n   */\n  string(options) {\n    return stringLikeBcsType({\n      name: \"string\",\n      toBytes: (value) => new TextEncoder().encode(value),\n      fromBytes: (bytes) => new TextDecoder().decode(bytes),\n      ...options\n    });\n  },\n  /**\n   * Creates a BcsType that represents a fixed length array of a given type\n   * @param size The number of elements in the array\n   * @param type The BcsType of each element in the array\n   * @example\n   * bcs.fixedArray(3, bcs.u8()).serialize([1, 2, 3]).toBytes() // Uint8Array [ 1, 2, 3 ]\n   */\n  fixedArray(size, type, options) {\n    return new BcsType({\n      name: `${type.name}[${size}]`,\n      read: (reader) => {\n        const result = new Array(size);\n        for (let i = 0; i < size; i++) {\n          result[i] = type.read(reader);\n        }\n        return result;\n      },\n      write: (value, writer) => {\n        for (const item of value) {\n          type.write(item, writer);\n        }\n      },\n      ...options,\n      validate: (value) => {\n        options?.validate?.(value);\n        if (!value || typeof value !== \"object\" || !(\"length\" in value)) {\n          throw new TypeError(`Expected array, found ${typeof value}`);\n        }\n        if (value.length !== size) {\n          throw new TypeError(`Expected array of length ${size}, found ${value.length}`);\n        }\n      }\n    });\n  },\n  /**\n   * Creates a BcsType representing an optional value\n   * @param type The BcsType of the optional value\n   * @example\n   * bcs.option(bcs.u8()).serialize(null).toBytes() // Uint8Array [ 0 ]\n   * bcs.option(bcs.u8()).serialize(1).toBytes() // Uint8Array [ 1, 1 ]\n   */\n  option(type) {\n    return bcs.enum(`Option<${type.name}>`, {\n      None: null,\n      Some: type\n    }).transform({\n      input: (value) => {\n        if (value == null) {\n          return { None: true };\n        }\n        return { Some: value };\n      },\n      output: (value) => {\n        if (value.$kind === \"Some\") {\n          return value.Some;\n        }\n        return null;\n      }\n    });\n  },\n  /**\n   * Creates a BcsType representing a variable length vector of a given type\n   * @param type The BcsType of each element in the vector\n   *\n   * @example\n   * bcs.vector(bcs.u8()).toBytes([1, 2, 3]) // Uint8Array [ 3, 1, 2, 3 ]\n   */\n  vector(type, options) {\n    return new BcsType({\n      name: `vector<${type.name}>`,\n      read: (reader) => {\n        const length = reader.readULEB();\n        const result = new Array(length);\n        for (let i = 0; i < length; i++) {\n          result[i] = type.read(reader);\n        }\n        return result;\n      },\n      write: (value, writer) => {\n        writer.writeULEB(value.length);\n        for (const item of value) {\n          type.write(item, writer);\n        }\n      },\n      ...options,\n      validate: (value) => {\n        options?.validate?.(value);\n        if (!value || typeof value !== \"object\" || !(\"length\" in value)) {\n          throw new TypeError(`Expected array, found ${typeof value}`);\n        }\n      }\n    });\n  },\n  /**\n   * Creates a BcsType representing a tuple of a given set of types\n   * @param types The BcsTypes for each element in the tuple\n   *\n   * @example\n   * const tuple = bcs.tuple([bcs.u8(), bcs.string(), bcs.bool()])\n   * tuple.serialize([1, 'a', true]).toBytes() // Uint8Array [ 1, 1, 97, 1 ]\n   */\n  tuple(types, options) {\n    return new BcsType({\n      name: `(${types.map((t) => t.name).join(\", \")})`,\n      serializedSize: (values) => {\n        let total = 0;\n        for (let i = 0; i < types.length; i++) {\n          const size = types[i].serializedSize(values[i]);\n          if (size == null) {\n            return null;\n          }\n          total += size;\n        }\n        return total;\n      },\n      read: (reader) => {\n        const result = [];\n        for (const type of types) {\n          result.push(type.read(reader));\n        }\n        return result;\n      },\n      write: (value, writer) => {\n        for (let i = 0; i < types.length; i++) {\n          types[i].write(value[i], writer);\n        }\n      },\n      ...options,\n      validate: (value) => {\n        options?.validate?.(value);\n        if (!Array.isArray(value)) {\n          throw new TypeError(`Expected array, found ${typeof value}`);\n        }\n        if (value.length !== types.length) {\n          throw new TypeError(`Expected array of length ${types.length}, found ${value.length}`);\n        }\n      }\n    });\n  },\n  /**\n   * Creates a BcsType representing a struct of a given set of fields\n   * @param name The name of the struct\n   * @param fields The fields of the struct. The order of the fields affects how data is serialized and deserialized\n   *\n   * @example\n   * const struct = bcs.struct('MyStruct', {\n   *  a: bcs.u8(),\n   *  b: bcs.string(),\n   * })\n   * struct.serialize({ a: 1, b: 'a' }).toBytes() // Uint8Array [ 1, 1, 97 ]\n   */\n  struct(name, fields, options) {\n    const canonicalOrder = Object.entries(fields);\n    return new BcsType({\n      name,\n      serializedSize: (values) => {\n        let total = 0;\n        for (const [field, type] of canonicalOrder) {\n          const size = type.serializedSize(values[field]);\n          if (size == null) {\n            return null;\n          }\n          total += size;\n        }\n        return total;\n      },\n      read: (reader) => {\n        const result = {};\n        for (const [field, type] of canonicalOrder) {\n          result[field] = type.read(reader);\n        }\n        return result;\n      },\n      write: (value, writer) => {\n        for (const [field, type] of canonicalOrder) {\n          type.write(value[field], writer);\n        }\n      },\n      ...options,\n      validate: (value) => {\n        options?.validate?.(value);\n        if (typeof value !== \"object\" || value == null) {\n          throw new TypeError(`Expected object, found ${typeof value}`);\n        }\n      }\n    });\n  },\n  /**\n   * Creates a BcsType representing an enum of a given set of options\n   * @param name The name of the enum\n   * @param values The values of the enum. The order of the values affects how data is serialized and deserialized.\n   * null can be used to represent a variant with no data.\n   *\n   * @example\n   * const enum = bcs.enum('MyEnum', {\n   *   A: bcs.u8(),\n   *   B: bcs.string(),\n   *   C: null,\n   * })\n   * enum.serialize({ A: 1 }).toBytes() // Uint8Array [ 0, 1 ]\n   * enum.serialize({ B: 'a' }).toBytes() // Uint8Array [ 1, 1, 97 ]\n   * enum.serialize({ C: true }).toBytes() // Uint8Array [ 2 ]\n   */\n  enum(name, values, options) {\n    const canonicalOrder = Object.entries(values);\n    return new BcsType({\n      name,\n      read: (reader) => {\n        const index = reader.readULEB();\n        const enumEntry = canonicalOrder[index];\n        if (!enumEntry) {\n          throw new TypeError(`Unknown value ${index} for enum ${name}`);\n        }\n        const [kind, type] = enumEntry;\n        return {\n          [kind]: type?.read(reader) ?? true,\n          $kind: kind\n        };\n      },\n      write: (value, writer) => {\n        const [name2, val] = Object.entries(value).filter(\n          ([name3]) => Object.hasOwn(values, name3)\n        )[0];\n        for (let i = 0; i < canonicalOrder.length; i++) {\n          const [optionName, optionType] = canonicalOrder[i];\n          if (optionName === name2) {\n            writer.writeULEB(i);\n            optionType?.write(val, writer);\n            return;\n          }\n        }\n      },\n      ...options,\n      validate: (value) => {\n        options?.validate?.(value);\n        if (typeof value !== \"object\" || value == null) {\n          throw new TypeError(`Expected object, found ${typeof value}`);\n        }\n        const keys = Object.keys(value).filter(\n          (k) => value[k] !== void 0 && Object.hasOwn(values, k)\n        );\n        if (keys.length !== 1) {\n          throw new TypeError(\n            `Expected object with one key, but found ${keys.length} for type ${name}}`\n          );\n        }\n        const [variant] = keys;\n        if (!Object.hasOwn(values, variant)) {\n          throw new TypeError(`Invalid enum variant ${variant}`);\n        }\n      }\n    });\n  },\n  /**\n   * Creates a BcsType representing a map of a given key and value type\n   * @param keyType The BcsType of the key\n   * @param valueType The BcsType of the value\n   * @example\n   * const map = bcs.map(bcs.u8(), bcs.string())\n   * map.serialize(new Map([[2, 'a']])).toBytes() // Uint8Array [ 1, 2, 1, 97 ]\n   */\n  map(keyType, valueType) {\n    return bcs.vector(bcs.tuple([keyType, valueType])).transform({\n      name: `Map<${keyType.name}, ${valueType.name}>`,\n      input: (value) => {\n        return [...value.entries()];\n      },\n      output: (value) => {\n        const result = /* @__PURE__ */ new Map();\n        for (const [key, val] of value) {\n          result.set(key, val);\n        }\n        return result;\n      }\n    });\n  },\n  /**\n   * Creates a BcsType that wraps another BcsType which is lazily evaluated. This is useful for creating recursive types.\n   * @param cb A callback that returns the BcsType\n   */\n  lazy(cb) {\n    return lazyBcsType(cb);\n  }\n};\nexport {\n  bcs\n};\n//# sourceMappingURL=bcs.js.map\n","function fromHex(hexStr) {\n  const normalized = hexStr.startsWith(\"0x\") ? hexStr.slice(2) : hexStr;\n  const padded = normalized.length % 2 === 0 ? normalized : `0${normalized}}`;\n  const intArr = padded.match(/.{2}/g)?.map((byte) => parseInt(byte, 16)) ?? [];\n  return Uint8Array.from(intArr);\n}\nfunction toHex(bytes) {\n  return bytes.reduce((str, byte) => str + byte.toString(16).padStart(2, \"0\"), \"\");\n}\nconst toHEX = toHex;\nconst fromHEX = fromHex;\nexport {\n  fromHEX,\n  fromHex,\n  toHEX,\n  toHex\n};\n//# sourceMappingURL=hex.js.map\n","function ulebEncode(num) {\n  let arr = [];\n  let len = 0;\n  if (num === 0) {\n    return [0];\n  }\n  while (num > 0) {\n    arr[len] = num & 127;\n    if (num >>= 7) {\n      arr[len] |= 128;\n    }\n    len += 1;\n  }\n  return arr;\n}\nfunction ulebDecode(arr) {\n  let total = 0;\n  let shift = 0;\n  let len = 0;\n  while (true) {\n    let byte = arr[len];\n    len += 1;\n    total |= (byte & 127) << shift;\n    if ((byte & 128) === 0) {\n      break;\n    }\n    shift += 7;\n  }\n  return {\n    value: total,\n    length: len\n  };\n}\nexport {\n  ulebDecode,\n  ulebEncode\n};\n//# sourceMappingURL=uleb.js.map\n","import { fromBase58, toBase58 } from \"./b58.js\";\nimport { fromBase64, toBase64 } from \"./b64.js\";\nimport { fromHex, toHex } from \"./hex.js\";\nfunction encodeStr(data, encoding) {\n  switch (encoding) {\n    case \"base58\":\n      return toBase58(data);\n    case \"base64\":\n      return toBase64(data);\n    case \"hex\":\n      return toHex(data);\n    default:\n      throw new Error(\"Unsupported encoding, supported values are: base64, hex\");\n  }\n}\nfunction decodeStr(data, encoding) {\n  switch (encoding) {\n    case \"base58\":\n      return fromBase58(data);\n    case \"base64\":\n      return fromBase64(data);\n    case \"hex\":\n      return fromHex(data);\n    default:\n      throw new Error(\"Unsupported encoding, supported values are: base64, hex\");\n  }\n}\nfunction splitGenericParameters(str, genericSeparators = [\"<\", \">\"]) {\n  const [left, right] = genericSeparators;\n  const tok = [];\n  let word = \"\";\n  let nestedAngleBrackets = 0;\n  for (let i = 0; i < str.length; i++) {\n    const char = str[i];\n    if (char === left) {\n      nestedAngleBrackets++;\n    }\n    if (char === right) {\n      nestedAngleBrackets--;\n    }\n    if (nestedAngleBrackets === 0 && char === \",\") {\n      tok.push(word.trim());\n      word = \"\";\n      continue;\n    }\n    word += char;\n  }\n  tok.push(word.trim());\n  return tok;\n}\nexport {\n  decodeStr,\n  encodeStr,\n  splitGenericParameters\n};\n//# sourceMappingURL=utils.js.map\n","import { bcs, fromBase58, fromBase64, fromHex, toBase58, toBase64, toHex } from \"@mysten/bcs\";\nimport { isValidSuiAddress, normalizeSuiAddress, SUI_ADDRESS_LENGTH } from \"../utils/sui-types.js\";\nimport { TypeTagSerializer } from \"./type-tag-serializer.js\";\nfunction unsafe_u64(options) {\n  return bcs.u64({\n    name: \"unsafe_u64\",\n    ...options\n  }).transform({\n    input: (val) => val,\n    output: (val) => Number(val)\n  });\n}\nfunction optionEnum(type) {\n  return bcs.enum(\"Option\", {\n    None: null,\n    Some: type\n  });\n}\nconst Address = bcs.bytes(SUI_ADDRESS_LENGTH).transform({\n  validate: (val) => {\n    const address = typeof val === \"string\" ? val : toHex(val);\n    if (!address || !isValidSuiAddress(normalizeSuiAddress(address))) {\n      throw new Error(`Invalid Sui address ${address}`);\n    }\n  },\n  input: (val) => typeof val === \"string\" ? fromHex(normalizeSuiAddress(val)) : val,\n  output: (val) => normalizeSuiAddress(toHex(val))\n});\nconst ObjectDigest = bcs.vector(bcs.u8()).transform({\n  name: \"ObjectDigest\",\n  input: (value) => fromBase58(value),\n  output: (value) => toBase58(new Uint8Array(value)),\n  validate: (value) => {\n    if (fromBase58(value).length !== 32) {\n      throw new Error(\"ObjectDigest must be 32 bytes\");\n    }\n  }\n});\nconst SuiObjectRef = bcs.struct(\"SuiObjectRef\", {\n  objectId: Address,\n  version: bcs.u64(),\n  digest: ObjectDigest\n});\nconst SharedObjectRef = bcs.struct(\"SharedObjectRef\", {\n  objectId: Address,\n  initialSharedVersion: bcs.u64(),\n  mutable: bcs.bool()\n});\nconst ObjectArg = bcs.enum(\"ObjectArg\", {\n  ImmOrOwnedObject: SuiObjectRef,\n  SharedObject: SharedObjectRef,\n  Receiving: SuiObjectRef\n});\nconst CallArg = bcs.enum(\"CallArg\", {\n  Pure: bcs.struct(\"Pure\", {\n    bytes: bcs.vector(bcs.u8()).transform({\n      input: (val) => typeof val === \"string\" ? fromBase64(val) : val,\n      output: (val) => toBase64(new Uint8Array(val))\n    })\n  }),\n  Object: ObjectArg\n});\nconst InnerTypeTag = bcs.enum(\"TypeTag\", {\n  bool: null,\n  u8: null,\n  u64: null,\n  u128: null,\n  address: null,\n  signer: null,\n  vector: bcs.lazy(() => InnerTypeTag),\n  struct: bcs.lazy(() => StructTag),\n  u16: null,\n  u32: null,\n  u256: null\n});\nconst TypeTag = InnerTypeTag.transform({\n  input: (typeTag) => typeof typeTag === \"string\" ? TypeTagSerializer.parseFromStr(typeTag, true) : typeTag,\n  output: (typeTag) => TypeTagSerializer.tagToString(typeTag)\n});\nconst Argument = bcs.enum(\"Argument\", {\n  GasCoin: null,\n  Input: bcs.u16(),\n  Result: bcs.u16(),\n  NestedResult: bcs.tuple([bcs.u16(), bcs.u16()])\n});\nconst ProgrammableMoveCall = bcs.struct(\"ProgrammableMoveCall\", {\n  package: Address,\n  module: bcs.string(),\n  function: bcs.string(),\n  typeArguments: bcs.vector(TypeTag),\n  arguments: bcs.vector(Argument)\n});\nconst Command = bcs.enum(\"Command\", {\n  /**\n   * A Move Call - any public Move function can be called via\n   * this transaction. The results can be used that instant to pass\n   * into the next transaction.\n   */\n  MoveCall: ProgrammableMoveCall,\n  /**\n   * Transfer vector of objects to a receiver.\n   */\n  TransferObjects: bcs.struct(\"TransferObjects\", {\n    objects: bcs.vector(Argument),\n    address: Argument\n  }),\n  // /**\n  //  * Split `amount` from a `coin`.\n  //  */\n  SplitCoins: bcs.struct(\"SplitCoins\", {\n    coin: Argument,\n    amounts: bcs.vector(Argument)\n  }),\n  // /**\n  //  * Merge Vector of Coins (`sources`) into a `destination`.\n  //  */\n  MergeCoins: bcs.struct(\"MergeCoins\", {\n    destination: Argument,\n    sources: bcs.vector(Argument)\n  }),\n  // /**\n  //  * Publish a Move module.\n  //  */\n  Publish: bcs.struct(\"Publish\", {\n    modules: bcs.vector(\n      bcs.vector(bcs.u8()).transform({\n        input: (val) => typeof val === \"string\" ? fromBase64(val) : val,\n        output: (val) => toBase64(new Uint8Array(val))\n      })\n    ),\n    dependencies: bcs.vector(Address)\n  }),\n  // /**\n  //  * Build a vector of objects using the input arguments.\n  //  * It is impossible to export construct a `vector<T: key>` otherwise,\n  //  * so this call serves a utility function.\n  //  */\n  MakeMoveVec: bcs.struct(\"MakeMoveVec\", {\n    type: optionEnum(TypeTag).transform({\n      input: (val) => val === null ? {\n        None: true\n      } : {\n        Some: val\n      },\n      output: (val) => val.Some ?? null\n    }),\n    elements: bcs.vector(Argument)\n  }),\n  Upgrade: bcs.struct(\"Upgrade\", {\n    modules: bcs.vector(\n      bcs.vector(bcs.u8()).transform({\n        input: (val) => typeof val === \"string\" ? fromBase64(val) : val,\n        output: (val) => toBase64(new Uint8Array(val))\n      })\n    ),\n    dependencies: bcs.vector(Address),\n    package: Address,\n    ticket: Argument\n  })\n});\nconst ProgrammableTransaction = bcs.struct(\"ProgrammableTransaction\", {\n  inputs: bcs.vector(CallArg),\n  commands: bcs.vector(Command)\n});\nconst TransactionKind = bcs.enum(\"TransactionKind\", {\n  ProgrammableTransaction,\n  ChangeEpoch: null,\n  Genesis: null,\n  ConsensusCommitPrologue: null\n});\nconst TransactionExpiration = bcs.enum(\"TransactionExpiration\", {\n  None: null,\n  Epoch: unsafe_u64()\n});\nconst StructTag = bcs.struct(\"StructTag\", {\n  address: Address,\n  module: bcs.string(),\n  name: bcs.string(),\n  typeParams: bcs.vector(InnerTypeTag)\n});\nconst GasData = bcs.struct(\"GasData\", {\n  payment: bcs.vector(SuiObjectRef),\n  owner: Address,\n  price: bcs.u64(),\n  budget: bcs.u64()\n});\nconst TransactionDataV1 = bcs.struct(\"TransactionDataV1\", {\n  kind: TransactionKind,\n  sender: Address,\n  gasData: GasData,\n  expiration: TransactionExpiration\n});\nconst TransactionData = bcs.enum(\"TransactionData\", {\n  V1: TransactionDataV1\n});\nconst IntentScope = bcs.enum(\"IntentScope\", {\n  TransactionData: null,\n  TransactionEffects: null,\n  CheckpointSummary: null,\n  PersonalMessage: null\n});\nconst IntentVersion = bcs.enum(\"IntentVersion\", {\n  V0: null\n});\nconst AppId = bcs.enum(\"AppId\", {\n  Sui: null\n});\nconst Intent = bcs.struct(\"Intent\", {\n  scope: IntentScope,\n  version: IntentVersion,\n  appId: AppId\n});\nfunction IntentMessage(T) {\n  return bcs.struct(`IntentMessage<${T.name}>`, {\n    intent: Intent,\n    value: T\n  });\n}\nconst CompressedSignature = bcs.enum(\"CompressedSignature\", {\n  ED25519: bcs.fixedArray(64, bcs.u8()),\n  Secp256k1: bcs.fixedArray(64, bcs.u8()),\n  Secp256r1: bcs.fixedArray(64, bcs.u8()),\n  ZkLogin: bcs.vector(bcs.u8())\n});\nconst PublicKey = bcs.enum(\"PublicKey\", {\n  ED25519: bcs.fixedArray(32, bcs.u8()),\n  Secp256k1: bcs.fixedArray(33, bcs.u8()),\n  Secp256r1: bcs.fixedArray(33, bcs.u8()),\n  ZkLogin: bcs.vector(bcs.u8())\n});\nconst MultiSigPkMap = bcs.struct(\"MultiSigPkMap\", {\n  pubKey: PublicKey,\n  weight: bcs.u8()\n});\nconst MultiSigPublicKey = bcs.struct(\"MultiSigPublicKey\", {\n  pk_map: bcs.vector(MultiSigPkMap),\n  threshold: bcs.u16()\n});\nconst MultiSig = bcs.struct(\"MultiSig\", {\n  sigs: bcs.vector(CompressedSignature),\n  bitmap: bcs.u16(),\n  multisig_pk: MultiSigPublicKey\n});\nconst base64String = bcs.vector(bcs.u8()).transform({\n  input: (val) => typeof val === \"string\" ? fromBase64(val) : val,\n  output: (val) => toBase64(new Uint8Array(val))\n});\nconst SenderSignedTransaction = bcs.struct(\"SenderSignedTransaction\", {\n  intentMessage: IntentMessage(TransactionData),\n  txSignatures: bcs.vector(base64String)\n});\nconst SenderSignedData = bcs.vector(SenderSignedTransaction, {\n  name: \"SenderSignedData\"\n});\nexport {\n  Address,\n  AppId,\n  Argument,\n  CallArg,\n  Command,\n  CompressedSignature,\n  GasData,\n  Intent,\n  IntentMessage,\n  IntentScope,\n  IntentVersion,\n  MultiSig,\n  MultiSigPkMap,\n  MultiSigPublicKey,\n  ObjectArg,\n  ObjectDigest,\n  ProgrammableMoveCall,\n  ProgrammableTransaction,\n  PublicKey,\n  SenderSignedData,\n  SenderSignedTransaction,\n  SharedObjectRef,\n  StructTag,\n  SuiObjectRef,\n  TransactionData,\n  TransactionDataV1,\n  TransactionExpiration,\n  TransactionKind,\n  TypeTag,\n  base64String\n};\n//# sourceMappingURL=bcs.js.map\n","import { bcs } from \"@mysten/bcs\";\nimport { Address, ObjectDigest, SuiObjectRef } from \"./bcs.js\";\nconst PackageUpgradeError = bcs.enum(\"PackageUpgradeError\", {\n  UnableToFetchPackage: bcs.struct(\"UnableToFetchPackage\", { packageId: Address }),\n  NotAPackage: bcs.struct(\"NotAPackage\", { objectId: Address }),\n  IncompatibleUpgrade: null,\n  DigestDoesNotMatch: bcs.struct(\"DigestDoesNotMatch\", { digest: bcs.vector(bcs.u8()) }),\n  UnknownUpgradePolicy: bcs.struct(\"UnknownUpgradePolicy\", { policy: bcs.u8() }),\n  PackageIDDoesNotMatch: bcs.struct(\"PackageIDDoesNotMatch\", {\n    packageId: Address,\n    ticketId: Address\n  })\n});\nconst ModuleId = bcs.struct(\"ModuleId\", {\n  address: Address,\n  name: bcs.string()\n});\nconst MoveLocation = bcs.struct(\"MoveLocation\", {\n  module: ModuleId,\n  function: bcs.u16(),\n  instruction: bcs.u16(),\n  functionName: bcs.option(bcs.string())\n});\nconst CommandArgumentError = bcs.enum(\"CommandArgumentError\", {\n  TypeMismatch: null,\n  InvalidBCSBytes: null,\n  InvalidUsageOfPureArg: null,\n  InvalidArgumentToPrivateEntryFunction: null,\n  IndexOutOfBounds: bcs.struct(\"IndexOutOfBounds\", { idx: bcs.u16() }),\n  SecondaryIndexOutOfBounds: bcs.struct(\"SecondaryIndexOutOfBounds\", {\n    resultIdx: bcs.u16(),\n    secondaryIdx: bcs.u16()\n  }),\n  InvalidResultArity: bcs.struct(\"InvalidResultArity\", { resultIdx: bcs.u16() }),\n  InvalidGasCoinUsage: null,\n  InvalidValueUsage: null,\n  InvalidObjectByValue: null,\n  InvalidObjectByMutRef: null,\n  SharedObjectOperationNotAllowed: null\n});\nconst TypeArgumentError = bcs.enum(\"TypeArgumentError\", {\n  TypeNotFound: null,\n  ConstraintNotSatisfied: null\n});\nconst ExecutionFailureStatus = bcs.enum(\"ExecutionFailureStatus\", {\n  InsufficientGas: null,\n  InvalidGasObject: null,\n  InvariantViolation: null,\n  FeatureNotYetSupported: null,\n  MoveObjectTooBig: bcs.struct(\"MoveObjectTooBig\", {\n    objectSize: bcs.u64(),\n    maxObjectSize: bcs.u64()\n  }),\n  MovePackageTooBig: bcs.struct(\"MovePackageTooBig\", {\n    objectSize: bcs.u64(),\n    maxObjectSize: bcs.u64()\n  }),\n  CircularObjectOwnership: bcs.struct(\"CircularObjectOwnership\", { object: Address }),\n  InsufficientCoinBalance: null,\n  CoinBalanceOverflow: null,\n  PublishErrorNonZeroAddress: null,\n  SuiMoveVerificationError: null,\n  MovePrimitiveRuntimeError: bcs.option(MoveLocation),\n  MoveAbort: bcs.tuple([MoveLocation, bcs.u64()]),\n  VMVerificationOrDeserializationError: null,\n  VMInvariantViolation: null,\n  FunctionNotFound: null,\n  ArityMismatch: null,\n  TypeArityMismatch: null,\n  NonEntryFunctionInvoked: null,\n  CommandArgumentError: bcs.struct(\"CommandArgumentError\", {\n    argIdx: bcs.u16(),\n    kind: CommandArgumentError\n  }),\n  TypeArgumentError: bcs.struct(\"TypeArgumentError\", {\n    argumentIdx: bcs.u16(),\n    kind: TypeArgumentError\n  }),\n  UnusedValueWithoutDrop: bcs.struct(\"UnusedValueWithoutDrop\", {\n    resultIdx: bcs.u16(),\n    secondaryIdx: bcs.u16()\n  }),\n  InvalidPublicFunctionReturnType: bcs.struct(\"InvalidPublicFunctionReturnType\", {\n    idx: bcs.u16()\n  }),\n  InvalidTransferObject: null,\n  EffectsTooLarge: bcs.struct(\"EffectsTooLarge\", { currentSize: bcs.u64(), maxSize: bcs.u64() }),\n  PublishUpgradeMissingDependency: null,\n  PublishUpgradeDependencyDowngrade: null,\n  PackageUpgradeError: bcs.struct(\"PackageUpgradeError\", { upgradeError: PackageUpgradeError }),\n  WrittenObjectsTooLarge: bcs.struct(\"WrittenObjectsTooLarge\", {\n    currentSize: bcs.u64(),\n    maxSize: bcs.u64()\n  }),\n  CertificateDenied: null,\n  SuiMoveVerificationTimedout: null,\n  SharedObjectOperationNotAllowed: null,\n  InputObjectDeleted: null,\n  ExecutionCancelledDueToSharedObjectCongestion: bcs.struct(\n    \"ExecutionCancelledDueToSharedObjectCongestion\",\n    {\n      congestedObjects: bcs.vector(Address)\n    }\n  ),\n  AddressDeniedForCoin: bcs.struct(\"AddressDeniedForCoin\", {\n    address: Address,\n    coinType: bcs.string()\n  }),\n  CoinTypeGlobalPause: bcs.struct(\"CoinTypeGlobalPause\", { coinType: bcs.string() }),\n  ExecutionCancelledDueToRandomnessUnavailable: null\n});\nconst ExecutionStatus = bcs.enum(\"ExecutionStatus\", {\n  Success: null,\n  Failed: bcs.struct(\"ExecutionFailed\", {\n    error: ExecutionFailureStatus,\n    command: bcs.option(bcs.u64())\n  })\n});\nconst GasCostSummary = bcs.struct(\"GasCostSummary\", {\n  computationCost: bcs.u64(),\n  storageCost: bcs.u64(),\n  storageRebate: bcs.u64(),\n  nonRefundableStorageFee: bcs.u64()\n});\nconst Owner = bcs.enum(\"Owner\", {\n  AddressOwner: Address,\n  ObjectOwner: Address,\n  Shared: bcs.struct(\"Shared\", {\n    initialSharedVersion: bcs.u64()\n  }),\n  Immutable: null\n});\nconst TransactionEffectsV1 = bcs.struct(\"TransactionEffectsV1\", {\n  status: ExecutionStatus,\n  executedEpoch: bcs.u64(),\n  gasUsed: GasCostSummary,\n  modifiedAtVersions: bcs.vector(bcs.tuple([Address, bcs.u64()])),\n  sharedObjects: bcs.vector(SuiObjectRef),\n  transactionDigest: ObjectDigest,\n  created: bcs.vector(bcs.tuple([SuiObjectRef, Owner])),\n  mutated: bcs.vector(bcs.tuple([SuiObjectRef, Owner])),\n  unwrapped: bcs.vector(bcs.tuple([SuiObjectRef, Owner])),\n  deleted: bcs.vector(SuiObjectRef),\n  unwrappedThenDeleted: bcs.vector(SuiObjectRef),\n  wrapped: bcs.vector(SuiObjectRef),\n  gasObject: bcs.tuple([SuiObjectRef, Owner]),\n  eventsDigest: bcs.option(ObjectDigest),\n  dependencies: bcs.vector(ObjectDigest)\n});\nconst VersionDigest = bcs.tuple([bcs.u64(), ObjectDigest]);\nconst ObjectIn = bcs.enum(\"ObjectIn\", {\n  NotExist: null,\n  Exist: bcs.tuple([VersionDigest, Owner])\n});\nconst ObjectOut = bcs.enum(\"ObjectOut\", {\n  NotExist: null,\n  ObjectWrite: bcs.tuple([ObjectDigest, Owner]),\n  PackageWrite: VersionDigest\n});\nconst IDOperation = bcs.enum(\"IDOperation\", {\n  None: null,\n  Created: null,\n  Deleted: null\n});\nconst EffectsObjectChange = bcs.struct(\"EffectsObjectChange\", {\n  inputState: ObjectIn,\n  outputState: ObjectOut,\n  idOperation: IDOperation\n});\nconst UnchangedSharedKind = bcs.enum(\"UnchangedSharedKind\", {\n  ReadOnlyRoot: VersionDigest,\n  MutateDeleted: bcs.u64(),\n  ReadDeleted: bcs.u64(),\n  Cancelled: bcs.u64(),\n  PerEpochConfig: null\n});\nconst TransactionEffectsV2 = bcs.struct(\"TransactionEffectsV2\", {\n  status: ExecutionStatus,\n  executedEpoch: bcs.u64(),\n  gasUsed: GasCostSummary,\n  transactionDigest: ObjectDigest,\n  gasObjectIndex: bcs.option(bcs.u32()),\n  eventsDigest: bcs.option(ObjectDigest),\n  dependencies: bcs.vector(ObjectDigest),\n  lamportVersion: bcs.u64(),\n  changedObjects: bcs.vector(bcs.tuple([Address, EffectsObjectChange])),\n  unchangedSharedObjects: bcs.vector(bcs.tuple([Address, UnchangedSharedKind])),\n  auxDataDigest: bcs.option(ObjectDigest)\n});\nconst TransactionEffects = bcs.enum(\"TransactionEffects\", {\n  V1: TransactionEffectsV1,\n  V2: TransactionEffectsV2\n});\nexport {\n  TransactionEffects\n};\n//# sourceMappingURL=effects.js.map\n","import { bcs } from \"@mysten/bcs\";\nimport {\n  Address,\n  AppId,\n  Argument,\n  CallArg,\n  Command,\n  CompressedSignature,\n  GasData,\n  Intent,\n  IntentMessage,\n  IntentScope,\n  IntentVersion,\n  MultiSig,\n  MultiSigPkMap,\n  MultiSigPublicKey,\n  ObjectArg,\n  ObjectDigest,\n  ProgrammableMoveCall,\n  ProgrammableTransaction,\n  PublicKey,\n  SenderSignedData,\n  SenderSignedTransaction,\n  SharedObjectRef,\n  StructTag,\n  SuiObjectRef,\n  TransactionData,\n  TransactionDataV1,\n  TransactionExpiration,\n  TransactionKind,\n  TypeTag\n} from \"./bcs.js\";\nimport { TransactionEffects } from \"./effects.js\";\nimport { TypeTagSerializer } from \"./type-tag-serializer.js\";\nimport { BcsType } from \"@mysten/bcs\";\nconst suiBcs = {\n  ...bcs,\n  U8: bcs.u8(),\n  U16: bcs.u16(),\n  U32: bcs.u32(),\n  U64: bcs.u64(),\n  U128: bcs.u128(),\n  U256: bcs.u256(),\n  ULEB128: bcs.uleb128(),\n  Bool: bcs.bool(),\n  String: bcs.string(),\n  Address,\n  AppId,\n  Argument,\n  CallArg,\n  CompressedSignature,\n  GasData,\n  Intent,\n  IntentMessage,\n  IntentScope,\n  IntentVersion,\n  MultiSig,\n  MultiSigPkMap,\n  MultiSigPublicKey,\n  ObjectArg,\n  ObjectDigest,\n  ProgrammableMoveCall,\n  ProgrammableTransaction,\n  PublicKey,\n  SenderSignedData,\n  SenderSignedTransaction,\n  SharedObjectRef,\n  StructTag,\n  SuiObjectRef,\n  Command,\n  TransactionData,\n  TransactionDataV1,\n  TransactionExpiration,\n  TransactionKind,\n  TypeTag,\n  TransactionEffects\n};\nexport {\n  BcsType,\n  TypeTagSerializer,\n  suiBcs as bcs\n};\n//# sourceMappingURL=index.js.map\n","import { splitGenericParameters } from \"@mysten/bcs\";\nimport { normalizeSuiAddress } from \"../utils/sui-types.js\";\nconst VECTOR_REGEX = /^vector<(.+)>$/;\nconst STRUCT_REGEX = /^([^:]+)::([^:]+)::([^<]+)(<(.+)>)?/;\nclass TypeTagSerializer {\n  static parseFromStr(str, normalizeAddress = false) {\n    if (str === \"address\") {\n      return { address: null };\n    } else if (str === \"bool\") {\n      return { bool: null };\n    } else if (str === \"u8\") {\n      return { u8: null };\n    } else if (str === \"u16\") {\n      return { u16: null };\n    } else if (str === \"u32\") {\n      return { u32: null };\n    } else if (str === \"u64\") {\n      return { u64: null };\n    } else if (str === \"u128\") {\n      return { u128: null };\n    } else if (str === \"u256\") {\n      return { u256: null };\n    } else if (str === \"signer\") {\n      return { signer: null };\n    }\n    const vectorMatch = str.match(VECTOR_REGEX);\n    if (vectorMatch) {\n      return {\n        vector: TypeTagSerializer.parseFromStr(vectorMatch[1], normalizeAddress)\n      };\n    }\n    const structMatch = str.match(STRUCT_REGEX);\n    if (structMatch) {\n      const address = normalizeAddress ? normalizeSuiAddress(structMatch[1]) : structMatch[1];\n      return {\n        struct: {\n          address,\n          module: structMatch[2],\n          name: structMatch[3],\n          typeParams: structMatch[5] === void 0 ? [] : TypeTagSerializer.parseStructTypeArgs(structMatch[5], normalizeAddress)\n        }\n      };\n    }\n    throw new Error(`Encountered unexpected token when parsing type args for ${str}`);\n  }\n  static parseStructTypeArgs(str, normalizeAddress = false) {\n    return splitGenericParameters(str).map(\n      (tok) => TypeTagSerializer.parseFromStr(tok, normalizeAddress)\n    );\n  }\n  static tagToString(tag) {\n    if (\"bool\" in tag) {\n      return \"bool\";\n    }\n    if (\"u8\" in tag) {\n      return \"u8\";\n    }\n    if (\"u16\" in tag) {\n      return \"u16\";\n    }\n    if (\"u32\" in tag) {\n      return \"u32\";\n    }\n    if (\"u64\" in tag) {\n      return \"u64\";\n    }\n    if (\"u128\" in tag) {\n      return \"u128\";\n    }\n    if (\"u256\" in tag) {\n      return \"u256\";\n    }\n    if (\"address\" in tag) {\n      return \"address\";\n    }\n    if (\"signer\" in tag) {\n      return \"signer\";\n    }\n    if (\"vector\" in tag) {\n      return `vector<${TypeTagSerializer.tagToString(tag.vector)}>`;\n    }\n    if (\"struct\" in tag) {\n      const struct = tag.struct;\n      const typeParams = struct.typeParams.map(TypeTagSerializer.tagToString).join(\", \");\n      return `${struct.address}::${struct.module}::${struct.name}${typeParams ? `<${typeParams}>` : \"\"}`;\n    }\n    throw new Error(\"Invalid TypeTag\");\n  }\n}\nexport {\n  TypeTagSerializer\n};\n//# sourceMappingURL=type-tag-serializer.js.map\n","// src/actions/await/awaitAsync.ts\nfunction awaitAsync() {\n  return {\n    kind: \"transformation\",\n    type: \"await\",\n    reference: awaitAsync,\n    async: true,\n    async _run(dataset) {\n      dataset.value = await dataset.value;\n      return dataset;\n    }\n  };\n}\n\n// src/regex.ts\nvar BIC_REGEX = /^[A-Z]{6}(?!00)[A-Z\\d]{2}(?:[A-Z\\d]{3})?$/u;\nvar CUID2_REGEX = /^[a-z][\\da-z]*$/u;\nvar DECIMAL_REGEX = /^\\d+$/u;\nvar EMAIL_REGEX = /^[\\w+-]+(?:\\.[\\w+-]+)*@[\\da-z]+(?:[.-][\\da-z]+)*\\.[a-z]{2,}$/iu;\nvar EMOJI_REGEX = /^[\\p{Extended_Pictographic}\\p{Emoji_Component}]+$/u;\nvar HEXADECIMAL_REGEX = /^(?:0h|0x)?[\\da-f]+$/iu;\nvar HEX_COLOR_REGEX = /^#(?:[\\da-f]{3,4}|[\\da-f]{6}|[\\da-f]{8})$/iu;\nvar IMEI_REGEX = /^\\d{15}$|^\\d{2}-\\d{6}-\\d{6}-\\d$/u;\nvar IPV4_REGEX = (\n  // eslint-disable-next-line redos-detector/no-unsafe-regex -- false positive\n  /^(?:(?:[1-9]|1\\d|2[0-4])?\\d|25[0-5])(?:\\.(?:(?:[1-9]|1\\d|2[0-4])?\\d|25[0-5])){3}$/u\n);\nvar IPV6_REGEX = /^(?:(?:[\\da-f]{1,4}:){7}[\\da-f]{1,4}|(?:[\\da-f]{1,4}:){1,7}:|(?:[\\da-f]{1,4}:){1,6}:[\\da-f]{1,4}|(?:[\\da-f]{1,4}:){1,5}(?::[\\da-f]{1,4}){1,2}|(?:[\\da-f]{1,4}:){1,4}(?::[\\da-f]{1,4}){1,3}|(?:[\\da-f]{1,4}:){1,3}(?::[\\da-f]{1,4}){1,4}|(?:[\\da-f]{1,4}:){1,2}(?::[\\da-f]{1,4}){1,5}|[\\da-f]{1,4}:(?::[\\da-f]{1,4}){1,6}|:(?:(?::[\\da-f]{1,4}){1,7}|:)|fe80:(?::[\\da-f]{0,4}){0,4}%[\\da-z]+|::(?:f{4}(?::0{1,4})?:)?(?:(?:25[0-5]|(?:2[0-4]|1?\\d)?\\d)\\.){3}(?:25[0-5]|(?:2[0-4]|1?\\d)?\\d)|(?:[\\da-f]{1,4}:){1,4}:(?:(?:25[0-5]|(?:2[0-4]|1?\\d)?\\d)\\.){3}(?:25[0-5]|(?:2[0-4]|1?\\d)?\\d))$/iu;\nvar IP_REGEX = /^(?:(?:[1-9]|1\\d|2[0-4])?\\d|25[0-5])(?:\\.(?:(?:[1-9]|1\\d|2[0-4])?\\d|25[0-5])){3}$|^(?:(?:[\\da-f]{1,4}:){7}[\\da-f]{1,4}|(?:[\\da-f]{1,4}:){1,7}:|(?:[\\da-f]{1,4}:){1,6}:[\\da-f]{1,4}|(?:[\\da-f]{1,4}:){1,5}(?::[\\da-f]{1,4}){1,2}|(?:[\\da-f]{1,4}:){1,4}(?::[\\da-f]{1,4}){1,3}|(?:[\\da-f]{1,4}:){1,3}(?::[\\da-f]{1,4}){1,4}|(?:[\\da-f]{1,4}:){1,2}(?::[\\da-f]{1,4}){1,5}|[\\da-f]{1,4}:(?::[\\da-f]{1,4}){1,6}|:(?:(?::[\\da-f]{1,4}){1,7}|:)|fe80:(?::[\\da-f]{0,4}){0,4}%[\\da-z]+|::(?:f{4}(?::0{1,4})?:)?(?:(?:25[0-5]|(?:2[0-4]|1?\\d)?\\d)\\.){3}(?:25[0-5]|(?:2[0-4]|1?\\d)?\\d)|(?:[\\da-f]{1,4}:){1,4}:(?:(?:25[0-5]|(?:2[0-4]|1?\\d)?\\d)\\.){3}(?:25[0-5]|(?:2[0-4]|1?\\d)?\\d))$/iu;\nvar ISO_DATE_REGEX = /^\\d{4}-(?:0[1-9]|1[0-2])-(?:[12]\\d|0[1-9]|3[01])$/u;\nvar ISO_DATE_TIME_REGEX = /^\\d{4}-(?:0[1-9]|1[0-2])-(?:[12]\\d|0[1-9]|3[01])T(?:0\\d|1\\d|2[0-3]):[0-5]\\d$/u;\nvar ISO_TIME_REGEX = /^(?:0\\d|1\\d|2[0-3]):[0-5]\\d$/u;\nvar ISO_TIME_SECOND_REGEX = /^(?:0\\d|1\\d|2[0-3])(?::[0-5]\\d){2}$/u;\nvar ISO_TIMESTAMP_REGEX = /^\\d{4}-(?:0[1-9]|1[0-2])-(?:[12]\\d|0[1-9]|3[01])T(?:0\\d|1\\d|2[0-3])(?::[0-5]\\d){2}(?:\\.\\d{1,9})?(?:Z|[+-](?:0\\d|1\\d|2[0-3])(?::?[0-5]\\d)?)$/u;\nvar ISO_WEEK_REGEX = /^\\d{4}-W(?:0[1-9]|[1-4]\\d|5[0-3])$/u;\nvar MAC48_REGEX = /^(?:[\\da-f]{2}:){5}[\\da-f]{2}$|^(?:[\\da-f]{2}-){5}[\\da-f]{2}$|^(?:[\\da-f]{4}\\.){2}[\\da-f]{4}$/iu;\nvar MAC64_REGEX = /^(?:[\\da-f]{2}:){7}[\\da-f]{2}$|^(?:[\\da-f]{2}-){7}[\\da-f]{2}$|^(?:[\\da-f]{4}\\.){3}[\\da-f]{4}$|^(?:[\\da-f]{4}:){3}[\\da-f]{4}$/iu;\nvar MAC_REGEX = /^(?:[\\da-f]{2}:){5}[\\da-f]{2}$|^(?:[\\da-f]{2}-){5}[\\da-f]{2}$|^(?:[\\da-f]{4}\\.){2}[\\da-f]{4}$|^(?:[\\da-f]{2}:){7}[\\da-f]{2}$|^(?:[\\da-f]{2}-){7}[\\da-f]{2}$|^(?:[\\da-f]{4}\\.){3}[\\da-f]{4}$|^(?:[\\da-f]{4}:){3}[\\da-f]{4}$/iu;\nvar OCTAL_REGEX = /^(?:0o)?[0-7]+$/iu;\nvar ULID_REGEX = /^[\\da-hjkmnp-tv-z]{26}$/iu;\nvar UUID_REGEX = /^[\\da-f]{8}(?:-[\\da-f]{4}){3}-[\\da-f]{12}$/iu;\n\n// src/storages/globalConfig/globalConfig.ts\nvar store;\nfunction setGlobalConfig(config2) {\n  store = { ...store, ...config2 };\n}\nfunction getGlobalConfig(config2) {\n  return {\n    lang: config2?.lang ?? store?.lang,\n    message: config2?.message,\n    abortEarly: config2?.abortEarly ?? store?.abortEarly,\n    abortPipeEarly: config2?.abortPipeEarly ?? store?.abortPipeEarly\n  };\n}\nfunction deleteGlobalConfig() {\n  store = void 0;\n}\n\n// src/storages/globalMessage/globalMessage.ts\nvar store2;\nfunction setGlobalMessage(message, lang) {\n  if (!store2) store2 = /* @__PURE__ */ new Map();\n  store2.set(lang, message);\n}\nfunction getGlobalMessage(lang) {\n  return store2?.get(lang);\n}\nfunction deleteGlobalMessage(lang) {\n  store2?.delete(lang);\n}\n\n// src/storages/schemaMessage/schemaMessage.ts\nvar store3;\nfunction setSchemaMessage(message, lang) {\n  if (!store3) store3 = /* @__PURE__ */ new Map();\n  store3.set(lang, message);\n}\nfunction getSchemaMessage(lang) {\n  return store3?.get(lang);\n}\nfunction deleteSchemaMessage(lang) {\n  store3?.delete(lang);\n}\n\n// src/storages/specificMessage/specificMessage.ts\nvar store4;\nfunction setSpecificMessage(reference, message, lang) {\n  if (!store4) store4 = /* @__PURE__ */ new Map();\n  if (!store4.get(reference)) store4.set(reference, /* @__PURE__ */ new Map());\n  store4.get(reference).set(lang, message);\n}\nfunction getSpecificMessage(reference, lang) {\n  return store4?.get(reference)?.get(lang);\n}\nfunction deleteSpecificMessage(reference, lang) {\n  store4?.get(reference)?.delete(lang);\n}\n\n// src/utils/_stringify/_stringify.ts\nfunction _stringify(input) {\n  const type = typeof input;\n  if (type === \"string\") {\n    return `\"${input}\"`;\n  }\n  if (type === \"number\" || type === \"bigint\" || type === \"boolean\") {\n    return `${input}`;\n  }\n  if (type === \"object\" || type === \"function\") {\n    return (input && Object.getPrototypeOf(input)?.constructor?.name) ?? \"null\";\n  }\n  return type;\n}\n\n// src/utils/_addIssue/_addIssue.ts\nfunction _addIssue(context, label, dataset, config2, other) {\n  const input = other && \"input\" in other ? other.input : dataset.value;\n  const expected = other?.expected ?? context.expects ?? null;\n  const received = other?.received ?? _stringify(input);\n  const issue = {\n    kind: context.kind,\n    type: context.type,\n    input,\n    expected,\n    received,\n    message: `Invalid ${label}: ${expected ? `Expected ${expected} but r` : \"R\"}eceived ${received}`,\n    // @ts-expect-error\n    requirement: context.requirement,\n    path: other?.path,\n    issues: other?.issues,\n    lang: config2.lang,\n    abortEarly: config2.abortEarly,\n    abortPipeEarly: config2.abortPipeEarly\n  };\n  const isSchema = context.kind === \"schema\";\n  const message = other?.message ?? // @ts-expect-error\n  context.message ?? getSpecificMessage(context.reference, issue.lang) ?? (isSchema ? getSchemaMessage(issue.lang) : null) ?? config2.message ?? getGlobalMessage(issue.lang);\n  if (message) {\n    issue.message = typeof message === \"function\" ? message(issue) : message;\n  }\n  if (isSchema) {\n    dataset.typed = false;\n  }\n  if (dataset.issues) {\n    dataset.issues.push(issue);\n  } else {\n    dataset.issues = [issue];\n  }\n}\n\n// src/utils/_isLuhnAlgo/_isLuhnAlgo.ts\nvar NON_DIGIT_REGEX = /\\D/gu;\nfunction _isLuhnAlgo(input) {\n  const number2 = input.replace(NON_DIGIT_REGEX, \"\");\n  let length2 = number2.length;\n  let bit = 1;\n  let sum = 0;\n  while (length2) {\n    const value2 = +number2[--length2];\n    bit ^= 1;\n    sum += bit ? [0, 2, 4, 6, 8, 1, 3, 5, 7, 9][value2] : value2;\n  }\n  return sum % 10 === 0;\n}\n\n// src/utils/_isValidObjectKey/_isValidObjectKey.ts\nfunction _isValidObjectKey(object2, key) {\n  return Object.hasOwn(object2, key) && key !== \"__proto__\" && key !== \"prototype\" && key !== \"constructor\";\n}\n\n// src/utils/entriesFromList/entriesFromList.ts\nfunction entriesFromList(list, schema) {\n  const entries = {};\n  for (const key of list) {\n    entries[key] = schema;\n  }\n  return entries;\n}\n\n// src/utils/getDotPath/getDotPath.ts\nfunction getDotPath(issue) {\n  if (issue.path) {\n    let key = \"\";\n    for (const item of issue.path) {\n      if (typeof item.key === \"string\" || typeof item.key === \"number\") {\n        if (key) {\n          key += `.${item.key}`;\n        } else {\n          key += item.key;\n        }\n      } else {\n        return null;\n      }\n    }\n    return key;\n  }\n  return null;\n}\n\n// src/utils/isOfKind/isOfKind.ts\nfunction isOfKind(kind, object2) {\n  return object2.kind === kind;\n}\n\n// src/utils/isOfType/isOfType.ts\nfunction isOfType(type, object2) {\n  return object2.type === type;\n}\n\n// src/utils/isValiError/isValiError.ts\nfunction isValiError(error) {\n  return error instanceof ValiError;\n}\n\n// src/utils/ValiError/ValiError.ts\nvar ValiError = class extends Error {\n  /**\n   * The error issues.\n   */\n  issues;\n  /**\n   * Creates a Valibot error with useful information.\n   *\n   * @param issues The error issues.\n   */\n  constructor(issues) {\n    super(issues[0].message);\n    this.name = \"ValiError\";\n    this.issues = issues;\n  }\n};\n\n// src/actions/bic/bic.ts\nfunction bic(message) {\n  return {\n    kind: \"validation\",\n    type: \"bic\",\n    reference: bic,\n    async: false,\n    expects: null,\n    requirement: BIC_REGEX,\n    message,\n    _run(dataset, config2) {\n      if (dataset.typed && !this.requirement.test(dataset.value)) {\n        _addIssue(this, \"BIC\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/actions/brand/brand.ts\nfunction brand(name) {\n  return {\n    kind: \"transformation\",\n    type: \"brand\",\n    reference: brand,\n    async: false,\n    name,\n    _run(dataset) {\n      return dataset;\n    }\n  };\n}\n\n// src/actions/bytes/bytes.ts\nfunction bytes(requirement, message) {\n  return {\n    kind: \"validation\",\n    type: \"bytes\",\n    reference: bytes,\n    async: false,\n    expects: `${requirement}`,\n    requirement,\n    message,\n    _run(dataset, config2) {\n      if (dataset.typed) {\n        const length2 = new TextEncoder().encode(dataset.value).length;\n        if (length2 !== this.requirement) {\n          _addIssue(this, \"bytes\", dataset, config2, {\n            received: `${length2}`\n          });\n        }\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/actions/check/check.ts\nfunction check(requirement, message) {\n  return {\n    kind: \"validation\",\n    type: \"check\",\n    reference: check,\n    async: false,\n    expects: null,\n    requirement,\n    message,\n    _run(dataset, config2) {\n      if (dataset.typed && !this.requirement(dataset.value)) {\n        _addIssue(this, \"input\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/actions/check/checkAsync.ts\nfunction checkAsync(requirement, message) {\n  return {\n    kind: \"validation\",\n    type: \"check\",\n    reference: checkAsync,\n    async: true,\n    expects: null,\n    requirement,\n    message,\n    async _run(dataset, config2) {\n      if (dataset.typed && !await this.requirement(dataset.value)) {\n        _addIssue(this, \"input\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/actions/checkItems/checkItems.ts\nfunction checkItems(requirement, message) {\n  return {\n    kind: \"validation\",\n    type: \"check_items\",\n    reference: checkItems,\n    async: false,\n    expects: null,\n    requirement,\n    message,\n    _run(dataset, config2) {\n      if (dataset.typed) {\n        for (let index = 0; index < dataset.value.length; index++) {\n          const item = dataset.value[index];\n          if (!this.requirement(item, index, dataset.value)) {\n            _addIssue(this, \"item\", dataset, config2, {\n              input: item,\n              path: [\n                {\n                  type: \"array\",\n                  origin: \"value\",\n                  input: dataset.value,\n                  key: index,\n                  value: item\n                }\n              ]\n            });\n          }\n        }\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/actions/creditCard/creditCard.ts\nvar CREDIT_CARD_REGEX = /^(?:\\d{14,19}|\\d{4}(?: \\d{3,6}){2,4}|\\d{4}(?:-\\d{3,6}){2,4})$/u;\nvar SANITIZE_REGEX = /[- ]/gu;\nvar PROVIDER_REGEX_LIST = [\n  // American Express\n  /^3[47]\\d{13}$/u,\n  // Diners Club\n  /^3(?:0[0-5]|[68]\\d)\\d{11,13}$/u,\n  // Discover\n  /^6(?:011|5\\d{2})\\d{12,15}$/u,\n  // JCB\n  /^(?:2131|1800|35\\d{3})\\d{11}$/u,\n  // Mastercard\n  /^5[1-5]\\d{2}|(?:222\\d|22[3-9]\\d|2[3-6]\\d{2}|27[01]\\d|2720)\\d{12}$/u,\n  // UnionPay\n  /^(?:6[27]\\d{14,17}|81\\d{14,17})$/u,\n  // Visa\n  /^4\\d{12}(?:\\d{3,6})?$/u\n];\nfunction creditCard(message) {\n  return {\n    kind: \"validation\",\n    type: \"credit_card\",\n    reference: creditCard,\n    async: false,\n    expects: null,\n    requirement(input) {\n      let sanitized;\n      return CREDIT_CARD_REGEX.test(input) && // Remove any hyphens and blanks\n      (sanitized = input.replace(SANITIZE_REGEX, \"\")) && // Check if it matches a provider\n      PROVIDER_REGEX_LIST.some((regex2) => regex2.test(sanitized)) && // Check if passes luhn algorithm\n      _isLuhnAlgo(sanitized);\n    },\n    message,\n    _run(dataset, config2) {\n      if (dataset.typed && !this.requirement(dataset.value)) {\n        _addIssue(this, \"credit card\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/actions/cuid2/cuid2.ts\nfunction cuid2(message) {\n  return {\n    kind: \"validation\",\n    type: \"cuid2\",\n    reference: cuid2,\n    async: false,\n    expects: null,\n    requirement: CUID2_REGEX,\n    message,\n    _run(dataset, config2) {\n      if (dataset.typed && !this.requirement.test(dataset.value)) {\n        _addIssue(this, \"Cuid2\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/actions/decimal/decimal.ts\nfunction decimal(message) {\n  return {\n    kind: \"validation\",\n    type: \"decimal\",\n    reference: decimal,\n    async: false,\n    expects: null,\n    requirement: DECIMAL_REGEX,\n    message,\n    _run(dataset, config2) {\n      if (dataset.typed && !this.requirement.test(dataset.value)) {\n        _addIssue(this, \"decimal\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/actions/email/email.ts\nfunction email(message) {\n  return {\n    kind: \"validation\",\n    type: \"email\",\n    reference: email,\n    expects: null,\n    async: false,\n    requirement: EMAIL_REGEX,\n    message,\n    _run(dataset, config2) {\n      if (dataset.typed && !this.requirement.test(dataset.value)) {\n        _addIssue(this, \"email\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/actions/emoji/emoji.ts\nfunction emoji(message) {\n  return {\n    kind: \"validation\",\n    type: \"emoji\",\n    reference: emoji,\n    async: false,\n    expects: null,\n    requirement: EMOJI_REGEX,\n    message,\n    _run(dataset, config2) {\n      if (dataset.typed && !this.requirement.test(dataset.value)) {\n        _addIssue(this, \"emoji\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/actions/empty/empty.ts\nfunction empty(message) {\n  return {\n    kind: \"validation\",\n    type: \"empty\",\n    reference: empty,\n    async: false,\n    expects: \"0\",\n    message,\n    _run(dataset, config2) {\n      if (dataset.typed && dataset.value.length > 0) {\n        _addIssue(this, \"length\", dataset, config2, {\n          received: `${dataset.value.length}`\n        });\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/actions/endsWith/endsWith.ts\nfunction endsWith(requirement, message) {\n  return {\n    kind: \"validation\",\n    type: \"ends_with\",\n    reference: endsWith,\n    async: false,\n    expects: `\"${requirement}\"`,\n    requirement,\n    message,\n    _run(dataset, config2) {\n      if (dataset.typed && !dataset.value.endsWith(this.requirement)) {\n        _addIssue(this, \"end\", dataset, config2, {\n          received: `\"${dataset.value.slice(-this.requirement.length)}\"`\n        });\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/actions/everyItem/everyItem.ts\nfunction everyItem(requirement, message) {\n  return {\n    kind: \"validation\",\n    type: \"every_item\",\n    reference: everyItem,\n    async: false,\n    expects: null,\n    requirement,\n    message,\n    _run(dataset, config2) {\n      if (dataset.typed && !dataset.value.every(this.requirement)) {\n        _addIssue(this, \"item\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/actions/excludes/excludes.ts\nfunction excludes(requirement, message) {\n  const received = _stringify(requirement);\n  return {\n    kind: \"validation\",\n    type: \"excludes\",\n    reference: excludes,\n    async: false,\n    expects: `!${received}`,\n    requirement,\n    message,\n    _run(dataset, config2) {\n      if (dataset.typed && dataset.value.includes(this.requirement)) {\n        _addIssue(this, \"content\", dataset, config2, { received });\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/actions/filterItems/filterItems.ts\nfunction filterItems(operation) {\n  return {\n    kind: \"transformation\",\n    type: \"filter_items\",\n    reference: filterItems,\n    async: false,\n    operation,\n    _run(dataset) {\n      dataset.value = dataset.value.filter(this.operation);\n      return dataset;\n    }\n  };\n}\n\n// src/actions/findItem/findItem.ts\nfunction findItem(operation) {\n  return {\n    kind: \"transformation\",\n    type: \"find_item\",\n    reference: findItem,\n    async: false,\n    operation,\n    _run(dataset) {\n      dataset.value = dataset.value.find(this.operation);\n      return dataset;\n    }\n  };\n}\n\n// src/actions/finite/finite.ts\nfunction finite(message) {\n  return {\n    kind: \"validation\",\n    type: \"finite\",\n    reference: finite,\n    async: false,\n    expects: null,\n    requirement: Number.isFinite,\n    message,\n    _run(dataset, config2) {\n      if (dataset.typed && !this.requirement(dataset.value)) {\n        _addIssue(this, \"finite\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/actions/hash/hash.ts\nvar HASH_LENGTHS = {\n  md4: 32,\n  md5: 32,\n  sha1: 40,\n  sha256: 64,\n  sha384: 96,\n  sha512: 128,\n  ripemd128: 32,\n  ripemd160: 40,\n  tiger128: 32,\n  tiger160: 40,\n  tiger192: 48,\n  crc32: 8,\n  crc32b: 8,\n  adler32: 8\n};\nfunction hash(types, message) {\n  return {\n    kind: \"validation\",\n    type: \"hash\",\n    reference: hash,\n    expects: null,\n    async: false,\n    requirement: RegExp(\n      types.map((type) => `^[a-f0-9]{${HASH_LENGTHS[type]}}$`).join(\"|\"),\n      \"iu\"\n    ),\n    message,\n    _run(dataset, config2) {\n      if (dataset.typed && !this.requirement.test(dataset.value)) {\n        _addIssue(this, \"hash\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/actions/hexadecimal/hexadecimal.ts\nfunction hexadecimal(message) {\n  return {\n    kind: \"validation\",\n    type: \"hexadecimal\",\n    reference: hexadecimal,\n    async: false,\n    expects: null,\n    requirement: HEXADECIMAL_REGEX,\n    message,\n    _run(dataset, config2) {\n      if (dataset.typed && !this.requirement.test(dataset.value)) {\n        _addIssue(this, \"hexadecimal\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/actions/hexColor/hexColor.ts\nfunction hexColor(message) {\n  return {\n    kind: \"validation\",\n    type: \"hex_color\",\n    reference: hexColor,\n    async: false,\n    expects: null,\n    requirement: HEX_COLOR_REGEX,\n    message,\n    _run(dataset, config2) {\n      if (dataset.typed && !this.requirement.test(dataset.value)) {\n        _addIssue(this, \"hex color\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/actions/imei/imei.ts\nfunction imei(message) {\n  return {\n    kind: \"validation\",\n    type: \"imei\",\n    reference: imei,\n    async: false,\n    expects: null,\n    requirement(input) {\n      return IMEI_REGEX.test(input) && _isLuhnAlgo(input);\n    },\n    message,\n    _run(dataset, config2) {\n      if (dataset.typed && !this.requirement(dataset.value)) {\n        _addIssue(this, \"IMEI\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/actions/includes/includes.ts\nfunction includes(requirement, message) {\n  const expects = _stringify(requirement);\n  return {\n    kind: \"validation\",\n    type: \"includes\",\n    reference: includes,\n    async: false,\n    expects,\n    requirement,\n    message,\n    _run(dataset, config2) {\n      if (dataset.typed && !dataset.value.includes(this.requirement)) {\n        _addIssue(this, \"content\", dataset, config2, {\n          received: `!${expects}`\n        });\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/actions/integer/integer.ts\nfunction integer(message) {\n  return {\n    kind: \"validation\",\n    type: \"integer\",\n    reference: integer,\n    async: false,\n    expects: null,\n    requirement: Number.isInteger,\n    message,\n    _run(dataset, config2) {\n      if (dataset.typed && !this.requirement(dataset.value)) {\n        _addIssue(this, \"integer\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/actions/ip/ip.ts\nfunction ip(message) {\n  return {\n    kind: \"validation\",\n    type: \"ip\",\n    reference: ip,\n    async: false,\n    expects: null,\n    requirement: IP_REGEX,\n    message,\n    _run(dataset, config2) {\n      if (dataset.typed && !this.requirement.test(dataset.value)) {\n        _addIssue(this, \"IP\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/actions/ipv4/ipv4.ts\nfunction ipv4(message) {\n  return {\n    kind: \"validation\",\n    type: \"ipv4\",\n    reference: ipv4,\n    async: false,\n    expects: null,\n    requirement: IPV4_REGEX,\n    message,\n    _run(dataset, config2) {\n      if (dataset.typed && !this.requirement.test(dataset.value)) {\n        _addIssue(this, \"IPv4\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/actions/ipv6/ipv6.ts\nfunction ipv6(message) {\n  return {\n    kind: \"validation\",\n    type: \"ipv6\",\n    reference: ipv6,\n    async: false,\n    expects: null,\n    requirement: IPV6_REGEX,\n    message,\n    _run(dataset, config2) {\n      if (dataset.typed && !this.requirement.test(dataset.value)) {\n        _addIssue(this, \"IPv6\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/actions/isoDate/isoDate.ts\nfunction isoDate(message) {\n  return {\n    kind: \"validation\",\n    type: \"iso_date\",\n    reference: isoDate,\n    async: false,\n    expects: null,\n    requirement: ISO_DATE_REGEX,\n    message,\n    _run(dataset, config2) {\n      if (dataset.typed && !this.requirement.test(dataset.value)) {\n        _addIssue(this, \"date\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/actions/isoDateTime/isoDateTime.ts\nfunction isoDateTime(message) {\n  return {\n    kind: \"validation\",\n    type: \"iso_date_time\",\n    reference: isoDateTime,\n    async: false,\n    expects: null,\n    requirement: ISO_DATE_TIME_REGEX,\n    message,\n    _run(dataset, config2) {\n      if (dataset.typed && !this.requirement.test(dataset.value)) {\n        _addIssue(this, \"date-time\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/actions/isoTime/isoTime.ts\nfunction isoTime(message) {\n  return {\n    kind: \"validation\",\n    type: \"iso_time\",\n    reference: isoTime,\n    async: false,\n    expects: null,\n    requirement: ISO_TIME_REGEX,\n    message,\n    _run(dataset, config2) {\n      if (dataset.typed && !this.requirement.test(dataset.value)) {\n        _addIssue(this, \"time\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/actions/isoTimeSecond/isoTimeSecond.ts\nfunction isoTimeSecond(message) {\n  return {\n    kind: \"validation\",\n    type: \"iso_time_second\",\n    reference: isoTimeSecond,\n    async: false,\n    expects: null,\n    requirement: ISO_TIME_SECOND_REGEX,\n    message,\n    _run(dataset, config2) {\n      if (dataset.typed && !this.requirement.test(dataset.value)) {\n        _addIssue(this, \"time-second\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/actions/isoTimestamp/isoTimestamp.ts\nfunction isoTimestamp(message) {\n  return {\n    kind: \"validation\",\n    type: \"iso_timestamp\",\n    reference: isoTimestamp,\n    async: false,\n    expects: null,\n    requirement: ISO_TIMESTAMP_REGEX,\n    message,\n    _run(dataset, config2) {\n      if (dataset.typed && !this.requirement.test(dataset.value)) {\n        _addIssue(this, \"timestamp\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/actions/isoWeek/isoWeek.ts\nfunction isoWeek(message) {\n  return {\n    kind: \"validation\",\n    type: \"iso_week\",\n    reference: isoWeek,\n    async: false,\n    expects: null,\n    requirement: ISO_WEEK_REGEX,\n    message,\n    _run(dataset, config2) {\n      if (dataset.typed && !this.requirement.test(dataset.value)) {\n        _addIssue(this, \"week\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/actions/length/length.ts\nfunction length(requirement, message) {\n  return {\n    kind: \"validation\",\n    type: \"length\",\n    reference: length,\n    async: false,\n    expects: `${requirement}`,\n    requirement,\n    message,\n    _run(dataset, config2) {\n      if (dataset.typed && dataset.value.length !== this.requirement) {\n        _addIssue(this, \"length\", dataset, config2, {\n          received: `${dataset.value.length}`\n        });\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/actions/mac/mac.ts\nfunction mac(message) {\n  return {\n    kind: \"validation\",\n    type: \"mac\",\n    reference: mac,\n    async: false,\n    expects: null,\n    requirement: MAC_REGEX,\n    message,\n    _run(dataset, config2) {\n      if (dataset.typed && !this.requirement.test(dataset.value)) {\n        _addIssue(this, \"MAC\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/actions/mac48/mac48.ts\nfunction mac48(message) {\n  return {\n    kind: \"validation\",\n    type: \"mac48\",\n    reference: mac48,\n    async: false,\n    expects: null,\n    requirement: MAC48_REGEX,\n    message,\n    _run(dataset, config2) {\n      if (dataset.typed && !this.requirement.test(dataset.value)) {\n        _addIssue(this, \"48-bit MAC\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/actions/mac64/mac64.ts\nfunction mac64(message) {\n  return {\n    kind: \"validation\",\n    type: \"mac64\",\n    reference: mac64,\n    async: false,\n    expects: null,\n    requirement: MAC64_REGEX,\n    message,\n    _run(dataset, config2) {\n      if (dataset.typed && !this.requirement.test(dataset.value)) {\n        _addIssue(this, \"64-bit MAC\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/actions/mapItems/mapItems.ts\nfunction mapItems(operation) {\n  return {\n    kind: \"transformation\",\n    type: \"map_items\",\n    reference: mapItems,\n    async: false,\n    operation,\n    _run(dataset) {\n      dataset.value = dataset.value.map(this.operation);\n      return dataset;\n    }\n  };\n}\n\n// src/actions/maxBytes/maxBytes.ts\nfunction maxBytes(requirement, message) {\n  return {\n    kind: \"validation\",\n    type: \"max_bytes\",\n    reference: maxBytes,\n    async: false,\n    expects: `<=${requirement}`,\n    requirement,\n    message,\n    _run(dataset, config2) {\n      if (dataset.typed) {\n        const length2 = new TextEncoder().encode(dataset.value).length;\n        if (length2 > this.requirement) {\n          _addIssue(this, \"bytes\", dataset, config2, {\n            received: `${length2}`\n          });\n        }\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/actions/maxLength/maxLength.ts\nfunction maxLength(requirement, message) {\n  return {\n    kind: \"validation\",\n    type: \"max_length\",\n    reference: maxLength,\n    async: false,\n    expects: `<=${requirement}`,\n    requirement,\n    message,\n    _run(dataset, config2) {\n      if (dataset.typed && dataset.value.length > this.requirement) {\n        _addIssue(this, \"length\", dataset, config2, {\n          received: `${dataset.value.length}`\n        });\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/actions/maxSize/maxSize.ts\nfunction maxSize(requirement, message) {\n  return {\n    kind: \"validation\",\n    type: \"max_size\",\n    reference: maxSize,\n    async: false,\n    expects: `<=${requirement}`,\n    requirement,\n    message,\n    _run(dataset, config2) {\n      if (dataset.typed && dataset.value.size > this.requirement) {\n        _addIssue(this, \"size\", dataset, config2, {\n          received: `${dataset.value.size}`\n        });\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/actions/maxValue/maxValue.ts\nfunction maxValue(requirement, message) {\n  return {\n    kind: \"validation\",\n    type: \"max_value\",\n    reference: maxValue,\n    async: false,\n    expects: `<=${requirement instanceof Date ? requirement.toJSON() : _stringify(requirement)}`,\n    requirement,\n    message,\n    _run(dataset, config2) {\n      if (dataset.typed && dataset.value > this.requirement) {\n        _addIssue(this, \"value\", dataset, config2, {\n          received: dataset.value instanceof Date ? dataset.value.toJSON() : _stringify(dataset.value)\n        });\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/actions/mimeType/mimeType.ts\nfunction mimeType(requirement, message) {\n  return {\n    kind: \"validation\",\n    type: \"mime_type\",\n    reference: mimeType,\n    async: false,\n    expects: requirement.map((option) => `\"${option}\"`).join(\" | \") || \"never\",\n    requirement,\n    message,\n    _run(dataset, config2) {\n      if (dataset.typed && !this.requirement.includes(dataset.value.type)) {\n        _addIssue(this, \"MIME type\", dataset, config2, {\n          received: `\"${dataset.value.type}\"`\n        });\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/actions/minBytes/minBytes.ts\nfunction minBytes(requirement, message) {\n  return {\n    kind: \"validation\",\n    type: \"min_bytes\",\n    reference: minBytes,\n    async: false,\n    expects: `>=${requirement}`,\n    requirement,\n    message,\n    _run(dataset, config2) {\n      if (dataset.typed) {\n        const length2 = new TextEncoder().encode(dataset.value).length;\n        if (length2 < this.requirement) {\n          _addIssue(this, \"bytes\", dataset, config2, {\n            received: `${length2}`\n          });\n        }\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/actions/minLength/minLength.ts\nfunction minLength(requirement, message) {\n  return {\n    kind: \"validation\",\n    type: \"min_length\",\n    reference: minLength,\n    async: false,\n    expects: `>=${requirement}`,\n    requirement,\n    message,\n    _run(dataset, config2) {\n      if (dataset.typed && dataset.value.length < this.requirement) {\n        _addIssue(this, \"length\", dataset, config2, {\n          received: `${dataset.value.length}`\n        });\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/actions/minSize/minSize.ts\nfunction minSize(requirement, message) {\n  return {\n    kind: \"validation\",\n    type: \"min_size\",\n    reference: minSize,\n    async: false,\n    expects: `>=${requirement}`,\n    requirement,\n    message,\n    _run(dataset, config2) {\n      if (dataset.typed && dataset.value.size < this.requirement) {\n        _addIssue(this, \"size\", dataset, config2, {\n          received: `${dataset.value.size}`\n        });\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/actions/minValue/minValue.ts\nfunction minValue(requirement, message) {\n  return {\n    kind: \"validation\",\n    type: \"min_value\",\n    reference: minValue,\n    async: false,\n    expects: `>=${requirement instanceof Date ? requirement.toJSON() : _stringify(requirement)}`,\n    requirement,\n    message,\n    _run(dataset, config2) {\n      if (dataset.typed && dataset.value < this.requirement) {\n        _addIssue(this, \"value\", dataset, config2, {\n          received: dataset.value instanceof Date ? dataset.value.toJSON() : _stringify(dataset.value)\n        });\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/actions/multipleOf/multipleOf.ts\nfunction multipleOf(requirement, message) {\n  return {\n    kind: \"validation\",\n    type: \"multiple_of\",\n    reference: multipleOf,\n    async: false,\n    expects: `%${requirement}`,\n    requirement,\n    message,\n    _run(dataset, config2) {\n      if (dataset.typed && dataset.value % this.requirement !== 0) {\n        _addIssue(this, \"multiple\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/actions/nonEmpty/nonEmpty.ts\nfunction nonEmpty(message) {\n  return {\n    kind: \"validation\",\n    type: \"non_empty\",\n    reference: nonEmpty,\n    async: false,\n    expects: \"!0\",\n    message,\n    _run(dataset, config2) {\n      if (dataset.typed && dataset.value.length === 0) {\n        _addIssue(this, \"length\", dataset, config2, {\n          received: \"0\"\n        });\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/actions/normalize/normalize.ts\nfunction normalize(form) {\n  return {\n    kind: \"transformation\",\n    type: \"normalize\",\n    reference: normalize,\n    async: false,\n    form,\n    _run(dataset) {\n      dataset.value = dataset.value.normalize(this.form);\n      return dataset;\n    }\n  };\n}\n\n// src/actions/notBytes/notBytes.ts\nfunction notBytes(requirement, message) {\n  return {\n    kind: \"validation\",\n    type: \"not_bytes\",\n    reference: notBytes,\n    async: false,\n    expects: `!${requirement}`,\n    requirement,\n    message,\n    _run(dataset, config2) {\n      if (dataset.typed) {\n        const length2 = new TextEncoder().encode(dataset.value).length;\n        if (length2 === this.requirement) {\n          _addIssue(this, \"bytes\", dataset, config2, {\n            received: `${length2}`\n          });\n        }\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/actions/notLength/notLength.ts\nfunction notLength(requirement, message) {\n  return {\n    kind: \"validation\",\n    type: \"not_length\",\n    reference: notLength,\n    async: false,\n    expects: `!${requirement}`,\n    requirement,\n    message,\n    _run(dataset, config2) {\n      if (dataset.typed && dataset.value.length === this.requirement) {\n        _addIssue(this, \"length\", dataset, config2, {\n          received: `${dataset.value.length}`\n        });\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/actions/notSize/notSize.ts\nfunction notSize(requirement, message) {\n  return {\n    kind: \"validation\",\n    type: \"not_size\",\n    reference: notSize,\n    async: false,\n    expects: `!${requirement}`,\n    requirement,\n    message,\n    _run(dataset, config2) {\n      if (dataset.typed && dataset.value.size === this.requirement) {\n        _addIssue(this, \"size\", dataset, config2, {\n          received: `${dataset.value.size}`\n        });\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/actions/notValue/notValue.ts\nfunction notValue(requirement, message) {\n  return {\n    kind: \"validation\",\n    type: \"not_value\",\n    reference: notValue,\n    async: false,\n    expects: requirement instanceof Date ? `!${requirement.toJSON()}` : `!${_stringify(requirement)}`,\n    requirement,\n    message,\n    _run(dataset, config2) {\n      if (dataset.typed && this.requirement <= dataset.value && this.requirement >= dataset.value) {\n        _addIssue(this, \"value\", dataset, config2, {\n          received: dataset.value instanceof Date ? dataset.value.toJSON() : _stringify(dataset.value)\n        });\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/actions/octal/octal.ts\nfunction octal(message) {\n  return {\n    kind: \"validation\",\n    type: \"octal\",\n    reference: octal,\n    async: false,\n    expects: null,\n    requirement: OCTAL_REGEX,\n    message,\n    _run(dataset, config2) {\n      if (dataset.typed && !this.requirement.test(dataset.value)) {\n        _addIssue(this, \"octal\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/actions/partialCheck/utils/_isPartiallyTyped/_isPartiallyTyped.ts\nfunction _isPartiallyTyped(dataset, pathList) {\n  if (dataset.issues) {\n    for (const path of pathList) {\n      for (const issue of dataset.issues) {\n        let typed = false;\n        const bound = Math.min(path.length, issue.path?.length ?? 0);\n        for (let index = 0; index < bound; index++) {\n          if (path[index] !== issue.path[index].key) {\n            typed = true;\n            break;\n          }\n        }\n        if (!typed) {\n          return false;\n        }\n      }\n    }\n  }\n  return true;\n}\n\n// src/actions/partialCheck/partialCheck.ts\nfunction partialCheck(pathList, requirement, message) {\n  return {\n    kind: \"validation\",\n    type: \"partial_check\",\n    reference: partialCheck,\n    async: false,\n    expects: null,\n    requirement,\n    message,\n    _run(dataset, config2) {\n      if (_isPartiallyTyped(dataset, pathList) && // @ts-expect-error\n      !this.requirement(dataset.value)) {\n        _addIssue(this, \"input\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/actions/partialCheck/partialCheckAsync.ts\nfunction partialCheckAsync(pathList, requirement, message) {\n  return {\n    kind: \"validation\",\n    type: \"partial_check\",\n    reference: partialCheckAsync,\n    async: true,\n    expects: null,\n    requirement,\n    message,\n    async _run(dataset, config2) {\n      if (_isPartiallyTyped(dataset, pathList) && // @ts-expect-error\n      !await this.requirement(dataset.value)) {\n        _addIssue(this, \"input\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/actions/rawCheck/rawCheck.ts\nfunction rawCheck(action) {\n  return {\n    kind: \"validation\",\n    type: \"raw_check\",\n    reference: rawCheck,\n    async: false,\n    expects: null,\n    _run(dataset, config2) {\n      action({\n        dataset,\n        config: config2,\n        addIssue: (info) => _addIssue(this, info?.label ?? \"input\", dataset, config2, info)\n      });\n      return dataset;\n    }\n  };\n}\n\n// src/actions/rawCheck/rawCheckAsync.ts\nfunction rawCheckAsync(action) {\n  return {\n    kind: \"validation\",\n    type: \"raw_check\",\n    reference: rawCheckAsync,\n    async: true,\n    expects: null,\n    async _run(dataset, config2) {\n      await action({\n        dataset,\n        config: config2,\n        addIssue: (info) => _addIssue(this, info?.label ?? \"input\", dataset, config2, info)\n      });\n      return dataset;\n    }\n  };\n}\n\n// src/actions/rawTransform/rawTransform.ts\nfunction rawTransform(action) {\n  return {\n    kind: \"transformation\",\n    type: \"raw_transform\",\n    reference: rawTransform,\n    async: false,\n    _run(dataset, config2) {\n      const output = action({\n        dataset,\n        config: config2,\n        addIssue: (info) => _addIssue(this, info?.label ?? \"input\", dataset, config2, info),\n        NEVER: null\n      });\n      if (dataset.issues) {\n        dataset.typed = false;\n      } else {\n        dataset.value = output;\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/actions/rawTransform/rawTransformAsync.ts\nfunction rawTransformAsync(action) {\n  return {\n    kind: \"transformation\",\n    type: \"raw_transform\",\n    reference: rawTransformAsync,\n    async: true,\n    async _run(dataset, config2) {\n      const output = await action({\n        dataset,\n        config: config2,\n        addIssue: (info) => _addIssue(this, info?.label ?? \"input\", dataset, config2, info),\n        NEVER: null\n      });\n      if (dataset.issues) {\n        dataset.typed = false;\n      } else {\n        dataset.value = output;\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/actions/readonly/readonly.ts\nfunction readonly() {\n  return {\n    kind: \"transformation\",\n    type: \"readonly\",\n    reference: readonly,\n    async: false,\n    _run(dataset) {\n      return dataset;\n    }\n  };\n}\n\n// src/actions/reduceItems/reduceItems.ts\nfunction reduceItems(operation, initial) {\n  return {\n    kind: \"transformation\",\n    type: \"reduce_items\",\n    reference: reduceItems,\n    async: false,\n    operation,\n    initial,\n    _run(dataset) {\n      dataset.value = dataset.value.reduce(this.operation, this.initial);\n      return dataset;\n    }\n  };\n}\n\n// src/actions/regex/regex.ts\nfunction regex(requirement, message) {\n  return {\n    kind: \"validation\",\n    type: \"regex\",\n    reference: regex,\n    async: false,\n    expects: `${requirement}`,\n    requirement,\n    message,\n    _run(dataset, config2) {\n      if (dataset.typed && !this.requirement.test(dataset.value)) {\n        _addIssue(this, \"format\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/actions/safeInteger/safeInteger.ts\nfunction safeInteger(message) {\n  return {\n    kind: \"validation\",\n    type: \"safe_integer\",\n    reference: safeInteger,\n    async: false,\n    expects: null,\n    requirement: Number.isSafeInteger,\n    message,\n    _run(dataset, config2) {\n      if (dataset.typed && !this.requirement(dataset.value)) {\n        _addIssue(this, \"safe integer\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/actions/size/size.ts\nfunction size(requirement, message) {\n  return {\n    kind: \"validation\",\n    type: \"size\",\n    reference: size,\n    async: false,\n    expects: `${requirement}`,\n    requirement,\n    message,\n    _run(dataset, config2) {\n      if (dataset.typed && dataset.value.size !== this.requirement) {\n        _addIssue(this, \"size\", dataset, config2, {\n          received: `${dataset.value.size}`\n        });\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/actions/someItem/someItem.ts\nfunction someItem(requirement, message) {\n  return {\n    kind: \"validation\",\n    type: \"some_item\",\n    reference: someItem,\n    async: false,\n    expects: null,\n    requirement,\n    message,\n    _run(dataset, config2) {\n      if (dataset.typed && !dataset.value.some(this.requirement)) {\n        _addIssue(this, \"item\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/actions/sortItems/sortItems.ts\nfunction sortItems(operation) {\n  return {\n    kind: \"transformation\",\n    type: \"sort_items\",\n    reference: sortItems,\n    async: false,\n    operation,\n    _run(dataset) {\n      dataset.value = dataset.value.sort(this.operation);\n      return dataset;\n    }\n  };\n}\n\n// src/actions/startsWith/startsWith.ts\nfunction startsWith(requirement, message) {\n  return {\n    kind: \"validation\",\n    type: \"starts_with\",\n    reference: startsWith,\n    async: false,\n    expects: `\"${requirement}\"`,\n    requirement,\n    message,\n    _run(dataset, config2) {\n      if (dataset.typed && !dataset.value.startsWith(this.requirement)) {\n        _addIssue(this, \"start\", dataset, config2, {\n          received: `\"${dataset.value.slice(0, this.requirement.length)}\"`\n        });\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/actions/toLowerCase/toLowerCase.ts\nfunction toLowerCase() {\n  return {\n    kind: \"transformation\",\n    type: \"to_lower_case\",\n    reference: toLowerCase,\n    async: false,\n    _run(dataset) {\n      dataset.value = dataset.value.toLowerCase();\n      return dataset;\n    }\n  };\n}\n\n// src/actions/toMaxValue/toMaxValue.ts\nfunction toMaxValue(requirement) {\n  return {\n    kind: \"transformation\",\n    type: \"to_max_value\",\n    reference: toMaxValue,\n    async: false,\n    requirement,\n    _run(dataset) {\n      dataset.value = dataset.value > this.requirement ? this.requirement : dataset.value;\n      return dataset;\n    }\n  };\n}\n\n// src/actions/toMinValue/toMinValue.ts\nfunction toMinValue(requirement) {\n  return {\n    kind: \"transformation\",\n    type: \"to_min_value\",\n    reference: toMinValue,\n    async: false,\n    requirement,\n    _run(dataset) {\n      dataset.value = dataset.value < this.requirement ? this.requirement : dataset.value;\n      return dataset;\n    }\n  };\n}\n\n// src/actions/toUpperCase/toUpperCase.ts\nfunction toUpperCase() {\n  return {\n    kind: \"transformation\",\n    type: \"to_upper_case\",\n    reference: toUpperCase,\n    async: false,\n    _run(dataset) {\n      dataset.value = dataset.value.toUpperCase();\n      return dataset;\n    }\n  };\n}\n\n// src/actions/transform/transform.ts\nfunction transform(operation) {\n  return {\n    kind: \"transformation\",\n    type: \"transform\",\n    reference: transform,\n    async: false,\n    operation,\n    _run(dataset) {\n      dataset.value = this.operation(dataset.value);\n      return dataset;\n    }\n  };\n}\n\n// src/actions/transform/transformAsync.ts\nfunction transformAsync(operation) {\n  return {\n    kind: \"transformation\",\n    type: \"transform\",\n    reference: transformAsync,\n    async: true,\n    operation,\n    async _run(dataset) {\n      dataset.value = await this.operation(dataset.value);\n      return dataset;\n    }\n  };\n}\n\n// src/actions/trim/trim.ts\nfunction trim() {\n  return {\n    kind: \"transformation\",\n    type: \"trim\",\n    reference: trim,\n    async: false,\n    _run(dataset) {\n      dataset.value = dataset.value.trim();\n      return dataset;\n    }\n  };\n}\n\n// src/actions/trimEnd/trimEnd.ts\nfunction trimEnd() {\n  return {\n    kind: \"transformation\",\n    type: \"trim_end\",\n    reference: trimEnd,\n    async: false,\n    _run(dataset) {\n      dataset.value = dataset.value.trimEnd();\n      return dataset;\n    }\n  };\n}\n\n// src/actions/trimStart/trimStart.ts\nfunction trimStart() {\n  return {\n    kind: \"transformation\",\n    type: \"trim_start\",\n    reference: trimStart,\n    async: false,\n    _run(dataset) {\n      dataset.value = dataset.value.trimStart();\n      return dataset;\n    }\n  };\n}\n\n// src/actions/ulid/ulid.ts\nfunction ulid(message) {\n  return {\n    kind: \"validation\",\n    type: \"ulid\",\n    reference: ulid,\n    async: false,\n    expects: null,\n    requirement: ULID_REGEX,\n    message,\n    _run(dataset, config2) {\n      if (dataset.typed && !this.requirement.test(dataset.value)) {\n        _addIssue(this, \"ULID\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/actions/url/url.ts\nfunction url(message) {\n  return {\n    kind: \"validation\",\n    type: \"url\",\n    reference: url,\n    async: false,\n    expects: null,\n    requirement(input) {\n      try {\n        new URL(input);\n        return true;\n      } catch {\n        return false;\n      }\n    },\n    message,\n    _run(dataset, config2) {\n      if (dataset.typed && !this.requirement(dataset.value)) {\n        _addIssue(this, \"URL\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/actions/uuid/uuid.ts\nfunction uuid(message) {\n  return {\n    kind: \"validation\",\n    type: \"uuid\",\n    reference: uuid,\n    async: false,\n    expects: null,\n    requirement: UUID_REGEX,\n    message,\n    _run(dataset, config2) {\n      if (dataset.typed && !this.requirement.test(dataset.value)) {\n        _addIssue(this, \"UUID\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/actions/value/value.ts\nfunction value(requirement, message) {\n  return {\n    kind: \"validation\",\n    type: \"value\",\n    reference: value,\n    async: false,\n    expects: requirement instanceof Date ? requirement.toJSON() : _stringify(requirement),\n    requirement,\n    message,\n    _run(dataset, config2) {\n      if (dataset.typed && !(this.requirement <= dataset.value && this.requirement >= dataset.value)) {\n        _addIssue(this, \"value\", dataset, config2, {\n          received: dataset.value instanceof Date ? dataset.value.toJSON() : _stringify(dataset.value)\n        });\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/methods/config/config.ts\nfunction config(schema, config2) {\n  return {\n    ...schema,\n    _run(dataset, config_) {\n      return schema._run(dataset, { ...config_, ...config2 });\n    }\n  };\n}\n\n// src/methods/getFallback/getFallback.ts\nfunction getFallback(schema, dataset, config2) {\n  return typeof schema.fallback === \"function\" ? (\n    // @ts-expect-error\n    schema.fallback(dataset, config2)\n  ) : (\n    // @ts-expect-error\n    schema.fallback\n  );\n}\n\n// src/methods/fallback/fallback.ts\nfunction fallback(schema, fallback2) {\n  return {\n    ...schema,\n    fallback: fallback2,\n    _run(dataset, config2) {\n      schema._run(dataset, config2);\n      return dataset.issues ? { typed: true, value: getFallback(this, dataset, config2) } : dataset;\n    }\n  };\n}\n\n// src/methods/fallback/fallbackAsync.ts\nfunction fallbackAsync(schema, fallback2) {\n  return {\n    ...schema,\n    fallback: fallback2,\n    async: true,\n    async _run(dataset, config2) {\n      schema._run(dataset, config2);\n      return dataset.issues ? (\n        // @ts-expect-error\n        { typed: true, value: await getFallback(this, dataset, config2) }\n      ) : dataset;\n    }\n  };\n}\n\n// src/methods/flatten/flatten.ts\nfunction flatten(issues) {\n  const flatErrors = {};\n  for (const issue of issues) {\n    if (issue.path) {\n      const dotPath = getDotPath(issue);\n      if (dotPath) {\n        if (!flatErrors.nested) {\n          flatErrors.nested = {};\n        }\n        if (flatErrors.nested[dotPath]) {\n          flatErrors.nested[dotPath].push(issue.message);\n        } else {\n          flatErrors.nested[dotPath] = [issue.message];\n        }\n      } else {\n        if (flatErrors.other) {\n          flatErrors.other.push(issue.message);\n        } else {\n          flatErrors.other = [issue.message];\n        }\n      }\n    } else {\n      if (flatErrors.root) {\n        flatErrors.root.push(issue.message);\n      } else {\n        flatErrors.root = [issue.message];\n      }\n    }\n  }\n  return flatErrors;\n}\n\n// src/methods/forward/forward.ts\nfunction forward(action, pathKeys) {\n  return {\n    ...action,\n    _run(dataset, config2) {\n      const prevIssues = dataset.issues && [...dataset.issues];\n      action._run(dataset, config2);\n      if (dataset.issues) {\n        for (const issue of dataset.issues) {\n          if (!prevIssues?.includes(issue)) {\n            let pathInput = dataset.value;\n            for (const key of pathKeys) {\n              const pathValue = pathInput[key];\n              const pathItem = {\n                type: \"unknown\",\n                origin: \"value\",\n                input: pathInput,\n                key,\n                value: pathValue\n              };\n              if (issue.path) {\n                issue.path.push(pathItem);\n              } else {\n                issue.path = [pathItem];\n              }\n              if (!pathValue) {\n                break;\n              }\n              pathInput = pathValue;\n            }\n          }\n        }\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/methods/forward/forwardAsync.ts\nfunction forwardAsync(action, pathKeys) {\n  return {\n    ...action,\n    async: true,\n    async _run(dataset, config2) {\n      const prevIssues = dataset.issues && [...dataset.issues];\n      await action._run(dataset, config2);\n      if (dataset.issues) {\n        for (const issue of dataset.issues) {\n          if (!prevIssues?.includes(issue)) {\n            let pathInput = dataset.value;\n            for (const key of pathKeys) {\n              const pathValue = pathInput[key];\n              const pathItem = {\n                type: \"unknown\",\n                origin: \"value\",\n                input: pathInput,\n                key,\n                value: pathValue\n              };\n              if (issue.path) {\n                issue.path.push(pathItem);\n              } else {\n                issue.path = [pathItem];\n              }\n              if (!pathValue) {\n                break;\n              }\n              pathInput = pathValue;\n            }\n          }\n        }\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/methods/getDefault/getDefault.ts\nfunction getDefault(schema, dataset, config2) {\n  return typeof schema.default === \"function\" ? (\n    // @ts-expect-error\n    schema.default(dataset, config2)\n  ) : (\n    // @ts-expect-error\n    schema.default\n  );\n}\n\n// src/methods/getDefaults/getDefaults.ts\nfunction getDefaults(schema) {\n  if (\"entries\" in schema) {\n    const object2 = {};\n    for (const key in schema.entries) {\n      object2[key] = getDefaults(schema.entries[key]);\n    }\n    return object2;\n  }\n  if (\"items\" in schema) {\n    return schema.items.map(getDefaults);\n  }\n  return getDefault(schema);\n}\n\n// src/methods/getDefaults/getDefaultsAsync.ts\nasync function getDefaultsAsync(schema) {\n  if (\"entries\" in schema) {\n    return Object.fromEntries(\n      await Promise.all(\n        Object.entries(schema.entries).map(async ([key, value2]) => [\n          key,\n          await getDefaultsAsync(value2)\n        ])\n      )\n    );\n  }\n  if (\"items\" in schema) {\n    return Promise.all(schema.items.map(getDefaultsAsync));\n  }\n  return getDefault(schema);\n}\n\n// src/methods/getFallbacks/getFallbacks.ts\nfunction getFallbacks(schema) {\n  if (\"entries\" in schema) {\n    const object2 = {};\n    for (const key in schema.entries) {\n      object2[key] = getFallbacks(schema.entries[key]);\n    }\n    return object2;\n  }\n  if (\"items\" in schema) {\n    return schema.items.map(getFallbacks);\n  }\n  return getFallback(schema);\n}\n\n// src/methods/getFallbacks/getFallbacksAsync.ts\nasync function getFallbacksAsync(schema) {\n  if (\"entries\" in schema) {\n    return Object.fromEntries(\n      await Promise.all(\n        Object.entries(schema.entries).map(async ([key, value2]) => [\n          key,\n          await getFallbacksAsync(value2)\n        ])\n      )\n    );\n  }\n  if (\"items\" in schema) {\n    return Promise.all(schema.items.map(getFallbacksAsync));\n  }\n  return getFallback(schema);\n}\n\n// src/methods/is/is.ts\nfunction is(schema, input) {\n  return !schema._run({ typed: false, value: input }, { abortEarly: true }).issues;\n}\n\n// src/schemas/any/any.ts\nfunction any() {\n  return {\n    kind: \"schema\",\n    type: \"any\",\n    reference: any,\n    expects: \"any\",\n    async: false,\n    _run(dataset) {\n      dataset.typed = true;\n      return dataset;\n    }\n  };\n}\n\n// src/schemas/array/array.ts\nfunction array(item, message) {\n  return {\n    kind: \"schema\",\n    type: \"array\",\n    reference: array,\n    expects: \"Array\",\n    async: false,\n    item,\n    message,\n    _run(dataset, config2) {\n      const input = dataset.value;\n      if (Array.isArray(input)) {\n        dataset.typed = true;\n        dataset.value = [];\n        for (let key = 0; key < input.length; key++) {\n          const value2 = input[key];\n          const itemDataset = this.item._run({ typed: false, value: value2 }, config2);\n          if (itemDataset.issues) {\n            const pathItem = {\n              type: \"array\",\n              origin: \"value\",\n              input,\n              key,\n              value: value2\n            };\n            for (const issue of itemDataset.issues) {\n              if (issue.path) {\n                issue.path.unshift(pathItem);\n              } else {\n                issue.path = [pathItem];\n              }\n              dataset.issues?.push(issue);\n            }\n            if (!dataset.issues) {\n              dataset.issues = itemDataset.issues;\n            }\n            if (config2.abortEarly) {\n              dataset.typed = false;\n              break;\n            }\n          }\n          if (!itemDataset.typed) {\n            dataset.typed = false;\n          }\n          dataset.value.push(itemDataset.value);\n        }\n      } else {\n        _addIssue(this, \"type\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/schemas/array/arrayAsync.ts\nfunction arrayAsync(item, message) {\n  return {\n    kind: \"schema\",\n    type: \"array\",\n    reference: arrayAsync,\n    expects: \"Array\",\n    async: true,\n    item,\n    message,\n    async _run(dataset, config2) {\n      const input = dataset.value;\n      if (Array.isArray(input)) {\n        dataset.typed = true;\n        dataset.value = [];\n        const itemDatasets = await Promise.all(\n          input.map((value2) => this.item._run({ typed: false, value: value2 }, config2))\n        );\n        for (let key = 0; key < itemDatasets.length; key++) {\n          const itemDataset = itemDatasets[key];\n          if (itemDataset.issues) {\n            const pathItem = {\n              type: \"array\",\n              origin: \"value\",\n              input,\n              key,\n              value: input[key]\n            };\n            for (const issue of itemDataset.issues) {\n              if (issue.path) {\n                issue.path.unshift(pathItem);\n              } else {\n                issue.path = [pathItem];\n              }\n              dataset.issues?.push(issue);\n            }\n            if (!dataset.issues) {\n              dataset.issues = itemDataset.issues;\n            }\n            if (config2.abortEarly) {\n              dataset.typed = false;\n              break;\n            }\n          }\n          if (!itemDataset.typed) {\n            dataset.typed = false;\n          }\n          dataset.value.push(itemDataset.value);\n        }\n      } else {\n        _addIssue(this, \"type\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/schemas/bigint/bigint.ts\nfunction bigint(message) {\n  return {\n    kind: \"schema\",\n    type: \"bigint\",\n    reference: bigint,\n    expects: \"bigint\",\n    async: false,\n    message,\n    _run(dataset, config2) {\n      if (typeof dataset.value === \"bigint\") {\n        dataset.typed = true;\n      } else {\n        _addIssue(this, \"type\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/schemas/blob/blob.ts\nfunction blob(message) {\n  return {\n    kind: \"schema\",\n    type: \"blob\",\n    reference: blob,\n    expects: \"Blob\",\n    async: false,\n    message,\n    _run(dataset, config2) {\n      if (dataset.value instanceof Blob) {\n        dataset.typed = true;\n      } else {\n        _addIssue(this, \"type\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/schemas/boolean/boolean.ts\nfunction boolean(message) {\n  return {\n    kind: \"schema\",\n    type: \"boolean\",\n    reference: boolean,\n    expects: \"boolean\",\n    async: false,\n    message,\n    _run(dataset, config2) {\n      if (typeof dataset.value === \"boolean\") {\n        dataset.typed = true;\n      } else {\n        _addIssue(this, \"type\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/schemas/custom/custom.ts\nfunction custom(check2, message) {\n  return {\n    kind: \"schema\",\n    type: \"custom\",\n    reference: custom,\n    expects: \"unknown\",\n    async: false,\n    check: check2,\n    message,\n    _run(dataset, config2) {\n      if (this.check(dataset.value)) {\n        dataset.typed = true;\n      } else {\n        _addIssue(this, \"type\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/schemas/custom/customAsync.ts\nfunction customAsync(check2, message) {\n  return {\n    kind: \"schema\",\n    type: \"custom\",\n    reference: customAsync,\n    expects: \"unknown\",\n    async: true,\n    check: check2,\n    message,\n    async _run(dataset, config2) {\n      if (await this.check(dataset.value)) {\n        dataset.typed = true;\n      } else {\n        _addIssue(this, \"type\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/schemas/date/date.ts\nfunction date(message) {\n  return {\n    kind: \"schema\",\n    type: \"date\",\n    reference: date,\n    expects: \"Date\",\n    async: false,\n    message,\n    _run(dataset, config2) {\n      if (dataset.value instanceof Date) {\n        if (!isNaN(dataset.value)) {\n          dataset.typed = true;\n        } else {\n          _addIssue(this, \"type\", dataset, config2, {\n            received: '\"Invalid Date\"'\n          });\n        }\n      } else {\n        _addIssue(this, \"type\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/schemas/enum/enum.ts\nfunction enum_(enum__, message) {\n  const options = Object.entries(enum__).filter(([key]) => isNaN(+key)).map(([, value2]) => value2);\n  return {\n    kind: \"schema\",\n    type: \"enum\",\n    reference: enum_,\n    expects: options.map(_stringify).join(\" | \") || \"never\",\n    async: false,\n    enum: enum__,\n    options,\n    message,\n    _run(dataset, config2) {\n      if (this.options.includes(dataset.value)) {\n        dataset.typed = true;\n      } else {\n        _addIssue(this, \"type\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/schemas/file/file.ts\nfunction file(message) {\n  return {\n    kind: \"schema\",\n    type: \"file\",\n    reference: file,\n    expects: \"File\",\n    async: false,\n    message,\n    _run(dataset, config2) {\n      if (dataset.value instanceof File) {\n        dataset.typed = true;\n      } else {\n        _addIssue(this, \"type\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/schemas/function/function.ts\nfunction function_(message) {\n  return {\n    kind: \"schema\",\n    type: \"function\",\n    reference: function_,\n    expects: \"Function\",\n    async: false,\n    message,\n    _run(dataset, config2) {\n      if (typeof dataset.value === \"function\") {\n        dataset.typed = true;\n      } else {\n        _addIssue(this, \"type\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/schemas/instance/instance.ts\nfunction instance(class_, message) {\n  return {\n    kind: \"schema\",\n    type: \"instance\",\n    reference: instance,\n    expects: class_.name,\n    async: false,\n    class: class_,\n    message,\n    _run(dataset, config2) {\n      if (dataset.value instanceof this.class) {\n        dataset.typed = true;\n      } else {\n        _addIssue(this, \"type\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/schemas/intersect/utils/_merge/_merge.ts\nfunction _merge(value1, value2) {\n  if (typeof value1 === typeof value2) {\n    if (value1 === value2 || value1 instanceof Date && value2 instanceof Date && +value1 === +value2) {\n      return { value: value1 };\n    }\n    if (value1 && value2 && value1.constructor === Object && value2.constructor === Object) {\n      for (const key in value2) {\n        if (key in value1) {\n          const dataset = _merge(value1[key], value2[key]);\n          if (dataset.issue) {\n            return dataset;\n          }\n          value1[key] = dataset.value;\n        } else {\n          value1[key] = value2[key];\n        }\n      }\n      return { value: value1 };\n    }\n    if (Array.isArray(value1) && Array.isArray(value2)) {\n      if (value1.length === value2.length) {\n        for (let index = 0; index < value1.length; index++) {\n          const dataset = _merge(value1[index], value2[index]);\n          if (dataset.issue) {\n            return dataset;\n          }\n          value1[index] = dataset.value;\n        }\n        return { value: value1 };\n      }\n    }\n  }\n  return { issue: true };\n}\n\n// src/schemas/intersect/intersect.ts\nfunction intersect(options, message) {\n  return {\n    kind: \"schema\",\n    type: \"intersect\",\n    reference: intersect,\n    expects: [...new Set(options.map((option) => option.expects))].join(\" & \") || \"never\",\n    async: false,\n    options,\n    message,\n    _run(dataset, config2) {\n      if (this.options.length) {\n        const input = dataset.value;\n        let outputs;\n        dataset.typed = true;\n        for (const schema of this.options) {\n          const optionDataset = schema._run(\n            { typed: false, value: input },\n            config2\n          );\n          if (optionDataset.issues) {\n            if (dataset.issues) {\n              dataset.issues.push(...optionDataset.issues);\n            } else {\n              dataset.issues = optionDataset.issues;\n            }\n            if (config2.abortEarly) {\n              dataset.typed = false;\n              break;\n            }\n          }\n          if (!optionDataset.typed) {\n            dataset.typed = false;\n          }\n          if (dataset.typed) {\n            if (outputs) {\n              outputs.push(optionDataset.value);\n            } else {\n              outputs = [optionDataset.value];\n            }\n          }\n        }\n        if (dataset.typed) {\n          dataset.value = outputs[0];\n          for (let index = 1; index < outputs.length; index++) {\n            const mergeDataset = _merge(dataset.value, outputs[index]);\n            if (mergeDataset.issue) {\n              _addIssue(this, \"type\", dataset, config2, {\n                received: \"unknown\"\n              });\n              break;\n            }\n            dataset.value = mergeDataset.value;\n          }\n        }\n      } else {\n        _addIssue(this, \"type\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/schemas/intersect/intersectAsync.ts\nfunction intersectAsync(options, message) {\n  return {\n    kind: \"schema\",\n    type: \"intersect\",\n    reference: intersectAsync,\n    expects: [...new Set(options.map((option) => option.expects))].join(\" & \") || \"never\",\n    async: true,\n    options,\n    message,\n    async _run(dataset, config2) {\n      if (this.options.length) {\n        const input = dataset.value;\n        let outputs;\n        dataset.typed = true;\n        const optionDatasets = await Promise.all(\n          this.options.map(\n            (schema) => schema._run({ typed: false, value: input }, config2)\n          )\n        );\n        for (const optionDataset of optionDatasets) {\n          if (optionDataset.issues) {\n            if (dataset.issues) {\n              dataset.issues.push(...optionDataset.issues);\n            } else {\n              dataset.issues = optionDataset.issues;\n            }\n            if (config2.abortEarly) {\n              dataset.typed = false;\n              break;\n            }\n          }\n          if (!optionDataset.typed) {\n            dataset.typed = false;\n          }\n          if (dataset.typed) {\n            if (outputs) {\n              outputs.push(optionDataset.value);\n            } else {\n              outputs = [optionDataset.value];\n            }\n          }\n        }\n        if (dataset.typed) {\n          dataset.value = outputs[0];\n          for (let index = 1; index < outputs.length; index++) {\n            const mergeDataset = _merge(dataset.value, outputs[index]);\n            if (mergeDataset.issue) {\n              _addIssue(this, \"type\", dataset, config2, {\n                received: \"unknown\"\n              });\n              break;\n            }\n            dataset.value = mergeDataset.value;\n          }\n        }\n      } else {\n        _addIssue(this, \"type\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/schemas/lazy/lazy.ts\nfunction lazy(getter) {\n  return {\n    kind: \"schema\",\n    type: \"lazy\",\n    reference: lazy,\n    expects: \"unknown\",\n    async: false,\n    getter,\n    _run(dataset, config2) {\n      return this.getter(dataset.value)._run(dataset, config2);\n    }\n  };\n}\n\n// src/schemas/lazy/lazyAsync.ts\nfunction lazyAsync(getter) {\n  return {\n    kind: \"schema\",\n    type: \"lazy\",\n    reference: lazyAsync,\n    expects: \"unknown\",\n    async: true,\n    getter,\n    async _run(dataset, config2) {\n      return (await this.getter(dataset.value))._run(dataset, config2);\n    }\n  };\n}\n\n// src/schemas/literal/literal.ts\nfunction literal(literal_, message) {\n  return {\n    kind: \"schema\",\n    type: \"literal\",\n    reference: literal,\n    expects: _stringify(literal_),\n    async: false,\n    literal: literal_,\n    message,\n    _run(dataset, config2) {\n      if (dataset.value === this.literal) {\n        dataset.typed = true;\n      } else {\n        _addIssue(this, \"type\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/schemas/looseObject/looseObject.ts\nfunction looseObject(entries, message) {\n  return {\n    kind: \"schema\",\n    type: \"loose_object\",\n    reference: looseObject,\n    expects: \"Object\",\n    async: false,\n    entries,\n    message,\n    _run(dataset, config2) {\n      const input = dataset.value;\n      if (input && typeof input === \"object\") {\n        dataset.typed = true;\n        dataset.value = {};\n        for (const key in this.entries) {\n          const value2 = input[key];\n          const valueDataset = this.entries[key]._run(\n            { typed: false, value: value2 },\n            config2\n          );\n          if (valueDataset.issues) {\n            const pathItem = {\n              type: \"object\",\n              origin: \"value\",\n              input,\n              key,\n              value: value2\n            };\n            for (const issue of valueDataset.issues) {\n              if (issue.path) {\n                issue.path.unshift(pathItem);\n              } else {\n                issue.path = [pathItem];\n              }\n              dataset.issues?.push(issue);\n            }\n            if (!dataset.issues) {\n              dataset.issues = valueDataset.issues;\n            }\n            if (config2.abortEarly) {\n              dataset.typed = false;\n              break;\n            }\n          }\n          if (!valueDataset.typed) {\n            dataset.typed = false;\n          }\n          if (valueDataset.value !== void 0 || key in input) {\n            dataset.value[key] = valueDataset.value;\n          }\n        }\n        if (!dataset.issues || !config2.abortEarly) {\n          for (const key in input) {\n            if (_isValidObjectKey(input, key) && !(key in this.entries)) {\n              dataset.value[key] = input[key];\n            }\n          }\n        }\n      } else {\n        _addIssue(this, \"type\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/schemas/looseObject/looseObjectAsync.ts\nfunction looseObjectAsync(entries, message) {\n  return {\n    kind: \"schema\",\n    type: \"loose_object\",\n    reference: looseObjectAsync,\n    expects: \"Object\",\n    async: true,\n    entries,\n    message,\n    async _run(dataset, config2) {\n      const input = dataset.value;\n      if (input && typeof input === \"object\") {\n        dataset.typed = true;\n        dataset.value = {};\n        const valueDatasets = await Promise.all(\n          Object.entries(this.entries).map(async ([key, schema]) => {\n            const value2 = input[key];\n            return [\n              key,\n              value2,\n              await schema._run({ typed: false, value: value2 }, config2)\n            ];\n          })\n        );\n        for (const [key, value2, valueDataset] of valueDatasets) {\n          if (valueDataset.issues) {\n            const pathItem = {\n              type: \"object\",\n              origin: \"value\",\n              input,\n              key,\n              value: value2\n            };\n            for (const issue of valueDataset.issues) {\n              if (issue.path) {\n                issue.path.unshift(pathItem);\n              } else {\n                issue.path = [pathItem];\n              }\n              dataset.issues?.push(issue);\n            }\n            if (!dataset.issues) {\n              dataset.issues = valueDataset.issues;\n            }\n            if (config2.abortEarly) {\n              dataset.typed = false;\n              break;\n            }\n          }\n          if (!valueDataset.typed) {\n            dataset.typed = false;\n          }\n          if (valueDataset.value !== void 0 || key in input) {\n            dataset.value[key] = valueDataset.value;\n          }\n        }\n        if (!dataset.issues || !config2.abortEarly) {\n          for (const key in input) {\n            if (_isValidObjectKey(input, key) && !(key in this.entries)) {\n              dataset.value[key] = input[key];\n            }\n          }\n        }\n      } else {\n        _addIssue(this, \"type\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/schemas/looseTuple/looseTuple.ts\nfunction looseTuple(items, message) {\n  return {\n    kind: \"schema\",\n    type: \"loose_tuple\",\n    reference: looseTuple,\n    expects: \"Array\",\n    async: false,\n    items,\n    message,\n    _run(dataset, config2) {\n      const input = dataset.value;\n      if (Array.isArray(input)) {\n        dataset.typed = true;\n        dataset.value = [];\n        for (let key = 0; key < this.items.length; key++) {\n          const value2 = input[key];\n          const itemDataset = this.items[key]._run(\n            { typed: false, value: value2 },\n            config2\n          );\n          if (itemDataset.issues) {\n            const pathItem = {\n              type: \"array\",\n              origin: \"value\",\n              input,\n              key,\n              value: value2\n            };\n            for (const issue of itemDataset.issues) {\n              if (issue.path) {\n                issue.path.unshift(pathItem);\n              } else {\n                issue.path = [pathItem];\n              }\n              dataset.issues?.push(issue);\n            }\n            if (!dataset.issues) {\n              dataset.issues = itemDataset.issues;\n            }\n            if (config2.abortEarly) {\n              dataset.typed = false;\n              break;\n            }\n          }\n          if (!itemDataset.typed) {\n            dataset.typed = false;\n          }\n          dataset.value.push(itemDataset.value);\n        }\n        if (!dataset.issues || !config2.abortEarly) {\n          for (let key = this.items.length; key < input.length; key++) {\n            dataset.value.push(input[key]);\n          }\n        }\n      } else {\n        _addIssue(this, \"type\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/schemas/looseTuple/looseTupleAsync.ts\nfunction looseTupleAsync(items, message) {\n  return {\n    kind: \"schema\",\n    type: \"loose_tuple\",\n    reference: looseTupleAsync,\n    expects: \"Array\",\n    async: true,\n    items,\n    message,\n    async _run(dataset, config2) {\n      const input = dataset.value;\n      if (Array.isArray(input)) {\n        dataset.typed = true;\n        dataset.value = [];\n        const itemDatasets = await Promise.all(\n          this.items.map(async (item, key) => {\n            const value2 = input[key];\n            return [\n              key,\n              value2,\n              await item._run({ typed: false, value: value2 }, config2)\n            ];\n          })\n        );\n        for (const [key, value2, itemDataset] of itemDatasets) {\n          if (itemDataset.issues) {\n            const pathItem = {\n              type: \"array\",\n              origin: \"value\",\n              input,\n              key,\n              value: value2\n            };\n            for (const issue of itemDataset.issues) {\n              if (issue.path) {\n                issue.path.unshift(pathItem);\n              } else {\n                issue.path = [pathItem];\n              }\n              dataset.issues?.push(issue);\n            }\n            if (!dataset.issues) {\n              dataset.issues = itemDataset.issues;\n            }\n            if (config2.abortEarly) {\n              dataset.typed = false;\n              break;\n            }\n          }\n          if (!itemDataset.typed) {\n            dataset.typed = false;\n          }\n          dataset.value.push(itemDataset.value);\n        }\n        if (!dataset.issues || !config2.abortEarly) {\n          for (let key = this.items.length; key < input.length; key++) {\n            dataset.value.push(input[key]);\n          }\n        }\n      } else {\n        _addIssue(this, \"type\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/schemas/map/map.ts\nfunction map(key, value2, message) {\n  return {\n    kind: \"schema\",\n    type: \"map\",\n    reference: map,\n    expects: \"Map\",\n    async: false,\n    key,\n    value: value2,\n    message,\n    _run(dataset, config2) {\n      const input = dataset.value;\n      if (input instanceof Map) {\n        dataset.typed = true;\n        dataset.value = /* @__PURE__ */ new Map();\n        for (const [inputKey, inputValue] of input) {\n          const keyDataset = this.key._run(\n            { typed: false, value: inputKey },\n            config2\n          );\n          if (keyDataset.issues) {\n            const pathItem = {\n              type: \"map\",\n              origin: \"key\",\n              input,\n              key: inputKey,\n              value: inputValue\n            };\n            for (const issue of keyDataset.issues) {\n              if (issue.path) {\n                issue.path.unshift(pathItem);\n              } else {\n                issue.path = [pathItem];\n              }\n              dataset.issues?.push(issue);\n            }\n            if (!dataset.issues) {\n              dataset.issues = keyDataset.issues;\n            }\n            if (config2.abortEarly) {\n              dataset.typed = false;\n              break;\n            }\n          }\n          const valueDataset = this.value._run(\n            { typed: false, value: inputValue },\n            config2\n          );\n          if (valueDataset.issues) {\n            const pathItem = {\n              type: \"map\",\n              origin: \"value\",\n              input,\n              key: inputKey,\n              value: inputValue\n            };\n            for (const issue of valueDataset.issues) {\n              if (issue.path) {\n                issue.path.unshift(pathItem);\n              } else {\n                issue.path = [pathItem];\n              }\n              dataset.issues?.push(issue);\n            }\n            if (!dataset.issues) {\n              dataset.issues = valueDataset.issues;\n            }\n            if (config2.abortEarly) {\n              dataset.typed = false;\n              break;\n            }\n          }\n          if (!keyDataset.typed || !valueDataset.typed) {\n            dataset.typed = false;\n          }\n          dataset.value.set(keyDataset.value, valueDataset.value);\n        }\n      } else {\n        _addIssue(this, \"type\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/schemas/map/mapAsync.ts\nfunction mapAsync(key, value2, message) {\n  return {\n    kind: \"schema\",\n    type: \"map\",\n    reference: mapAsync,\n    expects: \"Map\",\n    async: true,\n    key,\n    value: value2,\n    message,\n    async _run(dataset, config2) {\n      const input = dataset.value;\n      if (input instanceof Map) {\n        dataset.typed = true;\n        dataset.value = /* @__PURE__ */ new Map();\n        const datasets = await Promise.all(\n          [...input].map(\n            ([inputKey, inputValue]) => Promise.all([\n              inputKey,\n              inputValue,\n              this.key._run({ typed: false, value: inputKey }, config2),\n              this.value._run({ typed: false, value: inputValue }, config2)\n            ])\n          )\n        );\n        for (const [\n          inputKey,\n          inputValue,\n          keyDataset,\n          valueDataset\n        ] of datasets) {\n          if (keyDataset.issues) {\n            const pathItem = {\n              type: \"map\",\n              origin: \"key\",\n              input,\n              key: inputKey,\n              value: inputValue\n            };\n            for (const issue of keyDataset.issues) {\n              if (issue.path) {\n                issue.path.unshift(pathItem);\n              } else {\n                issue.path = [pathItem];\n              }\n              dataset.issues?.push(issue);\n            }\n            if (!dataset.issues) {\n              dataset.issues = keyDataset.issues;\n            }\n            if (config2.abortEarly) {\n              dataset.typed = false;\n              break;\n            }\n          }\n          if (valueDataset.issues) {\n            const pathItem = {\n              type: \"map\",\n              origin: \"value\",\n              input,\n              key: inputKey,\n              value: inputValue\n            };\n            for (const issue of valueDataset.issues) {\n              if (issue.path) {\n                issue.path.unshift(pathItem);\n              } else {\n                issue.path = [pathItem];\n              }\n              dataset.issues?.push(issue);\n            }\n            if (!dataset.issues) {\n              dataset.issues = valueDataset.issues;\n            }\n            if (config2.abortEarly) {\n              dataset.typed = false;\n              break;\n            }\n          }\n          if (!keyDataset.typed || !valueDataset.typed) {\n            dataset.typed = false;\n          }\n          dataset.value.set(keyDataset.value, valueDataset.value);\n        }\n      } else {\n        _addIssue(this, \"type\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/schemas/nan/nan.ts\nfunction nan(message) {\n  return {\n    kind: \"schema\",\n    type: \"nan\",\n    reference: nan,\n    expects: \"NaN\",\n    async: false,\n    message,\n    _run(dataset, config2) {\n      if (Number.isNaN(dataset.value)) {\n        dataset.typed = true;\n      } else {\n        _addIssue(this, \"type\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/schemas/never/never.ts\nfunction never(message) {\n  return {\n    kind: \"schema\",\n    type: \"never\",\n    reference: never,\n    expects: \"never\",\n    async: false,\n    message,\n    _run(dataset, config2) {\n      _addIssue(this, \"type\", dataset, config2);\n      return dataset;\n    }\n  };\n}\n\n// src/schemas/nonNullable/nonNullable.ts\nfunction nonNullable(wrapped, message) {\n  return {\n    kind: \"schema\",\n    type: \"non_nullable\",\n    reference: nonNullable,\n    expects: \"!null\",\n    async: false,\n    wrapped,\n    message,\n    _run(dataset, config2) {\n      if (dataset.value === null) {\n        _addIssue(this, \"type\", dataset, config2);\n        return dataset;\n      }\n      return this.wrapped._run(dataset, config2);\n    }\n  };\n}\n\n// src/schemas/nonNullable/nonNullableAsync.ts\nfunction nonNullableAsync(wrapped, message) {\n  return {\n    kind: \"schema\",\n    type: \"non_nullable\",\n    reference: nonNullableAsync,\n    expects: \"!null\",\n    async: true,\n    wrapped,\n    message,\n    async _run(dataset, config2) {\n      if (dataset.value === null) {\n        _addIssue(this, \"type\", dataset, config2);\n        return dataset;\n      }\n      return this.wrapped._run(dataset, config2);\n    }\n  };\n}\n\n// src/schemas/nonNullish/nonNullish.ts\nfunction nonNullish(wrapped, message) {\n  return {\n    kind: \"schema\",\n    type: \"non_nullish\",\n    reference: nonNullish,\n    expects: \"!null & !undefined\",\n    async: false,\n    wrapped,\n    message,\n    _run(dataset, config2) {\n      if (dataset.value === null || dataset.value === void 0) {\n        _addIssue(this, \"type\", dataset, config2);\n        return dataset;\n      }\n      return this.wrapped._run(dataset, config2);\n    }\n  };\n}\n\n// src/schemas/nonNullish/nonNullishAsync.ts\nfunction nonNullishAsync(wrapped, message) {\n  return {\n    kind: \"schema\",\n    type: \"non_nullish\",\n    reference: nonNullishAsync,\n    expects: \"!null & !undefined\",\n    async: true,\n    wrapped,\n    message,\n    async _run(dataset, config2) {\n      if (dataset.value === null || dataset.value === void 0) {\n        _addIssue(this, \"type\", dataset, config2);\n        return dataset;\n      }\n      return this.wrapped._run(dataset, config2);\n    }\n  };\n}\n\n// src/schemas/nonOptional/nonOptional.ts\nfunction nonOptional(wrapped, message) {\n  return {\n    kind: \"schema\",\n    type: \"non_optional\",\n    reference: nonOptional,\n    expects: \"!undefined\",\n    async: false,\n    wrapped,\n    message,\n    _run(dataset, config2) {\n      if (dataset.value === void 0) {\n        _addIssue(this, \"type\", dataset, config2);\n        return dataset;\n      }\n      return this.wrapped._run(dataset, config2);\n    }\n  };\n}\n\n// src/schemas/nonOptional/nonOptionalAsync.ts\nfunction nonOptionalAsync(wrapped, message) {\n  return {\n    kind: \"schema\",\n    type: \"non_optional\",\n    reference: nonOptionalAsync,\n    expects: \"!undefined\",\n    async: true,\n    wrapped,\n    message,\n    async _run(dataset, config2) {\n      if (dataset.value === void 0) {\n        _addIssue(this, \"type\", dataset, config2);\n        return dataset;\n      }\n      return this.wrapped._run(dataset, config2);\n    }\n  };\n}\n\n// src/schemas/null/null.ts\nfunction null_(message) {\n  return {\n    kind: \"schema\",\n    type: \"null\",\n    reference: null_,\n    expects: \"null\",\n    async: false,\n    message,\n    _run(dataset, config2) {\n      if (dataset.value === null) {\n        dataset.typed = true;\n      } else {\n        _addIssue(this, \"type\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/schemas/nullable/nullable.ts\nfunction nullable(wrapped, ...args) {\n  const schema = {\n    kind: \"schema\",\n    type: \"nullable\",\n    reference: nullable,\n    expects: `${wrapped.expects} | null`,\n    async: false,\n    wrapped,\n    _run(dataset, config2) {\n      if (dataset.value === null) {\n        if (\"default\" in this) {\n          dataset.value = getDefault(\n            this,\n            dataset,\n            config2\n          );\n        }\n        if (dataset.value === null) {\n          dataset.typed = true;\n          return dataset;\n        }\n      }\n      return this.wrapped._run(dataset, config2);\n    }\n  };\n  if (0 in args) {\n    schema.default = args[0];\n  }\n  return schema;\n}\n\n// src/schemas/nullable/nullableAsync.ts\nfunction nullableAsync(wrapped, ...args) {\n  const schema = {\n    kind: \"schema\",\n    type: \"nullable\",\n    reference: nullableAsync,\n    expects: `${wrapped.expects} | null`,\n    async: true,\n    wrapped,\n    async _run(dataset, config2) {\n      if (dataset.value === null) {\n        if (\"default\" in this) {\n          dataset.value = await getDefault(\n            this,\n            dataset,\n            config2\n          );\n        }\n        if (dataset.value === null) {\n          dataset.typed = true;\n          return dataset;\n        }\n      }\n      return this.wrapped._run(dataset, config2);\n    }\n  };\n  if (0 in args) {\n    schema.default = args[0];\n  }\n  return schema;\n}\n\n// src/schemas/nullish/nullish.ts\nfunction nullish(wrapped, ...args) {\n  const schema = {\n    kind: \"schema\",\n    type: \"nullish\",\n    reference: nullish,\n    expects: `${wrapped.expects} | null | undefined`,\n    async: false,\n    wrapped,\n    _run(dataset, config2) {\n      if (dataset.value === null || dataset.value === void 0) {\n        if (\"default\" in this) {\n          dataset.value = getDefault(\n            this,\n            dataset,\n            config2\n          );\n        }\n        if (dataset.value === null || dataset.value === void 0) {\n          dataset.typed = true;\n          return dataset;\n        }\n      }\n      return this.wrapped._run(dataset, config2);\n    }\n  };\n  if (0 in args) {\n    schema.default = args[0];\n  }\n  return schema;\n}\n\n// src/schemas/nullish/nullishAsync.ts\nfunction nullishAsync(wrapped, ...args) {\n  const schema = {\n    kind: \"schema\",\n    type: \"nullish\",\n    reference: nullishAsync,\n    expects: `${wrapped.expects} | null | undefined`,\n    async: true,\n    wrapped,\n    async _run(dataset, config2) {\n      if (dataset.value === null || dataset.value === void 0) {\n        if (\"default\" in this) {\n          dataset.value = await getDefault(\n            this,\n            dataset,\n            config2\n          );\n        }\n        if (dataset.value === null || dataset.value === void 0) {\n          dataset.typed = true;\n          return dataset;\n        }\n      }\n      return this.wrapped._run(dataset, config2);\n    }\n  };\n  if (0 in args) {\n    schema.default = args[0];\n  }\n  return schema;\n}\n\n// src/schemas/number/number.ts\nfunction number(message) {\n  return {\n    kind: \"schema\",\n    type: \"number\",\n    reference: number,\n    expects: \"number\",\n    async: false,\n    message,\n    _run(dataset, config2) {\n      if (typeof dataset.value === \"number\" && !isNaN(dataset.value)) {\n        dataset.typed = true;\n      } else {\n        _addIssue(this, \"type\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/schemas/object/object.ts\nfunction object(entries, message) {\n  return {\n    kind: \"schema\",\n    type: \"object\",\n    reference: object,\n    expects: \"Object\",\n    async: false,\n    entries,\n    message,\n    _run(dataset, config2) {\n      const input = dataset.value;\n      if (input && typeof input === \"object\") {\n        dataset.typed = true;\n        dataset.value = {};\n        for (const key in this.entries) {\n          const value2 = input[key];\n          const valueDataset = this.entries[key]._run(\n            { typed: false, value: value2 },\n            config2\n          );\n          if (valueDataset.issues) {\n            const pathItem = {\n              type: \"object\",\n              origin: \"value\",\n              input,\n              key,\n              value: value2\n            };\n            for (const issue of valueDataset.issues) {\n              if (issue.path) {\n                issue.path.unshift(pathItem);\n              } else {\n                issue.path = [pathItem];\n              }\n              dataset.issues?.push(issue);\n            }\n            if (!dataset.issues) {\n              dataset.issues = valueDataset.issues;\n            }\n            if (config2.abortEarly) {\n              dataset.typed = false;\n              break;\n            }\n          }\n          if (!valueDataset.typed) {\n            dataset.typed = false;\n          }\n          if (valueDataset.value !== void 0 || key in input) {\n            dataset.value[key] = valueDataset.value;\n          }\n        }\n      } else {\n        _addIssue(this, \"type\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/schemas/object/objectAsync.ts\nfunction objectAsync(entries, message) {\n  return {\n    kind: \"schema\",\n    type: \"object\",\n    reference: objectAsync,\n    expects: \"Object\",\n    async: true,\n    entries,\n    message,\n    async _run(dataset, config2) {\n      const input = dataset.value;\n      if (input && typeof input === \"object\") {\n        dataset.typed = true;\n        dataset.value = {};\n        const valueDatasets = await Promise.all(\n          Object.entries(this.entries).map(async ([key, schema]) => {\n            const value2 = input[key];\n            return [\n              key,\n              value2,\n              await schema._run({ typed: false, value: value2 }, config2)\n            ];\n          })\n        );\n        for (const [key, value2, valueDataset] of valueDatasets) {\n          if (valueDataset.issues) {\n            const pathItem = {\n              type: \"object\",\n              origin: \"value\",\n              input,\n              key,\n              value: value2\n            };\n            for (const issue of valueDataset.issues) {\n              if (issue.path) {\n                issue.path.unshift(pathItem);\n              } else {\n                issue.path = [pathItem];\n              }\n              dataset.issues?.push(issue);\n            }\n            if (!dataset.issues) {\n              dataset.issues = valueDataset.issues;\n            }\n            if (config2.abortEarly) {\n              dataset.typed = false;\n              break;\n            }\n          }\n          if (!valueDataset.typed) {\n            dataset.typed = false;\n          }\n          if (valueDataset.value !== void 0 || key in input) {\n            dataset.value[key] = valueDataset.value;\n          }\n        }\n      } else {\n        _addIssue(this, \"type\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/schemas/objectWithRest/objectWithRest.ts\nfunction objectWithRest(entries, rest, message) {\n  return {\n    kind: \"schema\",\n    type: \"object_with_rest\",\n    reference: objectWithRest,\n    expects: \"Object\",\n    async: false,\n    entries,\n    rest,\n    message,\n    _run(dataset, config2) {\n      const input = dataset.value;\n      if (input && typeof input === \"object\") {\n        dataset.typed = true;\n        dataset.value = {};\n        for (const key in this.entries) {\n          const value2 = input[key];\n          const valueDataset = this.entries[key]._run(\n            { typed: false, value: value2 },\n            config2\n          );\n          if (valueDataset.issues) {\n            const pathItem = {\n              type: \"object\",\n              origin: \"value\",\n              input,\n              key,\n              value: value2\n            };\n            for (const issue of valueDataset.issues) {\n              if (issue.path) {\n                issue.path.unshift(pathItem);\n              } else {\n                issue.path = [pathItem];\n              }\n              dataset.issues?.push(issue);\n            }\n            if (!dataset.issues) {\n              dataset.issues = valueDataset.issues;\n            }\n            if (config2.abortEarly) {\n              dataset.typed = false;\n              break;\n            }\n          }\n          if (!valueDataset.typed) {\n            dataset.typed = false;\n          }\n          if (valueDataset.value !== void 0 || key in input) {\n            dataset.value[key] = valueDataset.value;\n          }\n        }\n        if (!dataset.issues || !config2.abortEarly) {\n          for (const key in input) {\n            if (_isValidObjectKey(input, key) && !(key in this.entries)) {\n              const value2 = input[key];\n              const valueDataset = this.rest._run(\n                { typed: false, value: value2 },\n                config2\n              );\n              if (valueDataset.issues) {\n                const pathItem = {\n                  type: \"object\",\n                  origin: \"value\",\n                  input,\n                  key,\n                  value: value2\n                };\n                for (const issue of valueDataset.issues) {\n                  if (issue.path) {\n                    issue.path.unshift(pathItem);\n                  } else {\n                    issue.path = [pathItem];\n                  }\n                  dataset.issues?.push(issue);\n                }\n                if (!dataset.issues) {\n                  dataset.issues = valueDataset.issues;\n                }\n                if (config2.abortEarly) {\n                  dataset.typed = false;\n                  break;\n                }\n              }\n              if (!valueDataset.typed) {\n                dataset.typed = false;\n              }\n              dataset.value[key] = valueDataset.value;\n            }\n          }\n        }\n      } else {\n        _addIssue(this, \"type\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/schemas/objectWithRest/objectWithRestAsync.ts\nfunction objectWithRestAsync(entries, rest, message) {\n  return {\n    kind: \"schema\",\n    type: \"object_with_rest\",\n    reference: objectWithRestAsync,\n    expects: \"Object\",\n    async: true,\n    entries,\n    rest,\n    message,\n    async _run(dataset, config2) {\n      const input = dataset.value;\n      if (input && typeof input === \"object\") {\n        dataset.typed = true;\n        dataset.value = {};\n        const [normalDatasets, restDatasets] = await Promise.all([\n          // Parse schema of each normal entry\n          Promise.all(\n            Object.entries(this.entries).map(async ([key, schema]) => {\n              const value2 = input[key];\n              return [\n                key,\n                value2,\n                await schema._run({ typed: false, value: value2 }, config2)\n              ];\n            })\n          ),\n          // Parse other entries with rest schema\n          Promise.all(\n            Object.entries(input).filter(\n              ([key]) => _isValidObjectKey(input, key) && !(key in this.entries)\n            ).map(\n              async ([key, value2]) => [\n                key,\n                value2,\n                await this.rest._run({ typed: false, value: value2 }, config2)\n              ]\n            )\n          )\n        ]);\n        for (const [key, value2, valueDataset] of normalDatasets) {\n          if (valueDataset.issues) {\n            const pathItem = {\n              type: \"object\",\n              origin: \"value\",\n              input,\n              key,\n              value: value2\n            };\n            for (const issue of valueDataset.issues) {\n              if (issue.path) {\n                issue.path.unshift(pathItem);\n              } else {\n                issue.path = [pathItem];\n              }\n              dataset.issues?.push(issue);\n            }\n            if (!dataset.issues) {\n              dataset.issues = valueDataset.issues;\n            }\n            if (config2.abortEarly) {\n              dataset.typed = false;\n              break;\n            }\n          }\n          if (!valueDataset.typed) {\n            dataset.typed = false;\n          }\n          if (valueDataset.value !== void 0 || key in input) {\n            dataset.value[key] = valueDataset.value;\n          }\n        }\n        if (!dataset.issues || !config2.abortEarly) {\n          for (const [key, value2, valueDataset] of restDatasets) {\n            if (valueDataset.issues) {\n              const pathItem = {\n                type: \"object\",\n                origin: \"value\",\n                input,\n                key,\n                value: value2\n              };\n              for (const issue of valueDataset.issues) {\n                if (issue.path) {\n                  issue.path.unshift(pathItem);\n                } else {\n                  issue.path = [pathItem];\n                }\n                dataset.issues?.push(issue);\n              }\n              if (!dataset.issues) {\n                dataset.issues = valueDataset.issues;\n              }\n              if (config2.abortEarly) {\n                dataset.typed = false;\n                break;\n              }\n            }\n            if (!valueDataset.typed) {\n              dataset.typed = false;\n            }\n            dataset.value[key] = valueDataset.value;\n          }\n        }\n      } else {\n        _addIssue(this, \"type\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/schemas/optional/optional.ts\nfunction optional(wrapped, ...args) {\n  const schema = {\n    kind: \"schema\",\n    type: \"optional\",\n    reference: optional,\n    expects: `${wrapped.expects} | undefined`,\n    async: false,\n    wrapped,\n    _run(dataset, config2) {\n      if (dataset.value === void 0) {\n        if (\"default\" in this) {\n          dataset.value = getDefault(\n            this,\n            dataset,\n            config2\n          );\n        }\n        if (dataset.value === void 0) {\n          dataset.typed = true;\n          return dataset;\n        }\n      }\n      return this.wrapped._run(dataset, config2);\n    }\n  };\n  if (0 in args) {\n    schema.default = args[0];\n  }\n  return schema;\n}\n\n// src/schemas/optional/optionalAsync.ts\nfunction optionalAsync(wrapped, ...args) {\n  const schema = {\n    kind: \"schema\",\n    type: \"optional\",\n    reference: optionalAsync,\n    expects: `${wrapped.expects} | undefined`,\n    async: true,\n    wrapped,\n    async _run(dataset, config2) {\n      if (dataset.value === void 0) {\n        if (\"default\" in this) {\n          dataset.value = await getDefault(\n            this,\n            dataset,\n            config2\n          );\n        }\n        if (dataset.value === void 0) {\n          dataset.typed = true;\n          return dataset;\n        }\n      }\n      return this.wrapped._run(dataset, config2);\n    }\n  };\n  if (0 in args) {\n    schema.default = args[0];\n  }\n  return schema;\n}\n\n// src/schemas/picklist/picklist.ts\nfunction picklist(options, message) {\n  return {\n    kind: \"schema\",\n    type: \"picklist\",\n    reference: picklist,\n    expects: options.map(_stringify).join(\" | \") || \"never\",\n    async: false,\n    options,\n    message,\n    _run(dataset, config2) {\n      if (this.options.includes(dataset.value)) {\n        dataset.typed = true;\n      } else {\n        _addIssue(this, \"type\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/schemas/promise/promise.ts\nfunction promise(message) {\n  return {\n    kind: \"schema\",\n    type: \"promise\",\n    reference: promise,\n    expects: \"Promise\",\n    async: false,\n    message,\n    _run(dataset, config2) {\n      if (dataset.value instanceof Promise) {\n        dataset.typed = true;\n      } else {\n        _addIssue(this, \"type\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/schemas/record/record.ts\nfunction record(key, value2, message) {\n  return {\n    kind: \"schema\",\n    type: \"record\",\n    reference: record,\n    expects: \"Object\",\n    async: false,\n    key,\n    value: value2,\n    message,\n    _run(dataset, config2) {\n      const input = dataset.value;\n      if (input && typeof input === \"object\") {\n        dataset.typed = true;\n        dataset.value = {};\n        for (const entryKey in input) {\n          if (_isValidObjectKey(input, entryKey)) {\n            const entryValue = input[entryKey];\n            const keyDataset = this.key._run(\n              { typed: false, value: entryKey },\n              config2\n            );\n            if (keyDataset.issues) {\n              const pathItem = {\n                type: \"object\",\n                origin: \"key\",\n                input,\n                key: entryKey,\n                value: entryValue\n              };\n              for (const issue of keyDataset.issues) {\n                issue.path = [pathItem];\n                dataset.issues?.push(issue);\n              }\n              if (!dataset.issues) {\n                dataset.issues = keyDataset.issues;\n              }\n              if (config2.abortEarly) {\n                dataset.typed = false;\n                break;\n              }\n            }\n            const valueDataset = this.value._run(\n              { typed: false, value: entryValue },\n              config2\n            );\n            if (valueDataset.issues) {\n              const pathItem = {\n                type: \"object\",\n                origin: \"value\",\n                input,\n                key: entryKey,\n                value: entryValue\n              };\n              for (const issue of valueDataset.issues) {\n                if (issue.path) {\n                  issue.path.unshift(pathItem);\n                } else {\n                  issue.path = [pathItem];\n                }\n                dataset.issues?.push(issue);\n              }\n              if (!dataset.issues) {\n                dataset.issues = valueDataset.issues;\n              }\n              if (config2.abortEarly) {\n                dataset.typed = false;\n                break;\n              }\n            }\n            if (!keyDataset.typed || !valueDataset.typed) {\n              dataset.typed = false;\n            }\n            if (keyDataset.typed) {\n              dataset.value[keyDataset.value] = valueDataset.value;\n            }\n          }\n        }\n      } else {\n        _addIssue(this, \"type\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/schemas/record/recordAsync.ts\nfunction recordAsync(key, value2, message) {\n  return {\n    kind: \"schema\",\n    type: \"record\",\n    reference: recordAsync,\n    expects: \"Object\",\n    async: true,\n    key,\n    value: value2,\n    message,\n    async _run(dataset, config2) {\n      const input = dataset.value;\n      if (input && typeof input === \"object\") {\n        dataset.typed = true;\n        dataset.value = {};\n        const datasets = await Promise.all(\n          Object.entries(input).filter(([key2]) => _isValidObjectKey(input, key2)).map(\n            ([entryKey, entryValue]) => Promise.all([\n              entryKey,\n              entryValue,\n              this.key._run({ typed: false, value: entryKey }, config2),\n              this.value._run({ typed: false, value: entryValue }, config2)\n            ])\n          )\n        );\n        for (const [\n          entryKey,\n          entryValue,\n          keyDataset,\n          valueDataset\n        ] of datasets) {\n          if (keyDataset.issues) {\n            const pathItem = {\n              type: \"object\",\n              origin: \"key\",\n              input,\n              key: entryKey,\n              value: entryValue\n            };\n            for (const issue of keyDataset.issues) {\n              issue.path = [pathItem];\n              dataset.issues?.push(issue);\n            }\n            if (!dataset.issues) {\n              dataset.issues = keyDataset.issues;\n            }\n            if (config2.abortEarly) {\n              dataset.typed = false;\n              break;\n            }\n          }\n          if (valueDataset.issues) {\n            const pathItem = {\n              type: \"object\",\n              origin: \"value\",\n              input,\n              key: entryKey,\n              value: entryValue\n            };\n            for (const issue of valueDataset.issues) {\n              if (issue.path) {\n                issue.path.unshift(pathItem);\n              } else {\n                issue.path = [pathItem];\n              }\n              dataset.issues?.push(issue);\n            }\n            if (!dataset.issues) {\n              dataset.issues = valueDataset.issues;\n            }\n            if (config2.abortEarly) {\n              dataset.typed = false;\n              break;\n            }\n          }\n          if (!keyDataset.typed || !valueDataset.typed) {\n            dataset.typed = false;\n          }\n          if (keyDataset.typed) {\n            dataset.value[keyDataset.value] = valueDataset.value;\n          }\n        }\n      } else {\n        _addIssue(this, \"type\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/schemas/set/set.ts\nfunction set(value2, message) {\n  return {\n    kind: \"schema\",\n    type: \"set\",\n    reference: set,\n    expects: \"Set\",\n    async: false,\n    value: value2,\n    message,\n    _run(dataset, config2) {\n      const input = dataset.value;\n      if (input instanceof Set) {\n        dataset.typed = true;\n        dataset.value = /* @__PURE__ */ new Set();\n        for (const inputValue of input) {\n          const valueDataset = this.value._run(\n            { typed: false, value: inputValue },\n            config2\n          );\n          if (valueDataset.issues) {\n            const pathItem = {\n              type: \"set\",\n              origin: \"value\",\n              input,\n              key: null,\n              value: inputValue\n            };\n            for (const issue of valueDataset.issues) {\n              if (issue.path) {\n                issue.path.unshift(pathItem);\n              } else {\n                issue.path = [pathItem];\n              }\n              dataset.issues?.push(issue);\n            }\n            if (!dataset.issues) {\n              dataset.issues = valueDataset.issues;\n            }\n            if (config2.abortEarly) {\n              dataset.typed = false;\n              break;\n            }\n          }\n          if (!valueDataset.typed) {\n            dataset.typed = false;\n          }\n          dataset.value.add(valueDataset.value);\n        }\n      } else {\n        _addIssue(this, \"type\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/schemas/set/setAsync.ts\nfunction setAsync(value2, message) {\n  return {\n    kind: \"schema\",\n    type: \"set\",\n    reference: setAsync,\n    expects: \"Set\",\n    async: true,\n    value: value2,\n    message,\n    async _run(dataset, config2) {\n      const input = dataset.value;\n      if (input instanceof Set) {\n        dataset.typed = true;\n        dataset.value = /* @__PURE__ */ new Set();\n        const valueDatasets = await Promise.all(\n          [...input].map(\n            async (inputValue) => [\n              inputValue,\n              await this.value._run(\n                { typed: false, value: inputValue },\n                config2\n              )\n            ]\n          )\n        );\n        for (const [inputValue, valueDataset] of valueDatasets) {\n          if (valueDataset.issues) {\n            const pathItem = {\n              type: \"set\",\n              origin: \"value\",\n              input,\n              key: null,\n              value: inputValue\n            };\n            for (const issue of valueDataset.issues) {\n              if (issue.path) {\n                issue.path.unshift(pathItem);\n              } else {\n                issue.path = [pathItem];\n              }\n              dataset.issues?.push(issue);\n            }\n            if (!dataset.issues) {\n              dataset.issues = valueDataset.issues;\n            }\n            if (config2.abortEarly) {\n              dataset.typed = false;\n              break;\n            }\n          }\n          if (!valueDataset.typed) {\n            dataset.typed = false;\n          }\n          dataset.value.add(valueDataset.value);\n        }\n      } else {\n        _addIssue(this, \"type\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/schemas/strictObject/strictObject.ts\nfunction strictObject(entries, message) {\n  return {\n    kind: \"schema\",\n    type: \"strict_object\",\n    reference: strictObject,\n    expects: \"Object\",\n    async: false,\n    entries,\n    message,\n    _run(dataset, config2) {\n      const input = dataset.value;\n      if (input && typeof input === \"object\") {\n        dataset.typed = true;\n        dataset.value = {};\n        for (const key in this.entries) {\n          const value2 = input[key];\n          const valueDataset = this.entries[key]._run(\n            { typed: false, value: value2 },\n            config2\n          );\n          if (valueDataset.issues) {\n            const pathItem = {\n              type: \"object\",\n              origin: \"value\",\n              input,\n              key,\n              value: value2\n            };\n            for (const issue of valueDataset.issues) {\n              if (issue.path) {\n                issue.path.unshift(pathItem);\n              } else {\n                issue.path = [pathItem];\n              }\n              dataset.issues?.push(issue);\n            }\n            if (!dataset.issues) {\n              dataset.issues = valueDataset.issues;\n            }\n            if (config2.abortEarly) {\n              dataset.typed = false;\n              break;\n            }\n          }\n          if (!valueDataset.typed) {\n            dataset.typed = false;\n          }\n          if (valueDataset.value !== void 0 || key in input) {\n            dataset.value[key] = valueDataset.value;\n          }\n        }\n        if (!dataset.issues || !config2.abortEarly) {\n          for (const key in input) {\n            if (!(key in this.entries)) {\n              const value2 = input[key];\n              _addIssue(this, \"type\", dataset, config2, {\n                input: value2,\n                expected: \"never\",\n                path: [\n                  {\n                    type: \"object\",\n                    origin: \"value\",\n                    input,\n                    key,\n                    value: value2\n                  }\n                ]\n              });\n              break;\n            }\n          }\n        }\n      } else {\n        _addIssue(this, \"type\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/schemas/strictObject/strictObjectAsync.ts\nfunction strictObjectAsync(entries, message) {\n  return {\n    kind: \"schema\",\n    type: \"strict_object\",\n    reference: strictObjectAsync,\n    expects: \"Object\",\n    async: true,\n    entries,\n    message,\n    async _run(dataset, config2) {\n      const input = dataset.value;\n      if (input && typeof input === \"object\") {\n        dataset.typed = true;\n        dataset.value = {};\n        const valueDatasets = await Promise.all(\n          Object.entries(this.entries).map(async ([key, schema]) => {\n            const value2 = input[key];\n            return [\n              key,\n              value2,\n              await schema._run({ typed: false, value: value2 }, config2)\n            ];\n          })\n        );\n        for (const [key, value2, valueDataset] of valueDatasets) {\n          if (valueDataset.issues) {\n            const pathItem = {\n              type: \"object\",\n              origin: \"value\",\n              input,\n              key,\n              value: value2\n            };\n            for (const issue of valueDataset.issues) {\n              if (issue.path) {\n                issue.path.unshift(pathItem);\n              } else {\n                issue.path = [pathItem];\n              }\n              dataset.issues?.push(issue);\n            }\n            if (!dataset.issues) {\n              dataset.issues = valueDataset.issues;\n            }\n            if (config2.abortEarly) {\n              dataset.typed = false;\n              break;\n            }\n          }\n          if (!valueDataset.typed) {\n            dataset.typed = false;\n          }\n          if (valueDataset.value !== void 0 || key in input) {\n            dataset.value[key] = valueDataset.value;\n          }\n        }\n        if (!dataset.issues || !config2.abortEarly) {\n          for (const key in input) {\n            if (!(key in this.entries)) {\n              const value2 = input[key];\n              _addIssue(this, \"type\", dataset, config2, {\n                input: value2,\n                expected: \"never\",\n                path: [\n                  {\n                    type: \"object\",\n                    origin: \"value\",\n                    input,\n                    key,\n                    value: value2\n                  }\n                ]\n              });\n              break;\n            }\n          }\n        }\n      } else {\n        _addIssue(this, \"type\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/schemas/strictTuple/strictTuple.ts\nfunction strictTuple(items, message) {\n  return {\n    kind: \"schema\",\n    type: \"strict_tuple\",\n    reference: strictTuple,\n    expects: \"Array\",\n    async: false,\n    items,\n    message,\n    _run(dataset, config2) {\n      const input = dataset.value;\n      if (Array.isArray(input)) {\n        dataset.typed = true;\n        dataset.value = [];\n        for (let key = 0; key < this.items.length; key++) {\n          const value2 = input[key];\n          const itemDataset = this.items[key]._run(\n            { typed: false, value: value2 },\n            config2\n          );\n          if (itemDataset.issues) {\n            const pathItem = {\n              type: \"array\",\n              origin: \"value\",\n              input,\n              key,\n              value: value2\n            };\n            for (const issue of itemDataset.issues) {\n              if (issue.path) {\n                issue.path.unshift(pathItem);\n              } else {\n                issue.path = [pathItem];\n              }\n              dataset.issues?.push(issue);\n            }\n            if (!dataset.issues) {\n              dataset.issues = itemDataset.issues;\n            }\n            if (config2.abortEarly) {\n              dataset.typed = false;\n              break;\n            }\n          }\n          if (!itemDataset.typed) {\n            dataset.typed = false;\n          }\n          dataset.value.push(itemDataset.value);\n        }\n        if (!(dataset.issues && config2.abortEarly) && this.items.length < input.length) {\n          const value2 = input[items.length];\n          _addIssue(this, \"type\", dataset, config2, {\n            input: value2,\n            expected: \"never\",\n            path: [\n              {\n                type: \"array\",\n                origin: \"value\",\n                input,\n                key: this.items.length,\n                value: value2\n              }\n            ]\n          });\n        }\n      } else {\n        _addIssue(this, \"type\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/schemas/strictTuple/strictTupleAsync.ts\nfunction strictTupleAsync(items, message) {\n  return {\n    kind: \"schema\",\n    type: \"strict_tuple\",\n    reference: strictTupleAsync,\n    expects: \"Array\",\n    async: true,\n    items,\n    message,\n    async _run(dataset, config2) {\n      const input = dataset.value;\n      if (Array.isArray(input)) {\n        dataset.typed = true;\n        dataset.value = [];\n        const itemDatasets = await Promise.all(\n          this.items.map(async (item, key) => {\n            const value2 = input[key];\n            return [\n              key,\n              value2,\n              await item._run({ typed: false, value: value2 }, config2)\n            ];\n          })\n        );\n        for (const [key, value2, itemDataset] of itemDatasets) {\n          if (itemDataset.issues) {\n            const pathItem = {\n              type: \"array\",\n              origin: \"value\",\n              input,\n              key,\n              value: value2\n            };\n            for (const issue of itemDataset.issues) {\n              if (issue.path) {\n                issue.path.unshift(pathItem);\n              } else {\n                issue.path = [pathItem];\n              }\n              dataset.issues?.push(issue);\n            }\n            if (!dataset.issues) {\n              dataset.issues = itemDataset.issues;\n            }\n            if (config2.abortEarly) {\n              dataset.typed = false;\n              break;\n            }\n          }\n          if (!itemDataset.typed) {\n            dataset.typed = false;\n          }\n          dataset.value.push(itemDataset.value);\n        }\n        if (!(dataset.issues && config2.abortEarly) && this.items.length < input.length) {\n          const value2 = input[items.length];\n          _addIssue(this, \"type\", dataset, config2, {\n            input: value2,\n            expected: \"never\",\n            path: [\n              {\n                type: \"array\",\n                origin: \"value\",\n                input,\n                key: this.items.length,\n                value: value2\n              }\n            ]\n          });\n        }\n      } else {\n        _addIssue(this, \"type\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/schemas/string/string.ts\nfunction string(message) {\n  return {\n    kind: \"schema\",\n    type: \"string\",\n    reference: string,\n    expects: \"string\",\n    async: false,\n    message,\n    _run(dataset, config2) {\n      if (typeof dataset.value === \"string\") {\n        dataset.typed = true;\n      } else {\n        _addIssue(this, \"type\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/schemas/symbol/symbol.ts\nfunction symbol(message) {\n  return {\n    kind: \"schema\",\n    type: \"symbol\",\n    reference: symbol,\n    expects: \"symbol\",\n    async: false,\n    message,\n    _run(dataset, config2) {\n      if (typeof dataset.value === \"symbol\") {\n        dataset.typed = true;\n      } else {\n        _addIssue(this, \"type\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/schemas/tuple/tuple.ts\nfunction tuple(items, message) {\n  return {\n    kind: \"schema\",\n    type: \"tuple\",\n    reference: tuple,\n    expects: \"Array\",\n    async: false,\n    items,\n    message,\n    _run(dataset, config2) {\n      const input = dataset.value;\n      if (Array.isArray(input)) {\n        dataset.typed = true;\n        dataset.value = [];\n        for (let key = 0; key < this.items.length; key++) {\n          const value2 = input[key];\n          const itemDataset = this.items[key]._run(\n            { typed: false, value: value2 },\n            config2\n          );\n          if (itemDataset.issues) {\n            const pathItem = {\n              type: \"array\",\n              origin: \"value\",\n              input,\n              key,\n              value: value2\n            };\n            for (const issue of itemDataset.issues) {\n              if (issue.path) {\n                issue.path.unshift(pathItem);\n              } else {\n                issue.path = [pathItem];\n              }\n              dataset.issues?.push(issue);\n            }\n            if (!dataset.issues) {\n              dataset.issues = itemDataset.issues;\n            }\n            if (config2.abortEarly) {\n              dataset.typed = false;\n              break;\n            }\n          }\n          if (!itemDataset.typed) {\n            dataset.typed = false;\n          }\n          dataset.value.push(itemDataset.value);\n        }\n      } else {\n        _addIssue(this, \"type\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/schemas/tuple/tupleAsync.ts\nfunction tupleAsync(items, message) {\n  return {\n    kind: \"schema\",\n    type: \"tuple\",\n    reference: tupleAsync,\n    expects: \"Array\",\n    async: true,\n    items,\n    message,\n    async _run(dataset, config2) {\n      const input = dataset.value;\n      if (Array.isArray(input)) {\n        dataset.typed = true;\n        dataset.value = [];\n        const itemDatasets = await Promise.all(\n          this.items.map(async (item, key) => {\n            const value2 = input[key];\n            return [\n              key,\n              value2,\n              await item._run({ typed: false, value: value2 }, config2)\n            ];\n          })\n        );\n        for (const [key, value2, itemDataset] of itemDatasets) {\n          if (itemDataset.issues) {\n            const pathItem = {\n              type: \"array\",\n              origin: \"value\",\n              input,\n              key,\n              value: value2\n            };\n            for (const issue of itemDataset.issues) {\n              if (issue.path) {\n                issue.path.unshift(pathItem);\n              } else {\n                issue.path = [pathItem];\n              }\n              dataset.issues?.push(issue);\n            }\n            if (!dataset.issues) {\n              dataset.issues = itemDataset.issues;\n            }\n            if (config2.abortEarly) {\n              dataset.typed = false;\n              break;\n            }\n          }\n          if (!itemDataset.typed) {\n            dataset.typed = false;\n          }\n          dataset.value.push(itemDataset.value);\n        }\n      } else {\n        _addIssue(this, \"type\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/schemas/tupleWithRest/tupleWithRest.ts\nfunction tupleWithRest(items, rest, message) {\n  return {\n    kind: \"schema\",\n    type: \"tuple_with_rest\",\n    reference: tupleWithRest,\n    expects: \"Array\",\n    async: false,\n    items,\n    rest,\n    message,\n    _run(dataset, config2) {\n      const input = dataset.value;\n      if (Array.isArray(input)) {\n        dataset.typed = true;\n        dataset.value = [];\n        for (let key = 0; key < this.items.length; key++) {\n          const value2 = input[key];\n          const itemDataset = this.items[key]._run(\n            { typed: false, value: value2 },\n            config2\n          );\n          if (itemDataset.issues) {\n            const pathItem = {\n              type: \"array\",\n              origin: \"value\",\n              input,\n              key,\n              value: value2\n            };\n            for (const issue of itemDataset.issues) {\n              if (issue.path) {\n                issue.path.unshift(pathItem);\n              } else {\n                issue.path = [pathItem];\n              }\n              dataset.issues?.push(issue);\n            }\n            if (!dataset.issues) {\n              dataset.issues = itemDataset.issues;\n            }\n            if (config2.abortEarly) {\n              dataset.typed = false;\n              break;\n            }\n          }\n          if (!itemDataset.typed) {\n            dataset.typed = false;\n          }\n          dataset.value.push(itemDataset.value);\n        }\n        if (!dataset.issues || !config2.abortEarly) {\n          for (let key = this.items.length; key < input.length; key++) {\n            const value2 = input[key];\n            const itemDataset = this.rest._run({ typed: false, value: value2 }, config2);\n            if (itemDataset.issues) {\n              const pathItem = {\n                type: \"array\",\n                origin: \"value\",\n                input,\n                key,\n                value: value2\n              };\n              for (const issue of itemDataset.issues) {\n                if (issue.path) {\n                  issue.path.unshift(pathItem);\n                } else {\n                  issue.path = [pathItem];\n                }\n                dataset.issues?.push(issue);\n              }\n              if (!dataset.issues) {\n                dataset.issues = itemDataset.issues;\n              }\n              if (config2.abortEarly) {\n                dataset.typed = false;\n                break;\n              }\n            }\n            if (!itemDataset.typed) {\n              dataset.typed = false;\n            }\n            dataset.value.push(itemDataset.value);\n          }\n        }\n      } else {\n        _addIssue(this, \"type\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/schemas/tupleWithRest/tupleWithRestAsync.ts\nfunction tupleWithRestAsync(items, rest, message) {\n  return {\n    kind: \"schema\",\n    type: \"tuple_with_rest\",\n    reference: tupleWithRestAsync,\n    expects: \"Array\",\n    async: true,\n    items,\n    rest,\n    message,\n    async _run(dataset, config2) {\n      const input = dataset.value;\n      if (Array.isArray(input)) {\n        dataset.typed = true;\n        dataset.value = [];\n        const [normalDatasets, restDatasets] = await Promise.all([\n          // Parse schema of each normal item\n          Promise.all(\n            this.items.map(async (item, key) => {\n              const value2 = input[key];\n              return [\n                key,\n                value2,\n                await item._run({ typed: false, value: value2 }, config2)\n              ];\n            })\n          ),\n          // Parse other items with rest schema\n          Promise.all(\n            input.slice(this.items.length).map(async (value2, key) => {\n              return [\n                key + this.items.length,\n                value2,\n                await this.rest._run({ typed: false, value: value2 }, config2)\n              ];\n            })\n          )\n        ]);\n        for (const [key, value2, itemDataset] of normalDatasets) {\n          if (itemDataset.issues) {\n            const pathItem = {\n              type: \"array\",\n              origin: \"value\",\n              input,\n              key,\n              value: value2\n            };\n            for (const issue of itemDataset.issues) {\n              if (issue.path) {\n                issue.path.unshift(pathItem);\n              } else {\n                issue.path = [pathItem];\n              }\n              dataset.issues?.push(issue);\n            }\n            if (!dataset.issues) {\n              dataset.issues = itemDataset.issues;\n            }\n            if (config2.abortEarly) {\n              dataset.typed = false;\n              break;\n            }\n          }\n          if (!itemDataset.typed) {\n            dataset.typed = false;\n          }\n          dataset.value.push(itemDataset.value);\n        }\n        if (!dataset.issues || !config2.abortEarly) {\n          for (const [key, value2, itemDataset] of restDatasets) {\n            if (itemDataset.issues) {\n              const pathItem = {\n                type: \"array\",\n                origin: \"value\",\n                input,\n                key,\n                value: value2\n              };\n              for (const issue of itemDataset.issues) {\n                if (issue.path) {\n                  issue.path.unshift(pathItem);\n                } else {\n                  issue.path = [pathItem];\n                }\n                dataset.issues?.push(issue);\n              }\n              if (!dataset.issues) {\n                dataset.issues = itemDataset.issues;\n              }\n              if (config2.abortEarly) {\n                dataset.typed = false;\n                break;\n              }\n            }\n            if (!itemDataset.typed) {\n              dataset.typed = false;\n            }\n            dataset.value.push(itemDataset.value);\n          }\n        }\n      } else {\n        _addIssue(this, \"type\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/schemas/undefined/undefined.ts\nfunction undefined_(message) {\n  return {\n    kind: \"schema\",\n    type: \"undefined\",\n    reference: undefined_,\n    expects: \"undefined\",\n    async: false,\n    message,\n    _run(dataset, config2) {\n      if (dataset.value === void 0) {\n        dataset.typed = true;\n      } else {\n        _addIssue(this, \"type\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/schemas/union/utils/_subIssues/_subIssues.ts\nfunction _subIssues(datasets) {\n  let issues;\n  if (datasets) {\n    for (const dataset of datasets) {\n      if (issues) {\n        issues.push(...dataset.issues);\n      } else {\n        issues = dataset.issues;\n      }\n    }\n  }\n  return issues;\n}\n\n// src/schemas/union/union.ts\nfunction union(options, message) {\n  return {\n    kind: \"schema\",\n    type: \"union\",\n    reference: union,\n    expects: [...new Set(options.map((option) => option.expects))].join(\" | \") || \"never\",\n    async: false,\n    options,\n    message,\n    _run(dataset, config2) {\n      let validDataset;\n      let typedDatasets;\n      let untypedDatasets;\n      for (const schema of this.options) {\n        const optionDataset = schema._run(\n          { typed: false, value: dataset.value },\n          config2\n        );\n        if (optionDataset.typed) {\n          if (optionDataset.issues) {\n            if (typedDatasets) {\n              typedDatasets.push(optionDataset);\n            } else {\n              typedDatasets = [optionDataset];\n            }\n          } else {\n            validDataset = optionDataset;\n            break;\n          }\n        } else {\n          if (untypedDatasets) {\n            untypedDatasets.push(optionDataset);\n          } else {\n            untypedDatasets = [optionDataset];\n          }\n        }\n      }\n      if (validDataset) {\n        return validDataset;\n      }\n      if (typedDatasets) {\n        if (typedDatasets.length === 1) {\n          return typedDatasets[0];\n        }\n        _addIssue(this, \"type\", dataset, config2, {\n          issues: _subIssues(typedDatasets)\n        });\n        dataset.typed = true;\n      } else if (untypedDatasets?.length === 1) {\n        return untypedDatasets[0];\n      } else {\n        _addIssue(this, \"type\", dataset, config2, {\n          issues: _subIssues(untypedDatasets)\n        });\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/schemas/union/unionAsync.ts\nfunction unionAsync(options, message) {\n  return {\n    kind: \"schema\",\n    type: \"union\",\n    reference: unionAsync,\n    expects: [...new Set(options.map((option) => option.expects))].join(\" | \") || \"never\",\n    async: true,\n    options,\n    message,\n    async _run(dataset, config2) {\n      let validDataset;\n      let typedDatasets;\n      let untypedDatasets;\n      for (const schema of this.options) {\n        const optionDataset = await schema._run(\n          { typed: false, value: dataset.value },\n          config2\n        );\n        if (optionDataset.typed) {\n          if (optionDataset.issues) {\n            if (typedDatasets) {\n              typedDatasets.push(optionDataset);\n            } else {\n              typedDatasets = [optionDataset];\n            }\n          } else {\n            validDataset = optionDataset;\n            break;\n          }\n        } else {\n          if (untypedDatasets) {\n            untypedDatasets.push(optionDataset);\n          } else {\n            untypedDatasets = [optionDataset];\n          }\n        }\n      }\n      if (validDataset) {\n        return validDataset;\n      }\n      if (typedDatasets) {\n        if (typedDatasets.length === 1) {\n          return typedDatasets[0];\n        }\n        _addIssue(this, \"type\", dataset, config2, {\n          issues: _subIssues(typedDatasets)\n        });\n        dataset.typed = true;\n      } else if (untypedDatasets?.length === 1) {\n        return untypedDatasets[0];\n      } else {\n        _addIssue(this, \"type\", dataset, config2, {\n          issues: _subIssues(untypedDatasets)\n        });\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/schemas/unknown/unknown.ts\nfunction unknown() {\n  return {\n    kind: \"schema\",\n    type: \"unknown\",\n    reference: unknown,\n    expects: \"unknown\",\n    async: false,\n    _run(dataset) {\n      dataset.typed = true;\n      return dataset;\n    }\n  };\n}\n\n// src/schemas/variant/utils/_discriminators/_discriminators.ts\nfunction _discriminators(key, options, set2 = /* @__PURE__ */ new Set()) {\n  for (const schema of options) {\n    if (schema.type === \"variant\") {\n      _discriminators(key, schema.options, set2);\n    } else {\n      set2.add(schema.entries[key].expects);\n    }\n  }\n  return set2;\n}\n\n// src/schemas/variant/variant.ts\nfunction variant(key, options, message) {\n  let expectedDiscriminators;\n  return {\n    kind: \"schema\",\n    type: \"variant\",\n    reference: variant,\n    expects: \"Object\",\n    async: false,\n    key,\n    options,\n    message,\n    _run(dataset, config2) {\n      const input = dataset.value;\n      if (input && typeof input === \"object\") {\n        const discriminator = input[this.key];\n        if (this.key in input) {\n          let outputDataset;\n          for (const schema of this.options) {\n            if (schema.type === \"variant\" || !schema.entries[this.key]._run(\n              { typed: false, value: discriminator },\n              config2\n            ).issues) {\n              const optionDataset = schema._run(\n                { typed: false, value: input },\n                config2\n              );\n              if (!optionDataset.issues) {\n                return optionDataset;\n              }\n              if (!outputDataset || !outputDataset.typed && optionDataset.typed) {\n                outputDataset = optionDataset;\n              }\n            }\n          }\n          if (outputDataset) {\n            return outputDataset;\n          }\n        }\n        if (!expectedDiscriminators) {\n          expectedDiscriminators = [..._discriminators(this.key, this.options)].join(\" | \") || \"never\";\n        }\n        _addIssue(this, \"type\", dataset, config2, {\n          input: discriminator,\n          expected: expectedDiscriminators,\n          path: [\n            {\n              type: \"object\",\n              origin: \"value\",\n              input,\n              key: this.key,\n              value: discriminator\n            }\n          ]\n        });\n      } else {\n        _addIssue(this, \"type\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/schemas/variant/variantAsync.ts\nfunction variantAsync(key, options, message) {\n  let expectedDiscriminators;\n  return {\n    kind: \"schema\",\n    type: \"variant\",\n    reference: variantAsync,\n    expects: \"Object\",\n    async: true,\n    key,\n    options,\n    message,\n    async _run(dataset, config2) {\n      const input = dataset.value;\n      if (input && typeof input === \"object\") {\n        const discriminator = input[this.key];\n        if (this.key in input) {\n          let outputDataset;\n          for (const schema of this.options) {\n            if (schema.type === \"variant\" || !(await schema.entries[this.key]._run(\n              { typed: false, value: discriminator },\n              config2\n            )).issues) {\n              const optionDataset = await schema._run(\n                { typed: false, value: input },\n                config2\n              );\n              if (!optionDataset.issues) {\n                return optionDataset;\n              }\n              if (!outputDataset || !outputDataset.typed && optionDataset.typed) {\n                outputDataset = optionDataset;\n              }\n            }\n          }\n          if (outputDataset) {\n            return outputDataset;\n          }\n        }\n        if (!expectedDiscriminators) {\n          expectedDiscriminators = [..._discriminators(this.key, this.options)].join(\" | \") || \"never\";\n        }\n        _addIssue(this, \"type\", dataset, config2, {\n          input: discriminator,\n          expected: expectedDiscriminators,\n          path: [\n            {\n              type: \"object\",\n              origin: \"value\",\n              input,\n              key: this.key,\n              value: discriminator\n            }\n          ]\n        });\n      } else {\n        _addIssue(this, \"type\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/schemas/void/void.ts\nfunction void_(message) {\n  return {\n    kind: \"schema\",\n    type: \"void\",\n    reference: void_,\n    expects: \"void\",\n    async: false,\n    message,\n    _run(dataset, config2) {\n      if (dataset.value === void 0) {\n        dataset.typed = true;\n      } else {\n        _addIssue(this, \"type\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/methods/keyof/keyof.ts\nfunction keyof(schema, message) {\n  return picklist(Object.keys(schema.entries), message);\n}\n\n// src/methods/omit/omit.ts\nfunction omit(schema, keys) {\n  const entries = {\n    ...schema.entries\n  };\n  for (const key of keys) {\n    delete entries[key];\n  }\n  return { ...schema, entries };\n}\n\n// src/methods/parse/parse.ts\nfunction parse(schema, input, config2) {\n  const dataset = schema._run(\n    { typed: false, value: input },\n    getGlobalConfig(config2)\n  );\n  if (dataset.issues) {\n    throw new ValiError(dataset.issues);\n  }\n  return dataset.value;\n}\n\n// src/methods/parse/parseAsync.ts\nasync function parseAsync(schema, input, config2) {\n  const dataset = await schema._run(\n    { typed: false, value: input },\n    getGlobalConfig(config2)\n  );\n  if (dataset.issues) {\n    throw new ValiError(dataset.issues);\n  }\n  return dataset.value;\n}\n\n// src/methods/parser/parser.ts\nfunction parser(schema, config2) {\n  const func = (input) => parse(schema, input, config2);\n  func.schema = schema;\n  func.config = config2;\n  return func;\n}\n\n// src/methods/parser/parserAsync.ts\nfunction parserAsync(schema, config2) {\n  const func = (input) => parseAsync(schema, input, config2);\n  func.schema = schema;\n  func.config = config2;\n  return func;\n}\n\n// src/methods/partial/partial.ts\nfunction partial(schema, keys) {\n  const entries = {};\n  for (const key in schema.entries) {\n    entries[key] = !keys || keys.includes(key) ? optional(schema.entries[key]) : schema.entries[key];\n  }\n  return { ...schema, entries };\n}\n\n// src/methods/partial/partialAsync.ts\nfunction partialAsync(schema, keys) {\n  const entries = {};\n  for (const key in schema.entries) {\n    entries[key] = !keys || keys.includes(key) ? optionalAsync(schema.entries[key]) : schema.entries[key];\n  }\n  return { ...schema, entries };\n}\n\n// src/methods/pick/pick.ts\nfunction pick(schema, keys) {\n  const entries = {};\n  for (const key of keys) {\n    entries[key] = schema.entries[key];\n  }\n  return { ...schema, entries };\n}\n\n// src/methods/pipe/pipe.ts\nfunction pipe(...pipe2) {\n  return {\n    ...pipe2[0],\n    pipe: pipe2,\n    _run(dataset, config2) {\n      for (let index = 0; index < pipe2.length; index++) {\n        if (dataset.issues && (pipe2[index].kind === \"schema\" || pipe2[index].kind === \"transformation\")) {\n          dataset.typed = false;\n          break;\n        }\n        if (!dataset.issues || !config2.abortEarly && !config2.abortPipeEarly) {\n          dataset = pipe2[index]._run(dataset, config2);\n        }\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/methods/pipe/pipeAsync.ts\nfunction pipeAsync(...pipe2) {\n  return {\n    ...pipe2[0],\n    pipe: pipe2,\n    async: true,\n    async _run(dataset, config2) {\n      for (let index = 0; index < pipe2.length; index++) {\n        if (dataset.issues && (pipe2[index].kind === \"schema\" || pipe2[index].kind === \"transformation\")) {\n          dataset.typed = false;\n          break;\n        }\n        if (!dataset.issues || !config2.abortEarly && !config2.abortPipeEarly) {\n          dataset = await pipe2[index]._run(dataset, config2);\n        }\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/methods/required/required.ts\nfunction required(schema, arg2, arg3) {\n  const keys = Array.isArray(arg2) ? arg2 : void 0;\n  const message = Array.isArray(arg2) ? arg3 : arg2;\n  const entries = {};\n  for (const key in schema.entries) {\n    entries[key] = !keys || keys.includes(key) ? nonOptional(schema.entries[key], message) : schema.entries[key];\n  }\n  return { ...schema, entries };\n}\n\n// src/methods/required/requiredAsync.ts\nfunction requiredAsync(schema, arg2, arg3) {\n  const keys = Array.isArray(arg2) ? arg2 : void 0;\n  const message = Array.isArray(arg2) ? arg3 : arg2;\n  const entries = {};\n  for (const key in schema.entries) {\n    entries[key] = !keys || keys.includes(key) ? nonOptionalAsync(schema.entries[key], message) : schema.entries[key];\n  }\n  return { ...schema, entries };\n}\n\n// src/methods/safeParse/safeParse.ts\nfunction safeParse(schema, input, config2) {\n  const dataset = schema._run(\n    { typed: false, value: input },\n    getGlobalConfig(config2)\n  );\n  return {\n    typed: dataset.typed,\n    success: !dataset.issues,\n    output: dataset.value,\n    issues: dataset.issues\n  };\n}\n\n// src/methods/safeParse/safeParseAsync.ts\nasync function safeParseAsync(schema, input, config2) {\n  const dataset = await schema._run(\n    { typed: false, value: input },\n    getGlobalConfig(config2)\n  );\n  return {\n    typed: dataset.typed,\n    success: !dataset.issues,\n    output: dataset.value,\n    issues: dataset.issues\n  };\n}\n\n// src/methods/safeParser/safeParser.ts\nfunction safeParser(schema, config2) {\n  const func = (input) => safeParse(schema, input, config2);\n  func.schema = schema;\n  func.config = config2;\n  return func;\n}\n\n// src/methods/safeParser/safeParserAsync.ts\nfunction safeParserAsync(schema, config2) {\n  const func = (input) => safeParseAsync(schema, input, config2);\n  func.schema = schema;\n  func.config = config2;\n  return func;\n}\n\n// src/methods/unwrap/unwrap.ts\nfunction unwrap(schema) {\n  return schema.wrapped;\n}\nexport {\n  BIC_REGEX,\n  CUID2_REGEX,\n  DECIMAL_REGEX,\n  EMAIL_REGEX,\n  EMOJI_REGEX,\n  HEXADECIMAL_REGEX,\n  HEX_COLOR_REGEX,\n  IMEI_REGEX,\n  IPV4_REGEX,\n  IPV6_REGEX,\n  IP_REGEX,\n  ISO_DATE_REGEX,\n  ISO_DATE_TIME_REGEX,\n  ISO_TIMESTAMP_REGEX,\n  ISO_TIME_REGEX,\n  ISO_TIME_SECOND_REGEX,\n  ISO_WEEK_REGEX,\n  MAC48_REGEX,\n  MAC64_REGEX,\n  MAC_REGEX,\n  OCTAL_REGEX,\n  ULID_REGEX,\n  UUID_REGEX,\n  ValiError,\n  _addIssue,\n  _isLuhnAlgo,\n  _isValidObjectKey,\n  _stringify,\n  any,\n  array,\n  arrayAsync,\n  awaitAsync,\n  bic,\n  bigint,\n  blob,\n  boolean,\n  brand,\n  bytes,\n  check,\n  checkAsync,\n  checkItems,\n  config,\n  creditCard,\n  cuid2,\n  custom,\n  customAsync,\n  date,\n  decimal,\n  deleteGlobalConfig,\n  deleteGlobalMessage,\n  deleteSchemaMessage,\n  deleteSpecificMessage,\n  email,\n  emoji,\n  empty,\n  endsWith,\n  entriesFromList,\n  enum_ as enum,\n  enum_,\n  everyItem,\n  excludes,\n  fallback,\n  fallbackAsync,\n  file,\n  filterItems,\n  findItem,\n  finite,\n  flatten,\n  forward,\n  forwardAsync,\n  function_ as function,\n  function_,\n  getDefault,\n  getDefaults,\n  getDefaultsAsync,\n  getDotPath,\n  getFallback,\n  getFallbacks,\n  getFallbacksAsync,\n  getGlobalConfig,\n  getGlobalMessage,\n  getSchemaMessage,\n  getSpecificMessage,\n  hash,\n  hexColor,\n  hexadecimal,\n  imei,\n  includes,\n  instance,\n  integer,\n  intersect,\n  intersectAsync,\n  ip,\n  ipv4,\n  ipv6,\n  is,\n  isOfKind,\n  isOfType,\n  isValiError,\n  isoDate,\n  isoDateTime,\n  isoTime,\n  isoTimeSecond,\n  isoTimestamp,\n  isoWeek,\n  keyof,\n  lazy,\n  lazyAsync,\n  length,\n  literal,\n  looseObject,\n  looseObjectAsync,\n  looseTuple,\n  looseTupleAsync,\n  mac,\n  mac48,\n  mac64,\n  map,\n  mapAsync,\n  mapItems,\n  maxBytes,\n  maxLength,\n  maxSize,\n  maxValue,\n  mimeType,\n  minBytes,\n  minLength,\n  minSize,\n  minValue,\n  multipleOf,\n  nan,\n  never,\n  nonEmpty,\n  nonNullable,\n  nonNullableAsync,\n  nonNullish,\n  nonNullishAsync,\n  nonOptional,\n  nonOptionalAsync,\n  normalize,\n  notBytes,\n  notLength,\n  notSize,\n  notValue,\n  null_ as null,\n  null_,\n  nullable,\n  nullableAsync,\n  nullish,\n  nullishAsync,\n  number,\n  object,\n  objectAsync,\n  objectWithRest,\n  objectWithRestAsync,\n  octal,\n  omit,\n  optional,\n  optionalAsync,\n  parse,\n  parseAsync,\n  parser,\n  parserAsync,\n  partial,\n  partialAsync,\n  partialCheck,\n  partialCheckAsync,\n  pick,\n  picklist,\n  pipe,\n  pipeAsync,\n  promise,\n  rawCheck,\n  rawCheckAsync,\n  rawTransform,\n  rawTransformAsync,\n  readonly,\n  record,\n  recordAsync,\n  reduceItems,\n  regex,\n  required,\n  requiredAsync,\n  safeInteger,\n  safeParse,\n  safeParseAsync,\n  safeParser,\n  safeParserAsync,\n  set,\n  setAsync,\n  setGlobalConfig,\n  setGlobalMessage,\n  setSchemaMessage,\n  setSpecificMessage,\n  size,\n  someItem,\n  sortItems,\n  startsWith,\n  strictObject,\n  strictObjectAsync,\n  strictTuple,\n  strictTupleAsync,\n  string,\n  symbol,\n  toLowerCase,\n  toMaxValue,\n  toMinValue,\n  toUpperCase,\n  transform,\n  transformAsync,\n  trim,\n  trimEnd,\n  trimStart,\n  tuple,\n  tupleAsync,\n  tupleWithRest,\n  tupleWithRestAsync,\n  ulid,\n  undefined_ as undefined,\n  undefined_,\n  union,\n  unionAsync,\n  unknown,\n  unwrap,\n  url,\n  uuid,\n  value,\n  variant,\n  variantAsync,\n  void_ as void,\n  void_\n};\n","import {\n  array,\n  boolean,\n  check,\n  integer,\n  lazy,\n  literal,\n  nullable,\n  nullish,\n  number,\n  object,\n  optional,\n  pipe,\n  record,\n  string,\n  transform,\n  tuple,\n  union,\n  unknown\n} from \"valibot\";\nimport { isValidSuiAddress, normalizeSuiAddress } from \"../../utils/sui-types.js\";\nfunction safeEnum(options) {\n  const unionOptions = Object.entries(options).map(([key, value]) => object({ [key]: value }));\n  return pipe(\n    union(unionOptions),\n    transform((value) => ({\n      ...value,\n      $kind: Object.keys(value)[0]\n    }))\n  );\n}\nconst SuiAddress = pipe(\n  string(),\n  transform((value) => normalizeSuiAddress(value)),\n  check(isValidSuiAddress)\n);\nconst ObjectID = SuiAddress;\nconst BCSBytes = string();\nconst JsonU64 = pipe(\n  union([string(), pipe(number(), integer())]),\n  check((val) => {\n    try {\n      BigInt(val);\n      return BigInt(val) >= 0 && BigInt(val) <= 18446744073709551615n;\n    } catch {\n      return false;\n    }\n  }, \"Invalid u64\")\n);\nconst ObjectRef = object({\n  objectId: SuiAddress,\n  version: JsonU64,\n  digest: string()\n});\nconst Argument = pipe(\n  union([\n    object({ GasCoin: literal(true) }),\n    object({ Input: pipe(number(), integer()), type: optional(literal(\"pure\")) }),\n    object({ Input: pipe(number(), integer()), type: optional(literal(\"object\")) }),\n    object({ Result: pipe(number(), integer()) }),\n    object({ NestedResult: tuple([pipe(number(), integer()), pipe(number(), integer())]) })\n  ]),\n  transform((value) => ({\n    ...value,\n    $kind: Object.keys(value)[0]\n  }))\n  // Defined manually to add `type?: 'pure' | 'object'` to Input\n);\nconst GasData = object({\n  budget: nullable(JsonU64),\n  price: nullable(JsonU64),\n  owner: nullable(SuiAddress),\n  payment: nullable(array(ObjectRef))\n});\nconst StructTag = object({\n  address: string(),\n  module: string(),\n  name: string(),\n  // type_params in rust, should be updated to use camelCase\n  typeParams: array(string())\n});\nconst OpenMoveTypeSignatureBody = union([\n  literal(\"address\"),\n  literal(\"bool\"),\n  literal(\"u8\"),\n  literal(\"u16\"),\n  literal(\"u32\"),\n  literal(\"u64\"),\n  literal(\"u128\"),\n  literal(\"u256\"),\n  object({ vector: lazy(() => OpenMoveTypeSignatureBody) }),\n  object({\n    datatype: object({\n      package: string(),\n      module: string(),\n      type: string(),\n      typeParameters: array(lazy(() => OpenMoveTypeSignatureBody))\n    })\n  }),\n  object({ typeParameter: pipe(number(), integer()) })\n]);\nconst OpenMoveTypeSignature = object({\n  ref: nullable(union([literal(\"&\"), literal(\"&mut\")])),\n  body: OpenMoveTypeSignatureBody\n});\nconst ProgrammableMoveCall = object({\n  package: ObjectID,\n  module: string(),\n  function: string(),\n  // snake case in rust\n  typeArguments: array(string()),\n  arguments: array(Argument),\n  _argumentTypes: optional(nullable(array(OpenMoveTypeSignature)))\n});\nconst $Intent = object({\n  name: string(),\n  inputs: record(string(), union([Argument, array(Argument)])),\n  data: record(string(), unknown())\n});\nconst Command = safeEnum({\n  MoveCall: ProgrammableMoveCall,\n  TransferObjects: object({\n    objects: array(Argument),\n    address: Argument\n  }),\n  SplitCoins: object({\n    coin: Argument,\n    amounts: array(Argument)\n  }),\n  MergeCoins: object({\n    destination: Argument,\n    sources: array(Argument)\n  }),\n  Publish: object({\n    modules: array(BCSBytes),\n    dependencies: array(ObjectID)\n  }),\n  MakeMoveVec: object({\n    type: nullable(string()),\n    elements: array(Argument)\n  }),\n  Upgrade: object({\n    modules: array(BCSBytes),\n    dependencies: array(ObjectID),\n    package: ObjectID,\n    ticket: Argument\n  }),\n  $Intent\n});\nconst ObjectArg = safeEnum({\n  ImmOrOwnedObject: ObjectRef,\n  SharedObject: object({\n    objectId: ObjectID,\n    // snake case in rust\n    initialSharedVersion: JsonU64,\n    mutable: boolean()\n  }),\n  Receiving: ObjectRef\n});\nconst CallArg = safeEnum({\n  Object: ObjectArg,\n  Pure: object({\n    bytes: BCSBytes\n  }),\n  UnresolvedPure: object({\n    value: unknown()\n  }),\n  UnresolvedObject: object({\n    objectId: ObjectID,\n    version: optional(nullable(JsonU64)),\n    digest: optional(nullable(string())),\n    initialSharedVersion: optional(nullable(JsonU64))\n  })\n});\nconst NormalizedCallArg = safeEnum({\n  Object: ObjectArg,\n  Pure: object({\n    bytes: BCSBytes\n  })\n});\nconst TransactionExpiration = safeEnum({\n  None: literal(true),\n  Epoch: JsonU64\n});\nconst TransactionData = object({\n  version: literal(2),\n  sender: nullish(SuiAddress),\n  expiration: nullish(TransactionExpiration),\n  gasData: GasData,\n  inputs: array(CallArg),\n  commands: array(Command)\n});\nexport {\n  $Intent,\n  Argument,\n  BCSBytes,\n  Command,\n  GasData,\n  JsonU64,\n  NormalizedCallArg,\n  ObjectArg,\n  ObjectID,\n  ObjectRef,\n  OpenMoveTypeSignature,\n  OpenMoveTypeSignatureBody,\n  StructTag,\n  SuiAddress,\n  TransactionData,\n  TransactionExpiration,\n  safeEnum\n};\n//# sourceMappingURL=internal.js.map\n","import { toBase64 } from \"@mysten/bcs\";\nimport { parse } from \"valibot\";\nimport { normalizeSuiObjectId } from \"../utils/sui-types.js\";\nimport { Argument } from \"./data/internal.js\";\nvar UpgradePolicy = /* @__PURE__ */ ((UpgradePolicy2) => {\n  UpgradePolicy2[UpgradePolicy2[\"COMPATIBLE\"] = 0] = \"COMPATIBLE\";\n  UpgradePolicy2[UpgradePolicy2[\"ADDITIVE\"] = 128] = \"ADDITIVE\";\n  UpgradePolicy2[UpgradePolicy2[\"DEP_ONLY\"] = 192] = \"DEP_ONLY\";\n  return UpgradePolicy2;\n})(UpgradePolicy || {});\nconst Commands = {\n  MoveCall(input) {\n    const [pkg, mod = \"\", fn = \"\"] = \"target\" in input ? input.target.split(\"::\") : [input.package, input.module, input.function];\n    return {\n      $kind: \"MoveCall\",\n      MoveCall: {\n        package: pkg,\n        module: mod,\n        function: fn,\n        typeArguments: input.typeArguments ?? [],\n        arguments: input.arguments ?? []\n      }\n    };\n  },\n  TransferObjects(objects, address) {\n    return {\n      $kind: \"TransferObjects\",\n      TransferObjects: {\n        objects: objects.map((o) => parse(Argument, o)),\n        address: parse(Argument, address)\n      }\n    };\n  },\n  SplitCoins(coin, amounts) {\n    return {\n      $kind: \"SplitCoins\",\n      SplitCoins: {\n        coin: parse(Argument, coin),\n        amounts: amounts.map((o) => parse(Argument, o))\n      }\n    };\n  },\n  MergeCoins(destination, sources) {\n    return {\n      $kind: \"MergeCoins\",\n      MergeCoins: {\n        destination: parse(Argument, destination),\n        sources: sources.map((o) => parse(Argument, o))\n      }\n    };\n  },\n  Publish({\n    modules,\n    dependencies\n  }) {\n    return {\n      $kind: \"Publish\",\n      Publish: {\n        modules: modules.map(\n          (module) => typeof module === \"string\" ? module : toBase64(new Uint8Array(module))\n        ),\n        dependencies: dependencies.map((dep) => normalizeSuiObjectId(dep))\n      }\n    };\n  },\n  Upgrade({\n    modules,\n    dependencies,\n    package: packageId,\n    ticket\n  }) {\n    return {\n      $kind: \"Upgrade\",\n      Upgrade: {\n        modules: modules.map(\n          (module) => typeof module === \"string\" ? module : toBase64(new Uint8Array(module))\n        ),\n        dependencies: dependencies.map((dep) => normalizeSuiObjectId(dep)),\n        package: packageId,\n        ticket: parse(Argument, ticket)\n      }\n    };\n  },\n  MakeMoveVec({\n    type,\n    elements\n  }) {\n    return {\n      $kind: \"MakeMoveVec\",\n      MakeMoveVec: {\n        type: type ?? null,\n        elements: elements.map((o) => parse(Argument, o))\n      }\n    };\n  },\n  Intent({\n    name,\n    inputs = {},\n    data = {}\n  }) {\n    return {\n      $kind: \"$Intent\",\n      $Intent: {\n        name,\n        inputs: Object.fromEntries(\n          Object.entries(inputs).map(([key, value]) => [\n            key,\n            Array.isArray(value) ? value.map((o) => parse(Argument, o)) : parse(Argument, value)\n          ])\n        ),\n        data\n      }\n    };\n  }\n};\nexport {\n  Commands,\n  UpgradePolicy\n};\n//# sourceMappingURL=Commands.js.map\n","import { fromBase64, toBase64 } from \"@mysten/bcs\";\nimport {\n  array,\n  bigint,\n  boolean,\n  check,\n  integer,\n  is,\n  lazy,\n  literal,\n  nullable,\n  nullish,\n  number,\n  object,\n  optional,\n  parse,\n  pipe,\n  string,\n  union,\n  unknown\n} from \"valibot\";\nimport { TypeTagSerializer } from \"../../bcs/index.js\";\nimport { JsonU64, ObjectID, safeEnum, TransactionData } from \"./internal.js\";\nconst ObjectRef = object({\n  digest: string(),\n  objectId: string(),\n  version: union([pipe(number(), integer()), string(), bigint()])\n});\nconst ObjectArg = safeEnum({\n  ImmOrOwned: ObjectRef,\n  Shared: object({\n    objectId: ObjectID,\n    initialSharedVersion: JsonU64,\n    mutable: boolean()\n  }),\n  Receiving: ObjectRef\n});\nconst NormalizedCallArg = safeEnum({\n  Object: ObjectArg,\n  Pure: array(pipe(number(), integer()))\n});\nconst TransactionInput = union([\n  object({\n    kind: literal(\"Input\"),\n    index: pipe(number(), integer()),\n    value: unknown(),\n    type: optional(literal(\"object\"))\n  }),\n  object({\n    kind: literal(\"Input\"),\n    index: pipe(number(), integer()),\n    value: unknown(),\n    type: literal(\"pure\")\n  })\n]);\nconst TransactionExpiration = union([\n  object({ Epoch: pipe(number(), integer()) }),\n  object({ None: nullable(literal(true)) })\n]);\nconst StringEncodedBigint = pipe(\n  union([number(), string(), bigint()]),\n  check((val) => {\n    if (![\"string\", \"number\", \"bigint\"].includes(typeof val)) return false;\n    try {\n      BigInt(val);\n      return true;\n    } catch {\n      return false;\n    }\n  })\n);\nconst TypeTag = union([\n  object({ bool: nullable(literal(true)) }),\n  object({ u8: nullable(literal(true)) }),\n  object({ u64: nullable(literal(true)) }),\n  object({ u128: nullable(literal(true)) }),\n  object({ address: nullable(literal(true)) }),\n  object({ signer: nullable(literal(true)) }),\n  object({ vector: lazy(() => TypeTag) }),\n  object({ struct: lazy(() => StructTag) }),\n  object({ u16: nullable(literal(true)) }),\n  object({ u32: nullable(literal(true)) }),\n  object({ u256: nullable(literal(true)) })\n]);\nconst StructTag = object({\n  address: string(),\n  module: string(),\n  name: string(),\n  typeParams: array(TypeTag)\n});\nconst GasConfig = object({\n  budget: optional(StringEncodedBigint),\n  price: optional(StringEncodedBigint),\n  payment: optional(array(ObjectRef)),\n  owner: optional(string())\n});\nconst TransactionArgumentTypes = [\n  TransactionInput,\n  object({ kind: literal(\"GasCoin\") }),\n  object({ kind: literal(\"Result\"), index: pipe(number(), integer()) }),\n  object({\n    kind: literal(\"NestedResult\"),\n    index: pipe(number(), integer()),\n    resultIndex: pipe(number(), integer())\n  })\n];\nconst TransactionArgument = union([...TransactionArgumentTypes]);\nconst MoveCallTransaction = object({\n  kind: literal(\"MoveCall\"),\n  target: pipe(\n    string(),\n    check((target) => target.split(\"::\").length === 3)\n  ),\n  typeArguments: array(string()),\n  arguments: array(TransactionArgument)\n});\nconst TransferObjectsTransaction = object({\n  kind: literal(\"TransferObjects\"),\n  objects: array(TransactionArgument),\n  address: TransactionArgument\n});\nconst SplitCoinsTransaction = object({\n  kind: literal(\"SplitCoins\"),\n  coin: TransactionArgument,\n  amounts: array(TransactionArgument)\n});\nconst MergeCoinsTransaction = object({\n  kind: literal(\"MergeCoins\"),\n  destination: TransactionArgument,\n  sources: array(TransactionArgument)\n});\nconst MakeMoveVecTransaction = object({\n  kind: literal(\"MakeMoveVec\"),\n  type: union([object({ Some: TypeTag }), object({ None: nullable(literal(true)) })]),\n  objects: array(TransactionArgument)\n});\nconst PublishTransaction = object({\n  kind: literal(\"Publish\"),\n  modules: array(array(pipe(number(), integer()))),\n  dependencies: array(string())\n});\nconst UpgradeTransaction = object({\n  kind: literal(\"Upgrade\"),\n  modules: array(array(pipe(number(), integer()))),\n  dependencies: array(string()),\n  packageId: string(),\n  ticket: TransactionArgument\n});\nconst TransactionTypes = [\n  MoveCallTransaction,\n  TransferObjectsTransaction,\n  SplitCoinsTransaction,\n  MergeCoinsTransaction,\n  PublishTransaction,\n  UpgradeTransaction,\n  MakeMoveVecTransaction\n];\nconst TransactionType = union([...TransactionTypes]);\nconst SerializedTransactionDataV1 = object({\n  version: literal(1),\n  sender: optional(string()),\n  expiration: nullish(TransactionExpiration),\n  gasConfig: GasConfig,\n  inputs: array(TransactionInput),\n  transactions: array(TransactionType)\n});\nfunction serializeV1TransactionData(transactionData) {\n  const inputs = transactionData.inputs.map(\n    (input, index) => {\n      if (input.Object) {\n        return {\n          kind: \"Input\",\n          index,\n          value: {\n            Object: input.Object.ImmOrOwnedObject ? {\n              ImmOrOwned: input.Object.ImmOrOwnedObject\n            } : input.Object.Receiving ? {\n              Receiving: {\n                digest: input.Object.Receiving.digest,\n                version: input.Object.Receiving.version,\n                objectId: input.Object.Receiving.objectId\n              }\n            } : {\n              Shared: {\n                mutable: input.Object.SharedObject.mutable,\n                initialSharedVersion: input.Object.SharedObject.initialSharedVersion,\n                objectId: input.Object.SharedObject.objectId\n              }\n            }\n          },\n          type: \"object\"\n        };\n      }\n      if (input.Pure) {\n        return {\n          kind: \"Input\",\n          index,\n          value: {\n            Pure: Array.from(fromBase64(input.Pure.bytes))\n          },\n          type: \"pure\"\n        };\n      }\n      if (input.UnresolvedPure) {\n        return {\n          kind: \"Input\",\n          type: \"pure\",\n          index,\n          value: input.UnresolvedPure.value\n        };\n      }\n      if (input.UnresolvedObject) {\n        return {\n          kind: \"Input\",\n          type: \"object\",\n          index,\n          value: input.UnresolvedObject.objectId\n        };\n      }\n      throw new Error(\"Invalid input\");\n    }\n  );\n  return {\n    version: 1,\n    sender: transactionData.sender ?? void 0,\n    expiration: transactionData.expiration?.$kind === \"Epoch\" ? { Epoch: Number(transactionData.expiration.Epoch) } : transactionData.expiration ? { None: true } : null,\n    gasConfig: {\n      owner: transactionData.gasData.owner ?? void 0,\n      budget: transactionData.gasData.budget ?? void 0,\n      price: transactionData.gasData.price ?? void 0,\n      payment: transactionData.gasData.payment ?? void 0\n    },\n    inputs,\n    transactions: transactionData.commands.map((command) => {\n      if (command.MakeMoveVec) {\n        return {\n          kind: \"MakeMoveVec\",\n          type: command.MakeMoveVec.type === null ? { None: true } : { Some: TypeTagSerializer.parseFromStr(command.MakeMoveVec.type) },\n          objects: command.MakeMoveVec.elements.map(\n            (arg) => convertTransactionArgument(arg, inputs)\n          )\n        };\n      }\n      if (command.MergeCoins) {\n        return {\n          kind: \"MergeCoins\",\n          destination: convertTransactionArgument(command.MergeCoins.destination, inputs),\n          sources: command.MergeCoins.sources.map((arg) => convertTransactionArgument(arg, inputs))\n        };\n      }\n      if (command.MoveCall) {\n        return {\n          kind: \"MoveCall\",\n          target: `${command.MoveCall.package}::${command.MoveCall.module}::${command.MoveCall.function}`,\n          typeArguments: command.MoveCall.typeArguments,\n          arguments: command.MoveCall.arguments.map(\n            (arg) => convertTransactionArgument(arg, inputs)\n          )\n        };\n      }\n      if (command.Publish) {\n        return {\n          kind: \"Publish\",\n          modules: command.Publish.modules.map((mod) => Array.from(fromBase64(mod))),\n          dependencies: command.Publish.dependencies\n        };\n      }\n      if (command.SplitCoins) {\n        return {\n          kind: \"SplitCoins\",\n          coin: convertTransactionArgument(command.SplitCoins.coin, inputs),\n          amounts: command.SplitCoins.amounts.map((arg) => convertTransactionArgument(arg, inputs))\n        };\n      }\n      if (command.TransferObjects) {\n        return {\n          kind: \"TransferObjects\",\n          objects: command.TransferObjects.objects.map(\n            (arg) => convertTransactionArgument(arg, inputs)\n          ),\n          address: convertTransactionArgument(command.TransferObjects.address, inputs)\n        };\n      }\n      if (command.Upgrade) {\n        return {\n          kind: \"Upgrade\",\n          modules: command.Upgrade.modules.map((mod) => Array.from(fromBase64(mod))),\n          dependencies: command.Upgrade.dependencies,\n          packageId: command.Upgrade.package,\n          ticket: convertTransactionArgument(command.Upgrade.ticket, inputs)\n        };\n      }\n      throw new Error(`Unknown transaction ${Object.keys(command)}`);\n    })\n  };\n}\nfunction convertTransactionArgument(arg, inputs) {\n  if (arg.$kind === \"GasCoin\") {\n    return { kind: \"GasCoin\" };\n  }\n  if (arg.$kind === \"Result\") {\n    return { kind: \"Result\", index: arg.Result };\n  }\n  if (arg.$kind === \"NestedResult\") {\n    return { kind: \"NestedResult\", index: arg.NestedResult[0], resultIndex: arg.NestedResult[1] };\n  }\n  if (arg.$kind === \"Input\") {\n    return inputs[arg.Input];\n  }\n  throw new Error(`Invalid argument ${Object.keys(arg)}`);\n}\nfunction transactionDataFromV1(data) {\n  return parse(TransactionData, {\n    version: 2,\n    sender: data.sender ?? null,\n    expiration: data.expiration ? \"Epoch\" in data.expiration ? { Epoch: data.expiration.Epoch } : { None: true } : null,\n    gasData: {\n      owner: data.gasConfig.owner ?? null,\n      budget: data.gasConfig.budget?.toString() ?? null,\n      price: data.gasConfig.price?.toString() ?? null,\n      payment: data.gasConfig.payment?.map((ref) => ({\n        digest: ref.digest,\n        objectId: ref.objectId,\n        version: ref.version.toString()\n      })) ?? null\n    },\n    inputs: data.inputs.map((input) => {\n      if (input.kind === \"Input\") {\n        if (is(NormalizedCallArg, input.value)) {\n          const value = parse(NormalizedCallArg, input.value);\n          if (value.Object) {\n            if (value.Object.ImmOrOwned) {\n              return {\n                Object: {\n                  ImmOrOwnedObject: {\n                    objectId: value.Object.ImmOrOwned.objectId,\n                    version: String(value.Object.ImmOrOwned.version),\n                    digest: value.Object.ImmOrOwned.digest\n                  }\n                }\n              };\n            }\n            if (value.Object.Shared) {\n              return {\n                Object: {\n                  SharedObject: {\n                    mutable: value.Object.Shared.mutable ?? null,\n                    initialSharedVersion: value.Object.Shared.initialSharedVersion,\n                    objectId: value.Object.Shared.objectId\n                  }\n                }\n              };\n            }\n            if (value.Object.Receiving) {\n              return {\n                Object: {\n                  Receiving: {\n                    digest: value.Object.Receiving.digest,\n                    version: String(value.Object.Receiving.version),\n                    objectId: value.Object.Receiving.objectId\n                  }\n                }\n              };\n            }\n            throw new Error(\"Invalid object input\");\n          }\n          return {\n            Pure: {\n              bytes: toBase64(new Uint8Array(value.Pure))\n            }\n          };\n        }\n        if (input.type === \"object\") {\n          return {\n            UnresolvedObject: {\n              objectId: input.value\n            }\n          };\n        }\n        return {\n          UnresolvedPure: {\n            value: input.value\n          }\n        };\n      }\n      throw new Error(\"Invalid input\");\n    }),\n    commands: data.transactions.map((transaction) => {\n      switch (transaction.kind) {\n        case \"MakeMoveVec\":\n          return {\n            MakeMoveVec: {\n              type: \"Some\" in transaction.type ? TypeTagSerializer.tagToString(transaction.type.Some) : null,\n              elements: transaction.objects.map((arg) => parseV1TransactionArgument(arg))\n            }\n          };\n        case \"MergeCoins\": {\n          return {\n            MergeCoins: {\n              destination: parseV1TransactionArgument(transaction.destination),\n              sources: transaction.sources.map((arg) => parseV1TransactionArgument(arg))\n            }\n          };\n        }\n        case \"MoveCall\": {\n          const [pkg, mod, fn] = transaction.target.split(\"::\");\n          return {\n            MoveCall: {\n              package: pkg,\n              module: mod,\n              function: fn,\n              typeArguments: transaction.typeArguments,\n              arguments: transaction.arguments.map((arg) => parseV1TransactionArgument(arg))\n            }\n          };\n        }\n        case \"Publish\": {\n          return {\n            Publish: {\n              modules: transaction.modules.map((mod) => toBase64(Uint8Array.from(mod))),\n              dependencies: transaction.dependencies\n            }\n          };\n        }\n        case \"SplitCoins\": {\n          return {\n            SplitCoins: {\n              coin: parseV1TransactionArgument(transaction.coin),\n              amounts: transaction.amounts.map((arg) => parseV1TransactionArgument(arg))\n            }\n          };\n        }\n        case \"TransferObjects\": {\n          return {\n            TransferObjects: {\n              objects: transaction.objects.map((arg) => parseV1TransactionArgument(arg)),\n              address: parseV1TransactionArgument(transaction.address)\n            }\n          };\n        }\n        case \"Upgrade\": {\n          return {\n            Upgrade: {\n              modules: transaction.modules.map((mod) => toBase64(Uint8Array.from(mod))),\n              dependencies: transaction.dependencies,\n              package: transaction.packageId,\n              ticket: parseV1TransactionArgument(transaction.ticket)\n            }\n          };\n        }\n      }\n      throw new Error(`Unknown transaction ${Object.keys(transaction)}`);\n    })\n  });\n}\nfunction parseV1TransactionArgument(arg) {\n  switch (arg.kind) {\n    case \"GasCoin\": {\n      return { GasCoin: true };\n    }\n    case \"Result\":\n      return { Result: arg.index };\n    case \"NestedResult\": {\n      return { NestedResult: [arg.index, arg.resultIndex] };\n    }\n    case \"Input\": {\n      return { Input: arg.index };\n    }\n  }\n}\nexport {\n  NormalizedCallArg,\n  ObjectRef,\n  SerializedTransactionDataV1,\n  StructTag,\n  TransactionArgument,\n  TypeTag,\n  serializeV1TransactionData,\n  transactionDataFromV1\n};\n//# sourceMappingURL=v1.js.map\n","import {\n  array,\n  boolean,\n  integer,\n  literal,\n  nullable,\n  nullish,\n  number,\n  object,\n  optional,\n  pipe,\n  record,\n  string,\n  tuple,\n  union,\n  unknown\n} from \"valibot\";\nimport { BCSBytes, JsonU64, ObjectID, ObjectRef, SuiAddress } from \"./internal.js\";\nfunction enumUnion(options) {\n  return union(\n    Object.entries(options).map(([key, value]) => object({ [key]: value }))\n  );\n}\nconst Argument = enumUnion({\n  GasCoin: literal(true),\n  Input: pipe(number(), integer()),\n  Result: pipe(number(), integer()),\n  NestedResult: tuple([pipe(number(), integer()), pipe(number(), integer())])\n});\nconst GasData = object({\n  budget: nullable(JsonU64),\n  price: nullable(JsonU64),\n  owner: nullable(SuiAddress),\n  payment: nullable(array(ObjectRef))\n});\nconst ProgrammableMoveCall = object({\n  package: ObjectID,\n  module: string(),\n  function: string(),\n  // snake case in rust\n  typeArguments: array(string()),\n  arguments: array(Argument)\n});\nconst $Intent = object({\n  name: string(),\n  inputs: record(string(), union([Argument, array(Argument)])),\n  data: record(string(), unknown())\n});\nconst Command = enumUnion({\n  MoveCall: ProgrammableMoveCall,\n  TransferObjects: object({\n    objects: array(Argument),\n    address: Argument\n  }),\n  SplitCoins: object({\n    coin: Argument,\n    amounts: array(Argument)\n  }),\n  MergeCoins: object({\n    destination: Argument,\n    sources: array(Argument)\n  }),\n  Publish: object({\n    modules: array(BCSBytes),\n    dependencies: array(ObjectID)\n  }),\n  MakeMoveVec: object({\n    type: nullable(string()),\n    elements: array(Argument)\n  }),\n  Upgrade: object({\n    modules: array(BCSBytes),\n    dependencies: array(ObjectID),\n    package: ObjectID,\n    ticket: Argument\n  }),\n  $Intent\n});\nconst ObjectArg = enumUnion({\n  ImmOrOwnedObject: ObjectRef,\n  SharedObject: object({\n    objectId: ObjectID,\n    // snake case in rust\n    initialSharedVersion: JsonU64,\n    mutable: boolean()\n  }),\n  Receiving: ObjectRef\n});\nconst CallArg = enumUnion({\n  Object: ObjectArg,\n  Pure: object({\n    bytes: BCSBytes\n  }),\n  UnresolvedPure: object({\n    value: unknown()\n  }),\n  UnresolvedObject: object({\n    objectId: ObjectID,\n    version: optional(nullable(JsonU64)),\n    digest: optional(nullable(string())),\n    initialSharedVersion: optional(nullable(JsonU64))\n  })\n});\nconst TransactionExpiration = enumUnion({\n  None: literal(true),\n  Epoch: JsonU64\n});\nconst SerializedTransactionDataV2 = object({\n  version: literal(2),\n  sender: nullish(SuiAddress),\n  expiration: nullish(TransactionExpiration),\n  gasData: GasData,\n  inputs: array(CallArg),\n  commands: array(Command)\n});\nexport {\n  SerializedTransactionDataV2\n};\n//# sourceMappingURL=v2.js.map\n","import { toBase64 } from \"@mysten/bcs\";\nimport { normalizeSuiAddress } from \"../utils/sui-types.js\";\nfunction Pure(data) {\n  return {\n    $kind: \"Pure\",\n    Pure: {\n      bytes: data instanceof Uint8Array ? toBase64(data) : data.toBase64()\n    }\n  };\n}\nconst Inputs = {\n  Pure,\n  ObjectRef({ objectId, digest, version }) {\n    return {\n      $kind: \"Object\",\n      Object: {\n        $kind: \"ImmOrOwnedObject\",\n        ImmOrOwnedObject: {\n          digest,\n          version,\n          objectId: normalizeSuiAddress(objectId)\n        }\n      }\n    };\n  },\n  SharedObjectRef({\n    objectId,\n    mutable,\n    initialSharedVersion\n  }) {\n    return {\n      $kind: \"Object\",\n      Object: {\n        $kind: \"SharedObject\",\n        SharedObject: {\n          mutable,\n          initialSharedVersion,\n          objectId: normalizeSuiAddress(objectId)\n        }\n      }\n    };\n  },\n  ReceivingRef({ objectId, digest, version }) {\n    return {\n      $kind: \"Object\",\n      Object: {\n        $kind: \"Receiving\",\n        Receiving: {\n          digest,\n          version,\n          objectId: normalizeSuiAddress(objectId)\n        }\n      }\n    };\n  }\n};\nexport {\n  Inputs\n};\n//# sourceMappingURL=Inputs.js.map\n","import { bcs } from \"../bcs/index.js\";\nimport { MOVE_STDLIB_ADDRESS, SUI_FRAMEWORK_ADDRESS } from \"../utils/index.js\";\nimport { normalizeSuiAddress } from \"../utils/sui-types.js\";\nconst OBJECT_MODULE_NAME = \"object\";\nconst ID_STRUCT_NAME = \"ID\";\nconst STD_ASCII_MODULE_NAME = \"ascii\";\nconst STD_ASCII_STRUCT_NAME = \"String\";\nconst STD_UTF8_MODULE_NAME = \"string\";\nconst STD_UTF8_STRUCT_NAME = \"String\";\nconst STD_OPTION_MODULE_NAME = \"option\";\nconst STD_OPTION_STRUCT_NAME = \"Option\";\nfunction isTxContext(param) {\n  const struct = typeof param.body === \"object\" && \"datatype\" in param.body ? param.body.datatype : null;\n  return !!struct && normalizeSuiAddress(struct.package) === normalizeSuiAddress(\"0x2\") && struct.module === \"tx_context\" && struct.type === \"TxContext\";\n}\nfunction getPureBcsSchema(typeSignature) {\n  if (typeof typeSignature === \"string\") {\n    switch (typeSignature) {\n      case \"address\":\n        return bcs.Address;\n      case \"bool\":\n        return bcs.Bool;\n      case \"u8\":\n        return bcs.U8;\n      case \"u16\":\n        return bcs.U16;\n      case \"u32\":\n        return bcs.U32;\n      case \"u64\":\n        return bcs.U64;\n      case \"u128\":\n        return bcs.U128;\n      case \"u256\":\n        return bcs.U256;\n      default:\n        throw new Error(`Unknown type signature ${typeSignature}`);\n    }\n  }\n  if (\"vector\" in typeSignature) {\n    if (typeSignature.vector === \"u8\") {\n      return bcs.vector(bcs.U8).transform({\n        input: (val) => typeof val === \"string\" ? new TextEncoder().encode(val) : val,\n        output: (val) => val\n      });\n    }\n    const type = getPureBcsSchema(typeSignature.vector);\n    return type ? bcs.vector(type) : null;\n  }\n  if (\"datatype\" in typeSignature) {\n    const pkg = normalizeSuiAddress(typeSignature.datatype.package);\n    if (pkg === normalizeSuiAddress(MOVE_STDLIB_ADDRESS)) {\n      if (typeSignature.datatype.module === STD_ASCII_MODULE_NAME && typeSignature.datatype.type === STD_ASCII_STRUCT_NAME) {\n        return bcs.String;\n      }\n      if (typeSignature.datatype.module === STD_UTF8_MODULE_NAME && typeSignature.datatype.type === STD_UTF8_STRUCT_NAME) {\n        return bcs.String;\n      }\n      if (typeSignature.datatype.module === STD_OPTION_MODULE_NAME && typeSignature.datatype.type === STD_OPTION_STRUCT_NAME) {\n        const type = getPureBcsSchema(typeSignature.datatype.typeParameters[0]);\n        return type ? bcs.vector(type) : null;\n      }\n    }\n    if (pkg === normalizeSuiAddress(SUI_FRAMEWORK_ADDRESS) && typeSignature.datatype.module === OBJECT_MODULE_NAME && typeSignature.datatype.type === ID_STRUCT_NAME) {\n      return bcs.Address;\n    }\n  }\n  return null;\n}\nfunction normalizedTypeToMoveTypeSignature(type) {\n  if (typeof type === \"object\" && \"Reference\" in type) {\n    return {\n      ref: \"&\",\n      body: normalizedTypeToMoveTypeSignatureBody(type.Reference)\n    };\n  }\n  if (typeof type === \"object\" && \"MutableReference\" in type) {\n    return {\n      ref: \"&mut\",\n      body: normalizedTypeToMoveTypeSignatureBody(type.MutableReference)\n    };\n  }\n  return {\n    ref: null,\n    body: normalizedTypeToMoveTypeSignatureBody(type)\n  };\n}\nfunction normalizedTypeToMoveTypeSignatureBody(type) {\n  if (typeof type === \"string\") {\n    switch (type) {\n      case \"Address\":\n        return \"address\";\n      case \"Bool\":\n        return \"bool\";\n      case \"U8\":\n        return \"u8\";\n      case \"U16\":\n        return \"u16\";\n      case \"U32\":\n        return \"u32\";\n      case \"U64\":\n        return \"u64\";\n      case \"U128\":\n        return \"u128\";\n      case \"U256\":\n        return \"u256\";\n      default:\n        throw new Error(`Unexpected type ${type}`);\n    }\n  }\n  if (\"Vector\" in type) {\n    return { vector: normalizedTypeToMoveTypeSignatureBody(type.Vector) };\n  }\n  if (\"Struct\" in type) {\n    return {\n      datatype: {\n        package: type.Struct.address,\n        module: type.Struct.module,\n        type: type.Struct.name,\n        typeParameters: type.Struct.typeArguments.map(normalizedTypeToMoveTypeSignatureBody)\n      }\n    };\n  }\n  if (\"TypeParameter\" in type) {\n    return { typeParameter: type.TypeParameter };\n  }\n  throw new Error(`Unexpected type ${JSON.stringify(type)}`);\n}\nfunction pureBcsSchemaFromOpenMoveTypeSignatureBody(typeSignature) {\n  if (typeof typeSignature === \"string\") {\n    switch (typeSignature) {\n      case \"address\":\n        return bcs.Address;\n      case \"bool\":\n        return bcs.Bool;\n      case \"u8\":\n        return bcs.U8;\n      case \"u16\":\n        return bcs.U16;\n      case \"u32\":\n        return bcs.U32;\n      case \"u64\":\n        return bcs.U64;\n      case \"u128\":\n        return bcs.U128;\n      case \"u256\":\n        return bcs.U256;\n      default:\n        throw new Error(`Unknown type signature ${typeSignature}`);\n    }\n  }\n  if (\"vector\" in typeSignature) {\n    return bcs.vector(pureBcsSchemaFromOpenMoveTypeSignatureBody(typeSignature.vector));\n  }\n  throw new Error(`Expected pure typeSignature, but got ${JSON.stringify(typeSignature)}`);\n}\nexport {\n  getPureBcsSchema,\n  isTxContext,\n  normalizedTypeToMoveTypeSignature,\n  pureBcsSchemaFromOpenMoveTypeSignatureBody\n};\n//# sourceMappingURL=serializer.js.map\n","import { parse } from \"valibot\";\nimport { bcs } from \"../bcs/index.js\";\nimport { normalizeSuiAddress, normalizeSuiObjectId, SUI_TYPE_ARG } from \"../utils/index.js\";\nimport { ObjectRef } from \"./data/internal.js\";\nimport { Inputs } from \"./Inputs.js\";\nimport { getPureBcsSchema, isTxContext, normalizedTypeToMoveTypeSignature } from \"./serializer.js\";\nconst MAX_OBJECTS_PER_FETCH = 50;\nconst GAS_SAFE_OVERHEAD = 1000n;\nconst MAX_GAS = 5e10;\nasync function resolveTransactionData(transactionData, options, next) {\n  await normalizeInputs(transactionData, options);\n  await resolveObjectReferences(transactionData, options);\n  if (!options.onlyTransactionKind) {\n    await setGasPrice(transactionData, options);\n    await setGasBudget(transactionData, options);\n    await setGasPayment(transactionData, options);\n  }\n  await validate(transactionData);\n  return await next();\n}\nasync function setGasPrice(transactionData, options) {\n  if (!transactionData.gasConfig.price) {\n    transactionData.gasConfig.price = String(await getClient(options).getReferenceGasPrice());\n  }\n}\nasync function setGasBudget(transactionData, options) {\n  if (transactionData.gasConfig.budget) {\n    return;\n  }\n  const dryRunResult = await getClient(options).dryRunTransactionBlock({\n    transactionBlock: transactionData.build({\n      overrides: {\n        gasData: {\n          budget: String(MAX_GAS),\n          payment: []\n        }\n      }\n    })\n  });\n  if (dryRunResult.effects.status.status !== \"success\") {\n    throw new Error(\n      `Dry run failed, could not automatically determine a budget: ${dryRunResult.effects.status.error}`,\n      { cause: dryRunResult }\n    );\n  }\n  const safeOverhead = GAS_SAFE_OVERHEAD * BigInt(transactionData.gasConfig.price || 1n);\n  const baseComputationCostWithOverhead = BigInt(dryRunResult.effects.gasUsed.computationCost) + safeOverhead;\n  const gasBudget = baseComputationCostWithOverhead + BigInt(dryRunResult.effects.gasUsed.storageCost) - BigInt(dryRunResult.effects.gasUsed.storageRebate);\n  transactionData.gasConfig.budget = String(\n    gasBudget > baseComputationCostWithOverhead ? gasBudget : baseComputationCostWithOverhead\n  );\n}\nasync function setGasPayment(transactionData, options) {\n  if (!transactionData.gasConfig.payment) {\n    const coins = await getClient(options).getCoins({\n      owner: transactionData.gasConfig.owner || transactionData.sender,\n      coinType: SUI_TYPE_ARG\n    });\n    const paymentCoins = coins.data.filter((coin) => {\n      const matchingInput = transactionData.inputs.find((input) => {\n        if (input.Object?.ImmOrOwnedObject) {\n          return coin.coinObjectId === input.Object.ImmOrOwnedObject.objectId;\n        }\n        return false;\n      });\n      return !matchingInput;\n    }).map((coin) => ({\n      objectId: coin.coinObjectId,\n      digest: coin.digest,\n      version: coin.version\n    }));\n    if (!paymentCoins.length) {\n      throw new Error(\"No valid gas coins found for the transaction.\");\n    }\n    transactionData.gasConfig.payment = paymentCoins.map((payment) => parse(ObjectRef, payment));\n  }\n}\nasync function resolveObjectReferences(transactionData, options) {\n  const objectsToResolve = transactionData.inputs.filter((input) => {\n    return input.UnresolvedObject && !(input.UnresolvedObject.version || input.UnresolvedObject?.initialSharedVersion);\n  });\n  const dedupedIds = [\n    ...new Set(\n      objectsToResolve.map((input) => normalizeSuiObjectId(input.UnresolvedObject.objectId))\n    )\n  ];\n  const objectChunks = dedupedIds.length ? chunk(dedupedIds, MAX_OBJECTS_PER_FETCH) : [];\n  const resolved = (await Promise.all(\n    objectChunks.map(\n      (chunk2) => getClient(options).multiGetObjects({\n        ids: chunk2,\n        options: { showOwner: true }\n      })\n    )\n  )).flat();\n  const responsesById = new Map(\n    dedupedIds.map((id, index) => {\n      return [id, resolved[index]];\n    })\n  );\n  const invalidObjects = Array.from(responsesById).filter(([_, obj]) => obj.error).map(([_, obj]) => JSON.stringify(obj.error));\n  if (invalidObjects.length) {\n    throw new Error(`The following input objects are invalid: ${invalidObjects.join(\", \")}`);\n  }\n  const objects = resolved.map((object) => {\n    if (object.error || !object.data) {\n      throw new Error(`Failed to fetch object: ${object.error}`);\n    }\n    const owner = object.data.owner;\n    const initialSharedVersion = owner && typeof owner === \"object\" && \"Shared\" in owner ? owner.Shared.initial_shared_version : null;\n    return {\n      objectId: object.data.objectId,\n      digest: object.data.digest,\n      version: object.data.version,\n      initialSharedVersion\n    };\n  });\n  const objectsById = new Map(\n    dedupedIds.map((id, index) => {\n      return [id, objects[index]];\n    })\n  );\n  for (const [index, input] of transactionData.inputs.entries()) {\n    if (!input.UnresolvedObject) {\n      continue;\n    }\n    let updated;\n    const id = normalizeSuiAddress(input.UnresolvedObject.objectId);\n    const object = objectsById.get(id);\n    if (input.UnresolvedObject.initialSharedVersion ?? object?.initialSharedVersion) {\n      updated = Inputs.SharedObjectRef({\n        objectId: id,\n        initialSharedVersion: input.UnresolvedObject.initialSharedVersion || object?.initialSharedVersion,\n        mutable: isUsedAsMutable(transactionData, index)\n      });\n    } else if (isUsedAsReceiving(transactionData, index)) {\n      updated = Inputs.ReceivingRef(\n        {\n          objectId: id,\n          digest: input.UnresolvedObject.digest ?? object?.digest,\n          version: input.UnresolvedObject.version ?? object?.version\n        }\n      );\n    }\n    transactionData.inputs[transactionData.inputs.indexOf(input)] = updated ?? Inputs.ObjectRef({\n      objectId: id,\n      digest: input.UnresolvedObject.digest ?? object?.digest,\n      version: input.UnresolvedObject.version ?? object?.version\n    });\n  }\n}\nasync function normalizeInputs(transactionData, options) {\n  const { inputs, commands } = transactionData;\n  const moveCallsToResolve = [];\n  const moveFunctionsToResolve = /* @__PURE__ */ new Set();\n  commands.forEach((command) => {\n    if (command.MoveCall) {\n      if (command.MoveCall._argumentTypes) {\n        return;\n      }\n      const inputs2 = command.MoveCall.arguments.map((arg) => {\n        if (arg.$kind === \"Input\") {\n          return transactionData.inputs[arg.Input];\n        }\n        return null;\n      });\n      const needsResolution = inputs2.some(\n        (input) => input?.UnresolvedPure || input?.UnresolvedObject\n      );\n      if (needsResolution) {\n        const functionName = `${command.MoveCall.package}::${command.MoveCall.module}::${command.MoveCall.function}`;\n        moveFunctionsToResolve.add(functionName);\n        moveCallsToResolve.push(command.MoveCall);\n      }\n    }\n    switch (command.$kind) {\n      case \"SplitCoins\":\n        command.SplitCoins.amounts.forEach((amount) => {\n          normalizeRawArgument(amount, bcs.U64, transactionData);\n        });\n        break;\n      case \"TransferObjects\":\n        normalizeRawArgument(command.TransferObjects.address, bcs.Address, transactionData);\n        break;\n    }\n  });\n  const moveFunctionParameters = /* @__PURE__ */ new Map();\n  if (moveFunctionsToResolve.size > 0) {\n    const client = getClient(options);\n    await Promise.all(\n      [...moveFunctionsToResolve].map(async (functionName) => {\n        const [packageId, moduleId, functionId] = functionName.split(\"::\");\n        const def = await client.getNormalizedMoveFunction({\n          package: packageId,\n          module: moduleId,\n          function: functionId\n        });\n        moveFunctionParameters.set(\n          functionName,\n          def.parameters.map((param) => normalizedTypeToMoveTypeSignature(param))\n        );\n      })\n    );\n  }\n  if (moveCallsToResolve.length) {\n    await Promise.all(\n      moveCallsToResolve.map(async (moveCall) => {\n        const parameters = moveFunctionParameters.get(\n          `${moveCall.package}::${moveCall.module}::${moveCall.function}`\n        );\n        if (!parameters) {\n          return;\n        }\n        const hasTxContext = parameters.length > 0 && isTxContext(parameters.at(-1));\n        const params = hasTxContext ? parameters.slice(0, parameters.length - 1) : parameters;\n        moveCall._argumentTypes = params;\n      })\n    );\n  }\n  commands.forEach((command) => {\n    if (!command.MoveCall) {\n      return;\n    }\n    const moveCall = command.MoveCall;\n    const fnName = `${moveCall.package}::${moveCall.module}::${moveCall.function}`;\n    const params = moveCall._argumentTypes;\n    if (!params) {\n      return;\n    }\n    if (params.length !== command.MoveCall.arguments.length) {\n      throw new Error(`Incorrect number of arguments for ${fnName}`);\n    }\n    params.forEach((param, i) => {\n      const arg = moveCall.arguments[i];\n      if (arg.$kind !== \"Input\") return;\n      const input = inputs[arg.Input];\n      if (!input.UnresolvedPure && !input.UnresolvedObject) {\n        return;\n      }\n      const inputValue = input.UnresolvedPure?.value ?? input.UnresolvedObject?.objectId;\n      const schema = getPureBcsSchema(param.body);\n      if (schema) {\n        arg.type = \"pure\";\n        inputs[inputs.indexOf(input)] = Inputs.Pure(schema.serialize(inputValue));\n        return;\n      }\n      if (typeof inputValue !== \"string\") {\n        throw new Error(\n          `Expect the argument to be an object id string, got ${JSON.stringify(\n            inputValue,\n            null,\n            2\n          )}`\n        );\n      }\n      arg.type = \"object\";\n      const unresolvedObject = input.UnresolvedPure ? {\n        $kind: \"UnresolvedObject\",\n        UnresolvedObject: {\n          objectId: inputValue\n        }\n      } : input;\n      inputs[arg.Input] = unresolvedObject;\n    });\n  });\n}\nfunction validate(transactionData) {\n  transactionData.inputs.forEach((input, index) => {\n    if (input.$kind !== \"Object\" && input.$kind !== \"Pure\") {\n      throw new Error(\n        `Input at index ${index} has not been resolved.  Expected a Pure or Object input, but found ${JSON.stringify(\n          input\n        )}`\n      );\n    }\n  });\n}\nfunction normalizeRawArgument(arg, schema, transactionData) {\n  if (arg.$kind !== \"Input\") {\n    return;\n  }\n  const input = transactionData.inputs[arg.Input];\n  if (input.$kind !== \"UnresolvedPure\") {\n    return;\n  }\n  transactionData.inputs[arg.Input] = Inputs.Pure(schema.serialize(input.UnresolvedPure.value));\n}\nfunction isUsedAsMutable(transactionData, index) {\n  let usedAsMutable = false;\n  transactionData.getInputUses(index, (arg, tx) => {\n    if (tx.MoveCall && tx.MoveCall._argumentTypes) {\n      const argIndex = tx.MoveCall.arguments.indexOf(arg);\n      usedAsMutable = tx.MoveCall._argumentTypes[argIndex].ref !== \"&\" || usedAsMutable;\n    }\n    if (tx.$kind === \"MakeMoveVec\" || tx.$kind === \"MergeCoins\" || tx.$kind === \"SplitCoins\") {\n      usedAsMutable = true;\n    }\n  });\n  return usedAsMutable;\n}\nfunction isUsedAsReceiving(transactionData, index) {\n  let usedAsReceiving = false;\n  transactionData.getInputUses(index, (arg, tx) => {\n    if (tx.MoveCall && tx.MoveCall._argumentTypes) {\n      const argIndex = tx.MoveCall.arguments.indexOf(arg);\n      usedAsReceiving = isReceivingType(tx.MoveCall._argumentTypes[argIndex]) || usedAsReceiving;\n    }\n  });\n  return usedAsReceiving;\n}\nfunction isReceivingType(type) {\n  if (typeof type.body !== \"object\" || !(\"datatype\" in type.body)) {\n    return false;\n  }\n  return type.body.datatype.package === \"0x2\" && type.body.datatype.module === \"transfer\" && type.body.datatype.type === \"Receiving\";\n}\nfunction getClient(options) {\n  if (!options.client) {\n    throw new Error(\n      `No sui client passed to Transaction#build, but transaction data was not sufficient to build offline.`\n    );\n  }\n  return options.client;\n}\nfunction chunk(arr, size) {\n  return Array.from(\n    { length: Math.ceil(arr.length / size) },\n    (_, i) => arr.slice(i * size, i * size + size)\n  );\n}\nexport {\n  getClient,\n  resolveTransactionData\n};\n//# sourceMappingURL=json-rpc-resolver.js.map\n","import { isSerializedBcs } from \"@mysten/bcs\";\nimport { bcs } from \"../bcs/index.js\";\nfunction createPure(makePure) {\n  function pure(typeOrSerializedValue, value) {\n    if (typeof typeOrSerializedValue === \"string\") {\n      return makePure(schemaFromName(typeOrSerializedValue).serialize(value));\n    }\n    if (typeOrSerializedValue instanceof Uint8Array || isSerializedBcs(typeOrSerializedValue)) {\n      return makePure(typeOrSerializedValue);\n    }\n    throw new Error(\"tx.pure must be called either a bcs type name, or a serialized bcs value\");\n  }\n  pure.u8 = (value) => makePure(bcs.U8.serialize(value));\n  pure.u16 = (value) => makePure(bcs.U16.serialize(value));\n  pure.u32 = (value) => makePure(bcs.U32.serialize(value));\n  pure.u64 = (value) => makePure(bcs.U64.serialize(value));\n  pure.u128 = (value) => makePure(bcs.U128.serialize(value));\n  pure.u256 = (value) => makePure(bcs.U256.serialize(value));\n  pure.bool = (value) => makePure(bcs.Bool.serialize(value));\n  pure.string = (value) => makePure(bcs.String.serialize(value));\n  pure.address = (value) => makePure(bcs.Address.serialize(value));\n  pure.id = pure.address;\n  pure.vector = (type, value) => {\n    return makePure(bcs.vector(schemaFromName(type)).serialize(value));\n  };\n  pure.option = (type, value) => {\n    return makePure(bcs.option(schemaFromName(type)).serialize(value));\n  };\n  return pure;\n}\nfunction schemaFromName(name) {\n  switch (name) {\n    case \"u8\":\n      return bcs.u8();\n    case \"u16\":\n      return bcs.u16();\n    case \"u32\":\n      return bcs.u32();\n    case \"u64\":\n      return bcs.u64();\n    case \"u128\":\n      return bcs.u128();\n    case \"u256\":\n      return bcs.u256();\n    case \"bool\":\n      return bcs.bool();\n    case \"string\":\n      return bcs.string();\n    case \"id\":\n    case \"address\":\n      return bcs.Address;\n  }\n  const generic = name.match(/^(vector|option)<(.+)>$/);\n  if (generic) {\n    const [kind, inner] = generic.slice(1);\n    if (kind === \"vector\") {\n      return bcs.vector(schemaFromName(inner));\n    } else {\n      return bcs.option(schemaFromName(inner));\n    }\n  }\n  throw new Error(`Invalid Pure type name: ${name}`);\n}\nexport {\n  createPure\n};\n//# sourceMappingURL=pure.js.map\n","import { toBase58 } from \"@mysten/bcs\";\nimport { parse } from \"valibot\";\nimport { bcs } from \"../bcs/index.js\";\nimport { normalizeSuiAddress } from \"../utils/sui-types.js\";\nimport { TransactionData } from \"./data/internal.js\";\nimport { transactionDataFromV1 } from \"./data/v1.js\";\nimport { hashTypedData } from \"./hash.js\";\nfunction prepareSuiAddress(address) {\n  return normalizeSuiAddress(address).replace(\"0x\", \"\");\n}\nclass TransactionDataBuilder {\n  constructor(clone) {\n    this.version = 2;\n    this.sender = clone?.sender ?? null;\n    this.expiration = clone?.expiration ?? null;\n    this.inputs = clone?.inputs ?? [];\n    this.commands = clone?.commands ?? [];\n    this.gasData = clone?.gasData ?? {\n      budget: null,\n      price: null,\n      owner: null,\n      payment: null\n    };\n  }\n  static fromKindBytes(bytes) {\n    const kind = bcs.TransactionKind.parse(bytes);\n    const programmableTx = kind.ProgrammableTransaction;\n    if (!programmableTx) {\n      throw new Error(\"Unable to deserialize from bytes.\");\n    }\n    return TransactionDataBuilder.restore({\n      version: 2,\n      sender: null,\n      expiration: null,\n      gasData: {\n        budget: null,\n        owner: null,\n        payment: null,\n        price: null\n      },\n      inputs: programmableTx.inputs,\n      commands: programmableTx.commands\n    });\n  }\n  static fromBytes(bytes) {\n    const rawData = bcs.TransactionData.parse(bytes);\n    const data = rawData?.V1;\n    const programmableTx = data.kind.ProgrammableTransaction;\n    if (!data || !programmableTx) {\n      throw new Error(\"Unable to deserialize from bytes.\");\n    }\n    return TransactionDataBuilder.restore({\n      version: 2,\n      sender: data.sender,\n      expiration: data.expiration,\n      gasData: data.gasData,\n      inputs: programmableTx.inputs,\n      commands: programmableTx.commands\n    });\n  }\n  static restore(data) {\n    if (data.version === 2) {\n      return new TransactionDataBuilder(parse(TransactionData, data));\n    } else {\n      return new TransactionDataBuilder(parse(TransactionData, transactionDataFromV1(data)));\n    }\n  }\n  /**\n   * Generate transaction digest.\n   *\n   * @param bytes BCS serialized transaction data\n   * @returns transaction digest.\n   */\n  static getDigestFromBytes(bytes) {\n    const hash = hashTypedData(\"TransactionData\", bytes);\n    return toBase58(hash);\n  }\n  // @deprecated use gasData instead\n  get gasConfig() {\n    return this.gasData;\n  }\n  // @deprecated use gasData instead\n  set gasConfig(value) {\n    this.gasData = value;\n  }\n  build({\n    maxSizeBytes = Infinity,\n    overrides,\n    onlyTransactionKind\n  } = {}) {\n    const inputs = this.inputs;\n    const commands = this.commands;\n    const kind = {\n      ProgrammableTransaction: {\n        inputs,\n        commands\n      }\n    };\n    if (onlyTransactionKind) {\n      return bcs.TransactionKind.serialize(kind, { maxSize: maxSizeBytes }).toBytes();\n    }\n    const expiration = overrides?.expiration ?? this.expiration;\n    const sender = overrides?.sender ?? this.sender;\n    const gasData = { ...this.gasData, ...overrides?.gasConfig, ...overrides?.gasData };\n    if (!sender) {\n      throw new Error(\"Missing transaction sender\");\n    }\n    if (!gasData.budget) {\n      throw new Error(\"Missing gas budget\");\n    }\n    if (!gasData.payment) {\n      throw new Error(\"Missing gas payment\");\n    }\n    if (!gasData.price) {\n      throw new Error(\"Missing gas price\");\n    }\n    const transactionData = {\n      sender: prepareSuiAddress(sender),\n      expiration: expiration ? expiration : { None: true },\n      gasData: {\n        payment: gasData.payment,\n        owner: prepareSuiAddress(this.gasData.owner ?? sender),\n        price: BigInt(gasData.price),\n        budget: BigInt(gasData.budget)\n      },\n      kind: {\n        ProgrammableTransaction: {\n          inputs,\n          commands\n        }\n      }\n    };\n    return bcs.TransactionData.serialize(\n      { V1: transactionData },\n      { maxSize: maxSizeBytes }\n    ).toBytes();\n  }\n  addInput(type, arg) {\n    const index = this.inputs.length;\n    this.inputs.push(arg);\n    return { Input: index, type, $kind: \"Input\" };\n  }\n  getInputUses(index, fn) {\n    this.mapArguments((arg, command) => {\n      if (arg.$kind === \"Input\" && arg.Input === index) {\n        fn(arg, command);\n      }\n      return arg;\n    });\n  }\n  mapArguments(fn) {\n    for (const command of this.commands) {\n      switch (command.$kind) {\n        case \"MoveCall\":\n          command.MoveCall.arguments = command.MoveCall.arguments.map((arg) => fn(arg, command));\n          break;\n        case \"TransferObjects\":\n          command.TransferObjects.objects = command.TransferObjects.objects.map(\n            (arg) => fn(arg, command)\n          );\n          command.TransferObjects.address = fn(command.TransferObjects.address, command);\n          break;\n        case \"SplitCoins\":\n          command.SplitCoins.coin = fn(command.SplitCoins.coin, command);\n          command.SplitCoins.amounts = command.SplitCoins.amounts.map((arg) => fn(arg, command));\n          break;\n        case \"MergeCoins\":\n          command.MergeCoins.destination = fn(command.MergeCoins.destination, command);\n          command.MergeCoins.sources = command.MergeCoins.sources.map((arg) => fn(arg, command));\n          break;\n        case \"MakeMoveVec\":\n          command.MakeMoveVec.elements = command.MakeMoveVec.elements.map(\n            (arg) => fn(arg, command)\n          );\n          break;\n        case \"Upgrade\":\n          command.Upgrade.ticket = fn(command.Upgrade.ticket, command);\n          break;\n        case \"$Intent\":\n          const inputs = command.$Intent.inputs;\n          command.$Intent.inputs = {};\n          for (const [key, value] of Object.entries(inputs)) {\n            command.$Intent.inputs[key] = Array.isArray(value) ? value.map((arg) => fn(arg, command)) : fn(value, command);\n          }\n          break;\n        case \"Publish\":\n          break;\n        default:\n          throw new Error(`Unexpected transaction kind: ${command.$kind}`);\n      }\n    }\n  }\n  replaceCommand(index, replacement) {\n    if (!Array.isArray(replacement)) {\n      this.commands[index] = replacement;\n      return;\n    }\n    const sizeDiff = replacement.length - 1;\n    this.commands.splice(index, 1, ...replacement);\n    if (sizeDiff !== 0) {\n      this.mapArguments((arg) => {\n        switch (arg.$kind) {\n          case \"Result\":\n            if (arg.Result > index) {\n              arg.Result += sizeDiff;\n            }\n            break;\n          case \"NestedResult\":\n            if (arg.NestedResult[0] > index) {\n              arg.NestedResult[0] += sizeDiff;\n            }\n            break;\n        }\n        return arg;\n      });\n    }\n  }\n  getDigest() {\n    const bytes = this.build({ onlyTransactionKind: false });\n    return TransactionDataBuilder.getDigestFromBytes(bytes);\n  }\n  snapshot() {\n    return parse(TransactionData, this);\n  }\n}\nexport {\n  TransactionDataBuilder\n};\n//# sourceMappingURL=TransactionData.js.map\n","import { blake2b } from \"@noble/hashes/blake2b\";\nfunction hashTypedData(typeTag, data) {\n  const typeTagBytes = Array.from(`${typeTag}::`).map((e) => e.charCodeAt(0));\n  const dataWithTag = new Uint8Array(typeTagBytes.length + data.length);\n  dataWithTag.set(typeTagBytes);\n  dataWithTag.set(data, typeTagBytes.length);\n  return blake2b(dataWithTag, { dkLen: 32 });\n}\nexport {\n  hashTypedData\n};\n//# sourceMappingURL=hash.js.map\n","import { normalizeSuiAddress } from \"../utils/sui-types.js\";\nfunction extractMutableReference(normalizedType) {\n  return typeof normalizedType === \"object\" && \"MutableReference\" in normalizedType ? normalizedType.MutableReference : void 0;\n}\nfunction extractReference(normalizedType) {\n  return typeof normalizedType === \"object\" && \"Reference\" in normalizedType ? normalizedType.Reference : void 0;\n}\nfunction extractStructTag(normalizedType) {\n  if (typeof normalizedType === \"object\" && \"Struct\" in normalizedType) {\n    return normalizedType;\n  }\n  const ref = extractReference(normalizedType);\n  const mutRef = extractMutableReference(normalizedType);\n  if (typeof ref === \"object\" && \"Struct\" in ref) {\n    return ref;\n  }\n  if (typeof mutRef === \"object\" && \"Struct\" in mutRef) {\n    return mutRef;\n  }\n  return void 0;\n}\nfunction getIdFromCallArg(arg) {\n  if (typeof arg === \"string\") {\n    return normalizeSuiAddress(arg);\n  }\n  if (arg.Object) {\n    if (arg.Object.ImmOrOwnedObject) {\n      return normalizeSuiAddress(arg.Object.ImmOrOwnedObject.objectId);\n    }\n    if (arg.Object.Receiving) {\n      return normalizeSuiAddress(arg.Object.Receiving.objectId);\n    }\n    return normalizeSuiAddress(arg.Object.SharedObject.objectId);\n  }\n  if (arg.UnresolvedObject) {\n    return normalizeSuiAddress(arg.UnresolvedObject.objectId);\n  }\n  return void 0;\n}\nexport {\n  extractMutableReference,\n  extractReference,\n  extractStructTag,\n  getIdFromCallArg\n};\n//# sourceMappingURL=utils.js.map\n","var __typeError = (msg) => {\n  throw TypeError(msg);\n};\nvar __accessCheck = (obj, member, msg) => member.has(obj) || __typeError(\"Cannot \" + msg);\nvar __privateGet = (obj, member, getter) => (__accessCheck(obj, member, \"read from private field\"), getter ? getter.call(obj) : member.get(obj));\nvar __privateAdd = (obj, member, value) => member.has(obj) ? __typeError(\"Cannot add the same private member more than once\") : member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\nvar __privateSet = (obj, member, value, setter) => (__accessCheck(obj, member, \"write to private field\"), setter ? setter.call(obj, value) : member.set(obj, value), value);\nvar __privateMethod = (obj, member, method) => (__accessCheck(obj, member, \"access private method\"), method);\nvar _serializationPlugins, _buildPlugins, _intentResolvers, _data, _Transaction_instances, normalizeTransactionArgument_fn, resolveArgument_fn, prepareBuild_fn, runPlugins_fn;\nimport { fromBase64, isSerializedBcs } from \"@mysten/bcs\";\nimport { is, parse } from \"valibot\";\nimport { normalizeSuiAddress } from \"../utils/sui-types.js\";\nimport { Commands } from \"./Commands.js\";\nimport { Argument, NormalizedCallArg, ObjectRef, TransactionExpiration } from \"./data/internal.js\";\nimport { serializeV1TransactionData } from \"./data/v1.js\";\nimport { SerializedTransactionDataV2 } from \"./data/v2.js\";\nimport { Inputs } from \"./Inputs.js\";\nimport { resolveTransactionData } from \"./json-rpc-resolver.js\";\nimport { createObjectMethods } from \"./object.js\";\nimport { createPure } from \"./pure.js\";\nimport { TransactionDataBuilder } from \"./TransactionData.js\";\nimport { getIdFromCallArg } from \"./utils.js\";\nfunction createTransactionResult(index) {\n  const baseResult = { $kind: \"Result\", Result: index };\n  const nestedResults = [];\n  const nestedResultFor = (resultIndex) => nestedResults[resultIndex] ?? (nestedResults[resultIndex] = {\n    $kind: \"NestedResult\",\n    NestedResult: [index, resultIndex]\n  });\n  return new Proxy(baseResult, {\n    set() {\n      throw new Error(\n        \"The transaction result is a proxy, and does not support setting properties directly\"\n      );\n    },\n    // TODO: Instead of making this return a concrete argument, we should ideally\n    // make it reference-based (so that this gets resolved at build-time), which\n    // allows re-ordering transactions.\n    get(target, property) {\n      if (property in target) {\n        return Reflect.get(target, property);\n      }\n      if (property === Symbol.iterator) {\n        return function* () {\n          let i = 0;\n          while (true) {\n            yield nestedResultFor(i);\n            i++;\n          }\n        };\n      }\n      if (typeof property === \"symbol\") return;\n      const resultIndex = parseInt(property, 10);\n      if (Number.isNaN(resultIndex) || resultIndex < 0) return;\n      return nestedResultFor(resultIndex);\n    }\n  });\n}\nconst TRANSACTION_BRAND = Symbol.for(\"@mysten/transaction\");\nfunction isTransaction(obj) {\n  return !!obj && typeof obj === \"object\" && obj[TRANSACTION_BRAND] === true;\n}\nconst modulePluginRegistry = {\n  buildPlugins: /* @__PURE__ */ new Map(),\n  serializationPlugins: /* @__PURE__ */ new Map()\n};\nconst TRANSACTION_REGISTRY_KEY = Symbol.for(\"@mysten/transaction/registry\");\nfunction getGlobalPluginRegistry() {\n  try {\n    const target = globalThis;\n    if (!target[TRANSACTION_REGISTRY_KEY]) {\n      target[TRANSACTION_REGISTRY_KEY] = modulePluginRegistry;\n    }\n    return target[TRANSACTION_REGISTRY_KEY];\n  } catch (e) {\n    return modulePluginRegistry;\n  }\n}\nconst _Transaction = class _Transaction {\n  constructor() {\n    __privateAdd(this, _Transaction_instances);\n    __privateAdd(this, _serializationPlugins);\n    __privateAdd(this, _buildPlugins);\n    __privateAdd(this, _intentResolvers, /* @__PURE__ */ new Map());\n    __privateAdd(this, _data);\n    /**\n     * Add a new object input to the transaction.\n     */\n    this.object = createObjectMethods(\n      (value) => {\n        if (typeof value === \"function\") {\n          return this.object(value(this));\n        }\n        if (typeof value === \"object\" && is(Argument, value)) {\n          return value;\n        }\n        const id = getIdFromCallArg(value);\n        const inserted = __privateGet(this, _data).inputs.find((i) => id === getIdFromCallArg(i));\n        if (inserted?.Object?.SharedObject && typeof value === \"object\" && value.Object?.SharedObject) {\n          inserted.Object.SharedObject.mutable = inserted.Object.SharedObject.mutable || value.Object.SharedObject.mutable;\n        }\n        return inserted ? { $kind: \"Input\", Input: __privateGet(this, _data).inputs.indexOf(inserted), type: \"object\" } : __privateGet(this, _data).addInput(\n          \"object\",\n          typeof value === \"string\" ? {\n            $kind: \"UnresolvedObject\",\n            UnresolvedObject: { objectId: normalizeSuiAddress(value) }\n          } : value\n        );\n      }\n    );\n    const globalPlugins = getGlobalPluginRegistry();\n    __privateSet(this, _data, new TransactionDataBuilder());\n    __privateSet(this, _buildPlugins, [...globalPlugins.buildPlugins.values()]);\n    __privateSet(this, _serializationPlugins, [...globalPlugins.serializationPlugins.values()]);\n  }\n  /**\n   * Converts from a serialize transaction kind (built with `build({ onlyTransactionKind: true })`) to a `Transaction` class.\n   * Supports either a byte array, or base64-encoded bytes.\n   */\n  static fromKind(serialized) {\n    const tx = new _Transaction();\n    __privateSet(tx, _data, TransactionDataBuilder.fromKindBytes(\n      typeof serialized === \"string\" ? fromBase64(serialized) : serialized\n    ));\n    return tx;\n  }\n  /**\n   * Converts from a serialized transaction format to a `Transaction` class.\n   * There are two supported serialized formats:\n   * - A string returned from `Transaction#serialize`. The serialized format must be compatible, or it will throw an error.\n   * - A byte array (or base64-encoded bytes) containing BCS transaction data.\n   */\n  static from(transaction) {\n    const newTransaction = new _Transaction();\n    if (isTransaction(transaction)) {\n      __privateSet(newTransaction, _data, new TransactionDataBuilder(transaction.getData()));\n    } else if (typeof transaction !== \"string\" || !transaction.startsWith(\"{\")) {\n      __privateSet(newTransaction, _data, TransactionDataBuilder.fromBytes(\n        typeof transaction === \"string\" ? fromBase64(transaction) : transaction\n      ));\n    } else {\n      __privateSet(newTransaction, _data, TransactionDataBuilder.restore(JSON.parse(transaction)));\n    }\n    return newTransaction;\n  }\n  static registerGlobalSerializationPlugin(stepOrStep, step) {\n    getGlobalPluginRegistry().serializationPlugins.set(\n      stepOrStep,\n      step ?? stepOrStep\n    );\n  }\n  static unregisterGlobalSerializationPlugin(name) {\n    getGlobalPluginRegistry().serializationPlugins.delete(name);\n  }\n  static registerGlobalBuildPlugin(stepOrStep, step) {\n    getGlobalPluginRegistry().buildPlugins.set(\n      stepOrStep,\n      step ?? stepOrStep\n    );\n  }\n  static unregisterGlobalBuildPlugin(name) {\n    getGlobalPluginRegistry().buildPlugins.delete(name);\n  }\n  addSerializationPlugin(step) {\n    __privateGet(this, _serializationPlugins).push(step);\n  }\n  addBuildPlugin(step) {\n    __privateGet(this, _buildPlugins).push(step);\n  }\n  addIntentResolver(intent, resolver) {\n    if (__privateGet(this, _intentResolvers).has(intent) && __privateGet(this, _intentResolvers).get(intent) !== resolver) {\n      throw new Error(`Intent resolver for ${intent} already exists`);\n    }\n    __privateGet(this, _intentResolvers).set(intent, resolver);\n  }\n  setSender(sender) {\n    __privateGet(this, _data).sender = sender;\n  }\n  /**\n   * Sets the sender only if it has not already been set.\n   * This is useful for sponsored transaction flows where the sender may not be the same as the signer address.\n   */\n  setSenderIfNotSet(sender) {\n    if (!__privateGet(this, _data).sender) {\n      __privateGet(this, _data).sender = sender;\n    }\n  }\n  setExpiration(expiration) {\n    __privateGet(this, _data).expiration = expiration ? parse(TransactionExpiration, expiration) : null;\n  }\n  setGasPrice(price) {\n    __privateGet(this, _data).gasConfig.price = String(price);\n  }\n  setGasBudget(budget) {\n    __privateGet(this, _data).gasConfig.budget = String(budget);\n  }\n  setGasBudgetIfNotSet(budget) {\n    if (__privateGet(this, _data).gasData.budget == null) {\n      __privateGet(this, _data).gasConfig.budget = String(budget);\n    }\n  }\n  setGasOwner(owner) {\n    __privateGet(this, _data).gasConfig.owner = owner;\n  }\n  setGasPayment(payments) {\n    __privateGet(this, _data).gasConfig.payment = payments.map((payment) => parse(ObjectRef, payment));\n  }\n  /** @deprecated Use `getData()` instead. */\n  get blockData() {\n    return serializeV1TransactionData(__privateGet(this, _data).snapshot());\n  }\n  /** Get a snapshot of the transaction data, in JSON form: */\n  getData() {\n    return __privateGet(this, _data).snapshot();\n  }\n  // Used to brand transaction classes so that they can be identified, even between multiple copies\n  // of the builder.\n  get [TRANSACTION_BRAND]() {\n    return true;\n  }\n  // Temporary workaround for the wallet interface accidentally serializing transactions via postMessage\n  get pure() {\n    Object.defineProperty(this, \"pure\", {\n      enumerable: false,\n      value: createPure((value) => {\n        if (isSerializedBcs(value)) {\n          return __privateGet(this, _data).addInput(\"pure\", {\n            $kind: \"Pure\",\n            Pure: {\n              bytes: value.toBase64()\n            }\n          });\n        }\n        return __privateGet(this, _data).addInput(\n          \"pure\",\n          is(NormalizedCallArg, value) ? parse(NormalizedCallArg, value) : value instanceof Uint8Array ? Inputs.Pure(value) : { $kind: \"UnresolvedPure\", UnresolvedPure: { value } }\n        );\n      })\n    });\n    return this.pure;\n  }\n  /** Returns an argument for the gas coin, to be used in a transaction. */\n  get gas() {\n    return { $kind: \"GasCoin\", GasCoin: true };\n  }\n  /**\n   * Add a new object input to the transaction using the fully-resolved object reference.\n   * If you only have an object ID, use `builder.object(id)` instead.\n   */\n  objectRef(...args) {\n    return this.object(Inputs.ObjectRef(...args));\n  }\n  /**\n   * Add a new receiving input to the transaction using the fully-resolved object reference.\n   * If you only have an object ID, use `builder.object(id)` instead.\n   */\n  receivingRef(...args) {\n    return this.object(Inputs.ReceivingRef(...args));\n  }\n  /**\n   * Add a new shared object input to the transaction using the fully-resolved shared object reference.\n   * If you only have an object ID, use `builder.object(id)` instead.\n   */\n  sharedObjectRef(...args) {\n    return this.object(Inputs.SharedObjectRef(...args));\n  }\n  /** Add a transaction to the transaction */\n  add(command) {\n    if (typeof command === \"function\") {\n      return command(this);\n    }\n    const index = __privateGet(this, _data).commands.push(command);\n    return createTransactionResult(index - 1);\n  }\n  // Method shorthands:\n  splitCoins(coin, amounts) {\n    return this.add(\n      Commands.SplitCoins(\n        typeof coin === \"string\" ? this.object(coin) : __privateMethod(this, _Transaction_instances, resolveArgument_fn).call(this, coin),\n        amounts.map(\n          (amount) => typeof amount === \"number\" || typeof amount === \"bigint\" || typeof amount === \"string\" ? this.pure.u64(amount) : __privateMethod(this, _Transaction_instances, normalizeTransactionArgument_fn).call(this, amount)\n        )\n      )\n    );\n  }\n  mergeCoins(destination, sources) {\n    return this.add(\n      Commands.MergeCoins(\n        this.object(destination),\n        sources.map((src) => this.object(src))\n      )\n    );\n  }\n  publish({ modules, dependencies }) {\n    return this.add(\n      Commands.Publish({\n        modules,\n        dependencies\n      })\n    );\n  }\n  upgrade({\n    modules,\n    dependencies,\n    package: packageId,\n    ticket\n  }) {\n    return this.add(\n      Commands.Upgrade({\n        modules,\n        dependencies,\n        package: packageId,\n        ticket: this.object(ticket)\n      })\n    );\n  }\n  moveCall({\n    arguments: args,\n    ...input\n  }) {\n    return this.add(\n      Commands.MoveCall({\n        ...input,\n        arguments: args?.map((arg) => __privateMethod(this, _Transaction_instances, normalizeTransactionArgument_fn).call(this, arg))\n      })\n    );\n  }\n  transferObjects(objects, address) {\n    return this.add(\n      Commands.TransferObjects(\n        objects.map((obj) => this.object(obj)),\n        typeof address === \"string\" ? this.pure.address(address) : __privateMethod(this, _Transaction_instances, normalizeTransactionArgument_fn).call(this, address)\n      )\n    );\n  }\n  makeMoveVec({\n    type,\n    elements\n  }) {\n    return this.add(\n      Commands.MakeMoveVec({\n        type,\n        elements: elements.map((obj) => this.object(obj))\n      })\n    );\n  }\n  /**\n   * @deprecated Use toJSON instead.\n   * For synchronous serialization, you can use `getData()`\n   * */\n  serialize() {\n    return JSON.stringify(serializeV1TransactionData(__privateGet(this, _data).snapshot()));\n  }\n  async toJSON(options = {}) {\n    await this.prepareForSerialization(options);\n    return JSON.stringify(\n      parse(SerializedTransactionDataV2, __privateGet(this, _data).snapshot()),\n      (_key, value) => typeof value === \"bigint\" ? value.toString() : value,\n      2\n    );\n  }\n  /** Build the transaction to BCS bytes, and sign it with the provided keypair. */\n  async sign(options) {\n    const { signer, ...buildOptions } = options;\n    const bytes = await this.build(buildOptions);\n    return signer.signTransaction(bytes);\n  }\n  /** Build the transaction to BCS bytes. */\n  async build(options = {}) {\n    await this.prepareForSerialization(options);\n    await __privateMethod(this, _Transaction_instances, prepareBuild_fn).call(this, options);\n    return __privateGet(this, _data).build({\n      onlyTransactionKind: options.onlyTransactionKind\n    });\n  }\n  /** Derive transaction digest */\n  async getDigest(options = {}) {\n    await __privateMethod(this, _Transaction_instances, prepareBuild_fn).call(this, options);\n    return __privateGet(this, _data).getDigest();\n  }\n  async prepareForSerialization(options) {\n    const intents = /* @__PURE__ */ new Set();\n    for (const command of __privateGet(this, _data).commands) {\n      if (command.$Intent) {\n        intents.add(command.$Intent.name);\n      }\n    }\n    const steps = [...__privateGet(this, _serializationPlugins)];\n    for (const intent of intents) {\n      if (options.supportedIntents?.includes(intent)) {\n        continue;\n      }\n      if (!__privateGet(this, _intentResolvers).has(intent)) {\n        throw new Error(`Missing intent resolver for ${intent}`);\n      }\n      steps.push(__privateGet(this, _intentResolvers).get(intent));\n    }\n    await __privateMethod(this, _Transaction_instances, runPlugins_fn).call(this, steps, options);\n  }\n};\n_serializationPlugins = new WeakMap();\n_buildPlugins = new WeakMap();\n_intentResolvers = new WeakMap();\n_data = new WeakMap();\n_Transaction_instances = new WeakSet();\nnormalizeTransactionArgument_fn = function(arg) {\n  if (isSerializedBcs(arg)) {\n    return this.pure(arg);\n  }\n  return __privateMethod(this, _Transaction_instances, resolveArgument_fn).call(this, arg);\n};\nresolveArgument_fn = function(arg) {\n  if (typeof arg === \"function\") {\n    return parse(Argument, arg(this));\n  }\n  return parse(Argument, arg);\n};\nprepareBuild_fn = async function(options) {\n  if (!options.onlyTransactionKind && !__privateGet(this, _data).sender) {\n    throw new Error(\"Missing transaction sender\");\n  }\n  await __privateMethod(this, _Transaction_instances, runPlugins_fn).call(this, [...__privateGet(this, _buildPlugins), resolveTransactionData], options);\n};\nrunPlugins_fn = async function(plugins, options) {\n  const createNext = (i) => {\n    if (i >= plugins.length) {\n      return () => {\n      };\n    }\n    const plugin = plugins[i];\n    return async () => {\n      const next = createNext(i + 1);\n      let calledNext = false;\n      let nextResolved = false;\n      await plugin(__privateGet(this, _data), options, async () => {\n        if (calledNext) {\n          throw new Error(`next() was call multiple times in TransactionPlugin ${i}`);\n        }\n        calledNext = true;\n        await next();\n        nextResolved = true;\n      });\n      if (!calledNext) {\n        throw new Error(`next() was not called in TransactionPlugin ${i}`);\n      }\n      if (!nextResolved) {\n        throw new Error(`next() was not awaited in TransactionPlugin ${i}`);\n      }\n    };\n  };\n  await createNext(0)();\n};\nlet Transaction = _Transaction;\nexport {\n  Transaction,\n  isTransaction\n};\n//# sourceMappingURL=Transaction.js.map\n","function createObjectMethods(makeObject) {\n  function object(value) {\n    return makeObject(value);\n  }\n  object.system = () => object(\"0x5\");\n  object.clock = () => object(\"0x6\");\n  object.random = () => object(\"0x8\");\n  object.denyList = () => object(\"0x403\");\n  return object;\n}\nexport {\n  createObjectMethods\n};\n//# sourceMappingURL=object.js.map\n","import { normalizeSuiObjectId } from \"./sui-types.js\";\nconst SUI_DECIMALS = 9;\nconst MIST_PER_SUI = BigInt(1e9);\nconst MOVE_STDLIB_ADDRESS = \"0x1\";\nconst SUI_FRAMEWORK_ADDRESS = \"0x2\";\nconst SUI_SYSTEM_ADDRESS = \"0x3\";\nconst SUI_CLOCK_OBJECT_ID = normalizeSuiObjectId(\"0x6\");\nconst SUI_SYSTEM_MODULE_NAME = \"sui_system\";\nconst SUI_TYPE_ARG = `${SUI_FRAMEWORK_ADDRESS}::sui::SUI`;\nconst SUI_SYSTEM_STATE_OBJECT_ID = normalizeSuiObjectId(\"0x5\");\nexport {\n  MIST_PER_SUI,\n  MOVE_STDLIB_ADDRESS,\n  SUI_CLOCK_OBJECT_ID,\n  SUI_DECIMALS,\n  SUI_FRAMEWORK_ADDRESS,\n  SUI_SYSTEM_ADDRESS,\n  SUI_SYSTEM_MODULE_NAME,\n  SUI_SYSTEM_STATE_OBJECT_ID,\n  SUI_TYPE_ARG\n};\n//# sourceMappingURL=constants.js.map\n","import { fromBase58, splitGenericParameters } from \"@mysten/bcs\";\nconst TX_DIGEST_LENGTH = 32;\nfunction isValidTransactionDigest(value) {\n  try {\n    const buffer = fromBase58(value);\n    return buffer.length === TX_DIGEST_LENGTH;\n  } catch (e) {\n    return false;\n  }\n}\nconst SUI_ADDRESS_LENGTH = 32;\nfunction isValidSuiAddress(value) {\n  return isHex(value) && getHexByteLength(value) === SUI_ADDRESS_LENGTH;\n}\nfunction isValidSuiObjectId(value) {\n  return isValidSuiAddress(value);\n}\nfunction parseTypeTag(type) {\n  if (!type.includes(\"::\")) return type;\n  return parseStructTag(type);\n}\nfunction parseStructTag(type) {\n  const [address, module] = type.split(\"::\");\n  const rest = type.slice(address.length + module.length + 4);\n  const name = rest.includes(\"<\") ? rest.slice(0, rest.indexOf(\"<\")) : rest;\n  const typeParams = rest.includes(\"<\") ? splitGenericParameters(rest.slice(rest.indexOf(\"<\") + 1, rest.lastIndexOf(\">\"))).map(\n    (typeParam) => parseTypeTag(typeParam.trim())\n  ) : [];\n  return {\n    address: normalizeSuiAddress(address),\n    module,\n    name,\n    typeParams\n  };\n}\nfunction normalizeStructTag(type) {\n  const { address, module, name, typeParams } = typeof type === \"string\" ? parseStructTag(type) : type;\n  const formattedTypeParams = typeParams?.length > 0 ? `<${typeParams.map(\n    (typeParam) => typeof typeParam === \"string\" ? typeParam : normalizeStructTag(typeParam)\n  ).join(\",\")}>` : \"\";\n  return `${address}::${module}::${name}${formattedTypeParams}`;\n}\nfunction normalizeSuiAddress(value, forceAdd0x = false) {\n  let address = value.toLowerCase();\n  if (!forceAdd0x && address.startsWith(\"0x\")) {\n    address = address.slice(2);\n  }\n  return `0x${address.padStart(SUI_ADDRESS_LENGTH * 2, \"0\")}`;\n}\nfunction normalizeSuiObjectId(value, forceAdd0x = false) {\n  return normalizeSuiAddress(value, forceAdd0x);\n}\nfunction isHex(value) {\n  return /^(0x|0X)?[a-fA-F0-9]+$/.test(value) && value.length % 2 === 0;\n}\nfunction getHexByteLength(value) {\n  return /^(0x|0X)/.test(value) ? (value.length - 2) / 2 : value.length / 2;\n}\nexport {\n  SUI_ADDRESS_LENGTH,\n  isValidSuiAddress,\n  isValidSuiObjectId,\n  isValidTransactionDigest,\n  normalizeStructTag,\n  normalizeSuiAddress,\n  normalizeSuiObjectId,\n  parseStructTag\n};\n//# sourceMappingURL=sui-types.js.map\n","function number(n) {\n    if (!Number.isSafeInteger(n) || n < 0)\n        throw new Error(`positive integer expected, not ${n}`);\n}\nfunction bool(b) {\n    if (typeof b !== 'boolean')\n        throw new Error(`boolean expected, not ${b}`);\n}\n// copied from utils\nexport function isBytes(a) {\n    return (a instanceof Uint8Array ||\n        (a != null && typeof a === 'object' && a.constructor.name === 'Uint8Array'));\n}\nfunction bytes(b, ...lengths) {\n    if (!isBytes(b))\n        throw new Error('Uint8Array expected');\n    if (lengths.length > 0 && !lengths.includes(b.length))\n        throw new Error(`Uint8Array expected of length ${lengths}, not of length=${b.length}`);\n}\nfunction hash(h) {\n    if (typeof h !== 'function' || typeof h.create !== 'function')\n        throw new Error('Hash should be wrapped by utils.wrapConstructor');\n    number(h.outputLen);\n    number(h.blockLen);\n}\nfunction exists(instance, checkFinished = true) {\n    if (instance.destroyed)\n        throw new Error('Hash instance has been destroyed');\n    if (checkFinished && instance.finished)\n        throw new Error('Hash#digest() has already been called');\n}\nfunction output(out, instance) {\n    bytes(out);\n    const min = instance.outputLen;\n    if (out.length < min) {\n        throw new Error(`digestInto() expects output buffer of length at least ${min}`);\n    }\n}\nexport { number, bool, bytes, hash, exists, output };\nconst assert = { number, bool, bytes, hash, exists, output };\nexport default assert;\n//# sourceMappingURL=_assert.js.map","const U32_MASK64 = /* @__PURE__ */ BigInt(2 ** 32 - 1);\nconst _32n = /* @__PURE__ */ BigInt(32);\n// We are not using BigUint64Array, because they are extremely slow as per 2022\nfunction fromBig(n, le = false) {\n    if (le)\n        return { h: Number(n & U32_MASK64), l: Number((n >> _32n) & U32_MASK64) };\n    return { h: Number((n >> _32n) & U32_MASK64) | 0, l: Number(n & U32_MASK64) | 0 };\n}\nfunction split(lst, le = false) {\n    let Ah = new Uint32Array(lst.length);\n    let Al = new Uint32Array(lst.length);\n    for (let i = 0; i < lst.length; i++) {\n        const { h, l } = fromBig(lst[i], le);\n        [Ah[i], Al[i]] = [h, l];\n    }\n    return [Ah, Al];\n}\nconst toBig = (h, l) => (BigInt(h >>> 0) << _32n) | BigInt(l >>> 0);\n// for Shift in [0, 32)\nconst shrSH = (h, _l, s) => h >>> s;\nconst shrSL = (h, l, s) => (h << (32 - s)) | (l >>> s);\n// Right rotate for Shift in [1, 32)\nconst rotrSH = (h, l, s) => (h >>> s) | (l << (32 - s));\nconst rotrSL = (h, l, s) => (h << (32 - s)) | (l >>> s);\n// Right rotate for Shift in (32, 64), NOTE: 32 is special case.\nconst rotrBH = (h, l, s) => (h << (64 - s)) | (l >>> (s - 32));\nconst rotrBL = (h, l, s) => (h >>> (s - 32)) | (l << (64 - s));\n// Right rotate for shift===32 (just swaps l&h)\nconst rotr32H = (_h, l) => l;\nconst rotr32L = (h, _l) => h;\n// Left rotate for Shift in [1, 32)\nconst rotlSH = (h, l, s) => (h << s) | (l >>> (32 - s));\nconst rotlSL = (h, l, s) => (l << s) | (h >>> (32 - s));\n// Left rotate for Shift in (32, 64), NOTE: 32 is special case.\nconst rotlBH = (h, l, s) => (l << (s - 32)) | (h >>> (64 - s));\nconst rotlBL = (h, l, s) => (h << (s - 32)) | (l >>> (64 - s));\n// JS uses 32-bit signed integers for bitwise operations which means we cannot\n// simple take carry out of low bit sum by shift, we need to use division.\nfunction add(Ah, Al, Bh, Bl) {\n    const l = (Al >>> 0) + (Bl >>> 0);\n    return { h: (Ah + Bh + ((l / 2 ** 32) | 0)) | 0, l: l | 0 };\n}\n// Addition with more than 2 elements\nconst add3L = (Al, Bl, Cl) => (Al >>> 0) + (Bl >>> 0) + (Cl >>> 0);\nconst add3H = (low, Ah, Bh, Ch) => (Ah + Bh + Ch + ((low / 2 ** 32) | 0)) | 0;\nconst add4L = (Al, Bl, Cl, Dl) => (Al >>> 0) + (Bl >>> 0) + (Cl >>> 0) + (Dl >>> 0);\nconst add4H = (low, Ah, Bh, Ch, Dh) => (Ah + Bh + Ch + Dh + ((low / 2 ** 32) | 0)) | 0;\nconst add5L = (Al, Bl, Cl, Dl, El) => (Al >>> 0) + (Bl >>> 0) + (Cl >>> 0) + (Dl >>> 0) + (El >>> 0);\nconst add5H = (low, Ah, Bh, Ch, Dh, Eh) => (Ah + Bh + Ch + Dh + Eh + ((low / 2 ** 32) | 0)) | 0;\n// prettier-ignore\nexport { fromBig, split, toBig, shrSH, shrSL, rotrSH, rotrSL, rotrBH, rotrBL, rotr32H, rotr32L, rotlSH, rotlSL, rotlBH, rotlBL, add, add3L, add3H, add4L, add4H, add5H, add5L, };\n// prettier-ignore\nconst u64 = {\n    fromBig, split, toBig,\n    shrSH, shrSL,\n    rotrSH, rotrSL, rotrBH, rotrBL,\n    rotr32H, rotr32L,\n    rotlSH, rotlSL, rotlBH, rotlBL,\n    add, add3L, add3H, add4L, add4H, add5H, add5L,\n};\nexport default u64;\n//# sourceMappingURL=_u64.js.map","import { number, exists, output } from './_assert.js';\nimport { Hash, toBytes, u32, isLE, byteSwap32, byteSwapIfBE } from './utils.js';\n// Blake is based on ChaCha permutation.\n// For BLAKE2b, the two extra permutations for rounds 10 and 11 are SIGMA[10..11] = SIGMA[0..1].\n// prettier-ignore\nexport const SIGMA = /* @__PURE__ */ new Uint8Array([\n    0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15,\n    14, 10, 4, 8, 9, 15, 13, 6, 1, 12, 0, 2, 11, 7, 5, 3,\n    11, 8, 12, 0, 5, 2, 15, 13, 10, 14, 3, 6, 7, 1, 9, 4,\n    7, 9, 3, 1, 13, 12, 11, 14, 2, 6, 5, 10, 4, 0, 15, 8,\n    9, 0, 5, 7, 2, 4, 10, 15, 14, 1, 11, 12, 6, 8, 3, 13,\n    2, 12, 6, 10, 0, 11, 8, 3, 4, 13, 7, 5, 15, 14, 1, 9,\n    12, 5, 1, 15, 14, 13, 4, 10, 0, 7, 6, 3, 9, 2, 8, 11,\n    13, 11, 7, 14, 12, 1, 3, 9, 5, 0, 15, 4, 8, 6, 2, 10,\n    6, 15, 14, 9, 11, 3, 0, 8, 12, 2, 13, 7, 1, 4, 10, 5,\n    10, 2, 8, 4, 7, 6, 1, 5, 15, 11, 9, 14, 3, 12, 13, 0,\n    0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15,\n    14, 10, 4, 8, 9, 15, 13, 6, 1, 12, 0, 2, 11, 7, 5, 3,\n]);\nexport class BLAKE extends Hash {\n    constructor(blockLen, outputLen, opts = {}, keyLen, saltLen, persLen) {\n        super();\n        this.blockLen = blockLen;\n        this.outputLen = outputLen;\n        this.length = 0;\n        this.pos = 0;\n        this.finished = false;\n        this.destroyed = false;\n        number(blockLen);\n        number(outputLen);\n        number(keyLen);\n        if (outputLen < 0 || outputLen > keyLen)\n            throw new Error('outputLen bigger than keyLen');\n        if (opts.key !== undefined && (opts.key.length < 1 || opts.key.length > keyLen))\n            throw new Error(`key must be up 1..${keyLen} byte long or undefined`);\n        if (opts.salt !== undefined && opts.salt.length !== saltLen)\n            throw new Error(`salt must be ${saltLen} byte long or undefined`);\n        if (opts.personalization !== undefined && opts.personalization.length !== persLen)\n            throw new Error(`personalization must be ${persLen} byte long or undefined`);\n        this.buffer32 = u32((this.buffer = new Uint8Array(blockLen)));\n    }\n    update(data) {\n        exists(this);\n        // Main difference with other hashes: there is flag for last block,\n        // so we cannot process current block before we know that there\n        // is the next one. This significantly complicates logic and reduces ability\n        // to do zero-copy processing\n        const { blockLen, buffer, buffer32 } = this;\n        data = toBytes(data);\n        const len = data.length;\n        const offset = data.byteOffset;\n        const buf = data.buffer;\n        for (let pos = 0; pos < len;) {\n            // If buffer is full and we still have input (don't process last block, same as blake2s)\n            if (this.pos === blockLen) {\n                if (!isLE)\n                    byteSwap32(buffer32);\n                this.compress(buffer32, 0, false);\n                if (!isLE)\n                    byteSwap32(buffer32);\n                this.pos = 0;\n            }\n            const take = Math.min(blockLen - this.pos, len - pos);\n            const dataOffset = offset + pos;\n            // full block && aligned to 4 bytes && not last in input\n            if (take === blockLen && !(dataOffset % 4) && pos + take < len) {\n                const data32 = new Uint32Array(buf, dataOffset, Math.floor((len - pos) / 4));\n                if (!isLE)\n                    byteSwap32(data32);\n                for (let pos32 = 0; pos + blockLen < len; pos32 += buffer32.length, pos += blockLen) {\n                    this.length += blockLen;\n                    this.compress(data32, pos32, false);\n                }\n                if (!isLE)\n                    byteSwap32(data32);\n                continue;\n            }\n            buffer.set(data.subarray(pos, pos + take), this.pos);\n            this.pos += take;\n            this.length += take;\n            pos += take;\n        }\n        return this;\n    }\n    digestInto(out) {\n        exists(this);\n        output(out, this);\n        const { pos, buffer32 } = this;\n        this.finished = true;\n        // Padding\n        this.buffer.subarray(pos).fill(0);\n        if (!isLE)\n            byteSwap32(buffer32);\n        this.compress(buffer32, 0, true);\n        if (!isLE)\n            byteSwap32(buffer32);\n        const out32 = u32(out);\n        this.get().forEach((v, i) => (out32[i] = byteSwapIfBE(v)));\n    }\n    digest() {\n        const { buffer, outputLen } = this;\n        this.digestInto(buffer);\n        const res = buffer.slice(0, outputLen);\n        this.destroy();\n        return res;\n    }\n    _cloneInto(to) {\n        const { buffer, length, finished, destroyed, outputLen, pos } = this;\n        to || (to = new this.constructor({ dkLen: outputLen }));\n        to.set(...this.get());\n        to.length = length;\n        to.finished = finished;\n        to.destroyed = destroyed;\n        to.outputLen = outputLen;\n        to.buffer.set(buffer);\n        to.pos = pos;\n        return to;\n    }\n}\n//# sourceMappingURL=_blake.js.map","import { BLAKE, SIGMA } from './_blake.js';\nimport u64 from './_u64.js';\nimport { toBytes, u32, wrapConstructorWithOpts, byteSwapIfBE } from './utils.js';\n// Same as SHA-512 but LE\n// prettier-ignore\nconst B2B_IV = /* @__PURE__ */ new Uint32Array([\n    0xf3bcc908, 0x6a09e667, 0x84caa73b, 0xbb67ae85, 0xfe94f82b, 0x3c6ef372, 0x5f1d36f1, 0xa54ff53a,\n    0xade682d1, 0x510e527f, 0x2b3e6c1f, 0x9b05688c, 0xfb41bd6b, 0x1f83d9ab, 0x137e2179, 0x5be0cd19\n]);\n// Temporary buffer\nconst BBUF = /* @__PURE__ */ new Uint32Array(32);\n// Mixing function G splitted in two halfs\nfunction G1b(a, b, c, d, msg, x) {\n    // NOTE: V is LE here\n    const Xl = msg[x], Xh = msg[x + 1]; // prettier-ignore\n    let Al = BBUF[2 * a], Ah = BBUF[2 * a + 1]; // prettier-ignore\n    let Bl = BBUF[2 * b], Bh = BBUF[2 * b + 1]; // prettier-ignore\n    let Cl = BBUF[2 * c], Ch = BBUF[2 * c + 1]; // prettier-ignore\n    let Dl = BBUF[2 * d], Dh = BBUF[2 * d + 1]; // prettier-ignore\n    // v[a] = (v[a] + v[b] + x) | 0;\n    let ll = u64.add3L(Al, Bl, Xl);\n    Ah = u64.add3H(ll, Ah, Bh, Xh);\n    Al = ll | 0;\n    // v[d] = rotr(v[d] ^ v[a], 32)\n    ({ Dh, Dl } = { Dh: Dh ^ Ah, Dl: Dl ^ Al });\n    ({ Dh, Dl } = { Dh: u64.rotr32H(Dh, Dl), Dl: u64.rotr32L(Dh, Dl) });\n    // v[c] = (v[c] + v[d]) | 0;\n    ({ h: Ch, l: Cl } = u64.add(Ch, Cl, Dh, Dl));\n    // v[b] = rotr(v[b] ^ v[c], 24)\n    ({ Bh, Bl } = { Bh: Bh ^ Ch, Bl: Bl ^ Cl });\n    ({ Bh, Bl } = { Bh: u64.rotrSH(Bh, Bl, 24), Bl: u64.rotrSL(Bh, Bl, 24) });\n    (BBUF[2 * a] = Al), (BBUF[2 * a + 1] = Ah);\n    (BBUF[2 * b] = Bl), (BBUF[2 * b + 1] = Bh);\n    (BBUF[2 * c] = Cl), (BBUF[2 * c + 1] = Ch);\n    (BBUF[2 * d] = Dl), (BBUF[2 * d + 1] = Dh);\n}\nfunction G2b(a, b, c, d, msg, x) {\n    // NOTE: V is LE here\n    const Xl = msg[x], Xh = msg[x + 1]; // prettier-ignore\n    let Al = BBUF[2 * a], Ah = BBUF[2 * a + 1]; // prettier-ignore\n    let Bl = BBUF[2 * b], Bh = BBUF[2 * b + 1]; // prettier-ignore\n    let Cl = BBUF[2 * c], Ch = BBUF[2 * c + 1]; // prettier-ignore\n    let Dl = BBUF[2 * d], Dh = BBUF[2 * d + 1]; // prettier-ignore\n    // v[a] = (v[a] + v[b] + x) | 0;\n    let ll = u64.add3L(Al, Bl, Xl);\n    Ah = u64.add3H(ll, Ah, Bh, Xh);\n    Al = ll | 0;\n    // v[d] = rotr(v[d] ^ v[a], 16)\n    ({ Dh, Dl } = { Dh: Dh ^ Ah, Dl: Dl ^ Al });\n    ({ Dh, Dl } = { Dh: u64.rotrSH(Dh, Dl, 16), Dl: u64.rotrSL(Dh, Dl, 16) });\n    // v[c] = (v[c] + v[d]) | 0;\n    ({ h: Ch, l: Cl } = u64.add(Ch, Cl, Dh, Dl));\n    // v[b] = rotr(v[b] ^ v[c], 63)\n    ({ Bh, Bl } = { Bh: Bh ^ Ch, Bl: Bl ^ Cl });\n    ({ Bh, Bl } = { Bh: u64.rotrBH(Bh, Bl, 63), Bl: u64.rotrBL(Bh, Bl, 63) });\n    (BBUF[2 * a] = Al), (BBUF[2 * a + 1] = Ah);\n    (BBUF[2 * b] = Bl), (BBUF[2 * b + 1] = Bh);\n    (BBUF[2 * c] = Cl), (BBUF[2 * c + 1] = Ch);\n    (BBUF[2 * d] = Dl), (BBUF[2 * d + 1] = Dh);\n}\nclass BLAKE2b extends BLAKE {\n    constructor(opts = {}) {\n        super(128, opts.dkLen === undefined ? 64 : opts.dkLen, opts, 64, 16, 16);\n        // Same as SHA-512, but LE\n        this.v0l = B2B_IV[0] | 0;\n        this.v0h = B2B_IV[1] | 0;\n        this.v1l = B2B_IV[2] | 0;\n        this.v1h = B2B_IV[3] | 0;\n        this.v2l = B2B_IV[4] | 0;\n        this.v2h = B2B_IV[5] | 0;\n        this.v3l = B2B_IV[6] | 0;\n        this.v3h = B2B_IV[7] | 0;\n        this.v4l = B2B_IV[8] | 0;\n        this.v4h = B2B_IV[9] | 0;\n        this.v5l = B2B_IV[10] | 0;\n        this.v5h = B2B_IV[11] | 0;\n        this.v6l = B2B_IV[12] | 0;\n        this.v6h = B2B_IV[13] | 0;\n        this.v7l = B2B_IV[14] | 0;\n        this.v7h = B2B_IV[15] | 0;\n        const keyLength = opts.key ? opts.key.length : 0;\n        this.v0l ^= this.outputLen | (keyLength << 8) | (0x01 << 16) | (0x01 << 24);\n        if (opts.salt) {\n            const salt = u32(toBytes(opts.salt));\n            this.v4l ^= byteSwapIfBE(salt[0]);\n            this.v4h ^= byteSwapIfBE(salt[1]);\n            this.v5l ^= byteSwapIfBE(salt[2]);\n            this.v5h ^= byteSwapIfBE(salt[3]);\n        }\n        if (opts.personalization) {\n            const pers = u32(toBytes(opts.personalization));\n            this.v6l ^= byteSwapIfBE(pers[0]);\n            this.v6h ^= byteSwapIfBE(pers[1]);\n            this.v7l ^= byteSwapIfBE(pers[2]);\n            this.v7h ^= byteSwapIfBE(pers[3]);\n        }\n        if (opts.key) {\n            // Pad to blockLen and update\n            const tmp = new Uint8Array(this.blockLen);\n            tmp.set(toBytes(opts.key));\n            this.update(tmp);\n        }\n    }\n    // prettier-ignore\n    get() {\n        let { v0l, v0h, v1l, v1h, v2l, v2h, v3l, v3h, v4l, v4h, v5l, v5h, v6l, v6h, v7l, v7h } = this;\n        return [v0l, v0h, v1l, v1h, v2l, v2h, v3l, v3h, v4l, v4h, v5l, v5h, v6l, v6h, v7l, v7h];\n    }\n    // prettier-ignore\n    set(v0l, v0h, v1l, v1h, v2l, v2h, v3l, v3h, v4l, v4h, v5l, v5h, v6l, v6h, v7l, v7h) {\n        this.v0l = v0l | 0;\n        this.v0h = v0h | 0;\n        this.v1l = v1l | 0;\n        this.v1h = v1h | 0;\n        this.v2l = v2l | 0;\n        this.v2h = v2h | 0;\n        this.v3l = v3l | 0;\n        this.v3h = v3h | 0;\n        this.v4l = v4l | 0;\n        this.v4h = v4h | 0;\n        this.v5l = v5l | 0;\n        this.v5h = v5h | 0;\n        this.v6l = v6l | 0;\n        this.v6h = v6h | 0;\n        this.v7l = v7l | 0;\n        this.v7h = v7h | 0;\n    }\n    compress(msg, offset, isLast) {\n        this.get().forEach((v, i) => (BBUF[i] = v)); // First half from state.\n        BBUF.set(B2B_IV, 16); // Second half from IV.\n        let { h, l } = u64.fromBig(BigInt(this.length));\n        BBUF[24] = B2B_IV[8] ^ l; // Low word of the offset.\n        BBUF[25] = B2B_IV[9] ^ h; // High word.\n        // Invert all bits for last block\n        if (isLast) {\n            BBUF[28] = ~BBUF[28];\n            BBUF[29] = ~BBUF[29];\n        }\n        let j = 0;\n        const s = SIGMA;\n        for (let i = 0; i < 12; i++) {\n            G1b(0, 4, 8, 12, msg, offset + 2 * s[j++]);\n            G2b(0, 4, 8, 12, msg, offset + 2 * s[j++]);\n            G1b(1, 5, 9, 13, msg, offset + 2 * s[j++]);\n            G2b(1, 5, 9, 13, msg, offset + 2 * s[j++]);\n            G1b(2, 6, 10, 14, msg, offset + 2 * s[j++]);\n            G2b(2, 6, 10, 14, msg, offset + 2 * s[j++]);\n            G1b(3, 7, 11, 15, msg, offset + 2 * s[j++]);\n            G2b(3, 7, 11, 15, msg, offset + 2 * s[j++]);\n            G1b(0, 5, 10, 15, msg, offset + 2 * s[j++]);\n            G2b(0, 5, 10, 15, msg, offset + 2 * s[j++]);\n            G1b(1, 6, 11, 12, msg, offset + 2 * s[j++]);\n            G2b(1, 6, 11, 12, msg, offset + 2 * s[j++]);\n            G1b(2, 7, 8, 13, msg, offset + 2 * s[j++]);\n            G2b(2, 7, 8, 13, msg, offset + 2 * s[j++]);\n            G1b(3, 4, 9, 14, msg, offset + 2 * s[j++]);\n            G2b(3, 4, 9, 14, msg, offset + 2 * s[j++]);\n        }\n        this.v0l ^= BBUF[0] ^ BBUF[16];\n        this.v0h ^= BBUF[1] ^ BBUF[17];\n        this.v1l ^= BBUF[2] ^ BBUF[18];\n        this.v1h ^= BBUF[3] ^ BBUF[19];\n        this.v2l ^= BBUF[4] ^ BBUF[20];\n        this.v2h ^= BBUF[5] ^ BBUF[21];\n        this.v3l ^= BBUF[6] ^ BBUF[22];\n        this.v3h ^= BBUF[7] ^ BBUF[23];\n        this.v4l ^= BBUF[8] ^ BBUF[24];\n        this.v4h ^= BBUF[9] ^ BBUF[25];\n        this.v5l ^= BBUF[10] ^ BBUF[26];\n        this.v5h ^= BBUF[11] ^ BBUF[27];\n        this.v6l ^= BBUF[12] ^ BBUF[28];\n        this.v6h ^= BBUF[13] ^ BBUF[29];\n        this.v7l ^= BBUF[14] ^ BBUF[30];\n        this.v7h ^= BBUF[15] ^ BBUF[31];\n        BBUF.fill(0);\n    }\n    destroy() {\n        this.destroyed = true;\n        this.buffer32.fill(0);\n        this.set(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0);\n    }\n}\n/**\n * BLAKE2b - optimized for 64-bit platforms. JS doesn't have uint64, so it's slower than BLAKE2s.\n * @param msg - message that would be hashed\n * @param opts - dkLen, key, salt, personalization\n */\nexport const blake2b = /* @__PURE__ */ wrapConstructorWithOpts((opts) => new BLAKE2b(opts));\n//# sourceMappingURL=blake2b.js.map","/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */\n// We use WebCrypto aka globalThis.crypto, which exists in browsers and node.js 16+.\n// node.js versions earlier than v19 don't declare it in global scope.\n// For node.js, package.json#exports field mapping rewrites import\n// from `crypto` to `cryptoNode`, which imports native module.\n// Makes the utils un-importable in browsers without a bundler.\n// Once node.js 18 is deprecated (2025-04-30), we can just drop the import.\nimport { crypto } from '@noble/hashes/crypto';\nimport { bytes as abytes } from './_assert.js';\n// export { isBytes } from './_assert.js';\n// We can't reuse isBytes from _assert, because somehow this causes huge perf issues\nexport function isBytes(a) {\n    return (a instanceof Uint8Array ||\n        (a != null && typeof a === 'object' && a.constructor.name === 'Uint8Array'));\n}\n// Cast array to different type\nexport const u8 = (arr) => new Uint8Array(arr.buffer, arr.byteOffset, arr.byteLength);\nexport const u32 = (arr) => new Uint32Array(arr.buffer, arr.byteOffset, Math.floor(arr.byteLength / 4));\n// Cast array to view\nexport const createView = (arr) => new DataView(arr.buffer, arr.byteOffset, arr.byteLength);\n// The rotate right (circular right shift) operation for uint32\nexport const rotr = (word, shift) => (word << (32 - shift)) | (word >>> shift);\n// The rotate left (circular left shift) operation for uint32\nexport const rotl = (word, shift) => (word << shift) | ((word >>> (32 - shift)) >>> 0);\nexport const isLE = new Uint8Array(new Uint32Array([0x11223344]).buffer)[0] === 0x44;\n// The byte swap operation for uint32\nexport const byteSwap = (word) => ((word << 24) & 0xff000000) |\n    ((word << 8) & 0xff0000) |\n    ((word >>> 8) & 0xff00) |\n    ((word >>> 24) & 0xff);\n// Conditionally byte swap if on a big-endian platform\nexport const byteSwapIfBE = isLE ? (n) => n : (n) => byteSwap(n);\n// In place byte swap for Uint32Array\nexport function byteSwap32(arr) {\n    for (let i = 0; i < arr.length; i++) {\n        arr[i] = byteSwap(arr[i]);\n    }\n}\n// Array where index 0xf0 (240) is mapped to string 'f0'\nconst hexes = /* @__PURE__ */ Array.from({ length: 256 }, (_, i) => i.toString(16).padStart(2, '0'));\n/**\n * @example bytesToHex(Uint8Array.from([0xca, 0xfe, 0x01, 0x23])) // 'cafe0123'\n */\nexport function bytesToHex(bytes) {\n    abytes(bytes);\n    // pre-caching improves the speed 6x\n    let hex = '';\n    for (let i = 0; i < bytes.length; i++) {\n        hex += hexes[bytes[i]];\n    }\n    return hex;\n}\n// We use optimized technique to convert hex string to byte array\nconst asciis = { _0: 48, _9: 57, _A: 65, _F: 70, _a: 97, _f: 102 };\nfunction asciiToBase16(char) {\n    if (char >= asciis._0 && char <= asciis._9)\n        return char - asciis._0;\n    if (char >= asciis._A && char <= asciis._F)\n        return char - (asciis._A - 10);\n    if (char >= asciis._a && char <= asciis._f)\n        return char - (asciis._a - 10);\n    return;\n}\n/**\n * @example hexToBytes('cafe0123') // Uint8Array.from([0xca, 0xfe, 0x01, 0x23])\n */\nexport function hexToBytes(hex) {\n    if (typeof hex !== 'string')\n        throw new Error('hex string expected, got ' + typeof hex);\n    const hl = hex.length;\n    const al = hl / 2;\n    if (hl % 2)\n        throw new Error('padded hex string expected, got unpadded hex of length ' + hl);\n    const array = new Uint8Array(al);\n    for (let ai = 0, hi = 0; ai < al; ai++, hi += 2) {\n        const n1 = asciiToBase16(hex.charCodeAt(hi));\n        const n2 = asciiToBase16(hex.charCodeAt(hi + 1));\n        if (n1 === undefined || n2 === undefined) {\n            const char = hex[hi] + hex[hi + 1];\n            throw new Error('hex string expected, got non-hex character \"' + char + '\" at index ' + hi);\n        }\n        array[ai] = n1 * 16 + n2;\n    }\n    return array;\n}\n// There is no setImmediate in browser and setTimeout is slow.\n// call of async fn will return Promise, which will be fullfiled only on\n// next scheduler queue processing step and this is exactly what we need.\nexport const nextTick = async () => { };\n// Returns control to thread each 'tick' ms to avoid blocking\nexport async function asyncLoop(iters, tick, cb) {\n    let ts = Date.now();\n    for (let i = 0; i < iters; i++) {\n        cb(i);\n        // Date.now() is not monotonic, so in case if clock goes backwards we return return control too\n        const diff = Date.now() - ts;\n        if (diff >= 0 && diff < tick)\n            continue;\n        await nextTick();\n        ts += diff;\n    }\n}\n/**\n * @example utf8ToBytes('abc') // new Uint8Array([97, 98, 99])\n */\nexport function utf8ToBytes(str) {\n    if (typeof str !== 'string')\n        throw new Error(`utf8ToBytes expected string, got ${typeof str}`);\n    return new Uint8Array(new TextEncoder().encode(str)); // https://bugzil.la/1681809\n}\n/**\n * Normalizes (non-hex) string or Uint8Array to Uint8Array.\n * Warning: when Uint8Array is passed, it would NOT get copied.\n * Keep in mind for future mutable operations.\n */\nexport function toBytes(data) {\n    if (typeof data === 'string')\n        data = utf8ToBytes(data);\n    abytes(data);\n    return data;\n}\n/**\n * Copies several Uint8Arrays into one.\n */\nexport function concatBytes(...arrays) {\n    let sum = 0;\n    for (let i = 0; i < arrays.length; i++) {\n        const a = arrays[i];\n        abytes(a);\n        sum += a.length;\n    }\n    const res = new Uint8Array(sum);\n    for (let i = 0, pad = 0; i < arrays.length; i++) {\n        const a = arrays[i];\n        res.set(a, pad);\n        pad += a.length;\n    }\n    return res;\n}\n// For runtime check if class implements interface\nexport class Hash {\n    // Safe version that clones internal state\n    clone() {\n        return this._cloneInto();\n    }\n}\nconst toStr = {}.toString;\nexport function checkOpts(defaults, opts) {\n    if (opts !== undefined && toStr.call(opts) !== '[object Object]')\n        throw new Error('Options should be object or undefined');\n    const merged = Object.assign(defaults, opts);\n    return merged;\n}\nexport function wrapConstructor(hashCons) {\n    const hashC = (msg) => hashCons().update(toBytes(msg)).digest();\n    const tmp = hashCons();\n    hashC.outputLen = tmp.outputLen;\n    hashC.blockLen = tmp.blockLen;\n    hashC.create = () => hashCons();\n    return hashC;\n}\nexport function wrapConstructorWithOpts(hashCons) {\n    const hashC = (msg, opts) => hashCons(opts).update(toBytes(msg)).digest();\n    const tmp = hashCons({});\n    hashC.outputLen = tmp.outputLen;\n    hashC.blockLen = tmp.blockLen;\n    hashC.create = (opts) => hashCons(opts);\n    return hashC;\n}\nexport function wrapXOFConstructorWithOpts(hashCons) {\n    const hashC = (msg, opts) => hashCons(opts).update(toBytes(msg)).digest();\n    const tmp = hashCons({});\n    hashC.outputLen = tmp.outputLen;\n    hashC.blockLen = tmp.blockLen;\n    hashC.create = (opts) => hashCons(opts);\n    return hashC;\n}\n/**\n * Secure PRNG. Uses `crypto.getRandomValues`, which defers to OS.\n */\nexport function randomBytes(bytesLength = 32) {\n    if (crypto && typeof crypto.getRandomValues === 'function') {\n        return crypto.getRandomValues(new Uint8Array(bytesLength));\n    }\n    throw new Error('crypto.getRandomValues must be defined');\n}\n//# sourceMappingURL=utils.js.map","function number(n) {\n    if (!Number.isSafeInteger(n) || n < 0)\n        throw new Error(`Wrong positive integer: ${n}`);\n}\nfunction bool(b) {\n    if (typeof b !== 'boolean')\n        throw new Error(`Expected boolean, not ${b}`);\n}\nfunction bytes(b, ...lengths) {\n    if (!(b instanceof Uint8Array))\n        throw new Error('Expected Uint8Array');\n    if (lengths.length > 0 && !lengths.includes(b.length))\n        throw new Error(`Expected Uint8Array of length ${lengths}, not of length=${b.length}`);\n}\nfunction hash(hash) {\n    if (typeof hash !== 'function' || typeof hash.create !== 'function')\n        throw new Error('Hash should be wrapped by utils.wrapConstructor');\n    number(hash.outputLen);\n    number(hash.blockLen);\n}\nfunction exists(instance, checkFinished = true) {\n    if (instance.destroyed)\n        throw new Error('Hash instance has been destroyed');\n    if (checkFinished && instance.finished)\n        throw new Error('Hash#digest() has already been called');\n}\nfunction output(out, instance) {\n    bytes(out);\n    const min = instance.outputLen;\n    if (out.length < min) {\n        throw new Error(`digestInto() expects output buffer of length at least ${min}`);\n    }\n}\nexport { number, bool, bytes, hash, exists, output };\nconst assert = { number, bool, bytes, hash, exists, output };\nexport default assert;\n//# sourceMappingURL=_assert.js.map","export const crypto = typeof globalThis === 'object' && 'crypto' in globalThis ? globalThis.crypto : undefined;\n//# sourceMappingURL=crypto.js.map","/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */\n// We use WebCrypto aka globalThis.crypto, which exists in browsers and node.js 16+.\n// node.js versions earlier than v19 don't declare it in global scope.\n// For node.js, package.json#exports field mapping rewrites import\n// from `crypto` to `cryptoNode`, which imports native module.\n// Makes the utils un-importable in browsers without a bundler.\n// Once node.js 18 is deprecated, we can just drop the import.\nimport { crypto } from '@noble/hashes/crypto';\nconst u8a = (a) => a instanceof Uint8Array;\n// Cast array to different type\nexport const u8 = (arr) => new Uint8Array(arr.buffer, arr.byteOffset, arr.byteLength);\nexport const u32 = (arr) => new Uint32Array(arr.buffer, arr.byteOffset, Math.floor(arr.byteLength / 4));\n// Cast array to view\nexport const createView = (arr) => new DataView(arr.buffer, arr.byteOffset, arr.byteLength);\n// The rotate right (circular right shift) operation for uint32\nexport const rotr = (word, shift) => (word << (32 - shift)) | (word >>> shift);\n// big-endian hardware is rare. Just in case someone still decides to run hashes:\n// early-throw an error because we don't support BE yet.\nexport const isLE = new Uint8Array(new Uint32Array([0x11223344]).buffer)[0] === 0x44;\nif (!isLE)\n    throw new Error('Non little-endian hardware is not supported');\nconst hexes = /* @__PURE__ */ Array.from({ length: 256 }, (_, i) => i.toString(16).padStart(2, '0'));\n/**\n * @example bytesToHex(Uint8Array.from([0xca, 0xfe, 0x01, 0x23])) // 'cafe0123'\n */\nexport function bytesToHex(bytes) {\n    if (!u8a(bytes))\n        throw new Error('Uint8Array expected');\n    // pre-caching improves the speed 6x\n    let hex = '';\n    for (let i = 0; i < bytes.length; i++) {\n        hex += hexes[bytes[i]];\n    }\n    return hex;\n}\n/**\n * @example hexToBytes('cafe0123') // Uint8Array.from([0xca, 0xfe, 0x01, 0x23])\n */\nexport function hexToBytes(hex) {\n    if (typeof hex !== 'string')\n        throw new Error('hex string expected, got ' + typeof hex);\n    const len = hex.length;\n    if (len % 2)\n        throw new Error('padded hex string expected, got unpadded hex of length ' + len);\n    const array = new Uint8Array(len / 2);\n    for (let i = 0; i < array.length; i++) {\n        const j = i * 2;\n        const hexByte = hex.slice(j, j + 2);\n        const byte = Number.parseInt(hexByte, 16);\n        if (Number.isNaN(byte) || byte < 0)\n            throw new Error('Invalid byte sequence');\n        array[i] = byte;\n    }\n    return array;\n}\n// There is no setImmediate in browser and setTimeout is slow.\n// call of async fn will return Promise, which will be fullfiled only on\n// next scheduler queue processing step and this is exactly what we need.\nexport const nextTick = async () => { };\n// Returns control to thread each 'tick' ms to avoid blocking\nexport async function asyncLoop(iters, tick, cb) {\n    let ts = Date.now();\n    for (let i = 0; i < iters; i++) {\n        cb(i);\n        // Date.now() is not monotonic, so in case if clock goes backwards we return return control too\n        const diff = Date.now() - ts;\n        if (diff >= 0 && diff < tick)\n            continue;\n        await nextTick();\n        ts += diff;\n    }\n}\n/**\n * @example utf8ToBytes('abc') // new Uint8Array([97, 98, 99])\n */\nexport function utf8ToBytes(str) {\n    if (typeof str !== 'string')\n        throw new Error(`utf8ToBytes expected string, got ${typeof str}`);\n    return new Uint8Array(new TextEncoder().encode(str)); // https://bugzil.la/1681809\n}\n/**\n * Normalizes (non-hex) string or Uint8Array to Uint8Array.\n * Warning: when Uint8Array is passed, it would NOT get copied.\n * Keep in mind for future mutable operations.\n */\nexport function toBytes(data) {\n    if (typeof data === 'string')\n        data = utf8ToBytes(data);\n    if (!u8a(data))\n        throw new Error(`expected Uint8Array, got ${typeof data}`);\n    return data;\n}\n/**\n * Copies several Uint8Arrays into one.\n */\nexport function concatBytes(...arrays) {\n    const r = new Uint8Array(arrays.reduce((sum, a) => sum + a.length, 0));\n    let pad = 0; // walk through each item, ensure they have proper type\n    arrays.forEach((a) => {\n        if (!u8a(a))\n            throw new Error('Uint8Array expected');\n        r.set(a, pad);\n        pad += a.length;\n    });\n    return r;\n}\n// For runtime check if class implements interface\nexport class Hash {\n    // Safe version that clones internal state\n    clone() {\n        return this._cloneInto();\n    }\n}\nconst toStr = {}.toString;\nexport function checkOpts(defaults, opts) {\n    if (opts !== undefined && toStr.call(opts) !== '[object Object]')\n        throw new Error('Options should be object or undefined');\n    const merged = Object.assign(defaults, opts);\n    return merged;\n}\nexport function wrapConstructor(hashCons) {\n    const hashC = (msg) => hashCons().update(toBytes(msg)).digest();\n    const tmp = hashCons();\n    hashC.outputLen = tmp.outputLen;\n    hashC.blockLen = tmp.blockLen;\n    hashC.create = () => hashCons();\n    return hashC;\n}\nexport function wrapConstructorWithOpts(hashCons) {\n    const hashC = (msg, opts) => hashCons(opts).update(toBytes(msg)).digest();\n    const tmp = hashCons({});\n    hashC.outputLen = tmp.outputLen;\n    hashC.blockLen = tmp.blockLen;\n    hashC.create = (opts) => hashCons(opts);\n    return hashC;\n}\nexport function wrapXOFConstructorWithOpts(hashCons) {\n    const hashC = (msg, opts) => hashCons(opts).update(toBytes(msg)).digest();\n    const tmp = hashCons({});\n    hashC.outputLen = tmp.outputLen;\n    hashC.blockLen = tmp.blockLen;\n    hashC.create = (opts) => hashCons(opts);\n    return hashC;\n}\n/**\n * Secure PRNG. Uses `crypto.getRandomValues`, which defers to OS.\n */\nexport function randomBytes(bytesLength = 32) {\n    if (crypto && typeof crypto.getRandomValues === 'function') {\n        return crypto.getRandomValues(new Uint8Array(bytesLength));\n    }\n    throw new Error('crypto.getRandomValues must be defined');\n}\n//# sourceMappingURL=utils.js.map","import { exists, output } from './_assert.js';\nimport { Hash, createView, toBytes } from './utils.js';\n// Polyfill for Safari 14\nfunction setBigUint64(view, byteOffset, value, isLE) {\n    if (typeof view.setBigUint64 === 'function')\n        return view.setBigUint64(byteOffset, value, isLE);\n    const _32n = BigInt(32);\n    const _u32_max = BigInt(0xffffffff);\n    const wh = Number((value >> _32n) & _u32_max);\n    const wl = Number(value & _u32_max);\n    const h = isLE ? 4 : 0;\n    const l = isLE ? 0 : 4;\n    view.setUint32(byteOffset + h, wh, isLE);\n    view.setUint32(byteOffset + l, wl, isLE);\n}\n// Base SHA2 class (RFC 6234)\nexport class SHA2 extends Hash {\n    constructor(blockLen, outputLen, padOffset, isLE) {\n        super();\n        this.blockLen = blockLen;\n        this.outputLen = outputLen;\n        this.padOffset = padOffset;\n        this.isLE = isLE;\n        this.finished = false;\n        this.length = 0;\n        this.pos = 0;\n        this.destroyed = false;\n        this.buffer = new Uint8Array(blockLen);\n        this.view = createView(this.buffer);\n    }\n    update(data) {\n        exists(this);\n        const { view, buffer, blockLen } = this;\n        data = toBytes(data);\n        const len = data.length;\n        for (let pos = 0; pos < len;) {\n            const take = Math.min(blockLen - this.pos, len - pos);\n            // Fast path: we have at least one block in input, cast it to view and process\n            if (take === blockLen) {\n                const dataView = createView(data);\n                for (; blockLen <= len - pos; pos += blockLen)\n                    this.process(dataView, pos);\n                continue;\n            }\n            buffer.set(data.subarray(pos, pos + take), this.pos);\n            this.pos += take;\n            pos += take;\n            if (this.pos === blockLen) {\n                this.process(view, 0);\n                this.pos = 0;\n            }\n        }\n        this.length += data.length;\n        this.roundClean();\n        return this;\n    }\n    digestInto(out) {\n        exists(this);\n        output(out, this);\n        this.finished = true;\n        // Padding\n        // We can avoid allocation of buffer for padding completely if it\n        // was previously not allocated here. But it won't change performance.\n        const { buffer, view, blockLen, isLE } = this;\n        let { pos } = this;\n        // append the bit '1' to the message\n        buffer[pos++] = 0b10000000;\n        this.buffer.subarray(pos).fill(0);\n        // we have less than padOffset left in buffer, so we cannot put length in current block, need process it and pad again\n        if (this.padOffset > blockLen - pos) {\n            this.process(view, 0);\n            pos = 0;\n        }\n        // Pad until full block byte with zeros\n        for (let i = pos; i < blockLen; i++)\n            buffer[i] = 0;\n        // Note: sha512 requires length to be 128bit integer, but length in JS will overflow before that\n        // You need to write around 2 exabytes (u64_max / 8 / (1024**6)) for this to happen.\n        // So we just write lowest 64 bits of that value.\n        setBigUint64(view, blockLen - 8, BigInt(this.length * 8), isLE);\n        this.process(view, 0);\n        const oview = createView(out);\n        const len = this.outputLen;\n        // NOTE: we do division by 4 later, which should be fused in single op with modulo by JIT\n        if (len % 4)\n            throw new Error('_sha2: outputLen should be aligned to 32bit');\n        const outLen = len / 4;\n        const state = this.get();\n        if (outLen > state.length)\n            throw new Error('_sha2: outputLen bigger than state');\n        for (let i = 0; i < outLen; i++)\n            oview.setUint32(4 * i, state[i], isLE);\n    }\n    digest() {\n        const { buffer, outputLen } = this;\n        this.digestInto(buffer);\n        const res = buffer.slice(0, outputLen);\n        this.destroy();\n        return res;\n    }\n    _cloneInto(to) {\n        to || (to = new this.constructor());\n        to.set(...this.get());\n        const { blockLen, buffer, length, finished, destroyed, pos } = this;\n        to.length = length;\n        to.pos = pos;\n        to.finished = finished;\n        to.destroyed = destroyed;\n        if (length % blockLen)\n            to.buffer.set(buffer);\n        return to;\n    }\n}\n//# sourceMappingURL=_sha2.js.map","import { SHA2 } from './_sha2.js';\nimport { rotr, wrapConstructor } from './utils.js';\n// SHA2-256 need to try 2^128 hashes to execute birthday attack.\n// BTC network is doing 2^67 hashes/sec as per early 2023.\n// Choice: a ? b : c\nconst Chi = (a, b, c) => (a & b) ^ (~a & c);\n// Majority function, true if any two inpust is true\nconst Maj = (a, b, c) => (a & b) ^ (a & c) ^ (b & c);\n// Round constants:\n// first 32 bits of the fractional parts of the cube roots of the first 64 primes 2..311)\n// prettier-ignore\nconst SHA256_K = /* @__PURE__ */ new Uint32Array([\n    0x428a2f98, 0x71374491, 0xb5c0fbcf, 0xe9b5dba5, 0x3956c25b, 0x59f111f1, 0x923f82a4, 0xab1c5ed5,\n    0xd807aa98, 0x12835b01, 0x243185be, 0x550c7dc3, 0x72be5d74, 0x80deb1fe, 0x9bdc06a7, 0xc19bf174,\n    0xe49b69c1, 0xefbe4786, 0x0fc19dc6, 0x240ca1cc, 0x2de92c6f, 0x4a7484aa, 0x5cb0a9dc, 0x76f988da,\n    0x983e5152, 0xa831c66d, 0xb00327c8, 0xbf597fc7, 0xc6e00bf3, 0xd5a79147, 0x06ca6351, 0x14292967,\n    0x27b70a85, 0x2e1b2138, 0x4d2c6dfc, 0x53380d13, 0x650a7354, 0x766a0abb, 0x81c2c92e, 0x92722c85,\n    0xa2bfe8a1, 0xa81a664b, 0xc24b8b70, 0xc76c51a3, 0xd192e819, 0xd6990624, 0xf40e3585, 0x106aa070,\n    0x19a4c116, 0x1e376c08, 0x2748774c, 0x34b0bcb5, 0x391c0cb3, 0x4ed8aa4a, 0x5b9cca4f, 0x682e6ff3,\n    0x748f82ee, 0x78a5636f, 0x84c87814, 0x8cc70208, 0x90befffa, 0xa4506ceb, 0xbef9a3f7, 0xc67178f2\n]);\n// Initial state (first 32 bits of the fractional parts of the square roots of the first 8 primes 2..19):\n// prettier-ignore\nconst IV = /* @__PURE__ */ new Uint32Array([\n    0x6a09e667, 0xbb67ae85, 0x3c6ef372, 0xa54ff53a, 0x510e527f, 0x9b05688c, 0x1f83d9ab, 0x5be0cd19\n]);\n// Temporary buffer, not used to store anything between runs\n// Named this way because it matches specification.\nconst SHA256_W = /* @__PURE__ */ new Uint32Array(64);\nclass SHA256 extends SHA2 {\n    constructor() {\n        super(64, 32, 8, false);\n        // We cannot use array here since array allows indexing by variable\n        // which means optimizer/compiler cannot use registers.\n        this.A = IV[0] | 0;\n        this.B = IV[1] | 0;\n        this.C = IV[2] | 0;\n        this.D = IV[3] | 0;\n        this.E = IV[4] | 0;\n        this.F = IV[5] | 0;\n        this.G = IV[6] | 0;\n        this.H = IV[7] | 0;\n    }\n    get() {\n        const { A, B, C, D, E, F, G, H } = this;\n        return [A, B, C, D, E, F, G, H];\n    }\n    // prettier-ignore\n    set(A, B, C, D, E, F, G, H) {\n        this.A = A | 0;\n        this.B = B | 0;\n        this.C = C | 0;\n        this.D = D | 0;\n        this.E = E | 0;\n        this.F = F | 0;\n        this.G = G | 0;\n        this.H = H | 0;\n    }\n    process(view, offset) {\n        // Extend the first 16 words into the remaining 48 words w[16..63] of the message schedule array\n        for (let i = 0; i < 16; i++, offset += 4)\n            SHA256_W[i] = view.getUint32(offset, false);\n        for (let i = 16; i < 64; i++) {\n            const W15 = SHA256_W[i - 15];\n            const W2 = SHA256_W[i - 2];\n            const s0 = rotr(W15, 7) ^ rotr(W15, 18) ^ (W15 >>> 3);\n            const s1 = rotr(W2, 17) ^ rotr(W2, 19) ^ (W2 >>> 10);\n            SHA256_W[i] = (s1 + SHA256_W[i - 7] + s0 + SHA256_W[i - 16]) | 0;\n        }\n        // Compression function main loop, 64 rounds\n        let { A, B, C, D, E, F, G, H } = this;\n        for (let i = 0; i < 64; i++) {\n            const sigma1 = rotr(E, 6) ^ rotr(E, 11) ^ rotr(E, 25);\n            const T1 = (H + sigma1 + Chi(E, F, G) + SHA256_K[i] + SHA256_W[i]) | 0;\n            const sigma0 = rotr(A, 2) ^ rotr(A, 13) ^ rotr(A, 22);\n            const T2 = (sigma0 + Maj(A, B, C)) | 0;\n            H = G;\n            G = F;\n            F = E;\n            E = (D + T1) | 0;\n            D = C;\n            C = B;\n            B = A;\n            A = (T1 + T2) | 0;\n        }\n        // Add the compressed chunk to the current hash value\n        A = (A + this.A) | 0;\n        B = (B + this.B) | 0;\n        C = (C + this.C) | 0;\n        D = (D + this.D) | 0;\n        E = (E + this.E) | 0;\n        F = (F + this.F) | 0;\n        G = (G + this.G) | 0;\n        H = (H + this.H) | 0;\n        this.set(A, B, C, D, E, F, G, H);\n    }\n    roundClean() {\n        SHA256_W.fill(0);\n    }\n    destroy() {\n        this.set(0, 0, 0, 0, 0, 0, 0, 0);\n        this.buffer.fill(0);\n    }\n}\n// Constants from https://nvlpubs.nist.gov/nistpubs/FIPS/NIST.FIPS.180-4.pdf\nclass SHA224 extends SHA256 {\n    constructor() {\n        super();\n        this.A = 0xc1059ed8 | 0;\n        this.B = 0x367cd507 | 0;\n        this.C = 0x3070dd17 | 0;\n        this.D = 0xf70e5939 | 0;\n        this.E = 0xffc00b31 | 0;\n        this.F = 0x68581511 | 0;\n        this.G = 0x64f98fa7 | 0;\n        this.H = 0xbefa4fa4 | 0;\n        this.outputLen = 28;\n    }\n}\n/**\n * SHA2-256 hash function\n * @param message - data that would be hashed\n */\nexport const sha256 = /* @__PURE__ */ wrapConstructor(() => new SHA256());\nexport const sha224 = /* @__PURE__ */ wrapConstructor(() => new SHA224());\n//# sourceMappingURL=sha256.js.map","/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */\n// 100 lines of code in the file are duplicated from noble-hashes (utils).\n// This is OK: `abstract` directory does not use noble-hashes.\n// User may opt-in into using different hashing library. This way, noble-hashes\n// won't be included into their bundle.\nconst _0n = BigInt(0);\nconst _1n = BigInt(1);\nconst _2n = BigInt(2);\nconst u8a = (a) => a instanceof Uint8Array;\nconst hexes = /* @__PURE__ */ Array.from({ length: 256 }, (_, i) => i.toString(16).padStart(2, '0'));\n/**\n * @example bytesToHex(Uint8Array.from([0xca, 0xfe, 0x01, 0x23])) // 'cafe0123'\n */\nexport function bytesToHex(bytes) {\n    if (!u8a(bytes))\n        throw new Error('Uint8Array expected');\n    // pre-caching improves the speed 6x\n    let hex = '';\n    for (let i = 0; i < bytes.length; i++) {\n        hex += hexes[bytes[i]];\n    }\n    return hex;\n}\nexport function numberToHexUnpadded(num) {\n    const hex = num.toString(16);\n    return hex.length & 1 ? `0${hex}` : hex;\n}\nexport function hexToNumber(hex) {\n    if (typeof hex !== 'string')\n        throw new Error('hex string expected, got ' + typeof hex);\n    // Big Endian\n    return BigInt(hex === '' ? '0' : `0x${hex}`);\n}\n/**\n * @example hexToBytes('cafe0123') // Uint8Array.from([0xca, 0xfe, 0x01, 0x23])\n */\nexport function hexToBytes(hex) {\n    if (typeof hex !== 'string')\n        throw new Error('hex string expected, got ' + typeof hex);\n    const len = hex.length;\n    if (len % 2)\n        throw new Error('padded hex string expected, got unpadded hex of length ' + len);\n    const array = new Uint8Array(len / 2);\n    for (let i = 0; i < array.length; i++) {\n        const j = i * 2;\n        const hexByte = hex.slice(j, j + 2);\n        const byte = Number.parseInt(hexByte, 16);\n        if (Number.isNaN(byte) || byte < 0)\n            throw new Error('Invalid byte sequence');\n        array[i] = byte;\n    }\n    return array;\n}\n// BE: Big Endian, LE: Little Endian\nexport function bytesToNumberBE(bytes) {\n    return hexToNumber(bytesToHex(bytes));\n}\nexport function bytesToNumberLE(bytes) {\n    if (!u8a(bytes))\n        throw new Error('Uint8Array expected');\n    return hexToNumber(bytesToHex(Uint8Array.from(bytes).reverse()));\n}\nexport function numberToBytesBE(n, len) {\n    return hexToBytes(n.toString(16).padStart(len * 2, '0'));\n}\nexport function numberToBytesLE(n, len) {\n    return numberToBytesBE(n, len).reverse();\n}\n// Unpadded, rarely used\nexport function numberToVarBytesBE(n) {\n    return hexToBytes(numberToHexUnpadded(n));\n}\n/**\n * Takes hex string or Uint8Array, converts to Uint8Array.\n * Validates output length.\n * Will throw error for other types.\n * @param title descriptive title for an error e.g. 'private key'\n * @param hex hex string or Uint8Array\n * @param expectedLength optional, will compare to result array's length\n * @returns\n */\nexport function ensureBytes(title, hex, expectedLength) {\n    let res;\n    if (typeof hex === 'string') {\n        try {\n            res = hexToBytes(hex);\n        }\n        catch (e) {\n            throw new Error(`${title} must be valid hex string, got \"${hex}\". Cause: ${e}`);\n        }\n    }\n    else if (u8a(hex)) {\n        // Uint8Array.from() instead of hash.slice() because node.js Buffer\n        // is instance of Uint8Array, and its slice() creates **mutable** copy\n        res = Uint8Array.from(hex);\n    }\n    else {\n        throw new Error(`${title} must be hex string or Uint8Array`);\n    }\n    const len = res.length;\n    if (typeof expectedLength === 'number' && len !== expectedLength)\n        throw new Error(`${title} expected ${expectedLength} bytes, got ${len}`);\n    return res;\n}\n/**\n * Copies several Uint8Arrays into one.\n */\nexport function concatBytes(...arrays) {\n    const r = new Uint8Array(arrays.reduce((sum, a) => sum + a.length, 0));\n    let pad = 0; // walk through each item, ensure they have proper type\n    arrays.forEach((a) => {\n        if (!u8a(a))\n            throw new Error('Uint8Array expected');\n        r.set(a, pad);\n        pad += a.length;\n    });\n    return r;\n}\nexport function equalBytes(b1, b2) {\n    // We don't care about timing attacks here\n    if (b1.length !== b2.length)\n        return false;\n    for (let i = 0; i < b1.length; i++)\n        if (b1[i] !== b2[i])\n            return false;\n    return true;\n}\n/**\n * @example utf8ToBytes('abc') // new Uint8Array([97, 98, 99])\n */\nexport function utf8ToBytes(str) {\n    if (typeof str !== 'string')\n        throw new Error(`utf8ToBytes expected string, got ${typeof str}`);\n    return new Uint8Array(new TextEncoder().encode(str)); // https://bugzil.la/1681809\n}\n// Bit operations\n/**\n * Calculates amount of bits in a bigint.\n * Same as `n.toString(2).length`\n */\nexport function bitLen(n) {\n    let len;\n    for (len = 0; n > _0n; n >>= _1n, len += 1)\n        ;\n    return len;\n}\n/**\n * Gets single bit at position.\n * NOTE: first bit position is 0 (same as arrays)\n * Same as `!!+Array.from(n.toString(2)).reverse()[pos]`\n */\nexport function bitGet(n, pos) {\n    return (n >> BigInt(pos)) & _1n;\n}\n/**\n * Sets single bit at position.\n */\nexport const bitSet = (n, pos, value) => {\n    return n | ((value ? _1n : _0n) << BigInt(pos));\n};\n/**\n * Calculate mask for N bits. Not using ** operator with bigints because of old engines.\n * Same as BigInt(`0b${Array(i).fill('1').join('')}`)\n */\nexport const bitMask = (n) => (_2n << BigInt(n - 1)) - _1n;\n// DRBG\nconst u8n = (data) => new Uint8Array(data); // creates Uint8Array\nconst u8fr = (arr) => Uint8Array.from(arr); // another shortcut\n/**\n * Minimal HMAC-DRBG from NIST 800-90 for RFC6979 sigs.\n * @returns function that will call DRBG until 2nd arg returns something meaningful\n * @example\n *   const drbg = createHmacDRBG<Key>(32, 32, hmac);\n *   drbg(seed, bytesToKey); // bytesToKey must return Key or undefined\n */\nexport function createHmacDrbg(hashLen, qByteLen, hmacFn) {\n    if (typeof hashLen !== 'number' || hashLen < 2)\n        throw new Error('hashLen must be a number');\n    if (typeof qByteLen !== 'number' || qByteLen < 2)\n        throw new Error('qByteLen must be a number');\n    if (typeof hmacFn !== 'function')\n        throw new Error('hmacFn must be a function');\n    // Step B, Step C: set hashLen to 8*ceil(hlen/8)\n    let v = u8n(hashLen); // Minimal non-full-spec HMAC-DRBG from NIST 800-90 for RFC6979 sigs.\n    let k = u8n(hashLen); // Steps B and C of RFC6979 3.2: set hashLen, in our case always same\n    let i = 0; // Iterations counter, will throw when over 1000\n    const reset = () => {\n        v.fill(1);\n        k.fill(0);\n        i = 0;\n    };\n    const h = (...b) => hmacFn(k, v, ...b); // hmac(k)(v, ...values)\n    const reseed = (seed = u8n()) => {\n        // HMAC-DRBG reseed() function. Steps D-G\n        k = h(u8fr([0x00]), seed); // k = hmac(k || v || 0x00 || seed)\n        v = h(); // v = hmac(k || v)\n        if (seed.length === 0)\n            return;\n        k = h(u8fr([0x01]), seed); // k = hmac(k || v || 0x01 || seed)\n        v = h(); // v = hmac(k || v)\n    };\n    const gen = () => {\n        // HMAC-DRBG generate() function\n        if (i++ >= 1000)\n            throw new Error('drbg: tried 1000 values');\n        let len = 0;\n        const out = [];\n        while (len < qByteLen) {\n            v = h();\n            const sl = v.slice();\n            out.push(sl);\n            len += v.length;\n        }\n        return concatBytes(...out);\n    };\n    const genUntil = (seed, pred) => {\n        reset();\n        reseed(seed); // Steps D-G\n        let res = undefined; // Step H: grind until k is in [1..n-1]\n        while (!(res = pred(gen())))\n            reseed();\n        reset();\n        return res;\n    };\n    return genUntil;\n}\n// Validating curves and fields\nconst validatorFns = {\n    bigint: (val) => typeof val === 'bigint',\n    function: (val) => typeof val === 'function',\n    boolean: (val) => typeof val === 'boolean',\n    string: (val) => typeof val === 'string',\n    stringOrUint8Array: (val) => typeof val === 'string' || val instanceof Uint8Array,\n    isSafeInteger: (val) => Number.isSafeInteger(val),\n    array: (val) => Array.isArray(val),\n    field: (val, object) => object.Fp.isValid(val),\n    hash: (val) => typeof val === 'function' && Number.isSafeInteger(val.outputLen),\n};\n// type Record<K extends string | number | symbol, T> = { [P in K]: T; }\nexport function validateObject(object, validators, optValidators = {}) {\n    const checkField = (fieldName, type, isOptional) => {\n        const checkVal = validatorFns[type];\n        if (typeof checkVal !== 'function')\n            throw new Error(`Invalid validator \"${type}\", expected function`);\n        const val = object[fieldName];\n        if (isOptional && val === undefined)\n            return;\n        if (!checkVal(val, object)) {\n            throw new Error(`Invalid param ${String(fieldName)}=${val} (${typeof val}), expected ${type}`);\n        }\n    };\n    for (const [fieldName, type] of Object.entries(validators))\n        checkField(fieldName, type, false);\n    for (const [fieldName, type] of Object.entries(optValidators))\n        checkField(fieldName, type, true);\n    return object;\n}\n// validate type tests\n// const o: { a: number; b: number; c: number } = { a: 1, b: 5, c: 6 };\n// const z0 = validateObject(o, { a: 'isSafeInteger' }, { c: 'bigint' }); // Ok!\n// // Should fail type-check\n// const z1 = validateObject(o, { a: 'tmp' }, { c: 'zz' });\n// const z2 = validateObject(o, { a: 'isSafeInteger' }, { c: 'zz' });\n// const z3 = validateObject(o, { test: 'boolean', z: 'bug' });\n// const z4 = validateObject(o, { a: 'boolean', z: 'bug' });\n//# sourceMappingURL=utils.js.map","/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */\n// Utilities for modular arithmetics and finite fields\nimport { bitMask, numberToBytesBE, numberToBytesLE, bytesToNumberBE, bytesToNumberLE, ensureBytes, validateObject, } from './utils.js';\n// prettier-ignore\nconst _0n = BigInt(0), _1n = BigInt(1), _2n = BigInt(2), _3n = BigInt(3);\n// prettier-ignore\nconst _4n = BigInt(4), _5n = BigInt(5), _8n = BigInt(8);\n// prettier-ignore\nconst _9n = BigInt(9), _16n = BigInt(16);\n// Calculates a modulo b\nexport function mod(a, b) {\n    const result = a % b;\n    return result >= _0n ? result : b + result;\n}\n/**\n * Efficiently raise num to power and do modular division.\n * Unsafe in some contexts: uses ladder, so can expose bigint bits.\n * @example\n * pow(2n, 6n, 11n) // 64n % 11n == 9n\n */\n// TODO: use field version && remove\nexport function pow(num, power, modulo) {\n    if (modulo <= _0n || power < _0n)\n        throw new Error('Expected power/modulo > 0');\n    if (modulo === _1n)\n        return _0n;\n    let res = _1n;\n    while (power > _0n) {\n        if (power & _1n)\n            res = (res * num) % modulo;\n        num = (num * num) % modulo;\n        power >>= _1n;\n    }\n    return res;\n}\n// Does x ^ (2 ^ power) mod p. pow2(30, 4) == 30 ^ (2 ^ 4)\nexport function pow2(x, power, modulo) {\n    let res = x;\n    while (power-- > _0n) {\n        res *= res;\n        res %= modulo;\n    }\n    return res;\n}\n// Inverses number over modulo\nexport function invert(number, modulo) {\n    if (number === _0n || modulo <= _0n) {\n        throw new Error(`invert: expected positive integers, got n=${number} mod=${modulo}`);\n    }\n    // Euclidean GCD https://brilliant.org/wiki/extended-euclidean-algorithm/\n    // Fermat's little theorem \"CT-like\" version inv(n) = n^(m-2) mod m is 30x slower.\n    let a = mod(number, modulo);\n    let b = modulo;\n    // prettier-ignore\n    let x = _0n, y = _1n, u = _1n, v = _0n;\n    while (a !== _0n) {\n        // JIT applies optimization if those two lines follow each other\n        const q = b / a;\n        const r = b % a;\n        const m = x - u * q;\n        const n = y - v * q;\n        // prettier-ignore\n        b = a, a = r, x = u, y = v, u = m, v = n;\n    }\n    const gcd = b;\n    if (gcd !== _1n)\n        throw new Error('invert: does not exist');\n    return mod(x, modulo);\n}\n/**\n * Tonelli-Shanks square root search algorithm.\n * 1. https://eprint.iacr.org/2012/685.pdf (page 12)\n * 2. Square Roots from 1; 24, 51, 10 to Dan Shanks\n * Will start an infinite loop if field order P is not prime.\n * @param P field order\n * @returns function that takes field Fp (created from P) and number n\n */\nexport function tonelliShanks(P) {\n    // Legendre constant: used to calculate Legendre symbol (a | p),\n    // which denotes the value of a^((p-1)/2) (mod p).\n    // (a | p)  1    if a is a square (mod p)\n    // (a | p)  -1   if a is not a square (mod p)\n    // (a | p)  0    if a  0 (mod p)\n    const legendreC = (P - _1n) / _2n;\n    let Q, S, Z;\n    // Step 1: By factoring out powers of 2 from p - 1,\n    // find q and s such that p - 1 = q*(2^s) with q odd\n    for (Q = P - _1n, S = 0; Q % _2n === _0n; Q /= _2n, S++)\n        ;\n    // Step 2: Select a non-square z such that (z | p)  -1 and set c  zq\n    for (Z = _2n; Z < P && pow(Z, legendreC, P) !== P - _1n; Z++)\n        ;\n    // Fast-path\n    if (S === 1) {\n        const p1div4 = (P + _1n) / _4n;\n        return function tonelliFast(Fp, n) {\n            const root = Fp.pow(n, p1div4);\n            if (!Fp.eql(Fp.sqr(root), n))\n                throw new Error('Cannot find square root');\n            return root;\n        };\n    }\n    // Slow-path\n    const Q1div2 = (Q + _1n) / _2n;\n    return function tonelliSlow(Fp, n) {\n        // Step 0: Check that n is indeed a square: (n | p) should not be  -1\n        if (Fp.pow(n, legendreC) === Fp.neg(Fp.ONE))\n            throw new Error('Cannot find square root');\n        let r = S;\n        // TODO: will fail at Fp2/etc\n        let g = Fp.pow(Fp.mul(Fp.ONE, Z), Q); // will update both x and b\n        let x = Fp.pow(n, Q1div2); // first guess at the square root\n        let b = Fp.pow(n, Q); // first guess at the fudge factor\n        while (!Fp.eql(b, Fp.ONE)) {\n            if (Fp.eql(b, Fp.ZERO))\n                return Fp.ZERO; // https://en.wikipedia.org/wiki/Tonelli%E2%80%93Shanks_algorithm (4. If t = 0, return r = 0)\n            // Find m such b^(2^m)==1\n            let m = 1;\n            for (let t2 = Fp.sqr(b); m < r; m++) {\n                if (Fp.eql(t2, Fp.ONE))\n                    break;\n                t2 = Fp.sqr(t2); // t2 *= t2\n            }\n            // NOTE: r-m-1 can be bigger than 32, need to convert to bigint before shift, otherwise there will be overflow\n            const ge = Fp.pow(g, _1n << BigInt(r - m - 1)); // ge = 2^(r-m-1)\n            g = Fp.sqr(ge); // g = ge * ge\n            x = Fp.mul(x, ge); // x *= ge\n            b = Fp.mul(b, g); // b *= g\n            r = m;\n        }\n        return x;\n    };\n}\nexport function FpSqrt(P) {\n    // NOTE: different algorithms can give different roots, it is up to user to decide which one they want.\n    // For example there is FpSqrtOdd/FpSqrtEven to choice root based on oddness (used for hash-to-curve).\n    // P  3 (mod 4)\n    // n = n^((P+1)/4)\n    if (P % _4n === _3n) {\n        // Not all roots possible!\n        // const ORDER =\n        //   0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaaabn;\n        // const NUM = 72057594037927816n;\n        const p1div4 = (P + _1n) / _4n;\n        return function sqrt3mod4(Fp, n) {\n            const root = Fp.pow(n, p1div4);\n            // Throw if root**2 != n\n            if (!Fp.eql(Fp.sqr(root), n))\n                throw new Error('Cannot find square root');\n            return root;\n        };\n    }\n    // Atkin algorithm for q  5 (mod 8), https://eprint.iacr.org/2012/685.pdf (page 10)\n    if (P % _8n === _5n) {\n        const c1 = (P - _5n) / _8n;\n        return function sqrt5mod8(Fp, n) {\n            const n2 = Fp.mul(n, _2n);\n            const v = Fp.pow(n2, c1);\n            const nv = Fp.mul(n, v);\n            const i = Fp.mul(Fp.mul(nv, _2n), v);\n            const root = Fp.mul(nv, Fp.sub(i, Fp.ONE));\n            if (!Fp.eql(Fp.sqr(root), n))\n                throw new Error('Cannot find square root');\n            return root;\n        };\n    }\n    // P  9 (mod 16)\n    if (P % _16n === _9n) {\n        // NOTE: tonelli is too slow for bls-Fp2 calculations even on start\n        // Means we cannot use sqrt for constants at all!\n        //\n        // const c1 = Fp.sqrt(Fp.negate(Fp.ONE)); //  1. c1 = sqrt(-1) in F, i.e., (c1^2) == -1 in F\n        // const c2 = Fp.sqrt(c1);                //  2. c2 = sqrt(c1) in F, i.e., (c2^2) == c1 in F\n        // const c3 = Fp.sqrt(Fp.negate(c1));     //  3. c3 = sqrt(-c1) in F, i.e., (c3^2) == -c1 in F\n        // const c4 = (P + _7n) / _16n;           //  4. c4 = (q + 7) / 16        # Integer arithmetic\n        // sqrt = (x) => {\n        //   let tv1 = Fp.pow(x, c4);             //  1. tv1 = x^c4\n        //   let tv2 = Fp.mul(c1, tv1);           //  2. tv2 = c1 * tv1\n        //   const tv3 = Fp.mul(c2, tv1);         //  3. tv3 = c2 * tv1\n        //   let tv4 = Fp.mul(c3, tv1);           //  4. tv4 = c3 * tv1\n        //   const e1 = Fp.equals(Fp.square(tv2), x); //  5.  e1 = (tv2^2) == x\n        //   const e2 = Fp.equals(Fp.square(tv3), x); //  6.  e2 = (tv3^2) == x\n        //   tv1 = Fp.cmov(tv1, tv2, e1); //  7. tv1 = CMOV(tv1, tv2, e1)  # Select tv2 if (tv2^2) == x\n        //   tv2 = Fp.cmov(tv4, tv3, e2); //  8. tv2 = CMOV(tv4, tv3, e2)  # Select tv3 if (tv3^2) == x\n        //   const e3 = Fp.equals(Fp.square(tv2), x); //  9.  e3 = (tv2^2) == x\n        //   return Fp.cmov(tv1, tv2, e3); //  10.  z = CMOV(tv1, tv2, e3)  # Select the sqrt from tv1 and tv2\n        // }\n    }\n    // Other cases: Tonelli-Shanks algorithm\n    return tonelliShanks(P);\n}\n// Little-endian check for first LE bit (last BE bit);\nexport const isNegativeLE = (num, modulo) => (mod(num, modulo) & _1n) === _1n;\n// prettier-ignore\nconst FIELD_FIELDS = [\n    'create', 'isValid', 'is0', 'neg', 'inv', 'sqrt', 'sqr',\n    'eql', 'add', 'sub', 'mul', 'pow', 'div',\n    'addN', 'subN', 'mulN', 'sqrN'\n];\nexport function validateField(field) {\n    const initial = {\n        ORDER: 'bigint',\n        MASK: 'bigint',\n        BYTES: 'isSafeInteger',\n        BITS: 'isSafeInteger',\n    };\n    const opts = FIELD_FIELDS.reduce((map, val) => {\n        map[val] = 'function';\n        return map;\n    }, initial);\n    return validateObject(field, opts);\n}\n// Generic field functions\n/**\n * Same as `pow` but for Fp: non-constant-time.\n * Unsafe in some contexts: uses ladder, so can expose bigint bits.\n */\nexport function FpPow(f, num, power) {\n    // Should have same speed as pow for bigints\n    // TODO: benchmark!\n    if (power < _0n)\n        throw new Error('Expected power > 0');\n    if (power === _0n)\n        return f.ONE;\n    if (power === _1n)\n        return num;\n    let p = f.ONE;\n    let d = num;\n    while (power > _0n) {\n        if (power & _1n)\n            p = f.mul(p, d);\n        d = f.sqr(d);\n        power >>= _1n;\n    }\n    return p;\n}\n/**\n * Efficiently invert an array of Field elements.\n * `inv(0)` will return `undefined` here: make sure to throw an error.\n */\nexport function FpInvertBatch(f, nums) {\n    const tmp = new Array(nums.length);\n    // Walk from first to last, multiply them by each other MOD p\n    const lastMultiplied = nums.reduce((acc, num, i) => {\n        if (f.is0(num))\n            return acc;\n        tmp[i] = acc;\n        return f.mul(acc, num);\n    }, f.ONE);\n    // Invert last element\n    const inverted = f.inv(lastMultiplied);\n    // Walk from last to first, multiply them by inverted each other MOD p\n    nums.reduceRight((acc, num, i) => {\n        if (f.is0(num))\n            return acc;\n        tmp[i] = f.mul(acc, tmp[i]);\n        return f.mul(acc, num);\n    }, inverted);\n    return tmp;\n}\nexport function FpDiv(f, lhs, rhs) {\n    return f.mul(lhs, typeof rhs === 'bigint' ? invert(rhs, f.ORDER) : f.inv(rhs));\n}\n// This function returns True whenever the value x is a square in the field F.\nexport function FpIsSquare(f) {\n    const legendreConst = (f.ORDER - _1n) / _2n; // Integer arithmetic\n    return (x) => {\n        const p = f.pow(x, legendreConst);\n        return f.eql(p, f.ZERO) || f.eql(p, f.ONE);\n    };\n}\n// CURVE.n lengths\nexport function nLength(n, nBitLength) {\n    // Bit size, byte size of CURVE.n\n    const _nBitLength = nBitLength !== undefined ? nBitLength : n.toString(2).length;\n    const nByteLength = Math.ceil(_nBitLength / 8);\n    return { nBitLength: _nBitLength, nByteLength };\n}\n/**\n * Initializes a finite field over prime. **Non-primes are not supported.**\n * Do not init in loop: slow. Very fragile: always run a benchmark on a change.\n * Major performance optimizations:\n * * a) denormalized operations like mulN instead of mul\n * * b) same object shape: never add or remove keys\n * * c) Object.freeze\n * @param ORDER prime positive bigint\n * @param bitLen how many bits the field consumes\n * @param isLE (def: false) if encoding / decoding should be in little-endian\n * @param redef optional faster redefinitions of sqrt and other methods\n */\nexport function Field(ORDER, bitLen, isLE = false, redef = {}) {\n    if (ORDER <= _0n)\n        throw new Error(`Expected Field ORDER > 0, got ${ORDER}`);\n    const { nBitLength: BITS, nByteLength: BYTES } = nLength(ORDER, bitLen);\n    if (BYTES > 2048)\n        throw new Error('Field lengths over 2048 bytes are not supported');\n    const sqrtP = FpSqrt(ORDER);\n    const f = Object.freeze({\n        ORDER,\n        BITS,\n        BYTES,\n        MASK: bitMask(BITS),\n        ZERO: _0n,\n        ONE: _1n,\n        create: (num) => mod(num, ORDER),\n        isValid: (num) => {\n            if (typeof num !== 'bigint')\n                throw new Error(`Invalid field element: expected bigint, got ${typeof num}`);\n            return _0n <= num && num < ORDER; // 0 is valid element, but it's not invertible\n        },\n        is0: (num) => num === _0n,\n        isOdd: (num) => (num & _1n) === _1n,\n        neg: (num) => mod(-num, ORDER),\n        eql: (lhs, rhs) => lhs === rhs,\n        sqr: (num) => mod(num * num, ORDER),\n        add: (lhs, rhs) => mod(lhs + rhs, ORDER),\n        sub: (lhs, rhs) => mod(lhs - rhs, ORDER),\n        mul: (lhs, rhs) => mod(lhs * rhs, ORDER),\n        pow: (num, power) => FpPow(f, num, power),\n        div: (lhs, rhs) => mod(lhs * invert(rhs, ORDER), ORDER),\n        // Same as above, but doesn't normalize\n        sqrN: (num) => num * num,\n        addN: (lhs, rhs) => lhs + rhs,\n        subN: (lhs, rhs) => lhs - rhs,\n        mulN: (lhs, rhs) => lhs * rhs,\n        inv: (num) => invert(num, ORDER),\n        sqrt: redef.sqrt || ((n) => sqrtP(f, n)),\n        invertBatch: (lst) => FpInvertBatch(f, lst),\n        // TODO: do we really need constant cmov?\n        // We don't have const-time bigints anyway, so probably will be not very useful\n        cmov: (a, b, c) => (c ? b : a),\n        toBytes: (num) => (isLE ? numberToBytesLE(num, BYTES) : numberToBytesBE(num, BYTES)),\n        fromBytes: (bytes) => {\n            if (bytes.length !== BYTES)\n                throw new Error(`Fp.fromBytes: expected ${BYTES}, got ${bytes.length}`);\n            return isLE ? bytesToNumberLE(bytes) : bytesToNumberBE(bytes);\n        },\n    });\n    return Object.freeze(f);\n}\nexport function FpSqrtOdd(Fp, elm) {\n    if (!Fp.isOdd)\n        throw new Error(`Field doesn't have isOdd`);\n    const root = Fp.sqrt(elm);\n    return Fp.isOdd(root) ? root : Fp.neg(root);\n}\nexport function FpSqrtEven(Fp, elm) {\n    if (!Fp.isOdd)\n        throw new Error(`Field doesn't have isOdd`);\n    const root = Fp.sqrt(elm);\n    return Fp.isOdd(root) ? Fp.neg(root) : root;\n}\n/**\n * \"Constant-time\" private key generation utility.\n * Same as mapKeyToField, but accepts less bytes (40 instead of 48 for 32-byte field).\n * Which makes it slightly more biased, less secure.\n * @deprecated use mapKeyToField instead\n */\nexport function hashToPrivateScalar(hash, groupOrder, isLE = false) {\n    hash = ensureBytes('privateHash', hash);\n    const hashLen = hash.length;\n    const minLen = nLength(groupOrder).nByteLength + 8;\n    if (minLen < 24 || hashLen < minLen || hashLen > 1024)\n        throw new Error(`hashToPrivateScalar: expected ${minLen}-1024 bytes of input, got ${hashLen}`);\n    const num = isLE ? bytesToNumberLE(hash) : bytesToNumberBE(hash);\n    return mod(num, groupOrder - _1n) + _1n;\n}\n/**\n * Returns total number of bytes consumed by the field element.\n * For example, 32 bytes for usual 256-bit weierstrass curve.\n * @param fieldOrder number of field elements, usually CURVE.n\n * @returns byte length of field\n */\nexport function getFieldBytesLength(fieldOrder) {\n    if (typeof fieldOrder !== 'bigint')\n        throw new Error('field order must be bigint');\n    const bitLength = fieldOrder.toString(2).length;\n    return Math.ceil(bitLength / 8);\n}\n/**\n * Returns minimal amount of bytes that can be safely reduced\n * by field order.\n * Should be 2^-128 for 128-bit curve such as P256.\n * @param fieldOrder number of field elements, usually CURVE.n\n * @returns byte length of target hash\n */\nexport function getMinHashLength(fieldOrder) {\n    const length = getFieldBytesLength(fieldOrder);\n    return length + Math.ceil(length / 2);\n}\n/**\n * \"Constant-time\" private key generation utility.\n * Can take (n + n/2) or more bytes of uniform input e.g. from CSPRNG or KDF\n * and convert them into private scalar, with the modulo bias being negligible.\n * Needs at least 48 bytes of input for 32-byte private key.\n * https://research.kudelskisecurity.com/2020/07/28/the-definitive-guide-to-modulo-bias-and-how-to-avoid-it/\n * FIPS 186-5, A.2 https://csrc.nist.gov/publications/detail/fips/186/5/final\n * RFC 9380, https://www.rfc-editor.org/rfc/rfc9380#section-5\n * @param hash hash output from SHA3 or a similar function\n * @param groupOrder size of subgroup - (e.g. secp256k1.CURVE.n)\n * @param isLE interpret hash bytes as LE num\n * @returns valid private scalar\n */\nexport function mapHashToField(key, fieldOrder, isLE = false) {\n    const len = key.length;\n    const fieldLen = getFieldBytesLength(fieldOrder);\n    const minLen = getMinHashLength(fieldOrder);\n    // No small numbers: need to understand bias story. No huge numbers: easier to detect JS timings.\n    if (len < 16 || len < minLen || len > 1024)\n        throw new Error(`expected ${minLen}-1024 bytes of input, got ${len}`);\n    const num = isLE ? bytesToNumberBE(key) : bytesToNumberLE(key);\n    // `mod(x, 11)` can sometimes produce 0. `mod(x, 10) + 1` is the same, but no 0\n    const reduced = mod(num, fieldOrder - _1n) + _1n;\n    return isLE ? numberToBytesLE(reduced, fieldLen) : numberToBytesBE(reduced, fieldLen);\n}\n//# sourceMappingURL=modular.js.map","import { hash as assertHash, bytes as assertBytes, exists as assertExists } from './_assert.js';\nimport { Hash, toBytes } from './utils.js';\n// HMAC (RFC 2104)\nexport class HMAC extends Hash {\n    constructor(hash, _key) {\n        super();\n        this.finished = false;\n        this.destroyed = false;\n        assertHash(hash);\n        const key = toBytes(_key);\n        this.iHash = hash.create();\n        if (typeof this.iHash.update !== 'function')\n            throw new Error('Expected instance of class which extends utils.Hash');\n        this.blockLen = this.iHash.blockLen;\n        this.outputLen = this.iHash.outputLen;\n        const blockLen = this.blockLen;\n        const pad = new Uint8Array(blockLen);\n        // blockLen can be bigger than outputLen\n        pad.set(key.length > blockLen ? hash.create().update(key).digest() : key);\n        for (let i = 0; i < pad.length; i++)\n            pad[i] ^= 0x36;\n        this.iHash.update(pad);\n        // By doing update (processing of first block) of outer hash here we can re-use it between multiple calls via clone\n        this.oHash = hash.create();\n        // Undo internal XOR && apply outer XOR\n        for (let i = 0; i < pad.length; i++)\n            pad[i] ^= 0x36 ^ 0x5c;\n        this.oHash.update(pad);\n        pad.fill(0);\n    }\n    update(buf) {\n        assertExists(this);\n        this.iHash.update(buf);\n        return this;\n    }\n    digestInto(out) {\n        assertExists(this);\n        assertBytes(out, this.outputLen);\n        this.finished = true;\n        this.iHash.digestInto(out);\n        this.oHash.update(out);\n        this.oHash.digestInto(out);\n        this.destroy();\n    }\n    digest() {\n        const out = new Uint8Array(this.oHash.outputLen);\n        this.digestInto(out);\n        return out;\n    }\n    _cloneInto(to) {\n        // Create new instance without calling constructor since key already in state and we don't know it.\n        to || (to = Object.create(Object.getPrototypeOf(this), {}));\n        const { oHash, iHash, finished, destroyed, blockLen, outputLen } = this;\n        to = to;\n        to.finished = finished;\n        to.destroyed = destroyed;\n        to.blockLen = blockLen;\n        to.outputLen = outputLen;\n        to.oHash = oHash._cloneInto(to.oHash);\n        to.iHash = iHash._cloneInto(to.iHash);\n        return to;\n    }\n    destroy() {\n        this.destroyed = true;\n        this.oHash.destroy();\n        this.iHash.destroy();\n    }\n}\n/**\n * HMAC: RFC2104 message authentication code.\n * @param hash - function that would be used e.g. sha256\n * @param key - message key\n * @param message - message data\n */\nexport const hmac = (hash, key, message) => new HMAC(hash, key).update(message).digest();\nhmac.create = (hash, key) => new HMAC(hash, key);\n//# sourceMappingURL=hmac.js.map","/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */\n// Abelian group utilities\nimport { validateField, nLength } from './modular.js';\nimport { validateObject } from './utils.js';\nconst _0n = BigInt(0);\nconst _1n = BigInt(1);\n// Elliptic curve multiplication of Point by scalar. Fragile.\n// Scalars should always be less than curve order: this should be checked inside of a curve itself.\n// Creates precomputation tables for fast multiplication:\n// - private scalar is split by fixed size windows of W bits\n// - every window point is collected from window's table & added to accumulator\n// - since windows are different, same point inside tables won't be accessed more than once per calc\n// - each multiplication is 'Math.ceil(CURVE_ORDER / ) + 1' point additions (fixed for any scalar)\n// - +1 window is neccessary for wNAF\n// - wNAF reduces table size: 2x less memory + 2x faster generation, but 10% slower multiplication\n// TODO: Research returning 2d JS array of windows, instead of a single window. This would allow\n// windows to be in different memory locations\nexport function wNAF(c, bits) {\n    const constTimeNegate = (condition, item) => {\n        const neg = item.negate();\n        return condition ? neg : item;\n    };\n    const opts = (W) => {\n        const windows = Math.ceil(bits / W) + 1; // +1, because\n        const windowSize = 2 ** (W - 1); // -1 because we skip zero\n        return { windows, windowSize };\n    };\n    return {\n        constTimeNegate,\n        // non-const time multiplication ladder\n        unsafeLadder(elm, n) {\n            let p = c.ZERO;\n            let d = elm;\n            while (n > _0n) {\n                if (n & _1n)\n                    p = p.add(d);\n                d = d.double();\n                n >>= _1n;\n            }\n            return p;\n        },\n        /**\n         * Creates a wNAF precomputation window. Used for caching.\n         * Default window size is set by `utils.precompute()` and is equal to 8.\n         * Number of precomputed points depends on the curve size:\n         * 2^(1) * (Math.ceil( / ) + 1), where:\n         * -  is the window size\n         * -  is the bitlength of the curve order.\n         * For a 256-bit curve and window size 8, the number of precomputed points is 128 * 33 = 4224.\n         * @returns precomputed point tables flattened to a single array\n         */\n        precomputeWindow(elm, W) {\n            const { windows, windowSize } = opts(W);\n            const points = [];\n            let p = elm;\n            let base = p;\n            for (let window = 0; window < windows; window++) {\n                base = p;\n                points.push(base);\n                // =1, because we skip zero\n                for (let i = 1; i < windowSize; i++) {\n                    base = base.add(p);\n                    points.push(base);\n                }\n                p = base.double();\n            }\n            return points;\n        },\n        /**\n         * Implements ec multiplication using precomputed tables and w-ary non-adjacent form.\n         * @param W window size\n         * @param precomputes precomputed tables\n         * @param n scalar (we don't check here, but should be less than curve order)\n         * @returns real and fake (for const-time) points\n         */\n        wNAF(W, precomputes, n) {\n            // TODO: maybe check that scalar is less than group order? wNAF behavious is undefined otherwise\n            // But need to carefully remove other checks before wNAF. ORDER == bits here\n            const { windows, windowSize } = opts(W);\n            let p = c.ZERO;\n            let f = c.BASE;\n            const mask = BigInt(2 ** W - 1); // Create mask with W ones: 0b1111 for W=4 etc.\n            const maxNumber = 2 ** W;\n            const shiftBy = BigInt(W);\n            for (let window = 0; window < windows; window++) {\n                const offset = window * windowSize;\n                // Extract W bits.\n                let wbits = Number(n & mask);\n                // Shift number by W bits.\n                n >>= shiftBy;\n                // If the bits are bigger than max size, we'll split those.\n                // +224 => 256 - 32\n                if (wbits > windowSize) {\n                    wbits -= maxNumber;\n                    n += _1n;\n                }\n                // This code was first written with assumption that 'f' and 'p' will never be infinity point:\n                // since each addition is multiplied by 2 ** W, it cannot cancel each other. However,\n                // there is negate now: it is possible that negated element from low value\n                // would be the same as high element, which will create carry into next window.\n                // It's not obvious how this can fail, but still worth investigating later.\n                // Check if we're onto Zero point.\n                // Add random point inside current window to f.\n                const offset1 = offset;\n                const offset2 = offset + Math.abs(wbits) - 1; // -1 because we skip zero\n                const cond1 = window % 2 !== 0;\n                const cond2 = wbits < 0;\n                if (wbits === 0) {\n                    // The most important part for const-time getPublicKey\n                    f = f.add(constTimeNegate(cond1, precomputes[offset1]));\n                }\n                else {\n                    p = p.add(constTimeNegate(cond2, precomputes[offset2]));\n                }\n            }\n            // JIT-compiler should not eliminate f here, since it will later be used in normalizeZ()\n            // Even if the variable is still unused, there are some checks which will\n            // throw an exception, so compiler needs to prove they won't happen, which is hard.\n            // At this point there is a way to F be infinity-point even if p is not,\n            // which makes it less const-time: around 1 bigint multiply.\n            return { p, f };\n        },\n        wNAFCached(P, precomputesMap, n, transform) {\n            // @ts-ignore\n            const W = P._WINDOW_SIZE || 1;\n            // Calculate precomputes on a first run, reuse them after\n            let comp = precomputesMap.get(P);\n            if (!comp) {\n                comp = this.precomputeWindow(P, W);\n                if (W !== 1) {\n                    precomputesMap.set(P, transform(comp));\n                }\n            }\n            return this.wNAF(W, comp, n);\n        },\n    };\n}\nexport function validateBasic(curve) {\n    validateField(curve.Fp);\n    validateObject(curve, {\n        n: 'bigint',\n        h: 'bigint',\n        Gx: 'field',\n        Gy: 'field',\n    }, {\n        nBitLength: 'isSafeInteger',\n        nByteLength: 'isSafeInteger',\n    });\n    // Set defaults\n    return Object.freeze({\n        ...nLength(curve.n, curve.nBitLength),\n        ...curve,\n        ...{ p: curve.Fp.ORDER },\n    });\n}\n//# sourceMappingURL=curve.js.map","/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */\n// Short Weierstrass curve. The formula is: y = x + ax + b\nimport * as mod from './modular.js';\nimport * as ut from './utils.js';\nimport { ensureBytes } from './utils.js';\nimport { wNAF, validateBasic } from './curve.js';\nfunction validatePointOpts(curve) {\n    const opts = validateBasic(curve);\n    ut.validateObject(opts, {\n        a: 'field',\n        b: 'field',\n    }, {\n        allowedPrivateKeyLengths: 'array',\n        wrapPrivateKey: 'boolean',\n        isTorsionFree: 'function',\n        clearCofactor: 'function',\n        allowInfinityPoint: 'boolean',\n        fromBytes: 'function',\n        toBytes: 'function',\n    });\n    const { endo, Fp, a } = opts;\n    if (endo) {\n        if (!Fp.eql(a, Fp.ZERO)) {\n            throw new Error('Endomorphism can only be defined for Koblitz curves that have a=0');\n        }\n        if (typeof endo !== 'object' ||\n            typeof endo.beta !== 'bigint' ||\n            typeof endo.splitScalar !== 'function') {\n            throw new Error('Expected endomorphism with beta: bigint and splitScalar: function');\n        }\n    }\n    return Object.freeze({ ...opts });\n}\n// ASN.1 DER encoding utilities\nconst { bytesToNumberBE: b2n, hexToBytes: h2b } = ut;\nexport const DER = {\n    // asn.1 DER encoding utils\n    Err: class DERErr extends Error {\n        constructor(m = '') {\n            super(m);\n        }\n    },\n    _parseInt(data) {\n        const { Err: E } = DER;\n        if (data.length < 2 || data[0] !== 0x02)\n            throw new E('Invalid signature integer tag');\n        const len = data[1];\n        const res = data.subarray(2, len + 2);\n        if (!len || res.length !== len)\n            throw new E('Invalid signature integer: wrong length');\n        // https://crypto.stackexchange.com/a/57734 Leftmost bit of first byte is 'negative' flag,\n        // since we always use positive integers here. It must always be empty:\n        // - add zero byte if exists\n        // - if next byte doesn't have a flag, leading zero is not allowed (minimal encoding)\n        if (res[0] & 0b10000000)\n            throw new E('Invalid signature integer: negative');\n        if (res[0] === 0x00 && !(res[1] & 0b10000000))\n            throw new E('Invalid signature integer: unnecessary leading zero');\n        return { d: b2n(res), l: data.subarray(len + 2) }; // d is data, l is left\n    },\n    toSig(hex) {\n        // parse DER signature\n        const { Err: E } = DER;\n        const data = typeof hex === 'string' ? h2b(hex) : hex;\n        if (!(data instanceof Uint8Array))\n            throw new Error('ui8a expected');\n        let l = data.length;\n        if (l < 2 || data[0] != 0x30)\n            throw new E('Invalid signature tag');\n        if (data[1] !== l - 2)\n            throw new E('Invalid signature: incorrect length');\n        const { d: r, l: sBytes } = DER._parseInt(data.subarray(2));\n        const { d: s, l: rBytesLeft } = DER._parseInt(sBytes);\n        if (rBytesLeft.length)\n            throw new E('Invalid signature: left bytes after parsing');\n        return { r, s };\n    },\n    hexFromSig(sig) {\n        // Add leading zero if first byte has negative bit enabled. More details in '_parseInt'\n        const slice = (s) => (Number.parseInt(s[0], 16) & 0b1000 ? '00' + s : s);\n        const h = (num) => {\n            const hex = num.toString(16);\n            return hex.length & 1 ? `0${hex}` : hex;\n        };\n        const s = slice(h(sig.s));\n        const r = slice(h(sig.r));\n        const shl = s.length / 2;\n        const rhl = r.length / 2;\n        const sl = h(shl);\n        const rl = h(rhl);\n        return `30${h(rhl + shl + 4)}02${rl}${r}02${sl}${s}`;\n    },\n};\n// Be friendly to bad ECMAScript parsers by not using bigint literals\n// prettier-ignore\nconst _0n = BigInt(0), _1n = BigInt(1), _2n = BigInt(2), _3n = BigInt(3), _4n = BigInt(4);\nexport function weierstrassPoints(opts) {\n    const CURVE = validatePointOpts(opts);\n    const { Fp } = CURVE; // All curves has same field / group length as for now, but they can differ\n    const toBytes = CURVE.toBytes ||\n        ((_c, point, _isCompressed) => {\n            const a = point.toAffine();\n            return ut.concatBytes(Uint8Array.from([0x04]), Fp.toBytes(a.x), Fp.toBytes(a.y));\n        });\n    const fromBytes = CURVE.fromBytes ||\n        ((bytes) => {\n            // const head = bytes[0];\n            const tail = bytes.subarray(1);\n            // if (head !== 0x04) throw new Error('Only non-compressed encoding is supported');\n            const x = Fp.fromBytes(tail.subarray(0, Fp.BYTES));\n            const y = Fp.fromBytes(tail.subarray(Fp.BYTES, 2 * Fp.BYTES));\n            return { x, y };\n        });\n    /**\n     * y = x + ax + b: Short weierstrass curve formula\n     * @returns y\n     */\n    function weierstrassEquation(x) {\n        const { a, b } = CURVE;\n        const x2 = Fp.sqr(x); // x * x\n        const x3 = Fp.mul(x2, x); // x2 * x\n        return Fp.add(Fp.add(x3, Fp.mul(x, a)), b); // x3 + a * x + b\n    }\n    // Validate whether the passed curve params are valid.\n    // We check if curve equation works for generator point.\n    // `assertValidity()` won't work: `isTorsionFree()` is not available at this point in bls12-381.\n    // ProjectivePoint class has not been initialized yet.\n    if (!Fp.eql(Fp.sqr(CURVE.Gy), weierstrassEquation(CURVE.Gx)))\n        throw new Error('bad generator point: equation left != right');\n    // Valid group elements reside in range 1..n-1\n    function isWithinCurveOrder(num) {\n        return typeof num === 'bigint' && _0n < num && num < CURVE.n;\n    }\n    function assertGE(num) {\n        if (!isWithinCurveOrder(num))\n            throw new Error('Expected valid bigint: 0 < bigint < curve.n');\n    }\n    // Validates if priv key is valid and converts it to bigint.\n    // Supports options allowedPrivateKeyLengths and wrapPrivateKey.\n    function normPrivateKeyToScalar(key) {\n        const { allowedPrivateKeyLengths: lengths, nByteLength, wrapPrivateKey, n } = CURVE;\n        if (lengths && typeof key !== 'bigint') {\n            if (key instanceof Uint8Array)\n                key = ut.bytesToHex(key);\n            // Normalize to hex string, pad. E.g. P521 would norm 130-132 char hex to 132-char bytes\n            if (typeof key !== 'string' || !lengths.includes(key.length))\n                throw new Error('Invalid key');\n            key = key.padStart(nByteLength * 2, '0');\n        }\n        let num;\n        try {\n            num =\n                typeof key === 'bigint'\n                    ? key\n                    : ut.bytesToNumberBE(ensureBytes('private key', key, nByteLength));\n        }\n        catch (error) {\n            throw new Error(`private key must be ${nByteLength} bytes, hex or bigint, not ${typeof key}`);\n        }\n        if (wrapPrivateKey)\n            num = mod.mod(num, n); // disabled by default, enabled for BLS\n        assertGE(num); // num in range [1..N-1]\n        return num;\n    }\n    const pointPrecomputes = new Map();\n    function assertPrjPoint(other) {\n        if (!(other instanceof Point))\n            throw new Error('ProjectivePoint expected');\n    }\n    /**\n     * Projective Point works in 3d / projective (homogeneous) coordinates: (x, y, z)  (x=x/z, y=y/z)\n     * Default Point works in 2d / affine coordinates: (x, y)\n     * We're doing calculations in projective, because its operations don't require costly inversion.\n     */\n    class Point {\n        constructor(px, py, pz) {\n            this.px = px;\n            this.py = py;\n            this.pz = pz;\n            if (px == null || !Fp.isValid(px))\n                throw new Error('x required');\n            if (py == null || !Fp.isValid(py))\n                throw new Error('y required');\n            if (pz == null || !Fp.isValid(pz))\n                throw new Error('z required');\n        }\n        // Does not validate if the point is on-curve.\n        // Use fromHex instead, or call assertValidity() later.\n        static fromAffine(p) {\n            const { x, y } = p || {};\n            if (!p || !Fp.isValid(x) || !Fp.isValid(y))\n                throw new Error('invalid affine point');\n            if (p instanceof Point)\n                throw new Error('projective point not allowed');\n            const is0 = (i) => Fp.eql(i, Fp.ZERO);\n            // fromAffine(x:0, y:0) would produce (x:0, y:0, z:1), but we need (x:0, y:1, z:0)\n            if (is0(x) && is0(y))\n                return Point.ZERO;\n            return new Point(x, y, Fp.ONE);\n        }\n        get x() {\n            return this.toAffine().x;\n        }\n        get y() {\n            return this.toAffine().y;\n        }\n        /**\n         * Takes a bunch of Projective Points but executes only one\n         * inversion on all of them. Inversion is very slow operation,\n         * so this improves performance massively.\n         * Optimization: converts a list of projective points to a list of identical points with Z=1.\n         */\n        static normalizeZ(points) {\n            const toInv = Fp.invertBatch(points.map((p) => p.pz));\n            return points.map((p, i) => p.toAffine(toInv[i])).map(Point.fromAffine);\n        }\n        /**\n         * Converts hash string or Uint8Array to Point.\n         * @param hex short/long ECDSA hex\n         */\n        static fromHex(hex) {\n            const P = Point.fromAffine(fromBytes(ensureBytes('pointHex', hex)));\n            P.assertValidity();\n            return P;\n        }\n        // Multiplies generator point by privateKey.\n        static fromPrivateKey(privateKey) {\n            return Point.BASE.multiply(normPrivateKeyToScalar(privateKey));\n        }\n        // \"Private method\", don't use it directly\n        _setWindowSize(windowSize) {\n            this._WINDOW_SIZE = windowSize;\n            pointPrecomputes.delete(this);\n        }\n        // A point on curve is valid if it conforms to equation.\n        assertValidity() {\n            if (this.is0()) {\n                // (0, 1, 0) aka ZERO is invalid in most contexts.\n                // In BLS, ZERO can be serialized, so we allow it.\n                // (0, 0, 0) is wrong representation of ZERO and is always invalid.\n                if (CURVE.allowInfinityPoint && !Fp.is0(this.py))\n                    return;\n                throw new Error('bad point: ZERO');\n            }\n            // Some 3rd-party test vectors require different wording between here & `fromCompressedHex`\n            const { x, y } = this.toAffine();\n            // Check if x, y are valid field elements\n            if (!Fp.isValid(x) || !Fp.isValid(y))\n                throw new Error('bad point: x or y not FE');\n            const left = Fp.sqr(y); // y\n            const right = weierstrassEquation(x); // x + ax + b\n            if (!Fp.eql(left, right))\n                throw new Error('bad point: equation left != right');\n            if (!this.isTorsionFree())\n                throw new Error('bad point: not in prime-order subgroup');\n        }\n        hasEvenY() {\n            const { y } = this.toAffine();\n            if (Fp.isOdd)\n                return !Fp.isOdd(y);\n            throw new Error(\"Field doesn't support isOdd\");\n        }\n        /**\n         * Compare one point to another.\n         */\n        equals(other) {\n            assertPrjPoint(other);\n            const { px: X1, py: Y1, pz: Z1 } = this;\n            const { px: X2, py: Y2, pz: Z2 } = other;\n            const U1 = Fp.eql(Fp.mul(X1, Z2), Fp.mul(X2, Z1));\n            const U2 = Fp.eql(Fp.mul(Y1, Z2), Fp.mul(Y2, Z1));\n            return U1 && U2;\n        }\n        /**\n         * Flips point to one corresponding to (x, -y) in Affine coordinates.\n         */\n        negate() {\n            return new Point(this.px, Fp.neg(this.py), this.pz);\n        }\n        // Renes-Costello-Batina exception-free doubling formula.\n        // There is 30% faster Jacobian formula, but it is not complete.\n        // https://eprint.iacr.org/2015/1060, algorithm 3\n        // Cost: 8M + 3S + 3*a + 2*b3 + 15add.\n        double() {\n            const { a, b } = CURVE;\n            const b3 = Fp.mul(b, _3n);\n            const { px: X1, py: Y1, pz: Z1 } = this;\n            let X3 = Fp.ZERO, Y3 = Fp.ZERO, Z3 = Fp.ZERO; // prettier-ignore\n            let t0 = Fp.mul(X1, X1); // step 1\n            let t1 = Fp.mul(Y1, Y1);\n            let t2 = Fp.mul(Z1, Z1);\n            let t3 = Fp.mul(X1, Y1);\n            t3 = Fp.add(t3, t3); // step 5\n            Z3 = Fp.mul(X1, Z1);\n            Z3 = Fp.add(Z3, Z3);\n            X3 = Fp.mul(a, Z3);\n            Y3 = Fp.mul(b3, t2);\n            Y3 = Fp.add(X3, Y3); // step 10\n            X3 = Fp.sub(t1, Y3);\n            Y3 = Fp.add(t1, Y3);\n            Y3 = Fp.mul(X3, Y3);\n            X3 = Fp.mul(t3, X3);\n            Z3 = Fp.mul(b3, Z3); // step 15\n            t2 = Fp.mul(a, t2);\n            t3 = Fp.sub(t0, t2);\n            t3 = Fp.mul(a, t3);\n            t3 = Fp.add(t3, Z3);\n            Z3 = Fp.add(t0, t0); // step 20\n            t0 = Fp.add(Z3, t0);\n            t0 = Fp.add(t0, t2);\n            t0 = Fp.mul(t0, t3);\n            Y3 = Fp.add(Y3, t0);\n            t2 = Fp.mul(Y1, Z1); // step 25\n            t2 = Fp.add(t2, t2);\n            t0 = Fp.mul(t2, t3);\n            X3 = Fp.sub(X3, t0);\n            Z3 = Fp.mul(t2, t1);\n            Z3 = Fp.add(Z3, Z3); // step 30\n            Z3 = Fp.add(Z3, Z3);\n            return new Point(X3, Y3, Z3);\n        }\n        // Renes-Costello-Batina exception-free addition formula.\n        // There is 30% faster Jacobian formula, but it is not complete.\n        // https://eprint.iacr.org/2015/1060, algorithm 1\n        // Cost: 12M + 0S + 3*a + 3*b3 + 23add.\n        add(other) {\n            assertPrjPoint(other);\n            const { px: X1, py: Y1, pz: Z1 } = this;\n            const { px: X2, py: Y2, pz: Z2 } = other;\n            let X3 = Fp.ZERO, Y3 = Fp.ZERO, Z3 = Fp.ZERO; // prettier-ignore\n            const a = CURVE.a;\n            const b3 = Fp.mul(CURVE.b, _3n);\n            let t0 = Fp.mul(X1, X2); // step 1\n            let t1 = Fp.mul(Y1, Y2);\n            let t2 = Fp.mul(Z1, Z2);\n            let t3 = Fp.add(X1, Y1);\n            let t4 = Fp.add(X2, Y2); // step 5\n            t3 = Fp.mul(t3, t4);\n            t4 = Fp.add(t0, t1);\n            t3 = Fp.sub(t3, t4);\n            t4 = Fp.add(X1, Z1);\n            let t5 = Fp.add(X2, Z2); // step 10\n            t4 = Fp.mul(t4, t5);\n            t5 = Fp.add(t0, t2);\n            t4 = Fp.sub(t4, t5);\n            t5 = Fp.add(Y1, Z1);\n            X3 = Fp.add(Y2, Z2); // step 15\n            t5 = Fp.mul(t5, X3);\n            X3 = Fp.add(t1, t2);\n            t5 = Fp.sub(t5, X3);\n            Z3 = Fp.mul(a, t4);\n            X3 = Fp.mul(b3, t2); // step 20\n            Z3 = Fp.add(X3, Z3);\n            X3 = Fp.sub(t1, Z3);\n            Z3 = Fp.add(t1, Z3);\n            Y3 = Fp.mul(X3, Z3);\n            t1 = Fp.add(t0, t0); // step 25\n            t1 = Fp.add(t1, t0);\n            t2 = Fp.mul(a, t2);\n            t4 = Fp.mul(b3, t4);\n            t1 = Fp.add(t1, t2);\n            t2 = Fp.sub(t0, t2); // step 30\n            t2 = Fp.mul(a, t2);\n            t4 = Fp.add(t4, t2);\n            t0 = Fp.mul(t1, t4);\n            Y3 = Fp.add(Y3, t0);\n            t0 = Fp.mul(t5, t4); // step 35\n            X3 = Fp.mul(t3, X3);\n            X3 = Fp.sub(X3, t0);\n            t0 = Fp.mul(t3, t1);\n            Z3 = Fp.mul(t5, Z3);\n            Z3 = Fp.add(Z3, t0); // step 40\n            return new Point(X3, Y3, Z3);\n        }\n        subtract(other) {\n            return this.add(other.negate());\n        }\n        is0() {\n            return this.equals(Point.ZERO);\n        }\n        wNAF(n) {\n            return wnaf.wNAFCached(this, pointPrecomputes, n, (comp) => {\n                const toInv = Fp.invertBatch(comp.map((p) => p.pz));\n                return comp.map((p, i) => p.toAffine(toInv[i])).map(Point.fromAffine);\n            });\n        }\n        /**\n         * Non-constant-time multiplication. Uses double-and-add algorithm.\n         * It's faster, but should only be used when you don't care about\n         * an exposed private key e.g. sig verification, which works over *public* keys.\n         */\n        multiplyUnsafe(n) {\n            const I = Point.ZERO;\n            if (n === _0n)\n                return I;\n            assertGE(n); // Will throw on 0\n            if (n === _1n)\n                return this;\n            const { endo } = CURVE;\n            if (!endo)\n                return wnaf.unsafeLadder(this, n);\n            // Apply endomorphism\n            let { k1neg, k1, k2neg, k2 } = endo.splitScalar(n);\n            let k1p = I;\n            let k2p = I;\n            let d = this;\n            while (k1 > _0n || k2 > _0n) {\n                if (k1 & _1n)\n                    k1p = k1p.add(d);\n                if (k2 & _1n)\n                    k2p = k2p.add(d);\n                d = d.double();\n                k1 >>= _1n;\n                k2 >>= _1n;\n            }\n            if (k1neg)\n                k1p = k1p.negate();\n            if (k2neg)\n                k2p = k2p.negate();\n            k2p = new Point(Fp.mul(k2p.px, endo.beta), k2p.py, k2p.pz);\n            return k1p.add(k2p);\n        }\n        /**\n         * Constant time multiplication.\n         * Uses wNAF method. Windowed method may be 10% faster,\n         * but takes 2x longer to generate and consumes 2x memory.\n         * Uses precomputes when available.\n         * Uses endomorphism for Koblitz curves.\n         * @param scalar by which the point would be multiplied\n         * @returns New point\n         */\n        multiply(scalar) {\n            assertGE(scalar);\n            let n = scalar;\n            let point, fake; // Fake point is used to const-time mult\n            const { endo } = CURVE;\n            if (endo) {\n                const { k1neg, k1, k2neg, k2 } = endo.splitScalar(n);\n                let { p: k1p, f: f1p } = this.wNAF(k1);\n                let { p: k2p, f: f2p } = this.wNAF(k2);\n                k1p = wnaf.constTimeNegate(k1neg, k1p);\n                k2p = wnaf.constTimeNegate(k2neg, k2p);\n                k2p = new Point(Fp.mul(k2p.px, endo.beta), k2p.py, k2p.pz);\n                point = k1p.add(k2p);\n                fake = f1p.add(f2p);\n            }\n            else {\n                const { p, f } = this.wNAF(n);\n                point = p;\n                fake = f;\n            }\n            // Normalize `z` for both points, but return only real one\n            return Point.normalizeZ([point, fake])[0];\n        }\n        /**\n         * Efficiently calculate `aP + bQ`. Unsafe, can expose private key, if used incorrectly.\n         * Not using Strauss-Shamir trick: precomputation tables are faster.\n         * The trick could be useful if both P and Q are not G (not in our case).\n         * @returns non-zero affine point\n         */\n        multiplyAndAddUnsafe(Q, a, b) {\n            const G = Point.BASE; // No Strauss-Shamir trick: we have 10% faster G precomputes\n            const mul = (P, a // Select faster multiply() method\n            ) => (a === _0n || a === _1n || !P.equals(G) ? P.multiplyUnsafe(a) : P.multiply(a));\n            const sum = mul(this, a).add(mul(Q, b));\n            return sum.is0() ? undefined : sum;\n        }\n        // Converts Projective point to affine (x, y) coordinates.\n        // Can accept precomputed Z^-1 - for example, from invertBatch.\n        // (x, y, z)  (x=x/z, y=y/z)\n        toAffine(iz) {\n            const { px: x, py: y, pz: z } = this;\n            const is0 = this.is0();\n            // If invZ was 0, we return zero point. However we still want to execute\n            // all operations, so we replace invZ with a random number, 1.\n            if (iz == null)\n                iz = is0 ? Fp.ONE : Fp.inv(z);\n            const ax = Fp.mul(x, iz);\n            const ay = Fp.mul(y, iz);\n            const zz = Fp.mul(z, iz);\n            if (is0)\n                return { x: Fp.ZERO, y: Fp.ZERO };\n            if (!Fp.eql(zz, Fp.ONE))\n                throw new Error('invZ was invalid');\n            return { x: ax, y: ay };\n        }\n        isTorsionFree() {\n            const { h: cofactor, isTorsionFree } = CURVE;\n            if (cofactor === _1n)\n                return true; // No subgroups, always torsion-free\n            if (isTorsionFree)\n                return isTorsionFree(Point, this);\n            throw new Error('isTorsionFree() has not been declared for the elliptic curve');\n        }\n        clearCofactor() {\n            const { h: cofactor, clearCofactor } = CURVE;\n            if (cofactor === _1n)\n                return this; // Fast-path\n            if (clearCofactor)\n                return clearCofactor(Point, this);\n            return this.multiplyUnsafe(CURVE.h);\n        }\n        toRawBytes(isCompressed = true) {\n            this.assertValidity();\n            return toBytes(Point, this, isCompressed);\n        }\n        toHex(isCompressed = true) {\n            return ut.bytesToHex(this.toRawBytes(isCompressed));\n        }\n    }\n    Point.BASE = new Point(CURVE.Gx, CURVE.Gy, Fp.ONE);\n    Point.ZERO = new Point(Fp.ZERO, Fp.ONE, Fp.ZERO);\n    const _bits = CURVE.nBitLength;\n    const wnaf = wNAF(Point, CURVE.endo ? Math.ceil(_bits / 2) : _bits);\n    // Validate if generator point is on curve\n    return {\n        CURVE,\n        ProjectivePoint: Point,\n        normPrivateKeyToScalar,\n        weierstrassEquation,\n        isWithinCurveOrder,\n    };\n}\nfunction validateOpts(curve) {\n    const opts = validateBasic(curve);\n    ut.validateObject(opts, {\n        hash: 'hash',\n        hmac: 'function',\n        randomBytes: 'function',\n    }, {\n        bits2int: 'function',\n        bits2int_modN: 'function',\n        lowS: 'boolean',\n    });\n    return Object.freeze({ lowS: true, ...opts });\n}\nexport function weierstrass(curveDef) {\n    const CURVE = validateOpts(curveDef);\n    const { Fp, n: CURVE_ORDER } = CURVE;\n    const compressedLen = Fp.BYTES + 1; // e.g. 33 for 32\n    const uncompressedLen = 2 * Fp.BYTES + 1; // e.g. 65 for 32\n    function isValidFieldElement(num) {\n        return _0n < num && num < Fp.ORDER; // 0 is banned since it's not invertible FE\n    }\n    function modN(a) {\n        return mod.mod(a, CURVE_ORDER);\n    }\n    function invN(a) {\n        return mod.invert(a, CURVE_ORDER);\n    }\n    const { ProjectivePoint: Point, normPrivateKeyToScalar, weierstrassEquation, isWithinCurveOrder, } = weierstrassPoints({\n        ...CURVE,\n        toBytes(_c, point, isCompressed) {\n            const a = point.toAffine();\n            const x = Fp.toBytes(a.x);\n            const cat = ut.concatBytes;\n            if (isCompressed) {\n                return cat(Uint8Array.from([point.hasEvenY() ? 0x02 : 0x03]), x);\n            }\n            else {\n                return cat(Uint8Array.from([0x04]), x, Fp.toBytes(a.y));\n            }\n        },\n        fromBytes(bytes) {\n            const len = bytes.length;\n            const head = bytes[0];\n            const tail = bytes.subarray(1);\n            // this.assertValidity() is done inside of fromHex\n            if (len === compressedLen && (head === 0x02 || head === 0x03)) {\n                const x = ut.bytesToNumberBE(tail);\n                if (!isValidFieldElement(x))\n                    throw new Error('Point is not on curve');\n                const y2 = weierstrassEquation(x); // y = x + ax + b\n                let y = Fp.sqrt(y2); // y = y ^ (p+1)/4\n                const isYOdd = (y & _1n) === _1n;\n                // ECDSA\n                const isHeadOdd = (head & 1) === 1;\n                if (isHeadOdd !== isYOdd)\n                    y = Fp.neg(y);\n                return { x, y };\n            }\n            else if (len === uncompressedLen && head === 0x04) {\n                const x = Fp.fromBytes(tail.subarray(0, Fp.BYTES));\n                const y = Fp.fromBytes(tail.subarray(Fp.BYTES, 2 * Fp.BYTES));\n                return { x, y };\n            }\n            else {\n                throw new Error(`Point of length ${len} was invalid. Expected ${compressedLen} compressed bytes or ${uncompressedLen} uncompressed bytes`);\n            }\n        },\n    });\n    const numToNByteStr = (num) => ut.bytesToHex(ut.numberToBytesBE(num, CURVE.nByteLength));\n    function isBiggerThanHalfOrder(number) {\n        const HALF = CURVE_ORDER >> _1n;\n        return number > HALF;\n    }\n    function normalizeS(s) {\n        return isBiggerThanHalfOrder(s) ? modN(-s) : s;\n    }\n    // slice bytes num\n    const slcNum = (b, from, to) => ut.bytesToNumberBE(b.slice(from, to));\n    /**\n     * ECDSA signature with its (r, s) properties. Supports DER & compact representations.\n     */\n    class Signature {\n        constructor(r, s, recovery) {\n            this.r = r;\n            this.s = s;\n            this.recovery = recovery;\n            this.assertValidity();\n        }\n        // pair (bytes of r, bytes of s)\n        static fromCompact(hex) {\n            const l = CURVE.nByteLength;\n            hex = ensureBytes('compactSignature', hex, l * 2);\n            return new Signature(slcNum(hex, 0, l), slcNum(hex, l, 2 * l));\n        }\n        // DER encoded ECDSA signature\n        // https://bitcoin.stackexchange.com/questions/57644/what-are-the-parts-of-a-bitcoin-transaction-input-script\n        static fromDER(hex) {\n            const { r, s } = DER.toSig(ensureBytes('DER', hex));\n            return new Signature(r, s);\n        }\n        assertValidity() {\n            // can use assertGE here\n            if (!isWithinCurveOrder(this.r))\n                throw new Error('r must be 0 < r < CURVE.n');\n            if (!isWithinCurveOrder(this.s))\n                throw new Error('s must be 0 < s < CURVE.n');\n        }\n        addRecoveryBit(recovery) {\n            return new Signature(this.r, this.s, recovery);\n        }\n        recoverPublicKey(msgHash) {\n            const { r, s, recovery: rec } = this;\n            const h = bits2int_modN(ensureBytes('msgHash', msgHash)); // Truncate hash\n            if (rec == null || ![0, 1, 2, 3].includes(rec))\n                throw new Error('recovery id invalid');\n            const radj = rec === 2 || rec === 3 ? r + CURVE.n : r;\n            if (radj >= Fp.ORDER)\n                throw new Error('recovery id 2 or 3 invalid');\n            const prefix = (rec & 1) === 0 ? '02' : '03';\n            const R = Point.fromHex(prefix + numToNByteStr(radj));\n            const ir = invN(radj); // r^-1\n            const u1 = modN(-h * ir); // -hr^-1\n            const u2 = modN(s * ir); // sr^-1\n            const Q = Point.BASE.multiplyAndAddUnsafe(R, u1, u2); // (sr^-1)R-(hr^-1)G = -(hr^-1)G + (sr^-1)\n            if (!Q)\n                throw new Error('point at infinify'); // unsafe is fine: no priv data leaked\n            Q.assertValidity();\n            return Q;\n        }\n        // Signatures should be low-s, to prevent malleability.\n        hasHighS() {\n            return isBiggerThanHalfOrder(this.s);\n        }\n        normalizeS() {\n            return this.hasHighS() ? new Signature(this.r, modN(-this.s), this.recovery) : this;\n        }\n        // DER-encoded\n        toDERRawBytes() {\n            return ut.hexToBytes(this.toDERHex());\n        }\n        toDERHex() {\n            return DER.hexFromSig({ r: this.r, s: this.s });\n        }\n        // padded bytes of r, then padded bytes of s\n        toCompactRawBytes() {\n            return ut.hexToBytes(this.toCompactHex());\n        }\n        toCompactHex() {\n            return numToNByteStr(this.r) + numToNByteStr(this.s);\n        }\n    }\n    const utils = {\n        isValidPrivateKey(privateKey) {\n            try {\n                normPrivateKeyToScalar(privateKey);\n                return true;\n            }\n            catch (error) {\n                return false;\n            }\n        },\n        normPrivateKeyToScalar: normPrivateKeyToScalar,\n        /**\n         * Produces cryptographically secure private key from random of size\n         * (groupLen + ceil(groupLen / 2)) with modulo bias being negligible.\n         */\n        randomPrivateKey: () => {\n            const length = mod.getMinHashLength(CURVE.n);\n            return mod.mapHashToField(CURVE.randomBytes(length), CURVE.n);\n        },\n        /**\n         * Creates precompute table for an arbitrary EC point. Makes point \"cached\".\n         * Allows to massively speed-up `point.multiply(scalar)`.\n         * @returns cached point\n         * @example\n         * const fast = utils.precompute(8, ProjectivePoint.fromHex(someonesPubKey));\n         * fast.multiply(privKey); // much faster ECDH now\n         */\n        precompute(windowSize = 8, point = Point.BASE) {\n            point._setWindowSize(windowSize);\n            point.multiply(BigInt(3)); // 3 is arbitrary, just need any number here\n            return point;\n        },\n    };\n    /**\n     * Computes public key for a private key. Checks for validity of the private key.\n     * @param privateKey private key\n     * @param isCompressed whether to return compact (default), or full key\n     * @returns Public key, full when isCompressed=false; short when isCompressed=true\n     */\n    function getPublicKey(privateKey, isCompressed = true) {\n        return Point.fromPrivateKey(privateKey).toRawBytes(isCompressed);\n    }\n    /**\n     * Quick and dirty check for item being public key. Does not validate hex, or being on-curve.\n     */\n    function isProbPub(item) {\n        const arr = item instanceof Uint8Array;\n        const str = typeof item === 'string';\n        const len = (arr || str) && item.length;\n        if (arr)\n            return len === compressedLen || len === uncompressedLen;\n        if (str)\n            return len === 2 * compressedLen || len === 2 * uncompressedLen;\n        if (item instanceof Point)\n            return true;\n        return false;\n    }\n    /**\n     * ECDH (Elliptic Curve Diffie Hellman).\n     * Computes shared public key from private key and public key.\n     * Checks: 1) private key validity 2) shared key is on-curve.\n     * Does NOT hash the result.\n     * @param privateA private key\n     * @param publicB different public key\n     * @param isCompressed whether to return compact (default), or full key\n     * @returns shared public key\n     */\n    function getSharedSecret(privateA, publicB, isCompressed = true) {\n        if (isProbPub(privateA))\n            throw new Error('first arg must be private key');\n        if (!isProbPub(publicB))\n            throw new Error('second arg must be public key');\n        const b = Point.fromHex(publicB); // check for being on-curve\n        return b.multiply(normPrivateKeyToScalar(privateA)).toRawBytes(isCompressed);\n    }\n    // RFC6979: ensure ECDSA msg is X bytes and < N. RFC suggests optional truncating via bits2octets.\n    // FIPS 186-4 4.6 suggests the leftmost min(nBitLen, outLen) bits, which matches bits2int.\n    // bits2int can produce res>N, we can do mod(res, N) since the bitLen is the same.\n    // int2octets can't be used; pads small msgs with 0: unacceptatble for trunc as per RFC vectors\n    const bits2int = CURVE.bits2int ||\n        function (bytes) {\n            // For curves with nBitLength % 8 !== 0: bits2octets(bits2octets(m)) !== bits2octets(m)\n            // for some cases, since bytes.length * 8 is not actual bitLength.\n            const num = ut.bytesToNumberBE(bytes); // check for == u8 done here\n            const delta = bytes.length * 8 - CURVE.nBitLength; // truncate to nBitLength leftmost bits\n            return delta > 0 ? num >> BigInt(delta) : num;\n        };\n    const bits2int_modN = CURVE.bits2int_modN ||\n        function (bytes) {\n            return modN(bits2int(bytes)); // can't use bytesToNumberBE here\n        };\n    // NOTE: pads output with zero as per spec\n    const ORDER_MASK = ut.bitMask(CURVE.nBitLength);\n    /**\n     * Converts to bytes. Checks if num in `[0..ORDER_MASK-1]` e.g.: `[0..2^256-1]`.\n     */\n    function int2octets(num) {\n        if (typeof num !== 'bigint')\n            throw new Error('bigint expected');\n        if (!(_0n <= num && num < ORDER_MASK))\n            throw new Error(`bigint expected < 2^${CURVE.nBitLength}`);\n        // works with order, can have different size than numToField!\n        return ut.numberToBytesBE(num, CURVE.nByteLength);\n    }\n    // Steps A, D of RFC6979 3.2\n    // Creates RFC6979 seed; converts msg/privKey to numbers.\n    // Used only in sign, not in verify.\n    // NOTE: we cannot assume here that msgHash has same amount of bytes as curve order, this will be wrong at least for P521.\n    // Also it can be bigger for P224 + SHA256\n    function prepSig(msgHash, privateKey, opts = defaultSigOpts) {\n        if (['recovered', 'canonical'].some((k) => k in opts))\n            throw new Error('sign() legacy options not supported');\n        const { hash, randomBytes } = CURVE;\n        let { lowS, prehash, extraEntropy: ent } = opts; // generates low-s sigs by default\n        if (lowS == null)\n            lowS = true; // RFC6979 3.2: we skip step A, because we already provide hash\n        msgHash = ensureBytes('msgHash', msgHash);\n        if (prehash)\n            msgHash = ensureBytes('prehashed msgHash', hash(msgHash));\n        // We can't later call bits2octets, since nested bits2int is broken for curves\n        // with nBitLength % 8 !== 0. Because of that, we unwrap it here as int2octets call.\n        // const bits2octets = (bits) => int2octets(bits2int_modN(bits))\n        const h1int = bits2int_modN(msgHash);\n        const d = normPrivateKeyToScalar(privateKey); // validate private key, convert to bigint\n        const seedArgs = [int2octets(d), int2octets(h1int)];\n        // extraEntropy. RFC6979 3.6: additional k' (optional).\n        if (ent != null) {\n            // K = HMAC_K(V || 0x00 || int2octets(x) || bits2octets(h1) || k')\n            const e = ent === true ? randomBytes(Fp.BYTES) : ent; // generate random bytes OR pass as-is\n            seedArgs.push(ensureBytes('extraEntropy', e)); // check for being bytes\n        }\n        const seed = ut.concatBytes(...seedArgs); // Step D of RFC6979 3.2\n        const m = h1int; // NOTE: no need to call bits2int second time here, it is inside truncateHash!\n        // Converts signature params into point w r/s, checks result for validity.\n        function k2sig(kBytes) {\n            // RFC 6979 Section 3.2, step 3: k = bits2int(T)\n            const k = bits2int(kBytes); // Cannot use fields methods, since it is group element\n            if (!isWithinCurveOrder(k))\n                return; // Important: all mod() calls here must be done over N\n            const ik = invN(k); // k^-1 mod n\n            const q = Point.BASE.multiply(k).toAffine(); // q = Gk\n            const r = modN(q.x); // r = q.x mod n\n            if (r === _0n)\n                return;\n            // Can use scalar blinding b^-1(bm + bdr) where b  [1,q1] according to\n            // https://tches.iacr.org/index.php/TCHES/article/view/7337/6509. We've decided against it:\n            // a) dependency on CSPRNG b) 15% slowdown c) doesn't really help since bigints are not CT\n            const s = modN(ik * modN(m + r * d)); // Not using blinding here\n            if (s === _0n)\n                return;\n            let recovery = (q.x === r ? 0 : 2) | Number(q.y & _1n); // recovery bit (2 or 3, when q.x > n)\n            let normS = s;\n            if (lowS && isBiggerThanHalfOrder(s)) {\n                normS = normalizeS(s); // if lowS was passed, ensure s is always\n                recovery ^= 1; // // in the bottom half of N\n            }\n            return new Signature(r, normS, recovery); // use normS, not s\n        }\n        return { seed, k2sig };\n    }\n    const defaultSigOpts = { lowS: CURVE.lowS, prehash: false };\n    const defaultVerOpts = { lowS: CURVE.lowS, prehash: false };\n    /**\n     * Signs message hash with a private key.\n     * ```\n     * sign(m, d, k) where\n     *   (x, y) = G  k\n     *   r = x mod n\n     *   s = (m + dr)/k mod n\n     * ```\n     * @param msgHash NOT message. msg needs to be hashed to `msgHash`, or use `prehash`.\n     * @param privKey private key\n     * @param opts lowS for non-malleable sigs. extraEntropy for mixing randomness into k. prehash will hash first arg.\n     * @returns signature with recovery param\n     */\n    function sign(msgHash, privKey, opts = defaultSigOpts) {\n        const { seed, k2sig } = prepSig(msgHash, privKey, opts); // Steps A, D of RFC6979 3.2.\n        const C = CURVE;\n        const drbg = ut.createHmacDrbg(C.hash.outputLen, C.nByteLength, C.hmac);\n        return drbg(seed, k2sig); // Steps B, C, D, E, F, G\n    }\n    // Enable precomputes. Slows down first publicKey computation by 20ms.\n    Point.BASE._setWindowSize(8);\n    // utils.precompute(8, ProjectivePoint.BASE)\n    /**\n     * Verifies a signature against message hash and public key.\n     * Rejects lowS signatures by default: to override,\n     * specify option `{lowS: false}`. Implements section 4.1.4 from https://www.secg.org/sec1-v2.pdf:\n     *\n     * ```\n     * verify(r, s, h, P) where\n     *   U1 = hs^-1 mod n\n     *   U2 = rs^-1 mod n\n     *   R = U1G - U2P\n     *   mod(R.x, n) == r\n     * ```\n     */\n    function verify(signature, msgHash, publicKey, opts = defaultVerOpts) {\n        const sg = signature;\n        msgHash = ensureBytes('msgHash', msgHash);\n        publicKey = ensureBytes('publicKey', publicKey);\n        if ('strict' in opts)\n            throw new Error('options.strict was renamed to lowS');\n        const { lowS, prehash } = opts;\n        let _sig = undefined;\n        let P;\n        try {\n            if (typeof sg === 'string' || sg instanceof Uint8Array) {\n                // Signature can be represented in 2 ways: compact (2*nByteLength) & DER (variable-length).\n                // Since DER can also be 2*nByteLength bytes, we check for it first.\n                try {\n                    _sig = Signature.fromDER(sg);\n                }\n                catch (derError) {\n                    if (!(derError instanceof DER.Err))\n                        throw derError;\n                    _sig = Signature.fromCompact(sg);\n                }\n            }\n            else if (typeof sg === 'object' && typeof sg.r === 'bigint' && typeof sg.s === 'bigint') {\n                const { r, s } = sg;\n                _sig = new Signature(r, s);\n            }\n            else {\n                throw new Error('PARSE');\n            }\n            P = Point.fromHex(publicKey);\n        }\n        catch (error) {\n            if (error.message === 'PARSE')\n                throw new Error(`signature must be Signature instance, Uint8Array or hex string`);\n            return false;\n        }\n        if (lowS && _sig.hasHighS())\n            return false;\n        if (prehash)\n            msgHash = CURVE.hash(msgHash);\n        const { r, s } = _sig;\n        const h = bits2int_modN(msgHash); // Cannot use fields methods, since it is group element\n        const is = invN(s); // s^-1\n        const u1 = modN(h * is); // u1 = hs^-1 mod n\n        const u2 = modN(r * is); // u2 = rs^-1 mod n\n        const R = Point.BASE.multiplyAndAddUnsafe(P, u1, u2)?.toAffine(); // R = u1G + u2P\n        if (!R)\n            return false;\n        const v = modN(R.x);\n        return v === r;\n    }\n    return {\n        CURVE,\n        getPublicKey,\n        getSharedSecret,\n        sign,\n        verify,\n        ProjectivePoint: Point,\n        Signature,\n        utils,\n    };\n}\n/**\n * Implementation of the Shallue and van de Woestijne method for any weierstrass curve.\n * TODO: check if there is a way to merge this with uvRatio in Edwards; move to modular.\n * b = True and y = sqrt(u / v) if (u / v) is square in F, and\n * b = False and y = sqrt(Z * (u / v)) otherwise.\n * @param Fp\n * @param Z\n * @returns\n */\nexport function SWUFpSqrtRatio(Fp, Z) {\n    // Generic implementation\n    const q = Fp.ORDER;\n    let l = _0n;\n    for (let o = q - _1n; o % _2n === _0n; o /= _2n)\n        l += _1n;\n    const c1 = l; // 1. c1, the largest integer such that 2^c1 divides q - 1.\n    // We need 2n ** c1 and 2n ** (c1-1). We can't use **; but we can use <<.\n    // 2n ** c1 == 2n << (c1-1)\n    const _2n_pow_c1_1 = _2n << (c1 - _1n - _1n);\n    const _2n_pow_c1 = _2n_pow_c1_1 * _2n;\n    const c2 = (q - _1n) / _2n_pow_c1; // 2. c2 = (q - 1) / (2^c1)  # Integer arithmetic\n    const c3 = (c2 - _1n) / _2n; // 3. c3 = (c2 - 1) / 2            # Integer arithmetic\n    const c4 = _2n_pow_c1 - _1n; // 4. c4 = 2^c1 - 1                # Integer arithmetic\n    const c5 = _2n_pow_c1_1; // 5. c5 = 2^(c1 - 1)                  # Integer arithmetic\n    const c6 = Fp.pow(Z, c2); // 6. c6 = Z^c2\n    const c7 = Fp.pow(Z, (c2 + _1n) / _2n); // 7. c7 = Z^((c2 + 1) / 2)\n    let sqrtRatio = (u, v) => {\n        let tv1 = c6; // 1. tv1 = c6\n        let tv2 = Fp.pow(v, c4); // 2. tv2 = v^c4\n        let tv3 = Fp.sqr(tv2); // 3. tv3 = tv2^2\n        tv3 = Fp.mul(tv3, v); // 4. tv3 = tv3 * v\n        let tv5 = Fp.mul(u, tv3); // 5. tv5 = u * tv3\n        tv5 = Fp.pow(tv5, c3); // 6. tv5 = tv5^c3\n        tv5 = Fp.mul(tv5, tv2); // 7. tv5 = tv5 * tv2\n        tv2 = Fp.mul(tv5, v); // 8. tv2 = tv5 * v\n        tv3 = Fp.mul(tv5, u); // 9. tv3 = tv5 * u\n        let tv4 = Fp.mul(tv3, tv2); // 10. tv4 = tv3 * tv2\n        tv5 = Fp.pow(tv4, c5); // 11. tv5 = tv4^c5\n        let isQR = Fp.eql(tv5, Fp.ONE); // 12. isQR = tv5 == 1\n        tv2 = Fp.mul(tv3, c7); // 13. tv2 = tv3 * c7\n        tv5 = Fp.mul(tv4, tv1); // 14. tv5 = tv4 * tv1\n        tv3 = Fp.cmov(tv2, tv3, isQR); // 15. tv3 = CMOV(tv2, tv3, isQR)\n        tv4 = Fp.cmov(tv5, tv4, isQR); // 16. tv4 = CMOV(tv5, tv4, isQR)\n        // 17. for i in (c1, c1 - 1, ..., 2):\n        for (let i = c1; i > _1n; i--) {\n            let tv5 = i - _2n; // 18.    tv5 = i - 2\n            tv5 = _2n << (tv5 - _1n); // 19.    tv5 = 2^tv5\n            let tvv5 = Fp.pow(tv4, tv5); // 20.    tv5 = tv4^tv5\n            const e1 = Fp.eql(tvv5, Fp.ONE); // 21.    e1 = tv5 == 1\n            tv2 = Fp.mul(tv3, tv1); // 22.    tv2 = tv3 * tv1\n            tv1 = Fp.mul(tv1, tv1); // 23.    tv1 = tv1 * tv1\n            tvv5 = Fp.mul(tv4, tv1); // 24.    tv5 = tv4 * tv1\n            tv3 = Fp.cmov(tv2, tv3, e1); // 25.    tv3 = CMOV(tv2, tv3, e1)\n            tv4 = Fp.cmov(tvv5, tv4, e1); // 26.    tv4 = CMOV(tv5, tv4, e1)\n        }\n        return { isValid: isQR, value: tv3 };\n    };\n    if (Fp.ORDER % _4n === _3n) {\n        // sqrt_ratio_3mod4(u, v)\n        const c1 = (Fp.ORDER - _3n) / _4n; // 1. c1 = (q - 3) / 4     # Integer arithmetic\n        const c2 = Fp.sqrt(Fp.neg(Z)); // 2. c2 = sqrt(-Z)\n        sqrtRatio = (u, v) => {\n            let tv1 = Fp.sqr(v); // 1. tv1 = v^2\n            const tv2 = Fp.mul(u, v); // 2. tv2 = u * v\n            tv1 = Fp.mul(tv1, tv2); // 3. tv1 = tv1 * tv2\n            let y1 = Fp.pow(tv1, c1); // 4. y1 = tv1^c1\n            y1 = Fp.mul(y1, tv2); // 5. y1 = y1 * tv2\n            const y2 = Fp.mul(y1, c2); // 6. y2 = y1 * c2\n            const tv3 = Fp.mul(Fp.sqr(y1), v); // 7. tv3 = y1^2; 8. tv3 = tv3 * v\n            const isQR = Fp.eql(tv3, u); // 9. isQR = tv3 == u\n            let y = Fp.cmov(y2, y1, isQR); // 10. y = CMOV(y2, y1, isQR)\n            return { isValid: isQR, value: y }; // 11. return (isQR, y) isQR ? y : y*c2\n        };\n    }\n    // No curves uses that\n    // if (Fp.ORDER % _8n === _5n) // sqrt_ratio_5mod8\n    return sqrtRatio;\n}\n/**\n * Simplified Shallue-van de Woestijne-Ulas Method\n * https://www.rfc-editor.org/rfc/rfc9380#section-6.6.2\n */\nexport function mapToCurveSimpleSWU(Fp, opts) {\n    mod.validateField(Fp);\n    if (!Fp.isValid(opts.A) || !Fp.isValid(opts.B) || !Fp.isValid(opts.Z))\n        throw new Error('mapToCurveSimpleSWU: invalid opts');\n    const sqrtRatio = SWUFpSqrtRatio(Fp, opts.Z);\n    if (!Fp.isOdd)\n        throw new Error('Fp.isOdd is not implemented!');\n    // Input: u, an element of F.\n    // Output: (x, y), a point on E.\n    return (u) => {\n        // prettier-ignore\n        let tv1, tv2, tv3, tv4, tv5, tv6, x, y;\n        tv1 = Fp.sqr(u); // 1.  tv1 = u^2\n        tv1 = Fp.mul(tv1, opts.Z); // 2.  tv1 = Z * tv1\n        tv2 = Fp.sqr(tv1); // 3.  tv2 = tv1^2\n        tv2 = Fp.add(tv2, tv1); // 4.  tv2 = tv2 + tv1\n        tv3 = Fp.add(tv2, Fp.ONE); // 5.  tv3 = tv2 + 1\n        tv3 = Fp.mul(tv3, opts.B); // 6.  tv3 = B * tv3\n        tv4 = Fp.cmov(opts.Z, Fp.neg(tv2), !Fp.eql(tv2, Fp.ZERO)); // 7.  tv4 = CMOV(Z, -tv2, tv2 != 0)\n        tv4 = Fp.mul(tv4, opts.A); // 8.  tv4 = A * tv4\n        tv2 = Fp.sqr(tv3); // 9.  tv2 = tv3^2\n        tv6 = Fp.sqr(tv4); // 10. tv6 = tv4^2\n        tv5 = Fp.mul(tv6, opts.A); // 11. tv5 = A * tv6\n        tv2 = Fp.add(tv2, tv5); // 12. tv2 = tv2 + tv5\n        tv2 = Fp.mul(tv2, tv3); // 13. tv2 = tv2 * tv3\n        tv6 = Fp.mul(tv6, tv4); // 14. tv6 = tv6 * tv4\n        tv5 = Fp.mul(tv6, opts.B); // 15. tv5 = B * tv6\n        tv2 = Fp.add(tv2, tv5); // 16. tv2 = tv2 + tv5\n        x = Fp.mul(tv1, tv3); // 17.   x = tv1 * tv3\n        const { isValid, value } = sqrtRatio(tv2, tv6); // 18. (is_gx1_square, y1) = sqrt_ratio(tv2, tv6)\n        y = Fp.mul(tv1, u); // 19.   y = tv1 * u  -> Z * u^3 * y1\n        y = Fp.mul(y, value); // 20.   y = y * y1\n        x = Fp.cmov(x, tv3, isValid); // 21.   x = CMOV(x, tv3, is_gx1_square)\n        y = Fp.cmov(y, value, isValid); // 22.   y = CMOV(y, y1, is_gx1_square)\n        const e1 = Fp.isOdd(u) === Fp.isOdd(y); // 23.  e1 = sgn0(u) == sgn0(y)\n        y = Fp.cmov(Fp.neg(y), y, e1); // 24.   y = CMOV(-y, y, e1)\n        x = Fp.div(x, tv4); // 25.   x = x / tv4\n        return { x, y };\n    };\n}\n//# sourceMappingURL=weierstrass.js.map","/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */\nimport { hmac } from '@noble/hashes/hmac';\nimport { concatBytes, randomBytes } from '@noble/hashes/utils';\nimport { weierstrass } from './abstract/weierstrass.js';\n// connects noble-curves to noble-hashes\nexport function getHash(hash) {\n    return {\n        hash,\n        hmac: (key, ...msgs) => hmac(hash, key, concatBytes(...msgs)),\n        randomBytes,\n    };\n}\nexport function createCurve(curveDef, defHash) {\n    const create = (hash) => weierstrass({ ...curveDef, ...getHash(hash) });\n    return Object.freeze({ ...create(defHash), create });\n}\n//# sourceMappingURL=_shortw_utils.js.map","/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */\nimport { sha256 } from '@noble/hashes/sha256';\nimport { randomBytes } from '@noble/hashes/utils';\nimport { Field, mod, pow2 } from './abstract/modular.js';\nimport { mapToCurveSimpleSWU } from './abstract/weierstrass.js';\nimport { bytesToNumberBE, concatBytes, ensureBytes, numberToBytesBE } from './abstract/utils.js';\nimport { createHasher, isogenyMap } from './abstract/hash-to-curve.js';\nimport { createCurve } from './_shortw_utils.js';\nconst secp256k1P = BigInt('0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f');\nconst secp256k1N = BigInt('0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141');\nconst _1n = BigInt(1);\nconst _2n = BigInt(2);\nconst divNearest = (a, b) => (a + b / _2n) / b;\n/**\n * n = n^((p+1)/4) for fields p = 3 mod 4. We unwrap the loop and multiply bit-by-bit.\n * (P+1n/4n).toString(2) would produce bits [223x 1, 0, 22x 1, 4x 0, 11, 00]\n */\nfunction sqrtMod(y) {\n    const P = secp256k1P;\n    // prettier-ignore\n    const _3n = BigInt(3), _6n = BigInt(6), _11n = BigInt(11), _22n = BigInt(22);\n    // prettier-ignore\n    const _23n = BigInt(23), _44n = BigInt(44), _88n = BigInt(88);\n    const b2 = (y * y * y) % P; // x^3, 11\n    const b3 = (b2 * b2 * y) % P; // x^7\n    const b6 = (pow2(b3, _3n, P) * b3) % P;\n    const b9 = (pow2(b6, _3n, P) * b3) % P;\n    const b11 = (pow2(b9, _2n, P) * b2) % P;\n    const b22 = (pow2(b11, _11n, P) * b11) % P;\n    const b44 = (pow2(b22, _22n, P) * b22) % P;\n    const b88 = (pow2(b44, _44n, P) * b44) % P;\n    const b176 = (pow2(b88, _88n, P) * b88) % P;\n    const b220 = (pow2(b176, _44n, P) * b44) % P;\n    const b223 = (pow2(b220, _3n, P) * b3) % P;\n    const t1 = (pow2(b223, _23n, P) * b22) % P;\n    const t2 = (pow2(t1, _6n, P) * b2) % P;\n    const root = pow2(t2, _2n, P);\n    if (!Fp.eql(Fp.sqr(root), y))\n        throw new Error('Cannot find square root');\n    return root;\n}\nconst Fp = Field(secp256k1P, undefined, undefined, { sqrt: sqrtMod });\nexport const secp256k1 = createCurve({\n    a: BigInt(0),\n    b: BigInt(7),\n    Fp,\n    n: secp256k1N,\n    // Base point (x, y) aka generator point\n    Gx: BigInt('55066263022277343669578718895168534326250603453777594175500187360389116729240'),\n    Gy: BigInt('32670510020758816978083085130507043184471273380659243275938904335757337482424'),\n    h: BigInt(1),\n    lowS: true,\n    /**\n     * secp256k1 belongs to Koblitz curves: it has efficiently computable endomorphism.\n     * Endomorphism uses 2x less RAM, speeds up precomputation by 2x and ECDH / key recovery by 20%.\n     * For precomputed wNAF it trades off 1/2 init time & 1/3 ram for 20% perf hit.\n     * Explanation: https://gist.github.com/paulmillr/eb670806793e84df628a7c434a873066\n     */\n    endo: {\n        beta: BigInt('0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee'),\n        splitScalar: (k) => {\n            const n = secp256k1N;\n            const a1 = BigInt('0x3086d221a7d46bcde86c90e49284eb15');\n            const b1 = -_1n * BigInt('0xe4437ed6010e88286f547fa90abfe4c3');\n            const a2 = BigInt('0x114ca50f7a8e2f3f657c1108d9d44cfd8');\n            const b2 = a1;\n            const POW_2_128 = BigInt('0x100000000000000000000000000000000'); // (2n**128n).toString(16)\n            const c1 = divNearest(b2 * k, n);\n            const c2 = divNearest(-b1 * k, n);\n            let k1 = mod(k - c1 * a1 - c2 * a2, n);\n            let k2 = mod(-c1 * b1 - c2 * b2, n);\n            const k1neg = k1 > POW_2_128;\n            const k2neg = k2 > POW_2_128;\n            if (k1neg)\n                k1 = n - k1;\n            if (k2neg)\n                k2 = n - k2;\n            if (k1 > POW_2_128 || k2 > POW_2_128) {\n                throw new Error('splitScalar: Endomorphism failed, k=' + k);\n            }\n            return { k1neg, k1, k2neg, k2 };\n        },\n    },\n}, sha256);\n// Schnorr signatures are superior to ECDSA from above. Below is Schnorr-specific BIP0340 code.\n// https://github.com/bitcoin/bips/blob/master/bip-0340.mediawiki\nconst _0n = BigInt(0);\nconst fe = (x) => typeof x === 'bigint' && _0n < x && x < secp256k1P;\nconst ge = (x) => typeof x === 'bigint' && _0n < x && x < secp256k1N;\n/** An object mapping tags to their tagged hash prefix of [SHA256(tag) | SHA256(tag)] */\nconst TAGGED_HASH_PREFIXES = {};\nfunction taggedHash(tag, ...messages) {\n    let tagP = TAGGED_HASH_PREFIXES[tag];\n    if (tagP === undefined) {\n        const tagH = sha256(Uint8Array.from(tag, (c) => c.charCodeAt(0)));\n        tagP = concatBytes(tagH, tagH);\n        TAGGED_HASH_PREFIXES[tag] = tagP;\n    }\n    return sha256(concatBytes(tagP, ...messages));\n}\n// ECDSA compact points are 33-byte. Schnorr is 32: we strip first byte 0x02 or 0x03\nconst pointToBytes = (point) => point.toRawBytes(true).slice(1);\nconst numTo32b = (n) => numberToBytesBE(n, 32);\nconst modP = (x) => mod(x, secp256k1P);\nconst modN = (x) => mod(x, secp256k1N);\nconst Point = secp256k1.ProjectivePoint;\nconst GmulAdd = (Q, a, b) => Point.BASE.multiplyAndAddUnsafe(Q, a, b);\n// Calculate point, scalar and bytes\nfunction schnorrGetExtPubKey(priv) {\n    let d_ = secp256k1.utils.normPrivateKeyToScalar(priv); // same method executed in fromPrivateKey\n    let p = Point.fromPrivateKey(d_); // P = d'G; 0 < d' < n check is done inside\n    const scalar = p.hasEvenY() ? d_ : modN(-d_);\n    return { scalar: scalar, bytes: pointToBytes(p) };\n}\n/**\n * lift_x from BIP340. Convert 32-byte x coordinate to elliptic curve point.\n * @returns valid point checked for being on-curve\n */\nfunction lift_x(x) {\n    if (!fe(x))\n        throw new Error('bad x: need 0 < x < p'); // Fail if x  p.\n    const xx = modP(x * x);\n    const c = modP(xx * x + BigInt(7)); // Let c = x + 7 mod p.\n    let y = sqrtMod(c); // Let y = c^(p+1)/4 mod p.\n    if (y % _2n !== _0n)\n        y = modP(-y); // Return the unique point P such that x(P) = x and\n    const p = new Point(x, y, _1n); // y(P) = y if y mod 2 = 0 or y(P) = p-y otherwise.\n    p.assertValidity();\n    return p;\n}\n/**\n * Create tagged hash, convert it to bigint, reduce modulo-n.\n */\nfunction challenge(...args) {\n    return modN(bytesToNumberBE(taggedHash('BIP0340/challenge', ...args)));\n}\n/**\n * Schnorr public key is just `x` coordinate of Point as per BIP340.\n */\nfunction schnorrGetPublicKey(privateKey) {\n    return schnorrGetExtPubKey(privateKey).bytes; // d'=int(sk). Fail if d'=0 or d'n. Ret bytes(d'G)\n}\n/**\n * Creates Schnorr signature as per BIP340. Verifies itself before returning anything.\n * auxRand is optional and is not the sole source of k generation: bad CSPRNG won't be dangerous.\n */\nfunction schnorrSign(message, privateKey, auxRand = randomBytes(32)) {\n    const m = ensureBytes('message', message);\n    const { bytes: px, scalar: d } = schnorrGetExtPubKey(privateKey); // checks for isWithinCurveOrder\n    const a = ensureBytes('auxRand', auxRand, 32); // Auxiliary random data a: a 32-byte array\n    const t = numTo32b(d ^ bytesToNumberBE(taggedHash('BIP0340/aux', a))); // Let t be the byte-wise xor of bytes(d) and hash/aux(a)\n    const rand = taggedHash('BIP0340/nonce', t, px, m); // Let rand = hash/nonce(t || bytes(P) || m)\n    const k_ = modN(bytesToNumberBE(rand)); // Let k' = int(rand) mod n\n    if (k_ === _0n)\n        throw new Error('sign failed: k is zero'); // Fail if k' = 0.\n    const { bytes: rx, scalar: k } = schnorrGetExtPubKey(k_); // Let R = k'G.\n    const e = challenge(rx, px, m); // Let e = int(hash/challenge(bytes(R) || bytes(P) || m)) mod n.\n    const sig = new Uint8Array(64); // Let sig = bytes(R) || bytes((k + ed) mod n).\n    sig.set(rx, 0);\n    sig.set(numTo32b(modN(k + e * d)), 32);\n    // If Verify(bytes(P), m, sig) (see below) returns failure, abort\n    if (!schnorrVerify(sig, m, px))\n        throw new Error('sign: Invalid signature produced');\n    return sig;\n}\n/**\n * Verifies Schnorr signature.\n * Will swallow errors & return false except for initial type validation of arguments.\n */\nfunction schnorrVerify(signature, message, publicKey) {\n    const sig = ensureBytes('signature', signature, 64);\n    const m = ensureBytes('message', message);\n    const pub = ensureBytes('publicKey', publicKey, 32);\n    try {\n        const P = lift_x(bytesToNumberBE(pub)); // P = lift_x(int(pk)); fail if that fails\n        const r = bytesToNumberBE(sig.subarray(0, 32)); // Let r = int(sig[0:32]); fail if r  p.\n        if (!fe(r))\n            return false;\n        const s = bytesToNumberBE(sig.subarray(32, 64)); // Let s = int(sig[32:64]); fail if s  n.\n        if (!ge(s))\n            return false;\n        const e = challenge(numTo32b(r), pointToBytes(P), m); // int(challenge(bytes(r)||bytes(P)||m))%n\n        const R = GmulAdd(P, s, modN(-e)); // R = sG - eP\n        if (!R || !R.hasEvenY() || R.toAffine().x !== r)\n            return false; // -eP == (n-e)P\n        return true; // Fail if is_infinite(R) / not has_even_y(R) / x(R)  r.\n    }\n    catch (error) {\n        return false;\n    }\n}\nexport const schnorr = /* @__PURE__ */ (() => ({\n    getPublicKey: schnorrGetPublicKey,\n    sign: schnorrSign,\n    verify: schnorrVerify,\n    utils: {\n        randomPrivateKey: secp256k1.utils.randomPrivateKey,\n        lift_x,\n        pointToBytes,\n        numberToBytesBE,\n        bytesToNumberBE,\n        taggedHash,\n        mod,\n    },\n}))();\nconst isoMap = /* @__PURE__ */ (() => isogenyMap(Fp, [\n    // xNum\n    [\n        '0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7',\n        '0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581',\n        '0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262',\n        '0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c',\n    ],\n    // xDen\n    [\n        '0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b',\n        '0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14',\n        '0x0000000000000000000000000000000000000000000000000000000000000001', // LAST 1\n    ],\n    // yNum\n    [\n        '0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c',\n        '0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3',\n        '0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931',\n        '0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84',\n    ],\n    // yDen\n    [\n        '0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b',\n        '0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573',\n        '0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f',\n        '0x0000000000000000000000000000000000000000000000000000000000000001', // LAST 1\n    ],\n].map((i) => i.map((j) => BigInt(j)))))();\nconst mapSWU = /* @__PURE__ */ (() => mapToCurveSimpleSWU(Fp, {\n    A: BigInt('0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533'),\n    B: BigInt('1771'),\n    Z: Fp.create(BigInt('-11')),\n}))();\nconst htf = /* @__PURE__ */ (() => createHasher(secp256k1.ProjectivePoint, (scalars) => {\n    const { x, y } = mapSWU(Fp.create(scalars[0]));\n    return isoMap(x, y);\n}, {\n    DST: 'secp256k1_XMD:SHA-256_SSWU_RO_',\n    encodeDST: 'secp256k1_XMD:SHA-256_SSWU_NU_',\n    p: Fp.ORDER,\n    m: 1,\n    k: 128,\n    expand: 'xmd',\n    hash: sha256,\n}))();\nexport const hashToCurve = /* @__PURE__ */ (() => htf.hashToCurve)();\nexport const encodeToCurve = /* @__PURE__ */ (() => htf.encodeToCurve)();\n//# sourceMappingURL=secp256k1.js.map","function number(n) {\n    if (!Number.isSafeInteger(n) || n < 0)\n        throw new Error(`Wrong positive integer: ${n}`);\n}\nfunction bool(b) {\n    if (typeof b !== 'boolean')\n        throw new Error(`Expected boolean, not ${b}`);\n}\n// copied from utils\nfunction isBytes(a) {\n    return (a instanceof Uint8Array ||\n        (a != null && typeof a === 'object' && a.constructor.name === 'Uint8Array'));\n}\nfunction bytes(b, ...lengths) {\n    if (!isBytes(b))\n        throw new Error('Expected Uint8Array');\n    if (lengths.length > 0 && !lengths.includes(b.length))\n        throw new Error(`Expected Uint8Array of length ${lengths}, not of length=${b.length}`);\n}\nfunction hash(hash) {\n    if (typeof hash !== 'function' || typeof hash.create !== 'function')\n        throw new Error('Hash should be wrapped by utils.wrapConstructor');\n    number(hash.outputLen);\n    number(hash.blockLen);\n}\nfunction exists(instance, checkFinished = true) {\n    if (instance.destroyed)\n        throw new Error('Hash instance has been destroyed');\n    if (checkFinished && instance.finished)\n        throw new Error('Hash#digest() has already been called');\n}\nfunction output(out, instance) {\n    bytes(out);\n    const min = instance.outputLen;\n    if (out.length < min) {\n        throw new Error(`digestInto() expects output buffer of length at least ${min}`);\n    }\n}\nexport { number, bool, bytes, hash, exists, output };\nconst assert = { number, bool, bytes, hash, exists, output };\nexport default assert;\n//# sourceMappingURL=_assert.js.map","import { exists, output } from './_assert.js';\nimport { Hash, createView, toBytes } from './utils.js';\n// Polyfill for Safari 14\nfunction setBigUint64(view, byteOffset, value, isLE) {\n    if (typeof view.setBigUint64 === 'function')\n        return view.setBigUint64(byteOffset, value, isLE);\n    const _32n = BigInt(32);\n    const _u32_max = BigInt(0xffffffff);\n    const wh = Number((value >> _32n) & _u32_max);\n    const wl = Number(value & _u32_max);\n    const h = isLE ? 4 : 0;\n    const l = isLE ? 0 : 4;\n    view.setUint32(byteOffset + h, wh, isLE);\n    view.setUint32(byteOffset + l, wl, isLE);\n}\n// Base SHA2 class (RFC 6234)\nexport class SHA2 extends Hash {\n    constructor(blockLen, outputLen, padOffset, isLE) {\n        super();\n        this.blockLen = blockLen;\n        this.outputLen = outputLen;\n        this.padOffset = padOffset;\n        this.isLE = isLE;\n        this.finished = false;\n        this.length = 0;\n        this.pos = 0;\n        this.destroyed = false;\n        this.buffer = new Uint8Array(blockLen);\n        this.view = createView(this.buffer);\n    }\n    update(data) {\n        exists(this);\n        const { view, buffer, blockLen } = this;\n        data = toBytes(data);\n        const len = data.length;\n        for (let pos = 0; pos < len;) {\n            const take = Math.min(blockLen - this.pos, len - pos);\n            // Fast path: we have at least one block in input, cast it to view and process\n            if (take === blockLen) {\n                const dataView = createView(data);\n                for (; blockLen <= len - pos; pos += blockLen)\n                    this.process(dataView, pos);\n                continue;\n            }\n            buffer.set(data.subarray(pos, pos + take), this.pos);\n            this.pos += take;\n            pos += take;\n            if (this.pos === blockLen) {\n                this.process(view, 0);\n                this.pos = 0;\n            }\n        }\n        this.length += data.length;\n        this.roundClean();\n        return this;\n    }\n    digestInto(out) {\n        exists(this);\n        output(out, this);\n        this.finished = true;\n        // Padding\n        // We can avoid allocation of buffer for padding completely if it\n        // was previously not allocated here. But it won't change performance.\n        const { buffer, view, blockLen, isLE } = this;\n        let { pos } = this;\n        // append the bit '1' to the message\n        buffer[pos++] = 0b10000000;\n        this.buffer.subarray(pos).fill(0);\n        // we have less than padOffset left in buffer, so we cannot put length in current block, need process it and pad again\n        if (this.padOffset > blockLen - pos) {\n            this.process(view, 0);\n            pos = 0;\n        }\n        // Pad until full block byte with zeros\n        for (let i = pos; i < blockLen; i++)\n            buffer[i] = 0;\n        // Note: sha512 requires length to be 128bit integer, but length in JS will overflow before that\n        // You need to write around 2 exabytes (u64_max / 8 / (1024**6)) for this to happen.\n        // So we just write lowest 64 bits of that value.\n        setBigUint64(view, blockLen - 8, BigInt(this.length * 8), isLE);\n        this.process(view, 0);\n        const oview = createView(out);\n        const len = this.outputLen;\n        // NOTE: we do division by 4 later, which should be fused in single op with modulo by JIT\n        if (len % 4)\n            throw new Error('_sha2: outputLen should be aligned to 32bit');\n        const outLen = len / 4;\n        const state = this.get();\n        if (outLen > state.length)\n            throw new Error('_sha2: outputLen bigger than state');\n        for (let i = 0; i < outLen; i++)\n            oview.setUint32(4 * i, state[i], isLE);\n    }\n    digest() {\n        const { buffer, outputLen } = this;\n        this.digestInto(buffer);\n        const res = buffer.slice(0, outputLen);\n        this.destroy();\n        return res;\n    }\n    _cloneInto(to) {\n        to || (to = new this.constructor());\n        to.set(...this.get());\n        const { blockLen, buffer, length, finished, destroyed, pos } = this;\n        to.length = length;\n        to.pos = pos;\n        to.finished = finished;\n        to.destroyed = destroyed;\n        if (length % blockLen)\n            to.buffer.set(buffer);\n        return to;\n    }\n}\n//# sourceMappingURL=_sha2.js.map","const U32_MASK64 = /* @__PURE__ */ BigInt(2 ** 32 - 1);\nconst _32n = /* @__PURE__ */ BigInt(32);\n// We are not using BigUint64Array, because they are extremely slow as per 2022\nfunction fromBig(n, le = false) {\n    if (le)\n        return { h: Number(n & U32_MASK64), l: Number((n >> _32n) & U32_MASK64) };\n    return { h: Number((n >> _32n) & U32_MASK64) | 0, l: Number(n & U32_MASK64) | 0 };\n}\nfunction split(lst, le = false) {\n    let Ah = new Uint32Array(lst.length);\n    let Al = new Uint32Array(lst.length);\n    for (let i = 0; i < lst.length; i++) {\n        const { h, l } = fromBig(lst[i], le);\n        [Ah[i], Al[i]] = [h, l];\n    }\n    return [Ah, Al];\n}\nconst toBig = (h, l) => (BigInt(h >>> 0) << _32n) | BigInt(l >>> 0);\n// for Shift in [0, 32)\nconst shrSH = (h, _l, s) => h >>> s;\nconst shrSL = (h, l, s) => (h << (32 - s)) | (l >>> s);\n// Right rotate for Shift in [1, 32)\nconst rotrSH = (h, l, s) => (h >>> s) | (l << (32 - s));\nconst rotrSL = (h, l, s) => (h << (32 - s)) | (l >>> s);\n// Right rotate for Shift in (32, 64), NOTE: 32 is special case.\nconst rotrBH = (h, l, s) => (h << (64 - s)) | (l >>> (s - 32));\nconst rotrBL = (h, l, s) => (h >>> (s - 32)) | (l << (64 - s));\n// Right rotate for shift===32 (just swaps l&h)\nconst rotr32H = (_h, l) => l;\nconst rotr32L = (h, _l) => h;\n// Left rotate for Shift in [1, 32)\nconst rotlSH = (h, l, s) => (h << s) | (l >>> (32 - s));\nconst rotlSL = (h, l, s) => (l << s) | (h >>> (32 - s));\n// Left rotate for Shift in (32, 64), NOTE: 32 is special case.\nconst rotlBH = (h, l, s) => (l << (s - 32)) | (h >>> (64 - s));\nconst rotlBL = (h, l, s) => (h << (s - 32)) | (l >>> (64 - s));\n// JS uses 32-bit signed integers for bitwise operations which means we cannot\n// simple take carry out of low bit sum by shift, we need to use division.\nfunction add(Ah, Al, Bh, Bl) {\n    const l = (Al >>> 0) + (Bl >>> 0);\n    return { h: (Ah + Bh + ((l / 2 ** 32) | 0)) | 0, l: l | 0 };\n}\n// Addition with more than 2 elements\nconst add3L = (Al, Bl, Cl) => (Al >>> 0) + (Bl >>> 0) + (Cl >>> 0);\nconst add3H = (low, Ah, Bh, Ch) => (Ah + Bh + Ch + ((low / 2 ** 32) | 0)) | 0;\nconst add4L = (Al, Bl, Cl, Dl) => (Al >>> 0) + (Bl >>> 0) + (Cl >>> 0) + (Dl >>> 0);\nconst add4H = (low, Ah, Bh, Ch, Dh) => (Ah + Bh + Ch + Dh + ((low / 2 ** 32) | 0)) | 0;\nconst add5L = (Al, Bl, Cl, Dl, El) => (Al >>> 0) + (Bl >>> 0) + (Cl >>> 0) + (Dl >>> 0) + (El >>> 0);\nconst add5H = (low, Ah, Bh, Ch, Dh, Eh) => (Ah + Bh + Ch + Dh + Eh + ((low / 2 ** 32) | 0)) | 0;\n// prettier-ignore\nexport { fromBig, split, toBig, shrSH, shrSL, rotrSH, rotrSL, rotrBH, rotrBL, rotr32H, rotr32L, rotlSH, rotlSL, rotlBH, rotlBL, add, add3L, add3H, add4L, add4H, add5H, add5L, };\n// prettier-ignore\nconst u64 = {\n    fromBig, split, toBig,\n    shrSH, shrSL,\n    rotrSH, rotrSL, rotrBH, rotrBL,\n    rotr32H, rotr32L,\n    rotlSH, rotlSL, rotlBH, rotlBL,\n    add, add3L, add3H, add4L, add4H, add5H, add5L,\n};\nexport default u64;\n//# sourceMappingURL=_u64.js.map","import { number, exists, output } from './_assert.js';\nimport { Hash, toBytes, u32 } from './utils.js';\n// Blake is based on ChaCha permutation.\n// For BLAKE2b, the two extra permutations for rounds 10 and 11 are SIGMA[10..11] = SIGMA[0..1].\n// prettier-ignore\nexport const SIGMA = /* @__PURE__ */ new Uint8Array([\n    0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15,\n    14, 10, 4, 8, 9, 15, 13, 6, 1, 12, 0, 2, 11, 7, 5, 3,\n    11, 8, 12, 0, 5, 2, 15, 13, 10, 14, 3, 6, 7, 1, 9, 4,\n    7, 9, 3, 1, 13, 12, 11, 14, 2, 6, 5, 10, 4, 0, 15, 8,\n    9, 0, 5, 7, 2, 4, 10, 15, 14, 1, 11, 12, 6, 8, 3, 13,\n    2, 12, 6, 10, 0, 11, 8, 3, 4, 13, 7, 5, 15, 14, 1, 9,\n    12, 5, 1, 15, 14, 13, 4, 10, 0, 7, 6, 3, 9, 2, 8, 11,\n    13, 11, 7, 14, 12, 1, 3, 9, 5, 0, 15, 4, 8, 6, 2, 10,\n    6, 15, 14, 9, 11, 3, 0, 8, 12, 2, 13, 7, 1, 4, 10, 5,\n    10, 2, 8, 4, 7, 6, 1, 5, 15, 11, 9, 14, 3, 12, 13, 0,\n    0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15,\n    14, 10, 4, 8, 9, 15, 13, 6, 1, 12, 0, 2, 11, 7, 5, 3,\n]);\nexport class BLAKE2 extends Hash {\n    constructor(blockLen, outputLen, opts = {}, keyLen, saltLen, persLen) {\n        super();\n        this.blockLen = blockLen;\n        this.outputLen = outputLen;\n        this.length = 0;\n        this.pos = 0;\n        this.finished = false;\n        this.destroyed = false;\n        number(blockLen);\n        number(outputLen);\n        number(keyLen);\n        if (outputLen < 0 || outputLen > keyLen)\n            throw new Error('outputLen bigger than keyLen');\n        if (opts.key !== undefined && (opts.key.length < 1 || opts.key.length > keyLen))\n            throw new Error(`key must be up 1..${keyLen} byte long or undefined`);\n        if (opts.salt !== undefined && opts.salt.length !== saltLen)\n            throw new Error(`salt must be ${saltLen} byte long or undefined`);\n        if (opts.personalization !== undefined && opts.personalization.length !== persLen)\n            throw new Error(`personalization must be ${persLen} byte long or undefined`);\n        this.buffer32 = u32((this.buffer = new Uint8Array(blockLen)));\n    }\n    update(data) {\n        exists(this);\n        // Main difference with other hashes: there is flag for last block,\n        // so we cannot process current block before we know that there\n        // is the next one. This significantly complicates logic and reduces ability\n        // to do zero-copy processing\n        const { blockLen, buffer, buffer32 } = this;\n        data = toBytes(data);\n        const len = data.length;\n        const offset = data.byteOffset;\n        const buf = data.buffer;\n        for (let pos = 0; pos < len;) {\n            // If buffer is full and we still have input (don't process last block, same as blake2s)\n            if (this.pos === blockLen) {\n                this.compress(buffer32, 0, false);\n                this.pos = 0;\n            }\n            const take = Math.min(blockLen - this.pos, len - pos);\n            const dataOffset = offset + pos;\n            // full block && aligned to 4 bytes && not last in input\n            if (take === blockLen && !(dataOffset % 4) && pos + take < len) {\n                const data32 = new Uint32Array(buf, dataOffset, Math.floor((len - pos) / 4));\n                for (let pos32 = 0; pos + blockLen < len; pos32 += buffer32.length, pos += blockLen) {\n                    this.length += blockLen;\n                    this.compress(data32, pos32, false);\n                }\n                continue;\n            }\n            buffer.set(data.subarray(pos, pos + take), this.pos);\n            this.pos += take;\n            this.length += take;\n            pos += take;\n        }\n        return this;\n    }\n    digestInto(out) {\n        exists(this);\n        output(out, this);\n        const { pos, buffer32 } = this;\n        this.finished = true;\n        // Padding\n        this.buffer.subarray(pos).fill(0);\n        this.compress(buffer32, 0, true);\n        const out32 = u32(out);\n        this.get().forEach((v, i) => (out32[i] = v));\n    }\n    digest() {\n        const { buffer, outputLen } = this;\n        this.digestInto(buffer);\n        const res = buffer.slice(0, outputLen);\n        this.destroy();\n        return res;\n    }\n    _cloneInto(to) {\n        const { buffer, length, finished, destroyed, outputLen, pos } = this;\n        to || (to = new this.constructor({ dkLen: outputLen }));\n        to.set(...this.get());\n        to.length = length;\n        to.finished = finished;\n        to.destroyed = destroyed;\n        to.outputLen = outputLen;\n        to.buffer.set(buffer);\n        to.pos = pos;\n        return to;\n    }\n}\n//# sourceMappingURL=_blake2.js.map","import { BLAKE2, SIGMA } from './_blake2.js';\nimport u64 from './_u64.js';\nimport { toBytes, u32, wrapConstructorWithOpts } from './utils.js';\n// Same as SHA-512 but LE\n// prettier-ignore\nconst IV = /* @__PURE__ */ new Uint32Array([\n    0xf3bcc908, 0x6a09e667, 0x84caa73b, 0xbb67ae85, 0xfe94f82b, 0x3c6ef372, 0x5f1d36f1, 0xa54ff53a,\n    0xade682d1, 0x510e527f, 0x2b3e6c1f, 0x9b05688c, 0xfb41bd6b, 0x1f83d9ab, 0x137e2179, 0x5be0cd19\n]);\n// Temporary buffer\nconst BUF = /* @__PURE__ */ new Uint32Array(32);\n// Mixing function G splitted in two halfs\nfunction G1(a, b, c, d, msg, x) {\n    // NOTE: V is LE here\n    const Xl = msg[x], Xh = msg[x + 1]; // prettier-ignore\n    let Al = BUF[2 * a], Ah = BUF[2 * a + 1]; // prettier-ignore\n    let Bl = BUF[2 * b], Bh = BUF[2 * b + 1]; // prettier-ignore\n    let Cl = BUF[2 * c], Ch = BUF[2 * c + 1]; // prettier-ignore\n    let Dl = BUF[2 * d], Dh = BUF[2 * d + 1]; // prettier-ignore\n    // v[a] = (v[a] + v[b] + x) | 0;\n    let ll = u64.add3L(Al, Bl, Xl);\n    Ah = u64.add3H(ll, Ah, Bh, Xh);\n    Al = ll | 0;\n    // v[d] = rotr(v[d] ^ v[a], 32)\n    ({ Dh, Dl } = { Dh: Dh ^ Ah, Dl: Dl ^ Al });\n    ({ Dh, Dl } = { Dh: u64.rotr32H(Dh, Dl), Dl: u64.rotr32L(Dh, Dl) });\n    // v[c] = (v[c] + v[d]) | 0;\n    ({ h: Ch, l: Cl } = u64.add(Ch, Cl, Dh, Dl));\n    // v[b] = rotr(v[b] ^ v[c], 24)\n    ({ Bh, Bl } = { Bh: Bh ^ Ch, Bl: Bl ^ Cl });\n    ({ Bh, Bl } = { Bh: u64.rotrSH(Bh, Bl, 24), Bl: u64.rotrSL(Bh, Bl, 24) });\n    (BUF[2 * a] = Al), (BUF[2 * a + 1] = Ah);\n    (BUF[2 * b] = Bl), (BUF[2 * b + 1] = Bh);\n    (BUF[2 * c] = Cl), (BUF[2 * c + 1] = Ch);\n    (BUF[2 * d] = Dl), (BUF[2 * d + 1] = Dh);\n}\nfunction G2(a, b, c, d, msg, x) {\n    // NOTE: V is LE here\n    const Xl = msg[x], Xh = msg[x + 1]; // prettier-ignore\n    let Al = BUF[2 * a], Ah = BUF[2 * a + 1]; // prettier-ignore\n    let Bl = BUF[2 * b], Bh = BUF[2 * b + 1]; // prettier-ignore\n    let Cl = BUF[2 * c], Ch = BUF[2 * c + 1]; // prettier-ignore\n    let Dl = BUF[2 * d], Dh = BUF[2 * d + 1]; // prettier-ignore\n    // v[a] = (v[a] + v[b] + x) | 0;\n    let ll = u64.add3L(Al, Bl, Xl);\n    Ah = u64.add3H(ll, Ah, Bh, Xh);\n    Al = ll | 0;\n    // v[d] = rotr(v[d] ^ v[a], 16)\n    ({ Dh, Dl } = { Dh: Dh ^ Ah, Dl: Dl ^ Al });\n    ({ Dh, Dl } = { Dh: u64.rotrSH(Dh, Dl, 16), Dl: u64.rotrSL(Dh, Dl, 16) });\n    // v[c] = (v[c] + v[d]) | 0;\n    ({ h: Ch, l: Cl } = u64.add(Ch, Cl, Dh, Dl));\n    // v[b] = rotr(v[b] ^ v[c], 63)\n    ({ Bh, Bl } = { Bh: Bh ^ Ch, Bl: Bl ^ Cl });\n    ({ Bh, Bl } = { Bh: u64.rotrBH(Bh, Bl, 63), Bl: u64.rotrBL(Bh, Bl, 63) });\n    (BUF[2 * a] = Al), (BUF[2 * a + 1] = Ah);\n    (BUF[2 * b] = Bl), (BUF[2 * b + 1] = Bh);\n    (BUF[2 * c] = Cl), (BUF[2 * c + 1] = Ch);\n    (BUF[2 * d] = Dl), (BUF[2 * d + 1] = Dh);\n}\nclass BLAKE2b extends BLAKE2 {\n    constructor(opts = {}) {\n        super(128, opts.dkLen === undefined ? 64 : opts.dkLen, opts, 64, 16, 16);\n        // Same as SHA-512, but LE\n        this.v0l = IV[0] | 0;\n        this.v0h = IV[1] | 0;\n        this.v1l = IV[2] | 0;\n        this.v1h = IV[3] | 0;\n        this.v2l = IV[4] | 0;\n        this.v2h = IV[5] | 0;\n        this.v3l = IV[6] | 0;\n        this.v3h = IV[7] | 0;\n        this.v4l = IV[8] | 0;\n        this.v4h = IV[9] | 0;\n        this.v5l = IV[10] | 0;\n        this.v5h = IV[11] | 0;\n        this.v6l = IV[12] | 0;\n        this.v6h = IV[13] | 0;\n        this.v7l = IV[14] | 0;\n        this.v7h = IV[15] | 0;\n        const keyLength = opts.key ? opts.key.length : 0;\n        this.v0l ^= this.outputLen | (keyLength << 8) | (0x01 << 16) | (0x01 << 24);\n        if (opts.salt) {\n            const salt = u32(toBytes(opts.salt));\n            this.v4l ^= salt[0];\n            this.v4h ^= salt[1];\n            this.v5l ^= salt[2];\n            this.v5h ^= salt[3];\n        }\n        if (opts.personalization) {\n            const pers = u32(toBytes(opts.personalization));\n            this.v6l ^= pers[0];\n            this.v6h ^= pers[1];\n            this.v7l ^= pers[2];\n            this.v7h ^= pers[3];\n        }\n        if (opts.key) {\n            // Pad to blockLen and update\n            const tmp = new Uint8Array(this.blockLen);\n            tmp.set(toBytes(opts.key));\n            this.update(tmp);\n        }\n    }\n    // prettier-ignore\n    get() {\n        let { v0l, v0h, v1l, v1h, v2l, v2h, v3l, v3h, v4l, v4h, v5l, v5h, v6l, v6h, v7l, v7h } = this;\n        return [v0l, v0h, v1l, v1h, v2l, v2h, v3l, v3h, v4l, v4h, v5l, v5h, v6l, v6h, v7l, v7h];\n    }\n    // prettier-ignore\n    set(v0l, v0h, v1l, v1h, v2l, v2h, v3l, v3h, v4l, v4h, v5l, v5h, v6l, v6h, v7l, v7h) {\n        this.v0l = v0l | 0;\n        this.v0h = v0h | 0;\n        this.v1l = v1l | 0;\n        this.v1h = v1h | 0;\n        this.v2l = v2l | 0;\n        this.v2h = v2h | 0;\n        this.v3l = v3l | 0;\n        this.v3h = v3h | 0;\n        this.v4l = v4l | 0;\n        this.v4h = v4h | 0;\n        this.v5l = v5l | 0;\n        this.v5h = v5h | 0;\n        this.v6l = v6l | 0;\n        this.v6h = v6h | 0;\n        this.v7l = v7l | 0;\n        this.v7h = v7h | 0;\n    }\n    compress(msg, offset, isLast) {\n        this.get().forEach((v, i) => (BUF[i] = v)); // First half from state.\n        BUF.set(IV, 16); // Second half from IV.\n        let { h, l } = u64.fromBig(BigInt(this.length));\n        BUF[24] = IV[8] ^ l; // Low word of the offset.\n        BUF[25] = IV[9] ^ h; // High word.\n        // Invert all bits for last block\n        if (isLast) {\n            BUF[28] = ~BUF[28];\n            BUF[29] = ~BUF[29];\n        }\n        let j = 0;\n        const s = SIGMA;\n        for (let i = 0; i < 12; i++) {\n            G1(0, 4, 8, 12, msg, offset + 2 * s[j++]);\n            G2(0, 4, 8, 12, msg, offset + 2 * s[j++]);\n            G1(1, 5, 9, 13, msg, offset + 2 * s[j++]);\n            G2(1, 5, 9, 13, msg, offset + 2 * s[j++]);\n            G1(2, 6, 10, 14, msg, offset + 2 * s[j++]);\n            G2(2, 6, 10, 14, msg, offset + 2 * s[j++]);\n            G1(3, 7, 11, 15, msg, offset + 2 * s[j++]);\n            G2(3, 7, 11, 15, msg, offset + 2 * s[j++]);\n            G1(0, 5, 10, 15, msg, offset + 2 * s[j++]);\n            G2(0, 5, 10, 15, msg, offset + 2 * s[j++]);\n            G1(1, 6, 11, 12, msg, offset + 2 * s[j++]);\n            G2(1, 6, 11, 12, msg, offset + 2 * s[j++]);\n            G1(2, 7, 8, 13, msg, offset + 2 * s[j++]);\n            G2(2, 7, 8, 13, msg, offset + 2 * s[j++]);\n            G1(3, 4, 9, 14, msg, offset + 2 * s[j++]);\n            G2(3, 4, 9, 14, msg, offset + 2 * s[j++]);\n        }\n        this.v0l ^= BUF[0] ^ BUF[16];\n        this.v0h ^= BUF[1] ^ BUF[17];\n        this.v1l ^= BUF[2] ^ BUF[18];\n        this.v1h ^= BUF[3] ^ BUF[19];\n        this.v2l ^= BUF[4] ^ BUF[20];\n        this.v2h ^= BUF[5] ^ BUF[21];\n        this.v3l ^= BUF[6] ^ BUF[22];\n        this.v3h ^= BUF[7] ^ BUF[23];\n        this.v4l ^= BUF[8] ^ BUF[24];\n        this.v4h ^= BUF[9] ^ BUF[25];\n        this.v5l ^= BUF[10] ^ BUF[26];\n        this.v5h ^= BUF[11] ^ BUF[27];\n        this.v6l ^= BUF[12] ^ BUF[28];\n        this.v6h ^= BUF[13] ^ BUF[29];\n        this.v7l ^= BUF[14] ^ BUF[30];\n        this.v7h ^= BUF[15] ^ BUF[31];\n        BUF.fill(0);\n    }\n    destroy() {\n        this.destroyed = true;\n        this.buffer32.fill(0);\n        this.set(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0);\n    }\n}\n/**\n * BLAKE2b - optimized for 64-bit platforms. JS doesn't have uint64, so it's slower than BLAKE2s.\n * @param msg - message that would be hashed\n * @param opts - dkLen, key, salt, personalization\n */\nexport const blake2b = /* @__PURE__ */ wrapConstructorWithOpts((opts) => new BLAKE2b(opts));\n//# sourceMappingURL=blake2b.js.map","import { hash as assertHash, bytes as assertBytes, exists as assertExists } from './_assert.js';\nimport { Hash, toBytes } from './utils.js';\n// HMAC (RFC 2104)\nexport class HMAC extends Hash {\n    constructor(hash, _key) {\n        super();\n        this.finished = false;\n        this.destroyed = false;\n        assertHash(hash);\n        const key = toBytes(_key);\n        this.iHash = hash.create();\n        if (typeof this.iHash.update !== 'function')\n            throw new Error('Expected instance of class which extends utils.Hash');\n        this.blockLen = this.iHash.blockLen;\n        this.outputLen = this.iHash.outputLen;\n        const blockLen = this.blockLen;\n        const pad = new Uint8Array(blockLen);\n        // blockLen can be bigger than outputLen\n        pad.set(key.length > blockLen ? hash.create().update(key).digest() : key);\n        for (let i = 0; i < pad.length; i++)\n            pad[i] ^= 0x36;\n        this.iHash.update(pad);\n        // By doing update (processing of first block) of outer hash here we can re-use it between multiple calls via clone\n        this.oHash = hash.create();\n        // Undo internal XOR && apply outer XOR\n        for (let i = 0; i < pad.length; i++)\n            pad[i] ^= 0x36 ^ 0x5c;\n        this.oHash.update(pad);\n        pad.fill(0);\n    }\n    update(buf) {\n        assertExists(this);\n        this.iHash.update(buf);\n        return this;\n    }\n    digestInto(out) {\n        assertExists(this);\n        assertBytes(out, this.outputLen);\n        this.finished = true;\n        this.iHash.digestInto(out);\n        this.oHash.update(out);\n        this.oHash.digestInto(out);\n        this.destroy();\n    }\n    digest() {\n        const out = new Uint8Array(this.oHash.outputLen);\n        this.digestInto(out);\n        return out;\n    }\n    _cloneInto(to) {\n        // Create new instance without calling constructor since key already in state and we don't know it.\n        to || (to = Object.create(Object.getPrototypeOf(this), {}));\n        const { oHash, iHash, finished, destroyed, blockLen, outputLen } = this;\n        to = to;\n        to.finished = finished;\n        to.destroyed = destroyed;\n        to.blockLen = blockLen;\n        to.outputLen = outputLen;\n        to.oHash = oHash._cloneInto(to.oHash);\n        to.iHash = iHash._cloneInto(to.iHash);\n        return to;\n    }\n    destroy() {\n        this.destroyed = true;\n        this.oHash.destroy();\n        this.iHash.destroy();\n    }\n}\n/**\n * HMAC: RFC2104 message authentication code.\n * @param hash - function that would be used e.g. sha256\n * @param key - message key\n * @param message - message data\n */\nexport const hmac = (hash, key, message) => new HMAC(hash, key).update(message).digest();\nhmac.create = (hash, key) => new HMAC(hash, key);\n//# sourceMappingURL=hmac.js.map","import { SHA2 } from './_sha2.js';\nimport { wrapConstructor } from './utils.js';\n// https://homes.esat.kuleuven.be/~bosselae/ripemd160.html\n// https://homes.esat.kuleuven.be/~bosselae/ripemd160/pdf/AB-9601/AB-9601.pdf\nconst Rho = /* @__PURE__ */ new Uint8Array([7, 4, 13, 1, 10, 6, 15, 3, 12, 0, 9, 5, 2, 14, 11, 8]);\nconst Id = /* @__PURE__ */ Uint8Array.from({ length: 16 }, (_, i) => i);\nconst Pi = /* @__PURE__ */ Id.map((i) => (9 * i + 5) % 16);\nlet idxL = [Id];\nlet idxR = [Pi];\nfor (let i = 0; i < 4; i++)\n    for (let j of [idxL, idxR])\n        j.push(j[i].map((k) => Rho[k]));\nconst shifts = /* @__PURE__ */ [\n    [11, 14, 15, 12, 5, 8, 7, 9, 11, 13, 14, 15, 6, 7, 9, 8],\n    [12, 13, 11, 15, 6, 9, 9, 7, 12, 15, 11, 13, 7, 8, 7, 7],\n    [13, 15, 14, 11, 7, 7, 6, 8, 13, 14, 13, 12, 5, 5, 6, 9],\n    [14, 11, 12, 14, 8, 6, 5, 5, 15, 12, 15, 14, 9, 9, 8, 6],\n    [15, 12, 13, 13, 9, 5, 8, 6, 14, 11, 12, 11, 8, 6, 5, 5],\n].map((i) => new Uint8Array(i));\nconst shiftsL = /* @__PURE__ */ idxL.map((idx, i) => idx.map((j) => shifts[i][j]));\nconst shiftsR = /* @__PURE__ */ idxR.map((idx, i) => idx.map((j) => shifts[i][j]));\nconst Kl = /* @__PURE__ */ new Uint32Array([\n    0x00000000, 0x5a827999, 0x6ed9eba1, 0x8f1bbcdc, 0xa953fd4e,\n]);\nconst Kr = /* @__PURE__ */ new Uint32Array([\n    0x50a28be6, 0x5c4dd124, 0x6d703ef3, 0x7a6d76e9, 0x00000000,\n]);\n// The rotate left (circular left shift) operation for uint32\nconst rotl = (word, shift) => (word << shift) | (word >>> (32 - shift));\n// It's called f() in spec.\nfunction f(group, x, y, z) {\n    if (group === 0)\n        return x ^ y ^ z;\n    else if (group === 1)\n        return (x & y) | (~x & z);\n    else if (group === 2)\n        return (x | ~y) ^ z;\n    else if (group === 3)\n        return (x & z) | (y & ~z);\n    else\n        return x ^ (y | ~z);\n}\n// Temporary buffer, not used to store anything between runs\nconst BUF = /* @__PURE__ */ new Uint32Array(16);\nexport class RIPEMD160 extends SHA2 {\n    constructor() {\n        super(64, 20, 8, true);\n        this.h0 = 0x67452301 | 0;\n        this.h1 = 0xefcdab89 | 0;\n        this.h2 = 0x98badcfe | 0;\n        this.h3 = 0x10325476 | 0;\n        this.h4 = 0xc3d2e1f0 | 0;\n    }\n    get() {\n        const { h0, h1, h2, h3, h4 } = this;\n        return [h0, h1, h2, h3, h4];\n    }\n    set(h0, h1, h2, h3, h4) {\n        this.h0 = h0 | 0;\n        this.h1 = h1 | 0;\n        this.h2 = h2 | 0;\n        this.h3 = h3 | 0;\n        this.h4 = h4 | 0;\n    }\n    process(view, offset) {\n        for (let i = 0; i < 16; i++, offset += 4)\n            BUF[i] = view.getUint32(offset, true);\n        // prettier-ignore\n        let al = this.h0 | 0, ar = al, bl = this.h1 | 0, br = bl, cl = this.h2 | 0, cr = cl, dl = this.h3 | 0, dr = dl, el = this.h4 | 0, er = el;\n        // Instead of iterating 0 to 80, we split it into 5 groups\n        // And use the groups in constants, functions, etc. Much simpler\n        for (let group = 0; group < 5; group++) {\n            const rGroup = 4 - group;\n            const hbl = Kl[group], hbr = Kr[group]; // prettier-ignore\n            const rl = idxL[group], rr = idxR[group]; // prettier-ignore\n            const sl = shiftsL[group], sr = shiftsR[group]; // prettier-ignore\n            for (let i = 0; i < 16; i++) {\n                const tl = (rotl(al + f(group, bl, cl, dl) + BUF[rl[i]] + hbl, sl[i]) + el) | 0;\n                al = el, el = dl, dl = rotl(cl, 10) | 0, cl = bl, bl = tl; // prettier-ignore\n            }\n            // 2 loops are 10% faster\n            for (let i = 0; i < 16; i++) {\n                const tr = (rotl(ar + f(rGroup, br, cr, dr) + BUF[rr[i]] + hbr, sr[i]) + er) | 0;\n                ar = er, er = dr, dr = rotl(cr, 10) | 0, cr = br, br = tr; // prettier-ignore\n            }\n        }\n        // Add the compressed chunk to the current hash value\n        this.set((this.h1 + cl + dr) | 0, (this.h2 + dl + er) | 0, (this.h3 + el + ar) | 0, (this.h4 + al + br) | 0, (this.h0 + bl + cr) | 0);\n    }\n    roundClean() {\n        BUF.fill(0);\n    }\n    destroy() {\n        this.destroyed = true;\n        this.buffer.fill(0);\n        this.set(0, 0, 0, 0, 0);\n    }\n}\n/**\n * RIPEMD-160 - a hash function from 1990s.\n * @param message - msg that would be hashed\n */\nexport const ripemd160 = /* @__PURE__ */ wrapConstructor(() => new RIPEMD160());\n//# sourceMappingURL=ripemd160.js.map","import { SHA2 } from './_sha2.js';\nimport { rotr, wrapConstructor } from './utils.js';\n// SHA2-256 need to try 2^128 hashes to execute birthday attack.\n// BTC network is doing 2^67 hashes/sec as per early 2023.\n// Choice: a ? b : c\nconst Chi = (a, b, c) => (a & b) ^ (~a & c);\n// Majority function, true if any two inpust is true\nconst Maj = (a, b, c) => (a & b) ^ (a & c) ^ (b & c);\n// Round constants:\n// first 32 bits of the fractional parts of the cube roots of the first 64 primes 2..311)\n// prettier-ignore\nconst SHA256_K = /* @__PURE__ */ new Uint32Array([\n    0x428a2f98, 0x71374491, 0xb5c0fbcf, 0xe9b5dba5, 0x3956c25b, 0x59f111f1, 0x923f82a4, 0xab1c5ed5,\n    0xd807aa98, 0x12835b01, 0x243185be, 0x550c7dc3, 0x72be5d74, 0x80deb1fe, 0x9bdc06a7, 0xc19bf174,\n    0xe49b69c1, 0xefbe4786, 0x0fc19dc6, 0x240ca1cc, 0x2de92c6f, 0x4a7484aa, 0x5cb0a9dc, 0x76f988da,\n    0x983e5152, 0xa831c66d, 0xb00327c8, 0xbf597fc7, 0xc6e00bf3, 0xd5a79147, 0x06ca6351, 0x14292967,\n    0x27b70a85, 0x2e1b2138, 0x4d2c6dfc, 0x53380d13, 0x650a7354, 0x766a0abb, 0x81c2c92e, 0x92722c85,\n    0xa2bfe8a1, 0xa81a664b, 0xc24b8b70, 0xc76c51a3, 0xd192e819, 0xd6990624, 0xf40e3585, 0x106aa070,\n    0x19a4c116, 0x1e376c08, 0x2748774c, 0x34b0bcb5, 0x391c0cb3, 0x4ed8aa4a, 0x5b9cca4f, 0x682e6ff3,\n    0x748f82ee, 0x78a5636f, 0x84c87814, 0x8cc70208, 0x90befffa, 0xa4506ceb, 0xbef9a3f7, 0xc67178f2\n]);\n// Initial state (first 32 bits of the fractional parts of the square roots of the first 8 primes 2..19):\n// prettier-ignore\nconst IV = /* @__PURE__ */ new Uint32Array([\n    0x6a09e667, 0xbb67ae85, 0x3c6ef372, 0xa54ff53a, 0x510e527f, 0x9b05688c, 0x1f83d9ab, 0x5be0cd19\n]);\n// Temporary buffer, not used to store anything between runs\n// Named this way because it matches specification.\nconst SHA256_W = /* @__PURE__ */ new Uint32Array(64);\nclass SHA256 extends SHA2 {\n    constructor() {\n        super(64, 32, 8, false);\n        // We cannot use array here since array allows indexing by variable\n        // which means optimizer/compiler cannot use registers.\n        this.A = IV[0] | 0;\n        this.B = IV[1] | 0;\n        this.C = IV[2] | 0;\n        this.D = IV[3] | 0;\n        this.E = IV[4] | 0;\n        this.F = IV[5] | 0;\n        this.G = IV[6] | 0;\n        this.H = IV[7] | 0;\n    }\n    get() {\n        const { A, B, C, D, E, F, G, H } = this;\n        return [A, B, C, D, E, F, G, H];\n    }\n    // prettier-ignore\n    set(A, B, C, D, E, F, G, H) {\n        this.A = A | 0;\n        this.B = B | 0;\n        this.C = C | 0;\n        this.D = D | 0;\n        this.E = E | 0;\n        this.F = F | 0;\n        this.G = G | 0;\n        this.H = H | 0;\n    }\n    process(view, offset) {\n        // Extend the first 16 words into the remaining 48 words w[16..63] of the message schedule array\n        for (let i = 0; i < 16; i++, offset += 4)\n            SHA256_W[i] = view.getUint32(offset, false);\n        for (let i = 16; i < 64; i++) {\n            const W15 = SHA256_W[i - 15];\n            const W2 = SHA256_W[i - 2];\n            const s0 = rotr(W15, 7) ^ rotr(W15, 18) ^ (W15 >>> 3);\n            const s1 = rotr(W2, 17) ^ rotr(W2, 19) ^ (W2 >>> 10);\n            SHA256_W[i] = (s1 + SHA256_W[i - 7] + s0 + SHA256_W[i - 16]) | 0;\n        }\n        // Compression function main loop, 64 rounds\n        let { A, B, C, D, E, F, G, H } = this;\n        for (let i = 0; i < 64; i++) {\n            const sigma1 = rotr(E, 6) ^ rotr(E, 11) ^ rotr(E, 25);\n            const T1 = (H + sigma1 + Chi(E, F, G) + SHA256_K[i] + SHA256_W[i]) | 0;\n            const sigma0 = rotr(A, 2) ^ rotr(A, 13) ^ rotr(A, 22);\n            const T2 = (sigma0 + Maj(A, B, C)) | 0;\n            H = G;\n            G = F;\n            F = E;\n            E = (D + T1) | 0;\n            D = C;\n            C = B;\n            B = A;\n            A = (T1 + T2) | 0;\n        }\n        // Add the compressed chunk to the current hash value\n        A = (A + this.A) | 0;\n        B = (B + this.B) | 0;\n        C = (C + this.C) | 0;\n        D = (D + this.D) | 0;\n        E = (E + this.E) | 0;\n        F = (F + this.F) | 0;\n        G = (G + this.G) | 0;\n        H = (H + this.H) | 0;\n        this.set(A, B, C, D, E, F, G, H);\n    }\n    roundClean() {\n        SHA256_W.fill(0);\n    }\n    destroy() {\n        this.set(0, 0, 0, 0, 0, 0, 0, 0);\n        this.buffer.fill(0);\n    }\n}\n// Constants from https://nvlpubs.nist.gov/nistpubs/FIPS/NIST.FIPS.180-4.pdf\nclass SHA224 extends SHA256 {\n    constructor() {\n        super();\n        this.A = 0xc1059ed8 | 0;\n        this.B = 0x367cd507 | 0;\n        this.C = 0x3070dd17 | 0;\n        this.D = 0xf70e5939 | 0;\n        this.E = 0xffc00b31 | 0;\n        this.F = 0x68581511 | 0;\n        this.G = 0x64f98fa7 | 0;\n        this.H = 0xbefa4fa4 | 0;\n        this.outputLen = 28;\n    }\n}\n/**\n * SHA2-256 hash function\n * @param message - data that would be hashed\n */\nexport const sha256 = /* @__PURE__ */ wrapConstructor(() => new SHA256());\nexport const sha224 = /* @__PURE__ */ wrapConstructor(() => new SHA224());\n//# sourceMappingURL=sha256.js.map","export const crypto = typeof globalThis === 'object' && 'crypto' in globalThis ? globalThis.crypto : undefined;\n//# sourceMappingURL=crypto.js.map","/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */\n// We use WebCrypto aka globalThis.crypto, which exists in browsers and node.js 16+.\n// node.js versions earlier than v19 don't declare it in global scope.\n// For node.js, package.json#exports field mapping rewrites import\n// from `crypto` to `cryptoNode`, which imports native module.\n// Makes the utils un-importable in browsers without a bundler.\n// Once node.js 18 is deprecated (2025-04-30), we can just drop the import.\nimport { crypto } from '@noble/hashes/crypto';\n// Cast array to different type\nexport const u8 = (arr) => new Uint8Array(arr.buffer, arr.byteOffset, arr.byteLength);\nexport const u32 = (arr) => new Uint32Array(arr.buffer, arr.byteOffset, Math.floor(arr.byteLength / 4));\nfunction isBytes(a) {\n    return (a instanceof Uint8Array ||\n        (a != null && typeof a === 'object' && a.constructor.name === 'Uint8Array'));\n}\n// Cast array to view\nexport const createView = (arr) => new DataView(arr.buffer, arr.byteOffset, arr.byteLength);\n// The rotate right (circular right shift) operation for uint32\nexport const rotr = (word, shift) => (word << (32 - shift)) | (word >>> shift);\n// big-endian hardware is rare. Just in case someone still decides to run hashes:\n// early-throw an error because we don't support BE yet.\n// Other libraries would silently corrupt the data instead of throwing an error,\n// when they don't support it.\nexport const isLE = new Uint8Array(new Uint32Array([0x11223344]).buffer)[0] === 0x44;\nif (!isLE)\n    throw new Error('Non little-endian hardware is not supported');\n// Array where index 0xf0 (240) is mapped to string 'f0'\nconst hexes = /* @__PURE__ */ Array.from({ length: 256 }, (_, i) => i.toString(16).padStart(2, '0'));\n/**\n * @example bytesToHex(Uint8Array.from([0xca, 0xfe, 0x01, 0x23])) // 'cafe0123'\n */\nexport function bytesToHex(bytes) {\n    if (!isBytes(bytes))\n        throw new Error('Uint8Array expected');\n    // pre-caching improves the speed 6x\n    let hex = '';\n    for (let i = 0; i < bytes.length; i++) {\n        hex += hexes[bytes[i]];\n    }\n    return hex;\n}\n// We use optimized technique to convert hex string to byte array\nconst asciis = { _0: 48, _9: 57, _A: 65, _F: 70, _a: 97, _f: 102 };\nfunction asciiToBase16(char) {\n    if (char >= asciis._0 && char <= asciis._9)\n        return char - asciis._0;\n    if (char >= asciis._A && char <= asciis._F)\n        return char - (asciis._A - 10);\n    if (char >= asciis._a && char <= asciis._f)\n        return char - (asciis._a - 10);\n    return;\n}\n/**\n * @example hexToBytes('cafe0123') // Uint8Array.from([0xca, 0xfe, 0x01, 0x23])\n */\nexport function hexToBytes(hex) {\n    if (typeof hex !== 'string')\n        throw new Error('hex string expected, got ' + typeof hex);\n    const hl = hex.length;\n    const al = hl / 2;\n    if (hl % 2)\n        throw new Error('padded hex string expected, got unpadded hex of length ' + hl);\n    const array = new Uint8Array(al);\n    for (let ai = 0, hi = 0; ai < al; ai++, hi += 2) {\n        const n1 = asciiToBase16(hex.charCodeAt(hi));\n        const n2 = asciiToBase16(hex.charCodeAt(hi + 1));\n        if (n1 === undefined || n2 === undefined) {\n            const char = hex[hi] + hex[hi + 1];\n            throw new Error('hex string expected, got non-hex character \"' + char + '\" at index ' + hi);\n        }\n        array[ai] = n1 * 16 + n2;\n    }\n    return array;\n}\n// There is no setImmediate in browser and setTimeout is slow.\n// call of async fn will return Promise, which will be fullfiled only on\n// next scheduler queue processing step and this is exactly what we need.\nexport const nextTick = async () => { };\n// Returns control to thread each 'tick' ms to avoid blocking\nexport async function asyncLoop(iters, tick, cb) {\n    let ts = Date.now();\n    for (let i = 0; i < iters; i++) {\n        cb(i);\n        // Date.now() is not monotonic, so in case if clock goes backwards we return return control too\n        const diff = Date.now() - ts;\n        if (diff >= 0 && diff < tick)\n            continue;\n        await nextTick();\n        ts += diff;\n    }\n}\n/**\n * @example utf8ToBytes('abc') // new Uint8Array([97, 98, 99])\n */\nexport function utf8ToBytes(str) {\n    if (typeof str !== 'string')\n        throw new Error(`utf8ToBytes expected string, got ${typeof str}`);\n    return new Uint8Array(new TextEncoder().encode(str)); // https://bugzil.la/1681809\n}\n/**\n * Normalizes (non-hex) string or Uint8Array to Uint8Array.\n * Warning: when Uint8Array is passed, it would NOT get copied.\n * Keep in mind for future mutable operations.\n */\nexport function toBytes(data) {\n    if (typeof data === 'string')\n        data = utf8ToBytes(data);\n    if (!isBytes(data))\n        throw new Error(`expected Uint8Array, got ${typeof data}`);\n    return data;\n}\n/**\n * Copies several Uint8Arrays into one.\n */\nexport function concatBytes(...arrays) {\n    let sum = 0;\n    for (let i = 0; i < arrays.length; i++) {\n        const a = arrays[i];\n        if (!isBytes(a))\n            throw new Error('Uint8Array expected');\n        sum += a.length;\n    }\n    const res = new Uint8Array(sum);\n    for (let i = 0, pad = 0; i < arrays.length; i++) {\n        const a = arrays[i];\n        res.set(a, pad);\n        pad += a.length;\n    }\n    return res;\n}\n// For runtime check if class implements interface\nexport class Hash {\n    // Safe version that clones internal state\n    clone() {\n        return this._cloneInto();\n    }\n}\nconst toStr = {}.toString;\nexport function checkOpts(defaults, opts) {\n    if (opts !== undefined && toStr.call(opts) !== '[object Object]')\n        throw new Error('Options should be object or undefined');\n    const merged = Object.assign(defaults, opts);\n    return merged;\n}\nexport function wrapConstructor(hashCons) {\n    const hashC = (msg) => hashCons().update(toBytes(msg)).digest();\n    const tmp = hashCons();\n    hashC.outputLen = tmp.outputLen;\n    hashC.blockLen = tmp.blockLen;\n    hashC.create = () => hashCons();\n    return hashC;\n}\nexport function wrapConstructorWithOpts(hashCons) {\n    const hashC = (msg, opts) => hashCons(opts).update(toBytes(msg)).digest();\n    const tmp = hashCons({});\n    hashC.outputLen = tmp.outputLen;\n    hashC.blockLen = tmp.blockLen;\n    hashC.create = (opts) => hashCons(opts);\n    return hashC;\n}\nexport function wrapXOFConstructorWithOpts(hashCons) {\n    const hashC = (msg, opts) => hashCons(opts).update(toBytes(msg)).digest();\n    const tmp = hashCons({});\n    hashC.outputLen = tmp.outputLen;\n    hashC.blockLen = tmp.blockLen;\n    hashC.create = (opts) => hashCons(opts);\n    return hashC;\n}\n/**\n * Secure PRNG. Uses `crypto.getRandomValues`, which defers to OS.\n */\nexport function randomBytes(bytesLength = 32) {\n    if (crypto && typeof crypto.getRandomValues === 'function') {\n        return crypto.getRandomValues(new Uint8Array(bytesLength));\n    }\n    throw new Error('crypto.getRandomValues must be defined');\n}\n//# sourceMappingURL=utils.js.map","/*! noble-secp256k1 - MIT License (c) 2019 Paul Miller (paulmillr.com) */\nimport * as nodeCrypto from 'crypto';\nconst _0n = BigInt(0);\nconst _1n = BigInt(1);\nconst _2n = BigInt(2);\nconst _3n = BigInt(3);\nconst _8n = BigInt(8);\nconst CURVE = Object.freeze({\n    a: _0n,\n    b: BigInt(7),\n    P: BigInt('0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f'),\n    n: BigInt('0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141'),\n    h: _1n,\n    Gx: BigInt('55066263022277343669578718895168534326250603453777594175500187360389116729240'),\n    Gy: BigInt('32670510020758816978083085130507043184471273380659243275938904335757337482424'),\n    beta: BigInt('0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee'),\n});\nconst divNearest = (a, b) => (a + b / _2n) / b;\nconst endo = {\n    beta: BigInt('0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee'),\n    splitScalar(k) {\n        const { n } = CURVE;\n        const a1 = BigInt('0x3086d221a7d46bcde86c90e49284eb15');\n        const b1 = -_1n * BigInt('0xe4437ed6010e88286f547fa90abfe4c3');\n        const a2 = BigInt('0x114ca50f7a8e2f3f657c1108d9d44cfd8');\n        const b2 = a1;\n        const POW_2_128 = BigInt('0x100000000000000000000000000000000');\n        const c1 = divNearest(b2 * k, n);\n        const c2 = divNearest(-b1 * k, n);\n        let k1 = mod(k - c1 * a1 - c2 * a2, n);\n        let k2 = mod(-c1 * b1 - c2 * b2, n);\n        const k1neg = k1 > POW_2_128;\n        const k2neg = k2 > POW_2_128;\n        if (k1neg)\n            k1 = n - k1;\n        if (k2neg)\n            k2 = n - k2;\n        if (k1 > POW_2_128 || k2 > POW_2_128) {\n            throw new Error('splitScalarEndo: Endomorphism failed, k=' + k);\n        }\n        return { k1neg, k1, k2neg, k2 };\n    },\n};\nconst fieldLen = 32;\nconst groupLen = 32;\nconst hashLen = 32;\nconst compressedLen = fieldLen + 1;\nconst uncompressedLen = 2 * fieldLen + 1;\nexport { CURVE };\nfunction weierstrass(x) {\n    const { a, b } = CURVE;\n    const x2 = mod(x * x);\n    const x3 = mod(x2 * x);\n    return mod(x3 + a * x + b);\n}\nconst USE_ENDOMORPHISM = CURVE.a === _0n;\nclass ShaError extends Error {\n    constructor(message) {\n        super(message);\n    }\n}\nfunction assertJacPoint(other) {\n    if (!(other instanceof JacobianPoint))\n        throw new TypeError('JacobianPoint expected');\n}\nclass JacobianPoint {\n    constructor(x, y, z) {\n        this.x = x;\n        this.y = y;\n        this.z = z;\n    }\n    static fromAffine(p) {\n        if (!(p instanceof Point)) {\n            throw new TypeError('JacobianPoint#fromAffine: expected Point');\n        }\n        if (p.equals(Point.ZERO))\n            return JacobianPoint.ZERO;\n        return new JacobianPoint(p.x, p.y, _1n);\n    }\n    static toAffineBatch(points) {\n        const toInv = invertBatch(points.map((p) => p.z));\n        return points.map((p, i) => p.toAffine(toInv[i]));\n    }\n    static normalizeZ(points) {\n        return JacobianPoint.toAffineBatch(points).map(JacobianPoint.fromAffine);\n    }\n    equals(other) {\n        assertJacPoint(other);\n        const { x: X1, y: Y1, z: Z1 } = this;\n        const { x: X2, y: Y2, z: Z2 } = other;\n        const Z1Z1 = mod(Z1 * Z1);\n        const Z2Z2 = mod(Z2 * Z2);\n        const U1 = mod(X1 * Z2Z2);\n        const U2 = mod(X2 * Z1Z1);\n        const S1 = mod(mod(Y1 * Z2) * Z2Z2);\n        const S2 = mod(mod(Y2 * Z1) * Z1Z1);\n        return U1 === U2 && S1 === S2;\n    }\n    negate() {\n        return new JacobianPoint(this.x, mod(-this.y), this.z);\n    }\n    double() {\n        const { x: X1, y: Y1, z: Z1 } = this;\n        const A = mod(X1 * X1);\n        const B = mod(Y1 * Y1);\n        const C = mod(B * B);\n        const x1b = X1 + B;\n        const D = mod(_2n * (mod(x1b * x1b) - A - C));\n        const E = mod(_3n * A);\n        const F = mod(E * E);\n        const X3 = mod(F - _2n * D);\n        const Y3 = mod(E * (D - X3) - _8n * C);\n        const Z3 = mod(_2n * Y1 * Z1);\n        return new JacobianPoint(X3, Y3, Z3);\n    }\n    add(other) {\n        assertJacPoint(other);\n        const { x: X1, y: Y1, z: Z1 } = this;\n        const { x: X2, y: Y2, z: Z2 } = other;\n        if (X2 === _0n || Y2 === _0n)\n            return this;\n        if (X1 === _0n || Y1 === _0n)\n            return other;\n        const Z1Z1 = mod(Z1 * Z1);\n        const Z2Z2 = mod(Z2 * Z2);\n        const U1 = mod(X1 * Z2Z2);\n        const U2 = mod(X2 * Z1Z1);\n        const S1 = mod(mod(Y1 * Z2) * Z2Z2);\n        const S2 = mod(mod(Y2 * Z1) * Z1Z1);\n        const H = mod(U2 - U1);\n        const r = mod(S2 - S1);\n        if (H === _0n) {\n            if (r === _0n) {\n                return this.double();\n            }\n            else {\n                return JacobianPoint.ZERO;\n            }\n        }\n        const HH = mod(H * H);\n        const HHH = mod(H * HH);\n        const V = mod(U1 * HH);\n        const X3 = mod(r * r - HHH - _2n * V);\n        const Y3 = mod(r * (V - X3) - S1 * HHH);\n        const Z3 = mod(Z1 * Z2 * H);\n        return new JacobianPoint(X3, Y3, Z3);\n    }\n    subtract(other) {\n        return this.add(other.negate());\n    }\n    multiplyUnsafe(scalar) {\n        const P0 = JacobianPoint.ZERO;\n        if (typeof scalar === 'bigint' && scalar === _0n)\n            return P0;\n        let n = normalizeScalar(scalar);\n        if (n === _1n)\n            return this;\n        if (!USE_ENDOMORPHISM) {\n            let p = P0;\n            let d = this;\n            while (n > _0n) {\n                if (n & _1n)\n                    p = p.add(d);\n                d = d.double();\n                n >>= _1n;\n            }\n            return p;\n        }\n        let { k1neg, k1, k2neg, k2 } = endo.splitScalar(n);\n        let k1p = P0;\n        let k2p = P0;\n        let d = this;\n        while (k1 > _0n || k2 > _0n) {\n            if (k1 & _1n)\n                k1p = k1p.add(d);\n            if (k2 & _1n)\n                k2p = k2p.add(d);\n            d = d.double();\n            k1 >>= _1n;\n            k2 >>= _1n;\n        }\n        if (k1neg)\n            k1p = k1p.negate();\n        if (k2neg)\n            k2p = k2p.negate();\n        k2p = new JacobianPoint(mod(k2p.x * endo.beta), k2p.y, k2p.z);\n        return k1p.add(k2p);\n    }\n    precomputeWindow(W) {\n        const windows = USE_ENDOMORPHISM ? 128 / W + 1 : 256 / W + 1;\n        const points = [];\n        let p = this;\n        let base = p;\n        for (let window = 0; window < windows; window++) {\n            base = p;\n            points.push(base);\n            for (let i = 1; i < 2 ** (W - 1); i++) {\n                base = base.add(p);\n                points.push(base);\n            }\n            p = base.double();\n        }\n        return points;\n    }\n    wNAF(n, affinePoint) {\n        if (!affinePoint && this.equals(JacobianPoint.BASE))\n            affinePoint = Point.BASE;\n        const W = (affinePoint && affinePoint._WINDOW_SIZE) || 1;\n        if (256 % W) {\n            throw new Error('Point#wNAF: Invalid precomputation window, must be power of 2');\n        }\n        let precomputes = affinePoint && pointPrecomputes.get(affinePoint);\n        if (!precomputes) {\n            precomputes = this.precomputeWindow(W);\n            if (affinePoint && W !== 1) {\n                precomputes = JacobianPoint.normalizeZ(precomputes);\n                pointPrecomputes.set(affinePoint, precomputes);\n            }\n        }\n        let p = JacobianPoint.ZERO;\n        let f = JacobianPoint.BASE;\n        const windows = 1 + (USE_ENDOMORPHISM ? 128 / W : 256 / W);\n        const windowSize = 2 ** (W - 1);\n        const mask = BigInt(2 ** W - 1);\n        const maxNumber = 2 ** W;\n        const shiftBy = BigInt(W);\n        for (let window = 0; window < windows; window++) {\n            const offset = window * windowSize;\n            let wbits = Number(n & mask);\n            n >>= shiftBy;\n            if (wbits > windowSize) {\n                wbits -= maxNumber;\n                n += _1n;\n            }\n            const offset1 = offset;\n            const offset2 = offset + Math.abs(wbits) - 1;\n            const cond1 = window % 2 !== 0;\n            const cond2 = wbits < 0;\n            if (wbits === 0) {\n                f = f.add(constTimeNegate(cond1, precomputes[offset1]));\n            }\n            else {\n                p = p.add(constTimeNegate(cond2, precomputes[offset2]));\n            }\n        }\n        return { p, f };\n    }\n    multiply(scalar, affinePoint) {\n        let n = normalizeScalar(scalar);\n        let point;\n        let fake;\n        if (USE_ENDOMORPHISM) {\n            const { k1neg, k1, k2neg, k2 } = endo.splitScalar(n);\n            let { p: k1p, f: f1p } = this.wNAF(k1, affinePoint);\n            let { p: k2p, f: f2p } = this.wNAF(k2, affinePoint);\n            k1p = constTimeNegate(k1neg, k1p);\n            k2p = constTimeNegate(k2neg, k2p);\n            k2p = new JacobianPoint(mod(k2p.x * endo.beta), k2p.y, k2p.z);\n            point = k1p.add(k2p);\n            fake = f1p.add(f2p);\n        }\n        else {\n            const { p, f } = this.wNAF(n, affinePoint);\n            point = p;\n            fake = f;\n        }\n        return JacobianPoint.normalizeZ([point, fake])[0];\n    }\n    toAffine(invZ) {\n        const { x, y, z } = this;\n        const is0 = this.equals(JacobianPoint.ZERO);\n        if (invZ == null)\n            invZ = is0 ? _8n : invert(z);\n        const iz1 = invZ;\n        const iz2 = mod(iz1 * iz1);\n        const iz3 = mod(iz2 * iz1);\n        const ax = mod(x * iz2);\n        const ay = mod(y * iz3);\n        const zz = mod(z * iz1);\n        if (is0)\n            return Point.ZERO;\n        if (zz !== _1n)\n            throw new Error('invZ was invalid');\n        return new Point(ax, ay);\n    }\n}\nJacobianPoint.BASE = new JacobianPoint(CURVE.Gx, CURVE.Gy, _1n);\nJacobianPoint.ZERO = new JacobianPoint(_0n, _1n, _0n);\nfunction constTimeNegate(condition, item) {\n    const neg = item.negate();\n    return condition ? neg : item;\n}\nconst pointPrecomputes = new WeakMap();\nexport class Point {\n    constructor(x, y) {\n        this.x = x;\n        this.y = y;\n    }\n    _setWindowSize(windowSize) {\n        this._WINDOW_SIZE = windowSize;\n        pointPrecomputes.delete(this);\n    }\n    hasEvenY() {\n        return this.y % _2n === _0n;\n    }\n    static fromCompressedHex(bytes) {\n        const isShort = bytes.length === 32;\n        const x = bytesToNumber(isShort ? bytes : bytes.subarray(1));\n        if (!isValidFieldElement(x))\n            throw new Error('Point is not on curve');\n        const y2 = weierstrass(x);\n        let y = sqrtMod(y2);\n        const isYOdd = (y & _1n) === _1n;\n        if (isShort) {\n            if (isYOdd)\n                y = mod(-y);\n        }\n        else {\n            const isFirstByteOdd = (bytes[0] & 1) === 1;\n            if (isFirstByteOdd !== isYOdd)\n                y = mod(-y);\n        }\n        const point = new Point(x, y);\n        point.assertValidity();\n        return point;\n    }\n    static fromUncompressedHex(bytes) {\n        const x = bytesToNumber(bytes.subarray(1, fieldLen + 1));\n        const y = bytesToNumber(bytes.subarray(fieldLen + 1, fieldLen * 2 + 1));\n        const point = new Point(x, y);\n        point.assertValidity();\n        return point;\n    }\n    static fromHex(hex) {\n        const bytes = ensureBytes(hex);\n        const len = bytes.length;\n        const header = bytes[0];\n        if (len === fieldLen)\n            return this.fromCompressedHex(bytes);\n        if (len === compressedLen && (header === 0x02 || header === 0x03)) {\n            return this.fromCompressedHex(bytes);\n        }\n        if (len === uncompressedLen && header === 0x04)\n            return this.fromUncompressedHex(bytes);\n        throw new Error(`Point.fromHex: received invalid point. Expected 32-${compressedLen} compressed bytes or ${uncompressedLen} uncompressed bytes, not ${len}`);\n    }\n    static fromPrivateKey(privateKey) {\n        return Point.BASE.multiply(normalizePrivateKey(privateKey));\n    }\n    static fromSignature(msgHash, signature, recovery) {\n        const { r, s } = normalizeSignature(signature);\n        if (![0, 1, 2, 3].includes(recovery))\n            throw new Error('Cannot recover: invalid recovery bit');\n        const h = truncateHash(ensureBytes(msgHash));\n        const { n } = CURVE;\n        const radj = recovery === 2 || recovery === 3 ? r + n : r;\n        const rinv = invert(radj, n);\n        const u1 = mod(-h * rinv, n);\n        const u2 = mod(s * rinv, n);\n        const prefix = recovery & 1 ? '03' : '02';\n        const R = Point.fromHex(prefix + numTo32bStr(radj));\n        const Q = Point.BASE.multiplyAndAddUnsafe(R, u1, u2);\n        if (!Q)\n            throw new Error('Cannot recover signature: point at infinify');\n        Q.assertValidity();\n        return Q;\n    }\n    toRawBytes(isCompressed = false) {\n        return hexToBytes(this.toHex(isCompressed));\n    }\n    toHex(isCompressed = false) {\n        const x = numTo32bStr(this.x);\n        if (isCompressed) {\n            const prefix = this.hasEvenY() ? '02' : '03';\n            return `${prefix}${x}`;\n        }\n        else {\n            return `04${x}${numTo32bStr(this.y)}`;\n        }\n    }\n    toHexX() {\n        return this.toHex(true).slice(2);\n    }\n    toRawX() {\n        return this.toRawBytes(true).slice(1);\n    }\n    assertValidity() {\n        const msg = 'Point is not on elliptic curve';\n        const { x, y } = this;\n        if (!isValidFieldElement(x) || !isValidFieldElement(y))\n            throw new Error(msg);\n        const left = mod(y * y);\n        const right = weierstrass(x);\n        if (mod(left - right) !== _0n)\n            throw new Error(msg);\n    }\n    equals(other) {\n        return this.x === other.x && this.y === other.y;\n    }\n    negate() {\n        return new Point(this.x, mod(-this.y));\n    }\n    double() {\n        return JacobianPoint.fromAffine(this).double().toAffine();\n    }\n    add(other) {\n        return JacobianPoint.fromAffine(this).add(JacobianPoint.fromAffine(other)).toAffine();\n    }\n    subtract(other) {\n        return this.add(other.negate());\n    }\n    multiply(scalar) {\n        return JacobianPoint.fromAffine(this).multiply(scalar, this).toAffine();\n    }\n    multiplyAndAddUnsafe(Q, a, b) {\n        const P = JacobianPoint.fromAffine(this);\n        const aP = a === _0n || a === _1n || this !== Point.BASE ? P.multiplyUnsafe(a) : P.multiply(a);\n        const bQ = JacobianPoint.fromAffine(Q).multiplyUnsafe(b);\n        const sum = aP.add(bQ);\n        return sum.equals(JacobianPoint.ZERO) ? undefined : sum.toAffine();\n    }\n}\nPoint.BASE = new Point(CURVE.Gx, CURVE.Gy);\nPoint.ZERO = new Point(_0n, _0n);\nfunction sliceDER(s) {\n    return Number.parseInt(s[0], 16) >= 8 ? '00' + s : s;\n}\nfunction parseDERInt(data) {\n    if (data.length < 2 || data[0] !== 0x02) {\n        throw new Error(`Invalid signature integer tag: ${bytesToHex(data)}`);\n    }\n    const len = data[1];\n    const res = data.subarray(2, len + 2);\n    if (!len || res.length !== len) {\n        throw new Error(`Invalid signature integer: wrong length`);\n    }\n    if (res[0] === 0x00 && res[1] <= 0x7f) {\n        throw new Error('Invalid signature integer: trailing length');\n    }\n    return { data: bytesToNumber(res), left: data.subarray(len + 2) };\n}\nfunction parseDERSignature(data) {\n    if (data.length < 2 || data[0] != 0x30) {\n        throw new Error(`Invalid signature tag: ${bytesToHex(data)}`);\n    }\n    if (data[1] !== data.length - 2) {\n        throw new Error('Invalid signature: incorrect length');\n    }\n    const { data: r, left: sBytes } = parseDERInt(data.subarray(2));\n    const { data: s, left: rBytesLeft } = parseDERInt(sBytes);\n    if (rBytesLeft.length) {\n        throw new Error(`Invalid signature: left bytes after parsing: ${bytesToHex(rBytesLeft)}`);\n    }\n    return { r, s };\n}\nexport class Signature {\n    constructor(r, s) {\n        this.r = r;\n        this.s = s;\n        this.assertValidity();\n    }\n    static fromCompact(hex) {\n        const arr = hex instanceof Uint8Array;\n        const name = 'Signature.fromCompact';\n        if (typeof hex !== 'string' && !arr)\n            throw new TypeError(`${name}: Expected string or Uint8Array`);\n        const str = arr ? bytesToHex(hex) : hex;\n        if (str.length !== 128)\n            throw new Error(`${name}: Expected 64-byte hex`);\n        return new Signature(hexToNumber(str.slice(0, 64)), hexToNumber(str.slice(64, 128)));\n    }\n    static fromDER(hex) {\n        const arr = hex instanceof Uint8Array;\n        if (typeof hex !== 'string' && !arr)\n            throw new TypeError(`Signature.fromDER: Expected string or Uint8Array`);\n        const { r, s } = parseDERSignature(arr ? hex : hexToBytes(hex));\n        return new Signature(r, s);\n    }\n    static fromHex(hex) {\n        return this.fromDER(hex);\n    }\n    assertValidity() {\n        const { r, s } = this;\n        if (!isWithinCurveOrder(r))\n            throw new Error('Invalid Signature: r must be 0 < r < n');\n        if (!isWithinCurveOrder(s))\n            throw new Error('Invalid Signature: s must be 0 < s < n');\n    }\n    hasHighS() {\n        const HALF = CURVE.n >> _1n;\n        return this.s > HALF;\n    }\n    normalizeS() {\n        return this.hasHighS() ? new Signature(this.r, mod(-this.s, CURVE.n)) : this;\n    }\n    toDERRawBytes() {\n        return hexToBytes(this.toDERHex());\n    }\n    toDERHex() {\n        const sHex = sliceDER(numberToHexUnpadded(this.s));\n        const rHex = sliceDER(numberToHexUnpadded(this.r));\n        const sHexL = sHex.length / 2;\n        const rHexL = rHex.length / 2;\n        const sLen = numberToHexUnpadded(sHexL);\n        const rLen = numberToHexUnpadded(rHexL);\n        const length = numberToHexUnpadded(rHexL + sHexL + 4);\n        return `30${length}02${rLen}${rHex}02${sLen}${sHex}`;\n    }\n    toRawBytes() {\n        return this.toDERRawBytes();\n    }\n    toHex() {\n        return this.toDERHex();\n    }\n    toCompactRawBytes() {\n        return hexToBytes(this.toCompactHex());\n    }\n    toCompactHex() {\n        return numTo32bStr(this.r) + numTo32bStr(this.s);\n    }\n}\nfunction concatBytes(...arrays) {\n    if (!arrays.every((b) => b instanceof Uint8Array))\n        throw new Error('Uint8Array list expected');\n    if (arrays.length === 1)\n        return arrays[0];\n    const length = arrays.reduce((a, arr) => a + arr.length, 0);\n    const result = new Uint8Array(length);\n    for (let i = 0, pad = 0; i < arrays.length; i++) {\n        const arr = arrays[i];\n        result.set(arr, pad);\n        pad += arr.length;\n    }\n    return result;\n}\nconst hexes = Array.from({ length: 256 }, (v, i) => i.toString(16).padStart(2, '0'));\nfunction bytesToHex(uint8a) {\n    if (!(uint8a instanceof Uint8Array))\n        throw new Error('Expected Uint8Array');\n    let hex = '';\n    for (let i = 0; i < uint8a.length; i++) {\n        hex += hexes[uint8a[i]];\n    }\n    return hex;\n}\nconst POW_2_256 = BigInt('0x10000000000000000000000000000000000000000000000000000000000000000');\nfunction numTo32bStr(num) {\n    if (typeof num !== 'bigint')\n        throw new Error('Expected bigint');\n    if (!(_0n <= num && num < POW_2_256))\n        throw new Error('Expected number 0 <= n < 2^256');\n    return num.toString(16).padStart(64, '0');\n}\nfunction numTo32b(num) {\n    const b = hexToBytes(numTo32bStr(num));\n    if (b.length !== 32)\n        throw new Error('Error: expected 32 bytes');\n    return b;\n}\nfunction numberToHexUnpadded(num) {\n    const hex = num.toString(16);\n    return hex.length & 1 ? `0${hex}` : hex;\n}\nfunction hexToNumber(hex) {\n    if (typeof hex !== 'string') {\n        throw new TypeError('hexToNumber: expected string, got ' + typeof hex);\n    }\n    return BigInt(`0x${hex}`);\n}\nfunction hexToBytes(hex) {\n    if (typeof hex !== 'string') {\n        throw new TypeError('hexToBytes: expected string, got ' + typeof hex);\n    }\n    if (hex.length % 2)\n        throw new Error('hexToBytes: received invalid unpadded hex' + hex.length);\n    const array = new Uint8Array(hex.length / 2);\n    for (let i = 0; i < array.length; i++) {\n        const j = i * 2;\n        const hexByte = hex.slice(j, j + 2);\n        const byte = Number.parseInt(hexByte, 16);\n        if (Number.isNaN(byte) || byte < 0)\n            throw new Error('Invalid byte sequence');\n        array[i] = byte;\n    }\n    return array;\n}\nfunction bytesToNumber(bytes) {\n    return hexToNumber(bytesToHex(bytes));\n}\nfunction ensureBytes(hex) {\n    return hex instanceof Uint8Array ? Uint8Array.from(hex) : hexToBytes(hex);\n}\nfunction normalizeScalar(num) {\n    if (typeof num === 'number' && Number.isSafeInteger(num) && num > 0)\n        return BigInt(num);\n    if (typeof num === 'bigint' && isWithinCurveOrder(num))\n        return num;\n    throw new TypeError('Expected valid private scalar: 0 < scalar < curve.n');\n}\nfunction mod(a, b = CURVE.P) {\n    const result = a % b;\n    return result >= _0n ? result : b + result;\n}\nfunction pow2(x, power) {\n    const { P } = CURVE;\n    let res = x;\n    while (power-- > _0n) {\n        res *= res;\n        res %= P;\n    }\n    return res;\n}\nfunction sqrtMod(x) {\n    const { P } = CURVE;\n    const _6n = BigInt(6);\n    const _11n = BigInt(11);\n    const _22n = BigInt(22);\n    const _23n = BigInt(23);\n    const _44n = BigInt(44);\n    const _88n = BigInt(88);\n    const b2 = (x * x * x) % P;\n    const b3 = (b2 * b2 * x) % P;\n    const b6 = (pow2(b3, _3n) * b3) % P;\n    const b9 = (pow2(b6, _3n) * b3) % P;\n    const b11 = (pow2(b9, _2n) * b2) % P;\n    const b22 = (pow2(b11, _11n) * b11) % P;\n    const b44 = (pow2(b22, _22n) * b22) % P;\n    const b88 = (pow2(b44, _44n) * b44) % P;\n    const b176 = (pow2(b88, _88n) * b88) % P;\n    const b220 = (pow2(b176, _44n) * b44) % P;\n    const b223 = (pow2(b220, _3n) * b3) % P;\n    const t1 = (pow2(b223, _23n) * b22) % P;\n    const t2 = (pow2(t1, _6n) * b2) % P;\n    const rt = pow2(t2, _2n);\n    const xc = (rt * rt) % P;\n    if (xc !== x)\n        throw new Error('Cannot find square root');\n    return rt;\n}\nfunction invert(number, modulo = CURVE.P) {\n    if (number === _0n || modulo <= _0n) {\n        throw new Error(`invert: expected positive integers, got n=${number} mod=${modulo}`);\n    }\n    let a = mod(number, modulo);\n    let b = modulo;\n    let x = _0n, y = _1n, u = _1n, v = _0n;\n    while (a !== _0n) {\n        const q = b / a;\n        const r = b % a;\n        const m = x - u * q;\n        const n = y - v * q;\n        b = a, a = r, x = u, y = v, u = m, v = n;\n    }\n    const gcd = b;\n    if (gcd !== _1n)\n        throw new Error('invert: does not exist');\n    return mod(x, modulo);\n}\nfunction invertBatch(nums, p = CURVE.P) {\n    const scratch = new Array(nums.length);\n    const lastMultiplied = nums.reduce((acc, num, i) => {\n        if (num === _0n)\n            return acc;\n        scratch[i] = acc;\n        return mod(acc * num, p);\n    }, _1n);\n    const inverted = invert(lastMultiplied, p);\n    nums.reduceRight((acc, num, i) => {\n        if (num === _0n)\n            return acc;\n        scratch[i] = mod(acc * scratch[i], p);\n        return mod(acc * num, p);\n    }, inverted);\n    return scratch;\n}\nfunction bits2int_2(bytes) {\n    const delta = bytes.length * 8 - groupLen * 8;\n    const num = bytesToNumber(bytes);\n    return delta > 0 ? num >> BigInt(delta) : num;\n}\nfunction truncateHash(hash, truncateOnly = false) {\n    const h = bits2int_2(hash);\n    if (truncateOnly)\n        return h;\n    const { n } = CURVE;\n    return h >= n ? h - n : h;\n}\nlet _sha256Sync;\nlet _hmacSha256Sync;\nclass HmacDrbg {\n    constructor(hashLen, qByteLen) {\n        this.hashLen = hashLen;\n        this.qByteLen = qByteLen;\n        if (typeof hashLen !== 'number' || hashLen < 2)\n            throw new Error('hashLen must be a number');\n        if (typeof qByteLen !== 'number' || qByteLen < 2)\n            throw new Error('qByteLen must be a number');\n        this.v = new Uint8Array(hashLen).fill(1);\n        this.k = new Uint8Array(hashLen).fill(0);\n        this.counter = 0;\n    }\n    hmac(...values) {\n        return utils.hmacSha256(this.k, ...values);\n    }\n    hmacSync(...values) {\n        return _hmacSha256Sync(this.k, ...values);\n    }\n    checkSync() {\n        if (typeof _hmacSha256Sync !== 'function')\n            throw new ShaError('hmacSha256Sync needs to be set');\n    }\n    incr() {\n        if (this.counter >= 1000)\n            throw new Error('Tried 1,000 k values for sign(), all were invalid');\n        this.counter += 1;\n    }\n    async reseed(seed = new Uint8Array()) {\n        this.k = await this.hmac(this.v, Uint8Array.from([0x00]), seed);\n        this.v = await this.hmac(this.v);\n        if (seed.length === 0)\n            return;\n        this.k = await this.hmac(this.v, Uint8Array.from([0x01]), seed);\n        this.v = await this.hmac(this.v);\n    }\n    reseedSync(seed = new Uint8Array()) {\n        this.checkSync();\n        this.k = this.hmacSync(this.v, Uint8Array.from([0x00]), seed);\n        this.v = this.hmacSync(this.v);\n        if (seed.length === 0)\n            return;\n        this.k = this.hmacSync(this.v, Uint8Array.from([0x01]), seed);\n        this.v = this.hmacSync(this.v);\n    }\n    async generate() {\n        this.incr();\n        let len = 0;\n        const out = [];\n        while (len < this.qByteLen) {\n            this.v = await this.hmac(this.v);\n            const sl = this.v.slice();\n            out.push(sl);\n            len += this.v.length;\n        }\n        return concatBytes(...out);\n    }\n    generateSync() {\n        this.checkSync();\n        this.incr();\n        let len = 0;\n        const out = [];\n        while (len < this.qByteLen) {\n            this.v = this.hmacSync(this.v);\n            const sl = this.v.slice();\n            out.push(sl);\n            len += this.v.length;\n        }\n        return concatBytes(...out);\n    }\n}\nfunction isWithinCurveOrder(num) {\n    return _0n < num && num < CURVE.n;\n}\nfunction isValidFieldElement(num) {\n    return _0n < num && num < CURVE.P;\n}\nfunction kmdToSig(kBytes, m, d, lowS = true) {\n    const { n } = CURVE;\n    const k = truncateHash(kBytes, true);\n    if (!isWithinCurveOrder(k))\n        return;\n    const kinv = invert(k, n);\n    const q = Point.BASE.multiply(k);\n    const r = mod(q.x, n);\n    if (r === _0n)\n        return;\n    const s = mod(kinv * mod(m + d * r, n), n);\n    if (s === _0n)\n        return;\n    let sig = new Signature(r, s);\n    let recovery = (q.x === sig.r ? 0 : 2) | Number(q.y & _1n);\n    if (lowS && sig.hasHighS()) {\n        sig = sig.normalizeS();\n        recovery ^= 1;\n    }\n    return { sig, recovery };\n}\nfunction normalizePrivateKey(key) {\n    let num;\n    if (typeof key === 'bigint') {\n        num = key;\n    }\n    else if (typeof key === 'number' && Number.isSafeInteger(key) && key > 0) {\n        num = BigInt(key);\n    }\n    else if (typeof key === 'string') {\n        if (key.length !== 2 * groupLen)\n            throw new Error('Expected 32 bytes of private key');\n        num = hexToNumber(key);\n    }\n    else if (key instanceof Uint8Array) {\n        if (key.length !== groupLen)\n            throw new Error('Expected 32 bytes of private key');\n        num = bytesToNumber(key);\n    }\n    else {\n        throw new TypeError('Expected valid private key');\n    }\n    if (!isWithinCurveOrder(num))\n        throw new Error('Expected private key: 0 < key < n');\n    return num;\n}\nfunction normalizePublicKey(publicKey) {\n    if (publicKey instanceof Point) {\n        publicKey.assertValidity();\n        return publicKey;\n    }\n    else {\n        return Point.fromHex(publicKey);\n    }\n}\nfunction normalizeSignature(signature) {\n    if (signature instanceof Signature) {\n        signature.assertValidity();\n        return signature;\n    }\n    try {\n        return Signature.fromDER(signature);\n    }\n    catch (error) {\n        return Signature.fromCompact(signature);\n    }\n}\nexport function getPublicKey(privateKey, isCompressed = false) {\n    return Point.fromPrivateKey(privateKey).toRawBytes(isCompressed);\n}\nexport function recoverPublicKey(msgHash, signature, recovery, isCompressed = false) {\n    return Point.fromSignature(msgHash, signature, recovery).toRawBytes(isCompressed);\n}\nfunction isProbPub(item) {\n    const arr = item instanceof Uint8Array;\n    const str = typeof item === 'string';\n    const len = (arr || str) && item.length;\n    if (arr)\n        return len === compressedLen || len === uncompressedLen;\n    if (str)\n        return len === compressedLen * 2 || len === uncompressedLen * 2;\n    if (item instanceof Point)\n        return true;\n    return false;\n}\nexport function getSharedSecret(privateA, publicB, isCompressed = false) {\n    if (isProbPub(privateA))\n        throw new TypeError('getSharedSecret: first arg must be private key');\n    if (!isProbPub(publicB))\n        throw new TypeError('getSharedSecret: second arg must be public key');\n    const b = normalizePublicKey(publicB);\n    b.assertValidity();\n    return b.multiply(normalizePrivateKey(privateA)).toRawBytes(isCompressed);\n}\nfunction bits2int(bytes) {\n    const slice = bytes.length > fieldLen ? bytes.slice(0, fieldLen) : bytes;\n    return bytesToNumber(slice);\n}\nfunction bits2octets(bytes) {\n    const z1 = bits2int(bytes);\n    const z2 = mod(z1, CURVE.n);\n    return int2octets(z2 < _0n ? z1 : z2);\n}\nfunction int2octets(num) {\n    return numTo32b(num);\n}\nfunction initSigArgs(msgHash, privateKey, extraEntropy) {\n    if (msgHash == null)\n        throw new Error(`sign: expected valid message hash, not \"${msgHash}\"`);\n    const h1 = ensureBytes(msgHash);\n    const d = normalizePrivateKey(privateKey);\n    const seedArgs = [int2octets(d), bits2octets(h1)];\n    if (extraEntropy != null) {\n        if (extraEntropy === true)\n            extraEntropy = utils.randomBytes(fieldLen);\n        const e = ensureBytes(extraEntropy);\n        if (e.length !== fieldLen)\n            throw new Error(`sign: Expected ${fieldLen} bytes of extra data`);\n        seedArgs.push(e);\n    }\n    const seed = concatBytes(...seedArgs);\n    const m = bits2int(h1);\n    return { seed, m, d };\n}\nfunction finalizeSig(recSig, opts) {\n    const { sig, recovery } = recSig;\n    const { der, recovered } = Object.assign({ canonical: true, der: true }, opts);\n    const hashed = der ? sig.toDERRawBytes() : sig.toCompactRawBytes();\n    return recovered ? [hashed, recovery] : hashed;\n}\nasync function sign(msgHash, privKey, opts = {}) {\n    const { seed, m, d } = initSigArgs(msgHash, privKey, opts.extraEntropy);\n    const drbg = new HmacDrbg(hashLen, groupLen);\n    await drbg.reseed(seed);\n    let sig;\n    while (!(sig = kmdToSig(await drbg.generate(), m, d, opts.canonical)))\n        await drbg.reseed();\n    return finalizeSig(sig, opts);\n}\nfunction signSync(msgHash, privKey, opts = {}) {\n    const { seed, m, d } = initSigArgs(msgHash, privKey, opts.extraEntropy);\n    const drbg = new HmacDrbg(hashLen, groupLen);\n    drbg.reseedSync(seed);\n    let sig;\n    while (!(sig = kmdToSig(drbg.generateSync(), m, d, opts.canonical)))\n        drbg.reseedSync();\n    return finalizeSig(sig, opts);\n}\nexport { sign, signSync };\nconst vopts = { strict: true };\nexport function verify(signature, msgHash, publicKey, opts = vopts) {\n    let sig;\n    try {\n        sig = normalizeSignature(signature);\n        msgHash = ensureBytes(msgHash);\n    }\n    catch (error) {\n        return false;\n    }\n    const { r, s } = sig;\n    if (opts.strict && sig.hasHighS())\n        return false;\n    const h = truncateHash(msgHash);\n    let P;\n    try {\n        P = normalizePublicKey(publicKey);\n    }\n    catch (error) {\n        return false;\n    }\n    const { n } = CURVE;\n    const sinv = invert(s, n);\n    const u1 = mod(h * sinv, n);\n    const u2 = mod(r * sinv, n);\n    const R = Point.BASE.multiplyAndAddUnsafe(P, u1, u2);\n    if (!R)\n        return false;\n    const v = mod(R.x, n);\n    return v === r;\n}\nfunction schnorrChallengeFinalize(ch) {\n    return mod(bytesToNumber(ch), CURVE.n);\n}\nclass SchnorrSignature {\n    constructor(r, s) {\n        this.r = r;\n        this.s = s;\n        this.assertValidity();\n    }\n    static fromHex(hex) {\n        const bytes = ensureBytes(hex);\n        if (bytes.length !== 64)\n            throw new TypeError(`SchnorrSignature.fromHex: expected 64 bytes, not ${bytes.length}`);\n        const r = bytesToNumber(bytes.subarray(0, 32));\n        const s = bytesToNumber(bytes.subarray(32, 64));\n        return new SchnorrSignature(r, s);\n    }\n    assertValidity() {\n        const { r, s } = this;\n        if (!isValidFieldElement(r) || !isWithinCurveOrder(s))\n            throw new Error('Invalid signature');\n    }\n    toHex() {\n        return numTo32bStr(this.r) + numTo32bStr(this.s);\n    }\n    toRawBytes() {\n        return hexToBytes(this.toHex());\n    }\n}\nfunction schnorrGetPublicKey(privateKey) {\n    return Point.fromPrivateKey(privateKey).toRawX();\n}\nclass InternalSchnorrSignature {\n    constructor(message, privateKey, auxRand = utils.randomBytes()) {\n        if (message == null)\n            throw new TypeError(`sign: Expected valid message, not \"${message}\"`);\n        this.m = ensureBytes(message);\n        const { x, scalar } = this.getScalar(normalizePrivateKey(privateKey));\n        this.px = x;\n        this.d = scalar;\n        this.rand = ensureBytes(auxRand);\n        if (this.rand.length !== 32)\n            throw new TypeError('sign: Expected 32 bytes of aux randomness');\n    }\n    getScalar(priv) {\n        const point = Point.fromPrivateKey(priv);\n        const scalar = point.hasEvenY() ? priv : CURVE.n - priv;\n        return { point, scalar, x: point.toRawX() };\n    }\n    initNonce(d, t0h) {\n        return numTo32b(d ^ bytesToNumber(t0h));\n    }\n    finalizeNonce(k0h) {\n        const k0 = mod(bytesToNumber(k0h), CURVE.n);\n        if (k0 === _0n)\n            throw new Error('sign: Creation of signature failed. k is zero');\n        const { point: R, x: rx, scalar: k } = this.getScalar(k0);\n        return { R, rx, k };\n    }\n    finalizeSig(R, k, e, d) {\n        return new SchnorrSignature(R.x, mod(k + e * d, CURVE.n)).toRawBytes();\n    }\n    error() {\n        throw new Error('sign: Invalid signature produced');\n    }\n    async calc() {\n        const { m, d, px, rand } = this;\n        const tag = utils.taggedHash;\n        const t = this.initNonce(d, await tag(TAGS.aux, rand));\n        const { R, rx, k } = this.finalizeNonce(await tag(TAGS.nonce, t, px, m));\n        const e = schnorrChallengeFinalize(await tag(TAGS.challenge, rx, px, m));\n        const sig = this.finalizeSig(R, k, e, d);\n        if (!(await schnorrVerify(sig, m, px)))\n            this.error();\n        return sig;\n    }\n    calcSync() {\n        const { m, d, px, rand } = this;\n        const tag = utils.taggedHashSync;\n        const t = this.initNonce(d, tag(TAGS.aux, rand));\n        const { R, rx, k } = this.finalizeNonce(tag(TAGS.nonce, t, px, m));\n        const e = schnorrChallengeFinalize(tag(TAGS.challenge, rx, px, m));\n        const sig = this.finalizeSig(R, k, e, d);\n        if (!schnorrVerifySync(sig, m, px))\n            this.error();\n        return sig;\n    }\n}\nasync function schnorrSign(msg, privKey, auxRand) {\n    return new InternalSchnorrSignature(msg, privKey, auxRand).calc();\n}\nfunction schnorrSignSync(msg, privKey, auxRand) {\n    return new InternalSchnorrSignature(msg, privKey, auxRand).calcSync();\n}\nfunction initSchnorrVerify(signature, message, publicKey) {\n    const raw = signature instanceof SchnorrSignature;\n    const sig = raw ? signature : SchnorrSignature.fromHex(signature);\n    if (raw)\n        sig.assertValidity();\n    return {\n        ...sig,\n        m: ensureBytes(message),\n        P: normalizePublicKey(publicKey),\n    };\n}\nfunction finalizeSchnorrVerify(r, P, s, e) {\n    const R = Point.BASE.multiplyAndAddUnsafe(P, normalizePrivateKey(s), mod(-e, CURVE.n));\n    if (!R || !R.hasEvenY() || R.x !== r)\n        return false;\n    return true;\n}\nasync function schnorrVerify(signature, message, publicKey) {\n    try {\n        const { r, s, m, P } = initSchnorrVerify(signature, message, publicKey);\n        const e = schnorrChallengeFinalize(await utils.taggedHash(TAGS.challenge, numTo32b(r), P.toRawX(), m));\n        return finalizeSchnorrVerify(r, P, s, e);\n    }\n    catch (error) {\n        return false;\n    }\n}\nfunction schnorrVerifySync(signature, message, publicKey) {\n    try {\n        const { r, s, m, P } = initSchnorrVerify(signature, message, publicKey);\n        const e = schnorrChallengeFinalize(utils.taggedHashSync(TAGS.challenge, numTo32b(r), P.toRawX(), m));\n        return finalizeSchnorrVerify(r, P, s, e);\n    }\n    catch (error) {\n        if (error instanceof ShaError)\n            throw error;\n        return false;\n    }\n}\nexport const schnorr = {\n    Signature: SchnorrSignature,\n    getPublicKey: schnorrGetPublicKey,\n    sign: schnorrSign,\n    verify: schnorrVerify,\n    signSync: schnorrSignSync,\n    verifySync: schnorrVerifySync,\n};\nPoint.BASE._setWindowSize(8);\nconst crypto = {\n    node: nodeCrypto,\n    web: typeof self === 'object' && 'crypto' in self ? self.crypto : undefined,\n};\nconst TAGS = {\n    challenge: 'BIP0340/challenge',\n    aux: 'BIP0340/aux',\n    nonce: 'BIP0340/nonce',\n};\nconst TAGGED_HASH_PREFIXES = {};\nexport const utils = {\n    bytesToHex,\n    hexToBytes,\n    concatBytes,\n    mod,\n    invert,\n    isValidPrivateKey(privateKey) {\n        try {\n            normalizePrivateKey(privateKey);\n            return true;\n        }\n        catch (error) {\n            return false;\n        }\n    },\n    _bigintTo32Bytes: numTo32b,\n    _normalizePrivateKey: normalizePrivateKey,\n    hashToPrivateKey: (hash) => {\n        hash = ensureBytes(hash);\n        const minLen = groupLen + 8;\n        if (hash.length < minLen || hash.length > 1024) {\n            throw new Error(`Expected valid bytes of private key as per FIPS 186`);\n        }\n        const num = mod(bytesToNumber(hash), CURVE.n - _1n) + _1n;\n        return numTo32b(num);\n    },\n    randomBytes: (bytesLength = 32) => {\n        if (crypto.web) {\n            return crypto.web.getRandomValues(new Uint8Array(bytesLength));\n        }\n        else if (crypto.node) {\n            const { randomBytes } = crypto.node;\n            return Uint8Array.from(randomBytes(bytesLength));\n        }\n        else {\n            throw new Error(\"The environment doesn't have randomBytes function\");\n        }\n    },\n    randomPrivateKey: () => utils.hashToPrivateKey(utils.randomBytes(groupLen + 8)),\n    precompute(windowSize = 8, point = Point.BASE) {\n        const cached = point === Point.BASE ? point : new Point(point.x, point.y);\n        cached._setWindowSize(windowSize);\n        cached.multiply(_3n);\n        return cached;\n    },\n    sha256: async (...messages) => {\n        if (crypto.web) {\n            const buffer = await crypto.web.subtle.digest('SHA-256', concatBytes(...messages));\n            return new Uint8Array(buffer);\n        }\n        else if (crypto.node) {\n            const { createHash } = crypto.node;\n            const hash = createHash('sha256');\n            messages.forEach((m) => hash.update(m));\n            return Uint8Array.from(hash.digest());\n        }\n        else {\n            throw new Error(\"The environment doesn't have sha256 function\");\n        }\n    },\n    hmacSha256: async (key, ...messages) => {\n        if (crypto.web) {\n            const ckey = await crypto.web.subtle.importKey('raw', key, { name: 'HMAC', hash: { name: 'SHA-256' } }, false, ['sign']);\n            const message = concatBytes(...messages);\n            const buffer = await crypto.web.subtle.sign('HMAC', ckey, message);\n            return new Uint8Array(buffer);\n        }\n        else if (crypto.node) {\n            const { createHmac } = crypto.node;\n            const hash = createHmac('sha256', key);\n            messages.forEach((m) => hash.update(m));\n            return Uint8Array.from(hash.digest());\n        }\n        else {\n            throw new Error(\"The environment doesn't have hmac-sha256 function\");\n        }\n    },\n    sha256Sync: undefined,\n    hmacSha256Sync: undefined,\n    taggedHash: async (tag, ...messages) => {\n        let tagP = TAGGED_HASH_PREFIXES[tag];\n        if (tagP === undefined) {\n            const tagH = await utils.sha256(Uint8Array.from(tag, (c) => c.charCodeAt(0)));\n            tagP = concatBytes(tagH, tagH);\n            TAGGED_HASH_PREFIXES[tag] = tagP;\n        }\n        return utils.sha256(tagP, ...messages);\n    },\n    taggedHashSync: (tag, ...messages) => {\n        if (typeof _sha256Sync !== 'function')\n            throw new ShaError('sha256Sync is undefined, you need to set it');\n        let tagP = TAGGED_HASH_PREFIXES[tag];\n        if (tagP === undefined) {\n            const tagH = _sha256Sync(Uint8Array.from(tag, (c) => c.charCodeAt(0)));\n            tagP = concatBytes(tagH, tagH);\n            TAGGED_HASH_PREFIXES[tag] = tagP;\n        }\n        return _sha256Sync(tagP, ...messages);\n    },\n    _JacobianPoint: JacobianPoint,\n};\nObject.defineProperties(utils, {\n    sha256Sync: {\n        configurable: false,\n        get() {\n            return _sha256Sync;\n        },\n        set(val) {\n            if (!_sha256Sync)\n                _sha256Sync = val;\n        },\n    },\n    hmacSha256Sync: {\n        configurable: false,\n        get() {\n            return _hmacSha256Sync;\n        },\n        set(val) {\n            if (!_hmacSha256Sync)\n                _hmacSha256Sync = val;\n        },\n    },\n});\n","function base(ALPHABET, name) {\n  if (ALPHABET.length >= 255) {\n    throw new TypeError('Alphabet too long');\n  }\n  var BASE_MAP = new Uint8Array(256);\n  for (var j = 0; j < BASE_MAP.length; j++) {\n    BASE_MAP[j] = 255;\n  }\n  for (var i = 0; i < ALPHABET.length; i++) {\n    var x = ALPHABET.charAt(i);\n    var xc = x.charCodeAt(0);\n    if (BASE_MAP[xc] !== 255) {\n      throw new TypeError(x + ' is ambiguous');\n    }\n    BASE_MAP[xc] = i;\n  }\n  var BASE = ALPHABET.length;\n  var LEADER = ALPHABET.charAt(0);\n  var FACTOR = Math.log(BASE) / Math.log(256);\n  var iFACTOR = Math.log(256) / Math.log(BASE);\n  function encode(source) {\n    if (source instanceof Uint8Array);\n    else if (ArrayBuffer.isView(source)) {\n      source = new Uint8Array(source.buffer, source.byteOffset, source.byteLength);\n    } else if (Array.isArray(source)) {\n      source = Uint8Array.from(source);\n    }\n    if (!(source instanceof Uint8Array)) {\n      throw new TypeError('Expected Uint8Array');\n    }\n    if (source.length === 0) {\n      return '';\n    }\n    var zeroes = 0;\n    var length = 0;\n    var pbegin = 0;\n    var pend = source.length;\n    while (pbegin !== pend && source[pbegin] === 0) {\n      pbegin++;\n      zeroes++;\n    }\n    var size = (pend - pbegin) * iFACTOR + 1 >>> 0;\n    var b58 = new Uint8Array(size);\n    while (pbegin !== pend) {\n      var carry = source[pbegin];\n      var i = 0;\n      for (var it1 = size - 1; (carry !== 0 || i < length) && it1 !== -1; it1--, i++) {\n        carry += 256 * b58[it1] >>> 0;\n        b58[it1] = carry % BASE >>> 0;\n        carry = carry / BASE >>> 0;\n      }\n      if (carry !== 0) {\n        throw new Error('Non-zero carry');\n      }\n      length = i;\n      pbegin++;\n    }\n    var it2 = size - length;\n    while (it2 !== size && b58[it2] === 0) {\n      it2++;\n    }\n    var str = LEADER.repeat(zeroes);\n    for (; it2 < size; ++it2) {\n      str += ALPHABET.charAt(b58[it2]);\n    }\n    return str;\n  }\n  function decodeUnsafe(source) {\n    if (typeof source !== 'string') {\n      throw new TypeError('Expected String');\n    }\n    if (source.length === 0) {\n      return new Uint8Array();\n    }\n    var psz = 0;\n    if (source[psz] === ' ') {\n      return;\n    }\n    var zeroes = 0;\n    var length = 0;\n    while (source[psz] === LEADER) {\n      zeroes++;\n      psz++;\n    }\n    var size = (source.length - psz) * FACTOR + 1 >>> 0;\n    var b256 = new Uint8Array(size);\n    while (source[psz]) {\n      var carry = BASE_MAP[source.charCodeAt(psz)];\n      if (carry === 255) {\n        return;\n      }\n      var i = 0;\n      for (var it3 = size - 1; (carry !== 0 || i < length) && it3 !== -1; it3--, i++) {\n        carry += BASE * b256[it3] >>> 0;\n        b256[it3] = carry % 256 >>> 0;\n        carry = carry / 256 >>> 0;\n      }\n      if (carry !== 0) {\n        throw new Error('Non-zero carry');\n      }\n      length = i;\n      psz++;\n    }\n    if (source[psz] === ' ') {\n      return;\n    }\n    var it4 = size - length;\n    while (it4 !== size && b256[it4] === 0) {\n      it4++;\n    }\n    var vch = new Uint8Array(zeroes + (size - it4));\n    var j = zeroes;\n    while (it4 !== size) {\n      vch[j++] = b256[it4++];\n    }\n    return vch;\n  }\n  function decode(string) {\n    var buffer = decodeUnsafe(string);\n    if (buffer) {\n      return buffer;\n    }\n    throw new Error(`Non-${ name } character`);\n  }\n  return {\n    encode: encode,\n    decodeUnsafe: decodeUnsafe,\n    decode: decode\n  };\n}\nvar src = base;\nvar _brrp__multiformats_scope_baseX = src;\nexport default _brrp__multiformats_scope_baseX;","import basex from '../../vendor/base-x.js';\nimport { coerce } from '../bytes.js';\nclass Encoder {\n  constructor(name, prefix, baseEncode) {\n    this.name = name;\n    this.prefix = prefix;\n    this.baseEncode = baseEncode;\n  }\n  encode(bytes) {\n    if (bytes instanceof Uint8Array) {\n      return `${ this.prefix }${ this.baseEncode(bytes) }`;\n    } else {\n      throw Error('Unknown type, must be binary type');\n    }\n  }\n}\nclass Decoder {\n  constructor(name, prefix, baseDecode) {\n    this.name = name;\n    this.prefix = prefix;\n    if (prefix.codePointAt(0) === undefined) {\n      throw new Error('Invalid prefix character');\n    }\n    this.prefixCodePoint = prefix.codePointAt(0);\n    this.baseDecode = baseDecode;\n  }\n  decode(text) {\n    if (typeof text === 'string') {\n      if (text.codePointAt(0) !== this.prefixCodePoint) {\n        throw Error(`Unable to decode multibase string ${ JSON.stringify(text) }, ${ this.name } decoder only supports inputs prefixed with ${ this.prefix }`);\n      }\n      return this.baseDecode(text.slice(this.prefix.length));\n    } else {\n      throw Error('Can only multibase decode strings');\n    }\n  }\n  or(decoder) {\n    return or(this, decoder);\n  }\n}\nclass ComposedDecoder {\n  constructor(decoders) {\n    this.decoders = decoders;\n  }\n  or(decoder) {\n    return or(this, decoder);\n  }\n  decode(input) {\n    const prefix = input[0];\n    const decoder = this.decoders[prefix];\n    if (decoder) {\n      return decoder.decode(input);\n    } else {\n      throw RangeError(`Unable to decode multibase string ${ JSON.stringify(input) }, only inputs prefixed with ${ Object.keys(this.decoders) } are supported`);\n    }\n  }\n}\nexport const or = (left, right) => new ComposedDecoder({\n  ...left.decoders || { [left.prefix]: left },\n  ...right.decoders || { [right.prefix]: right }\n});\nexport class Codec {\n  constructor(name, prefix, baseEncode, baseDecode) {\n    this.name = name;\n    this.prefix = prefix;\n    this.baseEncode = baseEncode;\n    this.baseDecode = baseDecode;\n    this.encoder = new Encoder(name, prefix, baseEncode);\n    this.decoder = new Decoder(name, prefix, baseDecode);\n  }\n  encode(input) {\n    return this.encoder.encode(input);\n  }\n  decode(input) {\n    return this.decoder.decode(input);\n  }\n}\nexport const from = ({name, prefix, encode, decode}) => new Codec(name, prefix, encode, decode);\nexport const baseX = ({prefix, name, alphabet}) => {\n  const {encode, decode} = basex(alphabet, name);\n  return from({\n    prefix,\n    name,\n    encode,\n    decode: text => coerce(decode(text))\n  });\n};\nconst decode = (string, alphabet, bitsPerChar, name) => {\n  const codes = {};\n  for (let i = 0; i < alphabet.length; ++i) {\n    codes[alphabet[i]] = i;\n  }\n  let end = string.length;\n  while (string[end - 1] === '=') {\n    --end;\n  }\n  const out = new Uint8Array(end * bitsPerChar / 8 | 0);\n  let bits = 0;\n  let buffer = 0;\n  let written = 0;\n  for (let i = 0; i < end; ++i) {\n    const value = codes[string[i]];\n    if (value === undefined) {\n      throw new SyntaxError(`Non-${ name } character`);\n    }\n    buffer = buffer << bitsPerChar | value;\n    bits += bitsPerChar;\n    if (bits >= 8) {\n      bits -= 8;\n      out[written++] = 255 & buffer >> bits;\n    }\n  }\n  if (bits >= bitsPerChar || 255 & buffer << 8 - bits) {\n    throw new SyntaxError('Unexpected end of data');\n  }\n  return out;\n};\nconst encode = (data, alphabet, bitsPerChar) => {\n  const pad = alphabet[alphabet.length - 1] === '=';\n  const mask = (1 << bitsPerChar) - 1;\n  let out = '';\n  let bits = 0;\n  let buffer = 0;\n  for (let i = 0; i < data.length; ++i) {\n    buffer = buffer << 8 | data[i];\n    bits += 8;\n    while (bits > bitsPerChar) {\n      bits -= bitsPerChar;\n      out += alphabet[mask & buffer >> bits];\n    }\n  }\n  if (bits) {\n    out += alphabet[mask & buffer << bitsPerChar - bits];\n  }\n  if (pad) {\n    while (out.length * bitsPerChar & 7) {\n      out += '=';\n    }\n  }\n  return out;\n};\nexport const rfc4648 = ({name, prefix, bitsPerChar, alphabet}) => {\n  return from({\n    prefix,\n    name,\n    encode(input) {\n      return encode(input, alphabet, bitsPerChar);\n    },\n    decode(input) {\n      return decode(input, alphabet, bitsPerChar, name);\n    }\n  });\n};","import { rfc4648 } from './base.js';\nexport const base32 = rfc4648({\n  prefix: 'b',\n  name: 'base32',\n  alphabet: 'abcdefghijklmnopqrstuvwxyz234567',\n  bitsPerChar: 5\n});\nexport const base32upper = rfc4648({\n  prefix: 'B',\n  name: 'base32upper',\n  alphabet: 'ABCDEFGHIJKLMNOPQRSTUVWXYZ234567',\n  bitsPerChar: 5\n});\nexport const base32pad = rfc4648({\n  prefix: 'c',\n  name: 'base32pad',\n  alphabet: 'abcdefghijklmnopqrstuvwxyz234567=',\n  bitsPerChar: 5\n});\nexport const base32padupper = rfc4648({\n  prefix: 'C',\n  name: 'base32padupper',\n  alphabet: 'ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=',\n  bitsPerChar: 5\n});\nexport const base32hex = rfc4648({\n  prefix: 'v',\n  name: 'base32hex',\n  alphabet: '0123456789abcdefghijklmnopqrstuv',\n  bitsPerChar: 5\n});\nexport const base32hexupper = rfc4648({\n  prefix: 'V',\n  name: 'base32hexupper',\n  alphabet: '0123456789ABCDEFGHIJKLMNOPQRSTUV',\n  bitsPerChar: 5\n});\nexport const base32hexpad = rfc4648({\n  prefix: 't',\n  name: 'base32hexpad',\n  alphabet: '0123456789abcdefghijklmnopqrstuv=',\n  bitsPerChar: 5\n});\nexport const base32hexpadupper = rfc4648({\n  prefix: 'T',\n  name: 'base32hexpadupper',\n  alphabet: '0123456789ABCDEFGHIJKLMNOPQRSTUV=',\n  bitsPerChar: 5\n});\nexport const base32z = rfc4648({\n  prefix: 'h',\n  name: 'base32z',\n  alphabet: 'ybndrfg8ejkmcpqxot1uwisza345h769',\n  bitsPerChar: 5\n});","import { baseX } from './base.js';\nexport const base58btc = baseX({\n  name: 'base58btc',\n  prefix: 'z',\n  alphabet: '123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz'\n});\nexport const base58flickr = baseX({\n  name: 'base58flickr',\n  prefix: 'Z',\n  alphabet: '123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ'\n});","import { from } from './base.js';\nimport {\n  fromString,\n  toString\n} from '../bytes.js';\nexport const identity = from({\n  prefix: '\\0',\n  name: 'identity',\n  encode: buf => toString(buf),\n  decode: str => fromString(str)\n});","import { rfc4648 } from './base.js';\nexport const base2 = rfc4648({\n  prefix: '0',\n  name: 'base2',\n  alphabet: '01',\n  bitsPerChar: 1\n});","import { rfc4648 } from './base.js';\nexport const base8 = rfc4648({\n  prefix: '7',\n  name: 'base8',\n  alphabet: '01234567',\n  bitsPerChar: 3\n});","import { baseX } from './base.js';\nexport const base10 = baseX({\n  prefix: '9',\n  name: 'base10',\n  alphabet: '0123456789'\n});","import { rfc4648 } from './base.js';\nexport const base16 = rfc4648({\n  prefix: 'f',\n  name: 'base16',\n  alphabet: '0123456789abcdef',\n  bitsPerChar: 4\n});\nexport const base16upper = rfc4648({\n  prefix: 'F',\n  name: 'base16upper',\n  alphabet: '0123456789ABCDEF',\n  bitsPerChar: 4\n});","import { baseX } from './base.js';\nexport const base36 = baseX({\n  prefix: 'k',\n  name: 'base36',\n  alphabet: '0123456789abcdefghijklmnopqrstuvwxyz'\n});\nexport const base36upper = baseX({\n  prefix: 'K',\n  name: 'base36upper',\n  alphabet: '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ'\n});","import { rfc4648 } from './base.js';\nexport const base64 = rfc4648({\n  prefix: 'm',\n  name: 'base64',\n  alphabet: 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/',\n  bitsPerChar: 6\n});\nexport const base64pad = rfc4648({\n  prefix: 'M',\n  name: 'base64pad',\n  alphabet: 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=',\n  bitsPerChar: 6\n});\nexport const base64url = rfc4648({\n  prefix: 'u',\n  name: 'base64url',\n  alphabet: 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_',\n  bitsPerChar: 6\n});\nexport const base64urlpad = rfc4648({\n  prefix: 'U',\n  name: 'base64urlpad',\n  alphabet: 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=',\n  bitsPerChar: 6\n});","import { from } from './base.js';\nconst alphabet = Array.from('\\uD83D\\uDE80\\uD83E\\uDE90\\u2604\\uD83D\\uDEF0\\uD83C\\uDF0C\\uD83C\\uDF11\\uD83C\\uDF12\\uD83C\\uDF13\\uD83C\\uDF14\\uD83C\\uDF15\\uD83C\\uDF16\\uD83C\\uDF17\\uD83C\\uDF18\\uD83C\\uDF0D\\uD83C\\uDF0F\\uD83C\\uDF0E\\uD83D\\uDC09\\u2600\\uD83D\\uDCBB\\uD83D\\uDDA5\\uD83D\\uDCBE\\uD83D\\uDCBF\\uD83D\\uDE02\\u2764\\uD83D\\uDE0D\\uD83E\\uDD23\\uD83D\\uDE0A\\uD83D\\uDE4F\\uD83D\\uDC95\\uD83D\\uDE2D\\uD83D\\uDE18\\uD83D\\uDC4D\\uD83D\\uDE05\\uD83D\\uDC4F\\uD83D\\uDE01\\uD83D\\uDD25\\uD83E\\uDD70\\uD83D\\uDC94\\uD83D\\uDC96\\uD83D\\uDC99\\uD83D\\uDE22\\uD83E\\uDD14\\uD83D\\uDE06\\uD83D\\uDE44\\uD83D\\uDCAA\\uD83D\\uDE09\\u263A\\uD83D\\uDC4C\\uD83E\\uDD17\\uD83D\\uDC9C\\uD83D\\uDE14\\uD83D\\uDE0E\\uD83D\\uDE07\\uD83C\\uDF39\\uD83E\\uDD26\\uD83C\\uDF89\\uD83D\\uDC9E\\u270C\\u2728\\uD83E\\uDD37\\uD83D\\uDE31\\uD83D\\uDE0C\\uD83C\\uDF38\\uD83D\\uDE4C\\uD83D\\uDE0B\\uD83D\\uDC97\\uD83D\\uDC9A\\uD83D\\uDE0F\\uD83D\\uDC9B\\uD83D\\uDE42\\uD83D\\uDC93\\uD83E\\uDD29\\uD83D\\uDE04\\uD83D\\uDE00\\uD83D\\uDDA4\\uD83D\\uDE03\\uD83D\\uDCAF\\uD83D\\uDE48\\uD83D\\uDC47\\uD83C\\uDFB6\\uD83D\\uDE12\\uD83E\\uDD2D\\u2763\\uD83D\\uDE1C\\uD83D\\uDC8B\\uD83D\\uDC40\\uD83D\\uDE2A\\uD83D\\uDE11\\uD83D\\uDCA5\\uD83D\\uDE4B\\uD83D\\uDE1E\\uD83D\\uDE29\\uD83D\\uDE21\\uD83E\\uDD2A\\uD83D\\uDC4A\\uD83E\\uDD73\\uD83D\\uDE25\\uD83E\\uDD24\\uD83D\\uDC49\\uD83D\\uDC83\\uD83D\\uDE33\\u270B\\uD83D\\uDE1A\\uD83D\\uDE1D\\uD83D\\uDE34\\uD83C\\uDF1F\\uD83D\\uDE2C\\uD83D\\uDE43\\uD83C\\uDF40\\uD83C\\uDF37\\uD83D\\uDE3B\\uD83D\\uDE13\\u2B50\\u2705\\uD83E\\uDD7A\\uD83C\\uDF08\\uD83D\\uDE08\\uD83E\\uDD18\\uD83D\\uDCA6\\u2714\\uD83D\\uDE23\\uD83C\\uDFC3\\uD83D\\uDC90\\u2639\\uD83C\\uDF8A\\uD83D\\uDC98\\uD83D\\uDE20\\u261D\\uD83D\\uDE15\\uD83C\\uDF3A\\uD83C\\uDF82\\uD83C\\uDF3B\\uD83D\\uDE10\\uD83D\\uDD95\\uD83D\\uDC9D\\uD83D\\uDE4A\\uD83D\\uDE39\\uD83D\\uDDE3\\uD83D\\uDCAB\\uD83D\\uDC80\\uD83D\\uDC51\\uD83C\\uDFB5\\uD83E\\uDD1E\\uD83D\\uDE1B\\uD83D\\uDD34\\uD83D\\uDE24\\uD83C\\uDF3C\\uD83D\\uDE2B\\u26BD\\uD83E\\uDD19\\u2615\\uD83C\\uDFC6\\uD83E\\uDD2B\\uD83D\\uDC48\\uD83D\\uDE2E\\uD83D\\uDE46\\uD83C\\uDF7B\\uD83C\\uDF43\\uD83D\\uDC36\\uD83D\\uDC81\\uD83D\\uDE32\\uD83C\\uDF3F\\uD83E\\uDDE1\\uD83C\\uDF81\\u26A1\\uD83C\\uDF1E\\uD83C\\uDF88\\u274C\\u270A\\uD83D\\uDC4B\\uD83D\\uDE30\\uD83E\\uDD28\\uD83D\\uDE36\\uD83E\\uDD1D\\uD83D\\uDEB6\\uD83D\\uDCB0\\uD83C\\uDF53\\uD83D\\uDCA2\\uD83E\\uDD1F\\uD83D\\uDE41\\uD83D\\uDEA8\\uD83D\\uDCA8\\uD83E\\uDD2C\\u2708\\uD83C\\uDF80\\uD83C\\uDF7A\\uD83E\\uDD13\\uD83D\\uDE19\\uD83D\\uDC9F\\uD83C\\uDF31\\uD83D\\uDE16\\uD83D\\uDC76\\uD83E\\uDD74\\u25B6\\u27A1\\u2753\\uD83D\\uDC8E\\uD83D\\uDCB8\\u2B07\\uD83D\\uDE28\\uD83C\\uDF1A\\uD83E\\uDD8B\\uD83D\\uDE37\\uD83D\\uDD7A\\u26A0\\uD83D\\uDE45\\uD83D\\uDE1F\\uD83D\\uDE35\\uD83D\\uDC4E\\uD83E\\uDD32\\uD83E\\uDD20\\uD83E\\uDD27\\uD83D\\uDCCC\\uD83D\\uDD35\\uD83D\\uDC85\\uD83E\\uDDD0\\uD83D\\uDC3E\\uD83C\\uDF52\\uD83D\\uDE17\\uD83E\\uDD11\\uD83C\\uDF0A\\uD83E\\uDD2F\\uD83D\\uDC37\\u260E\\uD83D\\uDCA7\\uD83D\\uDE2F\\uD83D\\uDC86\\uD83D\\uDC46\\uD83C\\uDFA4\\uD83D\\uDE47\\uD83C\\uDF51\\u2744\\uD83C\\uDF34\\uD83D\\uDCA3\\uD83D\\uDC38\\uD83D\\uDC8C\\uD83D\\uDCCD\\uD83E\\uDD40\\uD83E\\uDD22\\uD83D\\uDC45\\uD83D\\uDCA1\\uD83D\\uDCA9\\uD83D\\uDC50\\uD83D\\uDCF8\\uD83D\\uDC7B\\uD83E\\uDD10\\uD83E\\uDD2E\\uD83C\\uDFBC\\uD83E\\uDD75\\uD83D\\uDEA9\\uD83C\\uDF4E\\uD83C\\uDF4A\\uD83D\\uDC7C\\uD83D\\uDC8D\\uD83D\\uDCE3\\uD83E\\uDD42');\nconst alphabetBytesToChars = alphabet.reduce((p, c, i) => {\n  p[i] = c;\n  return p;\n}, []);\nconst alphabetCharsToBytes = alphabet.reduce((p, c, i) => {\n  p[c.codePointAt(0)] = i;\n  return p;\n}, []);\nfunction encode(data) {\n  return data.reduce((p, c) => {\n    p += alphabetBytesToChars[c];\n    return p;\n  }, '');\n}\nfunction decode(str) {\n  const byts = [];\n  for (const char of str) {\n    const byt = alphabetCharsToBytes[char.codePointAt(0)];\n    if (byt === undefined) {\n      throw new Error(`Non-base256emoji character: ${ char }`);\n    }\n    byts.push(byt);\n  }\n  return new Uint8Array(byts);\n}\nexport const base256emoji = from({\n  prefix: '\\uD83D\\uDE80',\n  name: 'base256emoji',\n  encode,\n  decode\n});","import * as Digest from './digest.js';\nexport const from = ({name, code, encode}) => new Hasher(name, code, encode);\nexport class Hasher {\n  constructor(name, code, encode) {\n    this.name = name;\n    this.code = code;\n    this.encode = encode;\n  }\n  digest(input) {\n    if (input instanceof Uint8Array) {\n      const result = this.encode(input);\n      return result instanceof Uint8Array ? Digest.create(this.code, result) : result.then(digest => Digest.create(this.code, digest));\n    } else {\n      throw Error('Unknown type, must be binary type');\n    }\n  }\n}","import { from } from './hasher.js';\nconst sha = name => async data => new Uint8Array(await crypto.subtle.digest(name, data));\nexport const sha256 = from({\n  name: 'sha2-256',\n  code: 18,\n  encode: sha('SHA-256')\n});\nexport const sha512 = from({\n  name: 'sha2-512',\n  code: 19,\n  encode: sha('SHA-512')\n});","import { coerce } from '../bytes.js';\nimport * as Digest from './digest.js';\nconst code = 0;\nconst name = 'identity';\nconst encode = coerce;\nconst digest = input => Digest.create(code, encode(input));\nexport const identity = {\n  code,\n  name,\n  encode,\n  digest\n};","import { coerce } from '../bytes.js';\nexport const name = 'raw';\nexport const code = 85;\nexport const encode = node => coerce(node);\nexport const decode = data => coerce(data);","const textEncoder = new TextEncoder();\nconst textDecoder = new TextDecoder();\nexport const name = 'json';\nexport const code = 512;\nexport const encode = node => textEncoder.encode(JSON.stringify(node));\nexport const decode = data => JSON.parse(textDecoder.decode(data));","import * as identityBase from './bases/identity.js';\nimport * as base2 from './bases/base2.js';\nimport * as base8 from './bases/base8.js';\nimport * as base10 from './bases/base10.js';\nimport * as base16 from './bases/base16.js';\nimport * as base32 from './bases/base32.js';\nimport * as base36 from './bases/base36.js';\nimport * as base58 from './bases/base58.js';\nimport * as base64 from './bases/base64.js';\nimport * as base256emoji from './bases/base256emoji.js';\nimport * as sha2 from './hashes/sha2.js';\nimport * as identity from './hashes/identity.js';\nimport * as raw from './codecs/raw.js';\nimport * as json from './codecs/json.js';\nimport {\n  CID,\n  hasher,\n  digest,\n  varint,\n  bytes\n} from './index.js';\nconst bases = {\n  ...identityBase,\n  ...base2,\n  ...base8,\n  ...base10,\n  ...base16,\n  ...base32,\n  ...base36,\n  ...base58,\n  ...base64,\n  ...base256emoji\n};\nconst hashes = {\n  ...sha2,\n  ...identity\n};\nconst codecs = {\n  raw,\n  json\n};\nexport {\n  CID,\n  hasher,\n  digest,\n  varint,\n  bytes,\n  hashes,\n  bases,\n  codecs\n};","const empty = new Uint8Array(0);\nconst toHex = d => d.reduce((hex, byte) => hex + byte.toString(16).padStart(2, '0'), '');\nconst fromHex = hex => {\n  const hexes = hex.match(/../g);\n  return hexes ? new Uint8Array(hexes.map(b => parseInt(b, 16))) : empty;\n};\nconst equals = (aa, bb) => {\n  if (aa === bb)\n    return true;\n  if (aa.byteLength !== bb.byteLength) {\n    return false;\n  }\n  for (let ii = 0; ii < aa.byteLength; ii++) {\n    if (aa[ii] !== bb[ii]) {\n      return false;\n    }\n  }\n  return true;\n};\nconst coerce = o => {\n  if (o instanceof Uint8Array && o.constructor.name === 'Uint8Array')\n    return o;\n  if (o instanceof ArrayBuffer)\n    return new Uint8Array(o);\n  if (ArrayBuffer.isView(o)) {\n    return new Uint8Array(o.buffer, o.byteOffset, o.byteLength);\n  }\n  throw new Error('Unknown type, must be binary type');\n};\nconst isBinary = o => o instanceof ArrayBuffer || ArrayBuffer.isView(o);\nconst fromString = str => new TextEncoder().encode(str);\nconst toString = b => new TextDecoder().decode(b);\nexport {\n  equals,\n  coerce,\n  isBinary,\n  fromHex,\n  toHex,\n  fromString,\n  toString,\n  empty\n};","import * as varint from './varint.js';\nimport * as Digest from './hashes/digest.js';\nimport { base58btc } from './bases/base58.js';\nimport { base32 } from './bases/base32.js';\nimport { coerce } from './bytes.js';\nexport class CID {\n  constructor(version, code, multihash, bytes) {\n    this.code = code;\n    this.version = version;\n    this.multihash = multihash;\n    this.bytes = bytes;\n    this.byteOffset = bytes.byteOffset;\n    this.byteLength = bytes.byteLength;\n    this.asCID = this;\n    this._baseCache = new Map();\n    Object.defineProperties(this, {\n      byteOffset: hidden,\n      byteLength: hidden,\n      code: readonly,\n      version: readonly,\n      multihash: readonly,\n      bytes: readonly,\n      _baseCache: hidden,\n      asCID: hidden\n    });\n  }\n  toV0() {\n    switch (this.version) {\n    case 0: {\n        return this;\n      }\n    default: {\n        const {code, multihash} = this;\n        if (code !== DAG_PB_CODE) {\n          throw new Error('Cannot convert a non dag-pb CID to CIDv0');\n        }\n        if (multihash.code !== SHA_256_CODE) {\n          throw new Error('Cannot convert non sha2-256 multihash CID to CIDv0');\n        }\n        return CID.createV0(multihash);\n      }\n    }\n  }\n  toV1() {\n    switch (this.version) {\n    case 0: {\n        const {code, digest} = this.multihash;\n        const multihash = Digest.create(code, digest);\n        return CID.createV1(this.code, multihash);\n      }\n    case 1: {\n        return this;\n      }\n    default: {\n        throw Error(`Can not convert CID version ${ this.version } to version 0. This is a bug please report`);\n      }\n    }\n  }\n  equals(other) {\n    return other && this.code === other.code && this.version === other.version && Digest.equals(this.multihash, other.multihash);\n  }\n  toString(base) {\n    const {bytes, version, _baseCache} = this;\n    switch (version) {\n    case 0:\n      return toStringV0(bytes, _baseCache, base || base58btc.encoder);\n    default:\n      return toStringV1(bytes, _baseCache, base || base32.encoder);\n    }\n  }\n  toJSON() {\n    return {\n      code: this.code,\n      version: this.version,\n      hash: this.multihash.bytes\n    };\n  }\n  get [Symbol.toStringTag]() {\n    return 'CID';\n  }\n  [Symbol.for('nodejs.util.inspect.custom')]() {\n    return 'CID(' + this.toString() + ')';\n  }\n  static isCID(value) {\n    deprecate(/^0\\.0/, IS_CID_DEPRECATION);\n    return !!(value && (value[cidSymbol] || value.asCID === value));\n  }\n  get toBaseEncodedString() {\n    throw new Error('Deprecated, use .toString()');\n  }\n  get codec() {\n    throw new Error('\"codec\" property is deprecated, use integer \"code\" property instead');\n  }\n  get buffer() {\n    throw new Error('Deprecated .buffer property, use .bytes to get Uint8Array instead');\n  }\n  get multibaseName() {\n    throw new Error('\"multibaseName\" property is deprecated');\n  }\n  get prefix() {\n    throw new Error('\"prefix\" property is deprecated');\n  }\n  static asCID(value) {\n    if (value instanceof CID) {\n      return value;\n    } else if (value != null && value.asCID === value) {\n      const {version, code, multihash, bytes} = value;\n      return new CID(version, code, multihash, bytes || encodeCID(version, code, multihash.bytes));\n    } else if (value != null && value[cidSymbol] === true) {\n      const {version, multihash, code} = value;\n      const digest = Digest.decode(multihash);\n      return CID.create(version, code, digest);\n    } else {\n      return null;\n    }\n  }\n  static create(version, code, digest) {\n    if (typeof code !== 'number') {\n      throw new Error('String codecs are no longer supported');\n    }\n    switch (version) {\n    case 0: {\n        if (code !== DAG_PB_CODE) {\n          throw new Error(`Version 0 CID must use dag-pb (code: ${ DAG_PB_CODE }) block encoding`);\n        } else {\n          return new CID(version, code, digest, digest.bytes);\n        }\n      }\n    case 1: {\n        const bytes = encodeCID(version, code, digest.bytes);\n        return new CID(version, code, digest, bytes);\n      }\n    default: {\n        throw new Error('Invalid version');\n      }\n    }\n  }\n  static createV0(digest) {\n    return CID.create(0, DAG_PB_CODE, digest);\n  }\n  static createV1(code, digest) {\n    return CID.create(1, code, digest);\n  }\n  static decode(bytes) {\n    const [cid, remainder] = CID.decodeFirst(bytes);\n    if (remainder.length) {\n      throw new Error('Incorrect length');\n    }\n    return cid;\n  }\n  static decodeFirst(bytes) {\n    const specs = CID.inspectBytes(bytes);\n    const prefixSize = specs.size - specs.multihashSize;\n    const multihashBytes = coerce(bytes.subarray(prefixSize, prefixSize + specs.multihashSize));\n    if (multihashBytes.byteLength !== specs.multihashSize) {\n      throw new Error('Incorrect length');\n    }\n    const digestBytes = multihashBytes.subarray(specs.multihashSize - specs.digestSize);\n    const digest = new Digest.Digest(specs.multihashCode, specs.digestSize, digestBytes, multihashBytes);\n    const cid = specs.version === 0 ? CID.createV0(digest) : CID.createV1(specs.codec, digest);\n    return [\n      cid,\n      bytes.subarray(specs.size)\n    ];\n  }\n  static inspectBytes(initialBytes) {\n    let offset = 0;\n    const next = () => {\n      const [i, length] = varint.decode(initialBytes.subarray(offset));\n      offset += length;\n      return i;\n    };\n    let version = next();\n    let codec = DAG_PB_CODE;\n    if (version === 18) {\n      version = 0;\n      offset = 0;\n    } else if (version === 1) {\n      codec = next();\n    }\n    if (version !== 0 && version !== 1) {\n      throw new RangeError(`Invalid CID version ${ version }`);\n    }\n    const prefixSize = offset;\n    const multihashCode = next();\n    const digestSize = next();\n    const size = offset + digestSize;\n    const multihashSize = size - prefixSize;\n    return {\n      version,\n      codec,\n      multihashCode,\n      digestSize,\n      multihashSize,\n      size\n    };\n  }\n  static parse(source, base) {\n    const [prefix, bytes] = parseCIDtoBytes(source, base);\n    const cid = CID.decode(bytes);\n    cid._baseCache.set(prefix, source);\n    return cid;\n  }\n}\nconst parseCIDtoBytes = (source, base) => {\n  switch (source[0]) {\n  case 'Q': {\n      const decoder = base || base58btc;\n      return [\n        base58btc.prefix,\n        decoder.decode(`${ base58btc.prefix }${ source }`)\n      ];\n    }\n  case base58btc.prefix: {\n      const decoder = base || base58btc;\n      return [\n        base58btc.prefix,\n        decoder.decode(source)\n      ];\n    }\n  case base32.prefix: {\n      const decoder = base || base32;\n      return [\n        base32.prefix,\n        decoder.decode(source)\n      ];\n    }\n  default: {\n      if (base == null) {\n        throw Error('To parse non base32 or base58btc encoded CID multibase decoder must be provided');\n      }\n      return [\n        source[0],\n        base.decode(source)\n      ];\n    }\n  }\n};\nconst toStringV0 = (bytes, cache, base) => {\n  const {prefix} = base;\n  if (prefix !== base58btc.prefix) {\n    throw Error(`Cannot string encode V0 in ${ base.name } encoding`);\n  }\n  const cid = cache.get(prefix);\n  if (cid == null) {\n    const cid = base.encode(bytes).slice(1);\n    cache.set(prefix, cid);\n    return cid;\n  } else {\n    return cid;\n  }\n};\nconst toStringV1 = (bytes, cache, base) => {\n  const {prefix} = base;\n  const cid = cache.get(prefix);\n  if (cid == null) {\n    const cid = base.encode(bytes);\n    cache.set(prefix, cid);\n    return cid;\n  } else {\n    return cid;\n  }\n};\nconst DAG_PB_CODE = 112;\nconst SHA_256_CODE = 18;\nconst encodeCID = (version, code, multihash) => {\n  const codeOffset = varint.encodingLength(version);\n  const hashOffset = codeOffset + varint.encodingLength(code);\n  const bytes = new Uint8Array(hashOffset + multihash.byteLength);\n  varint.encodeTo(version, bytes, 0);\n  varint.encodeTo(code, bytes, codeOffset);\n  bytes.set(multihash, hashOffset);\n  return bytes;\n};\nconst cidSymbol = Symbol.for('@ipld/js-cid/CID');\nconst readonly = {\n  writable: false,\n  configurable: false,\n  enumerable: true\n};\nconst hidden = {\n  writable: false,\n  enumerable: false,\n  configurable: false\n};\nconst version = '0.0.0-dev';\nconst deprecate = (range, message) => {\n  if (range.test(version)) {\n    console.warn(message);\n  } else {\n    throw new Error(message);\n  }\n};\nconst IS_CID_DEPRECATION = `CID.isCID(v) is deprecated and will be removed in the next major release.\nFollowing code pattern:\n\nif (CID.isCID(value)) {\n  doSomethingWithCID(value)\n}\n\nIs replaced with:\n\nconst cid = CID.asCID(value)\nif (cid) {\n  // Make sure to use cid instead of value\n  doSomethingWithCID(cid)\n}\n`;","import {\n  coerce,\n  equals as equalBytes\n} from '../bytes.js';\nimport * as varint from '../varint.js';\nexport const create = (code, digest) => {\n  const size = digest.byteLength;\n  const sizeOffset = varint.encodingLength(code);\n  const digestOffset = sizeOffset + varint.encodingLength(size);\n  const bytes = new Uint8Array(digestOffset + size);\n  varint.encodeTo(code, bytes, 0);\n  varint.encodeTo(size, bytes, sizeOffset);\n  bytes.set(digest, digestOffset);\n  return new Digest(code, size, digest, bytes);\n};\nexport const decode = multihash => {\n  const bytes = coerce(multihash);\n  const [code, sizeOffset] = varint.decode(bytes);\n  const [size, digestOffset] = varint.decode(bytes.subarray(sizeOffset));\n  const digest = bytes.subarray(sizeOffset + digestOffset);\n  if (digest.byteLength !== size) {\n    throw new Error('Incorrect length');\n  }\n  return new Digest(code, size, digest, bytes);\n};\nexport const equals = (a, b) => {\n  if (a === b) {\n    return true;\n  } else {\n    return a.code === b.code && a.size === b.size && equalBytes(a.bytes, b.bytes);\n  }\n};\nexport class Digest {\n  constructor(code, size, digest, bytes) {\n    this.code = code;\n    this.size = size;\n    this.digest = digest;\n    this.bytes = bytes;\n  }\n}","var encode_1 = encode;\nvar MSB = 128, REST = 127, MSBALL = ~REST, INT = Math.pow(2, 31);\nfunction encode(num, out, offset) {\n  out = out || [];\n  offset = offset || 0;\n  var oldOffset = offset;\n  while (num >= INT) {\n    out[offset++] = num & 255 | MSB;\n    num /= 128;\n  }\n  while (num & MSBALL) {\n    out[offset++] = num & 255 | MSB;\n    num >>>= 7;\n  }\n  out[offset] = num | 0;\n  encode.bytes = offset - oldOffset + 1;\n  return out;\n}\nvar decode = read;\nvar MSB$1 = 128, REST$1 = 127;\nfunction read(buf, offset) {\n  var res = 0, offset = offset || 0, shift = 0, counter = offset, b, l = buf.length;\n  do {\n    if (counter >= l) {\n      read.bytes = 0;\n      throw new RangeError('Could not decode varint');\n    }\n    b = buf[counter++];\n    res += shift < 28 ? (b & REST$1) << shift : (b & REST$1) * Math.pow(2, shift);\n    shift += 7;\n  } while (b >= MSB$1);\n  read.bytes = counter - offset;\n  return res;\n}\nvar N1 = Math.pow(2, 7);\nvar N2 = Math.pow(2, 14);\nvar N3 = Math.pow(2, 21);\nvar N4 = Math.pow(2, 28);\nvar N5 = Math.pow(2, 35);\nvar N6 = Math.pow(2, 42);\nvar N7 = Math.pow(2, 49);\nvar N8 = Math.pow(2, 56);\nvar N9 = Math.pow(2, 63);\nvar length = function (value) {\n  return value < N1 ? 1 : value < N2 ? 2 : value < N3 ? 3 : value < N4 ? 4 : value < N5 ? 5 : value < N6 ? 6 : value < N7 ? 7 : value < N8 ? 8 : value < N9 ? 9 : 10;\n};\nvar varint = {\n  encode: encode_1,\n  decode: decode,\n  encodingLength: length\n};\nvar _brrp_varint = varint;\nexport default _brrp_varint;","import varint from '../vendor/varint.js';\nexport const decode = (data, offset = 0) => {\n  const code = varint.decode(data, offset);\n  return [\n    code,\n    varint.decode.bytes\n  ];\n};\nexport const encodeTo = (int, target, offset = 0) => {\n  varint.encode(int, target, offset);\n  return target;\n};\nexport const encodingLength = int => {\n  return varint.encodingLength(int);\n};","let urlAlphabet =\n  'useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict'\nlet customAlphabet = (alphabet, defaultSize = 21) => {\n  return (size = defaultSize) => {\n    let id = ''\n    let i = size\n    while (i--) {\n      id += alphabet[(Math.random() * alphabet.length) | 0]\n    }\n    return id\n  }\n}\nlet nanoid = (size = 21) => {\n  let id = ''\n  let i = size\n  while (i--) {\n    id += urlAlphabet[(Math.random() * 64) | 0]\n  }\n  return id\n}\nexport { nanoid, customAlphabet }\n"],"names":["__awaiter","this","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","e","rejected","result","done","adopt","then","apply","__importDefault","mod","__esModule","Object","defineProperty","exports","Account","crypto_1","providers_1","transactions_1","types_1","utils_1","bn_js_1","borsh_1","addKey","createAccount","deleteAccount","deleteKey","deployContract","fullAccessKey","functionCall","functionCallAccessKey","stake","transfer","actionCreators","parseJsonFromRawResponse","response","JSON","parse","Buffer","from","toString","bytesJsonStringify","input","stringify","constructor","connection","accountId","accessKeyByPublicKeyCache","state","provider","query","request_type","account_id","finality","signTransaction","receiverId","actions","accessKeyInfo","findAccessKey","TypedError","networkId","accessKey","blockHash","block","header","hash","nonce","add","default","baseDecode","signer","signAndSendTransaction","returnError","txHash","signedTx","exponentialBackoff","publicKey","transaction","sendTransaction","error","type","logWarning","baseEncode","context","ErrorContext","printTxOutcomeLogsAndFailures","contractId","outcome","status","Failure","error_message","error_type","transaction_outcome","id","parseResultError","getPublicKey","cachedAccessKey","undefined","rawAccessKey","public_key","assign","createAndDeployContract","data","amount","PublicKey","sendMoney","newAccountId","beneficiaryId","console","log","encodeJSContractArgs","method","args","concat","methodName","gas","DEFAULT_FUNCTION_CALL_GAS","attachedDeposit","walletMeta","walletCallbackUrl","jsContract","functionCallArgs","validateArgs","stringifyArg","stringifyJsonOrBytes","jsvmAccountId","methodNames","Array","isArray","signedDelegate","blockHeightTtl","delegateAction","buildDelegateAction","maxBlockHeight","height","senderId","signedDelegateAction","signDelegateAction","sign","message","signature","signMessage","byteLength","length","PositionalArgsError","viewFunction","blockQuery","encodedArgs","keys","method_name","args_base64","logs","printTxOutcomeLogs","viewState","prefix","values","prefix_base64","map","key","getAccessKeys","_a","access_key","getAccountDetails","authorizedApps","filter","item","permission","perm","FunctionCall","receiver_id","allowance","getAccountBalance","protocolConfig","experimental_protocolConfig","costPerByte","runtime_config","storage_amount_per_byte","stateStaked","storage_usage","mul","staked","locked","totalBalance","availableBalance","sub","max","total","available","getActiveDelegatedStakeBalance","epochId","epoch_id","current_validators","next_validators","current_proposals","validators","pools","Set","forEach","validator","uniquePools","promises","blockId","results","allSettled","some","reason","Error","summary","reduce","index","validatorId","currentBN","isZero","stakedValidators","failedValidators","Account2FA","account_multisig_1","constants_1","types_2","AccountMultisig","options","super","helperUrl","storage","sendCode","sendCodeDefault","getCode","getCodeDefault","verifyCode","verifyCodeDefault","onConfirmResult","_super","create","get","call","promptAndVerify","deployMultisig","contractBytes","signAndSendTransactionWithAccount","seedOrLedgerKey","getRecoveryMethods","kind","rm","fak2lak","includes","ak","toPK","confirmOnlyKey","postSignedJson","newArgs","pk","MULTISIG_CHANGE_METHODS","MULTISIG_CONFIRM_METHODS","newFunctionCallActionBatch","MULTISIG_GAS","MULTISIG_DEPOSIT","stateStatus","multisigStateStatus","checkMultisigCodeAndStateStatus","MultisigStateStatus","STATE_NOT_INITIALIZED","VALID_STATE","INVALID_STATE","disableWithFAK","cleanupContractBytes","cleanupActions","deleteAllRequests","catch","get2faDisableCleanupActions","keyConversionActions","get2faDisableKeyConversionActions","currentAccountState","cause","name","currentAccountStateKeys","lak2fak","method_names","disable","deleteAllRequestsError","requestId","getRequest","get2faMethod","securityCode","warn","request","find","m","indexOf","detail","signatureFor","blockNumber","signed","blockNumberSignature","path","body","fetchJson","UrlAccountCreator","LocalAccountCreator","AccountCreator","masterAccount","initialBalance","newAccountPublicKey","account_1","MultisigCodeStatus","storageFallback","MULTISIG_STORAGE_KEY","onAddRequestResult","convertActions","deleteUnconfirmedRequests","SuccessValue","setRequest","parseInt","u32_max","validCodeStatusIfNoDeploy","UNKNOWN_CODE","VALID_CODE","request_id","deleteRequest","codeStatus","RegExp","MultisigDeleteRequestRejectionError","CANNOT_DESERIALIZE_STATE","test","ExecutionError","MULTISIG_NOT_INITIALIZED","NO_SUCH_REQUEST","METHOD_NOT_FOUND","INVALID_CODE","UNKNOWN_STATE","request_ids","getRequestIds","all","requestIdToDelete","getItem","setItem","a","enum","deposit","code","action","toUpperCase","substr","replace","MULTISIG_ALLOWANCE","Connection","signers_1","fromConfig","config","getProvider","JsonRpcProvider","getSigner","InMemorySigner","keyStore","parseNearAmount","Contract","ajv_1","ajv_formats_1","depd_1","near_abi_1","errors_1","nameFunction","validateArguments","abiFunction","ajv","abiRoot","isObject","params","serialization_type","AbiSerializationType","Json","UnsupportedSerializationError","p","arg","typeSchema","type_schema","definitions","root_schema","validate","compile","ArgumentSchemaError","errors","argName","UnknownArgumentError","isUint8Array","x","prototype","account","viewMethods","changeMethods","abi","viewMethodsWithAbi","changeMethodsWithAbi","ConflictingOptions","functions","AbiFunctionKind","View","methodAbi","Call","createAjv","strictSchema","formats","uint32","uint64","writable","enumerable","ignored","deprecate","_changeMethod","meta","callbackUrl","validateBNLike","argMap","bnLike","argValue","isBN","isNaN","ArgumentTypeError","rawResult","getTransactionLastResult","serializationType","actualArgName","expectedArgNames","account_2fa_1","account_creator_1","connection_1","contract_1","KeyType","KeyPairEd25519","KeyPair","key_pair_1","key_pair_ed25519_1","public_key_1","key_pair_base_1","KeyPairBase","fromRandom","curve","fromString","encodedKey","parts","split","tweetnacl_1","secretKey","keyPair","fromSecretKey","keyType","ED25519","newKeyPair","detached","verify","Assignable","str_to_key_type","toLowerCase","decodedPublicKey","box","publicKeyLength","key_type_to_str","BrowserLocalStorageKeyStore","keystores_1","KeyStore","localStorage","window","setKey","storageKeyForSecretKey","getKey","removeKey","removeItem","clear","storageKeys","startsWith","getNetworks","substring","getAccounts","push","i","browser_local_storage_key_store_1","InMemoryKeyStore","keystore_1","slice","join","MergeKeyStore","in_memory_key_store_1","merge_key_store_1","keyStores","writeKeyStoreIndex","network","node_fetch_1","http_1","https_1","httpAgent","Agent","keepAlive","httpsAgent","default_1","resource","init","agent","_parsedURL","URL","protocol","__createBinding","o","k","k2","desc","getOwnPropertyDescriptor","configurable","__setModuleDefault","v","__importStar","hasOwnProperty","http_errors_1","exponential_backoff_1","connectionInfoOrUrl","json","connectionInfo","url","g","fetch","headers","ok","text","Provider","json_rpc_provider_1","provider_1","fetch_json_1","__rest","s","t","getOwnPropertySymbols","propertyIsEnumerable","_nextId","sendJsonRpc","signedTransaction","bytes","encodeTransaction","sendTransactionAsync","txStatus","txStatusString","txStatusUint8Array","txStatusReceipts","block_id","otherParams","getErrorTypeFromErrorMessage","blockChanges","chunk","chunkId","blockReference","lightClientProof","nextLightClientBlock","accessKeyChanges","accountIdArray","changes_type","account_ids","singleAccessKeyChanges","accessKeyArray","accountChanges","contractStateChanges","keyPrefix","key_prefix_base64","contractCodeChanges","gasPrice","jsonrpc","parseRpcError","errorMessage","wrapfunction","fn","TypeError","wrapproperty","obj","prop","descriptor","module","depd","namespace","_file","_ignored","_namespace","_traced","_warned","function","property","setPrototypeOf","statuses","inherits","toIdentifier","codeClass","Number","String","charAt","nameFunc","func","toClassName","createError","err","msg","props","arguments","statusCode","HttpError","captureStackTrace","expose","createHttpErrorConstructor","isHttpError","createIsHttpErrorFunction","val","populateConstructorExports","codes","forEachCode","CodeError","createClientErrorConstructor","className","ClientError","createServerErrorConstructor","ServerError","ImATeapot","n","STATUS_CODES","populateStatusesMap","arr","redirect","empty","retry","js_sha256_1","signer_1","Signer","fromKeyPair","createKey","Uint8Array","sha256","array","in_memory_signer_1","actions_1","Action","AddKey","CreateAccount","DeleteAccount","DeleteKey","DeployContract","AccessKey","AccessKeyPermission","fullAccess","FullAccessPermission","FunctionCallPermission","SignedDelegate","Stake","Transfer","IAction","Enum","properties","createTransaction","schema_1","signerId","Transaction","DelegateAction","action_creators_1","__exportStar","DelegateActionPrefix","ACTIONABLE_MESSAGE_BASE","Math","pow","NEP","NEPPrefix","ActionableMessagePrefix","SCHEMA","SignedTransaction","decodeSignedTransaction","decodeTransaction","encodeSignedDelegate","encodeDelegateAction","delegate_1","prefix_1","signature_1","serialize","deserialize","encode","decode","Map","Signature","fields","field","create_transaction_1","signTransactionObject","argType","transactionHash","FinalExecutionStatusBasic","ExecutionStatusBasic","IdType","light_client_1","response_1","formatError","rpc_errors_1","mustache_1","format_1","error_messages_json_1","rpc_error_schema_json_1","mustacheHelpers","formatNear","render","formatNearAmount","ServerTransactionError","errorObj","errorClassName","walkSubtype","schema","errorData","typeName","errorTypeName","errorName","server_error","server_tx_error","errorType","NEAR_NOMINATION","NEAR_NOMINATION_EXP","ROUNDING_OFFSETS","BN10","offset","balance","fracDigits","balanceBN","roundingExp","iadd","wholeStr","fractionStr","padStart","trimTrailingZeroes","formatWithCommas","pattern","amt","cleanupAmount","trim","wholePart","fracPart","trimLeadingZeroes","padEnd","SUPPRESS_LOGGING","NEAR_NO_LOGS","flatLogs","receipts_outcome","acc","it","isFailure","receiptIds","receipt_ids","failure","txResult","diffEpochValidators","findSeatPrice","maxNumberOfSeats","minimumStakeRatio","protocolVersion","findSeatPriceForProtocolBefore49","numSeats","stakes","sort","b","cmp","num","stakesSum","lt","left","right","eq","mid","div","found","currentSum","gte","findSeatPriceForProtocolAfter49","currentValidators","nextValidators","validatorsMap","set","nextValidatorsSet","newValidators","has","removedValidators","changedValidators","current","WalletConnection","ConnectedWalletAccount","Near","near_1","wallet_account_1","accounts_1","nodeUrl","deps","accountCreator","PENDING_ACCESS_KEY_PREFIX","near","appKeyPrefix","Proxy","target","_near","authDataKey","authData","_networkId","_walletBaseUrl","walletUrl","contractName","_keyStore","_authData","allKeys","_authDataKey","isSignedIn","_completeSignInPromise","_completeSignInWithAccessKey","isSignedInAsync","getAccountId","requestSignIn","successUrl","failureUrl","currentUrl","location","href","newUrl","searchParams","contractAccount","append","requestSignTransactions","transactions","serialized","_moveKeyFromTempToPermanent","delete","history","replaceState","document","title","signOut","_connectedAccount","walletConnection","localKey","accessKeyForTransaction","setTimeout","accessKeyMatchesTransaction","allowedReceiverId","allowedMethods","accessKeys","walletKeys","assert_1","bytewordsLookUpTable","STYLES","getWord","addCRC","string","getCRCHex","encodeWithSeparator","word","separator","crcAppendedWord","w","encodeMinimal","byteword","BYTEWORD_LENGTH","getMinimalWord","_decode","wordLength","decodedString","partition","dim","charCodeAt","y","c1","c2","decodeWord","bodyChecksum","checksum","style","MINIMAL","STANDARD","URI","cborDecode","cborEncode","cbor","isBuffer","InvalidChecksumError","InvalidSequenceComponentError","InvalidTypeError","InvalidPathLengthError","InvalidSchemeError","FountainDecoderPart","fountainUtils_1","_indexes","_fragment","indexes","fragment","fromEncoderPart","encoderPart","chooseFragments","seqNum","seqLength","isSimple","FountainDecoder","expectedMessageLength","expectedChecksum","expectedFragmentLength","processedPartsCount","expectedPartIndexes","lastPartIndexes","queuedParts","receivedPartIndexes","mixedParts","simpleParts","validatePart","part","_","messageLength","reducePartByPart","arrayContains","newIndexes","setDifference","newFragment","bufferXOR","reduceMixedBy","newMixed","mixedPart","reducedPart","processSimplePart","fragmentIndex","arraysEqual","sortedParts","joinFragments","getCRC","processMixedPart","p2","processQueuedItem","shift","receivePart","isComplete","decoderPart","Boolean","isSuccess","resultMessage","resultError","expectedPartCount","getExpectedPartIndexes","getReceivedPartIndexes","getLastPartIndexes","estimatedPercentComplete","min","getProgress","fragments","FountainEncoderPart","cbor_1","_seqNum","_seqLength","_messageLength","_checksum","description","fromCBOR","cborPayload","FountainEncoder","maxFragmentLength","firstSeqNum","minFragmentLength","fragmentLength","findNominalFragmentLength","_fragments","partitionMessage","toUint32","fragmentsLength","isSinglePart","mix","alloc","nextPart","mixed","maxFragmentCount","ceil","fragmentCount","remaining","fill","shuffle","chooseDegree","xoshiro_1","alias_sampling_1","seqLenth","rng","degreeProbabilities","nextDouble","items","nextInt","splice","seed","intToBytes","degree","URDecoder","UREncoder","UR","ur_1","urEncoder_1","urDecoder_1","_cborPayload","_type","isURType","fromBuffer","buf","encoding","decodeCBOR","equals","ur2","fountainDecoder_1","bytewords_1","fountainEncoder_1","fountainDecoder","expected_type","decodeBody","components","lowercase","parseSequenceComponent","seq","resultUR","isError","_ur","ur","fountainEncoder","encodeWhole","encodeSinglePart","encodePart","encodeUri","scheme","pathComponents","encodeUR","hasPrefix","sha256Hash","sha_js_1","crc_1","update","digest","match","crc32","number","ArrayBuffer","DataView","setUint32","every","c","ar1","ar2","el","buffer","allocUnsafe","bignumber_js_1","jsbi_1","rotl","bitwiseXor","asUintN","leftShift","BigInt","signedRightShift","subtract","Xoshiro","roll","MAX_UINT64","low","high","floor","toNumber","nextByte","nextData","count","setS","bitwiseOr","multiply","isSafeInteger","bool","lengths","isBytes","outputLen","blockLen","exists","instance","checkFinished","destroyed","finished","output","out","assert","SHA2","_assert_js_1","utils_js_1","Hash","padOffset","isLE","pos","view","createView","len","toBytes","take","subarray","process","dataView","roundClean","digestInto","setBigUint64","byteOffset","_32n","_u32_max","wh","wl","h","l","oview","outLen","res","destroy","_cloneInto","to","add5L","add5H","add4H","add4L","add3H","add3L","rotlBL","rotlBH","rotlSL","rotlSH","rotr32L","rotr32H","rotrBL","rotrBH","rotrSL","rotrSH","shrSL","shrSH","toBig","fromBig","U32_MASK64","le","lst","Ah","Uint32Array","Al","_l","_h","Bh","Bl","Cl","Ch","Dl","Dh","El","Eh","u64","crypto","globalThis","hmac","HMAC","_key","iHash","pad","oHash","getPrototypeOf","pbkdf2Async","pbkdf2","hmac_js_1","pbkdf2Init","_password","_salt","_opts","opts","checkOpts","dkLen","asyncTick","password","salt","DK","PRF","PRFSalt","pbkdf2Output","prfW","u","ti","Ti","setInt32","ui","async","asyncLoop","ripemd160","RIPEMD160","_sha2_js_1","Rho","Id","idxL","idxR","j","shifts","shiftsL","idx","shiftsR","Kl","Kr","f","group","z","BUF","h0","h1","h2","h3","h4","getUint32","al","ar","bl","br","cl","cr","dl","dr","er","rGroup","hbl","hbr","rl","rr","sl","sr","tl","tr","wrapConstructor","sha224","Maj","SHA256_K","IV","SHA256_W","SHA256","A","B","C","D","E","F","G","H","W15","W2","s0","rotr","s1","T1","T2","SHA224","sha384","sha512_256","sha512_224","sha512","SHA512","_u64_js_1","SHA512_Kh","SHA512_Kl","SHA512_W_H","SHA512_W_L","Fh","Fl","Gh","Gl","Hh","Hl","W15h","W15l","s0h","s0l","W2h","W2l","s1h","s1l","SUMl","SUMh","sigma1h","sigma1l","CHIh","CHIl","T1ll","T1h","T1l","sigma0h","sigma0l","MAJh","MAJl","All","SHA512_224","SHA512_256","SHA384","randomBytes","wrapXOFConstructorWithOpts","wrapConstructorWithOpts","concatBytes","utf8ToBytes","nextTick","hexToBytes","bytesToHex","u32","u8","hexes","hex","asciis","_0","_9","_A","_F","_f","asciiToBase16","char","hl","ai","hi","n1","n2","str","TextEncoder","iters","tick","cb","ts","Date","now","diff","arrays","sum","clone","toStr","defaults","hashCons","hashC","tmp","bytesLength","getRandomValues","utils","schnorr","signSync","getSharedSecret","recoverPublicKey","Point","CURVE","nodeCrypto","_0n","_1n","_2n","_3n","_8n","freeze","Gx","Gy","beta","divNearest","endo","splitScalar","a1","b1","a2","b2","POW_2_128","k1","k1neg","k2neg","fieldLen","groupLen","compressedLen","uncompressedLen","weierstrass","x2","x3","USE_ENDOMORPHISM","ShaError","assertJacPoint","other","JacobianPoint","fromAffine","ZERO","toAffineBatch","points","toInv","invertBatch","nums","scratch","inverted","invert","reduceRight","toAffine","normalizeZ","X1","Y1","Z1","X2","Y2","Z2","Z1Z1","Z2Z2","U1","U2","S1","S2","negate","double","x1b","X3","Y3","Z3","r","HH","HHH","V","multiplyUnsafe","scalar","P0","normalizeScalar","d","k1p","k2p","precomputeWindow","W","windows","base","wNAF","affinePoint","BASE","_WINDOW_SIZE","precomputes","pointPrecomputes","windowSize","mask","maxNumber","shiftBy","wbits","offset1","offset2","abs","cond1","cond2","constTimeNegate","point","fake","f1p","f2p","invZ","is0","iz1","iz2","iz3","ax","ay","zz","condition","neg","WeakMap","_setWindowSize","hasEvenY","fromCompressedHex","isShort","bytesToNumber","isValidFieldElement","sqrtMod","_6n","_11n","_22n","_23n","_44n","_88n","b3","b6","pow2","b9","b11","b22","b44","b88","b176","b220","b223","t1","t2","rt","isYOdd","assertValidity","fromUncompressedHex","fromHex","ensureBytes","fromPrivateKey","privateKey","normalizePrivateKey","fromSignature","msgHash","recovery","normalizeSignature","truncateHash","radj","rinv","u1","u2","R","numTo32bStr","Q","multiplyAndAddUnsafe","toRawBytes","isCompressed","toHex","toHexX","toRawX","aP","bQ","sliceDER","parseDERInt","fromCompact","hexToNumber","fromDER","parseDERSignature","sBytes","rBytesLeft","isWithinCurveOrder","hasHighS","HALF","normalizeS","toDERRawBytes","toDERHex","sHex","numberToHexUnpadded","rHex","sHexL","rHexL","sLen","rLen","toCompactRawBytes","toCompactHex","uint8a","POW_2_256","numTo32b","hexByte","byte","power","modulo","q","truncateOnly","bits2int_2","delta","_sha256Sync","_hmacSha256Sync","HmacDrbg","hashLen","qByteLen","counter","hmacSha256","hmacSync","checkSync","incr","reseed","reseedSync","generate","generateSync","kmdToSig","kBytes","lowS","kinv","sig","normalizePublicKey","isProbPub","bits2int","bits2octets","z1","z2","int2octets","initSigArgs","extraEntropy","seedArgs","finalizeSig","recSig","der","recovered","canonical","hashed","privateA","publicB","privKey","drbg","vopts","strict","schnorrChallengeFinalize","ch","sinv","SchnorrSignature","InternalSchnorrSignature","auxRand","getScalar","px","rand","priv","initNonce","t0h","finalizeNonce","k0h","k0","rx","calc","tag","taggedHash","TAGS","aux","challenge","schnorrVerify","calcSync","taggedHashSync","schnorrVerifySync","initSchnorrVerify","raw","finalizeSchnorrVerify","schnorrGetPublicKey","schnorrSign","schnorrSignSync","verifySync","node","web","self","TAGGED_HASH_PREFIXES","isValidPrivateKey","_bigintTo32Bytes","_normalizePrivateKey","hashToPrivateKey","minLen","randomPrivateKey","precompute","cached","messages","subtle","createHash","ckey","importKey","createHmac","sha256Sync","hmacSha256Sync","tagP","tagH","_JacobianPoint","defineProperties","sleep","millis","startWaitTime","retryNumber","waitBackoff","getResult","waitTime","plural","ms","msAbs","isPlural","round","exec","parseFloat","isFinite","long","fmtLong","fmtShort","objectToString","isArrayPolyfill","object","isFunction","typeStr","escapeRegExp","hasProperty","propName","primitiveHasOwnProperty","primitive","regExpTest","testRegExp","re","nonSpaceRe","isWhitespace","entityMap","escapeHtml","fromEntityMap","whiteRe","spaceRe","equalsRe","curlyRe","tagRe","parseTemplate","template","tags","openingTagRe","closingTagRe","closingCurlyRe","lineHasNonSpace","sections","tokens","spaces","hasTag","nonSpace","indentation","tagIndex","stripSpace","pop","compileTags","tagsToCompile","mustache","start","chr","token","openSection","scanner","Scanner","eos","scanUntil","valueLength","scan","nestTokens","squashTokens","lastToken","squashedTokens","numTokens","nestedTokens","collector","tail","Context","parentContext","cache","parent","Writer","templateCache","_cache","search","lookup","intermediateValue","names","lookupHit","clearCache","cacheKey","isCacheEnabled","partials","getConfigTags","renderTokens","originalTemplate","symbol","renderSection","renderInverted","renderPartial","unescapedValue","escapedValue","rawValue","subRender","indentPartial","partial","filteredIndentation","partialByNl","indentedValue","escape","getConfigEscape","version","defaultWriter","factory","natsort","ore","sre","tre","ure","hre","nre","dre","toLocaleLowerCase","GREATER","SMALLER","normalize","insensitive","tokenize","aa","bb","aArr","bArr","aHex","bHex","av","bv","af","bf","localeCompare","comp","AbiFunctionModifier","SCHEMA_VERSION","connect","multisig","providers","keystores_browser_1","transactions_2","rpc_errors","format","enums","key_pair","BinaryReader","BinaryWriter","BorshError","base_decode","base_encode","ensureCallable","byObserver","Observer","queue","currentQueue","createTextNode","callback","observe","characterData","queueMicrotask","MutationObserver","WebKitMutationObserver","setImmediate","globalObject","getGlobal","bind","Headers","Request","Response","normalizeColor","color","matchers","hex6","rgb","parse255","rgba","parse1","hex3","hex8","hex4","hsl","hslToRgb","parse360","parsePercentage","hsla","hue2rgb","NUMBER","PERCENTAGE","toArray","arrayLike","int","transparent","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","burntsienna","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","colorInt","ctor","superCtor","super_","TempCtor","BN","endian","negative","words","_init","wordSize","parseHex","end","parseBase","_initNumber","_initArray","_parseHex","_parseBase","strip","off","limbLen","limbPow","imuln","_iaddn","copy","dest","_expand","size","_normSign","inspect","zeros","groupSizes","groupBases","smallMulTo","lo","carry","ncarry","rword","maxJ","padding","groupSize","groupBase","modn","idivn","ret","toJSON","toBuffer","toArrayLike","ArrayType","reqLength","littleEndian","andln","iushrn","clz32","_countBits","_zeroBits","bitLength","zeroBits","toTwos","width","inotn","iaddn","fromTwos","testn","notn","ineg","isNeg","iuor","ior","or","uor","iuand","iand","and","uand","iuxor","ixor","xor","uxor","bytesNeeded","bitsLeft","setn","bit","wbit","isub","comb10MulTo","a0","al0","ah0","al1","ah1","al2","ah2","a3","al3","ah3","a4","al4","ah4","a5","al5","ah5","a6","al6","ah6","a7","al7","ah7","a8","al8","ah8","a9","al9","ah9","b0","bl0","bh0","bl1","bh1","bl2","bh2","bl3","bh3","b4","bl4","bh4","b5","bl5","bh5","bl6","bh6","b7","bl7","bh7","b8","bl8","bh8","bl9","bh9","w0","imul","w1","w2","w3","w4","w5","w6","w7","w8","w9","w10","w11","w12","w13","w14","w15","w16","w17","w18","jumboMulTo","FFTM","mulp","mulTo","bigMulTo","hncarry","makeRBT","N","revBin","rb","permute","rbt","rws","iws","rtws","itws","transform","rtwdf","cos","PI","itwdf","sin","rtwdf_","itwdf_","ie","ro","io","guessLen13b","odd","conjugate","normalize13b","ws","convert13b","stub","ph","rwst","iwst","nrws","nrwst","niwst","rmws","mulf","muln","sqr","isqr","toBitArray","iushln","bits","carryMask","newCarry","ishln","hint","extended","maskedWords","ishrn","shln","ushln","shrn","ushrn","imaskn","maskn","isubn","addn","subn","iabs","_ishlnsubmul","_wordDiv","mode","bhi","qj","divmod","positive","divn","umod","divRound","dm","half","r2","egcd","isEven","yp","xp","im","isOdd","jm","gcd","_invmp","x1","cmpn","invm","bincn","ucmp","gtn","gt","gten","ltn","lten","lte","eqn","Red","toRed","ctx","convertTo","_forceRed","fromRed","convertFrom","forceRed","redAdd","redIAdd","redSub","redISub","redShl","shl","redMul","_verify2","redIMul","redSqr","_verify1","redISqr","redSqrt","sqrt","redInvm","redNeg","redPow","primes","k256","p224","p192","p25519","MPrime","_tmp","K256","P224","P192","P25519","prime","_prime","Mont","imod","minv","ireduce","rlen","imulK","prev","mod3","one","nOne","lpow","inv","wnd","currentLen","mont","stripHexPrefix","numberToBN","multiplier","formattedString","isHexPrefixed","stringArg","dividedToIntegerBy","ALPHABET","BASE_MAP","xc","LEADER","FACTOR","iFACTOR","decodeUnsafe","source","psz","zeroes","b256","it3","it4","vch","isView","pbegin","pend","b58","it1","it2","repeat","toBase58","fromBase58","fromBase64","base64String","atob","CHUNK_SIZE","toBase64","btoa","fromCharCode","BcsReader","bytePosition","read8","getUint8","read16","getUint16","read32","read64","value1","read128","read256","readBytes","readULEB","uleb","readVec","BcsWriter","initialSize","maxSize","Infinity","allocateSize","ensureSizeOrGrow","requiredSize","nextSize","nextBuffer","write8","setUint8","write16","setUint16","write32","write64","toLittleEndian","write128","write256","writeULEB","writeVec","vector","Symbol","iterator","bigint","_write","_serialize","_schema","_bytes","__typeError","__accessCheck","member","__privateGet","getter","__privateAdd","WeakSet","__privateSet","setter","BcsType","_BcsType","read","serializedSize","write","options2","writer","SerializedBcs","reader","b64","SERIALIZED_BCS_BRAND","for","isSerializedBcs","fixedSizeBcsType","uIntBcsType","readMethod","writeMethod","maxValue","bigUIntBcsType","dynamicSizeBcsType","stringLikeBcsType","fromBytes","lazyBcsType","lazyType","getType","bcs","u16","u128","u256","uleb128","TextDecoder","fixedArray","option","None","Some","$kind","tuple","types","struct","canonicalOrder","entries","enumEntry","name2","name3","hasOwn","optionName","optionType","variant","valueType","lazy","hexStr","normalized","padded","intArr","ulebEncode","ulebDecode","encodeStr","splitGenericParameters","genericSeparators","tok","nestedAngleBrackets","Address","address","ObjectDigest","SuiObjectRef","objectId","SharedObjectRef","initialSharedVersion","mutable","ObjectArg","ImmOrOwnedObject","SharedObject","Receiving","CallArg","Pure","InnerTypeTag","StructTag","TypeTag","typeTag","parseFromStr","tagToString","Argument","GasCoin","Input","Result","NestedResult","ProgrammableMoveCall","package","typeArguments","Command","MoveCall","TransferObjects","objects","SplitCoins","coin","amounts","MergeCoins","destination","sources","Publish","modules","dependencies","MakeMoveVec","optionEnum","elements","Upgrade","ticket","ProgrammableTransaction","inputs","commands","TransactionKind","ChangeEpoch","Genesis","ConsensusCommitPrologue","TransactionExpiration","Epoch","unsafe_u64","typeParams","GasData","payment","owner","price","budget","TransactionDataV1","sender","gasData","expiration","TransactionData","V1","IntentScope","TransactionEffects","CheckpointSummary","PersonalMessage","IntentVersion","V0","AppId","Sui","Intent","scope","appId","IntentMessage","T","intent","CompressedSignature","Secp256k1","Secp256r1","ZkLogin","MultiSigPkMap","pubKey","weight","MultiSigPublicKey","pk_map","threshold","MultiSig","sigs","bitmap","multisig_pk","SenderSignedTransaction","intentMessage","txSignatures","SenderSignedData","PackageUpgradeError","UnableToFetchPackage","packageId","NotAPackage","IncompatibleUpgrade","DigestDoesNotMatch","UnknownUpgradePolicy","policy","PackageIDDoesNotMatch","ticketId","ModuleId","MoveLocation","instruction","functionName","CommandArgumentError","TypeMismatch","InvalidBCSBytes","InvalidUsageOfPureArg","InvalidArgumentToPrivateEntryFunction","IndexOutOfBounds","SecondaryIndexOutOfBounds","resultIdx","secondaryIdx","InvalidResultArity","InvalidGasCoinUsage","InvalidValueUsage","InvalidObjectByValue","InvalidObjectByMutRef","SharedObjectOperationNotAllowed","TypeArgumentError","TypeNotFound","ConstraintNotSatisfied","ExecutionFailureStatus","InsufficientGas","InvalidGasObject","InvariantViolation","FeatureNotYetSupported","MoveObjectTooBig","objectSize","maxObjectSize","MovePackageTooBig","CircularObjectOwnership","InsufficientCoinBalance","CoinBalanceOverflow","PublishErrorNonZeroAddress","SuiMoveVerificationError","MovePrimitiveRuntimeError","MoveAbort","VMVerificationOrDeserializationError","VMInvariantViolation","FunctionNotFound","ArityMismatch","TypeArityMismatch","NonEntryFunctionInvoked","argIdx","argumentIdx","UnusedValueWithoutDrop","InvalidPublicFunctionReturnType","InvalidTransferObject","EffectsTooLarge","currentSize","PublishUpgradeMissingDependency","PublishUpgradeDependencyDowngrade","upgradeError","WrittenObjectsTooLarge","CertificateDenied","SuiMoveVerificationTimedout","InputObjectDeleted","ExecutionCancelledDueToSharedObjectCongestion","congestedObjects","AddressDeniedForCoin","coinType","CoinTypeGlobalPause","ExecutionCancelledDueToRandomnessUnavailable","ExecutionStatus","Success","Failed","command","GasCostSummary","computationCost","storageCost","storageRebate","nonRefundableStorageFee","Owner","AddressOwner","ObjectOwner","Shared","Immutable","TransactionEffectsV1","executedEpoch","gasUsed","modifiedAtVersions","sharedObjects","transactionDigest","created","mutated","unwrapped","deleted","unwrappedThenDeleted","wrapped","gasObject","eventsDigest","VersionDigest","ObjectIn","NotExist","Exist","ObjectOut","ObjectWrite","PackageWrite","IDOperation","Created","Deleted","EffectsObjectChange","inputState","outputState","idOperation","UnchangedSharedKind","ReadOnlyRoot","MutateDeleted","ReadDeleted","Cancelled","PerEpochConfig","TransactionEffectsV2","gasObjectIndex","lamportVersion","changedObjects","unchangedSharedObjects","auxDataDigest","V2","suiBcs","U8","U16","U32","U64","U128","U256","ULEB128","Bool","VECTOR_REGEX","STRUCT_REGEX","TypeTagSerializer","normalizeAddress","vectorMatch","structMatch","parseStructTypeArgs","store","store2","store3","store4","getGlobalConfig","config2","lang","abortEarly","abortPipeEarly","_stringify","_addIssue","label","dataset","expected","expects","received","issue","requirement","issues","isSchema","getSpecificMessage","reference","getSchemaMessage","getGlobalMessage","typed","_isValidObjectKey","object2","ValiError","check","_run","integer","isInteger","operation","getDefault","is","value2","itemDataset","pathItem","origin","unshift","literal","literal_","nullable","nullish","valueDataset","optional","record","entryKey","entryValue","keyDataset","_subIssues","datasets","union","validDataset","typedDatasets","untypedDatasets","optionDataset","unknown","pipe","pipe2","safeEnum","unionOptions","SuiAddress","ObjectID","BCSBytes","JsonU64","ObjectRef","OpenMoveTypeSignatureBody","datatype","typeParameters","typeParameter","OpenMoveTypeSignature","ref","_argumentTypes","$Intent","UnresolvedPure","UnresolvedObject","NormalizedCallArg","Commands","pkg","dep","fromEntries","ImmOrOwned","TransactionInput","StringEncodedBigint","GasConfig","TransactionArgument","resultIndex","MoveCallTransaction","TransferObjectsTransaction","SplitCoinsTransaction","MergeCoinsTransaction","MakeMoveVecTransaction","TransactionType","gasConfig","serializeV1TransactionData","transactionData","convertTransactionArgument","parseV1TransactionArgument","enumUnion","SerializedTransactionDataV2","Inputs","ReceivingRef","OBJECT_MODULE_NAME","ID_STRUCT_NAME","STD_ASCII_MODULE_NAME","STD_ASCII_STRUCT_NAME","STD_UTF8_MODULE_NAME","STD_UTF8_STRUCT_NAME","STD_OPTION_MODULE_NAME","STD_OPTION_STRUCT_NAME","getPureBcsSchema","typeSignature","normalizedTypeToMoveTypeSignatureBody","Vector","Struct","TypeParameter","MAX_OBJECTS_PER_FETCH","GAS_SAFE_OVERHEAD","MAX_GAS","resolveTransactionData","normalizeInputs","moveCallsToResolve","moveFunctionsToResolve","normalizeRawArgument","moveFunctionParameters","client","getClient","moduleId","functionId","def","getNormalizedMoveFunction","parameters","param","normalizedTypeToMoveTypeSignature","Reference","MutableReference","moveCall","isTxContext","at","fnName","inputValue","unresolvedObject","resolveObjectReferences","objectsToResolve","dedupedIds","objectChunks","resolved","chunk2","multiGetObjects","ids","showOwner","flat","responsesById","invalidObjects","initial_shared_version","objectsById","updated","isUsedAsMutable","isUsedAsReceiving","onlyTransactionKind","setGasPrice","getReferenceGasPrice","setGasBudget","dryRunResult","dryRunTransactionBlock","transactionBlock","build","overrides","effects","safeOverhead","baseComputationCostWithOverhead","gasBudget","setGasPayment","paymentCoins","getCoins","coinObjectId","usedAsMutable","getInputUses","tx","argIndex","usedAsReceiving","isReceivingType","createPure","makePure","pure","typeOrSerializedValue","schemaFromName","generic","inner","prepareSuiAddress","TransactionDataBuilder","fromKindBytes","programmableTx","restore","rawData","transactionDataFromV1","getDigestFromBytes","hashTypedData","typeTagBytes","dataWithTag","blake2b","maxSizeBytes","addInput","mapArguments","replaceCommand","replacement","sizeDiff","getDigest","snapshot","getIdFromCallArg","_serializationPlugins","_buildPlugins","_intentResolvers","_data","_Transaction_instances","normalizeTransactionArgument_fn","resolveArgument_fn","prepareBuild_fn","runPlugins_fn","__privateMethod","TRANSACTION_BRAND","isTransaction","modulePluginRegistry","buildPlugins","serializationPlugins","TRANSACTION_REGISTRY_KEY","getGlobalPluginRegistry","plugins","createNext","plugin","calledNext","nextResolved","_Transaction","createObjectMethods","makeObject","system","clock","random","denyList","inserted","globalPlugins","fromKind","newTransaction","getData","registerGlobalSerializationPlugin","stepOrStep","unregisterGlobalSerializationPlugin","registerGlobalBuildPlugin","unregisterGlobalBuildPlugin","addSerializationPlugin","addBuildPlugin","addIntentResolver","resolver","setSender","setSenderIfNotSet","setExpiration","setGasBudgetIfNotSet","setGasOwner","payments","blockData","objectRef","receivingRef","sharedObjectRef","createTransactionResult","nestedResults","nestedResultFor","Reflect","splitCoins","mergeCoins","src","publish","upgrade","transferObjects","makeMoveVec","prepareForSerialization","buildOptions","intents","steps","supportedIntents","MOVE_STDLIB_ADDRESS","SUI_FRAMEWORK_ADDRESS","SUI_TYPE_ARG","TX_DIGEST_LENGTH","isValidTransactionDigest","SUI_ADDRESS_LENGTH","isValidSuiAddress","isHex","getHexByteLength","isValidSuiObjectId","normalizeSuiAddress","forceAdd0x","normalizeSuiObjectId","SIGMA","BLAKE","keyLen","saltLen","persLen","personalization","buffer32","compress","dataOffset","data32","pos32","out32","B2B_IV","BBUF","G1b","Xl","Xh","ll","G2b","BLAKE2b","v0l","v0h","v1l","v1h","v2l","v2h","v3l","v3h","v4l","v4h","v5l","v5h","v6l","v6h","v7l","v7h","keyLength","pers","isLast","byteSwap","byteSwapIfBE","byteSwap32","u8a","reverse","numberToBytesBE","numberToBytesLE","expectedLength","bitMask","u8n","u8fr","createHmacDrbg","hmacFn","reset","gen","pred","validatorFns","boolean","stringOrUint8Array","Fp","isValid","validateObject","optValidators","checkField","fieldName","isOptional","checkVal","_4n","_5n","FpSqrt","p1div4","sqrt3mod4","root","eql","sqrt5mod8","nv","ONE","tonelliShanks","legendreC","S","Z","tonelliFast","Q1div2","tonelliSlow","ge","FIELD_FIELDS","nLength","nBitLength","_nBitLength","nByteLength","getFieldBytesLength","fieldOrder","getMinHashLength","validateBasic","validateField","ORDER","MASK","BYTES","BITS","bytesToNumberBE","b2n","h2b","DER","Err","DERErr","_parseInt","toSig","hexFromSig","rhl","weierstrassPoints","validatePointOpts","allowedPrivateKeyLengths","wrapPrivateKey","isTorsionFree","clearCofactor","allowInfinityPoint","_c","_isCompressed","weierstrassEquation","assertGE","normPrivateKeyToScalar","assertPrjPoint","py","pz","t0","t3","t4","t5","wnaf","wNAFCached","I","unsafeLadder","iz","cofactor","_bits","elm","precomputesMap","ProjectivePoint","curveDef","validateOpts","bits2int_modN","modN","CURVE_ORDER","invN","cat","head","y2","numToNByteStr","isBiggerThanHalfOrder","slcNum","addRecoveryBit","rec","ir","mapHashToField","reduced","ORDER_MASK","prepSig","defaultSigOpts","prehash","ent","h1int","k2sig","ik","normS","defaultVerOpts","sg","_sig","derError","getHash","msgs","secp256k1P","secp256k1N","Field","bitLen","redef","sqrtP","lhs","rhs","FpPow","sqrN","addN","subN","mulN","FpInvertBatch","lastMultiplied","cmov","secp256k1","createCurve","defHash","fe","pointToBytes","modP","GmulAdd","schnorrGetExtPubKey","d_","lift_x","xx","k_","pub","BLAKE2","G1","G2","Encoder","Decoder","codePointAt","prefixCodePoint","decoder","ComposedDecoder","decoders","RangeError","Codec","encoder","baseX","alphabet","rfc4648","bitsPerChar","written","SyntaxError","base32","base32upper","base32pad","base32padupper","base32hex","base32hexupper","base32hexpad","base32hexpadupper","base32z","base58btc","base58flickr","identity","base2","base8","base10","base16","base16upper","base36","base36upper","base64","base64pad","base64url","base64urlpad","alphabetBytesToChars","alphabetCharsToBytes","base256emoji","byts","byt","Hasher","sha","textEncoder","textDecoder","bases","base58","ii","coerce","CID","multihash","asCID","_baseCache","hidden","readonly","toV0","DAG_PB_CODE","SHA_256_CODE","createV0","toV1","createV1","toStringV0","toStringV1","toStringTag","isCID","IS_CID_DEPRECATION","cidSymbol","toBaseEncodedString","codec","multibaseName","encodeCID","cid","remainder","decodeFirst","specs","inspectBytes","prefixSize","multihashSize","multihashBytes","digestBytes","digestSize","Digest","multihashCode","initialBytes","parseCIDtoBytes","codeOffset","hashOffset","range","sizeOffset","digestOffset","encode_1","oldOffset","INT","MSB","MSBALL","REST$1","MSB$1","N1","N2","N3","N4","N5","N6","N7","N8","N9","encodingLength","encodeTo","nanoid"],"sourceRoot":""}